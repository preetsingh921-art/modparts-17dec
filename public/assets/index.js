var DS=Object.defineProperty,PS=Object.defineProperties;var FS=Object.getOwnPropertyDescriptors;var W1=Object.getOwnPropertySymbols;var B4=Object.prototype.hasOwnProperty,M4=Object.prototype.propertyIsEnumerable;var id=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),BS=t=>{throw TypeError(t)};var F4=(t,e,r)=>e in t?DS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kt=(t,e)=>{for(var r in e||(e={}))B4.call(e,r)&&F4(t,r,e[r]);if(W1)for(var r of W1(e))M4.call(e,r)&&F4(t,r,e[r]);return t},er=(t,e)=>PS(t,FS(e));var fu=(t,e)=>{var r={};for(var n in t)B4.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&W1)for(var n of W1(t))e.indexOf(n)<0&&M4.call(t,n)&&(r[n]=t[n]);return r};var we=(t,e,r)=>new Promise((n,i)=>{var s=g=>{try{f(r.next(g))}catch(u){i(u)}},c=g=>{try{f(r.throw(g))}catch(u){i(u)}},f=g=>g.done?n(g.value):Promise.resolve(g.value).then(s,c);f((r=r.apply(t,e)).next())}),r0=function(t,e){this[0]=t,this[1]=e},pp=(t,e,r)=>{var n=(c,f,g,u)=>{try{var m=r[c](f),v=(f=m.value)instanceof r0,b=m.done;Promise.resolve(v?f[0]:f).then(_=>v?n(c==="return"?c:"next",f[1]?{done:_.done,value:_.value}:_,g,u):g({value:_,done:b})).catch(_=>n("throw",_,g,u))}catch(_){u(_)}},i=c=>s[c]=f=>new Promise((g,u)=>n(c,f,g,u)),s={};return r=r.apply(t,e),s[id("asyncIterator")]=()=>s,i("next"),i("throw"),i("return"),s},xp=t=>{var e=t[id("asyncIterator")],r=!1,n,i={};return e==null?(e=t[id("iterator")](),n=s=>i[s]=c=>e[s](c)):(e=e.call(t),n=s=>i[s]=c=>{if(r){if(r=!1,s==="throw")throw c;return c}return r=!0,{done:!1,value:new r0(new Promise(f=>{var g=e[s](c);g instanceof Object||BS("Object expected"),f(g)}),1)}}),i[id("iterator")]=()=>i,n("next"),"throw"in e?n("throw"):i.throw=s=>{throw s},"return"in e&&n("return"),i},U4=(t,e,r)=>(e=t[id("asyncIterator")])?e.call(t):(t=t[id("iterator")](),e={},r=(n,i)=>(i=t[n])&&(e[n]=s=>new Promise((c,f,g)=>(s=i.call(t,s),g=s.done,Promise.resolve(s.value).then(u=>c({value:u,done:g}),f)))),r("next"),r("return"),e);function MS(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var V1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function I2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function US(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var vp={exports:{}},Hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4;function zS(){if(z4)return Hh;z4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var c=null;if(s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),"key"in i){s={};for(var f in i)f!=="key"&&(s[f]=i[f])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:c,ref:i!==void 0?i:null,props:s}}return Hh.Fragment=e,Hh.jsx=r,Hh.jsxs=r,Hh}var H4;function HS(){return H4||(H4=1,vp.exports=zS()),vp.exports}var a=HS(),yp={exports:{}},ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function qS(){if(q4)return ln;q4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(se){return se===null||typeof se!="object"?null:(se=v&&se[v]||se["@@iterator"],typeof se=="function"?se:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function j(se,Le,M){this.props=se,this.context=Le,this.refs=A,this.updater=M||_}j.prototype.isReactComponent={},j.prototype.setState=function(se,Le){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,Le,"setState")},j.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function L(){}L.prototype=j.prototype;function I(se,Le,M){this.props=se,this.context=Le,this.refs=A,this.updater=M||_}var P=I.prototype=new L;P.constructor=I,C(P,j.prototype),P.isPureReactComponent=!0;var X=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function G(se,Le,M,q,J,re){return M=re.ref,{$$typeof:t,type:se,key:Le,ref:M!==void 0?M:null,props:re}}function V(se,Le){return G(se.type,Le,void 0,void 0,void 0,se.props)}function z(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function ie(se){var Le={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(M){return Le[M]})}var W=/\/+/g;function H(se,Le){return typeof se=="object"&&se!==null&&se.key!=null?ie(""+se.key):Le.toString(36)}function ne(){}function ve(se){switch(se.status){case"fulfilled":return se.value;case"rejected":throw se.reason;default:switch(typeof se.status=="string"?se.then(ne,ne):(se.status="pending",se.then(function(Le){se.status==="pending"&&(se.status="fulfilled",se.value=Le)},function(Le){se.status==="pending"&&(se.status="rejected",se.reason=Le)})),se.status){case"fulfilled":return se.value;case"rejected":throw se.reason}}throw se}function me(se,Le,M,q,J){var re=typeof se;(re==="undefined"||re==="boolean")&&(se=null);var le=!1;if(se===null)le=!0;else switch(re){case"bigint":case"string":case"number":le=!0;break;case"object":switch(se.$$typeof){case t:case e:le=!0;break;case m:return le=se._init,me(le(se._payload),Le,M,q,J)}}if(le)return J=J(se),le=q===""?"."+H(se,0):q,X(J)?(M="",le!=null&&(M=le.replace(W,"$&/")+"/"),me(J,Le,M,"",function(Me){return Me})):J!=null&&(z(J)&&(J=V(J,M+(J.key==null||se&&se.key===J.key?"":(""+J.key).replace(W,"$&/")+"/")+le)),Le.push(J)),1;le=0;var Ue=q===""?".":q+":";if(X(se))for(var Te=0;Te<se.length;Te++)q=se[Te],re=Ue+H(q,Te),le+=me(q,Le,M,re,J);else if(Te=b(se),typeof Te=="function")for(se=Te.call(se),Te=0;!(q=se.next()).done;)q=q.value,re=Ue+H(q,Te++),le+=me(q,Le,M,re,J);else if(re==="object"){if(typeof se.then=="function")return me(ve(se),Le,M,q,J);throw Le=String(se),Error("Objects are not valid as a React child (found: "+(Le==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":Le)+"). If you meant to render a collection of children, use an array instead.")}return le}function he(se,Le,M){if(se==null)return se;var q=[],J=0;return me(se,q,"","",function(re){return Le.call(M,re,J++)}),q}function be(se){if(se._status===-1){var Le=se._result;Le=Le(),Le.then(function(M){(se._status===0||se._status===-1)&&(se._status=1,se._result=M)},function(M){(se._status===0||se._status===-1)&&(se._status=2,se._result=M)}),se._status===-1&&(se._status=0,se._result=Le)}if(se._status===1)return se._result.default;throw se._result}var Pe=typeof reportError=="function"?reportError:function(se){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof se=="object"&&se!==null&&typeof se.message=="string"?String(se.message):String(se),error:se});if(!window.dispatchEvent(Le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",se);return}console.error(se)};function Ae(){}return ln.Children={map:he,forEach:function(se,Le,M){he(se,function(){Le.apply(this,arguments)},M)},count:function(se){var Le=0;return he(se,function(){Le++}),Le},toArray:function(se){return he(se,function(Le){return Le})||[]},only:function(se){if(!z(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},ln.Component=j,ln.Fragment=r,ln.Profiler=i,ln.PureComponent=I,ln.StrictMode=n,ln.Suspense=g,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ln.__COMPILER_RUNTIME={__proto__:null,c:function(se){return Y.H.useMemoCache(se)}},ln.cache=function(se){return function(){return se.apply(null,arguments)}},ln.cloneElement=function(se,Le,M){if(se==null)throw Error("The argument must be a React element, but you passed "+se+".");var q=C({},se.props),J=se.key,re=void 0;if(Le!=null)for(le in Le.ref!==void 0&&(re=void 0),Le.key!==void 0&&(J=""+Le.key),Le)!K.call(Le,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&Le.ref===void 0||(q[le]=Le[le]);var le=arguments.length-2;if(le===1)q.children=M;else if(1<le){for(var Ue=Array(le),Te=0;Te<le;Te++)Ue[Te]=arguments[Te+2];q.children=Ue}return G(se.type,J,void 0,void 0,re,q)},ln.createContext=function(se){return se={$$typeof:c,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null},se.Provider=se,se.Consumer={$$typeof:s,_context:se},se},ln.createElement=function(se,Le,M){var q,J={},re=null;if(Le!=null)for(q in Le.key!==void 0&&(re=""+Le.key),Le)K.call(Le,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(J[q]=Le[q]);var le=arguments.length-2;if(le===1)J.children=M;else if(1<le){for(var Ue=Array(le),Te=0;Te<le;Te++)Ue[Te]=arguments[Te+2];J.children=Ue}if(se&&se.defaultProps)for(q in le=se.defaultProps,le)J[q]===void 0&&(J[q]=le[q]);return G(se,re,void 0,void 0,null,J)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(se){return{$$typeof:f,render:se}},ln.isValidElement=z,ln.lazy=function(se){return{$$typeof:m,_payload:{_status:-1,_result:se},_init:be}},ln.memo=function(se,Le){return{$$typeof:u,type:se,compare:Le===void 0?null:Le}},ln.startTransition=function(se){var Le=Y.T,M={};Y.T=M;try{var q=se(),J=Y.S;J!==null&&J(M,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Ae,Pe)}catch(re){Pe(re)}finally{Y.T=Le}},ln.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ln.use=function(se){return Y.H.use(se)},ln.useActionState=function(se,Le,M){return Y.H.useActionState(se,Le,M)},ln.useCallback=function(se,Le){return Y.H.useCallback(se,Le)},ln.useContext=function(se){return Y.H.useContext(se)},ln.useDebugValue=function(){},ln.useDeferredValue=function(se,Le){return Y.H.useDeferredValue(se,Le)},ln.useEffect=function(se,Le,M){var q=Y.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(se,Le)},ln.useId=function(){return Y.H.useId()},ln.useImperativeHandle=function(se,Le,M){return Y.H.useImperativeHandle(se,Le,M)},ln.useInsertionEffect=function(se,Le){return Y.H.useInsertionEffect(se,Le)},ln.useLayoutEffect=function(se,Le){return Y.H.useLayoutEffect(se,Le)},ln.useMemo=function(se,Le){return Y.H.useMemo(se,Le)},ln.useOptimistic=function(se,Le){return Y.H.useOptimistic(se,Le)},ln.useReducer=function(se,Le,M){return Y.H.useReducer(se,Le,M)},ln.useRef=function(se){return Y.H.useRef(se)},ln.useState=function(se){return Y.H.useState(se)},ln.useSyncExternalStore=function(se,Le,M){return Y.H.useSyncExternalStore(se,Le,M)},ln.useTransition=function(){return Y.H.useTransition()},ln.version="19.1.0",ln}var W4;function Vx(){return W4||(W4=1,yp.exports=qS()),yp.exports}var ee=Vx(),wp={exports:{}},qh={},bp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4;function WS(){return V4||(V4=1,function(t){function e(he,be){var Pe=he.length;he.push(be);e:for(;0<Pe;){var Ae=Pe-1>>>1,se=he[Ae];if(0<i(se,be))he[Ae]=be,he[Pe]=se,Pe=Ae;else break e}}function r(he){return he.length===0?null:he[0]}function n(he){if(he.length===0)return null;var be=he[0],Pe=he.pop();if(Pe!==be){he[0]=Pe;e:for(var Ae=0,se=he.length,Le=se>>>1;Ae<Le;){var M=2*(Ae+1)-1,q=he[M],J=M+1,re=he[J];if(0>i(q,Pe))J<se&&0>i(re,q)?(he[Ae]=re,he[J]=Pe,Ae=J):(he[Ae]=q,he[M]=Pe,Ae=M);else if(J<se&&0>i(re,Pe))he[Ae]=re,he[J]=Pe,Ae=J;else break e}}return be}function i(he,be){var Pe=he.sortIndex-be.sortIndex;return Pe!==0?Pe:he.id-be.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var g=[],u=[],m=1,v=null,b=3,_=!1,C=!1,A=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate!="undefined"?setImmediate:null;function X(he){for(var be=r(u);be!==null;){if(be.callback===null)n(u);else if(be.startTime<=he)n(u),be.sortIndex=be.expirationTime,e(g,be);else break;be=r(u)}}function Y(he){if(A=!1,X(he),!C)if(r(g)!==null)C=!0,K||(K=!0,H());else{var be=r(u);be!==null&&me(Y,be.startTime-he)}}var K=!1,G=-1,V=5,z=-1;function ie(){return j?!0:!(t.unstable_now()-z<V)}function W(){if(j=!1,K){var he=t.unstable_now();z=he;var be=!0;try{e:{C=!1,A&&(A=!1,I(G),G=-1),_=!0;var Pe=b;try{t:{for(X(he),v=r(g);v!==null&&!(v.expirationTime>he&&ie());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,b=v.priorityLevel;var se=Ae(v.expirationTime<=he);if(he=t.unstable_now(),typeof se=="function"){v.callback=se,X(he),be=!0;break t}v===r(g)&&n(g),X(he)}else n(g);v=r(g)}if(v!==null)be=!0;else{var Le=r(u);Le!==null&&me(Y,Le.startTime-he),be=!1}}break e}finally{v=null,b=Pe,_=!1}be=void 0}}finally{be?H():K=!1}}}var H;if(typeof P=="function")H=function(){P(W)};else if(typeof MessageChannel!="undefined"){var ne=new MessageChannel,ve=ne.port2;ne.port1.onmessage=W,H=function(){ve.postMessage(null)}}else H=function(){L(W,0)};function me(he,be){G=L(function(){he(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(he){switch(b){case 1:case 2:case 3:var be=3;break;default:be=b}var Pe=b;b=be;try{return he()}finally{b=Pe}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(he,be){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Pe=b;b=he;try{return be()}finally{b=Pe}},t.unstable_scheduleCallback=function(he,be,Pe){var Ae=t.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?Ae+Pe:Ae):Pe=Ae,he){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Pe+se,he={id:m++,callback:be,priorityLevel:he,startTime:Pe,expirationTime:se,sortIndex:-1},Pe>Ae?(he.sortIndex=Pe,e(u,he),r(g)===null&&he===r(u)&&(A?(I(G),G=-1):A=!0,me(Y,Pe-Ae))):(he.sortIndex=se,e(g,he),C||_||(C=!0,K||(K=!0,H()))),he},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(he){var be=b;return function(){var Pe=b;b=be;try{return he.apply(this,arguments)}finally{b=Pe}}}}(_p)),_p}var G4;function VS(){return G4||(G4=1,bp.exports=WS()),bp.exports}var Ep={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $4;function GS(){if($4)return ms;$4=1;var t=Vx();function e(g){var u="https://react.dev/errors/"+g;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(g,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:g,containerInfo:u,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,u){if(g==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ms.createPortal=function(g,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(g,u,null,m)},ms.flushSync=function(g){var u=c.T,m=n.p;try{if(c.T=null,n.p=2,g)return g()}finally{c.T=u,n.p=m,n.d.f()}},ms.preconnect=function(g,u){typeof g=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(g,u))},ms.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},ms.preinit=function(g,u){if(typeof g=="string"&&u&&typeof u.as=="string"){var m=u.as,v=f(m,u.crossOrigin),b=typeof u.integrity=="string"?u.integrity:void 0,_=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;m==="style"?n.d.S(g,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&n.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ms.preinitModule=function(g,u){if(typeof g=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var m=f(u.as,u.crossOrigin);n.d.M(g,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(g)},ms.preload=function(g,u){if(typeof g=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var m=u.as,v=f(m,u.crossOrigin);n.d.L(g,m,{crossOrigin:v,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ms.preloadModule=function(g,u){if(typeof g=="string")if(u){var m=f(u.as,u.crossOrigin);n.d.m(g,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(g)},ms.requestFormReset=function(g){n.d.r(g)},ms.unstable_batchedUpdates=function(g,u){return g(u)},ms.useFormState=function(g,u,m){return c.H.useFormState(g,u,m)},ms.useFormStatus=function(){return c.H.useHostTransitionStatus()},ms.version="19.1.0",ms}var X4;function $S(){if(X4)return Ep.exports;X4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ep.exports=GS(),Ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y4;function XS(){if(Y4)return qh;Y4=1;var t=VS(),e=Vx(),r=$S();function n(o){var d="https://react.dev/errors/"+o;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var d=o,x=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(x=d.return),o=d.return;while(o)}return d.tag===3?x:null}function c(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function f(o){if(s(o)!==o)throw Error(n(188))}function g(o){var d=o.alternate;if(!d){if(d=s(o),d===null)throw Error(n(188));return d!==o?null:o}for(var x=o,E=d;;){var O=x.return;if(O===null)break;var F=O.alternate;if(F===null){if(E=O.return,E!==null){x=E;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===x)return f(O),o;if(F===E)return f(O),d;F=F.sibling}throw Error(n(188))}if(x.return!==E.return)x=O,E=F;else{for(var ae=!1,Ee=O.child;Ee;){if(Ee===x){ae=!0,x=O,E=F;break}if(Ee===E){ae=!0,E=O,x=F;break}Ee=Ee.sibling}if(!ae){for(Ee=F.child;Ee;){if(Ee===x){ae=!0,x=F,E=O;break}if(Ee===E){ae=!0,E=F,x=O;break}Ee=Ee.sibling}if(!ae)throw Error(n(189))}}if(x.alternate!==E)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?o:d}function u(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o;for(o=o.child;o!==null;){if(d=u(o),d!==null)return d;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Symbol.for("react.client.reference");function ve(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ne?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case Y:return"Suspense";case K:return"SuspenseList";case z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case P:return(o.displayName||"Context")+".Provider";case I:return(o._context.displayName||"Context")+".Consumer";case X:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case G:return d=o.displayName||null,d!==null?d:ve(o.type)||"Memo";case V:d=o._payload,o=o._init;try{return ve(o(d))}catch(x){}}return null}var me=Array.isArray,he=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Ae=[],se=-1;function Le(o){return{current:o}}function M(o){0>se||(o.current=Ae[se],Ae[se]=null,se--)}function q(o,d){se++,Ae[se]=o.current,o.current=d}var J=Le(null),re=Le(null),le=Le(null),Ue=Le(null);function Te(o,d){switch(q(le,d),q(re,o),q(J,null),d.nodeType){case 9:case 11:o=(o=d.documentElement)&&(o=o.namespaceURI)?d4(o):0;break;default:if(o=d.tagName,d=d.namespaceURI)d=d4(d),o=h4(d,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}M(J),q(J,o)}function Me(){M(J),M(re),M(le)}function Oe(o){o.memoizedState!==null&&q(Ue,o);var d=J.current,x=h4(d,o.type);d!==x&&(q(re,o),q(J,x))}function ze(o){re.current===o&&(M(J),M(re)),Ue.current===o&&(M(Ue),Fh._currentValue=Pe)}var st=Object.prototype.hasOwnProperty,ct=t.unstable_scheduleCallback,Nt=t.unstable_cancelCallback,it=t.unstable_shouldYield,fe=t.unstable_requestPaint,Ve=t.unstable_now,rt=t.unstable_getCurrentPriorityLevel,He=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,et=t.unstable_NormalPriority,Dt=t.unstable_LowPriority,Mt=t.unstable_IdlePriority,Xt=t.log,hr=t.unstable_setDisableYieldValue,ar=null,dr=null;function mr(o){if(typeof Xt=="function"&&hr(o),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(ar,o)}catch(d){}}var Qt=Math.clz32?Math.clz32:Lr,Br=Math.log,Kt=Math.LN2;function Lr(o){return o>>>=0,o===0?32:31-(Br(o)/Kt|0)|0}var fr=256,Vt=4194304;function wr(o){var d=o&42;if(d!==0)return d;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function gr(o,d,x){var E=o.pendingLanes;if(E===0)return 0;var O=0,F=o.suspendedLanes,ae=o.pingedLanes;o=o.warmLanes;var Ee=E&134217727;return Ee!==0?(E=Ee&~F,E!==0?O=wr(E):(ae&=Ee,ae!==0?O=wr(ae):x||(x=Ee&~o,x!==0&&(O=wr(x))))):(Ee=E&~F,Ee!==0?O=wr(Ee):ae!==0?O=wr(ae):x||(x=E&~o,x!==0&&(O=wr(x)))),O===0?0:d!==0&&d!==O&&(d&F)===0&&(F=O&-O,x=d&-d,F>=x||F===32&&(x&4194048)!==0)?d:O}function Kr(o,d){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&d)===0}function Qr(o,d){switch(o){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ia(){var o=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),o}function Mn(){var o=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),o}function Ir(o){for(var d=[],x=0;31>x;x++)d.push(o);return d}function Xn(o,d){o.pendingLanes|=d,d!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Tn(o,d,x,E,O,F){var ae=o.pendingLanes;o.pendingLanes=x,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=x,o.entangledLanes&=x,o.errorRecoveryDisabledLanes&=x,o.shellSuspendCounter=0;var Ee=o.entanglements,qe=o.expirationTimes,pt=o.hiddenUpdates;for(x=ae&~x;0<x;){var jt=31-Qt(x),Ut=1<<jt;Ee[jt]=0,qe[jt]=-1;var yt=pt[jt];if(yt!==null)for(pt[jt]=null,jt=0;jt<yt.length;jt++){var bt=yt[jt];bt!==null&&(bt.lane&=-536870913)}x&=~Ut}E!==0&&Or(o,E,0),F!==0&&O===0&&o.tag!==0&&(o.suspendedLanes|=F&~(ae&~d))}function Or(o,d,x){o.pendingLanes|=d,o.suspendedLanes&=~d;var E=31-Qt(d);o.entangledLanes|=d,o.entanglements[E]=o.entanglements[E]|1073741824|x&4194090}function Dr(o,d){var x=o.entangledLanes|=d;for(o=o.entanglements;x;){var E=31-Qt(x),O=1<<E;O&d|o[E]&d&&(o[E]|=d),x&=~O}}function Ea(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function rn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ii(){var o=be.p;return o!==0?o:(o=window.event,o===void 0?32:R4(o.type))}function Hi(o,d){var x=be.p;try{return be.p=o,d()}finally{be.p=x}}var cr=Math.random().toString(36).slice(2),gn="__reactFiber$"+cr,cn="__reactProps$"+cr,jn="__reactContainer$"+cr,en="__reactEvents$"+cr,On="__reactListeners$"+cr,ge="__reactHandles$"+cr,Se="__reactResources$"+cr,Ce="__reactMarker$"+cr;function je(o){delete o[gn],delete o[cn],delete o[en],delete o[On],delete o[ge]}function ke(o){var d=o[gn];if(d)return d;for(var x=o.parentNode;x;){if(d=x[jn]||x[gn]){if(x=d.alternate,d.child!==null||x!==null&&x.child!==null)for(o=p4(o);o!==null;){if(x=o[gn])return x;o=p4(o)}return d}o=x,x=o.parentNode}return null}function Be(o){if(o=o[gn]||o[jn]){var d=o.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return o}return null}function lt(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o.stateNode;throw Error(n(33))}function wt(o){var d=o[Se];return d||(d=o[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Je(o){o[Ce]=!0}var ht=new Set,mt={};function Ot(o,d){zt(o,d),zt(o+"Capture",d)}function zt(o,d){for(mt[o]=d,o=0;o<d.length;o++)ht.add(d[o])}var Gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$t={},Jt={};function jr(o){return st.call(Jt,o)?!0:st.call($t,o)?!1:Gt.test(o)?Jt[o]=!0:($t[o]=!0,!1)}function te(o,d,x){if(jr(d))if(x===null)o.removeAttribute(d);else{switch(typeof x){case"undefined":case"function":case"symbol":o.removeAttribute(d);return;case"boolean":var E=d.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){o.removeAttribute(d);return}}o.setAttribute(d,""+x)}}function Et(o,d,x){if(x===null)o.removeAttribute(d);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttribute(d,""+x)}}function Yt(o,d,x,E){if(E===null)o.removeAttribute(x);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(x);return}o.setAttributeNS(d,x,""+E)}}var tn,Rn;function pr(o){if(tn===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);tn=d&&d[1]||"",Rn=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+o+Rn}var sr=!1;function xr(o,d){if(!o||sr)return"";sr=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(d){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(bt){var yt=bt}Reflect.construct(o,[],Ut)}else{try{Ut.call()}catch(bt){yt=bt}o.call(Ut.prototype)}}else{try{throw Error()}catch(bt){yt=bt}(Ut=o())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(bt){if(bt&&yt&&typeof bt.stack=="string")return[bt.stack,yt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=E.DetermineComponentFrameRoot(),ae=F[0],Ee=F[1];if(ae&&Ee){var qe=ae.split(`
`),pt=Ee.split(`
`);for(O=E=0;E<qe.length&&!qe[E].includes("DetermineComponentFrameRoot");)E++;for(;O<pt.length&&!pt[O].includes("DetermineComponentFrameRoot");)O++;if(E===qe.length||O===pt.length)for(E=qe.length-1,O=pt.length-1;1<=E&&0<=O&&qe[E]!==pt[O];)O--;for(;1<=E&&0<=O;E--,O--)if(qe[E]!==pt[O]){if(E!==1||O!==1)do if(E--,O--,0>O||qe[E]!==pt[O]){var jt=`
`+qe[E].replace(" at new "," at ");return o.displayName&&jt.includes("<anonymous>")&&(jt=jt.replace("<anonymous>",o.displayName)),jt}while(1<=E&&0<=O);break}}}finally{sr=!1,Error.prepareStackTrace=x}return(x=o?o.displayName||o.name:"")?pr(x):""}function Sr(o){switch(o.tag){case 26:case 27:case 5:return pr(o.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return xr(o.type,!1);case 11:return xr(o.type.render,!1);case 1:return xr(o.type,!0);case 31:return pr("Activity");default:return""}}function Rr(o){try{var d="";do d+=Sr(o),o=o.return;while(o);return d}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function Pn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Fn(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function As(o){var d=Fn(o)?"checked":"value",x=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),E=""+o[d];if(!o.hasOwnProperty(d)&&typeof x!="undefined"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,F=x.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return O.call(this)},set:function(ae){E=""+ae,F.call(this,ae)}}),Object.defineProperty(o,d,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(ae){E=""+ae},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Oo(o){o._valueTracker||(o._valueTracker=As(o))}function si(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var x=d.getValue(),E="";return o&&(E=Fn(o)?o.checked?"true":"false":o.value),o=E,o!==x?(d.setValue(o),!0):!1}function _i(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(d){return o.body}}var kl=/[\n"\\]/g;function kn(o){return o.replace(kl,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Sn(o,d,x,E,O,F,ae,Ee){o.name="",ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?o.type=ae:o.removeAttribute("type"),d!=null?ae==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+Pn(d)):o.value!==""+Pn(d)&&(o.value=""+Pn(d)):ae!=="submit"&&ae!=="reset"||o.removeAttribute("value"),d!=null?ut(o,ae,Pn(d)):x!=null?ut(o,ae,Pn(x)):E!=null&&o.removeAttribute("value"),O==null&&F!=null&&(o.defaultChecked=!!F),O!=null&&(o.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?o.name=""+Pn(Ee):o.removeAttribute("name")}function Di(o,d,x,E,O,F,ae,Ee){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(o.type=F),d!=null||x!=null){if(!(F!=="submit"&&F!=="reset"||d!=null))return;x=x!=null?""+Pn(x):"",d=d!=null?""+Pn(d):x,Ee||d===o.value||(o.value=d),o.defaultValue=d}E=E!=null?E:O,E=typeof E!="function"&&typeof E!="symbol"&&!!E,o.checked=Ee?o.checked:!!E,o.defaultChecked=!!E,ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"&&(o.name=ae)}function ut(o,d,x){d==="number"&&_i(o.ownerDocument)===o||o.defaultValue===""+x||(o.defaultValue=""+x)}function Re(o,d,x,E){if(o=o.options,d){d={};for(var O=0;O<x.length;O++)d["$"+x[O]]=!0;for(x=0;x<o.length;x++)O=d.hasOwnProperty("$"+o[x].value),o[x].selected!==O&&(o[x].selected=O),O&&E&&(o[x].defaultSelected=!0)}else{for(x=""+Pn(x),d=null,O=0;O<o.length;O++){if(o[O].value===x){o[O].selected=!0,E&&(o[O].defaultSelected=!0);return}d!==null||o[O].disabled||(d=o[O])}d!==null&&(d.selected=!0)}}function Nr(o,d,x){if(d!=null&&(d=""+Pn(d),d!==o.value&&(o.value=d),x==null)){o.defaultValue!==d&&(o.defaultValue=d);return}o.defaultValue=x!=null?""+Pn(x):""}function mi(o,d,x,E){if(d==null){if(E!=null){if(x!=null)throw Error(n(92));if(me(E)){if(1<E.length)throw Error(n(93));E=E[0]}x=E}x==null&&(x=""),d=x}x=Pn(d),o.defaultValue=x,E=o.textContent,E===x&&E!==""&&E!==null&&(o.value=E)}function qi(o,d){if(d){var x=o.firstChild;if(x&&x===o.lastChild&&x.nodeType===3){x.nodeValue=d;return}}o.textContent=d}var sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(o,d,x){var E=d.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?E?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="":E?o.setProperty(d,x):typeof x!="number"||x===0||sc.has(d)?d==="float"?o.cssFloat=x:o[d]=(""+x).trim():o[d]=x+"px"}function Sa(o,d,x){if(d!=null&&typeof d!="object")throw Error(n(62));if(o=o.style,x!=null){for(var E in x)!x.hasOwnProperty(E)||d!=null&&d.hasOwnProperty(E)||(E.indexOf("--")===0?o.setProperty(E,""):E==="float"?o.cssFloat="":o[E]="");for(var O in d)E=d[O],d.hasOwnProperty(O)&&x[O]!==E&&Ll(o,O,E)}else for(var F in d)d.hasOwnProperty(F)&&Ll(o,F,d[F])}function Ar(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(o){return Jo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ro=null;function Ei(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Fs=null,ao=null;function vr(o){var d=Be(o);if(d&&(o=d.stateNode)){var x=o[cn]||null;e:switch(o=d.stateNode,d.type){case"input":if(Sn(o,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),d=x.name,x.type==="radio"&&d!=null){for(x=o;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+kn(""+d)+'"][type="radio"]'),d=0;d<x.length;d++){var E=x[d];if(E!==o&&E.form===o.form){var O=E[cn]||null;if(!O)throw Error(n(90));Sn(E,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<x.length;d++)E=x[d],E.form===o.form&&si(E)}break e;case"textarea":Nr(o,x.value,x.defaultValue);break e;case"select":d=x.value,d!=null&&Re(o,!!x.multiple,d,!1)}}}var so=!1;function Cs(o,d,x){if(so)return o(d,x);so=!0;try{var E=o(d);return E}finally{if(so=!1,(Fs!==null||ao!==null)&&(E1(),Fs&&(d=Fs,o=ao,ao=Fs=null,vr(d),o)))for(d=0;d<o.length;d++)vr(o[d])}}function yr(o,d){var x=o.stateNode;if(x===null)return null;var E=x[cn]||null;if(E===null)return null;x=E[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(o=o.type,E=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!E;break e;default:o=!1}if(o)return null;if(x&&typeof x!="function")throw Error(n(231,d,typeof x));return x}var ls=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Hr=!1;if(ls)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch(o){Hr=!1}var cs=null,Qo=null,el=null;function Bs(){if(el)return el;var o,d=Qo,x=d.length,E,O="value"in cs?cs.value:cs.textContent,F=O.length;for(o=0;o<x&&d[o]===O[o];o++);var ae=x-o;for(E=1;E<=ae&&d[x-E]===O[F-E];E++);return el=O.slice(o,1<E?1-E:void 0)}function ko(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function ja(){return!0}function Ga(){return!1}function Pi(o){function d(x,E,O,F,ae){this._reactName=x,this._targetInst=O,this.type=E,this.nativeEvent=F,this.target=ae,this.currentTarget=null;for(var Ee in o)o.hasOwnProperty(Ee)&&(x=o[Ee],this[Ee]=x?x(F):F[Ee]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?ja:Ga,this.isPropagationStopped=Ga,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),d}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Pi(Oa),Ra=m({},Oa,{view:0,detail:0}),aa=Pi(Ra),tl,rl,oo,$a=m({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==oo&&(oo&&o.type==="mousemove"?(tl=o.screenX-oo.screenX,rl=o.screenY-oo.screenY):rl=tl=0,oo=o),tl)},movementY:function(o){return"movementY"in o?o.movementY:rl}}),Ms=Pi($a),Iu=m({},$a,{dataTransfer:0}),mn=Pi(Iu),ds=m({},Ra,{relatedTarget:0}),Us=Pi(ds),ka=m({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Pi(ka),vt=m({},Oa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Zr=Pi(vt),Si=m({},Oa,{data:0}),lo=Pi(Si),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Il={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=lc[o])?!!d[o]:!1}function Lo(){return cc}var Ni=m({},Ra,{key:function(o){if(o.key){var d=oc[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=ko(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Il[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(o){return o.type==="keypress"?ko(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ko(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Io=Pi(Ni),Un=m({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=Pi(Un),La=m({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),An=Pi(La),D=m({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),de=Pi(D),Ie=m({},$a,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Pi(Ie),at=m({},Oa,{newState:0,oldState:0}),At=Pi(at),Bt=[9,13,27,32],or=ls&&"CompositionEvent"in window,br=null;ls&&"documentMode"in document&&(br=document.documentMode);var qr=ls&&"TextEvent"in window&&!br,Mr=ls&&(!or||br&&8<br&&11>=br),un=" ",oi=!1;function zn(o,d){switch(o){case"keyup":return Bt.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hi(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ai=!1;function pi(o,d){switch(o){case"compositionend":return hi(d);case"keypress":return d.which!==32?null:(oi=!0,un);case"textInput":return o=d.data,o===un&&oi?null:o;default:return null}}function Ts(o,d){if(Ai)return o==="compositionend"||!or&&zn(o,d)?(o=Bs(),el=Qo=cs=null,Ai=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Mr&&d.locale!=="ko"?null:d.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ia(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!Fi[o.type]:d==="textarea"}function pa(o,d,x,E){Fs?ao?ao.push(E):ao=[E]:Fs=E,d=j1(d,"onChange"),0<d.length&&(x=new us("onChange","change",null,x,E),o.push({event:x,listeners:d}))}var zs=null,Xi=null;function Dl(o){s4(o,0)}function Hs(o){var d=lt(o);if(si(d))return o}function Pl(o,d){if(o==="change")return d}var Do=!1;if(ls){var Hn;if(ls){var Po="oninput"in document;if(!Po){var uo=document.createElement("div");uo.setAttribute("oninput","return;"),Po=typeof uo.oninput=="function"}Hn=Po}else Hn=!1;Do=Hn&&(!document.documentMode||9<document.documentMode)}function js(){zs&&(zs.detachEvent("onpropertychange",nn),Xi=zs=null)}function nn(o){if(o.propertyName==="value"&&Hs(Xi)){var d=[];pa(d,Xi,o,Ei(o)),Cs(Dl,d)}}function sa(o,d,x){o==="focusin"?(js(),zs=d,Xi=x,zs.attachEvent("onpropertychange",nn)):o==="focusout"&&js()}function ce(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hs(Xi)}function l(o,d){if(o==="click")return Hs(d)}function h(o,d){if(o==="input"||o==="change")return Hs(d)}function p(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var y=typeof Object.is=="function"?Object.is:p;function w(o,d){if(y(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var x=Object.keys(o),E=Object.keys(d);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var O=x[E];if(!st.call(d,O)||!y(o[O],d[O]))return!1}return!0}function S(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function T(o,d){var x=S(o);o=0;for(var E;x;){if(x.nodeType===3){if(E=o+x.textContent.length,o<=d&&E>=d)return{node:x,offset:d-o};o=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=S(x)}}function k(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?k(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function B(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var d=_i(o.document);d instanceof o.HTMLIFrameElement;){try{var x=typeof d.contentWindow.location.href=="string"}catch(E){x=!1}if(x)o=d.contentWindow;else break;d=_i(o.document)}return d}function Q(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}var oe=ls&&"documentMode"in document&&11>=document.documentMode,xe=null,De=null,We=null,$e=!1;function tt(o,d,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;$e||xe==null||xe!==_i(E)||(E=xe,"selectionStart"in E&&Q(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),We&&w(We,E)||(We=E,E=j1(De,"onSelect"),0<E.length&&(d=new us("onSelect","select",null,d,x),o.push({event:d,listeners:E}),d.target=xe)))}function xt(o,d){var x={};return x[o.toLowerCase()]=d.toLowerCase(),x["Webkit"+o]="webkit"+d,x["Moz"+o]="moz"+d,x}var Pt={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionrun:xt("Transition","TransitionRun"),transitionstart:xt("Transition","TransitionStart"),transitioncancel:xt("Transition","TransitionCancel"),transitionend:xt("Transition","TransitionEnd")},qt={},Ht={};ls&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);function Wr(o){if(qt[o])return qt[o];if(!Pt[o])return o;var d=Pt[o],x;for(x in d)if(d.hasOwnProperty(x)&&x in Ht)return qt[o]=d[x];return o}var Pr=Wr("animationend"),Ci=Wr("animationiteration"),Yi=Wr("animationstart"),Ti=Wr("transitionrun"),wn=Wr("transitionstart"),xi=Wr("transitioncancel"),Bi=Wr("transitionend"),Da=new Map,hs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hs.push("scrollEnd");function vi(o,d){Da.set(o,d),Ot(d,[o])}var Xa=new WeakMap;function pn(o,d){if(typeof o=="object"&&o!==null){var x=Xa.get(o);return x!==void 0?x:(d={value:o,source:d,stack:Rr(d)},Xa.set(o,d),d)}return{value:o,source:d,stack:Rr(d)}}var xn=[],li=0,Wi=0;function qs(){for(var o=li,d=Wi=li=0;d<o;){var x=xn[d];xn[d++]=null;var E=xn[d];xn[d++]=null;var O=xn[d];xn[d++]=null;var F=xn[d];if(xn[d++]=null,E!==null&&O!==null){var ae=E.pending;ae===null?O.next=O:(O.next=ae.next,ae.next=O),E.pending=O}F!==0&&O0(x,O,F)}}function Fl(o,d,x,E){xn[li++]=o,xn[li++]=d,xn[li++]=x,xn[li++]=E,Wi|=E,o.lanes|=E,o=o.alternate,o!==null&&(o.lanes|=E)}function Bl(o,d,x,E){return Fl(o,d,x,E),uc(o)}function nl(o,d){return Fl(o,null,null,d),uc(o)}function O0(o,d,x){o.lanes|=x;var E=o.alternate;E!==null&&(E.lanes|=x);for(var O=!1,F=o.return;F!==null;)F.childLanes|=x,E=F.alternate,E!==null&&(E.childLanes|=x),F.tag===22&&(o=F.stateNode,o===null||o._visibility&1||(O=!0)),o=F,F=F.return;return o.tag===3?(F=o.stateNode,O&&d!==null&&(O=31-Qt(x),o=F.hiddenUpdates,E=o[O],E===null?o[O]=[d]:E.push(d),d.lane=x|536870912),F):null}function uc(o){if(50<jh)throw jh=0,Um=null,Error(n(185));for(var d=o.return;d!==null;)o=d,d=o.return;return o.tag===3?o.stateNode:null}var xa={};function Ws(o,d,x,E){this.tag=o,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(o,d,x,E){return new Ws(o,d,x,E)}function Hc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fo(o,d){var x=o.alternate;return x===null?(x=Pa(o.tag,d,o.key,o.mode),x.elementType=o.elementType,x.type=o.type,x.stateNode=o.stateNode,x.alternate=o,o.alternate=x):(x.pendingProps=d,x.type=o.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=o.flags&65011712,x.childLanes=o.childLanes,x.lanes=o.lanes,x.child=o.child,x.memoizedProps=o.memoizedProps,x.memoizedState=o.memoizedState,x.updateQueue=o.updateQueue,d=o.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=o.sibling,x.index=o.index,x.ref=o.ref,x.refCleanup=o.refCleanup,x}function Pu(o,d){o.flags&=65011714;var x=o.alternate;return x===null?(o.childLanes=0,o.lanes=d,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=x.childLanes,o.lanes=x.lanes,o.child=x.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=x.memoizedProps,o.memoizedState=x.memoizedState,o.updateQueue=x.updateQueue,o.type=x.type,d=x.dependencies,o.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),o}function dc(o,d,x,E,O,F){var ae=0;if(E=o,typeof o=="function")Hc(o)&&(ae=1);else if(typeof o=="string")ae=_S(o,x,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case z:return o=Pa(31,x,d,O),o.elementType=z,o.lanes=F,o;case C:return il(x.children,O,F,d);case A:ae=8,O|=24;break;case j:return o=Pa(12,x,d,O|2),o.elementType=j,o.lanes=F,o;case Y:return o=Pa(13,x,d,O),o.elementType=Y,o.lanes=F,o;case K:return o=Pa(19,x,d,O),o.elementType=K,o.lanes=F,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:case P:ae=10;break e;case I:ae=9;break e;case X:ae=11;break e;case G:ae=14;break e;case V:ae=16,E=null;break e}ae=29,x=Error(n(130,o===null?"null":typeof o,"")),E=null}return d=Pa(ae,x,d,O),d.elementType=o,d.type=E,d.lanes=F,d}function il(o,d,x,E){return o=Pa(7,o,E,d),o.lanes=x,o}function R0(o,d,x){return o=Pa(6,o,null,d),o.lanes=x,o}function Fu(o,d,x){return d=Pa(4,o.children!==null?o.children:[],o.key,d),d.lanes=x,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}var Ml=[],al=0,qc=null,k0=0,Vs=[],Os=0,hc=null,sl=1,ol="";function fc(o,d){Ml[al++]=k0,Ml[al++]=qc,qc=o,k0=d}function $f(o,d,x){Vs[Os++]=sl,Vs[Os++]=ol,Vs[Os++]=hc,hc=o;var E=sl;o=ol;var O=32-Qt(E)-1;E&=~(1<<O),x+=1;var F=32-Qt(d)+O;if(30<F){var ae=O-O%5;F=(E&(1<<ae)-1).toString(32),E>>=ae,O-=ae,sl=1<<32-Qt(d)+O|x<<O|E,ol=F+o}else sl=1<<F|x<<O|E,ol=o}function Bu(o){o.return!==null&&(fc(o,1),$f(o,1,0))}function Mu(o){for(;o===qc;)qc=Ml[--al],Ml[al]=null,k0=Ml[--al],Ml[al]=null;for(;o===hc;)hc=Vs[--Os],Vs[Os]=null,ol=Vs[--Os],Vs[Os]=null,sl=Vs[--Os],Vs[Os]=null}var oa=null,Mi=null,Bn=!1,Ul=null,Bo=!1,ah=Error(n(519));function gc(o){var d=Error(n(418,""));throw Wc(pn(d,o)),ah}function Xf(o){var d=o.stateNode,x=o.type,E=o.memoizedProps;switch(d[gn]=o,d[cn]=E,x){case"dialog":_n("cancel",d),_n("close",d);break;case"iframe":case"object":case"embed":_n("load",d);break;case"video":case"audio":for(x=0;x<Rh.length;x++)_n(Rh[x],d);break;case"source":_n("error",d);break;case"img":case"image":case"link":_n("error",d),_n("load",d);break;case"details":_n("toggle",d);break;case"input":_n("invalid",d),Di(d,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Oo(d);break;case"select":_n("invalid",d);break;case"textarea":_n("invalid",d),mi(d,E.value,E.defaultValue,E.children),Oo(d)}x=E.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||d.textContent===""+x||E.suppressHydrationWarning===!0||u4(d.textContent,x)?(E.popover!=null&&(_n("beforetoggle",d),_n("toggle",d)),E.onScroll!=null&&_n("scroll",d),E.onScrollEnd!=null&&_n("scrollend",d),E.onClick!=null&&(d.onclick=O1),d=!0):d=!1,d||gc(o)}function ll(o){for(oa=o.return;oa;)switch(oa.tag){case 5:case 13:Bo=!1;return;case 27:case 3:Bo=!0;return;default:oa=oa.return}}function Ya(o){if(o!==oa)return!1;if(!Bn)return ll(o),Bn=!0,!1;var d=o.tag,x;if((x=d!==3&&d!==27)&&((x=d===5)&&(x=o.type,x=!(x!=="form"&&x!=="button")||rp(o.type,o.memoizedProps)),x=!x),x&&Mi&&gc(o),ll(o),d===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8)if(x=o.data,x==="/$"){if(d===0){Mi=pl(o.nextSibling);break e}d--}else x!=="$"&&x!=="$!"&&x!=="$?"||d++;o=o.nextSibling}Mi=null}}else d===27?(d=Mi,ou(o.type)?(o=sp,sp=null,Mi=o):Mi=d):Mi=oa?pl(o.stateNode.nextSibling):null;return!0}function Rs(){Mi=oa=null,Bn=!1}function Yf(){var o=Ul;return o!==null&&(Xs===null?Xs=o:Xs.push.apply(Xs,o),Ul=null),o}function Wc(o){Ul===null?Ul=[o]:Ul.push(o)}var Mo=Le(null),va=null,cl=null;function zl(o,d,x){q(Mo,d._currentValue),d._currentValue=x}function Uo(o){o._currentValue=Mo.current,M(Mo)}function L0(o,d,x){for(;o!==null;){var E=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),o===x)break;o=o.return}}function I0(o,d,x,E){var O=o.child;for(O!==null&&(O.return=o);O!==null;){var F=O.dependencies;if(F!==null){var ae=O.child;F=F.firstContext;e:for(;F!==null;){var Ee=F;F=O;for(var qe=0;qe<d.length;qe++)if(Ee.context===d[qe]){F.lanes|=x,Ee=F.alternate,Ee!==null&&(Ee.lanes|=x),L0(F.return,x,o),E||(ae=null);break e}F=Ee.next}}else if(O.tag===18){if(ae=O.return,ae===null)throw Error(n(341));ae.lanes|=x,F=ae.alternate,F!==null&&(F.lanes|=x),L0(ae,x,o),ae=null}else ae=O.child;if(ae!==null)ae.return=O;else for(ae=O;ae!==null;){if(ae===o){ae=null;break}if(O=ae.sibling,O!==null){O.return=ae.return,ae=O;break}ae=ae.return}O=ae}}function Vc(o,d,x,E){o=null;for(var O=d,F=!1;O!==null;){if(!F){if((O.flags&524288)!==0)F=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var ae=O.alternate;if(ae===null)throw Error(n(387));if(ae=ae.memoizedProps,ae!==null){var Ee=O.type;y(O.pendingProps.value,ae.value)||(o!==null?o.push(Ee):o=[Ee])}}else if(O===Ue.current){if(ae=O.alternate,ae===null)throw Error(n(387));ae.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(o!==null?o.push(Fh):o=[Fh])}O=O.return}o!==null&&I0(d,o,x,E),d.flags|=262144}function D0(o){for(o=o.firstContext;o!==null;){if(!y(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function zo(o){va=o,cl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function la(o){return P0(va,o)}function Hl(o,d){return va===null&&zo(o),P0(o,d)}function P0(o,d){var x=d._currentValue;if(d={context:d,memoizedValue:x,next:null},cl===null){if(o===null)throw Error(n(308));cl=d,o.dependencies={lanes:0,firstContext:d},o.flags|=524288}else cl=cl.next=d;return x}var dm=typeof AbortController!="undefined"?AbortController:function(){var o=[],d=this.signal={aborted:!1,addEventListener:function(x,E){o.push(E)}};this.abort=function(){d.aborted=!0,o.forEach(function(x){return x()})}},Kf=t.unstable_scheduleCallback,hm=t.unstable_NormalPriority,ca={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new dm,data:new Map,refCount:0}}function Uu(o){o.refCount--,o.refCount===0&&Kf(hm,function(){o.controller.abort()})}var zu=null,oh=0,mc=0,ul=null;function fm(o,d){if(zu===null){var x=zu=[];oh=0,mc=$m(),ul={status:"pending",value:void 0,then:function(E){x.push(E)}}}return oh++,d.then(Zf,Zf),d}function Zf(){if(--oh===0&&zu!==null){ul!==null&&(ul.status="fulfilled");var o=zu;zu=null,mc=0,ul=null;for(var d=0;d<o.length;d++)(0,o[d])()}}function Jf(o,d){var x=[],E={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return o.then(function(){E.status="fulfilled",E.value=d;for(var O=0;O<x.length;O++)(0,x[O])(d)},function(O){for(E.status="rejected",E.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),E}var N=he.S;he.S=function(o,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&fm(o,d),N!==null&&N(o,d)};var R=Le(null);function U(){var o=R.current;return o!==null?o:wi.pooledCache}function Z(o,d){d===null?q(R,R.current):q(R,d.pool)}function ue(){var o=U();return o===null?null:{parent:ca._currentValue,pool:o}}var pe=Error(n(460)),ye=Error(n(474)),_e=Error(n(542)),Ne={then:function(){}};function Fe(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Xe(){}function gt(o,d,x){switch(x=o[x],x===void 0?o.push(d):x!==d&&(d.then(Xe,Xe),d=x),d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,It(o),o;default:if(typeof d.status=="string")d.then(Xe,Xe);else{if(o=wi,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=d,o.status="pending",o.then(function(E){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=E}},function(E){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=E}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,It(o),o}throw dt=d,pe}}var dt=null;function nt(){if(dt===null)throw Error(n(459));var o=dt;return dt=null,o}function It(o){if(o===pe||o===_e)throw Error(n(483))}var _t=!1;function Ye(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qe(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Tt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ft(o,d,x){var E=o.updateQueue;if(E===null)return null;if(E=E.shared,(Qn&2)!==0){var O=E.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),E.pending=d,d=uc(o),O0(o,null,x),d}return Fl(o,E,d,x),uc(o)}function Rt(o,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194048)!==0)){var E=d.lanes;E&=o.pendingLanes,x|=E,d.lanes=x,Dr(o,x)}}function ur(o,d){var x=o.updateQueue,E=o.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var O=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var ae={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?O=F=ae:F=F.next=ae,x=x.next}while(x!==null);F===null?O=F=d:F=F.next=d}else O=F=d;x={baseState:E.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:E.shared,callbacks:E.callbacks},o.updateQueue=x;return}o=x.lastBaseUpdate,o===null?x.firstBaseUpdate=d:o.next=d,x.lastBaseUpdate=d}var nr=!1;function Cr(){if(nr){var o=ul;if(o!==null)throw o}}function ir(o,d,x,E){nr=!1;var O=o.updateQueue;_t=!1;var F=O.firstBaseUpdate,ae=O.lastBaseUpdate,Ee=O.shared.pending;if(Ee!==null){O.shared.pending=null;var qe=Ee,pt=qe.next;qe.next=null,ae===null?F=pt:ae.next=pt,ae=qe;var jt=o.alternate;jt!==null&&(jt=jt.updateQueue,Ee=jt.lastBaseUpdate,Ee!==ae&&(Ee===null?jt.firstBaseUpdate=pt:Ee.next=pt,jt.lastBaseUpdate=qe))}if(F!==null){var Ut=O.baseState;ae=0,jt=pt=qe=null,Ee=F;do{var yt=Ee.lane&-536870913,bt=yt!==Ee.lane;if(bt?(Dn&yt)===yt:(E&yt)===yt){yt!==0&&yt===mc&&(nr=!0),jt!==null&&(jt=jt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var $r=o,Fr=Ee;yt=d;var ui=x;switch(Fr.tag){case 1:if($r=Fr.payload,typeof $r=="function"){Ut=$r.call(ui,Ut,yt);break e}Ut=$r;break e;case 3:$r.flags=$r.flags&-65537|128;case 0:if($r=Fr.payload,yt=typeof $r=="function"?$r.call(ui,Ut,yt):$r,yt==null)break e;Ut=m({},Ut,yt);break e;case 2:_t=!0}}yt=Ee.callback,yt!==null&&(o.flags|=64,bt&&(o.flags|=8192),bt=O.callbacks,bt===null?O.callbacks=[yt]:bt.push(yt))}else bt={lane:yt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},jt===null?(pt=jt=bt,qe=Ut):jt=jt.next=bt,ae|=yt;if(Ee=Ee.next,Ee===null){if(Ee=O.shared.pending,Ee===null)break;bt=Ee,Ee=bt.next,bt.next=null,O.lastBaseUpdate=bt,O.shared.pending=null}}while(!0);jt===null&&(qe=Ut),O.baseState=qe,O.firstBaseUpdate=pt,O.lastBaseUpdate=jt,F===null&&(O.shared.lanes=0),nu|=ae,o.lanes=ae,o.memoizedState=Ut}}function Ln(o,d){if(typeof o!="function")throw Error(n(191,o));o.call(d)}function qn(o,d){var x=o.callbacks;if(x!==null)for(o.callbacks=null,o=0;o<x.length;o++)Ln(x[o],d)}var dn=Le(null),on=Le(0);function Zn(o,d){o=Nc,q(on,o),q(dn,d),Nc=o|d.baseLanes}function Wn(){q(on,Nc),q(dn,dn.current)}function Yr(){Nc=on.current,M(dn),M(on)}var Jn=0,kr=null,Vr=null,Cn=null,In=!1,ya=!1,ua=!1,Vi=0,Gi=0,Ki=null,Gs=0;function Vn(){throw Error(n(321))}function Zi(o,d){if(d===null)return!1;for(var x=0;x<d.length&&x<o.length;x++)if(!y(o[x],d[x]))return!1;return!0}function ho(o,d,x,E,O,F){return Jn=F,kr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,he.H=o===null||o.memoizedState===null?Wv:Vv,ua=!1,F=x(E,O),ua=!1,ya&&(F=pc(d,x,E,O)),ql(o),F}function ql(o){he.H=u1;var d=Vr!==null&&Vr.next!==null;if(Jn=0,Cn=Vr=kr=null,In=!1,Gi=0,Ki=null,d)throw Error(n(300));o===null||Fa||(o=o.dependencies,o!==null&&D0(o)&&(Fa=!0))}function pc(o,d,x,E){kr=o;var O=0;do{if(ya&&(Ki=null),Gi=0,ya=!1,25<=O)throw Error(n(301));if(O+=1,Cn=Vr=null,o.updateQueue!=null){var F=o.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}he.H=LE,F=d(x,E)}while(ya);return F}function Wl(){var o=he.H,d=o.useState()[0];return d=typeof d.then=="function"?Vl(d):d,o=o.useState()[0],(Vr!==null?Vr.memoizedState:null)!==o&&(kr.flags|=1024),d}function yi(){var o=Vi!==0;return Vi=0,o}function Hu(o,d,x){d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~x}function F0(o){if(In){for(o=o.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}In=!1}Jn=0,Cn=Vr=kr=null,ya=!1,Gi=Vi=0,Ki=null}function Ka(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?kr.memoizedState=Cn=o:Cn=Cn.next=o,Cn}function ji(){if(Vr===null){var o=kr.alternate;o=o!==null?o.memoizedState:null}else o=Vr.next;var d=Cn===null?kr.memoizedState:Cn.next;if(d!==null)Cn=d,Vr=o;else{if(o===null)throw kr.alternate===null?Error(n(467)):Error(n(310));Vr=o,o={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Cn===null?kr.memoizedState=Cn=o:Cn=Cn.next=o}return Cn}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(o){var d=Gi;return Gi+=1,Ki===null&&(Ki=[]),o=gt(Ki,o,d),d=kr,(Cn===null?d.memoizedState:Cn.next)===null&&(d=d.alternate,he.H=d===null||d.memoizedState===null?Wv:Vv),o}function fs(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Vl(o);if(o.$$typeof===P)return la(o)}throw Error(n(438,String(o)))}function Gl(o){var d=null,x=kr.updateQueue;if(x!==null&&(d=x.memoCache),d==null){var E=kr.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(d={data:E.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),x===null&&(x=xc(),kr.updateQueue=x),x.memoCache=d,x=d.data[d.index],x===void 0)for(x=d.data[d.index]=Array(o),E=0;E<o;E++)x[E]=ie;return d.index++,x}function gs(o,d){return typeof d=="function"?d(o):d}function qu(o){var d=ji();return Gc(d,Vr,o)}function Gc(o,d,x){var E=o.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=x;var O=o.baseQueue,F=E.pending;if(F!==null){if(O!==null){var ae=O.next;O.next=F.next,F.next=ae}d.baseQueue=O=F,E.pending=null}if(F=o.baseState,O===null)o.memoizedState=F;else{d=O.next;var Ee=ae=null,qe=null,pt=d,jt=!1;do{var Ut=pt.lane&-536870913;if(Ut!==pt.lane?(Dn&Ut)===Ut:(Jn&Ut)===Ut){var yt=pt.revertLane;if(yt===0)qe!==null&&(qe=qe.next={lane:0,revertLane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),Ut===mc&&(jt=!0);else if((Jn&yt)===yt){pt=pt.next,yt===mc&&(jt=!0);continue}else Ut={lane:0,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},qe===null?(Ee=qe=Ut,ae=F):qe=qe.next=Ut,kr.lanes|=yt,nu|=yt;Ut=pt.action,ua&&x(F,Ut),F=pt.hasEagerState?pt.eagerState:x(F,Ut)}else yt={lane:Ut,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},qe===null?(Ee=qe=yt,ae=F):qe=qe.next=yt,kr.lanes|=Ut,nu|=Ut;pt=pt.next}while(pt!==null&&pt!==d);if(qe===null?ae=F:qe.next=Ee,!y(F,o.memoizedState)&&(Fa=!0,jt&&(x=ul,x!==null)))throw x;o.memoizedState=F,o.baseState=ae,o.baseQueue=qe,E.lastRenderedState=F}return O===null&&(E.lanes=0),[o.memoizedState,E.dispatch]}function B0(o){var d=ji(),x=d.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=o;var E=x.dispatch,O=x.pending,F=d.memoizedState;if(O!==null){x.pending=null;var ae=O=O.next;do F=o(F,ae.action),ae=ae.next;while(ae!==O);y(F,d.memoizedState)||(Fa=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),x.lastRenderedState=F}return[F,E]}function Wu(o,d,x){var E=kr,O=ji(),F=Bn;if(F){if(x===void 0)throw Error(n(407));x=x()}else x=d();var ae=!y((Vr||O).memoizedState,x);ae&&(O.memoizedState=x,Fa=!0),O=O.queue;var Ee=$c.bind(null,E,O,o);if(Kc(2048,8,Ee,[o]),O.getSnapshot!==d||ae||Cn!==null&&Cn.memoizedState.tag&1){if(E.flags|=2048,hl(9,Xu(),Vu.bind(null,E,O,x,d),null),wi===null)throw Error(n(349));F||(Jn&124)!==0||M0(E,d,x)}return x}function M0(o,d,x){o.flags|=16384,o={getSnapshot:d,value:x},d=kr.updateQueue,d===null?(d=xc(),kr.updateQueue=d,d.stores=[o]):(x=d.stores,x===null?d.stores=[o]:x.push(o))}function Vu(o,d,x,E){d.value=x,d.getSnapshot=E,Qf(d)&&e1(o)}function $c(o,d,x){return x(function(){Qf(d)&&e1(o)})}function Qf(o){var d=o.getSnapshot;o=o.value;try{var x=d();return!y(o,x)}catch(E){return!0}}function e1(o){var d=nl(o,2);d!==null&&vo(d,o,2)}function Gu(o){var d=Ka();if(typeof o=="function"){var x=o;if(o=x(),ua){mr(!0);try{x()}finally{mr(!1)}}}return d.memoizedState=d.baseState=o,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},d}function dl(o,d,x,E){return o.baseState=x,Gc(o,Vr,typeof E=="function"?E:gs)}function gm(o,d,x,E,O){if(c1(o))throw Error(n(485));if(o=d.action,o!==null){var F={payload:O,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ae){F.listeners.push(ae)}};he.T!==null?x(!0):F.isTransition=!1,E(F),x=d.pending,x===null?(F.next=d.pending=F,t1(d,F)):(F.next=x.next,d.pending=x.next=F)}}function t1(o,d){var x=d.action,E=d.payload,O=o.state;if(d.isTransition){var F=he.T,ae={};he.T=ae;try{var Ee=x(O,E),qe=he.S;qe!==null&&qe(ae,Ee),r1(o,d,Ee)}catch(pt){Xc(o,d,pt)}finally{he.T=F}}else try{F=x(O,E),r1(o,d,F)}catch(pt){Xc(o,d,pt)}}function r1(o,d,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(E){lh(o,d,E)},function(E){return Xc(o,d,E)}):lh(o,d,x)}function lh(o,d,x){d.status="fulfilled",d.value=x,ch(d),o.state=x,d=o.pending,d!==null&&(x=d.next,x===d?o.pending=null:(x=x.next,d.next=x,t1(o,x)))}function Xc(o,d,x){var E=o.pending;if(o.pending=null,E!==null){E=E.next;do d.status="rejected",d.reason=x,ch(d),d=d.next;while(d!==E)}o.action=null}function ch(o){o=o.listeners;for(var d=0;d<o.length;d++)(0,o[d])()}function uh(o,d){return d}function $u(o,d){if(Bn){var x=wi.formState;if(x!==null){e:{var E=kr;if(Bn){if(Mi){t:{for(var O=Mi,F=Bo;O.nodeType!==8;){if(!F){O=null;break t}if(O=pl(O.nextSibling),O===null){O=null;break t}}F=O.data,O=F==="F!"||F==="F"?O:null}if(O){Mi=pl(O.nextSibling),E=O.data==="F!";break e}}gc(E)}E=!1}E&&(d=x[0])}}return x=Ka(),x.memoizedState=x.baseState=d,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:d},x.queue=E,x=zv.bind(null,kr,E),E.dispatch=x,E=Gu(!1),F=mm.bind(null,kr,!1,E.queue),E=Ka(),O={state:d,dispatch:null,action:o,pending:null},E.queue=O,x=gm.bind(null,kr,O,F,x),O.dispatch=x,E.memoizedState=o,[d,x,!1]}function U0(o){var d=ji();return Yc(d,Vr,o)}function Yc(o,d,x){if(d=Gc(o,d,uh)[0],o=qu(gs)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var E=Vl(d)}catch(ae){throw ae===pe?_e:ae}else E=d;d=ji();var O=d.queue,F=O.dispatch;return x!==d.memoizedState&&(kr.flags|=2048,hl(9,Xu(),n1.bind(null,O,x),null)),[E,F,o]}function n1(o,d){o.action=d}function i1(o){var d=ji(),x=Vr;if(x!==null)return Yc(d,x,o);ji(),d=d.memoizedState,x=ji();var E=x.queue.dispatch;return x.memoizedState=o,[d,E,!1]}function hl(o,d,x,E){return o={tag:o,create:x,deps:E,inst:d,next:null},d=kr.updateQueue,d===null&&(d=xc(),kr.updateQueue=d),x=d.lastEffect,x===null?d.lastEffect=o.next=o:(E=x.next,x.next=o,o.next=E,d.lastEffect=o),o}function Xu(){return{destroy:void 0,resource:void 0}}function z0(){return ji().memoizedState}function fo(o,d,x,E){var O=Ka();E=E===void 0?null:E,kr.flags|=o,O.memoizedState=hl(1|d,Xu(),x,E)}function Kc(o,d,x,E){var O=ji();E=E===void 0?null:E;var F=O.memoizedState.inst;Vr!==null&&E!==null&&Zi(E,Vr.memoizedState.deps)?O.memoizedState=hl(d,F,x,E):(kr.flags|=o,O.memoizedState=hl(1|d,F,x,E))}function dh(o,d){fo(8390656,8,o,d)}function a1(o,d){Kc(2048,8,o,d)}function hh(o,d){return Kc(4,2,o,d)}function vc(o,d){return Kc(4,4,o,d)}function s1(o,d){if(typeof d=="function"){o=o();var x=d(o);return function(){typeof x=="function"?x():d(null)}}if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function fh(o,d,x){x=x!=null?x.concat([o]):null,Kc(4,4,s1.bind(null,d,o),x)}function gh(){}function mh(o,d){var x=ji();d=d===void 0?null:d;var E=x.memoizedState;return d!==null&&Zi(d,E[1])?E[0]:(x.memoizedState=[o,d],o)}function o1(o,d){var x=ji();d=d===void 0?null:d;var E=x.memoizedState;if(d!==null&&Zi(d,E[1]))return E[0];if(E=o(),ua){mr(!0);try{o()}finally{mr(!1)}}return x.memoizedState=[E,d],E}function yc(o,d,x){return x===void 0||(Jn&1073741824)!==0?o.memoizedState=d:(o.memoizedState=x,o=Fy(),kr.lanes|=o,nu|=o,x)}function H0(o,d,x,E){return y(x,d)?x:dn.current!==null?(o=yc(o,x,E),y(o,d)||(Fa=!0),o):(Jn&42)===0?(Fa=!0,o.memoizedState=x):(o=Fy(),kr.lanes|=o,nu|=o,d)}function Yu(o,d,x,E,O){var F=be.p;be.p=F!==0&&8>F?F:8;var ae=he.T,Ee={};he.T=Ee,mm(o,!1,d,x);try{var qe=O(),pt=he.S;if(pt!==null&&pt(Ee,qe),qe!==null&&typeof qe=="object"&&typeof qe.then=="function"){var jt=Jf(qe,E);yh(o,d,jt,xo(o))}else yh(o,d,E,xo(o))}catch(Ut){yh(o,d,{then:function(){},status:"rejected",reason:Ut},xo())}finally{be.p=F,he.T=ae}}function fl(){}function Ho(o,d,x,E){if(o.tag!==5)throw Error(n(476));var O=gl(o).queue;Yu(o,O,d,Pe,x===null?fl:function(){return Ku(o),x(E)})}function gl(o){var d=o.memoizedState;if(d!==null)return d;d={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:Pe},next:null};var x={};return d.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:x},next:null},o.memoizedState=d,o=o.alternate,o!==null&&(o.memoizedState=d),d}function Ku(o){var d=gl(o).next.queue;yh(o,d,{},xo())}function Zu(){return la(Fh)}function ph(){return ji().memoizedState}function l1(){return ji().memoizedState}function xh(o){for(var d=o.return;d!==null;){switch(d.tag){case 24:case 3:var x=xo();o=Tt(x);var E=Ft(d,o,x);E!==null&&(vo(E,d,x),Rt(E,d,x)),d={cache:sh()},o.payload=d;return}d=d.return}}function vh(o,d,x){var E=xo();x={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},c1(o)?Hv(d,x):(x=Bl(o,d,x,E),x!==null&&(vo(x,o,E),qv(x,d,E)))}function zv(o,d,x){var E=xo();yh(o,d,x,E)}function yh(o,d,x,E){var O={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(c1(o))Hv(d,O);else{var F=o.alternate;if(o.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var ae=d.lastRenderedState,Ee=F(ae,x);if(O.hasEagerState=!0,O.eagerState=Ee,y(Ee,ae))return Fl(o,d,O,0),wi===null&&qs(),!1}catch(qe){}finally{}if(x=Bl(o,d,O,E),x!==null)return vo(x,o,E),qv(x,d,E),!0}return!1}function mm(o,d,x,E){if(E={lane:2,revertLane:$m(),action:E,hasEagerState:!1,eagerState:null,next:null},c1(o)){if(d)throw Error(n(479))}else d=Bl(o,x,E,2),d!==null&&vo(d,o,2)}function c1(o){var d=o.alternate;return o===kr||d!==null&&d===kr}function Hv(o,d){ya=In=!0;var x=o.pending;x===null?d.next=d:(d.next=x.next,x.next=d),o.pending=d}function qv(o,d,x){if((x&4194048)!==0){var E=d.lanes;E&=o.pendingLanes,x|=E,d.lanes=x,Dr(o,x)}}var u1={readContext:la,use:fs,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn,useHostTransitionStatus:Vn,useFormState:Vn,useActionState:Vn,useOptimistic:Vn,useMemoCache:Vn,useCacheRefresh:Vn},Wv={readContext:la,use:fs,useCallback:function(o,d){return Ka().memoizedState=[o,d===void 0?null:d],o},useContext:la,useEffect:dh,useImperativeHandle:function(o,d,x){x=x!=null?x.concat([o]):null,fo(4194308,4,s1.bind(null,d,o),x)},useLayoutEffect:function(o,d){return fo(4194308,4,o,d)},useInsertionEffect:function(o,d){fo(4,2,o,d)},useMemo:function(o,d){var x=Ka();d=d===void 0?null:d;var E=o();if(ua){mr(!0);try{o()}finally{mr(!1)}}return x.memoizedState=[E,d],E},useReducer:function(o,d,x){var E=Ka();if(x!==void 0){var O=x(d);if(ua){mr(!0);try{x(d)}finally{mr(!1)}}}else O=d;return E.memoizedState=E.baseState=O,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:O},E.queue=o,o=o.dispatch=vh.bind(null,kr,o),[E.memoizedState,o]},useRef:function(o){var d=Ka();return o={current:o},d.memoizedState=o},useState:function(o){o=Gu(o);var d=o.queue,x=zv.bind(null,kr,d);return d.dispatch=x,[o.memoizedState,x]},useDebugValue:gh,useDeferredValue:function(o,d){var x=Ka();return yc(x,o,d)},useTransition:function(){var o=Gu(!1);return o=Yu.bind(null,kr,o.queue,!0,!1),Ka().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,d,x){var E=kr,O=Ka();if(Bn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=d(),wi===null)throw Error(n(349));(Dn&124)!==0||M0(E,d,x)}O.memoizedState=x;var F={value:x,getSnapshot:d};return O.queue=F,dh($c.bind(null,E,F,o),[o]),E.flags|=2048,hl(9,Xu(),Vu.bind(null,E,F,x,d),null),x},useId:function(){var o=Ka(),d=wi.identifierPrefix;if(Bn){var x=ol,E=sl;x=(E&~(1<<32-Qt(E)-1)).toString(32)+x,d=""+d+"R"+x,x=Vi++,0<x&&(d+="H"+x.toString(32)),d+=""}else x=Gs++,d=""+d+"r"+x.toString(32)+"";return o.memoizedState=d},useHostTransitionStatus:Zu,useFormState:$u,useActionState:$u,useOptimistic:function(o){var d=Ka();d.memoizedState=d.baseState=o;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=x,d=mm.bind(null,kr,!0,x),x.dispatch=d,[o,d]},useMemoCache:Gl,useCacheRefresh:function(){return Ka().memoizedState=xh.bind(null,kr)}},Vv={readContext:la,use:fs,useCallback:mh,useContext:la,useEffect:a1,useImperativeHandle:fh,useInsertionEffect:hh,useLayoutEffect:vc,useMemo:o1,useReducer:qu,useRef:z0,useState:function(){return qu(gs)},useDebugValue:gh,useDeferredValue:function(o,d){var x=ji();return H0(x,Vr.memoizedState,o,d)},useTransition:function(){var o=qu(gs)[0],d=ji().memoizedState;return[typeof o=="boolean"?o:Vl(o),d]},useSyncExternalStore:Wu,useId:ph,useHostTransitionStatus:Zu,useFormState:U0,useActionState:U0,useOptimistic:function(o,d){var x=ji();return dl(x,Vr,o,d)},useMemoCache:Gl,useCacheRefresh:l1},LE={readContext:la,use:fs,useCallback:mh,useContext:la,useEffect:a1,useImperativeHandle:fh,useInsertionEffect:hh,useLayoutEffect:vc,useMemo:o1,useReducer:B0,useRef:z0,useState:function(){return B0(gs)},useDebugValue:gh,useDeferredValue:function(o,d){var x=ji();return Vr===null?yc(x,o,d):H0(x,Vr.memoizedState,o,d)},useTransition:function(){var o=B0(gs)[0],d=ji().memoizedState;return[typeof o=="boolean"?o:Vl(o),d]},useSyncExternalStore:Wu,useId:ph,useHostTransitionStatus:Zu,useFormState:i1,useActionState:i1,useOptimistic:function(o,d){var x=ji();return Vr!==null?dl(x,Vr,o,d):(x.baseState=o,[o,x.queue.dispatch])},useMemoCache:Gl,useCacheRefresh:l1},q0=null,wh=0;function d1(o){var d=wh;return wh+=1,q0===null&&(q0=[]),gt(q0,o,d)}function bh(o,d){d=d.props.ref,o.ref=d!==void 0?d:null}function h1(o,d){throw d.$$typeof===v?Error(n(525)):(o=Object.prototype.toString.call(d),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o)))}function Gv(o){var d=o._init;return d(o._payload)}function $v(o){function d(ot,Ze){if(o){var ft=ot.deletions;ft===null?(ot.deletions=[Ze],ot.flags|=16):ft.push(Ze)}}function x(ot,Ze){if(!o)return null;for(;Ze!==null;)d(ot,Ze),Ze=Ze.sibling;return null}function E(ot){for(var Ze=new Map;ot!==null;)ot.key!==null?Ze.set(ot.key,ot):Ze.set(ot.index,ot),ot=ot.sibling;return Ze}function O(ot,Ze){return ot=Fo(ot,Ze),ot.index=0,ot.sibling=null,ot}function F(ot,Ze,ft){return ot.index=ft,o?(ft=ot.alternate,ft!==null?(ft=ft.index,ft<Ze?(ot.flags|=67108866,Ze):ft):(ot.flags|=67108866,Ze)):(ot.flags|=1048576,Ze)}function ae(ot){return o&&ot.alternate===null&&(ot.flags|=67108866),ot}function Ee(ot,Ze,ft,Lt){return Ze===null||Ze.tag!==6?(Ze=R0(ft,ot.mode,Lt),Ze.return=ot,Ze):(Ze=O(Ze,ft),Ze.return=ot,Ze)}function qe(ot,Ze,ft,Lt){var _r=ft.type;return _r===C?jt(ot,Ze,ft.props.children,Lt,ft.key):Ze!==null&&(Ze.elementType===_r||typeof _r=="object"&&_r!==null&&_r.$$typeof===V&&Gv(_r)===Ze.type)?(Ze=O(Ze,ft.props),bh(Ze,ft),Ze.return=ot,Ze):(Ze=dc(ft.type,ft.key,ft.props,null,ot.mode,Lt),bh(Ze,ft),Ze.return=ot,Ze)}function pt(ot,Ze,ft,Lt){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==ft.containerInfo||Ze.stateNode.implementation!==ft.implementation?(Ze=Fu(ft,ot.mode,Lt),Ze.return=ot,Ze):(Ze=O(Ze,ft.children||[]),Ze.return=ot,Ze)}function jt(ot,Ze,ft,Lt,_r){return Ze===null||Ze.tag!==7?(Ze=il(ft,ot.mode,Lt,_r),Ze.return=ot,Ze):(Ze=O(Ze,ft),Ze.return=ot,Ze)}function Ut(ot,Ze,ft){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ze=R0(""+Ze,ot.mode,ft),Ze.return=ot,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case b:return ft=dc(Ze.type,Ze.key,Ze.props,null,ot.mode,ft),bh(ft,Ze),ft.return=ot,ft;case _:return Ze=Fu(Ze,ot.mode,ft),Ze.return=ot,Ze;case V:var Lt=Ze._init;return Ze=Lt(Ze._payload),Ut(ot,Ze,ft)}if(me(Ze)||H(Ze))return Ze=il(Ze,ot.mode,ft,null),Ze.return=ot,Ze;if(typeof Ze.then=="function")return Ut(ot,d1(Ze),ft);if(Ze.$$typeof===P)return Ut(ot,Hl(ot,Ze),ft);h1(ot,Ze)}return null}function yt(ot,Ze,ft,Lt){var _r=Ze!==null?Ze.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return _r!==null?null:Ee(ot,Ze,""+ft,Lt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case b:return ft.key===_r?qe(ot,Ze,ft,Lt):null;case _:return ft.key===_r?pt(ot,Ze,ft,Lt):null;case V:return _r=ft._init,ft=_r(ft._payload),yt(ot,Ze,ft,Lt)}if(me(ft)||H(ft))return _r!==null?null:jt(ot,Ze,ft,Lt,null);if(typeof ft.then=="function")return yt(ot,Ze,d1(ft),Lt);if(ft.$$typeof===P)return yt(ot,Ze,Hl(ot,ft),Lt);h1(ot,ft)}return null}function bt(ot,Ze,ft,Lt,_r){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return ot=ot.get(ft)||null,Ee(Ze,ot,""+Lt,_r);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case b:return ot=ot.get(Lt.key===null?ft:Lt.key)||null,qe(Ze,ot,Lt,_r);case _:return ot=ot.get(Lt.key===null?ft:Lt.key)||null,pt(Ze,ot,Lt,_r);case V:var yn=Lt._init;return Lt=yn(Lt._payload),bt(ot,Ze,ft,Lt,_r)}if(me(Lt)||H(Lt))return ot=ot.get(ft)||null,jt(Ze,ot,Lt,_r,null);if(typeof Lt.then=="function")return bt(ot,Ze,ft,d1(Lt),_r);if(Lt.$$typeof===P)return bt(ot,Ze,ft,Hl(Ze,Lt),_r);h1(Ze,Lt)}return null}function $r(ot,Ze,ft,Lt){for(var _r=null,yn=null,Tr=Ze,Ur=Ze=0,Ma=null;Tr!==null&&Ur<ft.length;Ur++){Tr.index>Ur?(Ma=Tr,Tr=null):Ma=Tr.sibling;var Gn=yt(ot,Tr,ft[Ur],Lt);if(Gn===null){Tr===null&&(Tr=Ma);break}o&&Tr&&Gn.alternate===null&&d(ot,Tr),Ze=F(Gn,Ze,Ur),yn===null?_r=Gn:yn.sibling=Gn,yn=Gn,Tr=Ma}if(Ur===ft.length)return x(ot,Tr),Bn&&fc(ot,Ur),_r;if(Tr===null){for(;Ur<ft.length;Ur++)Tr=Ut(ot,ft[Ur],Lt),Tr!==null&&(Ze=F(Tr,Ze,Ur),yn===null?_r=Tr:yn.sibling=Tr,yn=Tr);return Bn&&fc(ot,Ur),_r}for(Tr=E(Tr);Ur<ft.length;Ur++)Ma=bt(Tr,ot,Ur,ft[Ur],Lt),Ma!==null&&(o&&Ma.alternate!==null&&Tr.delete(Ma.key===null?Ur:Ma.key),Ze=F(Ma,Ze,Ur),yn===null?_r=Ma:yn.sibling=Ma,yn=Ma);return o&&Tr.forEach(function(hu){return d(ot,hu)}),Bn&&fc(ot,Ur),_r}function Fr(ot,Ze,ft,Lt){if(ft==null)throw Error(n(151));for(var _r=null,yn=null,Tr=Ze,Ur=Ze=0,Ma=null,Gn=ft.next();Tr!==null&&!Gn.done;Ur++,Gn=ft.next()){Tr.index>Ur?(Ma=Tr,Tr=null):Ma=Tr.sibling;var hu=yt(ot,Tr,Gn.value,Lt);if(hu===null){Tr===null&&(Tr=Ma);break}o&&Tr&&hu.alternate===null&&d(ot,Tr),Ze=F(hu,Ze,Ur),yn===null?_r=hu:yn.sibling=hu,yn=hu,Tr=Ma}if(Gn.done)return x(ot,Tr),Bn&&fc(ot,Ur),_r;if(Tr===null){for(;!Gn.done;Ur++,Gn=ft.next())Gn=Ut(ot,Gn.value,Lt),Gn!==null&&(Ze=F(Gn,Ze,Ur),yn===null?_r=Gn:yn.sibling=Gn,yn=Gn);return Bn&&fc(ot,Ur),_r}for(Tr=E(Tr);!Gn.done;Ur++,Gn=ft.next())Gn=bt(Tr,ot,Ur,Gn.value,Lt),Gn!==null&&(o&&Gn.alternate!==null&&Tr.delete(Gn.key===null?Ur:Gn.key),Ze=F(Gn,Ze,Ur),yn===null?_r=Gn:yn.sibling=Gn,yn=Gn);return o&&Tr.forEach(function(IS){return d(ot,IS)}),Bn&&fc(ot,Ur),_r}function ui(ot,Ze,ft,Lt){if(typeof ft=="object"&&ft!==null&&ft.type===C&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case b:e:{for(var _r=ft.key;Ze!==null;){if(Ze.key===_r){if(_r=ft.type,_r===C){if(Ze.tag===7){x(ot,Ze.sibling),Lt=O(Ze,ft.props.children),Lt.return=ot,ot=Lt;break e}}else if(Ze.elementType===_r||typeof _r=="object"&&_r!==null&&_r.$$typeof===V&&Gv(_r)===Ze.type){x(ot,Ze.sibling),Lt=O(Ze,ft.props),bh(Lt,ft),Lt.return=ot,ot=Lt;break e}x(ot,Ze);break}else d(ot,Ze);Ze=Ze.sibling}ft.type===C?(Lt=il(ft.props.children,ot.mode,Lt,ft.key),Lt.return=ot,ot=Lt):(Lt=dc(ft.type,ft.key,ft.props,null,ot.mode,Lt),bh(Lt,ft),Lt.return=ot,ot=Lt)}return ae(ot);case _:e:{for(_r=ft.key;Ze!==null;){if(Ze.key===_r)if(Ze.tag===4&&Ze.stateNode.containerInfo===ft.containerInfo&&Ze.stateNode.implementation===ft.implementation){x(ot,Ze.sibling),Lt=O(Ze,ft.children||[]),Lt.return=ot,ot=Lt;break e}else{x(ot,Ze);break}else d(ot,Ze);Ze=Ze.sibling}Lt=Fu(ft,ot.mode,Lt),Lt.return=ot,ot=Lt}return ae(ot);case V:return _r=ft._init,ft=_r(ft._payload),ui(ot,Ze,ft,Lt)}if(me(ft))return $r(ot,Ze,ft,Lt);if(H(ft)){if(_r=H(ft),typeof _r!="function")throw Error(n(150));return ft=_r.call(ft),Fr(ot,Ze,ft,Lt)}if(typeof ft.then=="function")return ui(ot,Ze,d1(ft),Lt);if(ft.$$typeof===P)return ui(ot,Ze,Hl(ot,ft),Lt);h1(ot,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,Ze!==null&&Ze.tag===6?(x(ot,Ze.sibling),Lt=O(Ze,ft),Lt.return=ot,ot=Lt):(x(ot,Ze),Lt=R0(ft,ot.mode,Lt),Lt.return=ot,ot=Lt),ae(ot)):x(ot,Ze)}return function(ot,Ze,ft,Lt){try{wh=0;var _r=ui(ot,Ze,ft,Lt);return q0=null,_r}catch(Tr){if(Tr===pe||Tr===_e)throw Tr;var yn=Pa(29,Tr,null,ot.mode);return yn.lanes=Lt,yn.return=ot,yn}finally{}}}var W0=$v(!0),Xv=$v(!1),qo=Le(null),$l=null;function Zc(o){var d=o.alternate;q(Na,Na.current&1),q(qo,o),$l===null&&(d===null||dn.current!==null||d.memoizedState!==null)&&($l=o)}function Yv(o){if(o.tag===22){if(q(Na,Na.current),q(qo,o),$l===null){var d=o.alternate;d!==null&&d.memoizedState!==null&&($l=o)}}else Jc()}function Jc(){q(Na,Na.current),q(qo,qo.current)}function wc(o){M(qo),$l===o&&($l=null),M(Na)}var Na=Le(0);function f1(o){for(var d=o;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||ap(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function pm(o,d,x,E){d=o.memoizedState,x=x(E,d),x=x==null?d:m({},d,x),o.memoizedState=x,o.lanes===0&&(o.updateQueue.baseState=x)}var xm={enqueueSetState:function(o,d,x){o=o._reactInternals;var E=xo(),O=Tt(E);O.payload=d,x!=null&&(O.callback=x),d=Ft(o,O,E),d!==null&&(vo(d,o,E),Rt(d,o,E))},enqueueReplaceState:function(o,d,x){o=o._reactInternals;var E=xo(),O=Tt(E);O.tag=1,O.payload=d,x!=null&&(O.callback=x),d=Ft(o,O,E),d!==null&&(vo(d,o,E),Rt(d,o,E))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var x=xo(),E=Tt(x);E.tag=2,d!=null&&(E.callback=d),d=Ft(o,E,x),d!==null&&(vo(d,o,x),Rt(d,o,x))}};function Kv(o,d,x,E,O,F,ae){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(E,F,ae):d.prototype&&d.prototype.isPureReactComponent?!w(x,E)||!w(O,F):!0}function Zv(o,d,x,E){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,E),d.state!==o&&xm.enqueueReplaceState(d,d.state,null)}function Ju(o,d){var x=d;if("ref"in d){x={};for(var E in d)E!=="ref"&&(x[E]=d[E])}if(o=o.defaultProps){x===d&&(x=m({},x));for(var O in o)x[O]===void 0&&(x[O]=o[O])}return x}var g1=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Jv(o){g1(o)}function Qv(o){console.error(o)}function ey(o){g1(o)}function m1(o,d){try{var x=o.onUncaughtError;x(d.value,{componentStack:d.stack})}catch(E){setTimeout(function(){throw E})}}function ty(o,d,x){try{var E=o.onCaughtError;E(x.value,{componentStack:x.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function vm(o,d,x){return x=Tt(x),x.tag=3,x.payload={element:null},x.callback=function(){m1(o,d)},x}function ry(o){return o=Tt(o),o.tag=3,o}function ny(o,d,x,E){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var F=E.value;o.payload=function(){return O(F)},o.callback=function(){ty(d,x,E)}}var ae=x.stateNode;ae!==null&&typeof ae.componentDidCatch=="function"&&(o.callback=function(){ty(d,x,E),typeof O!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var Ee=E.stack;this.componentDidCatch(E.value,{componentStack:Ee!==null?Ee:""})})}function IE(o,d,x,E,O){if(x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(d=x.alternate,d!==null&&Vc(d,x,O,!0),x=qo.current,x!==null){switch(x.tag){case 13:return $l===null?Hm():x.alternate===null&&Ji===0&&(Ji=3),x.flags&=-257,x.flags|=65536,x.lanes=O,E===Ne?x.flags|=16384:(d=x.updateQueue,d===null?x.updateQueue=new Set([E]):d.add(E),Wm(o,E,O)),!1;case 22:return x.flags|=65536,E===Ne?x.flags|=16384:(d=x.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([E])},x.updateQueue=d):(x=d.retryQueue,x===null?d.retryQueue=new Set([E]):x.add(E)),Wm(o,E,O)),!1}throw Error(n(435,x.tag))}return Wm(o,E,O),Hm(),!1}if(Bn)return d=qo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,E!==ah&&(o=Error(n(422),{cause:E}),Wc(pn(o,x)))):(E!==ah&&(d=Error(n(423),{cause:E}),Wc(pn(d,x))),o=o.current.alternate,o.flags|=65536,O&=-O,o.lanes|=O,E=pn(E,x),O=vm(o.stateNode,E,O),ur(o,O),Ji!==4&&(Ji=2)),!1;var F=Error(n(520),{cause:E});if(F=pn(F,x),Th===null?Th=[F]:Th.push(F),Ji!==4&&(Ji=2),d===null)return!0;E=pn(E,x),x=d;do{switch(x.tag){case 3:return x.flags|=65536,o=O&-O,x.lanes|=o,o=vm(x.stateNode,E,o),ur(x,o),!1;case 1:if(d=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(iu===null||!iu.has(F))))return x.flags|=65536,O&=-O,x.lanes|=O,O=ry(O),ny(O,o,x,E),ur(x,O),!1}x=x.return}while(x!==null);return!1}var iy=Error(n(461)),Fa=!1;function Za(o,d,x,E){d.child=o===null?Xv(d,null,x,E):W0(d,o.child,x,E)}function ay(o,d,x,E,O){x=x.render;var F=d.ref;if("ref"in E){var ae={};for(var Ee in E)Ee!=="ref"&&(ae[Ee]=E[Ee])}else ae=E;return zo(d),E=ho(o,d,x,ae,F,O),Ee=yi(),o!==null&&!Fa?(Hu(o,d,O),bc(o,d,O)):(Bn&&Ee&&Bu(d),d.flags|=1,Za(o,d,E,O),d.child)}function sy(o,d,x,E,O){if(o===null){var F=x.type;return typeof F=="function"&&!Hc(F)&&F.defaultProps===void 0&&x.compare===null?(d.tag=15,d.type=F,oy(o,d,F,E,O)):(o=dc(x.type,null,E,d,d.mode,O),o.ref=d.ref,o.return=d,d.child=o)}if(F=o.child,!Am(o,O)){var ae=F.memoizedProps;if(x=x.compare,x=x!==null?x:w,x(ae,E)&&o.ref===d.ref)return bc(o,d,O)}return d.flags|=1,o=Fo(F,E),o.ref=d.ref,o.return=d,d.child=o}function oy(o,d,x,E,O){if(o!==null){var F=o.memoizedProps;if(w(F,E)&&o.ref===d.ref)if(Fa=!1,d.pendingProps=E=F,Am(o,O))(o.flags&131072)!==0&&(Fa=!0);else return d.lanes=o.lanes,bc(o,d,O)}return ym(o,d,x,E,O)}function ly(o,d,x){var E=d.pendingProps,O=E.children,F=o!==null?o.memoizedState:null;if(E.mode==="hidden"){if((d.flags&128)!==0){if(E=F!==null?F.baseLanes|x:x,o!==null){for(O=d.child=o.child,F=0;O!==null;)F=F|O.lanes|O.childLanes,O=O.sibling;d.childLanes=F&~E}else d.childLanes=0,d.child=null;return cy(o,d,E,x)}if((x&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},o!==null&&Z(d,F!==null?F.cachePool:null),F!==null?Zn(d,F):Wn(),Yv(d);else return d.lanes=d.childLanes=536870912,cy(o,d,F!==null?F.baseLanes|x:x,x)}else F!==null?(Z(d,F.cachePool),Zn(d,F),Jc(),d.memoizedState=null):(o!==null&&Z(d,null),Wn(),Jc());return Za(o,d,O,x),d.child}function cy(o,d,x,E){var O=U();return O=O===null?null:{parent:ca._currentValue,pool:O},d.memoizedState={baseLanes:x,cachePool:O},o!==null&&Z(d,null),Wn(),Yv(d),o!==null&&Vc(o,d,E,!0),null}function p1(o,d){var x=d.ref;if(x===null)o!==null&&o.ref!==null&&(d.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(o===null||o.ref!==x)&&(d.flags|=4194816)}}function ym(o,d,x,E,O){return zo(d),x=ho(o,d,x,E,void 0,O),E=yi(),o!==null&&!Fa?(Hu(o,d,O),bc(o,d,O)):(Bn&&E&&Bu(d),d.flags|=1,Za(o,d,x,O),d.child)}function uy(o,d,x,E,O,F){return zo(d),d.updateQueue=null,x=pc(d,E,x,O),ql(o),E=yi(),o!==null&&!Fa?(Hu(o,d,F),bc(o,d,F)):(Bn&&E&&Bu(d),d.flags|=1,Za(o,d,x,F),d.child)}function dy(o,d,x,E,O){if(zo(d),d.stateNode===null){var F=xa,ae=x.contextType;typeof ae=="object"&&ae!==null&&(F=la(ae)),F=new x(E,F),d.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=xm,d.stateNode=F,F._reactInternals=d,F=d.stateNode,F.props=E,F.state=d.memoizedState,F.refs={},Ye(d),ae=x.contextType,F.context=typeof ae=="object"&&ae!==null?la(ae):xa,F.state=d.memoizedState,ae=x.getDerivedStateFromProps,typeof ae=="function"&&(pm(d,x,ae,E),F.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ae=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ae!==F.state&&xm.enqueueReplaceState(F,F.state,null),ir(d,E,F,O),Cr(),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308),E=!0}else if(o===null){F=d.stateNode;var Ee=d.memoizedProps,qe=Ju(x,Ee);F.props=qe;var pt=F.context,jt=x.contextType;ae=xa,typeof jt=="object"&&jt!==null&&(ae=la(jt));var Ut=x.getDerivedStateFromProps;jt=typeof Ut=="function"||typeof F.getSnapshotBeforeUpdate=="function",Ee=d.pendingProps!==Ee,jt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Ee||pt!==ae)&&Zv(d,F,E,ae),_t=!1;var yt=d.memoizedState;F.state=yt,ir(d,E,F,O),Cr(),pt=d.memoizedState,Ee||yt!==pt||_t?(typeof Ut=="function"&&(pm(d,x,Ut,E),pt=d.memoizedState),(qe=_t||Kv(d,x,qe,E,yt,pt,ae))?(jt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=pt),F.props=E,F.state=pt,F.context=ae,E=qe):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{F=d.stateNode,Qe(o,d),ae=d.memoizedProps,jt=Ju(x,ae),F.props=jt,Ut=d.pendingProps,yt=F.context,pt=x.contextType,qe=xa,typeof pt=="object"&&pt!==null&&(qe=la(pt)),Ee=x.getDerivedStateFromProps,(pt=typeof Ee=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ae!==Ut||yt!==qe)&&Zv(d,F,E,qe),_t=!1,yt=d.memoizedState,F.state=yt,ir(d,E,F,O),Cr();var bt=d.memoizedState;ae!==Ut||yt!==bt||_t||o!==null&&o.dependencies!==null&&D0(o.dependencies)?(typeof Ee=="function"&&(pm(d,x,Ee,E),bt=d.memoizedState),(jt=_t||Kv(d,x,jt,E,yt,bt,qe)||o!==null&&o.dependencies!==null&&D0(o.dependencies))?(pt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(E,bt,qe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(E,bt,qe)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||ae===o.memoizedProps&&yt===o.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&yt===o.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=bt),F.props=E,F.state=bt,F.context=qe,E=jt):(typeof F.componentDidUpdate!="function"||ae===o.memoizedProps&&yt===o.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&yt===o.memoizedState||(d.flags|=1024),E=!1)}return F=E,p1(o,d),E=(d.flags&128)!==0,F||E?(F=d.stateNode,x=E&&typeof x.getDerivedStateFromError!="function"?null:F.render(),d.flags|=1,o!==null&&E?(d.child=W0(d,o.child,null,O),d.child=W0(d,null,x,O)):Za(o,d,x,O),d.memoizedState=F.state,o=d.child):o=bc(o,d,O),o}function hy(o,d,x,E){return Rs(),d.flags|=256,Za(o,d,x,E),d.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(o){return{baseLanes:o,cachePool:ue()}}function _m(o,d,x){return o=o!==null?o.childLanes&~x:0,d&&(o|=Wo),o}function fy(o,d,x){var E=d.pendingProps,O=!1,F=(d.flags&128)!==0,ae;if((ae=F)||(ae=o!==null&&o.memoizedState===null?!1:(Na.current&2)!==0),ae&&(O=!0,d.flags&=-129),ae=(d.flags&32)!==0,d.flags&=-33,o===null){if(Bn){if(O?Zc(d):Jc(),Bn){var Ee=Mi,qe;if(qe=Ee){e:{for(qe=Ee,Ee=Bo;qe.nodeType!==8;){if(!Ee){Ee=null;break e}if(qe=pl(qe.nextSibling),qe===null){Ee=null;break e}}Ee=qe}Ee!==null?(d.memoizedState={dehydrated:Ee,treeContext:hc!==null?{id:sl,overflow:ol}:null,retryLane:536870912,hydrationErrors:null},qe=Pa(18,null,null,0),qe.stateNode=Ee,qe.return=d,d.child=qe,oa=d,Mi=null,qe=!0):qe=!1}qe||gc(d)}if(Ee=d.memoizedState,Ee!==null&&(Ee=Ee.dehydrated,Ee!==null))return ap(Ee)?d.lanes=32:d.lanes=536870912,null;wc(d)}return Ee=E.children,E=E.fallback,O?(Jc(),O=d.mode,Ee=x1({mode:"hidden",children:Ee},O),E=il(E,O,x,null),Ee.return=d,E.return=d,Ee.sibling=E,d.child=Ee,O=d.child,O.memoizedState=bm(x),O.childLanes=_m(o,ae,x),d.memoizedState=wm,E):(Zc(d),Em(d,Ee))}if(qe=o.memoizedState,qe!==null&&(Ee=qe.dehydrated,Ee!==null)){if(F)d.flags&256?(Zc(d),d.flags&=-257,d=Sm(o,d,x)):d.memoizedState!==null?(Jc(),d.child=o.child,d.flags|=128,d=null):(Jc(),O=E.fallback,Ee=d.mode,E=x1({mode:"visible",children:E.children},Ee),O=il(O,Ee,x,null),O.flags|=2,E.return=d,O.return=d,E.sibling=O,d.child=E,W0(d,o.child,null,x),E=d.child,E.memoizedState=bm(x),E.childLanes=_m(o,ae,x),d.memoizedState=wm,d=O);else if(Zc(d),ap(Ee)){if(ae=Ee.nextSibling&&Ee.nextSibling.dataset,ae)var pt=ae.dgst;ae=pt,E=Error(n(419)),E.stack="",E.digest=ae,Wc({value:E,source:null,stack:null}),d=Sm(o,d,x)}else if(Fa||Vc(o,d,x,!1),ae=(x&o.childLanes)!==0,Fa||ae){if(ae=wi,ae!==null&&(E=x&-x,E=(E&42)!==0?1:Ea(E),E=(E&(ae.suspendedLanes|x))!==0?0:E,E!==0&&E!==qe.retryLane))throw qe.retryLane=E,nl(o,E),vo(ae,o,E),iy;Ee.data==="$?"||Hm(),d=Sm(o,d,x)}else Ee.data==="$?"?(d.flags|=192,d.child=o.child,d=null):(o=qe.treeContext,Mi=pl(Ee.nextSibling),oa=d,Bn=!0,Ul=null,Bo=!1,o!==null&&(Vs[Os++]=sl,Vs[Os++]=ol,Vs[Os++]=hc,sl=o.id,ol=o.overflow,hc=d),d=Em(d,E.children),d.flags|=4096);return d}return O?(Jc(),O=E.fallback,Ee=d.mode,qe=o.child,pt=qe.sibling,E=Fo(qe,{mode:"hidden",children:E.children}),E.subtreeFlags=qe.subtreeFlags&65011712,pt!==null?O=Fo(pt,O):(O=il(O,Ee,x,null),O.flags|=2),O.return=d,E.return=d,E.sibling=O,d.child=E,E=O,O=d.child,Ee=o.child.memoizedState,Ee===null?Ee=bm(x):(qe=Ee.cachePool,qe!==null?(pt=ca._currentValue,qe=qe.parent!==pt?{parent:pt,pool:pt}:qe):qe=ue(),Ee={baseLanes:Ee.baseLanes|x,cachePool:qe}),O.memoizedState=Ee,O.childLanes=_m(o,ae,x),d.memoizedState=wm,E):(Zc(d),x=o.child,o=x.sibling,x=Fo(x,{mode:"visible",children:E.children}),x.return=d,x.sibling=null,o!==null&&(ae=d.deletions,ae===null?(d.deletions=[o],d.flags|=16):ae.push(o)),d.child=x,d.memoizedState=null,x)}function Em(o,d){return d=x1({mode:"visible",children:d},o.mode),d.return=o,o.child=d}function x1(o,d){return o=Pa(22,o,null,d),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Sm(o,d,x){return W0(d,o.child,null,x),o=Em(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function gy(o,d,x){o.lanes|=d;var E=o.alternate;E!==null&&(E.lanes|=d),L0(o.return,d,x)}function Nm(o,d,x,E,O){var F=o.memoizedState;F===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:O}:(F.isBackwards=d,F.rendering=null,F.renderingStartTime=0,F.last=E,F.tail=x,F.tailMode=O)}function my(o,d,x){var E=d.pendingProps,O=E.revealOrder,F=E.tail;if(Za(o,d,E.children,x),E=Na.current,(E&2)!==0)E=E&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&gy(o,x,d);else if(o.tag===19)gy(o,x,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}E&=1}switch(q(Na,E),O){case"forwards":for(x=d.child,O=null;x!==null;)o=x.alternate,o!==null&&f1(o)===null&&(O=x),x=x.sibling;x=O,x===null?(O=d.child,d.child=null):(O=x.sibling,x.sibling=null),Nm(d,!1,O,x,F);break;case"backwards":for(x=null,O=d.child,d.child=null;O!==null;){if(o=O.alternate,o!==null&&f1(o)===null){d.child=O;break}o=O.sibling,O.sibling=x,x=O,O=o}Nm(d,!0,x,null,F);break;case"together":Nm(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function bc(o,d,x){if(o!==null&&(d.dependencies=o.dependencies),nu|=d.lanes,(x&d.childLanes)===0)if(o!==null){if(Vc(o,d,x,!1),(x&d.childLanes)===0)return null}else return null;if(o!==null&&d.child!==o.child)throw Error(n(153));if(d.child!==null){for(o=d.child,x=Fo(o,o.pendingProps),d.child=x,x.return=d;o.sibling!==null;)o=o.sibling,x=x.sibling=Fo(o,o.pendingProps),x.return=d;x.sibling=null}return d.child}function Am(o,d){return(o.lanes&d)!==0?!0:(o=o.dependencies,!!(o!==null&&D0(o)))}function DE(o,d,x){switch(d.tag){case 3:Te(d,d.stateNode.containerInfo),zl(d,ca,o.memoizedState.cache),Rs();break;case 27:case 5:Oe(d);break;case 4:Te(d,d.stateNode.containerInfo);break;case 10:zl(d,d.type,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(Zc(d),d.flags|=128,null):(x&d.child.childLanes)!==0?fy(o,d,x):(Zc(d),o=bc(o,d,x),o!==null?o.sibling:null);Zc(d);break;case 19:var O=(o.flags&128)!==0;if(E=(x&d.childLanes)!==0,E||(Vc(o,d,x,!1),E=(x&d.childLanes)!==0),O){if(E)return my(o,d,x);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),q(Na,Na.current),E)break;return null;case 22:case 23:return d.lanes=0,ly(o,d,x);case 24:zl(d,ca,o.memoizedState.cache)}return bc(o,d,x)}function py(o,d,x){if(o!==null)if(o.memoizedProps!==d.pendingProps)Fa=!0;else{if(!Am(o,x)&&(d.flags&128)===0)return Fa=!1,DE(o,d,x);Fa=(o.flags&131072)!==0}else Fa=!1,Bn&&(d.flags&1048576)!==0&&$f(d,k0,d.index);switch(d.lanes=0,d.tag){case 16:e:{o=d.pendingProps;var E=d.elementType,O=E._init;if(E=O(E._payload),d.type=E,typeof E=="function")Hc(E)?(o=Ju(E,o),d.tag=1,d=dy(null,d,E,o,x)):(d.tag=0,d=ym(null,d,E,o,x));else{if(E!=null){if(O=E.$$typeof,O===X){d.tag=11,d=ay(null,d,E,o,x);break e}else if(O===G){d.tag=14,d=sy(null,d,E,o,x);break e}}throw d=ve(E)||E,Error(n(306,d,""))}}return d;case 0:return ym(o,d,d.type,d.pendingProps,x);case 1:return E=d.type,O=Ju(E,d.pendingProps),dy(o,d,E,O,x);case 3:e:{if(Te(d,d.stateNode.containerInfo),o===null)throw Error(n(387));E=d.pendingProps;var F=d.memoizedState;O=F.element,Qe(o,d),ir(d,E,null,x);var ae=d.memoizedState;if(E=ae.cache,zl(d,ca,E),E!==F.cache&&I0(d,[ca],x,!0),Cr(),E=ae.element,F.isDehydrated)if(F={element:E,isDehydrated:!1,cache:ae.cache},d.updateQueue.baseState=F,d.memoizedState=F,d.flags&256){d=hy(o,d,E,x);break e}else if(E!==O){O=pn(Error(n(424)),d),Wc(O),d=hy(o,d,E,x);break e}else{switch(o=d.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mi=pl(o.firstChild),oa=d,Bn=!0,Ul=null,Bo=!0,x=Xv(d,null,E,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Rs(),E===O){d=bc(o,d,x);break e}Za(o,d,E,x)}d=d.child}return d;case 26:return p1(o,d),o===null?(x=w4(d.type,null,d.pendingProps,null))?d.memoizedState=x:Bn||(x=d.type,o=d.pendingProps,E=R1(le.current).createElement(x),E[gn]=d,E[cn]=o,Qa(E,x,o),Je(E),d.stateNode=E):d.memoizedState=w4(d.type,o.memoizedProps,d.pendingProps,o.memoizedState),null;case 27:return Oe(d),o===null&&Bn&&(E=d.stateNode=x4(d.type,d.pendingProps,le.current),oa=d,Bo=!0,O=Mi,ou(d.type)?(sp=O,Mi=pl(E.firstChild)):Mi=O),Za(o,d,d.pendingProps.children,x),p1(o,d),o===null&&(d.flags|=4194304),d.child;case 5:return o===null&&Bn&&((O=E=Mi)&&(E=cS(E,d.type,d.pendingProps,Bo),E!==null?(d.stateNode=E,oa=d,Mi=pl(E.firstChild),Bo=!1,O=!0):O=!1),O||gc(d)),Oe(d),O=d.type,F=d.pendingProps,ae=o!==null?o.memoizedProps:null,E=F.children,rp(O,F)?E=null:ae!==null&&rp(O,ae)&&(d.flags|=32),d.memoizedState!==null&&(O=ho(o,d,Wl,null,null,x),Fh._currentValue=O),p1(o,d),Za(o,d,E,x),d.child;case 6:return o===null&&Bn&&((o=x=Mi)&&(x=uS(x,d.pendingProps,Bo),x!==null?(d.stateNode=x,oa=d,Mi=null,o=!0):o=!1),o||gc(d)),null;case 13:return fy(o,d,x);case 4:return Te(d,d.stateNode.containerInfo),E=d.pendingProps,o===null?d.child=W0(d,null,E,x):Za(o,d,E,x),d.child;case 11:return ay(o,d,d.type,d.pendingProps,x);case 7:return Za(o,d,d.pendingProps,x),d.child;case 8:return Za(o,d,d.pendingProps.children,x),d.child;case 12:return Za(o,d,d.pendingProps.children,x),d.child;case 10:return E=d.pendingProps,zl(d,d.type,E.value),Za(o,d,E.children,x),d.child;case 9:return O=d.type._context,E=d.pendingProps.children,zo(d),O=la(O),E=E(O),d.flags|=1,Za(o,d,E,x),d.child;case 14:return sy(o,d,d.type,d.pendingProps,x);case 15:return oy(o,d,d.type,d.pendingProps,x);case 19:return my(o,d,x);case 31:return E=d.pendingProps,x=d.mode,E={mode:E.mode,children:E.children},o===null?(x=x1(E,x),x.ref=d.ref,d.child=x,x.return=d,d=x):(x=Fo(o.child,E),x.ref=d.ref,d.child=x,x.return=d,d=x),d;case 22:return ly(o,d,x);case 24:return zo(d),E=la(ca),o===null?(O=U(),O===null&&(O=wi,F=sh(),O.pooledCache=F,F.refCount++,F!==null&&(O.pooledCacheLanes|=x),O=F),d.memoizedState={parent:E,cache:O},Ye(d),zl(d,ca,O)):((o.lanes&x)!==0&&(Qe(o,d),ir(d,null,null,x),Cr()),O=o.memoizedState,F=d.memoizedState,O.parent!==E?(O={parent:E,cache:E},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),zl(d,ca,E)):(E=F.cache,zl(d,ca,E),E!==O.cache&&I0(d,[ca],x,!0))),Za(o,d,d.pendingProps.children,x),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function _c(o){o.flags|=4}function xy(o,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!N4(d)){if(d=qo.current,d!==null&&((Dn&4194048)===Dn?$l!==null:(Dn&62914560)!==Dn&&(Dn&536870912)===0||d!==$l))throw dt=Ne,ye;o.flags|=8192}}function v1(o,d){d!==null&&(o.flags|=4),o.flags&16384&&(d=o.tag!==22?Mn():536870912,o.lanes|=d,X0|=d)}function _h(o,d){if(!Bn)switch(o.tailMode){case"hidden":d=o.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?o.tail=null:x.sibling=null;break;case"collapsed":x=o.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:E.sibling=null}}function $i(o){var d=o.alternate!==null&&o.alternate.child===o.child,x=0,E=0;if(d)for(var O=o.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags&65011712,E|=O.flags&65011712,O.return=o,O=O.sibling;else for(O=o.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags,E|=O.flags,O.return=o,O=O.sibling;return o.subtreeFlags|=E,o.childLanes=x,d}function PE(o,d,x){var E=d.pendingProps;switch(Mu(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(d),null;case 1:return $i(d),null;case 3:return x=d.stateNode,E=null,o!==null&&(E=o.memoizedState.cache),d.memoizedState.cache!==E&&(d.flags|=2048),Uo(ca),Me(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Ya(d)?_c(d):o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Yf())),$i(d),null;case 26:return x=d.memoizedState,o===null?(_c(d),x!==null?($i(d),xy(d,x)):($i(d),d.flags&=-16777217)):x?x!==o.memoizedState?(_c(d),$i(d),xy(d,x)):($i(d),d.flags&=-16777217):(o.memoizedProps!==E&&_c(d),$i(d),d.flags&=-16777217),null;case 27:ze(d),x=le.current;var O=d.type;if(o!==null&&d.stateNode!=null)o.memoizedProps!==E&&_c(d);else{if(!E){if(d.stateNode===null)throw Error(n(166));return $i(d),null}o=J.current,Ya(d)?Xf(d):(o=x4(O,E,x),d.stateNode=o,_c(d))}return $i(d),null;case 5:if(ze(d),x=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==E&&_c(d);else{if(!E){if(d.stateNode===null)throw Error(n(166));return $i(d),null}if(o=J.current,Ya(d))Xf(d);else{switch(O=R1(le.current),o){case 1:o=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:o=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":o=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":o=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof E.is=="string"?O.createElement("select",{is:E.is}):O.createElement("select"),E.multiple?o.multiple=!0:E.size&&(o.size=E.size);break;default:o=typeof E.is=="string"?O.createElement(x,{is:E.is}):O.createElement(x)}}o[gn]=d,o[cn]=E;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)o.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=o;e:switch(Qa(o,x,E),x){case"button":case"input":case"select":case"textarea":o=!!E.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&_c(d)}}return $i(d),d.flags&=-16777217,null;case 6:if(o&&d.stateNode!=null)o.memoizedProps!==E&&_c(d);else{if(typeof E!="string"&&d.stateNode===null)throw Error(n(166));if(o=le.current,Ya(d)){if(o=d.stateNode,x=d.memoizedProps,E=null,O=oa,O!==null)switch(O.tag){case 27:case 5:E=O.memoizedProps}o[gn]=d,o=!!(o.nodeValue===x||E!==null&&E.suppressHydrationWarning===!0||u4(o.nodeValue,x)),o||gc(d)}else o=R1(o).createTextNode(E),o[gn]=d,d.stateNode=o}return $i(d),null;case 13:if(E=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(O=Ya(d),E!==null&&E.dehydrated!==null){if(o===null){if(!O)throw Error(n(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[gn]=d}else Rs(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;$i(d),O=!1}else O=Yf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(wc(d),d):(wc(d),null)}if(wc(d),(d.flags&128)!==0)return d.lanes=x,d;if(x=E!==null,o=o!==null&&o.memoizedState!==null,x){E=d.child,O=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(O=E.alternate.memoizedState.cachePool.pool);var F=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(F=E.memoizedState.cachePool.pool),F!==O&&(E.flags|=2048)}return x!==o&&x&&(d.child.flags|=8192),v1(d,d.updateQueue),$i(d),null;case 4:return Me(),o===null&&Zm(d.stateNode.containerInfo),$i(d),null;case 10:return Uo(d.type),$i(d),null;case 19:if(M(Na),O=d.memoizedState,O===null)return $i(d),null;if(E=(d.flags&128)!==0,F=O.rendering,F===null)if(E)_h(O,!1);else{if(Ji!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(F=f1(o),F!==null){for(d.flags|=128,_h(O,!1),o=F.updateQueue,d.updateQueue=o,v1(d,o),d.subtreeFlags=0,o=x,x=d.child;x!==null;)Pu(x,o),x=x.sibling;return q(Na,Na.current&1|2),d.child}o=o.sibling}O.tail!==null&&Ve()>b1&&(d.flags|=128,E=!0,_h(O,!1),d.lanes=4194304)}else{if(!E)if(o=f1(F),o!==null){if(d.flags|=128,E=!0,o=o.updateQueue,d.updateQueue=o,v1(d,o),_h(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!Bn)return $i(d),null}else 2*Ve()-O.renderingStartTime>b1&&x!==536870912&&(d.flags|=128,E=!0,_h(O,!1),d.lanes=4194304);O.isBackwards?(F.sibling=d.child,d.child=F):(o=O.last,o!==null?o.sibling=F:d.child=F,O.last=F)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=Ve(),d.sibling=null,o=Na.current,q(Na,E?o&1|2:o&1),d):($i(d),null);case 22:case 23:return wc(d),Yr(),E=d.memoizedState!==null,o!==null?o.memoizedState!==null!==E&&(d.flags|=8192):E&&(d.flags|=8192),E?(x&536870912)!==0&&(d.flags&128)===0&&($i(d),d.subtreeFlags&6&&(d.flags|=8192)):$i(d),x=d.updateQueue,x!==null&&v1(d,x.retryQueue),x=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),E=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==x&&(d.flags|=2048),o!==null&&M(R),null;case 24:return x=null,o!==null&&(x=o.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),Uo(ca),$i(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function FE(o,d){switch(Mu(d),d.tag){case 1:return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Uo(ca),Me(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 26:case 27:case 5:return ze(d),null;case 13:if(wc(d),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Rs()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return M(Na),null;case 4:return Me(),null;case 10:return Uo(d.type),null;case 22:case 23:return wc(d),Yr(),o!==null&&M(R),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 24:return Uo(ca),null;case 25:return null;default:return null}}function vy(o,d){switch(Mu(d),d.tag){case 3:Uo(ca),Me();break;case 26:case 27:case 5:ze(d);break;case 4:Me();break;case 13:wc(d);break;case 19:M(Na);break;case 10:Uo(d.type);break;case 22:case 23:wc(d),Yr(),o!==null&&M(R);break;case 24:Uo(ca)}}function Eh(o,d){try{var x=d.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var O=E.next;x=O;do{if((x.tag&o)===o){E=void 0;var F=x.create,ae=x.inst;E=F(),ae.destroy=E}x=x.next}while(x!==O)}}catch(Ee){fi(d,d.return,Ee)}}function Qc(o,d,x){try{var E=d.updateQueue,O=E!==null?E.lastEffect:null;if(O!==null){var F=O.next;E=F;do{if((E.tag&o)===o){var ae=E.inst,Ee=ae.destroy;if(Ee!==void 0){ae.destroy=void 0,O=d;var qe=x,pt=Ee;try{pt()}catch(jt){fi(O,qe,jt)}}}E=E.next}while(E!==F)}}catch(jt){fi(d,d.return,jt)}}function yy(o){var d=o.updateQueue;if(d!==null){var x=o.stateNode;try{qn(d,x)}catch(E){fi(o,o.return,E)}}}function wy(o,d,x){x.props=Ju(o.type,o.memoizedProps),x.state=o.memoizedState;try{x.componentWillUnmount()}catch(E){fi(o,d,E)}}function Sh(o,d){try{var x=o.ref;if(x!==null){switch(o.tag){case 26:case 27:case 5:var E=o.stateNode;break;case 30:E=o.stateNode;break;default:E=o.stateNode}typeof x=="function"?o.refCleanup=x(E):x.current=E}}catch(O){fi(o,d,O)}}function Xl(o,d){var x=o.ref,E=o.refCleanup;if(x!==null)if(typeof E=="function")try{E()}catch(O){fi(o,d,O)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){fi(o,d,O)}else x.current=null}function by(o){var d=o.type,x=o.memoizedProps,E=o.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":x.autoFocus&&E.focus();break e;case"img":x.src?E.src=x.src:x.srcSet&&(E.srcset=x.srcSet)}}catch(O){fi(o,o.return,O)}}function Cm(o,d,x){try{var E=o.stateNode;iS(E,o.type,x,d),E[cn]=d}catch(O){fi(o,o.return,O)}}function _y(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ou(o.type)||o.tag===4}function Tm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_y(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ou(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function jm(o,d,x){var E=o.tag;if(E===5||E===6)o=o.stateNode,d?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(o,d):(d=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,d.appendChild(o),x=x._reactRootContainer,x!=null||d.onclick!==null||(d.onclick=O1));else if(E!==4&&(E===27&&ou(o.type)&&(x=o.stateNode,d=null),o=o.child,o!==null))for(jm(o,d,x),o=o.sibling;o!==null;)jm(o,d,x),o=o.sibling}function y1(o,d,x){var E=o.tag;if(E===5||E===6)o=o.stateNode,d?x.insertBefore(o,d):x.appendChild(o);else if(E!==4&&(E===27&&ou(o.type)&&(x=o.stateNode),o=o.child,o!==null))for(y1(o,d,x),o=o.sibling;o!==null;)y1(o,d,x),o=o.sibling}function Ey(o){var d=o.stateNode,x=o.memoizedProps;try{for(var E=o.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);Qa(d,E,x),d[gn]=o,d[cn]=x}catch(F){fi(o,o.return,F)}}var Ec=!1,da=!1,Om=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Ba=null;function BE(o,d){if(o=o.containerInfo,ep=F1,o=B(o),Q(o)){if("selectionStart"in o)var x={start:o.selectionStart,end:o.selectionEnd};else e:{x=(x=o.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var O=E.anchorOffset,F=E.focusNode;E=E.focusOffset;try{x.nodeType,F.nodeType}catch(Fr){x=null;break e}var ae=0,Ee=-1,qe=-1,pt=0,jt=0,Ut=o,yt=null;t:for(;;){for(var bt;Ut!==x||O!==0&&Ut.nodeType!==3||(Ee=ae+O),Ut!==F||E!==0&&Ut.nodeType!==3||(qe=ae+E),Ut.nodeType===3&&(ae+=Ut.nodeValue.length),(bt=Ut.firstChild)!==null;)yt=Ut,Ut=bt;for(;;){if(Ut===o)break t;if(yt===x&&++pt===O&&(Ee=ae),yt===F&&++jt===E&&(qe=ae),(bt=Ut.nextSibling)!==null)break;Ut=yt,yt=Ut.parentNode}Ut=bt}x=Ee===-1||qe===-1?null:{start:Ee,end:qe}}else x=null}x=x||{start:0,end:0}}else x=null;for(tp={focusedElem:o,selectionRange:x},F1=!1,Ba=d;Ba!==null;)if(d=Ba,o=d.child,(d.subtreeFlags&1024)!==0&&o!==null)o.return=d,Ba=o;else for(;Ba!==null;){switch(d=Ba,F=d.alternate,o=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&F!==null){o=void 0,x=d,O=F.memoizedProps,F=F.memoizedState,E=x.stateNode;try{var $r=Ju(x.type,O,x.elementType===x.type);o=E.getSnapshotBeforeUpdate($r,F),E.__reactInternalSnapshotBeforeUpdate=o}catch(Fr){fi(x,x.return,Fr)}}break;case 3:if((o&1024)!==0){if(o=d.stateNode.containerInfo,x=o.nodeType,x===9)ip(o);else if(x===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ip(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=d.sibling,o!==null){o.return=d.return,Ba=o;break}Ba=d.return}}function Ny(o,d,x){var E=x.flags;switch(x.tag){case 0:case 11:case 15:eu(o,x),E&4&&Eh(5,x);break;case 1:if(eu(o,x),E&4)if(o=x.stateNode,d===null)try{o.componentDidMount()}catch(ae){fi(x,x.return,ae)}else{var O=Ju(x.type,d.memoizedProps);d=d.memoizedState;try{o.componentDidUpdate(O,d,o.__reactInternalSnapshotBeforeUpdate)}catch(ae){fi(x,x.return,ae)}}E&64&&yy(x),E&512&&Sh(x,x.return);break;case 3:if(eu(o,x),E&64&&(o=x.updateQueue,o!==null)){if(d=null,x.child!==null)switch(x.child.tag){case 27:case 5:d=x.child.stateNode;break;case 1:d=x.child.stateNode}try{qn(o,d)}catch(ae){fi(x,x.return,ae)}}break;case 27:d===null&&E&4&&Ey(x);case 26:case 5:eu(o,x),d===null&&E&4&&by(x),E&512&&Sh(x,x.return);break;case 12:eu(o,x);break;case 13:eu(o,x),E&4&&Ty(o,x),E&64&&(o=x.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(x=$E.bind(null,x),dS(o,x))));break;case 22:if(E=x.memoizedState!==null||Ec,!E){d=d!==null&&d.memoizedState!==null||da,O=Ec;var F=da;Ec=E,(da=d)&&!F?tu(o,x,(x.subtreeFlags&8772)!==0):eu(o,x),Ec=O,da=F}break;case 30:break;default:eu(o,x)}}function Ay(o){var d=o.alternate;d!==null&&(o.alternate=null,Ay(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&je(d)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ui=null,$s=!1;function Sc(o,d,x){for(x=x.child;x!==null;)Cy(o,d,x),x=x.sibling}function Cy(o,d,x){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(ar,x)}catch(F){}switch(x.tag){case 26:da||Xl(x,d),Sc(o,d,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:da||Xl(x,d);var E=Ui,O=$s;ou(x.type)&&(Ui=x.stateNode,$s=!1),Sc(o,d,x),Lh(x.stateNode),Ui=E,$s=O;break;case 5:da||Xl(x,d);case 6:if(E=Ui,O=$s,Ui=null,Sc(o,d,x),Ui=E,$s=O,Ui!==null)if($s)try{(Ui.nodeType===9?Ui.body:Ui.nodeName==="HTML"?Ui.ownerDocument.body:Ui).removeChild(x.stateNode)}catch(F){fi(x,d,F)}else try{Ui.removeChild(x.stateNode)}catch(F){fi(x,d,F)}break;case 18:Ui!==null&&($s?(o=Ui,m4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,x.stateNode),zh(o)):m4(Ui,x.stateNode));break;case 4:E=Ui,O=$s,Ui=x.stateNode.containerInfo,$s=!0,Sc(o,d,x),Ui=E,$s=O;break;case 0:case 11:case 14:case 15:da||Qc(2,x,d),da||Qc(4,x,d),Sc(o,d,x);break;case 1:da||(Xl(x,d),E=x.stateNode,typeof E.componentWillUnmount=="function"&&wy(x,d,E)),Sc(o,d,x);break;case 21:Sc(o,d,x);break;case 22:da=(E=da)||x.memoizedState!==null,Sc(o,d,x),da=E;break;default:Sc(o,d,x)}}function Ty(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{zh(o)}catch(x){fi(d,d.return,x)}}function ME(o){switch(o.tag){case 13:case 19:var d=o.stateNode;return d===null&&(d=o.stateNode=new Sy),d;case 22:return o=o.stateNode,d=o._retryCache,d===null&&(d=o._retryCache=new Sy),d;default:throw Error(n(435,o.tag))}}function Rm(o,d){var x=ME(o);d.forEach(function(E){var O=XE.bind(null,o,E);x.has(E)||(x.add(E),E.then(O,O))})}function go(o,d){var x=d.deletions;if(x!==null)for(var E=0;E<x.length;E++){var O=x[E],F=o,ae=d,Ee=ae;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(ou(Ee.type)){Ui=Ee.stateNode,$s=!1;break e}break;case 5:Ui=Ee.stateNode,$s=!1;break e;case 3:case 4:Ui=Ee.stateNode.containerInfo,$s=!0;break e}Ee=Ee.return}if(Ui===null)throw Error(n(160));Cy(F,ae,O),Ui=null,$s=!1,F=O.alternate,F!==null&&(F.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)jy(d,o),d=d.sibling}var ml=null;function jy(o,d){var x=o.alternate,E=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:go(d,o),mo(o),E&4&&(Qc(3,o,o.return),Eh(3,o),Qc(5,o,o.return));break;case 1:go(d,o),mo(o),E&512&&(da||x===null||Xl(x,x.return)),E&64&&Ec&&(o=o.updateQueue,o!==null&&(E=o.callbacks,E!==null&&(x=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=x===null?E:x.concat(E))));break;case 26:var O=ml;if(go(d,o),mo(o),E&512&&(da||x===null||Xl(x,x.return)),E&4){var F=x!==null?x.memoizedState:null;if(E=o.memoizedState,x===null)if(E===null)if(o.stateNode===null){e:{E=o.type,x=o.memoizedProps,O=O.ownerDocument||O;t:switch(E){case"title":F=O.getElementsByTagName("title")[0],(!F||F[Ce]||F[gn]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=O.createElement(E),O.head.insertBefore(F,O.querySelector("head > title"))),Qa(F,E,x),F[gn]=o,Je(F),E=F;break e;case"link":var ae=E4("link","href",O).get(E+(x.href||""));if(ae){for(var Ee=0;Ee<ae.length;Ee++)if(F=ae[Ee],F.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&F.getAttribute("rel")===(x.rel==null?null:x.rel)&&F.getAttribute("title")===(x.title==null?null:x.title)&&F.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ae.splice(Ee,1);break t}}F=O.createElement(E),Qa(F,E,x),O.head.appendChild(F);break;case"meta":if(ae=E4("meta","content",O).get(E+(x.content||""))){for(Ee=0;Ee<ae.length;Ee++)if(F=ae[Ee],F.getAttribute("content")===(x.content==null?null:""+x.content)&&F.getAttribute("name")===(x.name==null?null:x.name)&&F.getAttribute("property")===(x.property==null?null:x.property)&&F.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&F.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ae.splice(Ee,1);break t}}F=O.createElement(E),Qa(F,E,x),O.head.appendChild(F);break;default:throw Error(n(468,E))}F[gn]=o,Je(F),E=F}o.stateNode=E}else S4(O,o.type,o.stateNode);else o.stateNode=_4(O,E,o.memoizedProps);else F!==E?(F===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):F.count--,E===null?S4(O,o.type,o.stateNode):_4(O,E,o.memoizedProps)):E===null&&o.stateNode!==null&&Cm(o,o.memoizedProps,x.memoizedProps)}break;case 27:go(d,o),mo(o),E&512&&(da||x===null||Xl(x,x.return)),x!==null&&E&4&&Cm(o,o.memoizedProps,x.memoizedProps);break;case 5:if(go(d,o),mo(o),E&512&&(da||x===null||Xl(x,x.return)),o.flags&32){O=o.stateNode;try{qi(O,"")}catch(bt){fi(o,o.return,bt)}}E&4&&o.stateNode!=null&&(O=o.memoizedProps,Cm(o,O,x!==null?x.memoizedProps:O)),E&1024&&(Om=!0);break;case 6:if(go(d,o),mo(o),E&4){if(o.stateNode===null)throw Error(n(162));E=o.memoizedProps,x=o.stateNode;try{x.nodeValue=E}catch(bt){fi(o,o.return,bt)}}break;case 3:if(I1=null,O=ml,ml=k1(d.containerInfo),go(d,o),ml=O,mo(o),E&4&&x!==null&&x.memoizedState.isDehydrated)try{zh(d.containerInfo)}catch(bt){fi(o,o.return,bt)}Om&&(Om=!1,Oy(o));break;case 4:E=ml,ml=k1(o.stateNode.containerInfo),go(d,o),mo(o),ml=E;break;case 12:go(d,o),mo(o);break;case 13:go(d,o),mo(o),o.child.flags&8192&&o.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Fm=Ve()),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,Rm(o,E)));break;case 22:O=o.memoizedState!==null;var qe=x!==null&&x.memoizedState!==null,pt=Ec,jt=da;if(Ec=pt||O,da=jt||qe,go(d,o),da=jt,Ec=pt,mo(o),E&8192)e:for(d=o.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(x===null||qe||Ec||da||Qu(o)),x=null,d=o;;){if(d.tag===5||d.tag===26){if(x===null){qe=x=d;try{if(F=qe.stateNode,O)ae=F.style,typeof ae.setProperty=="function"?ae.setProperty("display","none","important"):ae.display="none";else{Ee=qe.stateNode;var Ut=qe.memoizedProps.style,yt=Ut!=null&&Ut.hasOwnProperty("display")?Ut.display:null;Ee.style.display=yt==null||typeof yt=="boolean"?"":(""+yt).trim()}}catch(bt){fi(qe,qe.return,bt)}}}else if(d.tag===6){if(x===null){qe=d;try{qe.stateNode.nodeValue=O?"":qe.memoizedProps}catch(bt){fi(qe,qe.return,bt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===o)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break e;for(;d.sibling===null;){if(d.return===null||d.return===o)break e;x===d&&(x=null),d=d.return}x===d&&(x=null),d.sibling.return=d.return,d=d.sibling}E&4&&(E=o.updateQueue,E!==null&&(x=E.retryQueue,x!==null&&(E.retryQueue=null,Rm(o,x))));break;case 19:go(d,o),mo(o),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,Rm(o,E)));break;case 30:break;case 21:break;default:go(d,o),mo(o)}}function mo(o){var d=o.flags;if(d&2){try{for(var x,E=o.return;E!==null;){if(_y(E)){x=E;break}E=E.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var O=x.stateNode,F=Tm(o);y1(o,F,O);break;case 5:var ae=x.stateNode;x.flags&32&&(qi(ae,""),x.flags&=-33);var Ee=Tm(o);y1(o,Ee,ae);break;case 3:case 4:var qe=x.stateNode.containerInfo,pt=Tm(o);jm(o,pt,qe);break;default:throw Error(n(161))}}catch(jt){fi(o,o.return,jt)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function Oy(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var d=o;Oy(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),o=o.sibling}}function eu(o,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Ny(o,d.alternate,d),d=d.sibling}function Qu(o){for(o=o.child;o!==null;){var d=o;switch(d.tag){case 0:case 11:case 14:case 15:Qc(4,d,d.return),Qu(d);break;case 1:Xl(d,d.return);var x=d.stateNode;typeof x.componentWillUnmount=="function"&&wy(d,d.return,x),Qu(d);break;case 27:Lh(d.stateNode);case 26:case 5:Xl(d,d.return),Qu(d);break;case 22:d.memoizedState===null&&Qu(d);break;case 30:Qu(d);break;default:Qu(d)}o=o.sibling}}function tu(o,d,x){for(x=x&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var E=d.alternate,O=o,F=d,ae=F.flags;switch(F.tag){case 0:case 11:case 15:tu(O,F,x),Eh(4,F);break;case 1:if(tu(O,F,x),E=F,O=E.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(pt){fi(E,E.return,pt)}if(E=F,O=E.updateQueue,O!==null){var Ee=E.stateNode;try{var qe=O.shared.hiddenCallbacks;if(qe!==null)for(O.shared.hiddenCallbacks=null,O=0;O<qe.length;O++)Ln(qe[O],Ee)}catch(pt){fi(E,E.return,pt)}}x&&ae&64&&yy(F),Sh(F,F.return);break;case 27:Ey(F);case 26:case 5:tu(O,F,x),x&&E===null&&ae&4&&by(F),Sh(F,F.return);break;case 12:tu(O,F,x);break;case 13:tu(O,F,x),x&&ae&4&&Ty(O,F);break;case 22:F.memoizedState===null&&tu(O,F,x),Sh(F,F.return);break;case 30:break;default:tu(O,F,x)}d=d.sibling}}function km(o,d){var x=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),o=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(o=d.memoizedState.cachePool.pool),o!==x&&(o!=null&&o.refCount++,x!=null&&Uu(x))}function Lm(o,d){o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&Uu(o))}function Yl(o,d,x,E){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Ry(o,d,x,E),d=d.sibling}function Ry(o,d,x,E){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Yl(o,d,x,E),O&2048&&Eh(9,d);break;case 1:Yl(o,d,x,E);break;case 3:Yl(o,d,x,E),O&2048&&(o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&Uu(o)));break;case 12:if(O&2048){Yl(o,d,x,E),o=d.stateNode;try{var F=d.memoizedProps,ae=F.id,Ee=F.onPostCommit;typeof Ee=="function"&&Ee(ae,d.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(qe){fi(d,d.return,qe)}}else Yl(o,d,x,E);break;case 13:Yl(o,d,x,E);break;case 23:break;case 22:F=d.stateNode,ae=d.alternate,d.memoizedState!==null?F._visibility&2?Yl(o,d,x,E):Nh(o,d):F._visibility&2?Yl(o,d,x,E):(F._visibility|=2,V0(o,d,x,E,(d.subtreeFlags&10256)!==0)),O&2048&&km(ae,d);break;case 24:Yl(o,d,x,E),O&2048&&Lm(d.alternate,d);break;default:Yl(o,d,x,E)}}function V0(o,d,x,E,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var F=o,ae=d,Ee=x,qe=E,pt=ae.flags;switch(ae.tag){case 0:case 11:case 15:V0(F,ae,Ee,qe,O),Eh(8,ae);break;case 23:break;case 22:var jt=ae.stateNode;ae.memoizedState!==null?jt._visibility&2?V0(F,ae,Ee,qe,O):Nh(F,ae):(jt._visibility|=2,V0(F,ae,Ee,qe,O)),O&&pt&2048&&km(ae.alternate,ae);break;case 24:V0(F,ae,Ee,qe,O),O&&pt&2048&&Lm(ae.alternate,ae);break;default:V0(F,ae,Ee,qe,O)}d=d.sibling}}function Nh(o,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var x=o,E=d,O=E.flags;switch(E.tag){case 22:Nh(x,E),O&2048&&km(E.alternate,E);break;case 24:Nh(x,E),O&2048&&Lm(E.alternate,E);break;default:Nh(x,E)}d=d.sibling}}var Ah=8192;function G0(o){if(o.subtreeFlags&Ah)for(o=o.child;o!==null;)ky(o),o=o.sibling}function ky(o){switch(o.tag){case 26:G0(o),o.flags&Ah&&o.memoizedState!==null&&SS(ml,o.memoizedState,o.memoizedProps);break;case 5:G0(o);break;case 3:case 4:var d=ml;ml=k1(o.stateNode.containerInfo),G0(o),ml=d;break;case 22:o.memoizedState===null&&(d=o.alternate,d!==null&&d.memoizedState!==null?(d=Ah,Ah=16777216,G0(o),Ah=d):G0(o));break;default:G0(o)}}function Ly(o){var d=o.alternate;if(d!==null&&(o=d.child,o!==null)){d.child=null;do d=o.sibling,o.sibling=null,o=d;while(o!==null)}}function Ch(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var E=d[x];Ba=E,Dy(E,o)}Ly(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Iy(o),o=o.sibling}function Iy(o){switch(o.tag){case 0:case 11:case 15:Ch(o),o.flags&2048&&Qc(9,o,o.return);break;case 3:Ch(o);break;case 12:Ch(o);break;case 22:var d=o.stateNode;o.memoizedState!==null&&d._visibility&2&&(o.return===null||o.return.tag!==13)?(d._visibility&=-3,w1(o)):Ch(o);break;default:Ch(o)}}function w1(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var E=d[x];Ba=E,Dy(E,o)}Ly(o)}for(o=o.child;o!==null;){switch(d=o,d.tag){case 0:case 11:case 15:Qc(8,d,d.return),w1(d);break;case 22:x=d.stateNode,x._visibility&2&&(x._visibility&=-3,w1(d));break;default:w1(d)}o=o.sibling}}function Dy(o,d){for(;Ba!==null;){var x=Ba;switch(x.tag){case 0:case 11:case 15:Qc(8,x,d);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var E=x.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Uu(x.memoizedState.cache)}if(E=x.child,E!==null)E.return=x,Ba=E;else e:for(x=o;Ba!==null;){E=Ba;var O=E.sibling,F=E.return;if(Ay(E),E===x){Ba=null;break e}if(O!==null){O.return=F,Ba=O;break e}Ba=F}}}var UE={getCacheForType:function(o){var d=la(ca),x=d.data.get(o);return x===void 0&&(x=o(),d.data.set(o,x)),x}},zE=typeof WeakMap=="function"?WeakMap:Map,Qn=0,wi=null,bn=null,Dn=0,ei=0,po=null,ru=!1,$0=!1,Im=!1,Nc=0,Ji=0,nu=0,e0=0,Dm=0,Wo=0,X0=0,Th=null,Xs=null,Pm=!1,Fm=0,b1=1/0,_1=null,iu=null,Ja=0,au=null,Y0=null,K0=0,Bm=0,Mm=null,Py=null,jh=0,Um=null;function xo(){if((Qn&2)!==0&&Dn!==0)return Dn&-Dn;if(he.T!==null){var o=mc;return o!==0?o:$m()}return Ii()}function Fy(){Wo===0&&(Wo=(Dn&536870912)===0||Bn?ia():536870912);var o=qo.current;return o!==null&&(o.flags|=32),Wo}function vo(o,d,x){(o===wi&&(ei===2||ei===9)||o.cancelPendingCommit!==null)&&(Z0(o,0),su(o,Dn,Wo,!1)),Xn(o,x),((Qn&2)===0||o!==wi)&&(o===wi&&((Qn&2)===0&&(e0|=x),Ji===4&&su(o,Dn,Wo,!1)),Kl(o))}function By(o,d,x){if((Qn&6)!==0)throw Error(n(327));var E=!x&&(d&124)===0&&(d&o.expiredLanes)===0||Kr(o,d),O=E?WE(o,d):qm(o,d,!0),F=E;do{if(O===0){$0&&!E&&su(o,d,0,!1);break}else{if(x=o.current.alternate,F&&!HE(x)){O=qm(o,d,!1),F=!1;continue}if(O===2){if(F=d,o.errorRecoveryDisabledLanes&F)var ae=0;else ae=o.pendingLanes&-536870913,ae=ae!==0?ae:ae&536870912?536870912:0;if(ae!==0){d=ae;e:{var Ee=o;O=Th;var qe=Ee.current.memoizedState.isDehydrated;if(qe&&(Z0(Ee,ae).flags|=256),ae=qm(Ee,ae,!1),ae!==2){if(Im&&!qe){Ee.errorRecoveryDisabledLanes|=F,e0|=F,O=4;break e}F=Xs,Xs=O,F!==null&&(Xs===null?Xs=F:Xs.push.apply(Xs,F))}O=ae}if(F=!1,O!==2)continue}}if(O===1){Z0(o,0),su(o,d,0,!0);break}e:{switch(E=o,F=O,F){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:su(E,d,Wo,!ru);break e;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(O=Fm+300-Ve(),10<O)){if(su(E,d,Wo,!ru),gr(E,0,!0)!==0)break e;E.timeoutHandle=f4(My.bind(null,E,x,Xs,_1,Pm,d,Wo,e0,X0,ru,F,2,-0,0),O);break e}My(E,x,Xs,_1,Pm,d,Wo,e0,X0,ru,F,0,-0,0)}}break}while(!0);Kl(o)}function My(o,d,x,E,O,F,ae,Ee,qe,pt,jt,Ut,yt,bt){if(o.timeoutHandle=-1,Ut=d.subtreeFlags,(Ut&8192||(Ut&16785408)===16785408)&&(Ph={stylesheets:null,count:0,unsuspend:ES},ky(d),Ut=NS(),Ut!==null)){o.cancelPendingCommit=Ut(Gy.bind(null,o,d,F,x,E,O,ae,Ee,qe,jt,1,yt,bt)),su(o,F,ae,!pt);return}Gy(o,d,F,x,E,O,ae,Ee,qe)}function HE(o){for(var d=o;;){var x=d.tag;if((x===0||x===11||x===15)&&d.flags&16384&&(x=d.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var E=0;E<x.length;E++){var O=x[E],F=O.getSnapshot;O=O.value;try{if(!y(F(),O))return!1}catch(ae){return!1}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function su(o,d,x,E){d&=~Dm,d&=~e0,o.suspendedLanes|=d,o.pingedLanes&=~d,E&&(o.warmLanes|=d),E=o.expirationTimes;for(var O=d;0<O;){var F=31-Qt(O),ae=1<<F;E[F]=-1,O&=~ae}x!==0&&Or(o,x,d)}function E1(){return(Qn&6)===0?(Oh(0),!1):!0}function zm(){if(bn!==null){if(ei===0)var o=bn.return;else o=bn,cl=va=null,F0(o),q0=null,wh=0,o=bn;for(;o!==null;)vy(o.alternate,o),o=o.return;bn=null}}function Z0(o,d){var x=o.timeoutHandle;x!==-1&&(o.timeoutHandle=-1,sS(x)),x=o.cancelPendingCommit,x!==null&&(o.cancelPendingCommit=null,x()),zm(),wi=o,bn=x=Fo(o.current,null),Dn=d,ei=0,po=null,ru=!1,$0=Kr(o,d),Im=!1,X0=Wo=Dm=e0=nu=Ji=0,Xs=Th=null,Pm=!1,(d&8)!==0&&(d|=d&32);var E=o.entangledLanes;if(E!==0)for(o=o.entanglements,E&=d;0<E;){var O=31-Qt(E),F=1<<O;d|=o[O],E&=~F}return Nc=d,qs(),x}function Uy(o,d){kr=null,he.H=u1,d===pe||d===_e?(d=nt(),ei=3):d===ye?(d=nt(),ei=4):ei=d===iy?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,po=d,bn===null&&(Ji=1,m1(o,pn(d,o.current)))}function zy(){var o=he.H;return he.H=u1,o===null?u1:o}function Hy(){var o=he.A;return he.A=UE,o}function Hm(){Ji=4,ru||(Dn&4194048)!==Dn&&qo.current!==null||($0=!0),(nu&134217727)===0&&(e0&134217727)===0||wi===null||su(wi,Dn,Wo,!1)}function qm(o,d,x){var E=Qn;Qn|=2;var O=zy(),F=Hy();(wi!==o||Dn!==d)&&(_1=null,Z0(o,d)),d=!1;var ae=Ji;e:do try{if(ei!==0&&bn!==null){var Ee=bn,qe=po;switch(ei){case 8:zm(),ae=6;break e;case 3:case 2:case 9:case 6:qo.current===null&&(d=!0);var pt=ei;if(ei=0,po=null,J0(o,Ee,qe,pt),x&&$0){ae=0;break e}break;default:pt=ei,ei=0,po=null,J0(o,Ee,qe,pt)}}qE(),ae=Ji;break}catch(jt){Uy(o,jt)}while(!0);return d&&o.shellSuspendCounter++,cl=va=null,Qn=E,he.H=O,he.A=F,bn===null&&(wi=null,Dn=0,qs()),ae}function qE(){for(;bn!==null;)qy(bn)}function WE(o,d){var x=Qn;Qn|=2;var E=zy(),O=Hy();wi!==o||Dn!==d?(_1=null,b1=Ve()+500,Z0(o,d)):$0=Kr(o,d);e:do try{if(ei!==0&&bn!==null){d=bn;var F=po;t:switch(ei){case 1:ei=0,po=null,J0(o,d,F,1);break;case 2:case 9:if(Fe(F)){ei=0,po=null,Wy(d);break}d=function(){ei!==2&&ei!==9||wi!==o||(ei=7),Kl(o)},F.then(d,d);break e;case 3:ei=7;break e;case 4:ei=5;break e;case 7:Fe(F)?(ei=0,po=null,Wy(d)):(ei=0,po=null,J0(o,d,F,7));break;case 5:var ae=null;switch(bn.tag){case 26:ae=bn.memoizedState;case 5:case 27:var Ee=bn;if(!ae||N4(ae)){ei=0,po=null;var qe=Ee.sibling;if(qe!==null)bn=qe;else{var pt=Ee.return;pt!==null?(bn=pt,S1(pt)):bn=null}break t}}ei=0,po=null,J0(o,d,F,5);break;case 6:ei=0,po=null,J0(o,d,F,6);break;case 8:zm(),Ji=6;break e;default:throw Error(n(462))}}VE();break}catch(jt){Uy(o,jt)}while(!0);return cl=va=null,he.H=E,he.A=O,Qn=x,bn!==null?0:(wi=null,Dn=0,qs(),Ji)}function VE(){for(;bn!==null&&!it();)qy(bn)}function qy(o){var d=py(o.alternate,o,Nc);o.memoizedProps=o.pendingProps,d===null?S1(o):bn=d}function Wy(o){var d=o,x=d.alternate;switch(d.tag){case 15:case 0:d=uy(x,d,d.pendingProps,d.type,void 0,Dn);break;case 11:d=uy(x,d,d.pendingProps,d.type.render,d.ref,Dn);break;case 5:F0(d);default:vy(x,d),d=bn=Pu(d,Nc),d=py(x,d,Nc)}o.memoizedProps=o.pendingProps,d===null?S1(o):bn=d}function J0(o,d,x,E){cl=va=null,F0(d),q0=null,wh=0;var O=d.return;try{if(IE(o,O,d,x,Dn)){Ji=1,m1(o,pn(x,o.current)),bn=null;return}}catch(F){if(O!==null)throw bn=O,F;Ji=1,m1(o,pn(x,o.current)),bn=null;return}d.flags&32768?(Bn||E===1?o=!0:$0||(Dn&536870912)!==0?o=!1:(ru=o=!0,(E===2||E===9||E===3||E===6)&&(E=qo.current,E!==null&&E.tag===13&&(E.flags|=16384))),Vy(d,o)):S1(d)}function S1(o){var d=o;do{if((d.flags&32768)!==0){Vy(d,ru);return}o=d.return;var x=PE(d.alternate,d,Nc);if(x!==null){bn=x;return}if(d=d.sibling,d!==null){bn=d;return}bn=d=o}while(d!==null);Ji===0&&(Ji=5)}function Vy(o,d){do{var x=FE(o.alternate,o);if(x!==null){x.flags&=32767,bn=x;return}if(x=o.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!d&&(o=o.sibling,o!==null)){bn=o;return}bn=o=x}while(o!==null);Ji=6,bn=null}function Gy(o,d,x,E,O,F,ae,Ee,qe){o.cancelPendingCommit=null;do N1();while(Ja!==0);if((Qn&6)!==0)throw Error(n(327));if(d!==null){if(d===o.current)throw Error(n(177));if(F=d.lanes|d.childLanes,F|=Wi,Tn(o,x,F,ae,Ee,qe),o===wi&&(bn=wi=null,Dn=0),Y0=d,au=o,K0=x,Bm=F,Mm=O,Py=E,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,YE(et,function(){return Zy(),null})):(o.callbackNode=null,o.callbackPriority=0),E=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||E){E=he.T,he.T=null,O=be.p,be.p=2,ae=Qn,Qn|=4;try{BE(o,d,x)}finally{Qn=ae,be.p=O,he.T=E}}Ja=1,$y(),Xy(),Yy()}}function $y(){if(Ja===1){Ja=0;var o=au,d=Y0,x=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||x){x=he.T,he.T=null;var E=be.p;be.p=2;var O=Qn;Qn|=4;try{jy(d,o);var F=tp,ae=B(o.containerInfo),Ee=F.focusedElem,qe=F.selectionRange;if(ae!==Ee&&Ee&&Ee.ownerDocument&&k(Ee.ownerDocument.documentElement,Ee)){if(qe!==null&&Q(Ee)){var pt=qe.start,jt=qe.end;if(jt===void 0&&(jt=pt),"selectionStart"in Ee)Ee.selectionStart=pt,Ee.selectionEnd=Math.min(jt,Ee.value.length);else{var Ut=Ee.ownerDocument||document,yt=Ut&&Ut.defaultView||window;if(yt.getSelection){var bt=yt.getSelection(),$r=Ee.textContent.length,Fr=Math.min(qe.start,$r),ui=qe.end===void 0?Fr:Math.min(qe.end,$r);!bt.extend&&Fr>ui&&(ae=ui,ui=Fr,Fr=ae);var ot=T(Ee,Fr),Ze=T(Ee,ui);if(ot&&Ze&&(bt.rangeCount!==1||bt.anchorNode!==ot.node||bt.anchorOffset!==ot.offset||bt.focusNode!==Ze.node||bt.focusOffset!==Ze.offset)){var ft=Ut.createRange();ft.setStart(ot.node,ot.offset),bt.removeAllRanges(),Fr>ui?(bt.addRange(ft),bt.extend(Ze.node,Ze.offset)):(ft.setEnd(Ze.node,Ze.offset),bt.addRange(ft))}}}}for(Ut=[],bt=Ee;bt=bt.parentNode;)bt.nodeType===1&&Ut.push({element:bt,left:bt.scrollLeft,top:bt.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<Ut.length;Ee++){var Lt=Ut[Ee];Lt.element.scrollLeft=Lt.left,Lt.element.scrollTop=Lt.top}}F1=!!ep,tp=ep=null}finally{Qn=O,be.p=E,he.T=x}}o.current=d,Ja=2}}function Xy(){if(Ja===2){Ja=0;var o=au,d=Y0,x=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||x){x=he.T,he.T=null;var E=be.p;be.p=2;var O=Qn;Qn|=4;try{Ny(o,d.alternate,d)}finally{Qn=O,be.p=E,he.T=x}}Ja=3}}function Yy(){if(Ja===4||Ja===3){Ja=0,fe();var o=au,d=Y0,x=K0,E=Py;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Ja=5:(Ja=0,Y0=au=null,Ky(o,o.pendingLanes));var O=o.pendingLanes;if(O===0&&(iu=null),rn(x),d=d.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(ar,d,void 0,(d.current.flags&128)===128)}catch(qe){}if(E!==null){d=he.T,O=be.p,be.p=2,he.T=null;try{for(var F=o.onRecoverableError,ae=0;ae<E.length;ae++){var Ee=E[ae];F(Ee.value,{componentStack:Ee.stack})}}finally{he.T=d,be.p=O}}(K0&3)!==0&&N1(),Kl(o),O=o.pendingLanes,(x&4194090)!==0&&(O&42)!==0?o===Um?jh++:(jh=0,Um=o):jh=0,Oh(0)}}function Ky(o,d){(o.pooledCacheLanes&=d)===0&&(d=o.pooledCache,d!=null&&(o.pooledCache=null,Uu(d)))}function N1(o){return $y(),Xy(),Yy(),Zy()}function Zy(){if(Ja!==5)return!1;var o=au,d=Bm;Bm=0;var x=rn(K0),E=he.T,O=be.p;try{be.p=32>x?32:x,he.T=null,x=Mm,Mm=null;var F=au,ae=K0;if(Ja=0,Y0=au=null,K0=0,(Qn&6)!==0)throw Error(n(331));var Ee=Qn;if(Qn|=4,Iy(F.current),Ry(F,F.current,ae,x),Qn=Ee,Oh(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(ar,F)}catch(qe){}return!0}finally{be.p=O,he.T=E,Ky(o,d)}}function Jy(o,d,x){d=pn(x,d),d=vm(o.stateNode,d,2),o=Ft(o,d,2),o!==null&&(Xn(o,2),Kl(o))}function fi(o,d,x){if(o.tag===3)Jy(o,o,x);else for(;d!==null;){if(d.tag===3){Jy(d,o,x);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(iu===null||!iu.has(E))){o=pn(x,o),x=ry(2),E=Ft(d,x,2),E!==null&&(ny(x,E,d,o),Xn(E,2),Kl(E));break}}d=d.return}}function Wm(o,d,x){var E=o.pingCache;if(E===null){E=o.pingCache=new zE;var O=new Set;E.set(d,O)}else O=E.get(d),O===void 0&&(O=new Set,E.set(d,O));O.has(x)||(Im=!0,O.add(x),o=GE.bind(null,o,d,x),d.then(o,o))}function GE(o,d,x){var E=o.pingCache;E!==null&&E.delete(d),o.pingedLanes|=o.suspendedLanes&x,o.warmLanes&=~x,wi===o&&(Dn&x)===x&&(Ji===4||Ji===3&&(Dn&62914560)===Dn&&300>Ve()-Fm?(Qn&2)===0&&Z0(o,0):Dm|=x,X0===Dn&&(X0=0)),Kl(o)}function Qy(o,d){d===0&&(d=Mn()),o=nl(o,d),o!==null&&(Xn(o,d),Kl(o))}function $E(o){var d=o.memoizedState,x=0;d!==null&&(x=d.retryLane),Qy(o,x)}function XE(o,d){var x=0;switch(o.tag){case 13:var E=o.stateNode,O=o.memoizedState;O!==null&&(x=O.retryLane);break;case 19:E=o.stateNode;break;case 22:E=o.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(d),Qy(o,x)}function YE(o,d){return ct(o,d)}var A1=null,Q0=null,Vm=!1,C1=!1,Gm=!1,t0=0;function Kl(o){o!==Q0&&o.next===null&&(Q0===null?A1=Q0=o:Q0=Q0.next=o),C1=!0,Vm||(Vm=!0,ZE())}function Oh(o,d){if(!Gm&&C1){Gm=!0;do for(var x=!1,E=A1;E!==null;){if(o!==0){var O=E.pendingLanes;if(O===0)var F=0;else{var ae=E.suspendedLanes,Ee=E.pingedLanes;F=(1<<31-Qt(42|o)+1)-1,F&=O&~(ae&~Ee),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(x=!0,n4(E,F))}else F=Dn,F=gr(E,E===wi?F:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(F&3)===0||Kr(E,F)||(x=!0,n4(E,F));E=E.next}while(x);Gm=!1}}function KE(){e4()}function e4(){C1=Vm=!1;var o=0;t0!==0&&(aS()&&(o=t0),t0=0);for(var d=Ve(),x=null,E=A1;E!==null;){var O=E.next,F=t4(E,d);F===0?(E.next=null,x===null?A1=O:x.next=O,O===null&&(Q0=x)):(x=E,(o!==0||(F&3)!==0)&&(C1=!0)),E=O}Oh(o)}function t4(o,d){for(var x=o.suspendedLanes,E=o.pingedLanes,O=o.expirationTimes,F=o.pendingLanes&-62914561;0<F;){var ae=31-Qt(F),Ee=1<<ae,qe=O[ae];qe===-1?((Ee&x)===0||(Ee&E)!==0)&&(O[ae]=Qr(Ee,d)):qe<=d&&(o.expiredLanes|=Ee),F&=~Ee}if(d=wi,x=Dn,x=gr(o,o===d?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),E=o.callbackNode,x===0||o===d&&(ei===2||ei===9)||o.cancelPendingCommit!==null)return E!==null&&E!==null&&Nt(E),o.callbackNode=null,o.callbackPriority=0;if((x&3)===0||Kr(o,x)){if(d=x&-x,d===o.callbackPriority)return d;switch(E!==null&&Nt(E),rn(x)){case 2:case 8:x=Ke;break;case 32:x=et;break;case 268435456:x=Mt;break;default:x=et}return E=r4.bind(null,o),x=ct(x,E),o.callbackPriority=d,o.callbackNode=x,d}return E!==null&&E!==null&&Nt(E),o.callbackPriority=2,o.callbackNode=null,2}function r4(o,d){if(Ja!==0&&Ja!==5)return o.callbackNode=null,o.callbackPriority=0,null;var x=o.callbackNode;if(N1()&&o.callbackNode!==x)return null;var E=Dn;return E=gr(o,o===wi?E:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),E===0?null:(By(o,E,d),t4(o,Ve()),o.callbackNode!=null&&o.callbackNode===x?r4.bind(null,o):null)}function n4(o,d){if(N1())return null;By(o,d,!0)}function ZE(){oS(function(){(Qn&6)!==0?ct(He,KE):e4()})}function $m(){return t0===0&&(t0=ia()),t0}function i4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:io(""+o)}function a4(o,d){var x=d.ownerDocument.createElement("input");return x.name=d.name,x.value=d.value,o.id&&x.setAttribute("form",o.id),d.parentNode.insertBefore(x,d),o=new FormData(o),x.parentNode.removeChild(x),o}function JE(o,d,x,E,O){if(d==="submit"&&x&&x.stateNode===O){var F=i4((O[cn]||null).action),ae=E.submitter;ae&&(d=(d=ae[cn]||null)?i4(d.formAction):ae.getAttribute("formAction"),d!==null&&(F=d,ae=null));var Ee=new us("action","action",null,E,O);o.push({event:Ee,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(t0!==0){var qe=ae?a4(O,ae):new FormData(O);Ho(x,{pending:!0,data:qe,method:O.method,action:F},null,qe)}}else typeof F=="function"&&(Ee.preventDefault(),qe=ae?a4(O,ae):new FormData(O),Ho(x,{pending:!0,data:qe,method:O.method,action:F},F,qe))},currentTarget:O}]})}}for(var Xm=0;Xm<hs.length;Xm++){var Ym=hs[Xm],QE=Ym.toLowerCase(),eS=Ym[0].toUpperCase()+Ym.slice(1);vi(QE,"on"+eS)}vi(Pr,"onAnimationEnd"),vi(Ci,"onAnimationIteration"),vi(Yi,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Ti,"onTransitionRun"),vi(wn,"onTransitionStart"),vi(xi,"onTransitionCancel"),vi(Bi,"onTransitionEnd"),zt("onMouseEnter",["mouseout","mouseover"]),zt("onMouseLeave",["mouseout","mouseover"]),zt("onPointerEnter",["pointerout","pointerover"]),zt("onPointerLeave",["pointerout","pointerover"]),Ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rh));function s4(o,d){d=(d&4)!==0;for(var x=0;x<o.length;x++){var E=o[x],O=E.event;E=E.listeners;e:{var F=void 0;if(d)for(var ae=E.length-1;0<=ae;ae--){var Ee=E[ae],qe=Ee.instance,pt=Ee.currentTarget;if(Ee=Ee.listener,qe!==F&&O.isPropagationStopped())break e;F=Ee,O.currentTarget=pt;try{F(O)}catch(jt){g1(jt)}O.currentTarget=null,F=qe}else for(ae=0;ae<E.length;ae++){if(Ee=E[ae],qe=Ee.instance,pt=Ee.currentTarget,Ee=Ee.listener,qe!==F&&O.isPropagationStopped())break e;F=Ee,O.currentTarget=pt;try{F(O)}catch(jt){g1(jt)}O.currentTarget=null,F=qe}}}}function _n(o,d){var x=d[en];x===void 0&&(x=d[en]=new Set);var E=o+"__bubble";x.has(E)||(o4(d,o,2,!1),x.add(E))}function Km(o,d,x){var E=0;d&&(E|=4),o4(x,o,E,d)}var T1="_reactListening"+Math.random().toString(36).slice(2);function Zm(o){if(!o[T1]){o[T1]=!0,ht.forEach(function(x){x!=="selectionchange"&&(tS.has(x)||Km(x,!1,o),Km(x,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[T1]||(d[T1]=!0,Km("selectionchange",!1,d))}}function o4(o,d,x,E){switch(R4(d)){case 2:var O=TS;break;case 8:O=jS;break;default:O=dp}x=O.bind(null,d,x,o),O=void 0,!Hr||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),E?O!==void 0?o.addEventListener(d,x,{capture:!0,passive:O}):o.addEventListener(d,x,!0):O!==void 0?o.addEventListener(d,x,{passive:O}):o.addEventListener(d,x,!1)}function Jm(o,d,x,E,O){var F=E;if((d&1)===0&&(d&2)===0&&E!==null)e:for(;;){if(E===null)return;var ae=E.tag;if(ae===3||ae===4){var Ee=E.stateNode.containerInfo;if(Ee===O)break;if(ae===4)for(ae=E.return;ae!==null;){var qe=ae.tag;if((qe===3||qe===4)&&ae.stateNode.containerInfo===O)return;ae=ae.return}for(;Ee!==null;){if(ae=ke(Ee),ae===null)return;if(qe=ae.tag,qe===5||qe===6||qe===26||qe===27){E=F=ae;continue e}Ee=Ee.parentNode}}E=E.return}Cs(function(){var pt=F,jt=Ei(x),Ut=[];e:{var yt=Da.get(o);if(yt!==void 0){var bt=us,$r=o;switch(o){case"keypress":if(ko(x)===0)break e;case"keydown":case"keyup":bt=Io;break;case"focusin":$r="focus",bt=Us;break;case"focusout":$r="blur",bt=Us;break;case"beforeblur":case"afterblur":bt=Us;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=An;break;case Pr:case Ci:case Yi:bt=Du;break;case Bi:bt=de;break;case"scroll":case"scrollend":bt=aa;break;case"wheel":bt=Ge;break;case"copy":case"cut":case"paste":bt=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=co;break;case"toggle":case"beforetoggle":bt=At}var Fr=(d&4)!==0,ui=!Fr&&(o==="scroll"||o==="scrollend"),ot=Fr?yt!==null?yt+"Capture":null:yt;Fr=[];for(var Ze=pt,ft;Ze!==null;){var Lt=Ze;if(ft=Lt.stateNode,Lt=Lt.tag,Lt!==5&&Lt!==26&&Lt!==27||ft===null||ot===null||(Lt=yr(Ze,ot),Lt!=null&&Fr.push(kh(Ze,Lt,ft))),ui)break;Ze=Ze.return}0<Fr.length&&(yt=new bt(yt,$r,null,x,jt),Ut.push({event:yt,listeners:Fr}))}}if((d&7)===0){e:{if(yt=o==="mouseover"||o==="pointerover",bt=o==="mouseout"||o==="pointerout",yt&&x!==Ro&&($r=x.relatedTarget||x.fromElement)&&(ke($r)||$r[jn]))break e;if((bt||yt)&&(yt=jt.window===jt?jt:(yt=jt.ownerDocument)?yt.defaultView||yt.parentWindow:window,bt?($r=x.relatedTarget||x.toElement,bt=pt,$r=$r?ke($r):null,$r!==null&&(ui=s($r),Fr=$r.tag,$r!==ui||Fr!==5&&Fr!==27&&Fr!==6)&&($r=null)):(bt=null,$r=pt),bt!==$r)){if(Fr=Ms,Lt="onMouseLeave",ot="onMouseEnter",Ze="mouse",(o==="pointerout"||o==="pointerover")&&(Fr=co,Lt="onPointerLeave",ot="onPointerEnter",Ze="pointer"),ui=bt==null?yt:lt(bt),ft=$r==null?yt:lt($r),yt=new Fr(Lt,Ze+"leave",bt,x,jt),yt.target=ui,yt.relatedTarget=ft,Lt=null,ke(jt)===pt&&(Fr=new Fr(ot,Ze+"enter",$r,x,jt),Fr.target=ft,Fr.relatedTarget=ui,Lt=Fr),ui=Lt,bt&&$r)t:{for(Fr=bt,ot=$r,Ze=0,ft=Fr;ft;ft=ed(ft))Ze++;for(ft=0,Lt=ot;Lt;Lt=ed(Lt))ft++;for(;0<Ze-ft;)Fr=ed(Fr),Ze--;for(;0<ft-Ze;)ot=ed(ot),ft--;for(;Ze--;){if(Fr===ot||ot!==null&&Fr===ot.alternate)break t;Fr=ed(Fr),ot=ed(ot)}Fr=null}else Fr=null;bt!==null&&l4(Ut,yt,bt,Fr,!1),$r!==null&&ui!==null&&l4(Ut,ui,$r,Fr,!0)}}e:{if(yt=pt?lt(pt):window,bt=yt.nodeName&&yt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&yt.type==="file")var _r=Pl;else if(Ia(yt))if(Do)_r=h;else{_r=ce;var yn=sa}else bt=yt.nodeName,!bt||bt.toLowerCase()!=="input"||yt.type!=="checkbox"&&yt.type!=="radio"?pt&&Ar(pt.elementType)&&(_r=Pl):_r=l;if(_r&&(_r=_r(o,pt))){pa(Ut,_r,x,jt);break e}yn&&yn(o,yt,pt),o==="focusout"&&pt&&yt.type==="number"&&pt.memoizedProps.value!=null&&ut(yt,"number",yt.value)}switch(yn=pt?lt(pt):window,o){case"focusin":(Ia(yn)||yn.contentEditable==="true")&&(xe=yn,De=pt,We=null);break;case"focusout":We=De=xe=null;break;case"mousedown":$e=!0;break;case"contextmenu":case"mouseup":case"dragend":$e=!1,tt(Ut,x,jt);break;case"selectionchange":if(oe)break;case"keydown":case"keyup":tt(Ut,x,jt)}var Tr;if(or)e:{switch(o){case"compositionstart":var Ur="onCompositionStart";break e;case"compositionend":Ur="onCompositionEnd";break e;case"compositionupdate":Ur="onCompositionUpdate";break e}Ur=void 0}else Ai?zn(o,x)&&(Ur="onCompositionEnd"):o==="keydown"&&x.keyCode===229&&(Ur="onCompositionStart");Ur&&(Mr&&x.locale!=="ko"&&(Ai||Ur!=="onCompositionStart"?Ur==="onCompositionEnd"&&Ai&&(Tr=Bs()):(cs=jt,Qo="value"in cs?cs.value:cs.textContent,Ai=!0)),yn=j1(pt,Ur),0<yn.length&&(Ur=new lo(Ur,o,null,x,jt),Ut.push({event:Ur,listeners:yn}),Tr?Ur.data=Tr:(Tr=hi(x),Tr!==null&&(Ur.data=Tr)))),(Tr=qr?pi(o,x):Ts(o,x))&&(Ur=j1(pt,"onBeforeInput"),0<Ur.length&&(yn=new lo("onBeforeInput","beforeinput",null,x,jt),Ut.push({event:yn,listeners:Ur}),yn.data=Tr)),JE(Ut,o,pt,x,jt)}s4(Ut,d)})}function kh(o,d,x){return{instance:o,listener:d,currentTarget:x}}function j1(o,d){for(var x=d+"Capture",E=[];o!==null;){var O=o,F=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||F===null||(O=yr(o,x),O!=null&&E.unshift(kh(o,O,F)),O=yr(o,d),O!=null&&E.push(kh(o,O,F))),o.tag===3)return E;o=o.return}return[]}function ed(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function l4(o,d,x,E,O){for(var F=d._reactName,ae=[];x!==null&&x!==E;){var Ee=x,qe=Ee.alternate,pt=Ee.stateNode;if(Ee=Ee.tag,qe!==null&&qe===E)break;Ee!==5&&Ee!==26&&Ee!==27||pt===null||(qe=pt,O?(pt=yr(x,F),pt!=null&&ae.unshift(kh(x,pt,qe))):O||(pt=yr(x,F),pt!=null&&ae.push(kh(x,pt,qe)))),x=x.return}ae.length!==0&&o.push({event:d,listeners:ae})}var rS=/\r\n?/g,nS=/\u0000|\uFFFD/g;function c4(o){return(typeof o=="string"?o:""+o).replace(rS,`
`).replace(nS,"")}function u4(o,d){return d=c4(d),c4(o)===d}function O1(){}function ci(o,d,x,E,O,F){switch(x){case"children":typeof E=="string"?d==="body"||d==="textarea"&&E===""||qi(o,E):(typeof E=="number"||typeof E=="bigint")&&d!=="body"&&qi(o,""+E);break;case"className":Et(o,"class",E);break;case"tabIndex":Et(o,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":Et(o,x,E);break;case"style":Sa(o,E,F);break;case"data":if(d!=="object"){Et(o,"data",E);break}case"src":case"href":if(E===""&&(d!=="a"||x!=="href")){o.removeAttribute(x);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){o.removeAttribute(x);break}E=io(""+E),o.setAttribute(x,E);break;case"action":case"formAction":if(typeof E=="function"){o.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(x==="formAction"?(d!=="input"&&ci(o,d,"name",O.name,O,null),ci(o,d,"formEncType",O.formEncType,O,null),ci(o,d,"formMethod",O.formMethod,O,null),ci(o,d,"formTarget",O.formTarget,O,null)):(ci(o,d,"encType",O.encType,O,null),ci(o,d,"method",O.method,O,null),ci(o,d,"target",O.target,O,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){o.removeAttribute(x);break}E=io(""+E),o.setAttribute(x,E);break;case"onClick":E!=null&&(o.onclick=O1);break;case"onScroll":E!=null&&_n("scroll",o);break;case"onScrollEnd":E!=null&&_n("scrollend",o);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(O.children!=null)throw Error(n(60));o.innerHTML=x}}break;case"multiple":o.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":o.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){o.removeAttribute("xlink:href");break}x=io(""+E),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(x,""+E):o.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(x,""):o.removeAttribute(x);break;case"capture":case"download":E===!0?o.setAttribute(x,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(x,E):o.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?o.setAttribute(x,E):o.removeAttribute(x);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?o.removeAttribute(x):o.setAttribute(x,E);break;case"popover":_n("beforetoggle",o),_n("toggle",o),te(o,"popover",E);break;case"xlinkActuate":Yt(o,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Yt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Yt(o,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Yt(o,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Yt(o,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Yt(o,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Yt(o,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":te(o,"is",E);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Nn.get(x)||x,te(o,x,E))}}function Qm(o,d,x,E,O,F){switch(x){case"style":Sa(o,E,F);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(O.children!=null)throw Error(n(60));o.innerHTML=x}}break;case"children":typeof E=="string"?qi(o,E):(typeof E=="number"||typeof E=="bigint")&&qi(o,""+E);break;case"onScroll":E!=null&&_n("scroll",o);break;case"onScrollEnd":E!=null&&_n("scrollend",o);break;case"onClick":E!=null&&(o.onclick=O1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(O=x.endsWith("Capture"),d=x.slice(2,O?x.length-7:void 0),F=o[cn]||null,F=F!=null?F[x]:null,typeof F=="function"&&o.removeEventListener(d,F,O),typeof E=="function")){typeof F!="function"&&F!==null&&(x in o?o[x]=null:o.hasAttribute(x)&&o.removeAttribute(x)),o.addEventListener(d,E,O);break e}x in o?o[x]=E:E===!0?o.setAttribute(x,""):te(o,x,E)}}}function Qa(o,d,x){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",o),_n("load",o);var E=!1,O=!1,F;for(F in x)if(x.hasOwnProperty(F)){var ae=x[F];if(ae!=null)switch(F){case"src":E=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:ci(o,d,F,ae,x,null)}}O&&ci(o,d,"srcSet",x.srcSet,x,null),E&&ci(o,d,"src",x.src,x,null);return;case"input":_n("invalid",o);var Ee=F=ae=O=null,qe=null,pt=null;for(E in x)if(x.hasOwnProperty(E)){var jt=x[E];if(jt!=null)switch(E){case"name":O=jt;break;case"type":ae=jt;break;case"checked":qe=jt;break;case"defaultChecked":pt=jt;break;case"value":F=jt;break;case"defaultValue":Ee=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(n(137,d));break;default:ci(o,d,E,jt,x,null)}}Di(o,F,Ee,qe,pt,ae,O,!1),Oo(o);return;case"select":_n("invalid",o),E=ae=F=null;for(O in x)if(x.hasOwnProperty(O)&&(Ee=x[O],Ee!=null))switch(O){case"value":F=Ee;break;case"defaultValue":ae=Ee;break;case"multiple":E=Ee;default:ci(o,d,O,Ee,x,null)}d=F,x=ae,o.multiple=!!E,d!=null?Re(o,!!E,d,!1):x!=null&&Re(o,!!E,x,!0);return;case"textarea":_n("invalid",o),F=O=E=null;for(ae in x)if(x.hasOwnProperty(ae)&&(Ee=x[ae],Ee!=null))switch(ae){case"value":E=Ee;break;case"defaultValue":O=Ee;break;case"children":F=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(91));break;default:ci(o,d,ae,Ee,x,null)}mi(o,E,O,F),Oo(o);return;case"option":for(qe in x)if(x.hasOwnProperty(qe)&&(E=x[qe],E!=null))switch(qe){case"selected":o.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:ci(o,d,qe,E,x,null)}return;case"dialog":_n("beforetoggle",o),_n("toggle",o),_n("cancel",o),_n("close",o);break;case"iframe":case"object":_n("load",o);break;case"video":case"audio":for(E=0;E<Rh.length;E++)_n(Rh[E],o);break;case"image":_n("error",o),_n("load",o);break;case"details":_n("toggle",o);break;case"embed":case"source":case"link":_n("error",o),_n("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pt in x)if(x.hasOwnProperty(pt)&&(E=x[pt],E!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:ci(o,d,pt,E,x,null)}return;default:if(Ar(d)){for(jt in x)x.hasOwnProperty(jt)&&(E=x[jt],E!==void 0&&Qm(o,d,jt,E,x,void 0));return}}for(Ee in x)x.hasOwnProperty(Ee)&&(E=x[Ee],E!=null&&ci(o,d,Ee,E,x,null))}function iS(o,d,x,E){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,F=null,ae=null,Ee=null,qe=null,pt=null,jt=null;for(bt in x){var Ut=x[bt];if(x.hasOwnProperty(bt)&&Ut!=null)switch(bt){case"checked":break;case"value":break;case"defaultValue":qe=Ut;default:E.hasOwnProperty(bt)||ci(o,d,bt,null,E,Ut)}}for(var yt in E){var bt=E[yt];if(Ut=x[yt],E.hasOwnProperty(yt)&&(bt!=null||Ut!=null))switch(yt){case"type":F=bt;break;case"name":O=bt;break;case"checked":pt=bt;break;case"defaultChecked":jt=bt;break;case"value":ae=bt;break;case"defaultValue":Ee=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(n(137,d));break;default:bt!==Ut&&ci(o,d,yt,bt,E,Ut)}}Sn(o,ae,Ee,qe,pt,jt,F,O);return;case"select":bt=ae=Ee=yt=null;for(F in x)if(qe=x[F],x.hasOwnProperty(F)&&qe!=null)switch(F){case"value":break;case"multiple":bt=qe;default:E.hasOwnProperty(F)||ci(o,d,F,null,E,qe)}for(O in E)if(F=E[O],qe=x[O],E.hasOwnProperty(O)&&(F!=null||qe!=null))switch(O){case"value":yt=F;break;case"defaultValue":Ee=F;break;case"multiple":ae=F;default:F!==qe&&ci(o,d,O,F,E,qe)}d=Ee,x=ae,E=bt,yt!=null?Re(o,!!x,yt,!1):!!E!=!!x&&(d!=null?Re(o,!!x,d,!0):Re(o,!!x,x?[]:"",!1));return;case"textarea":bt=yt=null;for(Ee in x)if(O=x[Ee],x.hasOwnProperty(Ee)&&O!=null&&!E.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:ci(o,d,Ee,null,E,O)}for(ae in E)if(O=E[ae],F=x[ae],E.hasOwnProperty(ae)&&(O!=null||F!=null))switch(ae){case"value":yt=O;break;case"defaultValue":bt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==F&&ci(o,d,ae,O,E,F)}Nr(o,yt,bt);return;case"option":for(var $r in x)if(yt=x[$r],x.hasOwnProperty($r)&&yt!=null&&!E.hasOwnProperty($r))switch($r){case"selected":o.selected=!1;break;default:ci(o,d,$r,null,E,yt)}for(qe in E)if(yt=E[qe],bt=x[qe],E.hasOwnProperty(qe)&&yt!==bt&&(yt!=null||bt!=null))switch(qe){case"selected":o.selected=yt&&typeof yt!="function"&&typeof yt!="symbol";break;default:ci(o,d,qe,yt,E,bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fr in x)yt=x[Fr],x.hasOwnProperty(Fr)&&yt!=null&&!E.hasOwnProperty(Fr)&&ci(o,d,Fr,null,E,yt);for(pt in E)if(yt=E[pt],bt=x[pt],E.hasOwnProperty(pt)&&yt!==bt&&(yt!=null||bt!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(n(137,d));break;default:ci(o,d,pt,yt,E,bt)}return;default:if(Ar(d)){for(var ui in x)yt=x[ui],x.hasOwnProperty(ui)&&yt!==void 0&&!E.hasOwnProperty(ui)&&Qm(o,d,ui,void 0,E,yt);for(jt in E)yt=E[jt],bt=x[jt],!E.hasOwnProperty(jt)||yt===bt||yt===void 0&&bt===void 0||Qm(o,d,jt,yt,E,bt);return}}for(var ot in x)yt=x[ot],x.hasOwnProperty(ot)&&yt!=null&&!E.hasOwnProperty(ot)&&ci(o,d,ot,null,E,yt);for(Ut in E)yt=E[Ut],bt=x[Ut],!E.hasOwnProperty(Ut)||yt===bt||yt==null&&bt==null||ci(o,d,Ut,yt,E,bt)}var ep=null,tp=null;function R1(o){return o.nodeType===9?o:o.ownerDocument}function d4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h4(o,d){if(o===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&d==="foreignObject"?0:o}function rp(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var np=null;function aS(){var o=window.event;return o&&o.type==="popstate"?o===np?!1:(np=o,!0):(np=null,!1)}var f4=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,g4=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof g4!="undefined"?function(o){return g4.resolve(null).then(o).catch(lS)}:f4;function lS(o){setTimeout(function(){throw o})}function ou(o){return o==="head"}function m4(o,d){var x=d,E=0,O=0;do{var F=x.nextSibling;if(o.removeChild(x),F&&F.nodeType===8)if(x=F.data,x==="/$"){if(0<E&&8>E){x=E;var ae=o.ownerDocument;if(x&1&&Lh(ae.documentElement),x&2&&Lh(ae.body),x&4)for(x=ae.head,Lh(x),ae=x.firstChild;ae;){var Ee=ae.nextSibling,qe=ae.nodeName;ae[Ce]||qe==="SCRIPT"||qe==="STYLE"||qe==="LINK"&&ae.rel.toLowerCase()==="stylesheet"||x.removeChild(ae),ae=Ee}}if(O===0){o.removeChild(F),zh(d);return}O--}else x==="$"||x==="$?"||x==="$!"?O++:E=x.charCodeAt(0)-48;else E=0;x=F}while(x);zh(d)}function ip(o){var d=o.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var x=d;switch(d=d.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":ip(x),je(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}o.removeChild(x)}}function cS(o,d,x,E){for(;o.nodeType===1;){var O=x;if(o.nodeName.toLowerCase()!==d.toLowerCase()){if(!E&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(E){if(!o[Ce])switch(d){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(F=o.getAttribute("rel"),F==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(F!==O.rel||o.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||o.getAttribute("title")!==(O.title==null?null:O.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(F=o.getAttribute("src"),(F!==(O.src==null?null:O.src)||o.getAttribute("type")!==(O.type==null?null:O.type)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&F&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(d==="input"&&o.type==="hidden"){var F=O.name==null?null:""+O.name;if(O.type==="hidden"&&o.getAttribute("name")===F)return o}else return o;if(o=pl(o.nextSibling),o===null)break}return null}function uS(o,d,x){if(d==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!x||(o=pl(o.nextSibling),o===null))return null;return o}function ap(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function dS(o,d){var x=o.ownerDocument;if(o.data!=="$?"||x.readyState==="complete")d();else{var E=function(){d(),x.removeEventListener("DOMContentLoaded",E)};x.addEventListener("DOMContentLoaded",E),o._reactRetry=E}}function pl(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return o}var sp=null;function p4(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var x=o.data;if(x==="$"||x==="$!"||x==="$?"){if(d===0)return o;d--}else x==="/$"&&d++}o=o.previousSibling}return null}function x4(o,d,x){switch(d=R1(x),o){case"html":if(o=d.documentElement,!o)throw Error(n(452));return o;case"head":if(o=d.head,!o)throw Error(n(453));return o;case"body":if(o=d.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Lh(o){for(var d=o.attributes;d.length;)o.removeAttributeNode(d[0]);je(o)}var Vo=new Map,v4=new Set;function k1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ac=be.d;be.d={f:hS,r:fS,D:gS,C:mS,L:pS,m:xS,X:yS,S:vS,M:wS};function hS(){var o=Ac.f(),d=E1();return o||d}function fS(o){var d=Be(o);d!==null&&d.tag===5&&d.type==="form"?Ku(d):Ac.r(o)}var td=typeof document=="undefined"?null:document;function y4(o,d,x){var E=td;if(E&&typeof d=="string"&&d){var O=kn(d);O='link[rel="'+o+'"][href="'+O+'"]',typeof x=="string"&&(O+='[crossorigin="'+x+'"]'),v4.has(O)||(v4.add(O),o={rel:o,crossOrigin:x,href:d},E.querySelector(O)===null&&(d=E.createElement("link"),Qa(d,"link",o),Je(d),E.head.appendChild(d)))}}function gS(o){Ac.D(o),y4("dns-prefetch",o,null)}function mS(o,d){Ac.C(o,d),y4("preconnect",o,d)}function pS(o,d,x){Ac.L(o,d,x);var E=td;if(E&&o&&d){var O='link[rel="preload"][as="'+kn(d)+'"]';d==="image"&&x&&x.imageSrcSet?(O+='[imagesrcset="'+kn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(O+='[imagesizes="'+kn(x.imageSizes)+'"]')):O+='[href="'+kn(o)+'"]';var F=O;switch(d){case"style":F=rd(o);break;case"script":F=nd(o)}Vo.has(F)||(o=m({rel:"preload",href:d==="image"&&x&&x.imageSrcSet?void 0:o,as:d},x),Vo.set(F,o),E.querySelector(O)!==null||d==="style"&&E.querySelector(Ih(F))||d==="script"&&E.querySelector(Dh(F))||(d=E.createElement("link"),Qa(d,"link",o),Je(d),E.head.appendChild(d)))}}function xS(o,d){Ac.m(o,d);var x=td;if(x&&o){var E=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+kn(E)+'"][href="'+kn(o)+'"]',F=O;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=nd(o)}if(!Vo.has(F)&&(o=m({rel:"modulepreload",href:o},d),Vo.set(F,o),x.querySelector(O)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Dh(F)))return}E=x.createElement("link"),Qa(E,"link",o),Je(E),x.head.appendChild(E)}}}function vS(o,d,x){Ac.S(o,d,x);var E=td;if(E&&o){var O=wt(E).hoistableStyles,F=rd(o);d=d||"default";var ae=O.get(F);if(!ae){var Ee={loading:0,preload:null};if(ae=E.querySelector(Ih(F)))Ee.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":d},x),(x=Vo.get(F))&&op(o,x);var qe=ae=E.createElement("link");Je(qe),Qa(qe,"link",o),qe._p=new Promise(function(pt,jt){qe.onload=pt,qe.onerror=jt}),qe.addEventListener("load",function(){Ee.loading|=1}),qe.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,L1(ae,d,E)}ae={type:"stylesheet",instance:ae,count:1,state:Ee},O.set(F,ae)}}}function yS(o,d){Ac.X(o,d);var x=td;if(x&&o){var E=wt(x).hoistableScripts,O=nd(o),F=E.get(O);F||(F=x.querySelector(Dh(O)),F||(o=m({src:o,async:!0},d),(d=Vo.get(O))&&lp(o,d),F=x.createElement("script"),Je(F),Qa(F,"link",o),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},E.set(O,F))}}function wS(o,d){Ac.M(o,d);var x=td;if(x&&o){var E=wt(x).hoistableScripts,O=nd(o),F=E.get(O);F||(F=x.querySelector(Dh(O)),F||(o=m({src:o,async:!0,type:"module"},d),(d=Vo.get(O))&&lp(o,d),F=x.createElement("script"),Je(F),Qa(F,"link",o),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},E.set(O,F))}}function w4(o,d,x,E){var O=(O=le.current)?k1(O):null;if(!O)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(d=rd(x.href),x=wt(O).hoistableStyles,E=x.get(d),E||(E={type:"style",instance:null,count:0,state:null},x.set(d,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){o=rd(x.href);var F=wt(O).hoistableStyles,ae=F.get(o);if(ae||(O=O.ownerDocument||O,ae={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(o,ae),(F=O.querySelector(Ih(o)))&&!F._p&&(ae.instance=F,ae.state.loading=5),Vo.has(o)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Vo.set(o,x),F||bS(O,o,x,ae.state))),d&&E===null)throw Error(n(528,""));return ae}if(d&&E!==null)throw Error(n(529,""));return null;case"script":return d=x.async,x=x.src,typeof x=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=nd(x),x=wt(O).hoistableScripts,E=x.get(d),E||(E={type:"script",instance:null,count:0,state:null},x.set(d,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function rd(o){return'href="'+kn(o)+'"'}function Ih(o){return'link[rel="stylesheet"]['+o+"]"}function b4(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function bS(o,d,x,E){o.querySelector('link[rel="preload"][as="style"]['+d+"]")?E.loading=1:(d=o.createElement("link"),E.preload=d,d.addEventListener("load",function(){return E.loading|=1}),d.addEventListener("error",function(){return E.loading|=2}),Qa(d,"link",x),Je(d),o.head.appendChild(d))}function nd(o){return'[src="'+kn(o)+'"]'}function Dh(o){return"script[async]"+o}function _4(o,d,x){if(d.count++,d.instance===null)switch(d.type){case"style":var E=o.querySelector('style[data-href~="'+kn(x.href)+'"]');if(E)return d.instance=E,Je(E),E;var O=m({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return E=(o.ownerDocument||o).createElement("style"),Je(E),Qa(E,"style",O),L1(E,x.precedence,o),d.instance=E;case"stylesheet":O=rd(x.href);var F=o.querySelector(Ih(O));if(F)return d.state.loading|=4,d.instance=F,Je(F),F;E=b4(x),(O=Vo.get(O))&&op(E,O),F=(o.ownerDocument||o).createElement("link"),Je(F);var ae=F;return ae._p=new Promise(function(Ee,qe){ae.onload=Ee,ae.onerror=qe}),Qa(F,"link",E),d.state.loading|=4,L1(F,x.precedence,o),d.instance=F;case"script":return F=nd(x.src),(O=o.querySelector(Dh(F)))?(d.instance=O,Je(O),O):(E=x,(O=Vo.get(F))&&(E=m({},x),lp(E,O)),o=o.ownerDocument||o,O=o.createElement("script"),Je(O),Qa(O,"link",E),o.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(E=d.instance,d.state.loading|=4,L1(E,x.precedence,o));return d.instance}function L1(o,d,x){for(var E=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=E.length?E[E.length-1]:null,F=O,ae=0;ae<E.length;ae++){var Ee=E[ae];if(Ee.dataset.precedence===d)F=Ee;else if(F!==O)break}F?F.parentNode.insertBefore(o,F.nextSibling):(d=x.nodeType===9?x.head:x,d.insertBefore(o,d.firstChild))}function op(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.title==null&&(o.title=d.title)}function lp(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.integrity==null&&(o.integrity=d.integrity)}var I1=null;function E4(o,d,x){if(I1===null){var E=new Map,O=I1=new Map;O.set(x,E)}else O=I1,E=O.get(x),E||(E=new Map,O.set(x,E));if(E.has(o))return E;for(E.set(o,null),x=x.getElementsByTagName(o),O=0;O<x.length;O++){var F=x[O];if(!(F[Ce]||F[gn]||o==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var ae=F.getAttribute(d)||"";ae=o+ae;var Ee=E.get(ae);Ee?Ee.push(F):E.set(ae,[F])}}return E}function S4(o,d,x){o=o.ownerDocument||o,o.head.insertBefore(x,d==="title"?o.querySelector("head > title"):null)}function _S(o,d,x){if(x===1||d.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return o=d.disabled,typeof d.precedence=="string"&&o==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function N4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ph=null;function ES(){}function SS(o,d,x){if(Ph===null)throw Error(n(475));var E=Ph;if(d.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var O=rd(x.href),F=o.querySelector(Ih(O));if(F){o=F._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(E.count++,E=D1.bind(E),o.then(E,E)),d.state.loading|=4,d.instance=F,Je(F);return}F=o.ownerDocument||o,x=b4(x),(O=Vo.get(O))&&op(x,O),F=F.createElement("link"),Je(F);var ae=F;ae._p=new Promise(function(Ee,qe){ae.onload=Ee,ae.onerror=qe}),Qa(F,"link",x),d.instance=F}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(E.count++,d=D1.bind(E),o.addEventListener("load",d),o.addEventListener("error",d))}}function NS(){if(Ph===null)throw Error(n(475));var o=Ph;return o.stylesheets&&o.count===0&&cp(o,o.stylesheets),0<o.count?function(d){var x=setTimeout(function(){if(o.stylesheets&&cp(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(x)}}:null}function D1(){if(this.count--,this.count===0){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var P1=null;function cp(o,d){o.stylesheets=null,o.unsuspend!==null&&(o.count++,P1=new Map,d.forEach(AS,o),P1=null,D1.call(o))}function AS(o,d){if(!(d.state.loading&4)){var x=P1.get(o);if(x)var E=x.get(null);else{x=new Map,P1.set(o,x);for(var O=o.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<O.length;F++){var ae=O[F];(ae.nodeName==="LINK"||ae.getAttribute("media")!=="not all")&&(x.set(ae.dataset.precedence,ae),E=ae)}E&&x.set(null,E)}O=d.instance,ae=O.getAttribute("data-precedence"),F=x.get(ae)||E,F===E&&x.set(null,O),x.set(ae,O),this.count++,E=D1.bind(this),O.addEventListener("load",E),O.addEventListener("error",E),F?F.parentNode.insertBefore(O,F.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(O,o.firstChild)),d.state.loading|=4}}var Fh={$$typeof:P,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function CS(o,d,x,E,O,F,ae,Ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=E,this.onUncaughtError=O,this.onCaughtError=F,this.onRecoverableError=ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function A4(o,d,x,E,O,F,ae,Ee,qe,pt,jt,Ut){return o=new CS(o,d,x,ae,Ee,qe,pt,Ut),d=1,F===!0&&(d|=24),F=Pa(3,null,null,d),o.current=F,F.stateNode=o,d=sh(),d.refCount++,o.pooledCache=d,d.refCount++,F.memoizedState={element:E,isDehydrated:x,cache:d},Ye(F),o}function C4(o){return o?(o=xa,o):xa}function T4(o,d,x,E,O,F){O=C4(O),E.context===null?E.context=O:E.pendingContext=O,E=Tt(d),E.payload={element:x},F=F===void 0?null:F,F!==null&&(E.callback=F),x=Ft(o,E,d),x!==null&&(vo(x,o,d),Rt(x,o,d))}function j4(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var x=o.retryLane;o.retryLane=x!==0&&x<d?x:d}}function up(o,d){j4(o,d),(o=o.alternate)&&j4(o,d)}function O4(o){if(o.tag===13){var d=nl(o,67108864);d!==null&&vo(d,o,67108864),up(o,67108864)}}var F1=!0;function TS(o,d,x,E){var O=he.T;he.T=null;var F=be.p;try{be.p=2,dp(o,d,x,E)}finally{be.p=F,he.T=O}}function jS(o,d,x,E){var O=he.T;he.T=null;var F=be.p;try{be.p=8,dp(o,d,x,E)}finally{be.p=F,he.T=O}}function dp(o,d,x,E){if(F1){var O=hp(E);if(O===null)Jm(o,d,E,B1,x),k4(o,E);else if(RS(O,o,d,x,E))E.stopPropagation();else if(k4(o,E),d&4&&-1<OS.indexOf(o)){for(;O!==null;){var F=Be(O);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var ae=wr(F.pendingLanes);if(ae!==0){var Ee=F;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;ae;){var qe=1<<31-Qt(ae);Ee.entanglements[1]|=qe,ae&=~qe}Kl(F),(Qn&6)===0&&(b1=Ve()+500,Oh(0))}}break;case 13:Ee=nl(F,2),Ee!==null&&vo(Ee,F,2),E1(),up(F,2)}if(F=hp(E),F===null&&Jm(o,d,E,B1,x),F===O)break;O=F}O!==null&&E.stopPropagation()}else Jm(o,d,E,null,x)}}function hp(o){return o=Ei(o),fp(o)}var B1=null;function fp(o){if(B1=null,o=ke(o),o!==null){var d=s(o);if(d===null)o=null;else{var x=d.tag;if(x===13){if(o=c(d),o!==null)return o;o=null}else if(x===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null)}}return B1=o,null}function R4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case He:return 2;case Ke:return 8;case et:case Dt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var gp=!1,lu=null,cu=null,uu=null,Bh=new Map,Mh=new Map,du=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k4(o,d){switch(o){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":cu=null;break;case"mouseover":case"mouseout":uu=null;break;case"pointerover":case"pointerout":Bh.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(d.pointerId)}}function Uh(o,d,x,E,O,F){return o===null||o.nativeEvent!==F?(o={blockedOn:d,domEventName:x,eventSystemFlags:E,nativeEvent:F,targetContainers:[O]},d!==null&&(d=Be(d),d!==null&&O4(d)),o):(o.eventSystemFlags|=E,d=o.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),o)}function RS(o,d,x,E,O){switch(d){case"focusin":return lu=Uh(lu,o,d,x,E,O),!0;case"dragenter":return cu=Uh(cu,o,d,x,E,O),!0;case"mouseover":return uu=Uh(uu,o,d,x,E,O),!0;case"pointerover":var F=O.pointerId;return Bh.set(F,Uh(Bh.get(F)||null,o,d,x,E,O)),!0;case"gotpointercapture":return F=O.pointerId,Mh.set(F,Uh(Mh.get(F)||null,o,d,x,E,O)),!0}return!1}function L4(o){var d=ke(o.target);if(d!==null){var x=s(d);if(x!==null){if(d=x.tag,d===13){if(d=c(x),d!==null){o.blockedOn=d,Hi(o.priority,function(){if(x.tag===13){var E=xo();E=Ea(E);var O=nl(x,E);O!==null&&vo(O,x,E),up(x,E)}});return}}else if(d===3&&x.stateNode.current.memoizedState.isDehydrated){o.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}o.blockedOn=null}function M1(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var x=hp(o.nativeEvent);if(x===null){x=o.nativeEvent;var E=new x.constructor(x.type,x);Ro=E,x.target.dispatchEvent(E),Ro=null}else return d=Be(x),d!==null&&O4(d),o.blockedOn=x,!1;d.shift()}return!0}function I4(o,d,x){M1(o)&&x.delete(d)}function kS(){gp=!1,lu!==null&&M1(lu)&&(lu=null),cu!==null&&M1(cu)&&(cu=null),uu!==null&&M1(uu)&&(uu=null),Bh.forEach(I4),Mh.forEach(I4)}function U1(o,d){o.blockedOn===d&&(o.blockedOn=null,gp||(gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kS)))}var z1=null;function D4(o){z1!==o&&(z1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){z1===o&&(z1=null);for(var d=0;d<o.length;d+=3){var x=o[d],E=o[d+1],O=o[d+2];if(typeof E!="function"){if(fp(E||x)===null)continue;break}var F=Be(x);F!==null&&(o.splice(d,3),d-=3,Ho(F,{pending:!0,data:O,method:x.method,action:E},E,O))}}))}function zh(o){function d(qe){return U1(qe,o)}lu!==null&&U1(lu,o),cu!==null&&U1(cu,o),uu!==null&&U1(uu,o),Bh.forEach(d),Mh.forEach(d);for(var x=0;x<du.length;x++){var E=du[x];E.blockedOn===o&&(E.blockedOn=null)}for(;0<du.length&&(x=du[0],x.blockedOn===null);)L4(x),x.blockedOn===null&&du.shift();if(x=(o.ownerDocument||o).$$reactFormReplay,x!=null)for(E=0;E<x.length;E+=3){var O=x[E],F=x[E+1],ae=O[cn]||null;if(typeof F=="function")ae||D4(x);else if(ae){var Ee=null;if(F&&F.hasAttribute("formAction")){if(O=F,ae=F[cn]||null)Ee=ae.formAction;else if(fp(O)!==null)continue}else Ee=ae.action;typeof Ee=="function"?x[E+1]=Ee:(x.splice(E,3),E-=3),D4(x)}}}function mp(o){this._internalRoot=o}H1.prototype.render=mp.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(n(409));var x=d.current,E=xo();T4(x,E,o,d,null,null)},H1.prototype.unmount=mp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;T4(o.current,2,null,o,null,null),E1(),d[jn]=null}};function H1(o){this._internalRoot=o}H1.prototype.unstable_scheduleHydration=function(o){if(o){var d=Ii();o={blockedOn:null,target:o,priority:d};for(var x=0;x<du.length&&d!==0&&d<du[x].priority;x++);du.splice(x,0,o),x===0&&L4(o)}};var P4=e.version;if(P4!=="19.1.0")throw Error(n(527,P4,"19.1.0"));be.findDOMNode=function(o){var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=g(d),o=o!==null?u(o):null,o=o===null?null:o.stateNode,o};var LS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q1.isDisabled&&q1.supportsFiber)try{ar=q1.inject(LS),dr=q1}catch(o){}}return qh.createRoot=function(o,d){if(!i(o))throw Error(n(299));var x=!1,E="",O=Jv,F=Qv,ae=ey,Ee=null;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(F=d.onCaughtError),d.onRecoverableError!==void 0&&(ae=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Ee=d.unstable_transitionCallbacks)),d=A4(o,1,!1,null,null,x,E,O,F,ae,Ee,null),o[jn]=d.current,Zm(o),new mp(d)},qh.hydrateRoot=function(o,d,x){if(!i(o))throw Error(n(299));var E=!1,O="",F=Jv,ae=Qv,Ee=ey,qe=null,pt=null;return x!=null&&(x.unstable_strictMode===!0&&(E=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onUncaughtError!==void 0&&(F=x.onUncaughtError),x.onCaughtError!==void 0&&(ae=x.onCaughtError),x.onRecoverableError!==void 0&&(Ee=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(qe=x.unstable_transitionCallbacks),x.formState!==void 0&&(pt=x.formState)),d=A4(o,1,!0,d,x!=null?x:null,E,O,F,ae,Ee,qe,pt),d.context=C4(null),x=d.current,E=xo(),E=Ea(E),O=Tt(E),O.callback=null,Ft(x,O,E),x=E,d.current.lanes=x,Xn(d,x),Kl(d),o[jn]=d.current,Zm(o),new H1(d)},qh.version="19.1.0",qh}var K4;function YS(){if(K4)return wp.exports;K4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wp.exports=XS(),wp.exports}var KS=YS(),Wh={},Z4;function ZS(){if(Z4)return Wh;Z4=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.parse=c,Wh.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,_){const C=new s,A=b.length;if(A<2)return C;const j=(_==null?void 0:_.decode)||m;let L=0;do{const I=b.indexOf("=",L);if(I===-1)break;const P=b.indexOf(";",L),X=P===-1?A:P;if(I>X){L=b.lastIndexOf(";",I-1)+1;continue}const Y=f(b,L,I),K=g(b,I,Y),G=b.slice(Y,K);if(C[G]===void 0){let V=f(b,I+1,X),z=g(b,X,V);const ie=j(b.slice(V,z));C[G]=ie}L=X+1}while(L<A);return C}function f(b,_,C){do{const A=b.charCodeAt(_);if(A!==32&&A!==9)return _}while(++_<C);return C}function g(b,_,C){for(;_>C;){const A=b.charCodeAt(--_);if(A!==32&&A!==9)return _+1}return C}function u(b,_,C){const A=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const j=A(_);if(!e.test(j))throw new TypeError(`argument val is invalid: ${_}`);let L=b+"="+j;if(!C)return L;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);L+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);L+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);L+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);L+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(L+="; HttpOnly"),C.secure&&(L+="; Secure"),C.partitioned&&(L+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return L}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch(_){return b}}function v(b){return i.call(b)==="[object Date]"}return Wh}ZS();var J4="popstate";function JS(t={}){function e(n,i){let{pathname:s,search:c,hash:f}=n.location;return sx("",{pathname:s,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:yf(i)}return eN(e,r,null,t)}function zi(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Yo(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function QS(){return Math.random().toString(36).substring(2,10)}function Q4(t,e){return{usr:t.state,key:t.key,idx:e}}function sx(t,e,r=null,n){return er(kt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wd(e):e),{state:r,key:e&&e.key||n||QS()})}function yf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function eN(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,c=i.history,f="POP",g=null,u=m();u==null&&(u=0,c.replaceState(er(kt({},c.state),{idx:u}),""));function m(){return(c.state||{idx:null}).idx}function v(){f="POP";let j=m(),L=j==null?null:j-u;u=j,g&&g({action:f,location:A.location,delta:L})}function b(j,L){f="PUSH";let I=sx(A.location,j,L);u=m()+1;let P=Q4(I,u),X=A.createHref(I);try{c.pushState(P,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(X)}s&&g&&g({action:f,location:A.location,delta:1})}function _(j,L){f="REPLACE";let I=sx(A.location,j,L);u=m();let P=Q4(I,u),X=A.createHref(I);c.replaceState(P,"",X),s&&g&&g({action:f,location:A.location,delta:0})}function C(j){let L=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof j=="string"?j:yf(j);return I=I.replace(/ $/,"%20"),zi(L,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,L)}let A={get action(){return f},get location(){return t(i,c)},listen(j){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(J4,v),g=j,()=>{i.removeEventListener(J4,v),g=null}},createHref(j){return e(i,j)},createURL:C,encodeLocation(j){let L=C(j);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:_,go(j){return c.go(j)}};return A}function C3(t,e,r="/"){return tN(t,e,r,!1)}function tN(t,e,r,n){let i=typeof e=="string"?Wd(e):e,s=Fc(i.pathname||"/",r);if(s==null)return null;let c=T3(t);rN(c);let f=null;for(let g=0;f==null&&g<c.length;++g){let u=fN(s);f=dN(c[g],u,n)}return f}function T3(t,e=[],r=[],n=""){let i=(s,c,f)=>{let g={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};g.relativePath.startsWith("/")&&(zi(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length));let u=Lc([n,g.relativePath]),m=r.concat(g);s.children&&s.children.length>0&&(zi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),T3(s.children,e,m,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:cN(u,s.index),routesMeta:m})};return t.forEach((s,c)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))i(s,c);else for(let g of j3(s.path))i(s,c,g)}),e}function j3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let c=j3(n.join("/")),f=[];return f.push(...c.map(g=>g===""?s:[s,g].join("/"))),i&&f.push(...c),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function rN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:uN(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var nN=/^:[\w-]+$/,iN=3,aN=2,sN=1,oN=10,lN=-2,e5=t=>t==="*";function cN(t,e){let r=t.split("/"),n=r.length;return r.some(e5)&&(n+=lN),e&&(n+=aN),r.filter(i=>!e5(i)).reduce((i,s)=>i+(nN.test(s)?iN:s===""?sN:oN),n)}function uN(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function dN(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",c=[];for(let f=0;f<n.length;++f){let g=n[f],u=f===n.length-1,m=s==="/"?e:e.slice(s.length)||"/",v=o2({path:g.relativePath,caseSensitive:g.caseSensitive,end:u},m),b=g.route;if(!v&&u&&r&&!n[n.length-1].route.index&&(v=o2({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Lc([s,v.pathname]),pathnameBase:xN(Lc([s,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(s=Lc([s,v.pathnameBase]))}return c}function o2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=hN(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((u,{paramName:m,isOptional:v},b)=>{if(m==="*"){let C=f[b]||"";c=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const _=f[b];return v&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:c,pattern:t}}function hN(t,e=!1,r=!0){Yo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,g)=>(n.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function fN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function gN(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Wd(t):t;return{pathname:r?r.startsWith("/")?r:mN(r,e):e,search:vN(n),hash:yN(i)}}function mN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sp(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pN(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Gx(t){let e=pN(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function $x(t,e,r,n=!1){let i;typeof t=="string"?i=Wd(t):(i=kt({},t),zi(!i.pathname||!i.pathname.includes("?"),Sp("?","pathname","search",i)),zi(!i.pathname||!i.pathname.includes("#"),Sp("#","pathname","hash",i)),zi(!i.search||!i.search.includes("#"),Sp("#","search","hash",i)));let s=t===""||i.pathname==="",c=s?"/":i.pathname,f;if(c==null)f=r;else{let v=e.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}f=v>=0?e[v]:"/"}let g=gN(i,f),u=c&&c!=="/"&&c.endsWith("/"),m=(s||c===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(u||m)&&(g.pathname+="/"),g}var Lc=t=>t.join("/").replace(/\/\/+/g,"/"),xN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var O3=["POST","PUT","PATCH","DELETE"];new Set(O3);var bN=["GET",...O3];new Set(bN);var Vd=ee.createContext(null);Vd.displayName="DataRouter";var D2=ee.createContext(null);D2.displayName="DataRouterState";var R3=ee.createContext({isTransitioning:!1});R3.displayName="ViewTransition";var _N=ee.createContext(new Map);_N.displayName="Fetchers";var EN=ee.createContext(null);EN.displayName="Await";var Tl=ee.createContext(null);Tl.displayName="Navigation";var Of=ee.createContext(null);Of.displayName="Location";var Ko=ee.createContext({outlet:null,matches:[],isDataRoute:!1});Ko.displayName="Route";var Xx=ee.createContext(null);Xx.displayName="RouteError";function SN(t,{relative:e}={}){zi(Gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ee.useContext(Tl),{hash:i,pathname:s,search:c}=Rf(t,{relative:e}),f=s;return r!=="/"&&(f=s==="/"?r:Lc([r,s])),n.createHref({pathname:f,search:c,hash:i})}function Gd(){return ee.useContext(Of)!=null}function ro(){return zi(Gd(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(Of).location}var k3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L3(t){ee.useContext(Tl).static||ee.useLayoutEffect(t)}function Ps(){let{isDataRoute:t}=ee.useContext(Ko);return t?MN():NN()}function NN(){zi(Gd(),"useNavigate() may be used only in the context of a <Router> component.");let t=ee.useContext(Vd),{basename:e,navigator:r}=ee.useContext(Tl),{matches:n}=ee.useContext(Ko),{pathname:i}=ro(),s=JSON.stringify(Gx(n)),c=ee.useRef(!1);return L3(()=>{c.current=!0}),ee.useCallback((g,u={})=>{if(Yo(c.current,k3),!c.current)return;if(typeof g=="number"){r.go(g);return}let m=$x(g,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Lc([e,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[e,r,s,i,t])}var AN=ee.createContext(null);function CN(t){let e=ee.useContext(Ko).outlet;return e&&ee.createElement(AN.Provider,{value:t},e)}function $d(){let{matches:t}=ee.useContext(Ko),e=t[t.length-1];return e?e.params:{}}function Rf(t,{relative:e}={}){let{matches:r}=ee.useContext(Ko),{pathname:n}=ro(),i=JSON.stringify(Gx(r));return ee.useMemo(()=>$x(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function TN(t,e){return I3(t,e)}function I3(t,e,r,n){var I;zi(Gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=ee.useContext(Tl),{matches:c}=ee.useContext(Ko),f=c[c.length-1],g=f?f.params:{},u=f?f.pathname:"/",m=f?f.pathnameBase:"/",v=f&&f.route;{let P=v&&v.path||"";D3(u,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=ro(),_;if(e){let P=typeof e=="string"?Wd(e):e;zi(m==="/"||((I=P.pathname)==null?void 0:I.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),_=P}else _=b;let C=_.pathname||"/",A=C;if(m!=="/"){let P=m.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=!s&&r&&r.matches&&r.matches.length>0?r.matches:C3(t,{pathname:A});Yo(v||j!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Yo(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=LN(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},g,P.params),pathname:Lc([m,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:Lc([m,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,r,n);return e&&L?ee.createElement(Of.Provider,{value:{location:kt({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:"POP"}},L):L}function jN(){let t=BN(),e=wN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:s},"ErrorBoundary")," or"," ",ee.createElement("code",{style:s},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),r?ee.createElement("pre",{style:i},r):null,c)}var ON=ee.createElement(jN,null),RN=class extends ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ee.createElement(Ko.Provider,{value:this.props.routeContext},ee.createElement(Xx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kN({routeContext:t,match:e,children:r}){let n=ee.useContext(Vd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(Ko.Provider,{value:t},r)}function LN(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let g=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);zi(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,g+1))}let c=!1,f=-1;if(r)for(let g=0;g<i.length;g++){let u=i[g];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(f=g),u.route.id){let{loaderData:m,errors:v}=r,b=u.route.loader&&!m.hasOwnProperty(u.route.id)&&(!v||v[u.route.id]===void 0);if(u.route.lazy||b){c=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((g,u,m)=>{let v,b=!1,_=null,C=null;r&&(v=s&&u.route.id?s[u.route.id]:void 0,_=u.route.errorElement||ON,c&&(f<0&&m===0?(D3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):f===m&&(b=!0,C=u.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,m+1)),j=()=>{let L;return v?L=_:b?L=C:u.route.Component?L=ee.createElement(u.route.Component,null):u.route.element?L=u.route.element:L=g,ee.createElement(kN,{match:u,routeContext:{outlet:g,matches:A,isDataRoute:r!=null},children:L})};return r&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?ee.createElement(RN,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):j()},null)}function Yx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IN(t){let e=ee.useContext(Vd);return zi(e,Yx(t)),e}function DN(t){let e=ee.useContext(D2);return zi(e,Yx(t)),e}function PN(t){let e=ee.useContext(Ko);return zi(e,Yx(t)),e}function Kx(t){let e=PN(t),r=e.matches[e.matches.length-1];return zi(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function FN(){return Kx("useRouteId")}function BN(){var n;let t=ee.useContext(Xx),e=DN("useRouteError"),r=Kx("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function MN(){let{router:t}=IN("useNavigate"),e=Kx("useNavigate"),r=ee.useRef(!1);return L3(()=>{r.current=!0}),ee.useCallback((c,...f)=>we(null,[c,...f],function*(i,s={}){Yo(r.current,k3),r.current&&(typeof i=="number"?t.navigate(i):yield t.navigate(i,kt({fromRouteId:e},s)))}),[t,e])}var t5={};function D3(t,e,r){!e&&!t5[t]&&(t5[t]=!0,Yo(!1,r))}ee.memo(UN);function UN({routes:t,future:e,state:r}){return I3(t,void 0,r,e)}function Zx({to:t,replace:e,state:r,relative:n}){zi(Gd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ee.useContext(Tl);Yo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ee.useContext(Ko),{pathname:c}=ro(),f=Ps(),g=$x(t,Gx(s),c,n==="path"),u=JSON.stringify(g);return ee.useEffect(()=>{f(JSON.parse(u),{replace:e,state:r,relative:n})},[f,u,n,e,r]),null}function zN(t){return CN(t.context)}function vn(t){zi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HN({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){zi(!Gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=ee.useMemo(()=>({basename:c,navigator:i,static:s,future:{}}),[c,i,s]);typeof r=="string"&&(r=Wd(r));let{pathname:g="/",search:u="",hash:m="",state:v=null,key:b="default"}=r,_=ee.useMemo(()=>{let C=Fc(g,c);return C==null?null:{location:{pathname:C,search:u,hash:m,state:v,key:b},navigationType:n}},[c,g,u,m,v,b,n]);return Yo(_!=null,`<Router basename="${c}"> is not able to match the URL "${g}${u}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:ee.createElement(Tl.Provider,{value:f},ee.createElement(Of.Provider,{children:e,value:_}))}function qN({children:t,location:e}){return TN(ox(t),e)}function ox(t,e=[]){let r=[];return ee.Children.forEach(t,(n,i)=>{if(!ee.isValidElement(n))return;let s=[...e,i];if(n.type===ee.Fragment){r.push.apply(r,ox(n.props.children,s));return}zi(n.type===vn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zi(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ox(n.props.children,s)),r.push(c)}),r}var Kg="get",Zg="application/x-www-form-urlencoded";function P2(t){return t!=null&&typeof t.tagName=="string"}function WN(t){return P2(t)&&t.tagName.toLowerCase()==="button"}function VN(t){return P2(t)&&t.tagName.toLowerCase()==="form"}function GN(t){return P2(t)&&t.tagName.toLowerCase()==="input"}function $N(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XN(t,e){return t.button===0&&(!e||e==="_self")&&!$N(t)}function lx(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function YN(t,e){let r=lx(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var G1=null;function KN(){if(G1===null)try{new FormData(document.createElement("form"),0),G1=!1}catch(t){G1=!0}return G1}var ZN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Np(t){return t!=null&&!ZN.has(t)?(Yo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zg}"`),null):t}function JN(t,e){let r,n,i,s,c;if(VN(t)){let f=t.getAttribute("action");n=f?Fc(f,e):null,r=t.getAttribute("method")||Kg,i=Np(t.getAttribute("enctype"))||Zg,s=new FormData(t)}else if(WN(t)||GN(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(n=g?Fc(g,e):null,r=t.getAttribute("formmethod")||f.getAttribute("method")||Kg,i=Np(t.getAttribute("formenctype"))||Np(f.getAttribute("enctype"))||Zg,s=new FormData(f,t),!KN()){let{name:u,type:m,value:v}=t;if(m==="image"){let b=u?`${u}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else u&&s.append(u,v)}}else{if(P2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Kg,n=null,i=Zg,c=t}return s&&i==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:c}}function Jx(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function QN(t,e){return we(this,null,function*(){if(t.id in e)return e[t.id];try{let r=yield import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function eA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}function tA(t,e,r){return we(this,null,function*(){let n=yield Promise.all(t.map(i=>we(null,null,function*(){let s=e.routes[i.route.id];if(s){let c=yield QN(s,r);return c.links?c.links():[]}return[]})));return aA(n.flat(1).filter(eA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?er(kt({},i),{rel:"prefetch",as:"style"}):er(kt({},i),{rel:"prefetch"})))})}function r5(t,e,r,n,i,s){let c=(g,u)=>r[u]?g.route.id!==r[u].route.id:!0,f=(g,u)=>{var m;return r[u].pathname!==g.pathname||((m=r[u].route.path)==null?void 0:m.endsWith("*"))&&r[u].params["*"]!==g.params["*"]};return s==="assets"?e.filter((g,u)=>c(g,u)||f(g,u)):s==="data"?e.filter((g,u)=>{var v;let m=n.routes[g.route.id];if(!m||!m.hasLoader)return!1;if(c(g,u)||f(g,u))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function rA(t,e,{includeHydrateFallback:r}={}){return nA(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function nA(t){return[...new Set(t)]}function iA(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function aA(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(iA(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}var sA=new Set([100,101,204,205]);function oA(t,e){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&Fc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function P3(){let t=ee.useContext(Vd);return Jx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lA(){let t=ee.useContext(D2);return Jx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qx=ee.createContext(void 0);Qx.displayName="FrameworkContext";function F3(){let t=ee.useContext(Qx);return Jx(t,"You must render this element inside a <HydratedRouter> element"),t}function cA(t,e){let r=ee.useContext(Qx),[n,i]=ee.useState(!1),[s,c]=ee.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:u,onMouseLeave:m,onTouchStart:v}=e,b=ee.useRef(null);ee.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=L=>{L.forEach(I=>{c(I.isIntersecting)})},j=new IntersectionObserver(A,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[t]),ee.useEffect(()=>{if(n){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[n]);let _=()=>{i(!0)},C=()=>{i(!1),c(!1)};return r?t!=="intent"?[s,b,{}]:[s,b,{onFocus:Vh(f,_),onBlur:Vh(g,C),onMouseEnter:Vh(u,_),onMouseLeave:Vh(m,C),onTouchStart:Vh(v,_)}]:[!1,b,{}]}function Vh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function uA(r){var n=r,{page:t}=n,e=fu(n,["page"]);let{router:i}=P3(),s=ee.useMemo(()=>C3(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?ee.createElement(hA,kt({page:t,matches:s},e)):null}function dA(t){let{manifest:e,routeModules:r}=F3(),[n,i]=ee.useState([]);return ee.useEffect(()=>{let s=!1;return tA(t,e,r).then(c=>{s||i(c)}),()=>{s=!0}},[t,e,r]),n}function hA(n){var i=n,{page:t,matches:e}=i,r=fu(i,["page","matches"]);let s=ro(),{manifest:c,routeModules:f}=F3(),{basename:g}=P3(),{loaderData:u,matches:m}=lA(),v=ee.useMemo(()=>r5(t,e,m,c,s,"data"),[t,e,m,c,s]),b=ee.useMemo(()=>r5(t,e,m,c,s,"assets"),[t,e,m,c,s]),_=ee.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,L=!1;if(e.forEach(P=>{var Y;let X=c.routes[P.route.id];!X||!X.hasLoader||(!v.some(K=>K.route.id===P.route.id)&&P.route.id in u&&((Y=f[P.route.id])!=null&&Y.shouldRevalidate)||X.hasClientLoader?L=!0:j.add(P.route.id))}),j.size===0)return[];let I=oA(t,g);return L&&j.size>0&&I.searchParams.set("_routes",e.filter(P=>j.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[g,u,s,c,v,e,t,f]),C=ee.useMemo(()=>rA(b,c),[b,c]),A=dA(b);return ee.createElement(ee.Fragment,null,_.map(j=>ee.createElement("link",kt({key:j,rel:"prefetch",as:"fetch",href:j},r))),C.map(j=>ee.createElement("link",kt({key:j,rel:"modulepreload",href:j},r))),A.map(({key:j,link:L})=>ee.createElement("link",kt({key:j},L))))}function fA(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var B3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{B3&&(window.__reactRouterVersion="7.5.3")}catch(t){}function gA({basename:t,children:e,window:r}){let n=ee.useRef();n.current==null&&(n.current=JS({window:r,v5Compat:!0}));let i=n.current,[s,c]=ee.useState({action:i.action,location:i.location}),f=ee.useCallback(g=>{ee.startTransition(()=>c(g))},[c]);return ee.useLayoutEffect(()=>i.listen(f),[i,f]),ee.createElement(HN,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var M3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=ee.forwardRef(function(C,_){var A=C,{onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:c,state:f,target:g,to:u,preventScrollReset:m,viewTransition:v}=A,b=fu(A,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=ee.useContext(Tl),L=typeof u=="string"&&M3.test(u),I,P=!1;if(typeof u=="string"&&L&&(I=u,B3))try{let W=new URL(window.location.href),H=u.startsWith("//")?new URL(W.protocol+u):new URL(u),ne=Fc(H.pathname,j);H.origin===W.origin&&ne!=null?u=ne+H.search+H.hash:P=!0}catch(W){Yo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=SN(u,{relative:i}),[Y,K,G]=cA(n,b),V=vA(u,{replace:c,state:f,target:g,preventScrollReset:m,relative:i,viewTransition:v});function z(W){e&&e(W),W.defaultPrevented||V(W)}let ie=ee.createElement("a",er(kt(kt({},b),G),{href:I||X,onClick:P||s?e:z,ref:fA(_,K),target:g,"data-discover":!L&&r==="render"?"true":void 0}));return Y&&!L?ee.createElement(ee.Fragment,null,ie,ee.createElement(uA,{page:X})):ie});Zt.displayName="Link";var mA=ee.forwardRef(function(v,m){var b=v,{"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:c,viewTransition:f,children:g}=b,u=fu(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let _=Rf(c,{relative:u.relative}),C=ro(),A=ee.useContext(D2),{navigator:j,basename:L}=ee.useContext(Tl),I=A!=null&&EA(_)&&f===!0,P=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,X=C.pathname,Y=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,P=P.toLowerCase()),Y&&L&&(Y=Fc(Y,L)||Y);const K=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let G=X===P||!i&&X.startsWith(P)&&X.charAt(K)==="/",V=Y!=null&&(Y===P||!i&&Y.startsWith(P)&&Y.charAt(P.length)==="/"),z={isActive:G,isPending:V,isTransitioning:I},ie=G?e:void 0,W;typeof n=="function"?W=n(z):W=[n,G?"active":null,V?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(z):s;return ee.createElement(Zt,er(kt({},u),{"aria-current":ie,className:W,ref:m,style:H,to:c,viewTransition:f}),typeof g=="function"?g(z):g)});mA.displayName="NavLink";var pA=ee.forwardRef((C,_)=>{var A=C,{discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:c=Kg,action:f,onSubmit:g,relative:u,preventScrollReset:m,viewTransition:v}=A,b=fu(A,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=bA(),L=_A(f,{relative:u}),I=c.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&M3.test(f),X=Y=>{if(g&&g(Y),Y.defaultPrevented)return;Y.preventDefault();let K=Y.nativeEvent.submitter,G=(K==null?void 0:K.getAttribute("formmethod"))||c;j(K||Y.currentTarget,{fetcherKey:e,method:G,navigate:r,replace:i,state:s,relative:u,preventScrollReset:m,viewTransition:v})};return ee.createElement("form",er(kt({ref:_,method:I,action:L,onSubmit:n?g:X},b),{"data-discover":!P&&t==="render"?"true":void 0}))});pA.displayName="Form";function xA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U3(t){let e=ee.useContext(Vd);return zi(e,xA(t)),e}function vA(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:c}={}){let f=Ps(),g=ro(),u=Rf(t,{relative:s});return ee.useCallback(m=>{if(XN(m,e)){m.preventDefault();let v=r!==void 0?r:yf(g)===yf(u);f(t,{replace:v,state:n,preventScrollReset:i,relative:s,viewTransition:c})}},[g,f,u,r,n,e,t,i,s,c])}function kf(t){Yo(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ee.useRef(lx(t)),r=ee.useRef(!1),n=ro(),i=ee.useMemo(()=>YN(n.search,r.current?null:e.current),[n.search]),s=Ps(),c=ee.useCallback((f,g)=>{const u=lx(typeof f=="function"?f(i):f);r.current=!0,s("?"+u,g)},[s,i]);return[i,c]}var yA=0,wA=()=>`__${String(++yA)}__`;function bA(){let{router:t}=U3("useSubmit"),{basename:e}=ee.useContext(Tl),r=FN();return ee.useCallback((s,...c)=>we(null,[s,...c],function*(n,i={}){let{action:f,method:g,encType:u,formData:m,body:v}=JN(n,e);if(i.navigate===!1){let b=i.fetcherKey||wA();yield t.fetch(b,r,i.action||f,{preventScrollReset:i.preventScrollReset,formData:m,body:v,formMethod:i.method||g,formEncType:i.encType||u,flushSync:i.flushSync})}else yield t.navigate(i.action||f,{preventScrollReset:i.preventScrollReset,formData:m,body:v,formMethod:i.method||g,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,e,r])}function _A(t,{relative:e}={}){let{basename:r}=ee.useContext(Tl),n=ee.useContext(Ko);zi(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s=kt({},Rf(t||".",{relative:e})),c=ro();if(t==null){s.search=c.search;let f=new URLSearchParams(s.search),g=f.getAll("index");if(g.some(m=>m==="")){f.delete("index"),g.filter(v=>v).forEach(v=>f.append("index",v));let m=f.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Lc([r,s.pathname])),yf(s)}function EA(t,e={}){let r=ee.useContext(R3);zi(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=U3("useViewTransitionState"),i=Rf(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Fc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Fc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return o2(i.pathname,c)!=null||o2(i.pathname,s)!=null}new TextEncoder;[...sA];const SA="modulepreload",NA=function(t){return"/"+t},n5={},Es=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));i=c(r.map(u=>{if(u=NA(u),u in n5)return;n5[u]=!0;const m=u.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":SA,m||(b.as="script"),b.crossOrigin="",b.href=u,g&&b.setAttribute("nonce",g),document.head.appendChild(b),m)return new Promise((_,C)=>{b.addEventListener("load",_),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return i.then(c=>{for(const f of c||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})};function z3(t,e){return function(){return t.apply(e,arguments)}}const{toString:AA}=Object.prototype,{getPrototypeOf:ev}=Object,{iterator:F2,toStringTag:H3}=Symbol,B2=(t=>e=>{const r=AA.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),jl=t=>(t=t.toLowerCase(),e=>B2(e)===t),M2=t=>e=>typeof e===t,{isArray:Xd}=Array,wf=M2("undefined");function CA(t){return t!==null&&!wf(t)&&t.constructor!==null&&!wf(t.constructor)&&Zs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const q3=jl("ArrayBuffer");function TA(t){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&q3(t.buffer),e}const jA=M2("string"),Zs=M2("function"),W3=M2("number"),U2=t=>t!==null&&typeof t=="object",OA=t=>t===!0||t===!1,Jg=t=>{if(B2(t)!=="object")return!1;const e=ev(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(H3 in t)&&!(F2 in t)},RA=jl("Date"),kA=jl("File"),LA=jl("Blob"),IA=jl("FileList"),DA=t=>U2(t)&&Zs(t.pipe),PA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zs(t.append)&&((e=B2(t))==="formdata"||e==="object"&&Zs(t.toString)&&t.toString()==="[object FormData]"))},FA=jl("URLSearchParams"),[BA,MA,UA,zA]=["ReadableStream","Request","Response","Headers"].map(jl),HA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t=="undefined")return;let n,i;if(typeof t!="object"&&(t=[t]),Xd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),c=s.length;let f;for(n=0;n<c;n++)f=s[n],e.call(null,t[f],f,t)}}function V3(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const g0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,G3=t=>!wf(t)&&t!==g0;function cx(){const{caseless:t}=G3(this)&&this||{},e={},r=(n,i)=>{const s=t&&V3(e,i)||i;Jg(e[s])&&Jg(n)?e[s]=cx(e[s],n):Jg(n)?e[s]=cx({},n):Xd(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Lf(arguments[n],r);return e}const qA=(t,e,r,{allOwnKeys:n}={})=>(Lf(e,(i,s)=>{r&&Zs(i)?t[s]=z3(i,r):t[s]=i},{allOwnKeys:n}),t),WA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),VA=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},GA=(t,e,r,n)=>{let i,s,c;const f={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)c=i[s],(!n||n(c,t,e))&&!f[c]&&(e[c]=t[c],f[c]=!0);t=r!==!1&&ev(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},$A=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},XA=t=>{if(!t)return null;if(Xd(t))return t;let e=t.length;if(!W3(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},YA=(t=>e=>t&&e instanceof t)(typeof Uint8Array!="undefined"&&ev(Uint8Array)),KA=(t,e)=>{const n=(t&&t[F2]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},ZA=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},JA=jl("HTMLFormElement"),QA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),i5=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),e7=jl("RegExp"),$3=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Lf(r,(i,s)=>{let c;(c=e(i,s,t))!==!1&&(n[s]=c||i)}),Object.defineProperties(t,n)},t7=t=>{$3(t,(e,r)=>{if(Zs(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Zs(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},r7=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Xd(t)?n(t):n(String(t).split(e)),r},n7=()=>{},i7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function a7(t){return!!(t&&Zs(t.append)&&t[H3]==="FormData"&&t[F2])}const s7=t=>{const e=new Array(10),r=(n,i)=>{if(U2(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Xd(n)?[]:{};return Lf(n,(c,f)=>{const g=r(c,i+1);!wf(g)&&(s[f]=g)}),e[i]=void 0,s}}return n};return r(t,0)},o7=jl("AsyncFunction"),l7=t=>t&&(U2(t)||Zs(t))&&Zs(t.then)&&Zs(t.catch),X3=((t,e)=>t?setImmediate:e?((r,n)=>(g0.addEventListener("message",({source:i,data:s})=>{i===g0&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),g0.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zs(g0.postMessage)),c7=typeof queueMicrotask!="undefined"?queueMicrotask.bind(g0):typeof process!="undefined"&&process.nextTick||X3,u7=t=>t!=null&&Zs(t[F2]),St={isArray:Xd,isArrayBuffer:q3,isBuffer:CA,isFormData:PA,isArrayBufferView:TA,isString:jA,isNumber:W3,isBoolean:OA,isObject:U2,isPlainObject:Jg,isReadableStream:BA,isRequest:MA,isResponse:UA,isHeaders:zA,isUndefined:wf,isDate:RA,isFile:kA,isBlob:LA,isRegExp:e7,isFunction:Zs,isStream:DA,isURLSearchParams:FA,isTypedArray:YA,isFileList:IA,forEach:Lf,merge:cx,extend:qA,trim:HA,stripBOM:WA,inherits:VA,toFlatObject:GA,kindOf:B2,kindOfTest:jl,endsWith:$A,toArray:XA,forEachEntry:KA,matchAll:ZA,isHTMLForm:JA,hasOwnProperty:i5,hasOwnProp:i5,reduceDescriptors:$3,freezeMethods:t7,toObjectSet:r7,toCamelCase:QA,noop:n7,toFiniteNumber:i7,findKey:V3,global:g0,isContextDefined:G3,isSpecCompliantForm:a7,toJSONObject:s7,isAsyncFn:o7,isThenable:l7,setImmediate:X3,asap:c7,isIterable:u7};function sn(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}St.inherits(sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:St.toJSONObject(this.config),code:this.code,status:this.status}}});const Y3=sn.prototype,K3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{K3[t]={value:t}});Object.defineProperties(sn,K3);Object.defineProperty(Y3,"isAxiosError",{value:!0});sn.from=(t,e,r,n,i,s)=>{const c=Object.create(Y3);return St.toFlatObject(t,c,function(g){return g!==Error.prototype},f=>f!=="isAxiosError"),sn.call(c,t.message,e,r,n,i),c.cause=t,c.name=t.name,s&&Object.assign(c,s),c};const d7=null;function ux(t){return St.isPlainObject(t)||St.isArray(t)}function Z3(t){return St.endsWith(t,"[]")?t.slice(0,-2):t}function a5(t,e,r){return t?t.concat(e).map(function(i,s){return i=Z3(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function h7(t){return St.isArray(t)&&!t.some(ux)}const f7=St.toFlatObject(St,{},null,function(e){return/^is[A-Z]/.test(e)});function z2(t,e,r){if(!St.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=St.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,j){return!St.isUndefined(j[A])});const n=r.metaTokens,i=r.visitor||m,s=r.dots,c=r.indexes,g=(r.Blob||typeof Blob!="undefined"&&Blob)&&St.isSpecCompliantForm(e);if(!St.isFunction(i))throw new TypeError("visitor must be a function");function u(C){if(C===null)return"";if(St.isDate(C))return C.toISOString();if(!g&&St.isBlob(C))throw new sn("Blob is not supported. Use a Buffer instead.");return St.isArrayBuffer(C)||St.isTypedArray(C)?g&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,A,j){let L=C;if(C&&!j&&typeof C=="object"){if(St.endsWith(A,"{}"))A=n?A:A.slice(0,-2),C=JSON.stringify(C);else if(St.isArray(C)&&h7(C)||(St.isFileList(C)||St.endsWith(A,"[]"))&&(L=St.toArray(C)))return A=Z3(A),L.forEach(function(P,X){!(St.isUndefined(P)||P===null)&&e.append(c===!0?a5([A],X,s):c===null?A:A+"[]",u(P))}),!1}return ux(C)?!0:(e.append(a5(j,A,s),u(C)),!1)}const v=[],b=Object.assign(f7,{defaultVisitor:m,convertValue:u,isVisitable:ux});function _(C,A){if(!St.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+A.join("."));v.push(C),St.forEach(C,function(L,I){(!(St.isUndefined(L)||L===null)&&i.call(e,L,St.isString(I)?I.trim():I,A,b))===!0&&_(L,A?A.concat(I):[I])}),v.pop()}}if(!St.isObject(t))throw new TypeError("data must be an object");return _(t),e}function s5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function tv(t,e){this._pairs=[],t&&z2(t,this,e)}const J3=tv.prototype;J3.append=function(e,r){this._pairs.push([e,r])};J3.toString=function(e){const r=e?function(n){return e.call(this,n,s5)}:s5;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function g7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q3(t,e,r){if(!e)return t;const n=r&&r.encode||g7;St.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=St.isURLSearchParams(e)?e.toString():new tv(e,r).toString(n),s){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class o5{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){St.forEach(this.handlers,function(n){n!==null&&e(n)})}}const e6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m7=typeof URLSearchParams!="undefined"?URLSearchParams:tv,p7=typeof FormData!="undefined"?FormData:null,x7=typeof Blob!="undefined"?Blob:null,v7={isBrowser:!0,classes:{URLSearchParams:m7,FormData:p7,Blob:x7},protocols:["http","https","file","blob","url","data"]},rv=typeof window!="undefined"&&typeof document!="undefined",dx=typeof navigator=="object"&&navigator||void 0,y7=rv&&(!dx||["ReactNative","NativeScript","NS"].indexOf(dx.product)<0),w7=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b7=rv&&window.location.href||"http://localhost",_7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rv,hasStandardBrowserEnv:y7,hasStandardBrowserWebWorkerEnv:w7,navigator:dx,origin:b7},Symbol.toStringTag,{value:"Module"})),bs=kt(kt({},_7),v7);function E7(t,e){return z2(t,new bs.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return bs.isNode&&St.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function S7(t){return St.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function N7(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function t6(t){function e(r,n,i,s){let c=r[s++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),g=s>=r.length;return c=!c&&St.isArray(i)?i.length:c,g?(St.hasOwnProp(i,c)?i[c]=[i[c],n]:i[c]=n,!f):((!i[c]||!St.isObject(i[c]))&&(i[c]=[]),e(r,n,i[c],s)&&St.isArray(i[c])&&(i[c]=N7(i[c])),!f)}if(St.isFormData(t)&&St.isFunction(t.entries)){const r={};return St.forEachEntry(t,(n,i)=>{e(S7(n),i,r,0)}),r}return null}function A7(t,e,r){if(St.isString(t))try{return(e||JSON.parse)(t),St.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const If={transitional:e6,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=St.isObject(e);if(s&&St.isHTMLForm(e)&&(e=new FormData(e)),St.isFormData(e))return i?JSON.stringify(t6(e)):e;if(St.isArrayBuffer(e)||St.isBuffer(e)||St.isStream(e)||St.isFile(e)||St.isBlob(e)||St.isReadableStream(e))return e;if(St.isArrayBufferView(e))return e.buffer;if(St.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return E7(e,this.formSerializer).toString();if((f=St.isFileList(e))||n.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return z2(f?{"files[]":e}:e,g&&new g,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),A7(e)):e}],transformResponse:[function(e){const r=this.transitional||If.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(St.isResponse(e)||St.isReadableStream(e))return e;if(e&&St.isString(e)&&(n&&!this.responseType||i)){const c=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?sn.from(f,sn.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};St.forEach(["delete","get","head","post","put","patch"],t=>{If.headers[t]={}});const C7=St.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T7=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),r=c.substring(0,i).trim().toLowerCase(),n=c.substring(i+1).trim(),!(!r||e[r]&&C7[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},l5=Symbol("internals");function Gh(t){return t&&String(t).trim().toLowerCase()}function Qg(t){return t===!1||t==null?t:St.isArray(t)?t.map(Qg):String(t)}function j7(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const O7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ap(t,e,r,n,i){if(St.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!St.isString(e)){if(St.isString(n))return e.indexOf(n)!==-1;if(St.isRegExp(n))return n.test(e)}}function R7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function k7(t,e){const r=St.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,c){return this[n].call(this,e,i,s,c)},configurable:!0})})}let Js=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(f,g,u){const m=Gh(g);if(!m)throw new Error("header name must be a non-empty string");const v=St.findKey(i,m);(!v||i[v]===void 0||u===!0||u===void 0&&i[v]!==!1)&&(i[v||g]=Qg(f))}const c=(f,g)=>St.forEach(f,(u,m)=>s(u,m,g));if(St.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(St.isString(e)&&(e=e.trim())&&!O7(e))c(T7(e),r);else if(St.isObject(e)&&St.isIterable(e)){let f={},g,u;for(const m of e){if(!St.isArray(m))throw TypeError("Object iterator must return a key-value pair");f[u=m[0]]=(g=f[u])?St.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}c(f,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Gh(e),e){const n=St.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return j7(i);if(St.isFunction(r))return r.call(this,i,n);if(St.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Gh(e),e){const n=St.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ap(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(c){if(c=Gh(c),c){const f=St.findKey(n,c);f&&(!r||Ap(n,n[f],f,r))&&(delete n[f],i=!0)}}return St.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Ap(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return St.forEach(this,(i,s)=>{const c=St.findKey(n,s);if(c){r[c]=Qg(i),delete r[s];return}const f=e?R7(s):String(s).trim();f!==s&&delete r[s],r[f]=Qg(i),n[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return St.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&St.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[l5]=this[l5]={accessors:{}}).accessors,i=this.prototype;function s(c){const f=Gh(c);n[f]||(k7(i,c),n[f]=!0)}return St.isArray(e)?e.forEach(s):s(e),this}};Js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);St.reduceDescriptors(Js.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});St.freezeMethods(Js);function Cp(t,e){const r=this||If,n=e||r,i=Js.from(n.headers);let s=n.data;return St.forEach(t,function(f){s=f.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function r6(t){return!!(t&&t.__CANCEL__)}function Yd(t,e,r){sn.call(this,t==null?"canceled":t,sn.ERR_CANCELED,e,r),this.name="CanceledError"}St.inherits(Yd,sn,{__CANCEL__:!0});function n6(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new sn("Request failed with status code "+r.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function L7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function I7(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,c;return e=e!==void 0?e:1e3,function(g){const u=Date.now(),m=n[s];c||(c=u),r[i]=g,n[i]=u;let v=s,b=0;for(;v!==i;)b+=r[v++],v=v%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-c<e)return;const _=m&&u-m;return _?Math.round(b*1e3/_):void 0}}function D7(t,e){let r=0,n=1e3/e,i,s;const c=(u,m=Date.now())=>{r=m,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const m=Date.now(),v=m-r;v>=n?c(u,m):(i=u,s||(s=setTimeout(()=>{s=null,c(i)},n-v)))},()=>i&&c(i)]}const l2=(t,e,r=3)=>{let n=0;const i=I7(50,250);return D7(s=>{const c=s.loaded,f=s.lengthComputable?s.total:void 0,g=c-n,u=i(g),m=c<=f;n=c;const v={loaded:c,total:f,progress:f?c/f:void 0,bytes:g,rate:u||void 0,estimated:u&&f&&m?(f-c)/u:void 0,event:s,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(v)},r)},c5=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},u5=t=>(...e)=>St.asap(()=>t(...e)),P7=bs.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,bs.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(bs.origin),bs.navigator&&/(msie|trident)/i.test(bs.navigator.userAgent)):()=>!0,F7=bs.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const c=[t+"="+encodeURIComponent(e)];St.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),St.isString(n)&&c.push("path="+n),St.isString(i)&&c.push("domain="+i),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function B7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function M7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function i6(t,e,r){let n=!B7(e);return t&&(n||r==!1)?M7(t,e):e}const d5=t=>t instanceof Js?kt({},t):t;function v0(t,e){e=e||{};const r={};function n(u,m,v,b){return St.isPlainObject(u)&&St.isPlainObject(m)?St.merge.call({caseless:b},u,m):St.isPlainObject(m)?St.merge({},m):St.isArray(m)?m.slice():m}function i(u,m,v,b){if(St.isUndefined(m)){if(!St.isUndefined(u))return n(void 0,u,v,b)}else return n(u,m,v,b)}function s(u,m){if(!St.isUndefined(m))return n(void 0,m)}function c(u,m){if(St.isUndefined(m)){if(!St.isUndefined(u))return n(void 0,u)}else return n(void 0,m)}function f(u,m,v){if(v in e)return n(u,m);if(v in t)return n(void 0,u)}const g={url:s,method:s,data:s,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(u,m,v)=>i(d5(u),d5(m),v,!0)};return St.forEach(Object.keys(Object.assign({},t,e)),function(m){const v=g[m]||i,b=v(t[m],e[m],m);St.isUndefined(b)&&v!==f||(r[m]=b)}),r}const a6=t=>{const e=v0({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:c,auth:f}=e;e.headers=c=Js.from(c),e.url=Q3(i6(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let g;if(St.isFormData(r)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((g=c.getContentType())!==!1){const[u,...m]=g?g.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([u||"multipart/form-data",...m].join("; "))}}if(bs.hasStandardBrowserEnv&&(n&&St.isFunction(n)&&(n=n(e)),n||n!==!1&&P7(e.url))){const u=i&&s&&F7.read(s);u&&c.set(i,u)}return e},U7=typeof XMLHttpRequest!="undefined",z7=U7&&function(t){return new Promise(function(r,n){const i=a6(t);let s=i.data;const c=Js.from(i.headers).normalize();let{responseType:f,onUploadProgress:g,onDownloadProgress:u}=i,m,v,b,_,C;function A(){_&&_(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function L(){if(!j)return;const P=Js.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),Y={data:!f||f==="text"||f==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:P,config:t,request:j};n6(function(G){r(G),A()},function(G){n(G),A()},Y),j=null}"onloadend"in j?j.onloadend=L:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(L)},j.onabort=function(){j&&(n(new sn("Request aborted",sn.ECONNABORTED,t,j)),j=null)},j.onerror=function(){n(new sn("Network Error",sn.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let X=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Y=i.transitional||e6;i.timeoutErrorMessage&&(X=i.timeoutErrorMessage),n(new sn(X,Y.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,t,j)),j=null},s===void 0&&c.setContentType(null),"setRequestHeader"in j&&St.forEach(c.toJSON(),function(X,Y){j.setRequestHeader(Y,X)}),St.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),f&&f!=="json"&&(j.responseType=i.responseType),u&&([b,C]=l2(u,!0),j.addEventListener("progress",b)),g&&j.upload&&([v,_]=l2(g),j.upload.addEventListener("progress",v),j.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(m=P=>{j&&(n(!P||P.type?new Yd(null,t,j):P),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const I=L7(i.url);if(I&&bs.protocols.indexOf(I)===-1){n(new sn("Unsupported protocol "+I+":",sn.ERR_BAD_REQUEST,t));return}j.send(s||null)})},H7=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,f();const m=u instanceof Error?u:this.reason;n.abort(m instanceof sn?m:new Yd(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,s(new sn(`timeout ${e} of ms exceeded`,sn.ETIMEDOUT))},e);const f=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:g}=n;return g.unsubscribe=()=>St.asap(f),g}},q7=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},W7=function(t,e){return pp(this,null,function*(){try{for(var r=U4(V7(t)),n,i,s;n=!(i=yield new r0(r.next())).done;n=!1){const c=i.value;yield*xp(q7(c,e))}}catch(i){s=[i]}finally{try{n&&(i=r.return)&&(yield new r0(i.call(r)))}finally{if(s)throw s[0]}}})},V7=function(t){return pp(this,null,function*(){if(t[Symbol.asyncIterator]){yield*xp(t);return}const e=t.getReader();try{for(;;){const{done:r,value:n}=yield new r0(e.read());if(r)break;yield n}}finally{yield new r0(e.cancel())}})},h5=(t,e,r,n)=>{const i=W7(t,e);let s=0,c,f=u=>{c||(c=!0,n&&n(u))};return new ReadableStream({pull(u){return we(this,null,function*(){try{const{done:m,value:v}=yield i.next();if(m){f(),u.close();return}let b=v.byteLength;if(r){let _=s+=b;r(_)}u.enqueue(new Uint8Array(v))}catch(m){throw f(m),m}})},cancel(u){return f(u),i.return()}},{highWaterMark:2})},H2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",s6=H2&&typeof ReadableStream=="function",G7=H2&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):t=>we(null,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())})),o6=(t,...e)=>{try{return!!t(...e)}catch(r){return!1}},$7=s6&&o6(()=>{let t=!1;const e=new Request(bs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),f5=64*1024,hx=s6&&o6(()=>St.isReadableStream(new Response("").body)),c2={stream:hx&&(t=>t.body)};H2&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!c2[e]&&(c2[e]=St.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new sn(`Response type '${e}' is not supported`,sn.ERR_NOT_SUPPORT,n)})})})(new Response);const X7=t=>we(null,null,function*(){if(t==null)return 0;if(St.isBlob(t))return t.size;if(St.isSpecCompliantForm(t))return(yield new Request(bs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(St.isArrayBufferView(t)||St.isArrayBuffer(t))return t.byteLength;if(St.isURLSearchParams(t)&&(t=t+""),St.isString(t))return(yield G7(t)).byteLength}),Y7=(t,e)=>we(null,null,function*(){const r=St.toFiniteNumber(t.getContentLength());return r==null?X7(e):r}),K7=H2&&(t=>we(null,null,function*(){let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:c,onDownloadProgress:f,onUploadProgress:g,responseType:u,headers:m,withCredentials:v="same-origin",fetchOptions:b}=a6(t);u=u?(u+"").toLowerCase():"text";let _=H7([i,s&&s.toAbortSignal()],c),C;const A=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let j;try{if(g&&$7&&r!=="get"&&r!=="head"&&(j=yield Y7(m,n))!==0){let Y=new Request(e,{method:"POST",body:n,duplex:"half"}),K;if(St.isFormData(n)&&(K=Y.headers.get("content-type"))&&m.setContentType(K),Y.body){const[G,V]=c5(j,l2(u5(g)));n=h5(Y.body,f5,G,V)}}St.isString(v)||(v=v?"include":"omit");const L="credentials"in Request.prototype;C=new Request(e,er(kt({},b),{signal:_,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:L?v:void 0}));let I=yield fetch(C);const P=hx&&(u==="stream"||u==="response");if(hx&&(f||P&&A)){const Y={};["status","statusText","headers"].forEach(z=>{Y[z]=I[z]});const K=St.toFiniteNumber(I.headers.get("content-length")),[G,V]=f&&c5(K,l2(u5(f),!0))||[];I=new Response(h5(I.body,f5,G,()=>{V&&V(),A&&A()}),Y)}u=u||"text";let X=yield c2[St.findKey(c2,u)||"text"](I,t);return!P&&A&&A(),yield new Promise((Y,K)=>{n6(Y,K,{data:X,headers:Js.from(I.headers),status:I.status,statusText:I.statusText,config:t,request:C})})}catch(L){throw A&&A(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new sn("Network Error",sn.ERR_NETWORK,t,C),{cause:L.cause||L}):sn.from(L,L&&L.code,t,C)}})),fx={http:d7,xhr:z7,fetch:K7};St.forEach(fx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(r){}Object.defineProperty(t,"adapterName",{value:e})}});const g5=t=>`- ${t}`,Z7=t=>St.isFunction(t)||t===null||t===!1,l6={getAdapter:t=>{t=St.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let c;if(n=r,!Z7(r)&&(n=fx[(c=String(r)).toLowerCase()],n===void 0))throw new sn(`Unknown adapter '${c}'`);if(n)break;i[c||"#"+s]=n}if(!n){const s=Object.entries(i).map(([f,g])=>`adapter ${f} `+(g===!1?"is not supported by the environment":"is not available in the build"));let c=e?s.length>1?`since :
`+s.map(g5).join(`
`):" "+g5(s[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:fx};function Tp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yd(null,t)}function m5(t){return Tp(t),t.headers=Js.from(t.headers),t.data=Cp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),l6.getAdapter(t.adapter||If.adapter)(t).then(function(n){return Tp(t),n.data=Cp.call(t,t.transformResponse,n),n.headers=Js.from(n.headers),n},function(n){return r6(n)||(Tp(t),n&&n.response&&(n.response.data=Cp.call(t,t.transformResponse,n.response),n.response.headers=Js.from(n.response.headers))),Promise.reject(n)})}const c6="1.9.0",q2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{q2[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const p5={};q2.transitional=function(e,r,n){function i(s,c){return"[Axios v"+c6+"] Transitional option '"+s+"'"+c+(n?". "+n:"")}return(s,c,f)=>{if(e===!1)throw new sn(i(c," has been removed"+(r?" in "+r:"")),sn.ERR_DEPRECATED);return r&&!p5[c]&&(p5[c]=!0,console.warn(i(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,c,f):!0}};q2.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function J7(t,e,r){if(typeof t!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],c=e[s];if(c){const f=t[s],g=f===void 0||c(f,s,t);if(g!==!0)throw new sn("option "+s+" must be "+g,sn.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new sn("Unknown option "+s,sn.ERR_BAD_OPTION)}}const e2={assertOptions:J7,validators:q2},Zl=e2.validators;let m0=class{constructor(e){this.defaults=e||{},this.interceptors={request:new o5,response:new o5}}request(e,r){return we(this,null,function*(){try{return yield this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch(c){}}throw n}})}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=v0(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&e2.assertOptions(n,{silentJSONParsing:Zl.transitional(Zl.boolean),forcedJSONParsing:Zl.transitional(Zl.boolean),clarifyTimeoutError:Zl.transitional(Zl.boolean)},!1),i!=null&&(St.isFunction(i)?r.paramsSerializer={serialize:i}:e2.assertOptions(i,{encode:Zl.function,serialize:Zl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),e2.assertOptions(r,{baseUrl:Zl.spelling("baseURL"),withXsrfToken:Zl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=s&&St.merge(s.common,s[r.method]);s&&St.forEach(["delete","get","head","post","put","patch","common"],C=>{delete s[C]}),r.headers=Js.concat(c,s);const f=[];let g=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(g=g&&A.synchronous,f.unshift(A.fulfilled,A.rejected))});const u=[];this.interceptors.response.forEach(function(A){u.push(A.fulfilled,A.rejected)});let m,v=0,b;if(!g){const C=[m5.bind(this),void 0];for(C.unshift.apply(C,f),C.push.apply(C,u),b=C.length,m=Promise.resolve(r);v<b;)m=m.then(C[v++],C[v++]);return m}b=f.length;let _=r;for(v=0;v<b;){const C=f[v++],A=f[v++];try{_=C(_)}catch(j){A.call(this,j);break}}try{m=m5.call(this,_)}catch(C){return Promise.reject(C)}for(v=0,b=u.length;v<b;)m=m.then(u[v++],u[v++]);return m}getUri(e){e=v0(this.defaults,e);const r=i6(e.baseURL,e.url,e.allowAbsoluteUrls);return Q3(r,e.params,e.paramsSerializer)}};St.forEach(["delete","get","head","options"],function(e){m0.prototype[e]=function(r,n){return this.request(v0(n||{},{method:e,url:r,data:(n||{}).data}))}});St.forEach(["post","put","patch"],function(e){function r(n){return function(s,c,f){return this.request(v0(f||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:c}))}}m0.prototype[e]=r(),m0.prototype[e+"Form"]=r(!0)});let Q7=class u6{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const c=new Promise(f=>{n.subscribe(f),s=f}).then(i);return c.cancel=function(){n.unsubscribe(s)},c},e(function(s,c,f){n.reason||(n.reason=new Yd(s,c,f),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new u6(function(i){e=i}),cancel:e}}};function eC(t){return function(r){return t.apply(null,r)}}function tC(t){return St.isObject(t)&&t.isAxiosError===!0}const gx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gx).forEach(([t,e])=>{gx[e]=t});function d6(t){const e=new m0(t),r=z3(m0.prototype.request,e);return St.extend(r,m0.prototype,e,{allOwnKeys:!0}),St.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return d6(v0(t,i))},r}const ma=d6(If);ma.Axios=m0;ma.CanceledError=Yd;ma.CancelToken=Q7;ma.isCancel=r6;ma.VERSION=c6;ma.toFormData=z2;ma.AxiosError=sn;ma.Cancel=ma.CanceledError;ma.all=function(e){return Promise.all(e)};ma.spread=eC;ma.isAxiosError=tC;ma.mergeConfig=v0;ma.AxiosHeaders=Js;ma.formToJSON=t=>t6(St.isHTMLForm(t)?new FormData(t):t);ma.getAdapter=l6.getAdapter;ma.HttpStatusCode=gx;ma.default=ma;const{Axios:YU,AxiosError:KU,CanceledError:ZU,isCancel:JU,CancelToken:QU,VERSION:ez,all:tz,Cancel:rz,isAxiosError:nz,spread:iz,toFormData:az,AxiosHeaders:sz,HttpStatusCode:oz,formToJSON:lz,getAdapter:cz,mergeConfig:uz}=ma,rC=window.location.hostname==="localhost",nv=rC?"http://localhost:3000/api":"/api",nC=null;console.log("=== API CONFIGURATION ===");console.log("API URL:",nv);console.log("API Version:",nC);console.log("=== API CONFIGURATION END ===");const Xr=ma.create({baseURL:nv,headers:{"Content-Type":"application/json"},withCredentials:!0});Xr.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),console.log(`=== API REQUEST: ${t.method.toUpperCase()} ${t.url} ===`),console.log("Request headers:",t.headers),t.data&&console.log("Request payload:",t.data),t.params&&console.log("Request params:",t.params),t},t=>(console.error("=== API REQUEST ERROR ==="),console.error("Request error:",t),Promise.reject(t)));Xr.interceptors.response.use(t=>(console.log(`=== API RESPONSE: ${t.status} ${t.statusText} ===`),console.log("Response URL:",t.config.url),console.log("Response headers:",t.headers),console.log("Response data:",t.data),console.log("=== API RESPONSE END ==="),t),t=>(console.error("=== API RESPONSE ERROR ==="),console.error("Error:",t),t.response?(console.error("Response status:",t.response.status),console.error("Response headers:",t.response.headers),console.error("Response data:",t.response.data)):t.request?(console.error("No response received:",t.request),console.error("No response received for request to:",t.config.url)):console.error("Request setup error:",t.message),console.error("Request config:",t.config),console.error("=== API RESPONSE ERROR END ==="),t.response&&t.response.status===401&&(console.log("Unauthorized access detected, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const iC=(t,e)=>we(null,null,function*(){var r,n;try{console.log("Attempting login with:",{email:t,password:e});const i=yield Xr.post("/auth/login",{email:t,password:e});return console.log("Login response:",i.data),i.data}catch(i){throw console.error("Login error:",i),console.error("Error response:",i.response),new Error(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Login failed")}}),aC=t=>we(null,null,function*(){var e,r;try{console.log("Attempting registration with:",t);const n=yield Xr.post("/auth/register",t);return console.log("Registration response:",n.data),n.data}catch(n){throw console.error("Register error:",n),console.error("Error response:",n.response),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Registration failed")}}),sC=()=>we(null,null,function*(){try{return console.log("Attempting logout"),localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("Logout successful"),{message:"Logged out successfully"}}catch(t){throw console.error("Logout error:",t),new Error("Logout failed")}}),oC=t=>we(null,null,function*(){var e,r;try{console.log("Updating user profile with:",t);const n=yield Xr.put("/users/profile",t);console.log("Update profile response:",n.data);const i=localStorage.getItem("user");if(i){const s=JSON.parse(i),c=kt(kt({},s),n.data.data);localStorage.setItem("user",JSON.stringify(c))}return n.data}catch(n){throw console.error("Update profile error:",n),console.error("Error response:",n.response),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to update profile")}}),mx=()=>we(null,null,function*(){var t,e,r,n,i;try{console.log(" getUserProfile: Fetching user profile");const s=yield Xr.get("/users/profile");console.log(" getUserProfile: Response received:",{status:s.status,statusText:s.statusText,hasData:!!s.data,dataKeys:Object.keys(s.data||{})}),console.log(" getUserProfile: Full response data:",s.data);const c=localStorage.getItem("user");if(c){const f=JSON.parse(c),g=kt(kt({},f),s.data.data);localStorage.setItem("user",JSON.stringify(g)),console.log(" getUserProfile: Updated stored user data")}return s.data}catch(s){throw console.error(" getUserProfile: Error fetching profile:",s),console.error(" getUserProfile: Error details:",{message:s.message,status:(t=s.response)==null?void 0:t.status,statusText:(e=s.response)==null?void 0:e.statusText,data:(r=s.response)==null?void 0:r.data}),new Error(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch profile")}}),h6=ee.createContext(),Ta=()=>ee.useContext(h6),lC=({children:t})=>{const[e,r]=ee.useState(null),[n,i]=ee.useState(!0),[s,c]=ee.useState(null);ee.useEffect(()=>{const C=localStorage.getItem("user"),A=localStorage.getItem("token");C&&A&&r(JSON.parse(C)),i(!1)},[]);const _={user:e,setUser:r,loading:n,error:s,login:(C,A)=>we(null,null,function*(){i(!0),c(null);try{const j=yield iC(C,A);if(j.token){localStorage.setItem("token",j.token),localStorage.setItem("user",JSON.stringify(j.user)),r(j.user);try{const I=yield fetch("/api/users/profile",{headers:{Authorization:`Bearer ${j.token}`}});if(I.ok){const P=yield I.json(),X=kt(kt({},j.user),P.data);localStorage.setItem("user",JSON.stringify(X)),r(X),console.log("Profile fetched with warehouse_id:",X.warehouse_id)}}catch(I){console.error("Failed to fetch profile:",I)}const L=localStorage.getItem("cart");if(L)try{const{importCart:I}=yield Es(()=>we(null,null,function*(){const{importCart:X}=yield Promise.resolve().then(()=>W2);return{importCart:X}}),[]),P=JSON.parse(L);console.log("Importing cart items to database:",P),yield I(P),localStorage.removeItem("cart"),console.log("Cart imported successfully and removed from localStorage")}catch(I){console.error("Failed to import cart:",I)}}return j}catch(j){throw c(j.message||"Failed to login"),j}finally{i(!1)}}),register:C=>we(null,null,function*(){i(!0),c(null);try{const A=yield aC(C);return A.verification_required||A.token&&(localStorage.setItem("token",A.token),localStorage.setItem("user",JSON.stringify(A.user)),r(A.user)),A}catch(A){throw c(A.message||"Failed to register"),A}finally{i(!1)}}),logout:()=>we(null,null,function*(){i(!0);try{yield sC(),localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)}catch(C){console.error("Logout error:",C)}finally{i(!1)}}),isAuthenticated:()=>!!e,isAdmin:()=>e&&e.role==="admin",updateUserData:C=>{if(e){const A=kt(kt({},e),C);r(A),localStorage.setItem("user",JSON.stringify(A))}}};return a.jsx(h6.Provider,{value:_,children:t})},Sd=()=>we(null,null,function*(){var t,e,r,n;console.log("=== FRONTEND: GET CART REQUEST ===");try{console.log("Sending request to:","/cart");const i=yield Xr.get("/cart");return console.log("Response data:",i.data),console.log("=== FRONTEND: GET CART RESPONSE SUCCESS ==="),i.data}catch(i){throw console.error("=== FRONTEND: GET CART ERROR ==="),console.error("Error fetching cart:",i),console.error("Error response:",i.response),console.error("Error message:",i.message),console.error("Error response data:",(t=i.response)==null?void 0:t.data),console.error("Error response status:",(e=i.response)==null?void 0:e.status),console.error("=== FRONTEND: GET CART ERROR END ==="),new Error(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to fetch cart")}}),f6=(t,e=1)=>we(null,null,function*(){var r,n,i,s;console.log("=== FRONTEND: ADD TO CART REQUEST ==="),console.log("Product ID:",t),console.log("Quantity:",e);try{console.log("Sending request to:","/cart"),console.log("Request payload:",{product_id:t,quantity:e});const c=yield Xr.post("/cart",{product_id:t,quantity:e});return console.log("Response status:",c.status),console.log("Response data:",c.data),console.log("=== FRONTEND: ADD TO CART RESPONSE SUCCESS ==="),c.data}catch(c){throw console.error("=== FRONTEND: ADD TO CART ERROR ==="),console.error("Error adding to cart:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),console.error("=== FRONTEND: ADD TO CART ERROR END ==="),new Error(((s=(i=c.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to add item to cart")}}),g6=(t,e)=>we(null,null,function*(){var r,n,i,s;console.log("=== FRONTEND: UPDATE CART ITEM REQUEST ==="),console.log("Item ID:",t),console.log("New quantity:",e);try{console.log(`Trying update cart item endpoint: /cart/${t}`);const c=yield Xr.put(`/cart/${t}`,{quantity:e});return console.log("Update cart item endpoint successful"),console.log("Response data:",c.data),c.data}catch(c){throw console.error("=== FRONTEND: UPDATE CART ITEM ERROR ==="),console.error("Error updating cart item:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),new Error(((s=(i=c.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to update cart item")}}),m6=t=>we(null,null,function*(){var e,r,n,i;console.log("=== FRONTEND: REMOVE FROM CART REQUEST ==="),console.log("Item ID:",t);try{console.log(`Trying remove from cart endpoint: /cart/${t}`);const s=yield Xr.delete(`/cart/${t}`);return console.log("Remove from cart endpoint successful"),console.log("Response data:",s.data),s.data}catch(s){throw console.error("=== FRONTEND: REMOVE FROM CART ERROR ==="),console.error("Error removing from cart:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(e=s.response)==null?void 0:e.data),console.error("Error response status:",(r=s.response)==null?void 0:r.status),new Error(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to remove item from cart")}}),p6=()=>we(null,null,function*(){var t,e,r,n;console.log("=== FRONTEND: CLEAR CART REQUEST ===");try{console.log("Trying clear cart endpoint: /cart");const i=yield Xr.delete("/cart");return console.log("Clear cart endpoint successful"),console.log("Response data:",i.data),i.data}catch(i){throw console.error("=== FRONTEND: CLEAR CART ERROR ==="),console.error("Error clearing cart:",i),console.error("Error response:",i.response),console.error("Error message:",i.message),console.error("Error response data:",(t=i.response)==null?void 0:t.data),console.error("Error response status:",(e=i.response)==null?void 0:e.status),new Error(((n=(r=i.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to clear cart")}}),cC=t=>we(null,null,function*(){var e,r,n,i;console.log("=== FRONTEND: IMPORT CART REQUEST ==="),console.log("Cart items:",t);try{const s=yield Xr.put("/cart",{items:t,import_mode:"import"});return console.log("Import cart successful:",s.data),s.data}catch(s){throw console.error("=== FRONTEND: IMPORT CART ERROR ==="),console.error("Error importing cart:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(e=s.response)==null?void 0:e.data),console.error("Error response status:",(r=s.response)==null?void 0:r.status),new Error(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to import cart")}}),W2=Object.freeze(Object.defineProperty({__proto__:null,addToCart:f6,clearCart:p6,getCart:Sd,importCart:cC,removeFromCart:m6,updateCartItem:g6},Symbol.toStringTag,{value:"Module"})),x6=ee.createContext(),Kd=()=>ee.useContext(x6),uC=({children:t})=>{const{isAuthenticated:e}=Ta(),[r,n]=ee.useState([]),[i,s]=ee.useState(0),[c,f]=ee.useState(0),[g,u]=ee.useState(!1),[m,v]=ee.useState(null);ee.useEffect(()=>{we(null,null,function*(){var P;if(u(!0),v(null),e())try{console.log("Fetching cart from database for authenticated user");const X=yield Sd();if(n(X.items||[]),s(X.total||0),f(X.count||0),(((P=X.items)==null?void 0:P.length)===0||!X.items)&&localStorage.getItem("cart"))try{const Y=localStorage.getItem("cart"),K=JSON.parse(Y);if(K&&K.length>0){console.log("Importing cart items from localStorage to database:",K);const{importCart:G}=yield Es(()=>we(null,null,function*(){const{importCart:z}=yield Promise.resolve().then(()=>W2);return{importCart:z}}),void 0);yield G(K);const V=yield Sd();n(V.items||[]),s(V.total||0),f(V.count||0),localStorage.removeItem("cart"),console.log("Cart imported successfully and removed from localStorage")}}catch(Y){console.error("Failed to import cart from localStorage:",Y)}}catch(X){console.error("Failed to fetch cart from database:",X),v("Failed to load cart data");const Y=localStorage.getItem("cart");if(Y){const K=JSON.parse(Y);n(K);const G=K.reduce((V,z)=>V+z.price*z.quantity,0);s(G),f(K.length)}}finally{u(!1)}else{console.log("Using localStorage cart for non-authenticated user");const X=localStorage.getItem("cart");if(X)try{const Y=JSON.parse(X);n(Y);const K=Y.reduce((G,V)=>G+V.price*V.quantity,0);s(K),f(Y.length)}catch(Y){console.error("Failed to parse cart from localStorage:",Y),v("Failed to load cart data from localStorage"),localStorage.removeItem("cart")}else n([]),s(0),f(0);u(!1)}})},[e]),ee.useEffect(()=>{if(!e()){localStorage.setItem("cart",JSON.stringify(r));const I=r.reduce((P,X)=>P+X.price*X.quantity,0);s(I),f(r.length)}},[r,e]);const L={cart:r,total:i,loading:g,error:m,addToCart:(I,P=1)=>we(null,null,function*(){var X,Y,K;console.log("=== CART CONTEXT: ADD TO CART ==="),console.log("Product:",I),console.log("Quantity:",P),console.log("Available stock:",I.quantity),console.log("Is authenticated:",e());try{if(!I.quantity||I.quantity<=0)throw v("This product is out of stock"),new Error("Product is out of stock");if(P>I.quantity)throw v(`Only ${I.quantity} items available in stock`),new Error(`Requested quantity (${P}) exceeds available stock (${I.quantity})`);const G=I.product_id||I.id,V=r.find(W=>(W.product_id||W.id)===G),z=V?V.quantity:0;if(z+P>I.quantity){const W=I.quantity-z;throw W<=0?(v("You already have the maximum available quantity in your cart"),new Error("Maximum quantity already in cart")):(v(`You can only add ${W} more of this item (${z} already in cart, ${I.quantity} total stock)`),new Error(`Can only add ${W} more items`))}console.log("Stock validation passed"),console.log("Using product_id:",G);try{console.log("Attempting to add to cart via API"),yield f6(G,P),console.log("API call successful"),console.log("Refreshing cart data");const W=yield Sd();console.log("Cart data received:",W),n(W.items||[]),s(W.total||0),f(W.count||0),console.log("Cart state updated from API")}catch(W){console.error("API call failed, falling back to localStorage:",W);const H=((Y=(X=W.response)==null?void 0:X.data)==null?void 0:Y.message)||W.message||"Failed to add item to cart";if(v(H),((K=W.response)==null?void 0:K.status)===400)throw console.log("Stock/inventory error - not using localStorage fallback"),new Error(H);if(!e())console.log("Using localStorage for non-authenticated user"),n(ne=>{const ve=ne.findIndex(me=>(me.product_id||me.id)===G);if(console.log("Existing item index:",ve),ve>=0){console.log("Updating existing item");const me=[...ne];return me[ve].quantity+=P,console.log("Updated cart:",me),me}else{console.log("Adding new item");const me=[...ne,{product_id:G,name:I.name,price:I.price,quantity:P,image_url:I.image_url,subtotal:I.price*P,stock_quantity:I.quantity}];return console.log("New cart:",me),me}});else throw console.error("API failed for authenticated user and localStorage fallback not available"),new Error(H)}console.log("=== CART CONTEXT: ADD TO CART SUCCESS ===")}catch(G){console.error("=== CART CONTEXT: ADD TO CART ERROR ==="),console.error("Failed to add to cart:",G),console.error("Error message:",G.message),console.error("=== CART CONTEXT: ADD TO CART ERROR END ==="),m||v("Failed to add item to cart")}}),updateQuantity:(I,P,X,Y=null)=>we(null,null,function*(){try{if(X<=0){v("Quantity must be at least 1");return}const K=r.find(V=>(V.product_id||V.id)===P),G=Y||(K==null?void 0:K.stock_quantity);if(G&&X>G){v(`Only ${G} items available in stock`);return}if(e()){yield g6(I,X);const V=yield Sd();n(V.items||[]),s(V.total||0),f(V.count||0)}else n(V=>V.map(z=>z.product_id===P?er(kt({},z),{quantity:X,subtotal:z.price*X}):z))}catch(K){console.error("Failed to update cart item:",K),v("Failed to update cart item")}}),removeFromCart:(I,P)=>we(null,null,function*(){try{if(e()){yield m6(I);const X=yield Sd();n(X.items||[]),s(X.total||0),f(X.count||0)}else n(X=>X.filter(Y=>Y.product_id!==P))}catch(X){console.error("Failed to remove from cart:",X),v("Failed to remove item from cart")}}),clearCart:()=>we(null,null,function*(){try{e()?(yield p6(),n([]),s(0),f(0)):(n([]),s(0),f(0),localStorage.removeItem("cart"))}catch(I){console.error("Failed to clear cart:",I),v("Failed to clear cart")}}),getItemCount:()=>r.reduce((I,P)=>I+parseInt(P.quantity),0)};return a.jsx(x6.Provider,{value:L,children:t})},dC=({id:t,message:e,type:r,onClose:n})=>{const[i,s]=ee.useState(!1);ee.useEffect(()=>{const u=setTimeout(()=>{s(!0)},10);return()=>clearTimeout(u)},[]);const c=()=>{s(!1),setTimeout(()=>{n()},300)},f=()=>{switch(r){case Eo.SUCCESS:return"bg-green-100 border-green-500 text-green-800";case Eo.ERROR:return"bg-red-100 border-red-500 text-red-800";case Eo.WARNING:return"bg-yellow-100 border-yellow-500 text-yellow-800";case Eo.INFO:default:return"bg-blue-100 border-blue-500 text-blue-800"}},g=()=>{switch(r){case Eo.SUCCESS:return a.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});case Eo.ERROR:return a.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})});case Eo.WARNING:return a.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case Eo.INFO:default:return a.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return a.jsx("div",{className:`transform transition-all duration-300 ease-in-out ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"} max-w-md w-full shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5 ${f()}`,role:"alert",children:a.jsx("div",{className:"flex-1 p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:g()}),a.jsx("div",{className:"ml-3 flex-1",children:a.jsx("p",{className:"text-sm font-medium",children:e})}),a.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:a.jsxs("button",{className:"inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[a.jsx("span",{className:"sr-only",children:"Close"}),a.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})})},v6=ee.createContext(),Eo={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},hC=({children:t})=>{const[e,r]=ee.useState([]),n=ee.useCallback((m,v=Eo.INFO,b=3e3)=>{const _=Date.now();return r(C=>[...C,{id:_,message:m,type:v,duration:b}]),setTimeout(()=>{i(_)},b),_},[]),i=ee.useCallback(m=>{r(v=>v.filter(b=>b.id!==m))},[]),s=ee.useCallback((m,v)=>n(m,Eo.SUCCESS,v),[n]),c=ee.useCallback((m,v)=>n(m,Eo.ERROR,v),[n]),f=ee.useCallback((m,v)=>n(m,Eo.INFO,v),[n]),g=ee.useCallback((m,v)=>n(m,Eo.WARNING,v),[n]),u={toasts:e,addToast:n,removeToast:i,success:s,error:c,info:f,warning:g};return a.jsxs(v6.Provider,{value:u,children:[t,a.jsx("div",{className:"toast-container fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(m=>a.jsx(dC,{id:m.id,message:m.message,type:m.type,onClose:()=>i(m.id)},m.id))})]})},Li=()=>{const t=ee.useContext(v6);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},jp=()=>we(null,null,function*(){var t,e,r;console.log("=== GET WISHLIST API CALL ===");try{const n=yield Xr.get("/wishlist");if(console.log("Wishlist fetched successfully:",n.data),n.data&&n.data.success){const s=(((t=n.data.data)==null?void 0:t.items)||[]).filter(c=>c&&c.id&&c.products&&c.products.name);return er(kt({},n.data.data),{items:s,count:s.length})}else return console.warn("Unexpected wishlist response format:",n.data),{items:[],count:0}}catch(n){return console.error("=== GET WISHLIST ERROR ==="),console.error("Error fetching wishlist:",n),console.error("Error response:",n.response),console.error("Error message:",n.message),console.error("Error response data:",(e=n.response)==null?void 0:e.data),console.error("Error response status:",(r=n.response)==null?void 0:r.status),{items:[],count:0}}}),fC=t=>we(null,null,function*(){var e,r,n,i,s;console.log("=== ADD TO WISHLIST API CALL ==="),console.log("Product ID:",t);try{const c=yield Xr.post("/wishlist",{product_id:t});if(console.log("Added to wishlist successfully:",c.data),c.data&&c.data.success)return c.data;throw new Error(((e=c.data)==null?void 0:e.message)||"Failed to add to wishlist")}catch(c){throw console.error("=== ADD TO WISHLIST ERROR ==="),console.error("Error adding to wishlist:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),new Error(((s=(i=c.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to add to wishlist")}}),y6=t=>we(null,null,function*(){var e,r,n,i,s;console.log("=== REMOVE FROM WISHLIST API CALL ==="),console.log("Product ID:",t);try{const c=yield Xr.delete("/wishlist",{data:{product_id:t}});if(console.log("Removed from wishlist successfully:",c.data),c.data&&c.data.success)return c.data;throw new Error(((e=c.data)==null?void 0:e.message)||"Failed to remove from wishlist")}catch(c){throw console.error("=== REMOVE FROM WISHLIST ERROR ==="),console.error("Error removing from wishlist:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),new Error(((s=(i=c.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to remove from wishlist")}}),gC=(t,e=1)=>we(null,null,function*(){console.log("=== MOVE TO CART API CALL ==="),console.log("Product ID:",t,"Quantity:",e);try{const{addToCart:r}=yield Es(()=>we(null,null,function*(){const{addToCart:n}=yield Promise.resolve().then(()=>W2);return{addToCart:n}}),void 0);return yield r(t,e),yield y6(t),console.log("Successfully moved from wishlist to cart"),{success:!0,message:"Item moved to cart"}}catch(r){throw console.error("Error moving to cart:",r),new Error(r.message||"Failed to move item to cart")}}),w6=ee.createContext(),iv=()=>ee.useContext(w6),mC=({children:t})=>{const[e,r]=ee.useState([]),[n,i]=ee.useState(!1),[s,c]=ee.useState(null),{isAuthenticated:f}=Ta();let g,u;try{const I=Li();g=I.success,u=I.error}catch(I){console.warn("Toast context not available, using console fallbacks"),g=P=>console.log("Success:",P),u=P=>console.error("Error:",P)}ee.useEffect(()=>{we(null,null,function*(){if(f()){i(!0),c(null);try{console.log("Fetching wishlist from database for authenticated user");const X=((yield jp()).items||[]).filter(Y=>Y&&Y.id&&Y.products&&Y.products.name);r(X)}catch(P){console.error("Failed to fetch wishlist:",P),c("Failed to load wishlist")}finally{i(!1)}}else r([])})},[f]);const L={wishlist:e,loading:n,error:s,addItem:I=>we(null,null,function*(){if(!f())return u("Please login to add items to your wishlist"),!1;console.log("=== WISHLIST CONTEXT: ADD ITEM ==="),console.log("Product:",I);try{if(c(null),e.find(K=>K.product_id===I.id))return u("Item is already in your wishlist"),!1;yield fC(I.id);const Y=((yield jp()).items||[]).filter(K=>K&&K.id&&K.products&&K.products.name);return r(Y),g(`${I.name} added to wishlist`),!0}catch(P){console.error("Failed to add to wishlist:",P);const X=P.message||"Failed to add item to wishlist";return c(X),u(X),!1}}),removeItem:(I,P="Item")=>we(null,null,function*(){if(!f())return!1;console.log("=== WISHLIST CONTEXT: REMOVE ITEM ==="),console.log("Product ID:",I);try{return c(null),yield y6(I),r(X=>X.filter(Y=>Y&&Y.product_id!==I)),g(`${P} removed from wishlist`),!0}catch(X){console.error("Failed to remove from wishlist:",X);const Y=X.message||"Failed to remove item from wishlist";return c(Y),u(Y),!1}}),moveItemToCart:(I,P=1)=>we(null,null,function*(){var X;if(!f())return u("Please login to move items to cart"),!1;console.log("=== WISHLIST CONTEXT: MOVE TO CART ==="),console.log("Product ID:",I,"Quantity:",P);try{c(null);const Y=e.find(G=>G.product_id===I),K=((X=Y==null?void 0:Y.products)==null?void 0:X.name)||"Item";return yield gC(I,P),r(G=>G.filter(V=>V.product_id!==I)),g(`${K} moved to cart`),!0}catch(Y){console.error("Failed to move to cart:",Y);const K=Y.message||"Failed to move item to cart";return c(K),u(K),!1}}),isInWishlist:I=>{try{return Array.isArray(e)?e.some(P=>P.product_id===I):!1}catch(P){return console.error("Error checking wishlist:",P),!1}},getWishlistCount:()=>{try{return Array.isArray(e)?e.length:0}catch(I){return console.error("Error getting wishlist count:",I),0}},clearWishlist:()=>{r([]),c(null)},refreshWishlist:()=>we(null,null,function*(){if(f()){i(!0);try{const I=yield jp();r(I.items||[])}catch(I){console.error("Failed to refresh wishlist:",I),c("Failed to refresh wishlist")}finally{i(!1)}}})};return a.jsx(w6.Provider,{value:L,children:t})},pC=ee.createContext(),xC=({children:t})=>{const[e,r]=ee.useState(null),[n,i]=ee.useState(!0);ee.useEffect(()=>{s()},[]);const s=()=>we(null,null,function*(){try{const u=yield(yield fetch("/api/admin/site-config")).json();u.success&&u.config.logo&&r(u.config.logo)}catch(g){console.error("Error fetching logo:",g)}finally{i(!1)}}),f={logo:e,loading:n,updateLogo:g=>{r(g)},refreshLogo:s};return a.jsx(pC.Provider,{value:f,children:t})},vC=()=>{console.log("=== FORCE RELOADING ALL ASSETS ==="),"caches"in window&&caches.keys().then(r=>{r.forEach(n=>{caches.delete(n),console.log(`Cache ${n} deleted`)})});try{localStorage.clear(),sessionStorage.clear()}catch(r){console.error("Error clearing storage:",r)}const t=new Date().getTime(),e=Math.floor(Math.random()*1e6);window.location.href=`${window.location.pathname}?force_reload=${t}_${e}`},yC=()=>{const t=new URLSearchParams(window.location.search),e=t.get("cache_bust"),r=t.get("force_reload");if(e||r){t.delete("cache_bust"),t.delete("force_reload");const n=window.location.pathname+(t.toString()?`?${t.toString()}`:"");return window.history.replaceState({},document.title,n),console.log(r?"=== PAGE FORCE RELOADED ===":"=== PAGE RELOADED WITH CACHE BUST ==="),!0}return!1},b6=t=>we(null,null,function*(){var e,r,n,i;try{console.log("Uploading file:",t.name,"Size:",t.size,"Type:",t.type);const s=yield new Promise((v,b)=>{const _=new FileReader;_.onload=()=>{const A=_.result.split(",")[1];v(A)},_.onerror=b,_.readAsDataURL(t)});console.log("File converted to base64, length:",s.length);const f=JSON.parse(localStorage.getItem("user")||"{}").token||"";console.log("Using auth token:",f?"Token exists":"No token");const g={"Content-Type":"application/json"};f&&(g.Authorization=`Bearer ${f}`);const u={filename:t.name,mimetype:t.type,data:s};console.log("Making upload request to:","/upload"),console.log("Headers:",g),console.log("Payload size:",JSON.stringify(u).length,"bytes");const m=yield Xr.post("/upload",u,{headers:g,timeout:3e4,maxContentLength:1/0,maxBodyLength:1/0});if(console.log("Upload response:",m.data),m.data.success){const v=m.data.file_url||((e=m.data.data)==null?void 0:e.url);if(v)return console.log("Upload successful:",v),v;throw console.error("No file URL found in response:",m.data),new Error("No file URL received from server")}else throw new Error(m.data.message||"Upload failed")}catch(s){throw console.error("Error uploading image:",s),console.error("Error details:",((r=s.response)==null?void 0:r.data)||"No response data"),new Error(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to upload image")}}),Nu=(...e)=>we(null,[...e],function*(t={}){var r,n,i,s,c,f;try{console.log(" getProducts: Starting API call with params:",t);const{page:g=1,limit:u=12,search:m="",category:v="",categories:b="",sortBy:_="created_at",sortOrder:C="desc",warehouse_id:A="",bin_number:j=""}=t,L=new URLSearchParams({page:g.toString(),limit:u.toString(),sortBy:_,sortOrder:C});m&&L.append("search",m),v&&L.append("category",v),b&&L.append("categories",b),A&&L.append("warehouse_id",A),j&&L.append("bin_number",j);const I=`/products?${L}`;console.log(" getProducts: Making request to:",I);const P=yield Xr.get(I);console.log(" getProducts: Raw API response:",{status:P.status,statusText:P.statusText,dataKeys:Object.keys(P.data||{}),dataType:typeof P.data,hasData:!!((r=P.data)!=null&&r.data),dataLength:(i=(n=P.data)==null?void 0:n.data)==null?void 0:i.length});const Y=(P.data.data||[]).filter(K=>K&&K.id&&K.name).map(K=>er(kt({},K),{category_id:String(K.category_id)}));return console.log(` getProducts: Processed ${Y.length} products (page ${g})`),console.log(" getProducts: Sample products:",Y.slice(0,2)),{products:Y,pagination:P.data.pagination,filters:P.data.filters}}catch(g){return console.error(" getProducts: Error fetching products:",g),console.error(" getProducts: Error details:",{message:g.message,status:(s=g.response)==null?void 0:s.status,statusText:(c=g.response)==null?void 0:c.statusText,data:(f=g.response)==null?void 0:f.data}),{products:[],pagination:null,filters:null}}}),V2=t=>we(null,null,function*(){var e,r,n,i,s,c,f;try{console.log(" getProductById: Fetching product with ID:",t);const g=`/products/${t}`;console.log(" getProductById: Making request to:",g);const u=yield Xr.get(g);return console.log(" getProductById: Response received:",{status:u.status,statusText:u.statusText,hasData:!!((e=u.data)!=null&&e.data),dataKeys:Object.keys(u.data||{})}),console.log(" getProductById: Product data:",u.data.data),u.data.data}catch(g){throw console.error(" getProductById: Error fetching product:",g),console.error(" getProductById: Error details:",{message:g.message,status:(r=g.response)==null?void 0:r.status,statusText:(n=g.response)==null?void 0:n.statusText,data:(i=g.response)==null?void 0:i.data,url:(s=g.config)==null?void 0:s.url}),new Error(((f=(c=g.response)==null?void 0:c.data)==null?void 0:f.message)||"Failed to fetch product")}}),wC=t=>we(null,null,function*(){try{const e=String(t);console.log(`Fetching products for category ID: ${e}`);const i=((yield Xr.get(`/products?category=${e}`)).data.data||[]).map(s=>er(kt({},s),{category_id:String(s.category_id)}));return console.log(`Found ${i.length} products for category ${e}`),i}catch(e){return console.error("Error fetching products by category:",e),[]}}),av=t=>we(null,null,function*(){try{const n=((yield Xr.get(`/products?search=${t}`)).data.data||[]).map(i=>er(kt({},i),{category_id:String(i.category_id)}));return console.log(`Search found ${n.length} products for query "${t}"`),n}catch(e){return console.error("Error searching products:",e),[]}}),sv=t=>we(null,null,function*(){var e,r;try{return(yield Xr.post("/products",t)).data}catch(n){throw console.error("Error creating product:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to create product")}}),_6=t=>we(null,null,function*(){var e,r;try{return(yield Xr.put(`/products/${t.id}`,t)).data}catch(n){throw console.error("Error updating product:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to update product")}}),u2=t=>we(null,null,function*(){var e,r;try{return(yield Xr.delete(`/products/${t}`)).data}catch(n){throw console.error("Error deleting product:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to delete product")}}),E6=t=>we(null,null,function*(){try{const e=[];for(const r of t)try{const n=yield sv(r);e.push(n)}catch(n){console.error(`Error creating product ${r.name}:`,n)}return e}catch(e){throw console.error("Error in bulk product creation:",e),new Error(e.message||"Failed to import products")}}),S6=t=>we(null,null,function*(){try{return(yield Xr.get(`/products/${t}`)).data.data.quantity||0}catch(e){throw console.error("Error fetching product stock:",e),new Error("Failed to fetch product stock")}}),bC=(t,e)=>we(null,null,function*(){try{const r=yield S6(t);if(r<=0)throw new Error("Product is out of stock");if(e>r)throw new Error(`Only ${r} items available in stock`);return!0}catch(r){throw console.error("Stock validation error:",r),r}}),$1=Object.freeze(Object.defineProperty({__proto__:null,bulkCreateProducts:E6,createProduct:sv,deleteProduct:u2,getProductById:V2,getProductStock:S6,getProducts:Nu,getProductsByCategory:wC,searchProducts:av,updateProduct:_6,uploadProductImage:b6,validateStock:bC},Symbol.toStringTag,{value:"Module"})),x5=({placeholder:t="Search products...",className:e="",onSearch:r,initialValue:n=""})=>{const[i,s]=ee.useState(n),[c,f]=ee.useState([]),[g,u]=ee.useState(!1),[m,v]=ee.useState(!1),[b,_]=ee.useState(-1),C=Ps(),A=ee.useRef(null),j=ee.useRef(null),L=ee.useRef(null),I=z=>we(null,null,function*(){if(z.trim().length<2){f([]),v(!1);return}u(!0);try{const W=(yield av(z)).slice(0,8).map(H=>er(kt({},H),{searchKey:`${H.id}-${H.name}`}));f(W),v(!0),_(-1)}catch(ie){console.error("Search error:",ie),f([])}finally{u(!1)}}),P=z=>{const ie=z.target.value;s(ie),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{I(ie)},300)},X=z=>{z.preventDefault(),i.trim()&&Y(i.trim())},Y=z=>{v(!1),r?r(z):C(`/products?search=${encodeURIComponent(z)}`)},K=z=>{s(z.name),v(!1),C(`/products/${z.id}`)},G=z=>{var ie;if(!(!m||c.length===0))switch(z.key){case"ArrowDown":z.preventDefault(),_(W=>W<c.length-1?W+1:W);break;case"ArrowUp":z.preventDefault(),_(W=>W>0?W-1:-1);break;case"Enter":z.preventDefault(),b>=0&&b<c.length?K(c[b]):X(z);break;case"Escape":v(!1),_(-1),(ie=A.current)==null||ie.blur();break}},V=()=>{var z;s(""),f([]),v(!1),_(-1),(z=A.current)==null||z.focus()};return ee.useEffect(()=>{const z=ie=>{A.current&&!A.current.contains(ie.target)&&j.current&&!j.current.contains(ie.target)&&(v(!1),_(-1))};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),ee.useEffect(()=>()=>{L.current&&clearTimeout(L.current)},[]),a.jsxs("div",{className:`relative ${e}`,children:[a.jsxs("form",{onSubmit:X,className:"flex",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{ref:A,type:"text",placeholder:t,className:"w-full px-3 py-2 text-black rounded-l-md border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 pr-8",value:i,onChange:P,onKeyDown:G,onFocus:()=>{c.length>0&&v(!0)},autoComplete:"off"}),i&&a.jsx("button",{type:"button",onClick:V,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",title:"Clear search",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("button",{type:"submit",className:"bg-blue-600 px-3 py-2 rounded-r-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-300 flex items-center justify-center",disabled:g,children:g?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),m&&c.length>0&&a.jsx("div",{ref:j,className:"absolute top-full left-0 right-0 card border border-slate-600 shadow-lg z-50 max-h-80 overflow-y-auto",children:c.map((z,ie)=>a.jsx("div",{className:`p-3 cursor-pointer border-b border-slate-600 last:border-b-0 hover:bg-slate-700 text-slate-100 ${ie===b?"bg-emerald-600":""}`,onClick:()=>K(z),children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex-shrink-0",children:z.image_url?a.jsx("img",{src:z.image_url,alt:z.name,className:"w-full h-full object-cover rounded",onError:W=>{W.target.style.display="none"}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:z.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["$",parseFloat(z.price).toFixed(2)]}),z.quantity<=0&&a.jsx("p",{className:"text-xs text-red-500",children:"Out of stock"})]})]})},z.searchKey))})]})},_C=()=>{const{user:t,isAuthenticated:e,isAdmin:r,logout:n}=Ta(),{getItemCount:i}=Kd(),{getWishlistCount:s}=iv(),c=Ps(),f=ro(),[g,u]=ee.useState(!1),m=()=>we(null,null,function*(){yield n(),c("/")});return a.jsx("header",{className:"bg-[#1a1a1a] text-[#F5F0E1] shadow-lg sticky top-0 z-50 border-b-2 border-[#8B2332]",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex justify-between items-center h-20",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsxs(Zt,{to:"/",className:"flex items-center space-x-3 hover:opacity-90 transition-opacity group",children:[a.jsx("img",{src:"/images/sardaarji-autoparts-logo.png",alt:"Sardaarji Autoparts",className:"h-14 w-auto rounded"}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("span",{className:"text-xl font-bold tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"SARDAARJI AUTOPARTS"}),a.jsx("span",{className:"block text-xs text-[#B8860B] tracking-widest",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"VINTAGE MOTORCYCLE PARTS"})]})]})}),a.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-6",children:[a.jsxs("nav",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{to:"/",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${f.pathname==="/"?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Home"}),a.jsx(Zt,{to:"/products",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${f.pathname.startsWith("/products")?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Parts Catalog"}),e()&&a.jsx(Zt,{to:"/orders",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${f.pathname.startsWith("/orders")?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"My Orders"}),r()&&a.jsx(Zt,{to:"/admin",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${f.pathname.startsWith("/admin")?"bg-[#996f09] text-white":"bg-[#B8860B] hover:bg-[#996f09] text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Admin"})]}),a.jsx(x5,{placeholder:"Search parts...",className:"w-48"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[e()&&a.jsxs(Zt,{to:"/wishlist",className:"relative p-2 hover:bg-[#333] rounded-lg transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s()>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-[#8B2332] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s()})]}),a.jsxs(Zt,{to:"/cart",className:"relative p-2 hover:bg-[#333] rounded-lg transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i()>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-[#8B2332] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:i()})]}),e()?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(Zt,{to:"/profile",className:"px-3 py-2 rounded-lg hover:bg-[#333] transition-colors text-sm",children:["Hi, ",t.first_name]}),a.jsx("button",{onClick:m,className:"px-3 py-2 rounded-lg hover:bg-[#8B2332] transition-colors text-sm",children:"Logout"})]}):a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(Zt,{to:"/login",className:"btn-vintage-red px-4 py-2 text-sm",style:{fontFamily:"'Oswald', sans-serif"},children:"Login"})})]})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:()=>u(!g),className:"p-2 rounded-lg hover:bg-[#333] transition-colors","aria-label":"Toggle menu",children:g?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),a.jsx("div",{className:`md:hidden ${g?"block":"hidden"} border-t border-[#333] pb-4`,children:a.jsxs("div",{className:"px-2 pt-2 space-y-1",children:[a.jsx(Zt,{to:"/",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Home"}),a.jsx(Zt,{to:"/products",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Parts Catalog"}),e()&&a.jsxs(a.Fragment,{children:[a.jsx(Zt,{to:"/orders",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"My Orders"}),a.jsxs(Zt,{to:"/wishlist",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:["Wishlist (",s(),")"]})]}),a.jsxs(Zt,{to:"/cart",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:["Cart (",i(),")"]}),r()&&a.jsx(Zt,{to:"/admin",className:"block px-4 py-3 rounded-lg bg-[#B8860B] hover:bg-[#996f09] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Admin Panel"}),a.jsx("div",{className:"pt-2",children:a.jsx(x5,{placeholder:"Search parts...",className:"w-full"})}),a.jsx("div",{className:"pt-2 border-t border-[#333]",children:e()?a.jsxs(a.Fragment,{children:[a.jsxs(Zt,{to:"/profile",className:"block px-4 py-3 rounded-lg hover:bg-[#333]",onClick:()=>u(!1),children:["Profile (",t.first_name,")"]}),a.jsx("button",{onClick:()=>{m(),u(!1)},className:"block w-full text-left px-4 py-3 rounded-lg hover:bg-[#8B2332] text-[#F5F0E1]",children:"Logout"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zt,{to:"/login",className:"block px-4 py-3 rounded-lg bg-[#8B2332] hover:bg-[#9B3342] font-semibold uppercase tracking-wide text-center",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Login"}),a.jsx(Zt,{to:"/register",className:"block px-4 py-3 mt-2 rounded-lg border border-[#8B2332] hover:bg-[#8B2332] font-semibold uppercase tracking-wide text-center",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Register"})]})})]})})]})})},EC=()=>{const t=new Date().getFullYear();return a.jsx("footer",{className:"bg-[#1a1a1a] text-[#F5F0E1] py-12 border-t-2 border-[#8B2332]",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-16 w-auto"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xl font-bold tracking-wide block",style:{fontFamily:"'Oswald', sans-serif"},children:"VINTAGE YAMAHA"}),a.jsx("span",{className:"text-xs text-[#B8860B] tracking-widest",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"MOTORCYCLE PARTS"})]})]}),a.jsx("p",{className:"text-[#A8A090] leading-relaxed text-sm",style:{fontFamily:"'Roboto Slab', serif"},children:"Your premier source for vintage Yamaha motorcycle parts. Authentic parts for classic RD, DT, and more."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#B8860B] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Quick Links"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx(Zt,{to:"/products",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Parts Catalog"})}),a.jsx("li",{children:a.jsx(Zt,{to:"/products/category/1",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Engine Parts"})}),a.jsx("li",{children:a.jsx(Zt,{to:"/products/category/2",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Electrical"})}),a.jsx("li",{children:a.jsx(Zt,{to:"/products/category/3",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Bodywork"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#B8860B] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Contact Us"}),a.jsxs("address",{className:"not-italic text-[#A8A090] space-y-3 text-sm",children:[a.jsxs("p",{className:"flex items-center",children:[a.jsxs("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Motorcycle Lane, Bike City"]}),a.jsxs("p",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"(555) 123-4567"]}),a.jsxs("p",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@vintageyamahaparts.com"]})]})]})]}),a.jsxs("div",{className:"border-t border-[#333] mt-10 pt-6 text-center",children:[a.jsxs("p",{className:"text-[#A8A090] text-sm",style:{fontFamily:"'Roboto Slab', serif"},children:[" ",t," Vintage Yamaha Parts. All rights reserved."]}),a.jsx("p",{className:"text-[#B8860B] text-xs mt-2 uppercase tracking-widest",style:{fontFamily:"'Oswald', sans-serif"},children:"Authentic Parts  Expert Knowledge  Fast Shipping"})]})]})})},SC=()=>{const t=ro(),e=[{to:"/admin",label:"Dashboard",icon:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]})},{to:"/admin/products",label:"Products",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},{to:"/admin/orders",label:"Orders",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{to:"/admin/users",label:"Users",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{to:"/admin/user-approval",label:"Approval",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{to:"/admin/reviews",label:"Reviews",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{to:"/admin/analytics",label:"Analytics",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{to:"/admin/logs",label:"Logs",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{to:"/admin/logo",label:"Logo",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{to:"/admin/inventory",label:"Inventory",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})},{to:"/admin/settings",label:"Settings",icon:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];return a.jsx("div",{className:"bg-[#1a1a1a] border-b-2 border-[#333]",children:a.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[a.jsx("div",{className:"md:hidden py-2",children:a.jsx("select",{className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded-md py-3 px-3 text-base font-medium",value:t.pathname,onChange:r=>window.location.href=r.target.value,style:{fontFamily:"'Oswald', sans-serif"},children:e.map(r=>a.jsx("option",{value:r.to,children:r.label},r.to))})}),a.jsx("div",{className:"hidden md:block overflow-x-auto scrollbar-hide",children:a.jsx("nav",{className:"flex space-x-1 min-w-max","aria-label":"Tabs",children:e.map(r=>{const n=t.pathname===r.to||r.to!=="/admin"&&t.pathname.startsWith(r.to);return a.jsxs(Zt,{to:r.to,className:`flex items-center space-x-1.5 py-3 px-3 lg:px-4 border-b-3 text-sm transition-all uppercase tracking-wide whitespace-nowrap ${n?"border-[#8B2332] text-[#F5F0E1] bg-[#8B2332]/10":"border-transparent text-[#A8A090] hover:text-[#F5F0E1] hover:bg-[#333]/50"}`,style:{fontFamily:"'Oswald', sans-serif",fontWeight:500},children:[r.icon,a.jsx("span",{className:"hidden lg:inline",children:r.label}),a.jsx("span",{className:"lg:hidden",children:r.label.substring(0,4)})]},r.to)})})})]})})},NC=()=>{const{user:t,setUser:e}=Ta(),[r,n]=ee.useState(null),[i,s]=ee.useState(!0);return ee.useEffect(()=>{we(null,null,function*(){var u,m;s(!0);const f=localStorage.getItem("token");let g=t==null?void 0:t.warehouse_id;if(!g&&f)try{const v=yield fetch("/api/users/profile",{headers:{Authorization:`Bearer ${f}`}});if(v.ok&&(g=(u=(yield v.json()).data)==null?void 0:u.warehouse_id,g&&t)){const _=er(kt({},t),{warehouse_id:g});localStorage.setItem("user",JSON.stringify(_)),e&&e(_)}}catch(v){console.error("Error fetching profile:",v)}if(g)try{const v=yield fetch(`/api/inventory/warehouses?id=${g}`,{headers:{Authorization:`Bearer ${f}`}});if(v.ok){const b=yield v.json();n(((m=b.warehouse)==null?void 0:m.name)||null)}}catch(v){console.error("Error fetching warehouse:",v)}s(!1)})},[t==null?void 0:t.warehouse_id,t,e]),a.jsxs("div",{className:"min-h-screen",style:{background:"#D4C5A9"},children:[a.jsxs("div",{className:"bg-[#1a1a1a] border-b border-[#333]",children:[a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Admin Panel"}),r&&a.jsx("div",{className:"flex items-center space-x-2 bg-[#B8860B] px-4 py-2 rounded-lg",children:a.jsxs("span",{className:"text-white text-sm font-semibold",children:[" ",r]})}),(t==null?void 0:t.warehouse_id)&&!r&&a.jsx("div",{className:"text-gray-400 text-sm",children:"Loading warehouse..."}),!(t!=null&&t.warehouse_id)&&a.jsx("div",{className:"flex items-center space-x-2 bg-[#8B2332] px-4 py-2 rounded-lg",children:a.jsx("span",{className:"text-white text-sm",children:" No warehouse assigned"})})]})}),a.jsx(SC,{})]}),a.jsx("div",{className:"container mx-auto px-4 py-6",children:a.jsx(zN,{})})]})},G2=()=>we(null,null,function*(){try{const r=((yield Xr.get("/categories")).data.data||[]).filter(i=>i&&i.id&&i.name).map(i=>er(kt({},i),{id:String(i.id),name:i.name.trim()})),n=Array.from(new Map(r.map(i=>[i.name.toLowerCase(),i])).values());return n.sort((i,s)=>i.name.localeCompare(s.name)),console.log("API - Fetched distinct categories:",n),n}catch(t){return console.error("Error fetching categories:",t),[]}}),AC=t=>{try{return new URL(t),!0}catch(e){return!1}},v5=()=>window.location.origin,CC=t=>t&&t.includes("supabase.co/storage/v1/object/public/"),Ru=(t,e=null)=>{if(!t||t.trim()===""||t==="nan"||t==="undefined"||t==="null")return null;if(console.log("Processing image URL:",t),CC(t))return console.log("Using Supabase Storage URL as-is:",t),t;if(t.startsWith("http://")||t.startsWith("https://"))return console.log("Using external URL as-is:",t),t;if(AC(t)){const n=window.location.origin,i=new URL(t);return i.hostname.includes("localhost")&&!n.includes("localhost")?(console.log("Converting localhost URL to current domain:",t),`${n}${i.pathname}`):(console.log("Using valid URL as-is:",t),t)}if(t.startsWith("/")){const n=`${v5()}${t}`;return console.log("Processed relative URL (with /):",n),n}const r=`${v5()}/${t}`;return console.log("Processed relative URL (without /):",r),r},TC=(t,e=null)=>{const r=t.target.src;if(console.error("Image failed to load:",r),r.includes("placeholder-image.svg")||t.target.hasAttribute("data-using-fallback")){console.log("Already using fallback image, preventing infinite loop"),t.target.removeAttribute("src"),t.target.classList.add("image-load-error");const i=document.createElement("div");i.className="w-full h-full flex items-center justify-center bg-gray-200",i.innerHTML='<span class="text-gray-500 text-sm">Image unavailable</span>',t.target.parentNode&&(t.target.parentNode.appendChild(i),t.target.style.display="none");return}const n="/Modparts/placeholder-image.svg";t.target.setAttribute("data-using-fallback","true"),t.target.src=e||n,t.target.classList.add("image-load-error")},fn=({size:t="md",text:e="Loading...",showText:r=!0,className:n="",variant:i="gear"})=>{const s={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},c={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},f=()=>{var _;const b=((_={sm:{container:36},md:{container:56},lg:{container:72},xl:{container:96}}[t])==null?void 0:_.container)||56;return a.jsxs("div",{className:"relative",style:{width:b,height:b},children:[a.jsxs("svg",{viewBox:"0 0 860.1 876.5",width:b,height:b,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"vintageGear1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#A83244"}),a.jsx("stop",{offset:"50%",stopColor:"#8B2332"}),a.jsx("stop",{offset:"100%",stopColor:"#6B1A26"})]}),a.jsxs("linearGradient",{id:"vintageGear2",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#D4A84B"}),a.jsx("stop",{offset:"50%",stopColor:"#B8860B"}),a.jsx("stop",{offset:"100%",stopColor:"#8B6914"})]}),a.jsxs("linearGradient",{id:"vintageGear3",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#F5F0E1"}),a.jsx("stop",{offset:"50%",stopColor:"#D4C5A9"}),a.jsx("stop",{offset:"100%",stopColor:"#B8A67A"})]}),a.jsx("filter",{id:"gearDropShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:a.jsx("feDropShadow",{dx:"2",dy:"3",stdDeviation:"3",floodColor:"#000",floodOpacity:"0.4"})})]}),a.jsx("path",{style:{stroke:"#1a1a1a",strokeWidth:2,transformOrigin:"33.47% 32.89%",animation:"spin 3s linear infinite",fill:"url(#vintageGear1)",filter:"url(#gearDropShadow)"},d:"M 289.209 146.527 C 251.329 146.527 215.76 161.251 189.083 187.986 C 162.406 214.721 147.624 250.232 147.624 288.112 C 147.624 325.99 162.348 361.387 189.083 388.237 C 215.76 414.914 251.445 429.696 289.209 429.696 C 327.088 429.696 362.657 414.972 389.335 388.237 C 416.011 361.503 430.794 325.99 430.794 288.112 C 430.794 250.232 416.069 214.836 389.335 187.986 C 362.657 161.308 327.088 146.527 289.209 146.527 Z M 289.209 406.022 C 223.902 406.022 171.241 353.129 171.241 288.053 C 171.241 222.977 223.902 170.085 289.209 170.085 C 354.516 170.085 407.177 223.036 407.177 288.053 C 407.177 353.072 354.516 406.022 289.209 406.022 Z M 536.462 229.099 L 514.058 229.099 C 495.753 229.099 480.452 213.739 480.452 194.915 C 480.452 185.503 484.437 177.073 491.538 170.72 L 505.974 156.574 C 520.294 142.427 520.294 119.446 505.974 105.125 L 473.119 72.559 C 466.651 66.091 457.066 62.222 447.308 62.222 C 437.549 62.222 428.137 66.034 421.497 72.559 L 407.639 86.416 C 400.998 93.808 391.874 97.792 382.29 97.792 C 363.408 97.792 347.356 82.432 347.356 64.301 L 347.356 42.013 C 347.356 22.091 331.88 5 311.959 5 L 267.093 5 C 246.768 5 230.542 21.975 230.542 42.013 L 230.542 64.417 C 230.542 82.548 214.894 97.907 196.07 97.907 C 186.658 97.907 178.054 93.923 171.587 86.994 L 157.267 72.847 C 150.799 66.206 141.215 62.511 131.455 62.511 C 121.697 62.511 112.285 66.322 105.645 72.847 L 72.789 105.298 C 58.642 119.446 58.642 142.6 72.789 156.632 L 86.647 170.49 C 94.038 177.13 98.139 185.503 98.139 195.088 C 98.139 213.97 82.779 229.271 64.532 229.271 L 42.128 229.271 C 21.918 229.099 5 245.613 5 265.707 L 5 288.112 L 5 310.516 C 5 330.437 21.976 347.067 42.128 347.067 L 64.532 347.067 C 82.836 347.067 98.139 362.426 98.139 381.25 C 98.139 390.663 94.038 399.381 86.647 406.022 L 72.789 419.591 C 58.642 433.739 58.642 456.72 72.789 470.925 L 105.645 503.664 C 112.112 510.305 121.697 514.001 131.455 514.001 C 141.215 514.001 150.627 510.189 157.267 503.664 L 171.587 489.518 C 177.766 482.589 186.484 478.604 195.896 478.604 C 214.778 478.604 230.369 493.964 230.369 512.095 L 230.369 534.499 C 230.369 554.42 246.595 571.512 266.804 571.512 L 311.612 571.512 C 331.65 571.512 348.337 554.536 348.337 534.499 L 348.337 512.095 C 348.337 493.964 363.812 478.604 382.693 478.604 C 392.106 478.604 400.825 482.704 407.639 489.98 L 421.497 503.838 C 428.137 510.305 437.549 514.173 447.308 514.173 C 457.066 514.173 466.478 510.363 473.119 503.838 L 505.974 471.097 C 520.121 456.951 520.121 433.796 505.974 419.649 L 491.538 405.502 C 484.437 399.15 480.452 390.143 480.452 380.904 C 480.452 362.022 495.811 346.085 514.058 346.085 L 536.462 346.085 C 556.499 346.085 570.819 330.898 570.819 310.862 L 570.819 288.169 L 570.819 265.765 C 570.819 245.613 556.499 229.099 536.462 229.099 Z M 547.549 288.053 L 547.549 310.342 C 547.549 316.521 544.142 322.006 536.809 322.006 L 514.405 322.006 C 499.218 322.006 484.783 328.474 473.87 339.675 C 463.129 350.762 457.182 365.313 457.182 380.673 C 457.182 396.61 463.649 411.334 475.602 422.247 L 489.633 436.106 C 494.484 441.129 494.484 449.386 489.633 454.237 L 456.778 486.977 C 454.41 489.171 451.004 490.499 447.481 490.499 C 443.959 490.499 440.378 489.171 438.185 486.977 L 424.731 473.581 C 413.355 461.628 398.457 454.988 382.693 454.988 C 367.334 454.988 353.187 460.878 342.158 471.502 C 330.956 482.415 325.066 496.735 325.066 512.037 L 325.066 534.441 C 325.066 541.66 318.715 547.837 311.959 547.837 L 267.093 547.837 C 260.337 547.837 254.275 541.66 254.275 534.441 L 254.275 512.037 C 254.275 496.851 248.211 482.415 237.009 471.502 C 225.922 460.878 211.487 454.988 196.3 454.988 C 180.653 454.988 165.639 461.628 154.841 473.292 L 141.156 486.977 C 138.789 489.171 135.382 490.499 131.86 490.499 C 128.337 490.499 124.758 489.344 122.852 487.266 L 122.679 487.092 L 122.506 486.919 L 89.65 454.179 C 84.8 449.329 84.8 441.187 89.65 436.163 L 103.047 422.883 C 115.114 411.68 121.755 396.783 121.755 380.846 C 121.755 365.487 115.865 351.513 105.067 340.426 C 94.154 329.225 79.718 323.45 64.532 323.45 L 41.955 323.45 C 34.564 323.45 28.385 317.098 28.385 310.458 L 28.385 287.881 L 28.385 265.476 C 28.385 258.836 34.564 252.484 41.955 252.484 L 64.359 252.484 C 79.546 252.484 93.981 246.71 104.894 235.508 C 115.634 224.422 121.582 210.159 121.582 194.972 C 121.582 179.036 114.942 164.138 102.873 153.11 L 89.304 139.713 C 86.07 136.48 85.608 132.784 85.608 130.705 C 85.608 128.8 86.07 124.931 89.304 121.698 L 122.043 89.131 C 124.411 86.936 127.818 85.608 131.34 85.608 C 134.862 85.608 138.443 86.763 140.349 88.842 L 140.521 89.015 L 140.695 89.188 L 154.553 103.046 C 165.467 114.826 180.19 121.351 196.012 121.351 C 211.371 121.351 225.634 115.461 236.72 104.837 C 247.922 93.923 254.101 79.603 254.101 64.301 L 254.101 41.897 C 254.101 34.679 259.991 28.501 266.631 28.501 L 311.612 28.501 C 318.253 28.501 323.392 34.679 323.392 41.897 L 323.392 64.301 C 323.392 79.488 329.859 93.923 341.061 104.837 C 352.148 115.461 366.699 121.351 382.059 121.351 C 397.996 121.351 413.008 114.71 424.211 102.757 L 437.607 89.361 C 439.974 87.167 443.381 85.839 446.903 85.839 C 450.426 85.839 454.006 87.167 456.2 89.246 L 489.056 121.813 C 491.423 124.18 492.866 127.414 492.866 130.821 C 492.866 134.228 491.538 137.461 489.171 139.828 L 475.14 153.687 C 463.36 164.6 456.72 179.325 456.72 195.261 C 456.72 210.621 462.609 224.595 473.407 235.681 C 484.321 246.883 498.757 252.657 513.943 252.657 L 536.346 252.657 C 544.315 252.657 547.26 260.048 547.433 265.938 L 547.549 288.053 Z"}),a.jsx("path",{style:{stroke:"#1a1a1a",strokeWidth:2,transformOrigin:"74.01% 74.47%",animation:"spin 4s linear infinite reverse",fill:"url(#vintageGear2)",filter:"url(#gearDropShadow)"},d:"M 637.588 543.225 C 608.329 543.225 580.855 554.599 560.249 575.25 C 539.643 595.9 528.225 623.33 528.225 652.589 C 528.225 681.846 539.599 709.188 560.249 729.927 C 580.855 750.533 608.419 761.95 637.588 761.95 C 666.847 761.95 694.321 750.578 714.928 729.927 C 735.533 709.277 746.951 681.846 746.951 652.589 C 746.951 623.33 735.578 595.989 714.928 575.25 C 694.321 554.643 666.847 543.225 637.588 543.225 Z M 637.588 743.665 C 587.144 743.665 546.468 702.809 546.468 652.543 C 546.468 602.277 587.144 561.423 637.588 561.423 C 688.032 561.423 728.71 602.323 728.71 652.543 C 728.71 702.765 688.032 743.665 637.588 743.665 Z M 828.571 607.006 L 811.265 607.006 C 797.126 607.006 785.308 595.142 785.308 580.602 C 785.308 573.332 788.386 566.82 793.871 561.913 L 805.021 550.987 C 816.082 540.058 816.082 522.307 805.021 511.245 L 779.643 486.091 C 774.647 481.095 767.244 478.106 759.707 478.106 C 752.169 478.106 744.899 481.051 739.771 486.091 L 729.067 496.794 C 723.937 502.504 716.889 505.581 709.487 505.581 C 694.901 505.581 682.502 493.717 682.502 479.712 L 682.502 462.497 C 682.502 447.109 670.548 433.907 655.161 433.907 L 620.505 433.907 C 604.806 433.907 592.273 447.019 592.273 462.497 L 592.273 479.802 C 592.273 493.807 580.186 505.67 565.646 505.67 C 558.376 505.67 551.73 502.593 546.735 497.241 L 535.674 486.313 C 530.678 481.184 523.275 478.33 515.736 478.33 C 508.199 478.33 500.929 481.273 495.8 486.313 L 470.422 511.379 C 459.494 522.307 459.494 540.192 470.422 551.031 L 481.126 561.736 C 486.835 566.864 490.002 573.332 490.002 580.735 C 490.002 595.32 478.138 607.139 464.044 607.139 L 446.739 607.139 C 431.128 607.006 418.06 619.762 418.06 635.283 L 418.06 652.589 L 418.06 669.894 C 418.06 685.281 431.173 698.127 446.739 698.127 L 464.044 698.127 C 478.182 698.127 490.002 709.99 490.002 724.53 C 490.002 731.801 486.835 738.535 481.126 743.665 L 470.422 754.145 C 459.494 765.073 459.494 782.824 470.422 793.796 L 495.8 819.084 C 500.795 824.214 508.199 827.068 515.736 827.068 C 523.275 827.068 530.545 824.124 535.674 819.084 L 546.735 808.157 C 551.508 802.805 558.242 799.727 565.512 799.727 C 580.096 799.727 592.139 811.591 592.139 825.596 L 592.139 842.902 C 592.139 858.29 604.672 871.492 620.282 871.492 L 654.893 871.492 C 670.37 871.492 683.26 858.379 683.26 842.902 L 683.26 825.596 C 683.26 811.591 695.213 799.727 709.798 799.727 C 717.069 799.727 723.803 802.894 729.067 808.514 L 739.771 819.218 C 744.899 824.214 752.169 827.201 759.707 827.201 C 767.244 827.201 774.514 824.258 779.643 819.218 L 805.021 793.929 C 815.949 783.002 815.949 765.117 805.021 754.19 L 793.871 743.263 C 788.386 738.356 785.308 731.399 785.308 724.263 C 785.308 709.678 797.171 697.368 811.265 697.368 L 828.571 697.368 C 844.048 697.368 855.109 685.637 855.109 670.161 L 855.109 652.633 L 855.109 635.328 C 855.109 619.762 844.048 607.006 828.571 607.006 Z M 837.134 652.543 L 837.134 669.76 C 837.134 674.532 834.503 678.769 828.839 678.769 L 811.533 678.769 C 799.803 678.769 788.653 683.765 780.224 692.417 C 771.927 700.981 767.333 712.22 767.333 724.085 C 767.333 736.395 772.329 747.768 781.561 756.197 L 792.399 766.901 C 796.146 770.781 796.146 777.159 792.399 780.906 L 767.021 806.195 C 765.192 807.889 762.561 808.915 759.84 808.915 C 757.12 808.915 754.354 807.889 752.66 806.195 L 742.268 795.847 C 733.482 786.615 721.974 781.486 709.798 781.486 C 697.933 781.486 687.006 786.035 678.487 794.241 C 669.834 802.671 665.285 813.732 665.285 825.551 L 665.285 842.858 C 665.285 848.434 660.379 853.205 655.161 853.205 L 620.505 853.205 C 615.287 853.205 610.605 848.434 610.605 842.858 L 610.605 825.551 C 610.605 813.821 605.921 802.671 597.268 794.241 C 588.704 786.035 577.554 781.486 565.824 781.486 C 553.738 781.486 542.141 786.615 533.8 795.624 L 523.229 806.195 C 521.401 807.889 518.77 808.915 516.049 808.915 C 513.328 808.915 510.563 808.023 509.091 806.418 L 508.958 806.283 L 508.824 806.15 L 483.445 780.861 C 479.699 777.115 479.699 770.826 483.445 766.945 L 493.793 756.688 C 503.114 748.035 508.244 736.528 508.244 724.218 C 508.244 712.355 503.694 701.561 495.354 692.997 C 486.924 684.345 475.774 679.884 464.044 679.884 L 446.605 679.884 C 440.896 679.884 436.123 674.978 436.123 669.849 L 436.123 652.41 L 436.123 635.104 C 436.123 629.976 440.896 625.069 446.605 625.069 L 463.91 625.069 C 475.641 625.069 486.791 620.609 495.22 611.957 C 503.516 603.394 508.11 592.377 508.11 580.646 C 508.11 568.337 502.981 556.829 493.659 548.31 L 483.178 537.962 C 480.68 535.465 480.323 532.61 480.323 531.004 C 480.323 529.532 480.68 526.544 483.178 524.047 L 508.466 498.891 C 510.295 497.196 512.927 496.17 515.647 496.17 C 518.368 496.17 521.134 497.062 522.606 498.668 L 522.739 498.802 L 522.873 498.935 L 533.578 509.64 C 542.008 518.739 553.38 523.779 565.601 523.779 C 577.465 523.779 588.482 519.229 597.045 511.023 C 605.697 502.593 610.47 491.532 610.47 479.712 L 610.47 462.407 C 610.47 456.832 615.02 452.06 620.149 452.06 L 654.893 452.06 C 660.022 452.06 663.992 456.832 663.992 462.407 L 663.992 479.712 C 663.992 491.443 668.987 502.593 677.64 511.023 C 686.203 519.229 697.443 523.779 709.308 523.779 C 721.618 523.779 733.214 518.649 741.866 509.416 L 752.213 499.069 C 754.042 497.374 756.673 496.349 759.394 496.349 C 762.115 496.349 764.88 497.374 766.575 498.98 L 791.953 524.136 C 793.782 525.964 794.896 528.462 794.896 531.094 C 794.896 533.725 793.871 536.222 792.042 538.051 L 781.204 548.756 C 772.105 557.186 766.977 568.56 766.977 580.869 C 766.977 592.733 771.525 603.527 779.866 612.09 C 788.296 620.743 799.447 625.203 811.177 625.203 L 828.481 625.203 C 834.636 625.203 836.911 630.912 837.045 635.461 L 837.134 652.543 Z"}),a.jsx("path",{style:{stroke:"#1a1a1a",strokeWidth:2,transformOrigin:"78.03% 16.12%",animation:"spin 3.5s linear infinite reverse",fill:"url(#vintageGear3)",filter:"url(#gearDropShadow)"},d:"M 671.717 76.053 C 654.289 76.053 637.926 82.828 625.652 95.128 C 613.378 107.428 606.577 123.766 606.577 141.194 C 606.577 158.62 613.352 174.906 625.652 187.258 C 637.926 199.532 654.343 206.333 671.717 206.333 C 689.145 206.333 705.51 199.559 717.783 187.258 C 730.056 174.959 736.857 158.62 736.857 141.194 C 736.857 123.766 730.083 107.481 717.783 95.128 C 705.51 82.854 689.145 76.053 671.717 76.053 Z M 671.717 195.441 C 641.671 195.441 617.444 171.106 617.444 141.166 C 617.444 111.226 641.671 86.892 671.717 86.892 C 701.763 86.892 725.992 111.253 725.992 141.166 C 725.992 171.08 701.763 195.441 671.717 195.441 Z M 785.473 114.043 L 775.164 114.043 C 766.743 114.043 759.704 106.976 759.704 98.316 C 759.704 93.986 761.537 90.107 764.804 87.184 L 771.446 80.676 C 778.034 74.167 778.034 63.594 771.446 57.005 L 756.33 42.022 C 753.354 39.047 748.945 37.267 744.455 37.267 C 739.965 37.267 735.635 39.021 732.581 42.022 L 726.205 48.397 C 723.15 51.798 718.952 53.631 714.542 53.631 C 705.855 53.631 698.469 46.565 698.469 38.223 L 698.469 27.969 C 698.469 18.803 691.35 10.94 682.185 10.94 L 661.542 10.94 C 652.192 10.94 644.727 18.749 644.727 27.969 L 644.727 38.277 C 644.727 46.618 637.527 53.684 628.867 53.684 C 624.536 53.684 620.578 51.851 617.602 48.663 L 611.014 42.154 C 608.039 39.1 603.629 37.4 599.138 37.4 C 594.65 37.4 590.319 39.153 587.264 42.154 L 572.149 57.084 C 565.639 63.594 565.639 74.247 572.149 80.703 L 578.523 87.079 C 581.924 90.133 583.811 93.986 583.811 98.395 C 583.811 107.082 576.744 114.122 568.349 114.122 L 558.042 114.122 C 548.744 114.043 540.96 121.641 540.96 130.886 L 540.96 141.194 L 540.96 151.501 C 540.96 160.666 548.771 168.318 558.042 168.318 L 568.349 168.318 C 576.77 168.318 583.811 175.383 583.811 184.044 C 583.811 188.375 581.924 192.386 578.523 195.441 L 572.149 201.684 C 565.639 208.193 565.639 218.766 572.149 225.301 L 587.264 240.364 C 590.239 243.419 594.65 245.119 599.138 245.119 C 603.629 245.119 607.96 243.365 611.014 240.364 L 617.602 233.855 C 620.446 230.668 624.456 228.834 628.787 228.834 C 637.473 228.834 644.647 235.901 644.647 244.242 L 644.647 254.55 C 644.647 263.715 652.112 271.579 661.41 271.579 L 682.025 271.579 C 691.244 271.579 698.921 263.768 698.921 254.55 L 698.921 244.242 C 698.921 235.901 706.04 228.834 714.728 228.834 C 719.059 228.834 723.07 230.721 726.205 234.068 L 732.581 240.443 C 735.635 243.419 739.965 245.198 744.455 245.198 C 748.945 245.198 753.275 243.445 756.33 240.443 L 771.446 225.38 C 777.955 218.872 777.955 208.22 771.446 201.71 L 764.804 195.202 C 761.537 192.279 759.704 188.135 759.704 183.884 C 759.704 175.198 766.77 167.865 775.164 167.865 L 785.473 167.865 C 794.692 167.865 801.28 160.878 801.28 151.66 L 801.28 141.22 L 801.28 130.913 C 801.28 121.641 794.692 114.043 785.473 114.043 Z M 790.573 141.166 L 790.573 151.421 C 790.573 154.264 789.006 156.787 785.632 156.787 L 775.324 156.787 C 768.337 156.787 761.696 159.763 756.676 164.917 C 751.734 170.018 748.997 176.712 748.997 183.779 C 748.997 191.111 751.973 197.885 757.472 202.905 L 763.928 209.282 C 766.159 211.593 766.159 215.392 763.928 217.624 L 748.812 232.687 C 747.722 233.695 746.155 234.307 744.535 234.307 C 742.914 234.307 741.267 233.695 740.257 232.687 L 734.068 226.523 C 728.835 221.024 721.98 217.969 714.728 217.969 C 707.66 217.969 701.152 220.679 696.078 225.566 C 690.924 230.587 688.215 237.176 688.215 244.215 L 688.215 254.523 C 688.215 257.845 685.292 260.687 682.185 260.687 L 661.542 260.687 C 658.434 260.687 655.646 257.845 655.646 254.523 L 655.646 244.215 C 655.646 237.229 652.855 230.587 647.701 225.566 C 642.6 220.679 635.959 217.969 628.973 217.969 C 621.774 217.969 614.866 221.024 609.898 226.39 L 603.602 232.687 C 602.513 233.695 600.946 234.307 599.325 234.307 C 597.704 234.307 596.057 233.775 595.18 232.819 L 595.101 232.739 L 595.021 232.66 L 579.905 217.597 C 577.674 215.366 577.674 211.62 579.905 209.308 L 586.068 203.199 C 591.62 198.044 594.676 191.19 594.676 183.858 C 594.676 176.792 591.966 170.363 586.998 165.262 C 581.977 160.109 575.336 157.452 568.349 157.452 L 557.962 157.452 C 554.562 157.452 551.718 154.529 551.718 151.474 L 551.718 141.087 L 551.718 130.779 C 551.718 127.725 554.562 124.802 557.962 124.802 L 568.269 124.802 C 575.256 124.802 581.898 122.145 586.918 116.992 C 591.86 111.892 594.597 105.329 594.597 98.342 C 594.597 91.011 591.541 84.156 585.989 79.082 L 579.746 72.918 C 578.258 71.431 578.046 69.73 578.046 68.774 C 578.046 67.897 578.258 66.117 579.746 64.63 L 594.808 49.646 C 595.898 48.637 597.465 48.026 599.085 48.026 C 600.706 48.026 602.354 48.557 603.231 49.513 L 603.31 49.593 L 603.389 49.673 L 609.766 56.049 C 614.787 61.469 621.56 64.47 628.84 64.47 C 635.906 64.47 642.468 61.76 647.568 56.873 C 652.722 51.851 655.565 45.263 655.565 38.223 L 655.565 27.915 C 655.565 24.594 658.275 21.753 661.33 21.753 L 682.025 21.753 C 685.079 21.753 687.444 24.594 687.444 27.915 L 687.444 38.223 C 687.444 45.21 690.42 51.851 695.574 56.873 C 700.674 61.76 707.369 64.47 714.436 64.47 C 721.768 64.47 728.675 61.415 733.829 55.915 L 739.991 49.753 C 741.08 48.742 742.648 48.133 744.268 48.133 C 745.889 48.133 747.536 48.742 748.546 49.699 L 763.662 64.683 C 764.751 65.772 765.415 67.26 765.415 68.827 C 765.415 70.394 764.804 71.882 763.715 72.971 L 757.26 79.348 C 751.839 84.369 748.786 91.143 748.786 98.475 C 748.786 105.541 751.494 111.971 756.463 117.071 C 761.484 122.225 768.126 124.882 775.112 124.882 L 785.419 124.882 C 789.085 124.882 790.441 128.282 790.52 130.992 L 790.573 141.166 Z"})]}),a.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})},g=({className:v})=>a.jsx("div",{className:`${v} border-4 border-slate-600 border-t-emerald-500 rounded-full animate-spin`}),u=({className:v})=>a.jsxs("div",{className:`flex space-x-1 ${v}`,children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),m=()=>{const v=`${s[t]} text-emerald-500`;switch(i){case"gear":case"rusted":return a.jsx(f,{});case"simple":return a.jsx(g,{className:v});case"dots":return a.jsx(u,{className:v});default:return a.jsx(f,{})}};return a.jsxs("div",{className:`flex flex-col items-center justify-center space-y-3 ${n}`,children:[m(),r&&a.jsx("p",{className:`text-gray-600 font-medium ${c[t]}`,children:e})]})},jC=({isVisible:t,text:e="Loading...",variant:r="gear",backdrop:n=!0})=>t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 backdrop-blur-sm"}),a.jsx("div",{className:"relative card-elevated p-8",children:a.jsx(fn,{size:"lg",text:e,variant:r,className:"text-center"})})]}):null,rc=({text:t="Loading...",variant:e="gear",size:r="sm"})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fn,{size:r,text:"",showText:!1,variant:e}),a.jsx("span",{className:"text-gray-600 text-sm",children:t})]}),ov=({product:t,size:e="md",variant:r="icon",className:n=""})=>{const{isInWishlist:i,addItem:s,removeItem:c}=iv(),{isAuthenticated:f}=Ta(),{error:g}=Li(),[u,m]=ee.useState(!1),v=f()?i(t.id):!1,b=I=>we(null,null,function*(){if(I.preventDefault(),I.stopPropagation(),!f()){g("Please login to add items to your wishlist");return}m(!0);try{v?yield c(t.id,t.name):yield s(t)}catch(P){console.error("Error toggling wishlist:",P)}finally{m(!1)}}),_={sm:"w-6 h-6 p-1",md:"w-8 h-8 p-1.5",lg:"w-10 h-10 p-2",xl:"w-12 h-12 p-2.5"},C={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"},A={sm:"text-sm px-2 py-1",md:"text-base px-3 py-2",lg:"text-lg px-4 py-2",xl:"text-xl px-5 py-3"},j=({filled:I,className:P})=>a.jsx("svg",{className:P,fill:I?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:I?0:2,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),L=({className:I})=>a.jsxs("svg",{className:`${I} animate-spin`,fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return r==="icon"?a.jsx("button",{onClick:b,disabled:u,className:`
          ${_[e]}
          ${v?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          transition-colors duration-200 rounded-full hover:bg-gray-800/50
          ${n}
        `,title:v?"Remove from wishlist":"Add to wishlist",children:u?a.jsx(L,{className:C[e]}):a.jsx(j,{filled:v,className:C[e]})}):r==="button"?a.jsxs("button",{onClick:b,disabled:u,className:`
          ${A[e]}
          ${v?"bg-red-500 text-white hover:bg-red-600":"bg-gray-700 text-gray-200 hover:bg-gray-600"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2
          ${n}
        `,children:[u?a.jsx(L,{className:"w-4 h-4"}):a.jsx(j,{filled:v,className:"w-4 h-4"}),a.jsx("span",{children:u?"Processing...":v?"Remove from Wishlist":"Add to Wishlist"})]}):r==="text"?a.jsxs("button",{onClick:b,disabled:u,className:`
          ${A[e]}
          ${v?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          transition-colors duration-200 flex items-center space-x-1
          ${n}
        `,children:[u?a.jsx(L,{className:"w-4 h-4"}):a.jsx(j,{filled:v,className:"w-4 h-4"}),a.jsx("span",{children:u?"Processing...":v?"In Wishlist":"Add to Wishlist"})]}):null},_0=c=>{var f=c,{src:t,alt:e,className:r="",placeholderText:n="No Image Available",showIcon:i=!0}=f,s=fu(f,["src","alt","className","placeholderText","showIcon"]);const[g,u]=ee.useState(!1),[m,v]=ee.useState(!1),b=()=>{u(!0),v(!1)},_=()=>{v(!0),u(!1)};return!t||t==="nan"||t==="undefined"||t==="null"||t.includes("/nan")||g?a.jsxs("div",er(kt({className:`flex flex-col items-center justify-center bg-gray-100 text-gray-500 ${r}`},s),{children:[i&&a.jsx("svg",{className:"w-12 h-12 mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"text-sm font-medium text-center px-2",children:n})]})):a.jsxs(a.Fragment,{children:[!m&&a.jsx("div",er(kt({className:`flex items-center justify-center bg-gray-200 ${r}`},s),{children:a.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mb-2"}),a.jsx("div",{className:"w-16 h-3 bg-gray-300 rounded"})]})})),a.jsx("img",kt({src:t,alt:e,className:`${r} ${m?"":"hidden"}`,onError:b,onLoad:_},s))]})},OC=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState([]),[i,s]=ee.useState(!0),c=g=>g?`/images/categories/${g.toLowerCase().replace(/\s+/g,"-")}.jpg`:null,f=g=>{g.target.style.display="none"};return ee.useEffect(()=>{we(null,null,function*(){try{const u=yield Nu({limit:100}),v=(u.products||u).sort(()=>.5-Math.random()).slice(0,4);e(v);const b=yield G2();n(b)}catch(u){console.error("Error fetching data:",u)}finally{s(!1)}})},[]),a.jsxs("div",{className:"bg-[#1a1a1a]",children:[a.jsx("section",{className:"relative py-24 mb-12 overflow-hidden",style:{backgroundImage:"linear-gradient(rgba(26,26,26,0.6), rgba(26,26,26,0.9)), url(/images/login-motorcycle.jpg)",backgroundSize:"cover",backgroundPosition:"center"},children:a.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[a.jsx("div",{className:"mb-8",children:a.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-40 md:h-52 w-auto mx-auto drop-shadow-2xl"})}),a.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"Vintage Yamaha Parts"}),a.jsx("p",{className:"text-xl mb-10 text-[#D4CFC0] max-w-2xl mx-auto",style:{fontFamily:"'Roboto Slab', serif"},children:"Authentic parts for classic Yamaha motorcycles. RD, DT, and more."}),a.jsxs(Zt,{to:"/products",className:"btn-vintage-red inline-flex items-center space-x-3 text-lg px-10 py-5",children:[a.jsx("span",{style:{fontFamily:"'Oswald', sans-serif"},children:"Browse Parts Catalog"}),a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),a.jsxs("section",{className:"mb-16 px-4",children:[a.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Shop by Category"}),i?a.jsx("div",{className:"text-center py-8",children:a.jsx(fn,{size:"lg",text:"Loading categories...",variant:"gear"})}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.filter(g=>g&&g.id&&g.name).map(g=>a.jsxs(Zt,{to:`/products/category/${g.id}`,className:"relative overflow-hidden rounded-lg text-center hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group min-h-[200px] flex flex-col border border-[#333]",children:[a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2d2d2d] to-[#1a1a1a]",children:[a.jsx("img",{src:c(g.name),alt:`${g.name} category`,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity duration-300",onError:f}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1a1a1a]/90 via-[#1a1a1a]/50 to-transparent group-hover:from-[#1a1a1a]/80 transition-all duration-300"})]}),a.jsx("div",{className:"relative z-10 p-6 flex flex-col justify-end h-full",children:a.jsxs("div",{className:"transform group-hover:translate-y-[-4px] transition-transform duration-300",children:[a.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:g.name}),a.jsx("p",{className:"text-[#A8A090] text-xs md:text-sm line-clamp-2",children:g.description})]})})]},g.id))})]}),a.jsxs("section",{className:"mb-16 px-4",children:[a.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Featured Parts"}),i?a.jsx("div",{className:"text-center py-8",children:a.jsx(fn,{size:"lg",text:"Loading featured products...",variant:"gear"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.filter(g=>g&&g.id&&g.name).map(g=>a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden group hover:border-[#8B2332] transition-all duration-300",children:[a.jsxs("div",{className:"h-48 relative",children:[a.jsx(_0,{src:Ru(g.image_url),alt:g.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",placeholderText:"No Image"}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx(ov,{product:g,size:"md",variant:"icon"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-[#F5F0E1] group-hover:text-[#B8860B] transition-colors uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:g.name}),a.jsx("p",{className:"text-[#A8A090] mb-4 text-sm",children:g.category_name}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-[#8B2332] font-bold text-xl",children:["$",parseFloat(g.price).toFixed(2)]}),a.jsx(Zt,{to:`/products/${g.id}`,className:"btn-vintage-gray px-4 py-2 text-sm",children:"View Details"})]})]})]},g.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(Zt,{to:"/products",className:"btn-vintage-gray inline-flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),a.jsx("span",{style:{fontFamily:"'Oswald', sans-serif"},children:"View All Parts"})]})})]}),a.jsx("section",{className:"bg-[#242424] py-16 px-4 border-t border-b border-[#333]",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"About Vintage Yamaha Parts"}),a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsx("p",{className:"text-lg mb-6 text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"We specialize in providing authentic parts for classic Yamaha motorcycles. Whether you're restoring a vintage RD350 or maintaining your classic DT, we have the parts you need."}),a.jsx("p",{className:"text-lg mb-6 text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"Our inventory includes genuine OEM parts and quality aftermarket alternatives, ensuring you can find exactly what you need at competitive prices."}),a.jsx("p",{className:"text-lg text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"With over 15 years of experience in the vintage motorcycle parts industry, we pride ourselves on our knowledge, customer service, and fast worldwide shipping."})]})]})})]})},RC=({min:t,max:e,minValue:r,maxValue:n,onChange:i,onAfterChange:s})=>{const[c,f]=ee.useState(null),g=ee.useRef(null),u=e-t,m=j=>(j-t)/u*100,v=m(r),b=m(n),_=(j,L)=>{j.preventDefault(),f(L)},C=()=>{c&&(f(null),s&&s({min:r,max:n}))},A=j=>{if(!c||!g.current)return;const L=g.current.getBoundingClientRect(),I=L.width,X=(j.type.includes("touch")?j.touches[0].clientX:j.clientX)-L.left,Y=Math.min(Math.max(X/I,0),1);let K=Math.round(Y*u+t);if(K=Math.max(t,Math.min(e,K)),c==="min"){const G=Math.min(K,n-1);i({min:G,max:n})}else if(c==="max"){const G=Math.max(K,r+1);i({min:r,max:G})}};return ee.useEffect(()=>{const j=()=>{C()},L=I=>{A(I)};return c&&(document.addEventListener("mousemove",L),document.addEventListener("mouseup",j),document.addEventListener("touchmove",L),document.addEventListener("touchend",j)),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",j),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",j)}},[c]),a.jsxs("div",{className:"relative w-full h-6 mt-8 mb-4",children:[a.jsx("div",{ref:g,className:"absolute h-2 w-full bg-gray-300 rounded-full top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"absolute h-full bg-blue-600 rounded-full",style:{left:`${v}%`,width:`${b-v}%`}})}),a.jsx("div",{className:`absolute w-5 h-5 bg-white border-2 border-blue-600 rounded-full top-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-grab ${c==="min"?"cursor-grabbing":""}`,style:{left:`${v}%`},onMouseDown:j=>_(j,"min"),onTouchStart:j=>_(j,"min"),role:"slider","aria-valuemin":t,"aria-valuemax":e,"aria-valuenow":r,tabIndex:0}),a.jsx("div",{className:`absolute w-5 h-5 bg-white border-2 border-blue-600 rounded-full top-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-grab ${c==="max"?"cursor-grabbing":""}`,style:{left:`${b}%`},onMouseDown:j=>_(j,"max"),onTouchStart:j=>_(j,"max"),role:"slider","aria-valuemin":t,"aria-valuemax":e,"aria-valuenow":n,tabIndex:0})]})},$2=({totalItems:t,itemsPerPage:e,currentPage:r,onPageChange:n,onItemsPerPageChange:i})=>{const[s,c]=ee.useState(""),f=e===-1?1:Math.ceil(t/e),g=()=>{const _=[];if(f<=5)for(let A=1;A<=f;A++)_.push(A);else{_.push(1);let A=Math.max(2,r-1),j=Math.min(f-1,r+1);r<=2&&(j=Math.min(f-1,4)),r>=f-1&&(A=Math.max(2,f-3)),A>2&&_.push("...");for(let L=A;L<=j;L++)_.push(L);j<f-1&&_.push("..."),f>1&&_.push(f)}return _},u=()=>{r>1&&n(r-1)},m=()=>{r<f&&n(r+1)},v=_=>{_.preventDefault();const C=parseInt(s,10);!isNaN(C)&&C>=1&&C<=f&&(n(C),c(""))},b=_=>{const C=_.target.value==="all"?-1:parseInt(_.target.value,10);i(C),n(1)};return f<=1?null:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-6 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Show"}),a.jsxs("select",{className:"border rounded p-1 text-sm",value:e===-1?"all":e,onChange:b,children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"}),a.jsx("option",{value:"all",children:"All"})]}),a.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:u,disabled:r===1,className:`px-3 py-1 rounded border ${r===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-slate-700 text-emerald-400 hover:bg-slate-600"}`,children:"Previous"}),g().map((_,C)=>a.jsx("button",{onClick:()=>typeof _=="number"&&n(_),className:`px-3 py-1 rounded border ${_===r?"bg-emerald-600 text-white":_==="..."?"bg-slate-600 text-slate-400 cursor-default":"bg-slate-700 text-emerald-400 hover:bg-slate-600"}`,disabled:_==="...",children:_},C)),a.jsx("button",{onClick:m,disabled:r===f,className:`px-3 py-1 rounded border ${r===f?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-600 hover:bg-blue-50"}`,children:"Next"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("form",{onSubmit:v,className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Go to"}),a.jsx("input",{type:"text",value:s,onChange:_=>c(_.target.value),className:"border rounded p-1 w-12 text-center text-sm","aria-label":"Jump to page"}),a.jsx("button",{type:"submit",className:"px-2 py-1 bg-gray-200 rounded text-sm hover:bg-gray-300",children:"Go"})]})})]})},y5=()=>{var Me;const{categoryId:t}=$d(),e=ro(),{addToCart:r}=Kd(),{success:n}=Li(),[i,s]=ee.useState([]),[c,f]=ee.useState([]),[g,u]=ee.useState(!0),[m,v]=ee.useState(null),[b,_]=ee.useState(1),[C,A]=ee.useState(12),[j,L]=ee.useState({min:0,max:99999}),[I,P]=ee.useState({min:0,max:99999}),[X,Y]=ee.useState([]),[K,G]=ee.useState({inStock:!1,outOfStock:!1}),[V,z]=ee.useState({}),[ie,W]=ee.useState("name-asc"),[H,ne]=ee.useState({categories:!0,priceRange:!0,availability:!0,sortOptions:!0}),[ve,me]=ee.useState(!1),[he,be]=ee.useState(t?String(t):"all"),Pe=ee.useRef(!1),Ae=new URLSearchParams(e.search).get("search");ee.useEffect(()=>{if(Pe.current=!0,t){const Oe=String(t);be(Oe),Y(ze=>ze.length===0?[Oe]:ze)}else be("all"),Y([]);setTimeout(()=>{Pe.current=!1},0)},[t]),ee.useEffect(()=>{we(null,null,function*(){try{const st=(yield G2()).map(ct=>er(kt({},ct),{id:String(ct.id)}));f(st)}catch(ze){console.error("Error fetching categories:",ze)}})},[]),ee.useEffect(()=>{if(Pe.current)return;we(null,null,function*(){u(!0);try{let ze;if(Ae)console.log(" Using search API for query:",Ae),ze={products:yield av(Ae),pagination:null};else{console.log(" Using paginated API for product listing");let st=[];if(t&&X.length===0?(st=[String(t)],console.log(" Using URL category:",t)):X.length>0&&(st=X,console.log(" Using selected categories:",X)),ze=yield Nu({page:b,limit:C,sortBy:"created_at",sortOrder:"desc",categories:st.length>0?st.join(","):void 0,minPrice:j.min>0?j.min:void 0,maxPrice:j.max<99999?j.max:void 0}),t&&X.length===0){const ct=String(t);be(ct)}}s(ze.products||[]),v(ze.pagination)}catch(ze){console.error("Error fetching products:",ze),s([]),v(null)}finally{u(!1)}})},[t,Ae,b,C,X,j]);const se=()=>{Y([]);const Oe={min:0,max:99999};L(Oe),P(Oe),G({inStock:!1,outOfStock:!1}),be("all")},Le=Oe=>{ne(ze=>er(kt({},ze),{[Oe]:!ze[Oe]}))},M=Oe=>{Y(ze=>ze.includes(Oe)?ze.filter(st=>st!==Oe):[...ze,Oe])},q=Oe=>{P(Oe)},J=Oe=>{L(Oe)},re=Oe=>{G(ze=>er(kt({},ze),{[Oe]:!ze[Oe]}))},le=Oe=>{W(Oe.target.value)},Ue=[...i].filter(Oe=>{let ze=!0;return K.inStock&&!K.outOfStock?ze=Oe.quantity>0:!K.inStock&&K.outOfStock&&(ze=Oe.quantity<=0),ze}).sort((Oe,ze)=>{switch(ie){case"name-asc":return Oe.name.localeCompare(ze.name);case"name-desc":return ze.name.localeCompare(Oe.name);case"price-asc":return parseFloat(Oe.price)-parseFloat(ze.price);case"price-desc":return parseFloat(ze.price)-parseFloat(Oe.price);default:return 0}});console.log(" ProductList: After filtering:",{originalCount:i.length,filteredCount:Ue.length,sampleFiltered:Ue.slice(0,2).map(Oe=>({id:Oe.id,name:Oe.name}))});const Te=Oe=>we(null,null,function*(){if(!V[Oe.id]){z(ze=>er(kt({},ze),{[Oe.id]:!0}));try{yield r(Oe),n(`${Oe.name} added to cart!`)}catch(ze){console.error("Failed to add to cart:",ze)}finally{z(ze=>er(kt({},ze),{[Oe.id]:!1}))}}});return a.jsx("div",{className:"min-h-screen bg-[#1a1a1a]",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:Ae?`Search Results for "${Ae}"`:t?`${((Me=c.find(Oe=>Oe.id===t))==null?void 0:Me.name)||"Category"} Parts`:"Parts Catalog"}),a.jsxs("div",{className:"flex flex-col md:flex-row mb-8",children:[a.jsxs("div",{className:"w-full md:w-1/4 mb-4 md:mb-0 md:mr-6",children:[a.jsx("div",{className:"md:hidden mb-4",children:a.jsxs("button",{onClick:()=>me(Oe=>!Oe),className:"btn-primary w-full py-2 px-4 flex items-center justify-center",children:[a.jsx("span",{className:"mr-2",children:ve?"Hide Filters":"Show Filters"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})]})}),a.jsxs("div",{className:`bg-[#242424] border border-[#333] rounded-lg p-4 ${!ve&&"hidden md:block"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Filters"}),a.jsx("button",{onClick:se,className:"text-sm text-[#B8860B] hover:text-[#d4a50d]",children:"Clear All"})]}),a.jsxs("div",{className:"mb-6 border-b border-[#444] pb-4",children:[a.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-[#D4CFC0] mb-2",onClick:()=>Le("categories"),children:[a.jsx("span",{children:"Categories"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${H.categories?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),H.categories&&a.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#333] border border-[#444] rounded p-2 mt-2",children:c.map(Oe=>{const ze=String(Oe.id);return a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:`category-${ze}`,checked:X.includes(ze),onChange:()=>M(ze),className:"mr-2 accent-[#8B2332]"}),a.jsx("label",{htmlFor:`category-${ze}`,className:"text-sm text-[#D4CFC0]",children:Oe.name})]},ze)})})]}),a.jsxs("div",{className:"mb-6 border-b pb-4",children:[a.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>Le("priceRange"),children:[a.jsx("span",{children:"Price Range"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${H.priceRange?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),H.priceRange&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["$",I.min]}),a.jsxs("span",{className:"text-sm font-medium",children:["$",I.max===99999?"99999+":I.max]})]}),a.jsx(RC,{min:0,max:1e3,minValue:Math.min(I.min,1e3),maxValue:Math.min(I.max,1e3),onChange:Oe=>{const ze={min:Oe.min,max:Oe.max===1e3?99999:Oe.max};q(ze)},onAfterChange:Oe=>{const ze={min:Oe.min,max:Oe.max===1e3?99999:Oe.max};J(ze)}}),a.jsxs("div",{className:"flex space-x-2 mt-4",children:[a.jsx("div",{className:"w-1/2",children:a.jsx("input",{type:"number",placeholder:"Min",value:I.min,onChange:Oe=>{const ze=parseInt(Oe.target.value,10);if(!isNaN(ze)){const st=Math.max(0,Math.min(ze,I.max-1));q({min:st,max:I.max})}},onBlur:()=>J(I),className:"w-full p-2 border rounded text-sm",min:0,max:I.max-1})}),a.jsx("div",{className:"w-1/2",children:a.jsx("input",{type:"number",placeholder:"Max",value:I.max,onChange:Oe=>{const ze=parseInt(Oe.target.value,10);if(!isNaN(ze)){const st=Math.min(99999,Math.max(ze,I.min+1));q({min:I.min,max:st})}},onBlur:()=>J(I),className:"w-full p-2 border rounded text-sm",min:I.min+1,max:99999})})]})]})]}),a.jsxs("div",{className:"mb-6 border-b pb-4",children:[a.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>Le("availability"),children:[a.jsx("span",{children:"Availability"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${H.availability?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),H.availability&&a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"availability-in-stock",checked:K.inStock,onChange:()=>re("inStock"),className:"mr-2"}),a.jsx("label",{htmlFor:"availability-in-stock",className:"text-sm",children:"In Stock"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"availability-out-of-stock",checked:K.outOfStock,onChange:()=>re("outOfStock"),className:"mr-2"}),a.jsx("label",{htmlFor:"availability-out-of-stock",className:"text-sm",children:"Out of Stock"})]})]})]}),a.jsxs("div",{children:[a.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>Le("sortOptions"),children:[a.jsx("span",{children:"Sort By"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${H.sortOptions?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),H.sortOptions&&a.jsxs("select",{className:"w-full p-2 border rounded mt-2",value:ie,onChange:le,children:[a.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),a.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),a.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),a.jsx("option",{value:"price-desc",children:"Price (High to Low)"})]})]})]})]}),a.jsxs("div",{className:"w-full md:w-3/4",children:[(X.length>0||j.min!==0||j.max!==1e3||K.inStock||K.outOfStock)&&a.jsx("div",{className:"bg-gray-100 p-3 rounded mb-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Active Filters:"}),X.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:X.map(Oe=>{const ze=String(Oe);console.log(`Looking for category with ID: ${ze}`);const st=c.find(ct=>String(ct.id)===ze);return console.log("Found category:",st),st?a.jsxs("span",{className:"bg-emerald-600 text-emerald-100 text-xs px-2 py-1 rounded-full flex items-center",children:[st.name,a.jsx("button",{onClick:()=>M(ze),className:"ml-1 text-emerald-100 hover:text-white",children:""})]},ze):null})}),(j.min>0||j.max<99999)&&a.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center",children:["Price: $",j.min," - $",j.max===99999?"Any":j.max,a.jsx("button",{onClick:()=>{const Oe={min:0,max:99999};L(Oe),P(Oe)},className:"ml-1 text-green-800 hover:text-green-900",title:"Clear price filter",children:""})]}),(K.inStock||K.outOfStock)&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[K.inStock&&a.jsxs("span",{className:"bg-emerald-600 text-emerald-100 text-xs px-2 py-1 rounded-full flex items-center",children:["In Stock",a.jsx("button",{onClick:()=>re("inStock"),className:"ml-1 text-emerald-100 hover:text-white",children:""})]}),K.outOfStock&&a.jsxs("span",{className:"bg-slate-600 text-slate-100 text-xs px-2 py-1 rounded-full flex items-center",children:["Out of Stock",a.jsx("button",{onClick:()=>re("outOfStock"),className:"ml-1 text-slate-100 hover:text-white",children:""})]})]}),a.jsx("button",{onClick:se,className:"text-xs text-red-600 hover:text-red-800 ml-auto",children:"Clear All Filters"})]})}),g?a.jsx("div",{className:"text-center py-8",children:a.jsx(fn,{size:"xl",text:"Loading products...",variant:"gear"})}):i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-xl text-gray-600",children:"No products available."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Check your internet connection or try refreshing the page."})]}):Ue.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-xl text-gray-600",children:"No products match your filters."}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Found ",i.length," total products, but none match your current filters."]}),(X.length>0||j.min>0||j.max<99999||K.inStock||K.outOfStock)&&a.jsxs("button",{onClick:se,className:"mt-4 text-blue-600 hover:text-blue-800",children:["Clear all filters to see all ",i.length," products"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",Ue.length," ",Ue.length===1?"product":"products",i.length>Ue.length&&` (filtered from ${i.length})`]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ue.filter(Oe=>Oe&&Oe.id&&Oe.name).map(Oe=>a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden group hover:border-[#8B2332] transition-all duration-300",children:[a.jsxs("div",{className:"h-48 relative bg-slate-700",children:[a.jsx(_0,{src:Ru(Oe.image_url),alt:Oe.name,className:"w-full h-full object-contain",placeholderText:"No Image Available",loading:"lazy"}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx(ov,{product:Oe,size:"md",variant:"icon"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-1 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:Oe.name}),a.jsx("p",{className:"text-sm text-[#A8A090] mb-2",children:Oe.category_name}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("span",{className:"text-sm bg-emerald-600 text-emerald-100 px-2 py-1 rounded",children:Oe.condition_status}),a.jsx("span",{className:`ml-2 text-sm font-semibold px-2 py-1 rounded ${Oe.quantity<=0?"bg-red-600/20 text-red-400":"bg-green-600/20 text-green-400"}`,children:Oe.quantity>0?" Available":" Out of stock"})]}),a.jsxs("p",{className:"text-[#8B2332] font-bold text-xl mb-3",children:["$",parseFloat(Oe.price).toFixed(2)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Zt,{to:`/products/${Oe.id}`,className:"btn-vintage-gray px-4 py-2 text-sm",children:"Details"}),a.jsx("button",{onClick:()=>Te(Oe),className:`btn-primary flex items-center justify-center px-4 py-2 text-sm ${Oe.quantity<=0||V[Oe.id]?"opacity-50 cursor-not-allowed":""}`,disabled:Oe.quantity<=0||V[Oe.id],children:V[Oe.id]?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Adding..."]}):"Add to Cart"})]})]})]},Oe.id))}),!Ae&&m&&a.jsxs("div",{className:"mt-8",children:[a.jsx($2,{totalItems:m.totalItems,itemsPerPage:C,currentPage:b,onPageChange:_,onItemsPerPageChange:A}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:["Showing ",(b-1)*C+1," to ",Math.min(b*C,m.totalItems)," of ",m.totalItems," products"]})]})]})]})]})]})})},kC=(r,...n)=>we(null,[r,...n],function*(t,e={}){try{const{page:i=1,limit:s=10,sort:c="newest"}=e;console.log(` Fetching reviews for product ${t}`);const f=new URLSearchParams({product_id:t,page:i.toString(),limit:s.toString(),sort:c}),g=yield Xr.get(`/reviews?${f}`);if(g.data.success)return g.data.data;throw new Error(g.data.message||"Failed to fetch product reviews")}catch(i){throw console.error("Error fetching product reviews:",i),i}}),LC=t=>we(null,null,function*(){try{const{productId:e,rating:r,title:n,text:i}=t;if(console.log(` Creating review for product ${e}`),!e||!r||r<1||r>5)throw new Error("Product ID and valid rating (1-5) are required");const s=yield Xr.post("/reviews",{product_id:e,rating:parseInt(r),title:n||null,comment:i||null});if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to create review")}catch(e){throw console.error("Error creating review:",e),e}}),N6=t=>we(null,null,function*(){try{console.log(` Deleting review ${t}`);const e=yield Xr.delete(`/reviews?review_id=${t}`);if(e.data.success)return!0;throw new Error(e.data.message||"Failed to delete review")}catch(e){throw console.error("Error deleting review:",e),e}}),IC=(t,e)=>we(null,null,function*(){try{console.log(` Voting on review ${t}: ${e?"helpful":"not helpful"}`);const r=yield Xr.post("/reviews/helpful",{review_id:t,is_helpful:e});if(r.data.success)return r.data.data;throw new Error(r.data.message||"Failed to vote on review helpfulness")}catch(r){throw console.error("Error voting on review helpfulness:",r),r}}),DC=(...e)=>we(null,[...e],function*(t={}){try{const{page:r=1,limit:n=20,status:i="all"}=t;console.log(" Fetching all reviews (admin)");const s=new URLSearchParams({page:r.toString(),limit:n.toString(),status:i}),c=yield Xr.get(`/reviews?${s}`);if(c.data.success)return c.data.data;throw new Error(c.data.message||"Failed to fetch all reviews")}catch(r){throw console.error("Error fetching all reviews:",r),r}}),PC=(t,e)=>we(null,null,function*(){try{console.log(` Moderating review ${t}: ${e?"approved":"rejected"}`);const r=yield Xr.put(`/reviews?review_id=${t}`,{is_approved:e});if(r.data.success)return r.data.data;throw new Error(r.data.message||"Failed to moderate review")}catch(r){throw console.error("Error moderating review:",r),r}}),A6=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),FC=t=>{const e=new Date(t),n=Math.floor((new Date-e)/1e3);if(n<60)return"Just now";if(n<3600){const i=Math.floor(n/60);return`${i} minute${i>1?"s":""} ago`}else if(n<86400){const i=Math.floor(n/3600);return`${i} hour${i>1?"s":""} ago`}else if(n<2592e3){const i=Math.floor(n/86400);return`${i} day${i>1?"s":""} ago`}else return A6(t)},X2=({rating:t=0,maxRating:e=5,size:r="md",interactive:n=!1,onChange:i=null,showValue:s=!1,className:c="",precision:f=1})=>{const[g,u]=ee.useState(0),[m,v]=ee.useState(t),b={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"},_={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},C=b[r]||b.md,A=_[r]||_.md,j=K=>{!n||!i||(v(K),i(K))},L=K=>{n&&u(K)},I=()=>{n&&u(0)},P=K=>{const G=n&&g>0?g:m||t,V=K+1;if(G>=V)return 100;if(G>K&&G<V){const z=(G-K)*100;return Math.min(100,Math.max(0,z))}else return 0},X=K=>{const G=P(K),V=K+1,z=n&&i;return a.jsxs("div",{className:`relative inline-block ${z?"cursor-pointer":""}`,onClick:()=>j(V),onMouseEnter:()=>L(V),onMouseLeave:I,children:[a.jsx("svg",{className:`${C} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),G>0&&a.jsx("div",{className:"absolute top-0 left-0 overflow-hidden",style:{width:`${G}%`},children:a.jsx("svg",{className:`${C} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},K)},Y=n&&g>0?g:m||t;return a.jsxs("div",{className:`flex items-center space-x-1 ${c}`,children:[a.jsx("div",{className:"flex items-center space-x-0.5",children:Array.from({length:e},(K,G)=>X(G))}),s&&a.jsx("span",{className:`ml-2 font-medium text-gray-700 ${A}`,children:Y>0?Y.toFixed(1):"0.0"})]})},C6=({rating:t=0,reviewCount:e=0,size:r="md",showCount:n=!0,className:i=""})=>{const s={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},c=s[r]||s.md;return a.jsxs("div",{className:`flex items-center space-x-2 ${i}`,children:[a.jsx(X2,{rating:t,size:r,interactive:!1,showValue:!0}),n&&a.jsxs("span",{className:`text-gray-500 ${c}`,children:["(",e," ",e===1?"review":"reviews",")"]})]})},BC=({value:t=0,onChange:e,size:r="lg",required:n=!1,error:i=null,label:s="Rating",className:c=""})=>{const[f,g]=ee.useState(t),u=m=>{g(m),e&&e(m)};return a.jsxs("div",{className:`space-y-2 ${c}`,children:[s&&a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s," ",n&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(X2,{rating:f,size:r,interactive:!0,onChange:u,showValue:!1}),a.jsx("span",{className:"text-sm text-gray-600",children:f>0?`${f} star${f>1?"s":""}`:"Click to rate"})]}),i&&a.jsx("p",{className:"text-sm text-red-600",children:i})]})},MC=({distribution:t={},totalReviews:e=0,className:r=""})=>(Math.max(...Object.values(t)),a.jsx("div",{className:`space-y-2 ${r}`,children:[5,4,3,2,1].map(n=>{const i=t[n]||0,s=e>0?i/e*100:0;return a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-1 w-12",children:[a.jsx("span",{className:"text-sm font-medium",children:n}),a.jsx("svg",{className:"w-3 h-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${s}%`}})}),a.jsx("span",{className:"text-sm text-gray-600 w-8 text-right",children:i})]},n)})})),Zd=({isOpen:t,onClose:e,onConfirm:r,title:n="Confirm Action",message:i="Are you sure you want to proceed?",confirmText:s="Confirm",cancelText:c="Cancel",confirmButtonClass:f="bg-red-600 hover:bg-red-700"})=>{const[g,u]=ee.useState(!1);ee.useEffect(()=>{u(!!t)},[t]);const m=()=>{r(),e()};return t?a.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[a.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${g?"opacity-50":"opacity-0"}`,onClick:e}),a.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-6 text-center sm:p-0",children:a.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full ${g?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:a.jsxs("div",{className:"sm:flex sm:items-start",children:[a.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:a.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-gray-500",children:i})})]})]})}),a.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[a.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm ${f}`,onClick:m,children:s}),a.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:e,children:c})]})]})})]}):null},Jd=()=>{const[t,e]=ee.useState(!1),[r,n]=ee.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),[i,s]=ee.useState([]),c=ee.useCallback(()=>{e(!1),i[1]&&i[1]()},[i]),f=ee.useCallback(()=>{e(!1),i[0]&&i[0]()},[i]),g=ee.useCallback((u={})=>new Promise((m,v)=>{n(kt(kt({},r),u)),s([m,v]),e(!0)}),[r]);return{isOpen:t,confirm:g,handleClose:c,handleConfirm:f,dialogProps:r}},UC=({productId:t,productName:e})=>{const[r,n]=ee.useState([]),[i,s]=ee.useState({averageRating:0,totalReviews:0,ratingDistribution:{}}),[c,f]=ee.useState(!0),[g,u]=ee.useState(null),[m,v]=ee.useState(!1),[b,_]=ee.useState("newest"),[C,A]=ee.useState(1),[j,L]=ee.useState({}),{user:I,isAuthenticated:P}=Ta(),{success:X,error:Y}=Li(),{isOpen:K,confirm:G,handleClose:V,handleConfirm:z,dialogProps:ie}=Jd();ee.useEffect(()=>{W()},[t,b,C]);const W=()=>we(null,null,function*(){try{f(!0),u(null);const he=yield kC(t,{page:C,limit:10,sort:b});n(he.reviews||[]),s(he.statistics||{averageRating:0,totalReviews:0,ratingDistribution:{}}),L(he.pagination||{})}catch(he){u(he.message),Y("Failed to load reviews: "+he.message)}finally{f(!1)}}),H=he=>we(null,null,function*(){try{const be=yield LC(kt({productId:t},he));X("Review submitted successfully!"),v(!1),W()}catch(be){Y("Failed to submit review: "+be.message)}}),ne=he=>we(null,null,function*(){try{yield G({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield N6(he),X("Review deleted successfully"),W()}catch(be){Y("Failed to delete review: "+be.message)}}catch(be){console.log("Review deletion cancelled")}}),ve=(he,be)=>we(null,null,function*(){if(!P){Y("Please log in to vote on reviews");return}try{yield IC(he,be),X("Vote recorded successfully"),W()}catch(Pe){Y("Failed to record vote: "+Pe.message)}}),me=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"highest_rating",label:"Highest Rating"},{value:"lowest_rating",label:"Lowest Rating"},{value:"most_helpful",label:"Most Helpful"}];return c&&r.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx(fn,{size:"lg",text:"Loading reviews..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:i.averageRating.toFixed(1)}),a.jsx("div",{children:a.jsx(C6,{rating:i.averageRating,reviewCount:i.totalReviews,size:"lg"})})]}),P&&a.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Write a Review"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Rating Breakdown"}),a.jsx(MC,{distribution:i.ratingDistribution,totalReviews:i.totalReviews})]})]})]}),m&&a.jsx(HC,{productName:e,onSubmit:H,onCancel:()=>v(!1)}),a.jsxs("div",{className:"space-y-6",children:[r.length>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[i.totalReviews," Review",i.totalReviews!==1?"s":""]}),a.jsx("select",{value:b,onChange:he=>_(he.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:me.map(he=>a.jsx("option",{value:he.value,children:he.label},he.value))})]}),g?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-red-600 mb-4",children:g}),a.jsx("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-500 mb-4",children:"No reviews yet"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Be the first to review this product!"}),P&&a.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Write the First Review"})]}):a.jsx("div",{className:"space-y-6",children:r.map(he=>a.jsx(zC,{review:he,currentUser:I,onDelete:ne,onHelpfulVote:ve},he.id))}),j.totalPages>1&&a.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[a.jsx("button",{onClick:()=>A(he=>Math.max(1,he-1)),disabled:C===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:j.totalPages},(he,be)=>be+1).map(he=>a.jsx("button",{onClick:()=>A(he),className:`px-3 py-2 border rounded-lg ${C===he?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:he},he)),a.jsx("button",{onClick:()=>A(he=>Math.min(j.totalPages,he+1)),disabled:C===j.totalPages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),a.jsx(Zd,{isOpen:K,onClose:V,onConfirm:z,title:ie.title,message:ie.message,confirmText:ie.confirmText,cancelText:ie.cancelText,confirmButtonClass:ie.confirmButtonClass})]})},zC=({review:t,currentUser:e,onDelete:r,onHelpfulVote:n})=>{const i=e&&e.id===t.user.id;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(X2,{rating:t.rating,size:"sm"}),a.jsx("span",{className:"font-semibold text-gray-900",children:t.user.name}),t.isVerifiedPurchase&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:FC(t.createdAt)})]}),i&&a.jsx("button",{onClick:()=>r(t.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]}),a.jsxs("div",{className:"space-y-3",children:[t.title&&a.jsx("h4",{className:"font-semibold text-gray-900",children:t.title}),t.text&&a.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.text})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>n(t.id,!0),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L9 7m5 3v10M9 7H6a2 2 0 00-2 2v8a2 2 0 002 2h8.5"})}),a.jsxs("span",{children:["Helpful (",t.helpfulCount,")"]})]}),a.jsxs("button",{onClick:()=>n(t.id,!1),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L15 17m-5-3v-10M15 17h4a2 2 0 002-2V7a2 2 0 00-2-2H6.5"})}),a.jsxs("span",{children:["Not Helpful (",t.notHelpfulCount||0,")"]})]})]}),a.jsx("div",{className:"text-sm text-gray-500",children:A6(t.createdAt)})]})]})},HC=({productName:t,onSubmit:e,onCancel:r})=>{const[n,i]=ee.useState({rating:0,title:"",text:""}),[s,c]=ee.useState(!1),[f,g]=ee.useState({}),u=()=>{const v={};return(!n.rating||n.rating<1||n.rating>5)&&(v.rating="Please select a rating"),n.title&&n.title.length>255&&(v.title="Title must be 255 characters or less"),n.text&&n.text.length>5e3&&(v.text="Review must be 5000 characters or less"),g(v),Object.keys(v).length===0},m=v=>we(null,null,function*(){if(v.preventDefault(),!!u()){c(!0);try{yield e(n)}finally{c(!1)}}});return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Write a Review"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("h4",{className:"font-semibold text-gray-900",children:t})}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsx(BC,{value:n.rating,onChange:v=>i(b=>er(kt({},b),{rating:v})),required:!0,error:f.rating,label:"Overall Rating"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title (Optional)"}),a.jsx("input",{type:"text",value:n.title,onChange:v=>i(b=>er(kt({},b),{title:v.target.value})),placeholder:"Summarize your review",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:255}),f.title&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review (Optional)"}),a.jsx("textarea",{value:n.text,onChange:v=>i(b=>er(kt({},b),{text:v.target.value})),placeholder:"Share your experience with this product",rows:6,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:5e3}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[f.text&&a.jsx("p",{className:"text-sm text-red-600",children:f.text}),a.jsxs("p",{className:"text-sm text-gray-500 ml-auto",children:[n.text.length,"/5000 characters"]})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-6",children:[a.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit Review"})]})]})]})})})},qC=()=>{const{id:t}=$d(),e=Ps(),{addToCart:r,error:n}=Kd(),{success:i,error:s}=Li(),[c,f]=ee.useState(null),[g,u]=ee.useState(!0),[m,v]=ee.useState(null),[b,_]=ee.useState(1),[C,A]=ee.useState(!1),[j,L]=ee.useState(!1);ee.useEffect(()=>{n&&s(n)},[n,s]),ee.useEffect(()=>{we(null,null,function*(){u(!0);try{const K=yield V2(t);f(K)}catch(K){console.error("Error fetching product:",K),v(K.message||"Failed to load product")}finally{u(!1)}})},[t]);const I=Y=>{const K=parseInt(Y.target.value);K>0&&K<=c.quantity&&_(K)},P=()=>we(null,null,function*(){if(!C){A(!0);try{yield r(c,b),i(`${b} ${c.name} added to cart!`)}catch(Y){const K=n||Y.message||"Failed to add item to cart";s(K),console.error("Failed to add to cart:",Y)}finally{A(!1)}}}),X=()=>we(null,null,function*(){if(!j){L(!0);try{yield r(c,b),e("/cart")}catch(Y){const K=n||Y.message||"Failed to add item to cart";s(K),console.error("Failed to add to cart for buy now:",Y)}finally{L(!1)}}});return g?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading product details...",variant:"gear"})}):m?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-600 mb-4",children:m}),a.jsx(Zt,{to:"/products",className:"text-blue-600 hover:underline",children:"Back to Products"})]}):c?a.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(Zt,{to:"/products",className:"text-[#B8860B] hover:text-[#d4a50d] flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Parts Catalog"]})}),a.jsx("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden",children:a.jsxs("div",{className:"md:flex",children:[a.jsx("div",{className:"md:w-1/2 h-64 md:h-auto bg-[#333]",children:a.jsx(_0,{src:Ru(c.image_url),alt:c.name,className:"w-full h-full object-contain",placeholderText:"No Image Available"})}),a.jsxs("div",{className:"md:w-1/2 p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:c.name}),a.jsx("div",{className:"mb-2",children:a.jsx(C6,{rating:4.5,reviewCount:0,size:"md"})}),a.jsxs("p",{className:"text-[#A8A090]",children:["Category: ",c.category_name]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("span",{className:"bg-[#8B2332] text-[#F5F0E1] px-3 py-1 rounded-full text-sm font-semibold mr-3",children:c.condition_status}),a.jsx("span",{className:`text-sm font-semibold ${c.quantity>0?"text-[#B8860B]":"text-red-400"}`,children:c.quantity>0?" Available":" Out of stock"})]}),a.jsxs("p",{className:"text-3xl font-bold text-[#8B2332]",children:["$",parseFloat(c.price).toFixed(2)]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Description"}),a.jsx("p",{className:"text-[#D4CFC0]",style:{fontFamily:"'Roboto Slab', serif"},children:c.description})]}),c.quantity>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-[#D4CFC0] mb-2",children:"Quantity"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{className:"bg-[#333] text-[#F5F0E1] px-3 py-1 rounded-l hover:bg-[#444] transition-colors",onClick:()=>b>1&&_(b-1),children:"-"}),a.jsx("input",{type:"number",min:"1",max:c.quantity,value:b,onChange:I,className:"form-input-vintage w-16 text-center border-t border-b border-[#444] py-1 rounded-none"}),a.jsx("button",{className:"bg-[#333] text-[#F5F0E1] px-3 py-1 rounded-r hover:bg-[#444] transition-colors",onClick:()=>b<c.quantity&&_(b+1),children:"+"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[a.jsx("button",{onClick:P,className:`btn-vintage-red flex items-center justify-center ${c.quantity<=0||C?"opacity-50 cursor-not-allowed":""}`,disabled:c.quantity<=0||C,children:C?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to Cart"]})}),a.jsx(ov,{product:c,size:"lg",variant:"button",className:"flex-shrink-0"}),a.jsx("button",{onClick:X,className:`btn-vintage-gray flex items-center justify-center ${c.quantity<=0||j?"opacity-50 cursor-not-allowed":""}`,disabled:c.quantity<=0||j,children:j?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Buy Now"]})})]})]})]})}),a.jsx("div",{className:"mt-12",children:a.jsx(UC,{productId:c.id,productName:c.name})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-xl mb-4",children:"Product not found"}),a.jsx(Zt,{to:"/products",className:"text-blue-600 hover:underline",children:"Back to Products"})]})},WC=()=>{const{cart:t,total:e,loading:r,error:n,updateQuantity:i,removeFromCart:s,clearCart:c}=Kd(),{isAuthenticated:f}=Ta(),g=Ps(),{isOpen:u,confirm:m,handleClose:v,handleConfirm:b,dialogProps:_}=Jd(),[C,A]=ee.useState(new Set),j=(X,Y,K,G=null)=>{K>0&&i(X,Y,K,G)},L=(X,Y)=>we(null,null,function*(){try{yield m({title:"Remove Item",message:"Are you sure you want to remove this item from your cart?",confirmText:"Remove",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});const K=`${X}-${Y}`;A(G=>new Set([...G,K]));try{yield s(X,Y)}finally{A(G=>{const V=new Set(G);return V.delete(K),V})}}catch(K){console.log("Item removal cancelled")}}),I=()=>we(null,null,function*(){try{yield m({title:"Clear Cart",message:"Are you sure you want to clear your entire cart? This action cannot be undone.",confirmText:"Clear Cart",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),c()}catch(X){console.log("Clear cart cancelled")}}),P=()=>{f()?g("/checkout"):g("/login",{state:{from:"/checkout"}})};return a.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[a.jsx(Zd,{isOpen:u,onClose:v,onConfirm:b,title:_.title,message:_.message,confirmText:_.confirmText,cancelText:_.cancelText,confirmButtonClass:_.confirmButtonClass}),a.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Your Cart"}),r?a.jsx("div",{className:"text-center py-12 card",children:a.jsx(fn,{size:"xl",text:"Loading your cart...",variant:"gear"})}):n?a.jsxs("div",{className:"text-center py-12 card",children:[a.jsx("p",{className:"text-xl text-red-600 mb-6",children:n}),a.jsx(Zt,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Browse Products"})]}):t.length===0?a.jsxs("div",{className:"text-center py-12 bg-[#242424] border border-[#333] rounded-lg",children:[a.jsx("p",{className:"text-xl text-[#A8A090] mb-6",children:"Your cart is empty"}),a.jsx(Zt,{to:"/products",className:"btn-vintage-red inline-block",children:"Continue Shopping"})]}):a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsxs("div",{className:"lg:w-2/3",children:[a.jsx("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-[#333]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 text-[#F5F0E1]",children:"Product"}),a.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Price"}),a.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Quantity"}),a.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Total"}),a.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-[#444]",children:t.map(X=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 mb-2 sm:mb-0 sm:mr-4",children:X.image_url?a.jsx("img",{src:Ru(X.image_url),alt:X.name,className:"w-full h-full object-cover",onError:Y=>TC(Y)}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-xs",children:"No image"})}),a.jsxs("div",{children:[a.jsx(Zt,{to:`/products/${X.product_id}`,className:"font-semibold text-[#F5F0E1] hover:text-[#B8860B]",children:X.name}),X.stock_quantity&&X.stock_quantity<5&&a.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Only ",X.stock_quantity," left in stock!"]})]})]})}),a.jsxs("td",{className:"p-4 text-center text-[#D4CFC0]",children:["$",parseFloat(X.price).toFixed(2)]}),a.jsxs("td",{className:"p-4 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("button",{className:"bg-gray-200 px-2 py-1 rounded-l hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed",onClick:()=>j(X.id,X.product_id,X.quantity-1,X.stock_quantity),disabled:X.quantity<=1,children:"-"}),a.jsx("input",{type:"number",min:"1",max:X.stock_quantity||999,value:X.quantity,onChange:Y=>{const K=parseInt(Y.target.value);isNaN(K)||j(X.id,X.product_id,K,X.stock_quantity)},className:"w-16 text-center border-t border-b py-1"}),a.jsx("button",{className:"bg-gray-200 px-2 py-1 rounded-r hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed",onClick:()=>j(X.id,X.product_id,X.quantity+1,X.stock_quantity),disabled:X.stock_quantity&&X.quantity>=X.stock_quantity,children:"+"})]}),X.stock_quantity&&X.quantity>=X.stock_quantity&&a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Maximum stock reached"})]}),a.jsxs("td",{className:"p-4 text-center font-semibold text-[#8B2332]",children:["$",X.subtotal?parseFloat(X.subtotal).toFixed(2):(parseFloat(X.price)*X.quantity).toFixed(2)]}),a.jsx("td",{className:"p-4 text-center",children:(()=>{const Y=`${X.id}-${X.product_id}`,K=C.has(Y);return a.jsx("button",{onClick:()=>L(X.id,X.product_id),className:`${K?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800"}`,"aria-label":"Remove item",disabled:K,children:K?a.jsx("svg",{className:"animate-spin h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})})()})]},X.id))})]})}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between gap-4",children:[a.jsxs(Zt,{to:"/products",className:"text-blue-800 hover:underline flex items-center justify-center sm:justify-start",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Continue Shopping"]}),a.jsxs("button",{onClick:I,className:"text-red-600 hover:underline flex items-center justify-center sm:justify-end",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Clear Cart"]})]})]}),a.jsx("div",{className:"lg:w-1/3",children:a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mt-6 lg:mt-0",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),a.jsxs("div",{className:"border-t border-b border-[#444] py-4 mb-4",children:[a.jsxs("div",{className:"flex justify-between mb-2 text-[#D4CFC0]",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",e.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:"Calculated at checkout"})]}),a.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[a.jsx("span",{children:"Tax"}),a.jsx("span",{children:"Calculated at checkout"})]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-lg mb-6 text-[#F5F0E1]",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-[#8B2332]",children:["$",e.toFixed(2)]})]}),a.jsx("button",{onClick:P,className:"btn-vintage-red w-full",disabled:r||t.length===0,children:r?"Loading...":"Proceed to Checkout"})]})})]})]})},T6=()=>we(null,null,function*(){console.log("=== FETCHING MY ORDERS ===");try{const t=yield Xr.get("/orders");console.log("Orders fetched successfully:",t.data);let e=[];if(t.data&&t.data.data)e=t.data.data;else if(Array.isArray(t.data))e=t.data;else return console.warn("Unexpected response format:",t.data),[];return e.map(n=>er(kt({},n),{items:(n.order_items||[]).map(i=>{var s;return console.log("Transforming order item:",i),kt({id:i.id,product_id:i.product_id,quantity:i.quantity||0,price:i.price||0,product_name:((s=i.product)==null?void 0:s.name)||"Unknown Product"},i)})}))}catch(t){return console.error("Error fetching orders:",t),t.response&&(console.error("Response status:",t.response.status),console.error("Response data:",t.response.data)),[]}}),VC=()=>we(null,null,function*(){console.log("=== CREATING TEST ORDER ===");try{const t={shipping_address:"Test Address, Test City, Test State 12345",payment_method:"test",items:[{product_id:1,quantity:1,price:10}],payment_status:"completed",transaction_id:"test_"+Date.now(),reference_number:"TEST_"+Date.now(),order_number:"ORD_"+Date.now(),first_name:"Test",last_name:"User",email:"test@example.com",city:"Test City",state:"Test State",zip_code:"12345",phone:"555-0123"},e=yield Xr.post("/orders",t);return console.log("Test order created successfully:",e.data),e.data.data?[e.data.data]:[]}catch(t){return console.error("Error creating test order:",t),t.response&&(console.error("Response status:",t.response.status),console.error("Response data:",t.response.data)),[]}}),j6=t=>we(null,null,function*(){console.log("=== FETCHING ORDER BY ID ===",t);try{const e=yield Xr.get("/orders");console.log("Orders fetched successfully:",e.data);let r=[];e.data&&e.data.data?r=e.data.data:Array.isArray(e.data)&&(r=e.data);const n=r.find(i=>i.id==t);if(n){console.log("Order found:",n);const i=er(kt({},n),{items:(n.order_items||[]).map(s=>{var c;return console.log("Transforming order item for single order:",s),kt({id:s.id,product_id:s.product_id,quantity:s.quantity||0,price:s.price||0,product_name:((c=s.product)==null?void 0:c.name)||"Unknown Product"},s)})});return console.log("Transformed order:",i),i}else return console.log("Order not found with ID:",t),null}catch(e){return console.error("Error fetching order:",e),e.response&&(console.error("Response status:",e.response.status),console.error("Response data:",e.response.data)),null}}),GC=t=>we(null,null,function*(){var e,r,n,i;console.log("=== CREATE ORDER API CALL ==="),console.log("Order data:",t);try{console.log("Sending request to: /orders");const s=yield Xr.post("/orders",t);return console.log("Order creation response:",s.data),console.log("=== CREATE ORDER API CALL SUCCESS ==="),s.data}catch(s){throw console.error("=== CREATE ORDER API CALL ERROR ==="),console.error("Error creating order:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(e=s.response)==null?void 0:e.data),console.error("Error response status:",(r=s.response)==null?void 0:r.status),new Error(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to create order")}}),$C=t=>we(null,null,function*(){return console.log("=== GET ORDER BY ID API CALL (WRAPPER) ==="),console.log("Order ID:",t),j6(t)}),XC=()=>we(null,null,function*(){var t,e;console.log("=== GET ALL ORDERS API CALL ===");try{console.log("Fetching all orders from admin endpoint: /admin/orders");const r=yield Xr.get("/admin/orders");return console.log("All orders fetched successfully:",r.data),r.data&&r.data.success?r.data.data||[]:(console.warn("Unexpected response format:",r.data),[])}catch(r){return console.error("=== GET ALL ORDERS API CALL ERROR ==="),console.error("Error fetching all orders:",r),console.error("Error response:",r.response),console.error("Error message:",r.message),console.error("Error response data:",(t=r.response)==null?void 0:t.data),console.error("Error response status:",(e=r.response)==null?void 0:e.status),[]}}),YC=(t,e)=>we(null,null,function*(){var r,n,i,s,c;console.log("=== UPDATE ORDER STATUS API CALL ==="),console.log("Order ID:",t),console.log("New status:",e);try{console.log("Updating order status via admin endpoint: /admin/orders");const f=yield Xr.put("/admin/orders",{id:t,status:e});if(console.log("Order status updated successfully:",f.data),f.data&&f.data.success)return f.data;throw new Error(((r=f.data)==null?void 0:r.message)||"Failed to update order status")}catch(f){throw console.error("=== UPDATE ORDER STATUS API CALL ERROR ==="),console.error("Error updating order status:",f),console.error("Error response:",f.response),console.error("Error message:",f.message),console.error("Error response data:",(n=f.response)==null?void 0:n.data),console.error("Error response status:",(i=f.response)==null?void 0:i.status),new Error(((c=(s=f.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to update order status")}}),KC=({amount:t,onSuccess:e,customerInfo:r})=>{const[n,i]=ee.useState(!1),[s,c]=ee.useState(!1),{success:f}=Li(),g=()=>we(null,null,function*(){c(!0),setTimeout(()=>{i(!0),f("Order confirmed! You will pay cash on delivery."),e({payment_method:"cash_on_delivery",payment_status:"pending",amount:t,currency:"USD",transaction_id:`COD_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}),c(!1)},1500)});return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Cash on Delivery"}),a.jsx("p",{className:"text-green-700",children:"Pay when your order is delivered to your doorstep"})]})]})}),a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Order Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Amount:"}),a.jsxs("span",{className:"font-bold text-lg",children:["$",t.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsx("span",{children:"Payment Method:"}),a.jsx("span",{children:"Cash on Delivery"})]}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsx("span",{children:"Delivery Address:"}),a.jsxs("span",{className:"text-right max-w-xs",children:[r.firstName," ",r.lastName,a.jsx("br",{}),r.address,a.jsx("br",{}),r.city,", ",r.state," ",r.zipCode]})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Notes:"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:" Please keep the exact amount ready"}),a.jsx("li",{children:" Our delivery person will collect payment"}),a.jsx("li",{children:" You can inspect the product before payment"}),a.jsx("li",{children:" Delivery usually takes 2-5 business days"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"cod-terms",checked:n,onChange:u=>i(u.target.checked),className:"h-4 w-4 text-blue-600"}),a.jsxs("label",{htmlFor:"cod-terms",className:"text-sm text-gray-700",children:["I agree to pay $",t.toFixed(2)," in cash upon delivery"]})]}),a.jsx("button",{onClick:g,disabled:!n||s,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Confirm Order - Pay $${t.toFixed(2)} on Delivery`})]})},ZC=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...r)=>Es(()=>we(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>Qd);return{default:n}}),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class lv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class JC extends lv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class w5 extends lv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class b5 extends lv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var px;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(px||(px={}));var QC=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};class e9{constructor(e,{headers:r={},customFetch:n,region:i=px.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=ZC(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return QC(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:c}=r;let f={},{region:g}=r;g||(g=this.region);const u=new URL(`${this.url}/${e}`);g&&g!=="any"&&(f["x-region"]=g,u.searchParams.set("forceFunctionRegion",g));let m;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob!="undefined"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(f["Content-Type"]="text/plain",m=c):typeof FormData!="undefined"&&c instanceof FormData?m=c:(f["Content-Type"]="application/json",m=JSON.stringify(c)));const v=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),i),body:m}).catch(A=>{throw new JC(A)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new w5(v);if(!v.ok)throw new b5(v);let _=((n=v.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield v.json():_==="application/octet-stream"?C=yield v.blob():_==="text/event-stream"?C=v:_==="multipart/form-data"?C=yield v.formData():C=yield v.text(),{data:C,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof b5||i instanceof w5?i.context:void 0}}})}}var Ua={},ad={},sd={},od={},ld={},cd={},t9=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Hd=t9();const r9=Hd.fetch,O6=Hd.fetch.bind(Hd),R6=Hd.Headers,n9=Hd.Request,i9=Hd.Response,Qd=Object.freeze(Object.defineProperty({__proto__:null,Headers:R6,Request:n9,Response:i9,default:O6,fetch:r9},Symbol.toStringTag,{value:"Module"})),a9=US(Qd);var X1={},_5;function k6(){if(_5)return X1;_5=1,Object.defineProperty(X1,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return X1.default=t,X1}var E5;function L6(){if(E5)return cd;E5=1;var t=cd&&cd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cd,"__esModule",{value:!0});const e=t(a9),r=t(k6());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch=="undefined"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,c){return this.headers=Object.assign({},this.headers),this.headers[s]=c,this}then(s,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(u=>we(this,null,function*(){var m,v,b;let _=null,C=null,A=null,j=u.status,L=u.statusText;if(u.ok){if(this.method!=="HEAD"){const Y=yield u.text();Y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=Y:C=JSON.parse(Y))}const P=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),X=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");P&&X&&X.length>1&&(A=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(_={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,A=null,j=406,L="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const P=yield u.text();try{_=JSON.parse(P),Array.isArray(_)&&u.status===404&&(C=[],_=null,j=200,L="OK")}catch(X){u.status===404&&P===""?(j=204,L="No Content"):_={message:P}}if(_&&this.isMaybeSingle&&(!((b=_==null?void 0:_.details)===null||b===void 0)&&b.includes("0 rows"))&&(_=null,j=200,L="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:C,count:A,status:j,statusText:L}}));return this.shouldThrowOnError||(g=g.catch(u=>{var m,v,b;return{error:{message:`${(m=u==null?void 0:u.name)!==null&&m!==void 0?m:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(v=u==null?void 0:u.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=u==null?void 0:u.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(s,c)}returns(){return this}overrideTypes(){return this}}return cd.default=n,cd}var S5;function I6(){if(S5)return ld;S5=1;var t=ld&&ld.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ld,"__esModule",{value:!0});const e=t(L6());class r extends e.default{select(i){let s=!1;const c=(i!=null?i:"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:c,foreignTable:f,referencedTable:g=f}={}){const u=g?`${g}.order`:"order",m=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${m?`${m},`:""}${i}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:c=s}={}){const f=typeof c=="undefined"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,s,{foreignTable:c,referencedTable:f=c}={}){const g=typeof f=="undefined"?"offset":`${f}.offset`,u=typeof f=="undefined"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:c=!1,buffers:f=!1,wal:g=!1,format:u="text"}={}){var m;const v=[i?"analyze":null,s?"verbose":null,c?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${b}"; options=${v};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ld.default=r,ld}var N5;function cv(){if(N5)return od;N5=1;var t=od&&od.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(od,"__esModule",{value:!0});const e=t(I6());class r extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const c=Array.from(new Set(s)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:c,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const u=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${g}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(i,s,c){return this.url.searchParams.append(i,`not.${s}.${c}`),this}or(i,{foreignTable:s,referencedTable:c=s}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${i})`),this}filter(i,s,c){return this.url.searchParams.append(i,`${s}.${c}`),this}}return od.default=r,od}var A5;function D6(){if(A5)return sd;A5=1;var t=sd&&sd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sd,"__esModule",{value:!0});const e=t(cv());class r{constructor(i,{headers:s={},schema:c,fetch:f}){this.url=i,this.headers=s,this.schema=c,this.fetch=f}select(i,{head:s=!1,count:c}={}){const f=s?"HEAD":"GET";let g=!1;const u=(i!=null?i:"*").split("").map(m=>/\s/.test(m)&&!g?"":(m==='"'&&(g=!g),m)).join("");return this.url.searchParams.set("select",u),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:c=!0}={}){const f="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),s&&g.push(`count=${s}`),c||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(i)){const u=i.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(u.length>0){const m=[...new Set(u)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:c=!1,count:f,defaultToNull:g=!0}={}){const u="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&m.push(this.headers.Prefer),f&&m.push(`count=${f}`),g||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const v=i.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(v.length>0){const b=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),s&&f.push(`count=${s}`),this.headers.Prefer=f.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",c=[];return i&&c.push(`count=${i}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return sd.default=r,sd}var $h={},Xh={},C5;function s9(){return C5||(C5=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.version=void 0,Xh.version="0.0.0-automated"),Xh}var T5;function o9(){if(T5)return $h;T5=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.DEFAULT_HEADERS=void 0;const t=s9();return $h.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},$h}var j5;function l9(){if(j5)return ad;j5=1;var t=ad&&ad.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ad,"__esModule",{value:!0});const e=t(D6()),r=t(cv()),n=o9();class i{constructor(c,{headers:f={},schema:g,fetch:u}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),f),this.schemaName=g,this.fetch=u}from(c){const f=new URL(`${this.url}/${c}`);return new e.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:g=!1,get:u=!1,count:m}={}){let v;const b=new URL(`${this.url}/rpc/${c}`);let _;g||u?(v=g?"HEAD":"GET",Object.entries(f).filter(([A,j])=>j!==void 0).map(([A,j])=>[A,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([A,j])=>{b.searchParams.append(A,j)})):(v="POST",_=f);const C=Object.assign({},this.headers);return m&&(C.Prefer=`count=${m}`),new r.default({method:v,url:b,headers:C,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return ad.default=i,ad}var O5;function c9(){if(O5)return Ua;O5=1;var t=Ua&&Ua.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.PostgrestError=Ua.PostgrestBuilder=Ua.PostgrestTransformBuilder=Ua.PostgrestFilterBuilder=Ua.PostgrestQueryBuilder=Ua.PostgrestClient=void 0;const e=t(l9());Ua.PostgrestClient=e.default;const r=t(D6());Ua.PostgrestQueryBuilder=r.default;const n=t(cv());Ua.PostgrestFilterBuilder=n.default;const i=t(I6());Ua.PostgrestTransformBuilder=i.default;const s=t(L6());Ua.PostgrestBuilder=s.default;const c=t(k6());return Ua.PostgrestError=c.default,Ua.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:c.default},Ua}var u9=c9();const d9=I2(u9),{PostgrestClient:h9,PostgrestQueryBuilder:dz,PostgrestFilterBuilder:hz,PostgrestTransformBuilder:fz,PostgrestBuilder:gz,PostgrestError:mz}=d9;function f9(){if(typeof WebSocket!="undefined")return WebSocket;if(typeof global.WebSocket!="undefined")return global.WebSocket;if(typeof window.WebSocket!="undefined")return window.WebSocket;if(typeof self.WebSocket!="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const g9=f9(),m9="2.11.15",p9=`realtime-js/${m9}`,x9="1.0.0",P6=1e4,v9=1e3;var cf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cf||(cf={}));var ws;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ws||(ws={}));var Sl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sl||(Sl={}));var xx;(function(t){t.websocket="websocket"})(xx||(xx={}));var d0;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(d0||(d0={}));class y9{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let c=this.HEADER_LENGTH+2;const f=n.decode(e.slice(c,c+i));c=c+i;const g=n.decode(e.slice(c,c+s));c=c+s;const u=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:f,event:g,payload:u}}}class F6{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bi;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(bi||(bi={}));const R5=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,c)=>(s[c]=w9(c,t,e,i),s),{})},w9=(t,e,r,n)=>{const i=e.find(f=>f.name===t),s=i==null?void 0:i.type,c=r[t];return s&&!n.includes(s)?B6(s,c):vx(c)},B6=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return S9(e,r)}switch(t){case bi.bool:return b9(e);case bi.float4:case bi.float8:case bi.int2:case bi.int4:case bi.int8:case bi.numeric:case bi.oid:return _9(e);case bi.json:case bi.jsonb:return E9(e);case bi.timestamp:return N9(e);case bi.abstime:case bi.date:case bi.daterange:case bi.int4range:case bi.int8range:case bi.money:case bi.reltime:case bi.text:case bi.time:case bi.timestamptz:case bi.timetz:case bi.tsrange:case bi.tstzrange:return vx(e);default:return vx(e)}},vx=t=>t,b9=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_9=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},E9=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},S9=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const c=t.slice(1,r);try{s=JSON.parse("["+c+"]")}catch(f){s=c?c.split(","):[]}return s.map(f=>B6(e,f))}return t},N9=t=>typeof t=="string"?t.replace(" ","T"):t,M6=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Op{constructor(e,r,n={},i=P6){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var k5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(k5||(k5={}));class uf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uf.syncState(this.state,i,s,c),this.pendingDiffs.forEach(g=>{this.state=uf.syncDiff(this.state,g,s,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=uf.syncDiff(this.state,i,s,c),f())}),this.onJoin((i,s,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:c})}),this.onLeave((i,s,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),c=this.transformState(r),f={},g={};return this.map(s,(u,m)=>{c[u]||(g[u]=m)}),this.map(c,(u,m)=>{const v=s[u];if(v){const b=m.map(j=>j.presence_ref),_=v.map(j=>j.presence_ref),C=m.filter(j=>_.indexOf(j.presence_ref)<0),A=v.filter(j=>b.indexOf(j.presence_ref)<0);C.length>0&&(f[u]=C),A.length>0&&(g[u]=A)}else f[u]=m}),this.syncDiff(s,{joins:f,leaves:g},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(f,g)=>{var u;const m=(u=e[f])!==null&&u!==void 0?u:[];if(e[f]=this.cloneDeep(g),m.length>0){const v=e[f].map(_=>_.presence_ref),b=m.filter(_=>v.indexOf(_.presence_ref)<0);e[f].unshift(...b)}n(f,m,g)}),this.map(c,(f,g)=>{let u=e[f];if(!u)return;const m=g.map(v=>v.presence_ref);u=u.filter(v=>m.indexOf(v.presence_ref)<0),e[f]=u,i(f,u,g),u.length===0&&delete e[f]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var L5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(L5||(L5={}));var I5;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(I5||(I5={}));var Rc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rc||(Rc={}));class uv{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ws.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Op(this,Sl.join,this.params,this.timeout),this.rejoinTimer=new F6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ws.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ws.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ws.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ws.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sl.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new uf(this),this.broadcastEndpointURL=M6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ws.closed){const{config:{broadcast:s,presence:c,private:f}}=this.params;this._onError(m=>e==null?void 0:e(Rc.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Rc.CLOSED));const g={},u={broadcast:s,presence:c,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",v=>we(this,[v],function*({postgres_changes:m}){var b;if(this.socket.setAuth(),m===void 0){e==null||e(Rc.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,C=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,A=[];for(let j=0;j<C;j++){const L=_[j],{filter:{event:I,schema:P,table:X,filter:Y}}=L,K=m&&m[j];if(K&&K.event===I&&K.schema===P&&K.table===X&&K.filter===Y)A.push(Object.assign(Object.assign({},L),{id:K.id}));else{this.unsubscribe(),this.state=ws.errored,e==null||e(Rc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Rc.SUBSCRIBED);return}})).receive("error",m=>{this.state=ws.errored,e==null||e(Rc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return we(this,arguments,function*(e,r={}){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(){return we(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,n){return this._on(e,r,n)}send(n){return we(this,arguments,function*(e,r={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:f}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const m=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return yield(s=m.body)===null||s===void 0?void 0:s.cancel(),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,g,u;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||u===void 0)&&u.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ws.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Op(this,Sl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,r,n){return we(this,null,function*(){const i=new AbortController,s=setTimeout(()=>i.abort(),n),c=yield this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),c})}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Op(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const c=e.toLocaleLowerCase(),{close:f,error:g,leave:u,join:m}=Sl;if(n&&[f,g,u,m].indexOf(c)>=0&&n!==this._joinRef())return;let b=this._onMessage(c,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var C,A,j;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(A=_.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===c}).map(_=>_.callback(b,n)):(s=this.bindings[c])===null||s===void 0||s.filter(_=>{var C,A,j,L,I,P;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const X=_.id,Y=(C=_.filter)===null||C===void 0?void 0:C.event;return X&&((A=r.ids)===null||A===void 0?void 0:A.includes(X))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const X=(I=(L=_==null?void 0:_.filter)===null||L===void 0?void 0:L.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return X==="*"||X===((P=r==null?void 0:r.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:A,table:j,commit_timestamp:L,type:I,errors:P}=C;b=Object.assign(Object.assign({},{schema:A,table:j,commit_timestamp:L,eventType:I,new:{},old:{},errors:P}),this._getPayloadRecords(C))}_.callback(b,n)})}_isClosed(){return this.state===ws.closed}_isJoined(){return this.state===ws.joined}_isJoining(){return this.state===ws.joining}_isLeaving(){return this.state===ws.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&uv.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sl.close,{},e)}_onError(e){this._on(Sl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ws.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=R5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=R5(e.columns,e.old_record)),r}}const D5=()=>{},A9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C9{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=P6,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=D5,this.ref=0,this.logger=D5,this.conn=null,this.sendBuffer=[],this.serializer=new y9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let c;return s?c=s:typeof fetch=="undefined"?c=(...f)=>Es(()=>we(this,null,function*(){const{default:g}=yield Promise.resolve().then(()=>Qd);return{default:g}}),void 0).then(({default:g})=>g(...f)):c=fetch,(...f)=>c(...f)},this.endPoint=`${e}/${xx.websocket}`,this.httpEndpoint=M6(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,c)=>c(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new F6(()=>we(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=g9),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:x9}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r!=null?r:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}removeChannel(e){return we(this,null,function*(){const r=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),r})}removeAllChannels(){return we(this,null,function*(){const e=yield Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cf.connecting:return d0.Connecting;case cf.open:return d0.Open;case cf.closing:return d0.Closing;default:return d0.Closed}}isConnected(){return this.connectionState()===d0.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new uv(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,c=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?c():this.sendBuffer.push(c)}setAuth(e=null){return we(this,null,function*(){let r=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:p9};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Sl.access_token,{access_token:r})}))})}sendHeartbeat(){return we(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(v9,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:c}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${c&&"("+c+")"||""}`,s),Array.from(this.channels).filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,s,c)),this.stateChangeCallbacks.message.forEach(f=>f(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([A9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class dv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function za(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class T9 extends dv{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yx extends dv{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var j9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};const U6=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...r)=>Es(()=>we(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>Qd);return{default:n}}),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},O9=()=>j9(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Es(()=>Promise.resolve().then(()=>Qd),void 0)).Response:Response}),wx=t=>{if(Array.isArray(t))return t.map(r=>wx(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=wx(n)}),e};var E0=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};const Rp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),R9=(t,e,r)=>E0(void 0,void 0,void 0,function*(){const n=yield O9();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new T9(Rp(i),t.status||500))}).catch(i=>{e(new yx(Rp(i),i))}):e(new yx(Rp(t),t))}),k9=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Df(t,e,r,n,i,s){return E0(this,void 0,void 0,function*(){return new Promise((c,f)=>{t(r,k9(e,n,i,s)).then(g=>{if(!g.ok)throw g;return n!=null&&n.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>R9(g,f,n))})})}function d2(t,e,r,n){return E0(this,void 0,void 0,function*(){return Df(t,"GET",e,r,n)})}function wu(t,e,r,n,i){return E0(this,void 0,void 0,function*(){return Df(t,"POST",e,n,i,r)})}function L9(t,e,r,n,i){return E0(this,void 0,void 0,function*(){return Df(t,"PUT",e,n,i,r)})}function I9(t,e,r,n){return E0(this,void 0,void 0,function*(){return Df(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function z6(t,e,r,n,i){return E0(this,void 0,void 0,function*(){return Df(t,"DELETE",e,n,i,r)})}var Ys=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};const D9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},P5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class P9{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=U6(i)}uploadOrUpdate(e,r,n,i){return Ys(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},P5),i);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob!="undefined"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),g&&s.append("metadata",this.encodeMetadata(g)),s.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(s=n,s.append("cacheControl",c.cacheControl),g&&s.append("metadata",this.encodeMetadata(g))):(s=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),i!=null&&i.headers&&(f=Object.assign(Object.assign({},f),i.headers));const u=this._removeEmptyFolders(r),m=this._getFinalPath(u),v=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:s,headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{})),b=yield v.json();return v.ok?{data:{path:u,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(s){if(za(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ys(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),c=this._getFinalPath(s),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let g;const u=Object.assign({upsert:P5.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(g=new FormData,g.append("cacheControl",u.cacheControl),g.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(g=n,g.append("cacheControl",u.cacheControl)):(g=n,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType);const v=yield this.fetch(f.toString(),{method:"PUT",body:g,headers:m}),b=yield v.json();return v.ok?{data:{path:s,fullPath:b.Key},error:null}:{data:null,error:b}}catch(g){if(za(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,r){return Ys(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield wu(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+s.url),f=c.searchParams.get("token");if(!f)throw new dv("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(n){if(za(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ys(this,void 0,void 0,function*(){try{return{data:yield wu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(za(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ys(this,void 0,void 0,function*(){try{return{data:{path:(yield wu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(za(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ys(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield wu(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(i){if(za(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ys(this,void 0,void 0,function*(){try{const i=yield wu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(i){if(za(i))return{data:null,error:i};throw i}})}download(e,r){return Ys(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)!="undefined"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=s?`?${s}`:"";try{const f=this._getFinalPath(e);return{data:yield(yield d2(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(za(f))return{data:null,error:f};throw f}})}info(e){return Ys(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield d2(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wx(n),error:null}}catch(n){if(za(n))return{data:null,error:n};throw n}})}exists(e){return Ys(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield I9(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(za(n)&&n instanceof yx){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const f=typeof(r==null?void 0:r.transform)!="undefined"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&i.push(g);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${u}`)}}}remove(e){return Ys(this,void 0,void 0,function*(){try{return{data:yield z6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(za(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ys(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},D9),r),{prefix:e||""});return{data:yield wu(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(za(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const F9="2.7.1",B9={"X-Client-Info":`storage-js/${F9}`};var ud=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};class M9{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},B9),r),this.fetch=U6(n)}listBuckets(){return ud(this,void 0,void 0,function*(){try{return{data:yield d2(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(za(e))return{data:null,error:e};throw e}})}getBucket(e){return ud(this,void 0,void 0,function*(){try{return{data:yield d2(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(za(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ud(this,void 0,void 0,function*(){try{return{data:yield wu(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(za(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ud(this,void 0,void 0,function*(){try{return{data:yield L9(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(za(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ud(this,void 0,void 0,function*(){try{return{data:yield wu(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(za(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ud(this,void 0,void 0,function*(){try{return{data:yield z6(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(za(r))return{data:null,error:r};throw r}})}}class U9 extends M9{constructor(e,r={},n){super(e,r,n)}from(e){return new P9(this.url,this.headers,e,this.fetch)}}const z9="2.52.0";let sf="";typeof Deno!="undefined"?sf="deno":typeof document!="undefined"?sf="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?sf="react-native":sf="node";const H9={"X-Client-Info":`supabase-js-${sf}/${z9}`},q9={headers:H9},W9={schema:"public"},V9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G9={};var $9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};const X9=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=O6:e=fetch,(...r)=>e(...r)},Y9=()=>typeof Headers=="undefined"?R6:Headers,K9=(t,e,r)=>{const n=X9(r),i=Y9();return(s,c)=>$9(void 0,void 0,void 0,function*(){var f;const g=(f=yield e())!==null&&f!==void 0?f:t;let u=new i(c==null?void 0:c.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${g}`),n(s,Object.assign(Object.assign({},c),{headers:u}))})};var Z9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};function J9(t){return t.endsWith("/")?t:t+"/"}function Q9(t,e){var r,n;const{db:i,auth:s,realtime:c,global:f}=t,{db:g,auth:u,realtime:m,global:v}=e,b={db:Object.assign(Object.assign({},g),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},m),c),global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Z9(this,void 0,void 0,function*(){return""})};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}const H6="2.71.1",Nd=30*1e3,bx=3,kp=bx*Nd,eT="http://localhost:9999",tT="supabase.auth.token",rT={"X-Client-Info":`gotrue-js/${H6}`},_x="X-Supabase-Api-Version",q6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iT=10*60*1e3;class hv extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function an(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aT extends hv{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sT(t){return an(t)&&t.name==="AuthApiError"}class W6 extends hv{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ku extends hv{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class yu extends ku{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oT(t){return an(t)&&t.name==="AuthSessionMissingError"}class Y1 extends ku{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class K1 extends ku{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Z1 extends ku{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lT(t){return an(t)&&t.name==="AuthImplicitGrantRedirectError"}class F5 extends ku{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ex extends ku{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Lp(t){return an(t)&&t.name==="AuthRetryableFetchError"}class B5 extends ku{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Sx extends ku{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const h2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M5=` 	
\r=`.split(""),cT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<M5.length;e+=1)t[M5[e].charCodeAt(0)]=-2;for(let e=0;e<h2.length;e+=1)t[h2[e].charCodeAt(0)]=e;return t})();function U5(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(h2[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(h2[n]),e.queuedBits-=6}}function V6(t,e,r){const n=cT[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function z5(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=c=>{hT(c,n,r)};for(let c=0;c<t.length;c+=1)V6(t.charCodeAt(c),i,s);return e.join("")}function uT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dT(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}uT(n,e)}}function hT(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function fT(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)V6(t.charCodeAt(i),r,n);return new Uint8Array(e)}function gT(t){const e=[];return dT(t,r=>e.push(r)),new Uint8Array(e)}function mT(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>U5(i,r,n)),U5(null,r,n),e.join("")}function pT(t){return Math.round(Date.now()/1e3)+t}function xT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _l=()=>typeof window!="undefined"&&typeof document!="undefined",n0={tested:!1,writable:!1},G6=()=>{if(!_l())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(n0.tested)return n0.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),n0.tested=!0,n0.writable=!0}catch(e){n0.tested=!0,n0.writable=!1}return n0.writable};function vT(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch(n){}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const $6=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...r)=>Es(()=>we(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>Qd);return{default:n}}),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},yT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ad=(t,e,r)=>we(null,null,function*(){yield t.setItem(e,JSON.stringify(r))}),i0=(t,e)=>we(null,null,function*(){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}}),gu=(t,e)=>we(null,null,function*(){yield t.removeItem(e)});class Y2{constructor(){this.promise=new Y2.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Y2.promiseConstructor=Promise;function Ip(t){const e=t.split(".");if(e.length!==3)throw new Sx("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!nT.test(e[n]))throw new Sx("JWT not in base64url format");return{header:JSON.parse(z5(e[0])),payload:JSON.parse(z5(e[1])),signature:fT(e[2]),raw:{header:e[0],payload:e[1]}}}function wT(t){return we(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function bT(t,e){return new Promise((n,i)=>{we(null,null,function*(){for(let s=0;s<1/0;s++)try{const c=yield t(s);if(!e(s,null,c)){n(c);return}}catch(c){if(!e(s,c)){i(c);return}}})})}function _T(t){return("0"+t.toString(16)).substr(-2)}function ET(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,_T).join("")}function ST(t){return we(this,null,function*(){const r=new TextEncoder().encode(t),n=yield crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function NT(t){return we(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=yield ST(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function dd(t,e,r=!1){return we(this,null,function*(){const n=ET();let i=n;r&&(i+="/PASSWORD_RECOVERY"),yield Ad(t,`${e}-code-verifier`,i);const s=yield NT(n);return[s,n===s?"plain":"s256"]})}const AT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CT(t){const e=t.headers.get(_x);if(!e||!e.match(AT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(r){return null}}function TT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hd(t){if(!OT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function H5(t){return JSON.parse(JSON.stringify(t))}var RT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const c0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kT=[502,503,504];function q5(t){return we(this,null,function*(){var e;if(!yT(t))throw new Ex(c0(t),0);if(kT.includes(t.status))throw new Ex(c0(t),t.status);let r;try{r=yield t.json()}catch(s){throw new W6(c0(s),s)}let n;const i=CT(t);if(i&&i.getTime()>=q6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new B5(c0(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new B5(c0(r),t.status,r.weak_password.reasons);throw new aT(c0(r),t.status||500,n)})}const LT=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function En(t,e,r,n){return we(this,null,function*(){var i;const s=Object.assign({},n==null?void 0:n.headers);s[_x]||(s[_x]=q6["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=yield IT(t,e,r+f,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(g):{data:Object.assign({},g),error:null}})}function IT(t,e,r,n,i,s){return we(this,null,function*(){const c=LT(e,n,i,s);let f;try{f=yield t(r,Object.assign({},c))}catch(g){throw console.error(g),new Ex(c0(g),0)}if(f.ok||(yield q5(f)),n!=null&&n.noResolveJson)return f;try{return yield f.json()}catch(g){yield q5(g)}})}function jc(t){var e;let r=null;BT(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=pT(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function W5(t){const e=jc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DT(t){return{data:t,error:null}}function PT(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,c=RT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},g=Object.assign({},c);return{data:{properties:f,user:g},error:null}}function FT(t){return t}function BT(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pp=["global","local","others"];var MT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class UT{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=$6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n){return we(this,arguments,function*(e,r=Pp[0]){if(Pp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pp.join(", ")}`);try{return yield En(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(an(i))return{data:null,error:i};throw i}})}inviteUserByEmail(n){return we(this,arguments,function*(e,r={}){try{return yield En(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bu})}catch(i){if(an(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return we(this,null,function*(){try{const{options:r}=e,n=MT(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),yield En(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:PT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(an(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return we(this,null,function*(){try{return yield En(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bu})}catch(r){if(an(r))return{data:{user:null},error:r};throw r}})}listUsers(e){return we(this,null,function*(){var r,n,i,s,c,f,g;try{const u={nextPage:null,lastPage:0,total:0},m=yield En(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:FT});if(m.error)throw m.error;const v=yield m.json(),b=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(g=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(C=>{const A=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);u[`${j}Page`]=A}),u.total=parseInt(b)),{data:Object.assign(Object.assign({},v),u),error:null}}catch(u){if(an(u))return{data:{users:[]},error:u};throw u}})}getUserById(e){return we(this,null,function*(){hd(e);try{return yield En(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bu})}catch(r){if(an(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return we(this,null,function*(){hd(e);try{return yield En(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:bu})}catch(n){if(an(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,r=!1){return we(this,null,function*(){hd(e);try{return yield En(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:bu})}catch(n){if(an(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return we(this,null,function*(){hd(e.userId);try{const{data:r,error:n}=yield En(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(an(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return we(this,null,function*(){hd(e.userId),hd(e.id);try{return{data:yield En(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(an(r))return{data:null,error:r};throw r}})}}function V5(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function zT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self!="undefined"&&(self.globalThis=self)}}const fd={debug:!!(globalThis&&G6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HT extends X6{}function qT(t,e,r){return we(this,null,function*(){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),fd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},i=>we(null,null,function*(){if(i){fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield r()}finally{fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw fd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new HT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fd.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield r()}})))})}zT();const WT={url:eT,storageKey:tT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function G5(t,e,r){return we(this,null,function*(){return yield r()})}const gd={};class bf{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bf.nextInstanceID,bf.nextInstanceID+=1,this.instanceID>0&&_l()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},WT),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new UT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$6(i.fetch),this.lock=i.lock||G5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:_l()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=qT:this.lock=G5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:G6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=V5(this.memoryStorage)),_l()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",s=>we(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var e,r;return(r=(e=gd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gd[this.storageKey]=Object.assign(Object.assign({},gd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gd[this.storageKey]=Object.assign(Object.assign({},gd[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${H6}) ${new Date().toISOString()}`,...e),this}initialize(){return we(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=we(this,null,function*(){return yield this._acquireLock(-1,()=>we(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return we(this,null,function*(){var e;try{const r=vT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":(yield this._isPKCECallback(r))&&(n="pkce"),_l()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=yield this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lT(s)){const g=(e=s.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),yield this._saveSession(c),setTimeout(()=>we(this,null,function*(){f==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield this._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return an(r)?{error:r}:{error:new W6("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return we(this,null,function*(){var r,n,i;try{const s=yield En(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:jc}),{data:c,error:f}=s;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,u=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:u,session:g},error:null}}catch(s){if(an(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return we(this,null,function*(){var r,n,i;try{let s;if("email"in e){const{email:m,password:v,options:b}=e;let _=null,C=null;this.flowType==="pkce"&&([_,C]=yield dd(this.storage,this.storageKey)),s=yield En(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:m,password:v,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:_,code_challenge_method:C},xform:jc})}else if("phone"in e){const{phone:m,password:v,options:b}=e;s=yield En(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:jc})}else throw new K1("You must provide either an email or phone number and a password");const{data:c,error:f}=s;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,u=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:u,session:g},error:null}}catch(s){if(an(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return we(this,null,function*(){try{let r;if("email"in e){const{email:s,password:c,options:f}=e;r=yield En(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:W5})}else if("phone"in e){const{phone:s,password:c,options:f}=e;r=yield En(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:W5})}else throw new K1("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Y1}:(n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(an(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return we(this,null,function*(){var r,n,i,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return we(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>we(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return we(this,null,function*(){const{chain:r}=e;if(r==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(e){return we(this,null,function*(){var r,n,i,s,c,f,g,u,m,v,b,_;let C,A;if("message"in e)C=e.message,A=e.signature;else{const{chain:j,wallet:L,statement:I,options:P}=e;let X;if(_l())if(typeof L=="object")X=L;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))X=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=L}const Y=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in X&&X.signIn){const K=yield X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),I?{statement:I}:null));let G;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")G=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)G=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)C=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),A=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Y.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(i=(n=P==null?void 0:P.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=P==null?void 0:P.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((v=(m=P==null?void 0:P.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...P.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const K=yield X.signMessage(new TextEncoder().encode(C),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=K}}try{const{data:j,error:L}=yield En(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:mT(A)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:jc});if(L)throw L;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Y1}:(j.session&&(yield this._saveSession(j.session),yield this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:L})}catch(j){if(an(j))return{data:{user:null,session:null},error:j};throw j}})}_exchangeCodeForSession(e){return we(this,null,function*(){const r=yield i0(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r!=null?r:"").split("/");try{const{data:s,error:c}=yield En(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jc});if(yield gu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Y1}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i!=null?i:null}),error:c})}catch(s){if(an(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return we(this,null,function*(){try{const{options:r,provider:n,token:i,access_token:s,nonce:c}=e,f=yield En(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jc}),{data:g,error:u}=f;return u?{data:{user:null,session:null},error:u}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Y1}:(g.session&&(yield this._saveSession(g.session),yield this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:u})}catch(r){if(an(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return we(this,null,function*(){var r,n,i,s,c;try{if("email"in e){const{email:f,options:g}=e;let u=null,m=null;this.flowType==="pkce"&&([u,m]=yield dd(this.storage,this.storageKey));const{error:v}=yield En(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(n=g==null?void 0:g.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:u,code_challenge_method:m},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:f,options:g}=e,{data:u,error:m}=yield En(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m}}throw new K1("You must provide either an email or phone number.")}catch(f){if(an(f))return{data:{user:null,session:null},error:f};throw f}})}verifyOtp(e){return we(this,null,function*(){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=yield En(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:jc});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,u=c.user;return g!=null&&g.access_token&&(yield this._saveSession(g),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:u,session:g},error:null}}catch(i){if(an(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){return we(this,null,function*(){var r,n,i;try{let s=null,c=null;return this.flowType==="pkce"&&([s,c]=yield dd(this.storage,this.storageKey)),yield En(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:DT})}catch(s){if(an(s))return{data:null,error:s};throw s}})}reauthenticate(){return we(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return we(this,null,function*(){try{return yield this._useSession(e=>we(this,null,function*(){const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new yu;const{error:i}=yield En(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(e){if(an(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return we(this,null,function*(){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:c}=yield En(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:c,error:f}=yield En(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new K1("You must provide either an email or phone number and a type")}catch(r){if(an(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return we(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){return this._useSession(r=>we(this,null,function*(){return r}))}))})}_acquireLock(e,r){return we(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=we(this,null,function*(){return yield n,yield r()});return this.pendingInLock.push(we(this,null,function*(){try{yield i}catch(s){}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>we(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push(we(this,null,function*(){try{yield n}catch(i){}})),yield n;this.pendingInLock.length;){const i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return we(this,null,function*(){this._debug("#_useSession","begin");try{const r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return we(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=yield i0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<kp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=yield i0(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Dp()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,u,m)=>(!c&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,u,m))})}return{data:{session:e},error:null}}const{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return we(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return we(this,null,function*(){try{return e?yield En(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bu}):yield this._useSession(r=>we(this,null,function*(){var n,i,s;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yu}:yield En(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:bu})}))}catch(r){if(an(r))return oT(r)&&(yield this._removeSession(),yield gu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(n){return we(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(n){return we(this,arguments,function*(e,r={}){try{return yield this._useSession(i=>we(this,null,function*(){const{data:s,error:c}=i;if(c)throw c;if(!s.session)throw new yu;const f=s.session;let g=null,u=null;this.flowType==="pkce"&&e.email!=null&&([g,u]=yield dd(this.storage,this.storageKey));const{data:m,error:v}=yield En(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:u}),jwt:f.access_token,xform:bu});if(v)throw v;return f.user=m.user,yield this._saveSession(f),yield this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}}))}catch(i){if(an(i))return{data:{user:null},error:i};throw i}})}setSession(e){return we(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return we(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new yu;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:c}=Ip(e.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{session:f,error:g}=yield this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};s=f}else{const{data:f,error:g}=yield this._getUser(e.access_token);if(g)throw g;s={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(an(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return we(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return we(this,null,function*(){try{return yield this._useSession(r=>we(this,null,function*(){var n;if(!e){const{data:c,error:f}=r;if(f)throw f;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yu;const{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(an(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return we(this,null,function*(){try{if(!_l())throw new Z1("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Z1(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new F5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Z1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new F5("No code detected.");const{data:I,error:P}=yield this._exchangeCodeForSession(e.code);if(P)throw P;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:c,expires_in:f,expires_at:g,token_type:u}=e;if(!s||!f||!c||!u)throw new Z1("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(f);let b=m+v;g&&(b=parseInt(g));const _=b-m;_*1e3<=Nd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const C=b-v;m-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,m):m-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,m);const{data:A,error:j}=yield this._getUser(s);if(j)throw j;const L={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:b,refresh_token:c,token_type:u,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:e.type},error:null}}catch(n){if(an(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return we(this,null,function*(){const r=yield i0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return we(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return we(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>we(this,null,function*(){var n;const{data:i,error:s}=r;if(s)return{error:s};const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=yield this.admin.signOut(c,e);if(f&&!(sT(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(yield this._removeSession(),yield gu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const r=xT(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),we(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:n}}}_emitInitialSession(e){return we(this,null,function*(){return yield this._useSession(r=>we(this,null,function*(){var n,i;try{const{data:{session:s},error:c}=r;if(c)throw c;yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(n){return we(this,arguments,function*(e,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield dd(this.storage,this.storageKey,!0));try{return yield En(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(an(c))return{data:null,error:c};throw c}})}getUserIdentities(){return we(this,null,function*(){var e;try{const{data:r,error:n}=yield this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(an(r))return{data:null,error:r};throw r}})}linkIdentity(e){return we(this,null,function*(){var r;try{const{data:n,error:i}=yield this._useSession(s=>we(this,null,function*(){var c,f,g,u,m;const{data:v,error:b}=s;if(b)throw b;const _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return yield En(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(u=v.session)===null||u===void 0?void 0:u.access_token)!==null&&m!==void 0?m:void 0})}));if(i)throw i;return _l()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(an(n))return{data:{provider:e.provider,url:null},error:n};throw n}})}unlinkIdentity(e){return we(this,null,function*(){try{return yield this._useSession(r=>we(this,null,function*(){var n,i;const{data:s,error:c}=r;if(c)throw c;return yield En(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(an(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return we(this,null,function*(){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return yield bT(i=>we(this,null,function*(){return i>0&&(yield wT(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield En(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jc})}),(i,s)=>{const c=200*Math.pow(2,i);return s&&Lp(s)&&Date.now()+c-n<Nd})}catch(n){if(this._debug(r,"error",n),an(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return we(this,null,function*(){const n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),_l()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return we(this,null,function*(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=yield i0(this.storage,this.storageKey);if(i&&this.userStorage){let c=yield i0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},yield Ad(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Dp()}else if(i&&!i.user&&!i.user){const c=yield i0(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(i.user=c.user,yield gu(this.storage,this.storageKey+"-user"),yield Ad(this.storage,this.storageKey,i)):i.user=Dp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&(yield this._removeSession());return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${kp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=yield this._callRefreshToken(i.refresh_token);c&&(console.error(c),Lp(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=yield this._getUser(i.access_token);!f&&(c!=null&&c.user)?(i.user=c.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}})}_callRefreshToken(e){return we(this,null,function*(){var r,n;if(!e)throw new yu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Y2;const{data:s,error:c}=yield this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new yu;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const f={session:s.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(s){if(this._debug(i,"error",s),an(s)){const c={session:null,error:s};return Lp(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,r,n=!0){return we(this,null,function*(){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(f=>we(this,null,function*(){try{yield f.callback(e,r)}catch(g){s.push(g)}}));if(yield Promise.all(c),s.length>0){for(let f=0;f<s.length;f+=1)console.error(s[f]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return we(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&(yield Ad(this.userStorage,this.storageKey+"-user",{user:r.user}));const i=Object.assign({},r);delete i.user;const s=H5(i);yield Ad(this.storage,this.storageKey,s)}else{const i=H5(r);yield Ad(this.storage,this.storageKey,i)}})}_removeSession(){return we(this,null,function*(){this._debug("#_removeSession()"),yield gu(this.storage,this.storageKey),yield gu(this.storage,this.storageKey+"-code-verifier"),yield gu(this.storage,this.storageKey+"-user"),this.userStorage&&(yield gu(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_l()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return we(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>we(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return we(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return we(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return we(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return we(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>we(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(r=>we(this,null,function*(){const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Nd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nd}ms, refresh threshold is ${bx} ticks`),i<=bx&&(yield this._callRefreshToken(n.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof X6)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return we(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!_l()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>we(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return we(this,null,function*(){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>we(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,n){return we(this,null,function*(){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=yield dd(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return we(this,null,function*(){try{return yield this._useSession(r=>we(this,null,function*(){var n;const{data:i,error:s}=r;return s?{data:null,error:s}:yield En(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(an(r))return{data:null,error:r};throw r}})}_enroll(e){return we(this,null,function*(){try{return yield this._useSession(r=>we(this,null,function*(){var n,i;const{data:s,error:c}=r;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:u}=yield En(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=g==null?void 0:g.totp)===null||i===void 0)&&i.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})}))}catch(r){if(an(r))return{data:null,error:r};throw r}})}_verify(e){return we(this,null,function*(){return this._acquireLock(-1,()=>we(this,null,function*(){try{return yield this._useSession(r=>we(this,null,function*(){var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:c,error:f}=yield En(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})}))}catch(r){if(an(r))return{data:null,error:r};throw r}}))})}_challenge(e){return we(this,null,function*(){return this._acquireLock(-1,()=>we(this,null,function*(){try{return yield this._useSession(r=>we(this,null,function*(){var n;const{data:i,error:s}=r;return s?{data:null,error:s}:yield En(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(an(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return we(this,null,function*(){const{data:r,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return we(this,null,function*(){const{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),s=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return we(this,null,function*(){return this._acquireLock(-1,()=>we(this,null,function*(){return yield this._useSession(e=>we(this,null,function*(){var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Ip(i.access_token);let f=null;c.aal&&(f=c.aal);let g=f;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const m=c.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:m},error:null}}))}))})}fetchJwk(n){return we(this,arguments,function*(e,r={keys:[]}){let i=r.keys.find(g=>g.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(g=>g.kid===e),i&&this.jwks_cached_at+iT>s)return i;const{data:c,error:f}=yield En(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=s,i=c.keys.find(g=>g.kid===e),!i)?null:i})}getClaims(n){return we(this,arguments,function*(e,r={}){try{let i=e;if(!i){const{data:C,error:A}=yield this.getSession();if(A||!C.session)return{data:null,error:A};i=C.session.access_token}const{header:s,payload:c,signature:f,raw:{header:g,payload:u}}=Ip(i);r!=null&&r.allowExpired||TT(c.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:C}=yield this.getUser(i);if(C)throw C;return{data:{claims:c,header:s,signature:f},error:null}}const v=jT(s.alg),b=yield crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!(yield crypto.subtle.verify(v,b,f,gT(`${g}.${u}`))))throw new Sx("Invalid JWT signature");return{data:{claims:c,header:s,signature:f},error:null}}catch(i){if(an(i))return{data:null,error:i};throw i}})}}bf.nextInstanceID=0;const VT=bf;class GT extends VT{constructor(e){super(e)}}var $T=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})};class XT{constructor(e,r,n){var i,s,c;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const f=J9(e),g=new URL(f);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const u=`sb-${g.hostname.split(".")[0]}-auth-token`,m={db:W9,realtime:G9,auth:Object.assign(Object.assign({},V9),{storageKey:u}),global:q9},v=Q9(n!=null?n:{},m);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=v.global.headers)!==null&&s!==void 0?s:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=K9(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new h9(new URL("rest/v1",g).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new e9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new U9(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return $T(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:c,lock:f,debug:g},u,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GT({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:c,lock:f,debug:g,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new C9(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YT=(t,e,r)=>new XT(t,e,r),KT="https://uwizdypmlvfvegklnogq.supabase.co",ZT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3aXpkeXBtbHZmdmVna2xub2dxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5Mzk3MDUsImV4cCI6MjA2NjUxNTcwNX0.KQ3_XiXJERD7mA4iZOaon82hcR7g6PBigelW_rie7Ew",mu=YT(KT,ZT,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});class JT{constructor(){this.supabaseUrl=void 0}sendOrderConfirmation(e){return we(this,null,function*(){try{console.log(" Sending order confirmation email for order:",e.id);const r=yield this.prepareOrderEmailData(e,"order_confirmation"),{data:n,error:i}=yield mu.functions.invoke("send-order-email",{body:{type:"order_confirmation",data:r}});if(i)throw console.error(" Failed to send order confirmation email:",i),i;return console.log(" Order confirmation email sent successfully:",n),n}catch(r){throw console.error(" Email service error:",r),new Error(`Failed to send order confirmation email: ${r.message}`)}})}sendOrderStatusUpdate(e,r){return we(this,null,function*(){try{console.log(` Sending order status update email: ${r} for order:`,e.id);const n=this.getEmailTypeFromStatus(r),i=yield this.prepareOrderEmailData(e,n),{data:s,error:c}=yield mu.functions.invoke("send-order-email",{body:{type:n,data:i}});if(c)throw console.error(" Failed to send order status email:",c),c;return console.log(" Order status email sent successfully:",s),s}catch(n){throw console.error(" Email service error:",n),new Error(`Failed to send order status email: ${n.message}`)}})}sendWelcomeEmail(e){return we(this,null,function*(){try{console.log(" Sending welcome email to:",e.email);const{data:r,error:n}=yield mu.functions.invoke("send-order-email",{body:{type:"welcome",data:{userEmail:e.email,userName:`${e.first_name} ${e.last_name}`,userId:e.id}}});if(n)throw console.error(" Failed to send welcome email:",n),n;return console.log(" Welcome email sent successfully:",r),r}catch(r){console.error(" Email service error:",r),console.warn(" Welcome email failed, but continuing...")}})}prepareOrderEmailData(e,r){return we(this,null,function*(){try{const{data:n,error:i}=yield mu.from("users").select("first_name, last_name, email").eq("id",e.user_id).single();if(i)throw new Error(`Failed to fetch user data: ${i.message}`);const{data:s,error:c}=yield mu.from("order_items").select(`
          quantity,
          price,
          products (
            name,
            description
          )
        `).eq("order_id",e.id);if(c)throw new Error(`Failed to fetch order items: ${c.message}`);const f=s.map(u=>({name:u.products.name,quantity:u.quantity,price:parseFloat(u.price),total:u.quantity*parseFloat(u.price)}));return{orderId:e.id,userEmail:n.email,userName:`${n.first_name} ${n.last_name}`,orderTotal:parseFloat(e.total_amount),orderItems:f,orderStatus:e.status,shippingAddress:{address:e.shipping_address||"",city:e.shipping_city||"",state:e.shipping_state||"",zipCode:e.shipping_zip_code||""},billingAddress:{address:e.billing_address||e.shipping_address||"",city:e.billing_city||e.shipping_city||"",state:e.billing_state||e.shipping_state||"",zipCode:e.billing_zip_code||e.shipping_zip_code||""},paymentMethod:e.payment_method||"Not specified",orderDate:new Date(e.created_at).toLocaleDateString(),estimatedDelivery:this.calculateEstimatedDelivery(e.created_at)}}catch(n){throw console.error(" Error preparing email data:",n),n}})}getEmailTypeFromStatus(e){return{pending:"order_confirmation",processing:"order_processing",shipped:"order_shipped",delivered:"order_delivered",cancelled:"order_cancelled"}[e]||"order_status_update"}calculateEstimatedDelivery(e){const r=new Date(e),n=new Date(r);return n.setDate(n.getDate()+7),n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getEmailLogs(e){return we(this,null,function*(){try{const{data:r,error:n}=yield mu.from("email_logs").select("*").eq("order_id",e).order("created_at",{ascending:!1});if(n)throw n;return r}catch(r){throw console.error(" Error fetching email logs:",r),r}})}resendOrderEmail(e,r){return we(this,null,function*(){try{const{data:n,error:i}=yield mu.from("orders").select("*").eq("id",e).single();if(i)throw new Error(`Failed to fetch order: ${i.message}`);return r==="order_confirmation"?yield this.sendOrderConfirmation(n):yield this.sendOrderStatusUpdate(n,n.status)}catch(n){throw console.error(" Error resending email:",n),n}})}testEmailConfiguration(){return we(this,null,function*(){try{console.log(" Testing email configuration...");const{data:e,error:r}=yield mu.functions.invoke("send-order-email",{body:{type:"test",data:{userEmail:"test@example.com",userName:"Test User",orderId:"TEST-"+Date.now(),orderTotal:99.99,orderItems:[{name:"Test Product",quantity:1,price:99.99}],orderStatus:"pending",shippingAddress:{address:"123 Test St",city:"Test City",state:"TS",zipCode:"12345"}}}});if(r)throw console.error(" Email test error:",r),r;return console.log(" Email test successful:",e),{success:!0,message:"Email configuration is working correctly",data:e}}catch(e){console.error(" Email configuration test failed:",e);let r=e.message;return e.message.includes("domain")?r=`Domain verification issue. Try using a default email provider domain like 'onboarding@resend.dev' instead of a custom domain. Original error: ${e.message}`:e.message.includes("API key")?r=`API key issue. Check that your email provider API key is correctly set in Supabase environment variables. Original error: ${e.message}`:e.message.includes("Function not found")&&(r=`Edge function not deployed. Run 'supabase functions deploy send-order-email' to deploy the email function. Original error: ${e.message}`),{success:!1,error:r}}})}}const Y6=new JT,QT=({amount:t,onSuccess:e,customerInfo:r})=>{const[n,i]=ee.useState(!1),[s,c]=ee.useState(!1),{success:f}=Li(),g=`YRD${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`,u={bankName:"First National Bank",accountName:"Yamaha RD Parts Ltd",accountNumber:"1234567890",routingNumber:"021000021",reference:g},m=()=>we(null,null,function*(){c(!0),setTimeout(()=>{f("Order confirmed! Please complete the bank transfer to process your order."),e({payment_method:"bank_transfer",payment_status:"pending_payment",amount:t,currency:"USD",reference_number:g,transaction_id:`BT_${g}`}),c(!1)},1e3)}),v=b=>{navigator.clipboard.writeText(b),f("Copied to clipboard!")};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"h-6 w-6 text-blue-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Bank Transfer"}),a.jsx("p",{className:"text-blue-700",children:"Transfer money directly to our bank account"})]})]})}),a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Bank Transfer Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Bank Name:"}),a.jsx("p",{className:"font-medium",children:u.bankName})]}),a.jsx("button",{onClick:()=>v(u.bankName),className:"text-blue-600 hover:text-blue-800",children:""})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Account Name:"}),a.jsx("p",{className:"font-medium",children:u.accountName})]}),a.jsx("button",{onClick:()=>v(u.accountName),className:"text-blue-600 hover:text-blue-800",children:""})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Account Number:"}),a.jsx("p",{className:"font-medium",children:u.accountNumber})]}),a.jsx("button",{onClick:()=>v(u.accountNumber),className:"text-blue-600 hover:text-blue-800",children:""})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Routing Number:"}),a.jsx("p",{className:"font-medium",children:u.routingNumber})]}),a.jsx("button",{onClick:()=>v(u.routingNumber),className:"text-blue-600 hover:text-blue-800",children:""})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-yellow-50 rounded border border-yellow-200",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-yellow-700",children:"Reference Number:"}),a.jsx("p",{className:"font-bold text-yellow-800",children:u.reference}),a.jsx("p",{className:"text-xs text-yellow-600",children:" Include this in transfer description"})]}),a.jsx("button",{onClick:()=>v(u.reference),className:"text-yellow-700 hover:text-yellow-900",children:""})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded border border-green-200",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-green-700",children:"Amount to Transfer:"}),a.jsxs("p",{className:"font-bold text-green-800 text-lg",children:["$",t.toFixed(2)," USD"]})]}),a.jsx("button",{onClick:()=>v(t.toFixed(2)),className:"text-green-700 hover:text-green-900",children:""})]})]})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Transfer Instructions:"}),a.jsxs("ol",{className:"text-sm text-orange-700 space-y-1 list-decimal list-inside",children:[a.jsx("li",{children:"Log into your online banking or visit your bank"}),a.jsx("li",{children:"Set up a new transfer to the account details above"}),a.jsxs("li",{children:["Enter the exact amount: ",a.jsxs("strong",{children:["$",t.toFixed(2)]})]}),a.jsxs("li",{children:["Include reference number: ",a.jsx("strong",{children:u.reference})]}),a.jsx("li",{children:"Complete the transfer"}),a.jsx("li",{children:"Your order will be processed within 1-2 business days"})]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Important:"}),a.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[a.jsx("li",{children:" Transfer fees may apply from your bank"}),a.jsx("li",{children:" International transfers may take 3-5 business days"}),a.jsx("li",{children:" Always include the reference number"}),a.jsx("li",{children:" Keep your transfer receipt for records"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"transfer-terms",checked:n,onChange:b=>i(b.target.checked),className:"h-4 w-4 text-blue-600"}),a.jsx("label",{htmlFor:"transfer-terms",className:"text-sm text-gray-700",children:"I understand the transfer instructions and will complete the payment"})]}),a.jsx("button",{onClick:m,disabled:!n||s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Confirm Order - I Will Transfer the Money"})]})},ej=({amount:t,onSuccess:e,customerInfo:r})=>{const[n,i]=ee.useState(!1),[s,c]=ee.useState(!1),{success:f}=Li(),g=`YRD-${Date.now()}`,u={company:"Yamaha RD Parts",address:"123 Motorcycle Lane",city:"Bike City",state:"BC",zipCode:"12345",country:"USA"},m=()=>we(null,null,function*(){c(!0),setTimeout(()=>{f("Order confirmed! Please mail your check to complete the purchase."),e({payment_method:"check",payment_status:"pending_payment",amount:t,currency:"USD",order_number:g,transaction_id:`CHECK_${g}`}),c(!1)},1e3)}),v=()=>{const b=`${u.company}
${u.address}
${u.city}, ${u.state} ${u.zipCode}
${u.country}`;navigator.clipboard.writeText(b),f("Address copied to clipboard!")};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"card p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"h-6 w-6 text-emerald-400 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Check / Money Order"}),a.jsx("p",{className:"text-slate-300",children:"Mail us a check or money order"})]})]})}),a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Payment Details"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Order Number:"}),a.jsx("span",{className:"font-bold",children:g})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Amount to Pay:"}),a.jsxs("span",{className:"font-bold text-lg",children:["$",t.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Make Check Payable To:"}),a.jsx("span",{className:"font-medium",children:u.company})]})]})]}),a.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h4",{className:"font-semibold",children:"Mailing Address"}),a.jsx("button",{onClick:v,className:"text-blue-600 hover:text-blue-800 text-sm",children:" Copy Address"})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-blue-500",children:[a.jsx("p",{className:"font-medium",children:u.company}),a.jsx("p",{children:u.address}),a.jsxs("p",{children:[u.city,", ",u.state," ",u.zipCode]}),a.jsx("p",{children:u.country})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Check Writing Instructions:"}),a.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[a.jsxs("li",{children:["Write check for exactly ",a.jsxs("strong",{children:["$",t.toFixed(2)]})]}),a.jsxs("li",{children:["Make payable to: ",a.jsx("strong",{children:u.company})]}),a.jsxs("li",{children:["Write order number ",a.jsx("strong",{children:g})," in memo line"]}),a.jsx("li",{children:"Include your name and order details in the envelope"}),a.jsx("li",{children:"Mail to the address above"})]})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Notes:"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:" Processing begins when check is received and clears"}),a.jsx("li",{children:" Allow 7-10 business days for check processing"}),a.jsx("li",{children:" Returned checks incur a $25 fee"}),a.jsx("li",{children:" Money orders are processed faster than personal checks"}),a.jsx("li",{children:" Keep a copy of your check for records"})]})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"What to Include in Envelope:"}),a.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[a.jsxs("li",{children:[" Check or money order for $",t.toFixed(2)]}),a.jsxs("li",{children:[" Order number: ",g]}),a.jsxs("li",{children:[" Your name: ",r.firstName," ",r.lastName]}),a.jsxs("li",{children:[" Your email: ",r.email]}),a.jsx("li",{children:" Shipping address (if different from check address)"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"check-terms",checked:n,onChange:b=>i(b.target.checked),className:"h-4 w-4 text-emerald-400"}),a.jsxs("label",{htmlFor:"check-terms",className:"text-sm text-gray-700",children:["I will mail a check/money order for $",t.toFixed(2)," to the address above"]})]}),a.jsx("button",{onClick:m,disabled:!n||s,className:"btn-primary w-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:s?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Confirm Order - I Will Mail Payment"})]})},tj=()=>{var X;const{cart:t,total:e,clearCart:r}=Kd(),{user:n}=Ta(),{success:i,error:s}=Li(),c=Ps(),[f,g]=ee.useState({firstName:(n==null?void 0:n.first_name)||"",lastName:(n==null?void 0:n.last_name)||"",email:(n==null?void 0:n.email)||"",address:(n==null?void 0:n.address)||"",city:(n==null?void 0:n.city)||"",state:(n==null?void 0:n.state)||"",zipCode:(n==null?void 0:n.zip_code)||"",phone:(n==null?void 0:n.phone)||"",paymentMethod:"cash_on_delivery"}),[u,m]=ee.useState(1),[v,b]=ee.useState(!1),[_,C]=ee.useState(null),A=[{id:"cash_on_delivery",name:"Cash on Delivery",description:"Pay when your order is delivered",icon:"",popular:!0},{id:"bank_transfer",name:"Bank Transfer",description:"Transfer money directly to our bank",icon:"",popular:!1},{id:"check",name:"Check / Money Order",description:"Mail us a check or money order",icon:"",popular:!1}];ee.useEffect(()=>{we(null,null,function*(){if(n)try{const K=yield mx(),G=K.data||K;console.log(" Checkout: Profile data for pre-population:",G),g(V=>er(kt({},V),{firstName:G.first_name||n.first_name||"",lastName:G.last_name||n.last_name||"",email:G.email||n.email||"",address:G.address||n.address||"",city:G.city||n.city||"",state:G.state||n.state||"",zipCode:G.zip_code||n.zip_code||"",phone:G.phone||n.phone||""})),console.log(" Checkout: Form data updated with profile data")}catch(K){console.error("Error fetching user profile:",K)}})},[n]);const j=Y=>{const{name:K,value:G}=Y.target;g(V=>er(kt({},V),{[K]:G}))},L=Y=>{Y.preventDefault(),m(2)},I=Y=>{g(K=>er(kt({},K),{paymentMethod:Y})),m(3)},P=Y=>we(null,null,function*(){b(!0);try{const K=t.map(ie=>({product_id:ie.product_id||ie.id,quantity:ie.quantity,price:ie.price})),G=`${f.firstName} ${f.lastName}, ${f.address}, ${f.city}, ${f.state} ${f.zipCode}, Phone: ${f.phone}`,V={items:K,total_amount:e,shipping_address:G,payment_method:Y.payment_method,payment_status:Y.payment_status,transaction_id:Y.transaction_id,reference_number:Y.reference_number||null,order_number:Y.order_number||null,first_name:f.firstName,last_name:f.lastName,email:f.email,city:f.city,state:f.state,zip_code:f.zipCode,phone:f.phone},z=yield GC(V);if(!z||!z.order_id)throw new Error("Invalid response from server");try{console.log(" Sending order confirmation email for order:",z.order_id),yield Y6.sendOrderConfirmation(z.order),console.log(" Order confirmation email sent successfully")}catch(ie){console.error(" Failed to send order confirmation email:",ie)}yield r(),i("Order placed successfully! Check your email for confirmation."),c(`/order-confirmation/${z.order_id}`)}catch(K){console.error("Error creating order:",K),s("Order creation failed. Please contact support.")}finally{b(!1)}});return t.length===0?(c("/cart"),null):a.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Checkout"}),a.jsxs("div",{className:"flex items-center mb-8",children:[a.jsxs("div",{className:`flex items-center ${u>=1?"text-[#B8860B]":"text-gray-500"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=1?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"1"}),a.jsx("span",{className:"ml-2",children:"Shipping"})]}),a.jsx("div",{className:`w-16 h-1 mx-4 ${u>=2?"bg-[#8B2332]":"bg-gray-600"}`}),a.jsxs("div",{className:`flex items-center ${u>=2?"text-[#B8860B]":"text-gray-500"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=2?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"2"}),a.jsx("span",{className:"ml-2",children:"Payment Method"})]}),a.jsx("div",{className:`w-16 h-1 mx-4 ${u>=3?"bg-[#8B2332]":"bg-gray-600"}`}),a.jsxs("div",{className:`flex items-center ${u>=3?"text-[#B8860B]":"text-gray-500"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=3?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"3"}),a.jsx("span",{className:"ml-2",children:"Payment"})]})]}),_&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:_}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsxs("div",{className:"lg:w-2/3",children:[u===1&&a.jsx("form",{onSubmit:L,children:a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Shipping Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"First Name"}),a.jsx("input",{type:"text",name:"firstName",value:f.firstName,onChange:j,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Last Name"}),a.jsx("input",{type:"text",name:"lastName",value:f.lastName,onChange:j,className:"form-input-vintage",required:!0})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"form-label-vintage",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:f.email,onChange:j,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"form-label-vintage",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:f.address,onChange:j,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"City"}),a.jsx("input",{type:"text",name:"city",value:f.city,onChange:j,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"State"}),a.jsx("input",{type:"text",name:"state",value:f.state,onChange:j,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Zip Code"}),a.jsx("input",{type:"text",name:"zipCode",value:f.zipCode,onChange:j,className:"form-input-vintage",required:!0})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"form-label-vintage",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:j,className:"form-input-vintage",required:!0})]}),a.jsx("button",{type:"submit",className:"btn-vintage-red w-full",children:"Continue to Payment Method"})]})}),u===2&&a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("button",{onClick:()=>m(1),className:"text-[#B8860B] hover:text-[#d4a50d] mr-4",children:" Back to Shipping"}),a.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Choose Payment Method"})]}),a.jsx("div",{className:"space-y-4",children:A.map(Y=>a.jsxs("div",{onClick:()=>I(Y.id),className:"border border-[#444] rounded-lg p-4 cursor-pointer hover:border-[#8B2332] hover:bg-[#333] transition-colors relative",children:[Y.popular&&a.jsx("span",{className:"absolute top-2 right-2 bg-[#8B2332] text-white text-xs px-2 py-1 rounded",children:"Popular"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-2xl mr-4",children:Y.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-[#F5F0E1]",children:Y.name}),a.jsx("p",{className:"text-[#A8A090] text-sm",children:Y.description})]})]})]},Y.id))})]}),u===3&&a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("button",{onClick:()=>m(2),className:"text-[#B8860B] hover:text-[#d4a50d] mr-4",children:" Back to Payment Method"}),a.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Payment Details"})]}),f.paymentMethod==="cash_on_delivery"&&a.jsx(KC,{amount:e,onSuccess:P,customerInfo:f}),f.paymentMethod==="bank_transfer"&&a.jsx(QT,{amount:e,onSuccess:P,customerInfo:f}),f.paymentMethod==="check"&&a.jsx(ej,{amount:e,onSuccess:P,customerInfo:f})]})]}),a.jsx("div",{className:"lg:w-1/3",children:a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 sticky top-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),a.jsx("div",{className:"mb-4",children:t.map(Y=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-[#444]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-[#F5F0E1]",children:Y.name}),a.jsxs("p",{className:"text-sm text-[#A8A090]",children:["Qty: ",Y.quantity]})]}),a.jsxs("p",{className:"font-semibold text-[#D4CFC0]",children:["$",(parseFloat(Y.price)*Y.quantity).toFixed(2)]})]},Y.id))}),a.jsxs("div",{className:"border-t border-[#444] pt-4 mb-4",children:[a.jsxs("div",{className:"flex justify-between mb-2 text-[#D4CFC0]",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",e.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:"$0.00"})]}),a.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[a.jsx("span",{children:"Tax"}),a.jsx("span",{children:"$0.00"})]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-[#444] pt-4 text-[#F5F0E1]",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-[#8B2332]",children:["$",e.toFixed(2)]})]}),u>=2&&a.jsxs("div",{className:"mt-4 p-3 bg-[#333] rounded",children:[a.jsx("p",{className:"text-sm text-[#A8A090]",children:"Payment Method:"}),a.jsx("p",{className:"font-semibold text-[#F5F0E1]",children:(X=A.find(Y=>Y.id===f.paymentMethod))==null?void 0:X.name})]})]})})]})]})},rj=()=>{const{id:t}=$d(),[e,r]=ee.useState(null),[n,i]=ee.useState(!0),[s,c]=ee.useState(null);return ee.useEffect(()=>{we(null,null,function*(){i(!0);try{const g=yield $C(t);r(g)}catch(g){c(g.message||"Failed to load order details")}finally{i(!1)}})},[t]),n?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading order details...",variant:"gear"})}):s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-600 mb-4",children:s}),a.jsx(Zt,{to:"/orders",className:"text-blue-600 hover:underline",children:"View All Orders"})]}):e?a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-6 py-8 rounded-lg mb-8 text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Order Confirmed!"}),a.jsx("p",{className:"text-lg",children:"Thank you for your purchase."}),a.jsxs("p",{className:"text-lg",children:["Your order number is: ",a.jsxs("span",{className:"font-semibold",children:["#",e.id||"N/A"]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Order Information"}),a.jsxs("p",{children:["Order Date & Time: ",new Date(e.created_at||Date.now()).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})]}),a.jsxs("p",{children:["Status: ",a.jsx("span",{className:"capitalize",children:e.status||"pending"})]}),a.jsxs("p",{children:["Payment Method: ",e.payment_method?e.payment_method.replace("_"," "):"Not specified"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Shipping Address"}),a.jsx("p",{children:e.shipping_address||"No shipping address provided"})]})]}),a.jsx("h3",{className:"font-semibold mb-2",children:"Order Items"}),a.jsx("div",{className:"border rounded overflow-hidden mb-4",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"Product"}),a.jsx("th",{className:"text-center p-3",children:"Price"}),a.jsx("th",{className:"text-center p-3",children:"Quantity"}),a.jsx("th",{className:"text-right p-3",children:"Total"})]})}),a.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map(f=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-3",children:f.product_name||"Unknown Product"}),a.jsxs("td",{className:"p-3 text-center",children:["$",parseFloat(f.price||0).toFixed(2)]}),a.jsx("td",{className:"p-3 text-center",children:f.quantity||1}),a.jsxs("td",{className:"p-3 text-right",children:["$",(parseFloat(f.price||0)*(f.quantity||1)).toFixed(2)]})]},f.id)):a.jsx("tr",{className:"border-t",children:a.jsx("td",{colSpan:"4",className:"p-3 text-center text-gray-500",children:"No items found for this order"})})}),a.jsx("tfoot",{className:"bg-gray-50",children:a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{colSpan:"3",className:"p-3 text-right font-semibold",children:"Total:"}),a.jsxs("td",{className:"p-3 text-right font-bold",children:["$",parseFloat(e.total_amount||0).toFixed(2)]})]})})]})})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Zt,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Continue Shopping"}),a.jsx(Zt,{to:"/orders",className:"bg-gray-200 text-gray-800 px-6 py-3 rounded font-semibold hover:bg-gray-300",children:"View All Orders"})]})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-xl mb-4",children:"Order not found"}),a.jsx(Zt,{to:"/orders",className:"text-blue-600 hover:underline",children:"View All Orders"})]})},$5=t=>{const e=new Date(t),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getDate().toString().padStart(2,"0"),i=r[e.getMonth()],s=e.getFullYear();return`${n}-${i}-${s}`},a0=t=>{const e=new Date(t),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getDate().toString().padStart(2,"0"),i=r[e.getMonth()],s=e.getFullYear(),c=e.getHours(),f=e.getMinutes().toString().padStart(2,"0"),g=c>=12?"PM":"AM",u=c%12||12;return`${n}-${i}-${s} ${u}:${f} ${g}`},X5=()=>{const{id:t}=$d(),[e,r]=ee.useState(null),[n,i]=ee.useState(!0),[s,c]=ee.useState(null),f=ro(),g=new URLSearchParams(f.search).get("print")==="true";ee.useEffect(()=>{we(null,null,function*(){i(!0);try{console.log("Fetching order details for ID:",t);const v=yield j6(t);console.log("Successfully fetched order:",v),r(v)}catch(v){console.error("Error fetching order:",v),c(v.message||"Failed to load order details")}finally{i(!1)}})},[t]),ee.useEffect(()=>{if(g&&e&&!n){const m=setTimeout(()=>{window.print()},1e3);return()=>clearTimeout(m)}},[g,e,n]);const u=m=>{switch(m){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-slate-600 text-slate-100"}};return n?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading order details...",variant:"gear"})}):s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-600 mb-4",children:s}),a.jsx(Zt,{to:"/orders",className:"text-blue-600 hover:underline",children:"Back to My Orders"})]}):e?a.jsxs("div",{className:"container mx-auto px-4 single-page",children:[a.jsx("div",{className:"mb-6 back-button",children:a.jsxs(Zt,{to:"/orders",className:"text-blue-600 hover:underline flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to My Orders"]})}),a.jsxs("div",{className:"invoice-header hidden print:block",children:[a.jsx("h1",{children:"INVOICE"}),a.jsx("p",{children:"Yamaha RD Parts Shop"}),a.jsxs("p",{children:["Invoice #: ",e.id]}),a.jsxs("p",{children:["Date: ",$5(e.created_at||Date.now())]})]}),a.jsxs("div",{className:"card p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-white mb-1",children:["Order #",e.id||"N/A"]}),a.jsxs("p",{className:"text-gray-300",children:["Placed on ",a0(e.created_at||Date.now())]})]}),a.jsx("div",{className:"mt-2 md:mt-0",children:a.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${u(e.status&&typeof e.status=="string"?e.status:"pending")}`,children:e.status&&typeof e.status=="string"&&e.status.length>0?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Pending"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 order-details-grid no-break",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Shipping Information"}),a.jsx("p",{className:"text-gray-300",children:e.shipping_address||"No shipping address provided"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Payment Information"}),a.jsxs("p",{className:"text-gray-300",children:["Method: ",e.payment_method?e.payment_method.replace("_"," "):"Not specified"]}),a.jsxs("p",{className:"text-gray-300",children:["Total: $",parseFloat(e.total_amount||0).toFixed(2)]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 order-details-grid no-break",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Billing Information"}),e.billing_info?a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-gray-300",children:e.billing_info.name}),a.jsx("p",{className:"text-gray-300",children:e.billing_info.email}),e.billing_info.phone&&a.jsx("p",{className:"text-gray-300",children:e.billing_info.phone}),e.billing_info.address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300",children:e.billing_info.address}),a.jsx("p",{className:"text-gray-700",children:[e.billing_info.city,e.billing_info.state,e.billing_info.zip_code].filter(Boolean).join(", ")})]})]}):a.jsx("p",{className:"text-gray-300",children:"No billing information available"})]}),a.jsx("div",{className:"flex justify-end items-start no-print",children:a.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 inline-flex items-center text-sm font-medium",style:{width:"auto",minWidth:"auto"},children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Invoice"]})})]}),a.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Order Items"}),a.jsx("div",{className:"border rounded overflow-hidden no-break",children:a.jsxs("table",{className:"w-full order-items",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3 text-white",children:"Product"}),a.jsx("th",{className:"text-center p-3 text-white",children:"Price"}),a.jsx("th",{className:"text-center p-3 text-white",children:"Quantity"}),a.jsx("th",{className:"text-right p-3 text-white",children:"Total"})]})}),a.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map(m=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"p-3 text-white",children:m.product_name||"Unknown Product"}),a.jsxs("td",{className:"p-3 text-center text-white",children:["$",parseFloat(m.price||0).toFixed(2)]}),a.jsx("td",{className:"p-3 text-center text-white",children:m.quantity||1}),a.jsxs("td",{className:"p-3 text-right text-white",children:["$",(parseFloat(m.price||0)*(m.quantity||1)).toFixed(2)]})]},m.id)):a.jsx("tr",{className:"border-t",children:a.jsx("td",{colSpan:"4",className:"p-3 text-center text-gray-500",children:"No items found for this order"})})}),a.jsx("tfoot",{className:"bg-gray-50",children:a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{colSpan:"3",className:"p-3 text-right font-semibold text-white",children:"Total:"}),a.jsxs("td",{className:"p-3 text-right font-bold text-white",children:["$",parseFloat(e.total_amount||0).toFixed(2)]})]})})]})})]}),a.jsxs("div",{className:"card p-6 order-timeline",children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Order Timeline"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"mr-4",children:a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white",children:"Order Placed"}),a.jsx("p",{className:"text-sm text-gray-300",children:a0(e.created_at||Date.now())})]})]}),e.status_history&&e.status_history.length>0&&e.status_history.filter(m=>m.status!=="pending").map((m,v)=>{let b="bg-blue-500",_=a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});m.status==="processing"?b="bg-blue-500":m.status==="shipped"?(b="bg-emerald-500",_=a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),a.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2a1 1 0 00.9-.5l3-5A1 1 0 0016 3H4a1 1 0 00-1 1z"})]})):m.status==="delivered"?(b="bg-green-500",_=a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})})):m.status==="cancelled"&&(b="bg-red-500",_=a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}));const C=m.status.charAt(0).toUpperCase()+m.status.slice(1);return a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"mr-4",children:a.jsx("div",{className:`w-8 h-8 ${b} rounded-full flex items-center justify-center text-white`,children:_})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white",children:C}),a.jsx("p",{className:"text-sm text-gray-300",children:a0(m.timestamp)})]})]},`status-${v}`)}),(!e.status_history||e.status_history.length<=1)&&a.jsxs(a.Fragment,{children:[e.status&&e.status!=="pending"&&a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"mr-4",children:a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white",children:"Processing"}),a.jsx("p",{className:"text-sm text-gray-300",children:a0(e.updated_at||e.created_at)})]})]}),e.status&&(e.status==="shipped"||e.status==="delivered")&&a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"mr-4",children:a.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center text-white",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),a.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2a1 1 0 00.9-.5l3-5A1 1 0 0016 3H4a1 1 0 00-1 1z"})]})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Shipped"}),a.jsx("p",{className:"text-sm text-gray-600",children:a0(e.updated_at||e.created_at)})]})]}),e.status&&e.status==="delivered"&&a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"mr-4",children:a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Delivered"}),a.jsx("p",{className:"text-sm text-gray-600",children:a0(e.updated_at||e.created_at)})]})]}),e.status&&e.status==="cancelled"&&a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"mr-4",children:a.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Cancelled"}),a.jsx("p",{className:"text-sm text-gray-600",children:a0(e.updated_at||e.created_at)})]})]})]})]})]}),a.jsxs("div",{className:"invoice-footer hidden print:block no-break",children:[a.jsx("p",{children:"Thank you for your business!"}),a.jsxs("p",{children:["For questions: support@yamahaparts.com | Generated: ",$5(new Date)]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-xl mb-4",children:"Order not found"}),a.jsx(Zt,{to:"/orders",className:"text-blue-600 hover:underline",children:"Back to My Orders"})]})},nj=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[i,s]=ee.useState(null),[c,f]=ee.useState(!1),g=()=>we(null,null,function*(){n(!0),s(null);try{console.log("Fetching orders...");const b=yield T6();console.log("Orders fetched:",b),Array.isArray(b)?e(b):(console.error("Invalid data format received:",b),s("Received invalid data format from server."))}catch(b){console.error("Error in loadOrders:",b),s("Failed to load orders. Please try again.")}finally{n(!1)}}),u=()=>we(null,null,function*(){f(!0),s(null);try{const b=yield VC();e(b)}catch(b){console.error("Error in handleCreateTestOrder:",b),s("Failed to create test order. Please try again.")}finally{f(!1)}});ee.useEffect(()=>{g()},[]);const m=b=>{switch(b){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-slate-600 text-slate-100"}},v=b=>{const _={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(b).toLocaleString(void 0,_)};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"My Orders"}),r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(fn,{size:"xl",text:"Loading your orders...",variant:"gear"})}):i?a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[a.jsx("p",{children:i}),a.jsx("button",{onClick:g,className:"mt-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Try Again"})]}):t.length===0?a.jsxs("div",{className:"text-center py-12 card",children:[a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"You don't have any orders yet"}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(Zt,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Browse Products"}),a.jsx("button",{onClick:u,disabled:c,className:`${c?"bg-gray-400":"bg-green-600 hover:bg-green-700"} text-white px-6 py-3 rounded font-semibold flex items-center space-x-2`,children:c?a.jsx(rc,{text:"Creating...",variant:"gear",size:"sm"}):"Create Test Order"})]})]}):a.jsx("div",{className:"card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-600",children:t.map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",b.id]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:v(b.created_at)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(b.total_amount).toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m(b.status)}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.payment_method.replace("_"," ").replace(/\b\w/g,_=>_.toUpperCase())}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx(Zt,{to:`/order/${b.id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},b.id))})]})})}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx(Zt,{to:"/products",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-800 hover:bg-blue-700",children:"Continue Shopping"})})]})},ij=()=>{const{user:t,isAuthenticated:e,updateUserData:r}=Ta(),{success:n,error:i}=Li(),[s,c]=ee.useState([]),[f,g]=ee.useState(!0),[u,m]=ee.useState(!0),[v,b]=ee.useState(null),[_,C]=ee.useState(!1),[A,j]=ee.useState(!1),[L,I]=ee.useState(!0),[P,X]=ee.useState(!0),[Y,K]=ee.useState({first_name:"",last_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",shipping_address:"",shipping_city:"",shipping_state:"",shipping_zip_code:"",billing_address:"",billing_city:"",billing_state:"",billing_zip_code:"",preferred_address:"shipping",preferred_payment_method:"credit_card"});ee.useEffect(()=>{we(null,null,function*(){if(!e()){g(!1);return}try{g(!0),console.log(" Profile: Fetching user profile data...");const H=yield mx();console.log(" Profile: Fetched profile data:",H);const ne=H.data||H;K({first_name:ne.first_name||"",last_name:ne.last_name||"",email:ne.email||"",phone:ne.phone||"",address:ne.address||"",city:ne.city||"",state:ne.state||"",zip_code:ne.zip_code||"",shipping_address:ne.shipping_address||"",shipping_city:ne.shipping_city||"",shipping_state:ne.shipping_state||"",shipping_zip_code:ne.shipping_zip_code||"",billing_address:ne.billing_address||"",billing_city:ne.billing_city||"",billing_state:ne.billing_state||"",billing_zip_code:ne.billing_zip_code||"",preferred_address:ne.preferred_address||"shipping",preferred_payment_method:ne.preferred_payment_method||"credit_card"}),I(!ne.shipping_address),X(!ne.billing_address),console.log(" Profile: Form data updated with profile data")}catch(H){console.error(" Profile: Error fetching profile:",H),i("Failed to load profile data"),t&&(console.log(" Profile: Falling back to user context data"),K({first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",zip_code:t.zip_code||"",shipping_address:t.shipping_address||"",shipping_city:t.shipping_city||"",shipping_state:t.shipping_state||"",shipping_zip_code:t.shipping_zip_code||"",billing_address:t.billing_address||"",billing_city:t.billing_city||"",billing_state:t.billing_state||"",billing_zip_code:t.billing_zip_code||"",preferred_address:t.preferred_address||"shipping",preferred_payment_method:t.preferred_payment_method||"credit_card"}),I(!t.shipping_address),X(!t.billing_address))}finally{g(!1)}})},[e,i]),ee.useEffect(()=>{we(null,null,function*(){if(!e()){m(!1);return}m(!0);try{console.log(" Profile: Fetching recent orders...");const ne=(yield T6()).sort((ve,me)=>new Date(me.created_at)-new Date(ve.created_at)).slice(0,5);c(ne),console.log(" Profile: Recent orders loaded:",ne.length)}catch(H){console.error(" Profile: Error loading orders:",H),b("Failed to load recent orders")}finally{m(!1)}})},[e]);const G=W=>{const{name:H,value:ne}=W.target;K(ve=>er(kt({},ve),{[H]:ne}))},V=W=>we(null,null,function*(){W.preventDefault(),j(!0);try{const H=yield oC(Y);console.log("Profile update response:",H),r(Y);const ne=yield mx(),ve=ne.data||ne;console.log("Fresh profile data after update:",ve),r(ve),K({first_name:ve.first_name||"",last_name:ve.last_name||"",email:ve.email||"",phone:ve.phone||"",address:ve.address||"",city:ve.city||"",state:ve.state||"",zip_code:ve.zip_code||"",shipping_address:ve.shipping_address||"",shipping_city:ve.shipping_city||"",shipping_state:ve.shipping_state||"",shipping_zip_code:ve.shipping_zip_code||"",billing_address:ve.billing_address||"",billing_city:ve.billing_city||"",billing_state:ve.billing_state||"",billing_zip_code:ve.billing_zip_code||"",preferred_address:ve.preferred_address||"shipping",preferred_payment_method:ve.preferred_payment_method||"credit_card"}),I(!ve.shipping_address),X(!ve.billing_address),n("Profile updated successfully"),C(!1)}catch(H){console.error("Error updating profile:",H),i(H.message||"Failed to update profile")}finally{j(!1)}}),z=W=>{const H={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(W).toLocaleString(void 0,H)},ie=W=>{switch(W){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e()?a.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"My Profile"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Personal Information"}),!_&&!f&&a.jsx("button",{onClick:()=>C(!0),className:"btn-vintage-red",children:"Edit Profile"})]}),f?a.jsx("div",{className:"text-center py-8",children:a.jsx(fn,{size:"lg",text:"Loading profile...",variant:"gear"})}):_?a.jsxs("form",{onSubmit:V,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",name:"first_name",value:Y.first_name,onChange:G,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Name cannot be changed"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",name:"last_name",value:Y.last_name,onChange:G,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Name cannot be changed"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:Y.email,onChange:G,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Email cannot be changed"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:Y.phone,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Primary Address"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:Y.address,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),a.jsx("input",{type:"text",name:"city",value:Y.city,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),a.jsx("input",{type:"text",name:"state",value:Y.state,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zip_code",value:Y.zip_code,onChange:G,className:"w-full p-2 border rounded"})]})]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Shipping Address"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:"same-as-primary-shipping",checked:L,onChange:W=>{const H=W.target.checked;I(H),K(H?ne=>er(kt({},ne),{shipping_address:"",shipping_city:"",shipping_state:"",shipping_zip_code:""}):ne=>er(kt({},ne),{shipping_address:ne.address||"",shipping_city:ne.city||"",shipping_state:ne.state||"",shipping_zip_code:ne.zip_code||""}))},className:"mr-2"}),a.jsx("label",{htmlFor:"same-as-primary-shipping",className:"text-gray-700",children:"Same as primary address"})]}),L?a.jsx("p",{className:"text-sm text-gray-600 italic",children:"Using primary address for shipping"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),a.jsx("input",{type:"text",name:"shipping_address",value:Y.shipping_address,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),a.jsx("input",{type:"text",name:"shipping_city",value:Y.shipping_city,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),a.jsx("input",{type:"text",name:"shipping_state",value:Y.shipping_state,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"shipping_zip_code",value:Y.shipping_zip_code,onChange:G,className:"w-full p-2 border rounded"})]})]})]})]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Billing Address"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("input",{type:"checkbox",id:"same-as-primary-billing",checked:P,onChange:W=>{const H=W.target.checked;X(H),K(H?ne=>er(kt({},ne),{billing_address:"",billing_city:"",billing_state:"",billing_zip_code:""}):ne=>er(kt({},ne),{billing_address:ne.address||"",billing_city:ne.city||"",billing_state:ne.state||"",billing_zip_code:ne.zip_code||""}))},className:"mr-2"}),a.jsx("label",{htmlFor:"same-as-primary-billing",className:"text-gray-700",children:"Same as primary address"})]}),P?a.jsx("p",{className:"text-sm text-gray-600 italic",children:"Using primary address for billing"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),a.jsx("input",{type:"text",name:"billing_address",value:Y.billing_address,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),a.jsx("input",{type:"text",name:"billing_city",value:Y.billing_city,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),a.jsx("input",{type:"text",name:"billing_state",value:Y.billing_state,onChange:G,className:"w-full p-2 border rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"billing_zip_code",value:Y.billing_zip_code,onChange:G,className:"w-full p-2 border rounded"})]})]})]})]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Address Preferences"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Preferred Address for Checkout"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"radio",id:"shipping",name:"preferred_address",value:"shipping",checked:Y.preferred_address==="shipping",onChange:G,className:"mr-2"}),a.jsx("label",{htmlFor:"shipping",children:"Shipping Address"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"radio",id:"billing",name:"preferred_address",value:"billing",checked:Y.preferred_address==="billing",onChange:G,className:"mr-2"}),a.jsx("label",{htmlFor:"billing",children:"Billing Address"})]})]})]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Payment Preferences"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Preferred Payment Method"}),a.jsxs("select",{name:"preferred_payment_method",value:Y.preferred_payment_method,onChange:G,className:"w-full p-2 border rounded",children:[a.jsx("option",{value:"credit_card",children:"Credit Card"}),a.jsx("option",{value:"paypal",children:"PayPal"}),a.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),a.jsxs("div",{className:"flex justify-end mt-6",children:[a.jsx("button",{type:"button",onClick:()=>C(!1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded mr-2 hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-800 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",disabled:A,children:A?a.jsx(rc,{text:"Saving...",variant:"gear",size:"sm"}):"Save Changes"})]})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Name"}),a.jsxs("p",{children:[t.first_name," ",t.last_name]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Email"}),a.jsx("p",{children:t.email})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Phone"}),a.jsx("p",{children:t.phone||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Member Since"}),a.jsx("p",{children:t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Primary Address"}),a.jsx("p",{children:t.address||"No address provided"}),t.city&&t.state&&a.jsxs("p",{children:[t.city,", ",t.state," ",t.zip_code]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Shipping Address"}),t.shipping_address?a.jsxs(a.Fragment,{children:[a.jsx("p",{children:t.shipping_address}),t.shipping_city&&t.shipping_state&&a.jsxs("p",{children:[t.shipping_city,", ",t.shipping_state," ",t.shipping_zip_code]})]}):a.jsx("p",{className:"text-gray-600 italic",children:"Using primary address for shipping"}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Billing Address"}),t.billing_address?a.jsxs(a.Fragment,{children:[a.jsx("p",{children:t.billing_address}),t.billing_city&&t.billing_state&&a.jsxs("p",{children:[t.billing_city,", ",t.billing_state," ",t.billing_zip_code]})]}):a.jsx("p",{className:"text-gray-600 italic",children:"Using primary address for billing"}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Address Preferences"}),a.jsxs("p",{children:["Preferred Address for Checkout: ",Y.preferred_address==="billing"?"Billing Address":"Shipping Address"]}),a.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Payment Preferences"}),a.jsxs("p",{children:["Preferred Payment Method: ",Y.preferred_payment_method?Y.preferred_payment_method.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase()):"Not set"]})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Recent Orders"}),a.jsx(Zt,{to:"/orders",className:"text-[#B8860B] hover:text-[#d4a50d] text-sm",children:"View All"})]}),u?a.jsx("div",{className:"text-center py-4",children:a.jsx(fn,{size:"md",text:"Loading orders...",variant:"gear"})}):v?a.jsx("div",{className:"text-center py-4 text-red-600",children:v}):s.length===0?a.jsx("div",{className:"text-center py-4 text-gray-600",children:"No orders found"}):a.jsx("div",{className:"space-y-4",children:s.map(W=>a.jsxs("div",{className:"border rounded p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold",children:["Order #",W.id]}),a.jsx("p",{className:"text-sm text-gray-600",children:z(W.created_at)})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ie(W.status)}`,children:W.status.charAt(0).toUpperCase()+W.status.slice(1)})]}),a.jsxs("p",{className:"font-medium",children:["$",parseFloat(W.total_amount).toFixed(2)]}),a.jsx("div",{className:"mt-2",children:a.jsx(Zt,{to:`/order/${W.id}`,className:"text-blue-600 hover:underline text-sm",children:"View Details"})})]},W.id))})]})})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-xl mb-4",children:"Please log in to view your profile"}),a.jsx(Zt,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"})]})},K6=({text:t="Continue with Google",className:e="",disabled:r=!1,variant:n="primary"})=>{const[i,s]=ee.useState(!1),c=()=>{if(r||i)return;s(!0),console.log(" Initiating Google OAuth...");const v="https://www.partsformyrd350.com";window.location.href=`${v}/auth/google`},m=`
    w-full flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 
    ${{primary:"bg-slate-800 border border-slate-600 text-slate-200 hover:bg-slate-700 focus:ring-emerald-500 shadow-sm",outline:"border-2 border-slate-600 text-slate-300 hover:border-slate-500 hover:bg-slate-800 focus:ring-emerald-500"}[n]} 
    ${r||i?"opacity-50 cursor-not-allowed":""} 
    ${e}
  `.trim();return a.jsx("button",{type:"button",onClick:c,disabled:r||i,className:m,children:i?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t]})})},Z6=ee.forwardRef(({onVerify:t,className:e=""},r)=>{const[n,i]=ee.useState(""),[s,c]=ee.useState(!1),f=ee.useRef(Date.now());return ee.useImperativeHandle(r,()=>({verify:()=>{const g=Date.now()-f.current;return n!==""||g<2e3?(console.log(" Bot detected:",{honeypotFilled:n!=="",tooFast:g<2e3}),t&&t(!1),!1):(c(!0),t&&t(!0),!0)},reset:()=>{i(""),c(!1),f.current=Date.now()},isVerified:()=>s})),a.jsxs("div",{className:`honeypot-protection ${e}`,children:[a.jsx("input",{type:"text",name:"website",value:n,onChange:g=>i(g.target.value),style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none",tabIndex:-1},tabIndex:"-1",autoComplete:"off"}),a.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{children:"Protected by advanced security"})]})]})});Z6.displayName="HoneypotProtection";const aj=()=>{var L;const{login:t,loading:e}=Ta(),r=Ps(),n=ro(),[i]=kf(),[s,c]=ee.useState({email:"",password:""}),[f,g]=ee.useState(null),[u,m]=ee.useState(!1),v=ee.useRef(null),b=((L=n.state)==null?void 0:L.from)||"/";ee.useEffect(()=>{const I=i.get("status"),P=i.get("email"),X=i.get("error");if(I==="pending_verification"&&P)g(`Please verify your email address (${P}) to complete your registration.`);else if(I==="pending_approval"&&P)g(`Your account (${P}) is pending admin approval.`);else if(X)switch(X){case"oauth_failed":case"oauth_error":case"oauth_no_user":case"callback_error":g("Google authentication failed. Please try again.");break;case"account_rejected":g("Your account has been rejected. Please contact support.");break;case"account_suspended":g("Your account has been suspended. Please contact support.");break;default:g("Authentication failed. Please try again.")}},[i]);const _=I=>{const{name:P,value:X}=I.target;c(Y=>er(kt({},Y),{[P]:X}))},C=I=>we(null,null,function*(){if(I.preventDefault(),g(null),v.current&&!v.current.verify()){g("Security verification failed. Please try again.");return}try{const P=yield t(s.email,s.password);setTimeout(()=>{r(b,{replace:!0})},500)}catch(P){g(P.message||"Login failed"),v.current&&v.current.reset()}}),A=I=>{m(I),f&&f.includes("security verification")&&g(null)},j=()=>a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19,7H18V6A1,1,0,0,0,17,5H7A1,1,0,0,0,6,6V7H5A1,1,0,0,0,4,8V19a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V8A1,1,0,0,0,19,7ZM8,7h8V8H8ZM18,19a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V10H18ZM14,3V4H10V3a1,1,0,0,1,2,0h0a1,1,0,0,1,2,0Z"})});return a.jsxs("div",{className:"min-h-screen flex",children:[a.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/login-motorcycle.jpg)",filter:"grayscale(100%)"},children:a.jsx("div",{className:"w-full h-full bg-black/20"})}),a.jsx("div",{className:"w-full lg:w-1/2 backdrop-vintage-paper flex items-center justify-center p-8",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-32 w-auto drop-shadow-lg"})}),a.jsx("h1",{className:"heading-vintage text-center",children:"Login to Your Garage"}),f&&a.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:f}),a.jsxs("form",{onSubmit:C,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:_,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Password"}),a.jsx("input",{type:"password",name:"password",value:s.password,onChange:_,className:"form-input-vintage",required:!0})]}),a.jsx("div",{className:"text-right",children:a.jsx(Zt,{to:"/forgot-password",className:"link-vintage",children:"Forgot Password?"})}),a.jsx("div",{className:"hidden",children:a.jsx(Z6,{ref:v,onVerify:A})}),a.jsx("button",{type:"submit",className:"btn-vintage-red w-full",disabled:e,children:e?a.jsx(rc,{text:"Logging in...",variant:"gear",size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx(j,{}),a.jsx("span",{children:"Log In"})]})}),a.jsx(Zt,{to:"/register",className:"btn-vintage-gray w-full block text-center",children:"Create Account"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t-2 border-[#C0B8A8]"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-[#F5F0E1] text-[#666] font-medium uppercase tracking-wide",children:"Or continue with"})})]}),a.jsx(K6,{text:"Sign in with Google",disabled:e})]})})]})},sj=({password:t,userInfo:e={}})=>{const[r,n]=ee.useState("none"),[i,s]=ee.useState([]),[c,f]=ee.useState([]),[g,u]=ee.useState([]),m=[{id:"length",text:"At least 8 characters long",regex:/.{8,}/},{id:"uppercase",text:"At least one uppercase letter (A-Z)",regex:/[A-Z]/},{id:"lowercase",text:"At least one lowercase letter (a-z)",regex:/[a-z]/},{id:"number",text:"At least one number (0-9)",regex:/[0-9]/},{id:"special",text:"At least one special character (!@#$%^&*)",regex:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/}],v=["password","password123","123456","123456789","qwerty","abc123","password1","admin","letmein","welcome","monkey","1234567890"];ee.useEffect(()=>{if(!t){n("none"),s([]),f([]),u([]);return}b(t)},[t,e]);const b=j=>{var Y;const L=[],I=[],P=[];if(m.forEach(K=>{const G=K.regex.test(j);P.push(er(kt({},K),{met:G})),G||L.push(K.text)}),v.includes(j.toLowerCase())&&L.push("This password is too common. Please choose a more unique password"),/^(.)\1+$/.test(j)&&L.push("Password cannot be all the same character"),/^(012|123|234|345|456|567|678|789|890|abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz)/i.test(j)&&L.push("Password cannot contain simple sequences"),/^(qwerty|asdfgh|zxcvbn|qwertyui|asdfghjk|zxcvbnm)/i.test(j)&&L.push("Password cannot be based on keyboard patterns"),e){const K=[e.firstName,e.lastName,(Y=e.email)==null?void 0:Y.split("@")[0],e.phone].filter(Boolean);for(const G of K)if(G&&j.toLowerCase().includes(G.toLowerCase())){L.push("Password cannot contain your personal information");break}}const X=_(j);X==="weak"?I.push("Consider using a longer password with more variety"):X==="medium"&&I.push("Good password! Consider adding more special characters for extra security"),s(L),f(I),u(P),n(X)},_=j=>{let L=0;return j.length>=8&&(L+=1),j.length>=12&&(L+=1),j.length>=16&&(L+=1),/[a-z]/.test(j)&&(L+=1),/[A-Z]/.test(j)&&(L+=1),/[0-9]/.test(j)&&(L+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(j)&&(L+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?].*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(j)&&(L+=1),/(.)\1{2,}/.test(j)||(L+=1),j.length>=20&&(L+=1),L<=3?"weak":L<=5?"medium":L<=7?"strong":"very-strong"},C=()=>{switch(r){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-blue-500";case"very-strong":return"bg-green-500";default:return"bg-gray-300"}},A=()=>{switch(r){case"weak":return"w-1/4";case"medium":return"w-2/4";case"strong":return"w-3/4";case"very-strong":return"w-full";default:return"w-0"}};return t?a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Strength"}),a.jsx("span",{className:`text-sm font-medium capitalize ${r==="weak"?"text-red-600":r==="medium"?"text-yellow-600":r==="strong"?"text-blue-600":r==="very-strong"?"text-green-600":"text-gray-500"}`,children:r==="very-strong"?"Very Strong":r})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${C()} ${A()}`})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Requirements"}),a.jsx("div",{className:"space-y-1",children:g.map(j=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${j.met?"bg-green-500":"bg-gray-300"}`,children:j.met&&a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),a.jsx("span",{className:`text-sm ${j.met?"text-green-700":"text-gray-600"}`,children:j.text})]},j.id))})]}),i.length>0&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[a.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"Password Issues"}),a.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:i.map((j,L)=>a.jsxs("li",{className:"flex items-start space-x-1",children:[a.jsx("span",{className:"text-red-500 mt-0.5",children:""}),a.jsx("span",{children:j})]},L))})]}),c.length>0&&i.length===0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:[a.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Suggestions"}),a.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:c.map((j,L)=>a.jsxs("li",{className:"flex items-start space-x-1",children:[a.jsx("span",{className:"text-yellow-500 mt-0.5",children:""}),a.jsx("span",{children:j})]},L))})]}),r==="very-strong"&&i.length===0&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Excellent! Your password is very strong."})]})})]}):null},oj=()=>{const{register:t,loading:e}=Ta(),r=Ps(),[n,i]=ee.useState({email:"",password:"",confirmPassword:"",first_name:"",last_name:"",address:"",phone:""}),[s,c]=ee.useState(null),[f,g]=ee.useState(!1),[u,m]=ee.useState(!1),[v,b]=ee.useState(""),_=A=>{const{name:j,value:L}=A.target;i(I=>er(kt({},I),{[j]:L}))},C=A=>we(null,null,function*(){if(A.preventDefault(),c(null),n.password!==n.confirmPassword){c("Passwords do not match");return}try{const j=n,{confirmPassword:L}=j,I=fu(j,["confirmPassword"]),P=yield t(I);P!=null&&P.verification_required?(m(!0),b(I.email),g(!1)):(g(!0),setTimeout(()=>{r("/login")},2e3))}catch(L){c(L.message||"Registration failed")}});return a.jsxs("div",{className:"min-h-screen flex",children:[a.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/login-motorcycle.jpg)",filter:"grayscale(100%)"},children:a.jsx("div",{className:"w-full h-full bg-black/20"})}),a.jsx("div",{className:"w-full lg:w-1/2 backdrop-vintage-paper flex items-center justify-center p-8 overflow-y-auto",children:a.jsxs("div",{className:"w-full max-w-lg",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-24 w-auto drop-shadow-lg"})}),a.jsx("h1",{className:"heading-vintage text-center text-2xl",children:"Create Your Account"}),s&&a.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:s}),f&&a.jsx("div",{className:"bg-green-100 border-2 border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:"Registration successful! Redirecting to login..."}),u&&a.jsxs("div",{className:"bg-yellow-100 border-2 border-yellow-400 text-yellow-800 px-4 py-3 rounded-lg mb-6",children:[a.jsx("strong",{children:"Email Verification Required"}),a.jsxs("p",{className:"mt-2",children:["We've sent a verification link to ",a.jsx("strong",{children:v}),"."]}),a.jsx("p",{className:"mt-2",children:"Please check your email to activate your account."}),a.jsx(Zt,{to:"/login",className:"link-vintage mt-3 inline-block",children:"Back to Login"})]}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"First Name"}),a.jsx("input",{type:"text",name:"first_name",value:n.first_name,onChange:_,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Last Name"}),a.jsx("input",{type:"text",name:"last_name",value:n.last_name,onChange:_,className:"form-input-vintage",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:n.email,onChange:_,className:"form-input-vintage",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:_,className:"form-input-vintage"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Address"}),a.jsx("textarea",{name:"address",value:n.address,onChange:_,className:"form-input-vintage",rows:"2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Password"}),a.jsx("input",{type:"password",name:"password",value:n.password,onChange:_,className:"form-input-vintage",required:!0,minLength:"8",placeholder:"Enter a strong password"}),a.jsx(sj,{password:n.password,userInfo:{firstName:n.first_name,lastName:n.last_name,email:n.email,phone:n.phone}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label-vintage",children:"Confirm Password"}),a.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:_,className:"form-input-vintage",required:!0})]}),a.jsx("button",{type:"submit",className:"btn-vintage-red w-full",disabled:e||f,children:e?a.jsx(rc,{text:"Creating Account...",variant:"gear",size:"sm"}):"Create Account"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t-2 border-[#C0B8A8]"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-[#F5F0E1] text-[#666] font-medium uppercase tracking-wide",children:"Or continue with"})})]}),a.jsx(K6,{text:"Sign up with Google",disabled:e||f}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-[#3D3D3D]",children:["Already have an account?"," ",a.jsx(Zt,{to:"/login",className:"link-vintage",children:"Sign In"})]})})]})})]})},lj=()=>{const[t]=kf(),e=Ps(),{login:r}=Ta(),{success:n,error:i}=Li(),[s,c]=ee.useState(!0),[f,g]=ee.useState(!1),[u,m]=ee.useState(null),[v,b]=ee.useState(!1),[_,C]=ee.useState(!1);return ee.useEffect(()=>{we(null,null,function*(){var L;const j=t.get("token");if(!j){m("Invalid verification link. No token provided."),c(!1);return}try{const I=yield Xr.get(`/auth/verify-email?token=${j}`);if(I.data.already_verified)b(!0),n("Email already verified! You can now login.");else if(g(!0),n("Email verified successfully! Welcome to Sardaarji Auto Parts!"),I.data.token){const P={user:I.data.user,token:I.data.token};r(P),setTimeout(()=>{e("/products")},2e3)}}catch(I){console.error("Email verification error:",I);const P=(L=I.response)==null?void 0:L.data;P!=null&&P.expired?(C(!0),m("Verification link has expired. Please request a new verification email.")):m((P==null?void 0:P.message)||"Email verification failed. Please try again."),i((P==null?void 0:P.message)||"Email verification failed")}finally{c(!1)}})},[t,r,e,n,i]),s?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"text-center",children:a.jsx(fn,{size:"xl",text:"Verifying your email...",variant:"gear"})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsx("div",{className:"text-center",children:a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Email Verification"})}),a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[f&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Verified Successfully! "}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to Sardaarji Auto Parts! Your account is now active and you're being logged in."}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to products page..."})]}),v&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Already Verified "}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Your email is already verified. You can login to your account."}),a.jsx(Zt,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Go to Login"})]}),u&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Failed"}),a.jsx("p",{className:"text-gray-600 mb-4",children:u}),_&&a.jsx("div",{className:"space-y-3",children:a.jsx(Zt,{to:"/resend-verification",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Request New Verification Email"})}),a.jsx("div",{className:"mt-4",children:a.jsx(Zt,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})]})})},cj=()=>{const{success:t,error:e}=Li(),[r,n]=ee.useState(""),[i,s]=ee.useState(!1),[c,f]=ee.useState(!1),[g,u]=ee.useState(0),m=v=>we(null,null,function*(){var b,_;if(v.preventDefault(),!r){e("Please enter your email address");return}s(!0);try{const C=yield Xr.post("/auth/resend-verification",{email:r});f(!0),t("Verification email sent! Please check your inbox.")}catch(C){console.error("Resend verification error:",C);const A=(b=C.response)==null?void 0:b.data;((_=C.response)==null?void 0:_.status)===429?(u((A==null?void 0:A.retry_after)||60),e((A==null?void 0:A.message)||"Please wait before requesting another email")):e((A==null?void 0:A.message)||"Failed to send verification email")}finally{s(!1)}});return ee.useState(()=>{if(g>0){const v=setInterval(()=>{u(b=>b<=1?(clearInterval(v),0):b-1)},1e3);return()=>clearInterval(v)}},[g]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Resend Verification Email"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address to receive a new verification link"})]}),a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[c?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Email Sent! "}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a new verification email to ",a.jsx("strong",{children:r}),". Please check your inbox and click the verification link."]}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Don't see the email? Check your spam folder."}),a.jsx("button",{onClick:()=>{f(!1),n("")},className:"text-blue-600 hover:text-blue-500 text-sm",children:"Send to a different email"})]}):a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:v=>n(v.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",disabled:i||g>0})]}),g>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:["Please wait ",g," seconds before requesting another email."]})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:i||g>0,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?a.jsx(fn,{size:"sm",text:"Sending..."}):g>0?`Wait ${g}s`:"Send Verification Email"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Zt,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})})},uj=()=>{const t=Ps(),[e]=kf(),{setUser:r}=Ta(),[n,i]=ee.useState("processing"),[s,c]=ee.useState("Processing authentication...");return ee.useEffect(()=>{we(null,null,function*(){try{console.log(" Processing OAuth callback...");const g=e.get("token"),u=e.get("user"),m=e.get("oauth_success"),v=e.get("error");if(v){switch(console.error(" OAuth error:",v),i("error"),v){case"oauth_failed":c("Google authentication failed. Please try again.");break;case"oauth_error":c("An error occurred during authentication. Please try again.");break;case"oauth_no_user":c("Unable to retrieve user information from Google. Please try again.");break;case"account_rejected":c("Your account has been rejected. Please contact support.");break;case"account_suspended":c("Your account has been suspended. Please contact support.");break;case"account_inactive":c("Your account is not active. Please contact support.");break;case"callback_error":c("An error occurred processing your authentication. Please try again.");break;default:c("Authentication failed. Please try again.")}setTimeout(()=>{t("/login",{replace:!0})},3e3);return}if(m==="true"&&g&&u){console.log(" OAuth success, processing user data...");try{const b=JSON.parse(u);localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(b)),r&&r(b),console.log(" User authenticated successfully:",b.email),i("success"),c(`Welcome, ${b.first_name||b.email}! Redirecting...`);const _=localStorage.getItem("cart");if(_)try{console.log(" Migrating cart from localStorage...");const{importCart:C}=yield Es(()=>we(null,null,function*(){const{importCart:j}=yield Promise.resolve().then(()=>W2);return{importCart:j}}),void 0),A=JSON.parse(_);yield C(A),localStorage.removeItem("cart"),console.log(" Cart migrated successfully")}catch(C){console.error(" Failed to migrate cart:",C)}setTimeout(()=>{t("/",{replace:!0})},2e3)}catch(b){console.error(" Error parsing user data:",b),i("error"),c("Error processing authentication data. Please try logging in again."),setTimeout(()=>{t("/login",{replace:!0})},3e3)}}else console.error(" Missing required OAuth parameters"),i("error"),c("Invalid authentication response. Please try again."),setTimeout(()=>{t("/login",{replace:!0})},3e3)}catch(g){console.error(" OAuth callback error:",g),i("error"),c("An unexpected error occurred. Please try again."),setTimeout(()=>{t("/login",{replace:!0})},3e3)}})},[e,t,r]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[n==="processing"&&a.jsxs(a.Fragment,{children:[a.jsx(fn,{size:"lg"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mt-4",children:"Authenticating..."}),a.jsx("p",{className:"text-gray-600 mt-2",children:s})]}),n==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-xl font-semibold text-green-900",children:"Authentication Successful!"}),a.jsx("p",{className:"text-green-700 mt-2",children:s})]}),n==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h2",{className:"text-xl font-semibold text-red-900",children:"Authentication Failed"}),a.jsx("p",{className:"text-red-700 mt-2",children:s}),a.jsx("p",{className:"text-gray-600 text-sm mt-4",children:"Redirecting to login page..."})]})]})})},dj=()=>{const[t,e]=ee.useState(""),[r,n]=ee.useState(!1),[i,s]=ee.useState(null),[c,f]=ee.useState(!1),g=v=>{e(v.target.value),i&&s(null)},u=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),m=v=>we(null,null,function*(){if(v.preventDefault(),!t){s("Email is required");return}if(!u(t)){s("Please enter a valid email address");return}n(!0),s(null);try{console.log(" Requesting password reset for:",t);const _=yield(yield fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();_.success?(console.log(" Password reset request successful"),f(!0)):(console.error(" Password reset request failed:",_.message),s(_.message||"Failed to send reset email"))}catch(b){console.error(" Password reset request error:",b),s("An error occurred. Please try again.")}finally{n(!1)}});return c?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("h2",{className:"text-xl font-semibold text-green-900 mb-4",children:"Check Your Email"}),a.jsx("p",{className:"text-green-700 mb-6",children:"If an account with that email exists, we've sent you a password reset link."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-4 text-left",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"What's next?"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Check your email inbox (and spam folder)"}),a.jsx("li",{children:" Click the reset link in the email"}),a.jsx("li",{children:" The link expires in 1 hour"}),a.jsx("li",{children:" Create your new password"})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(Zt,{to:"/login",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-200 text-center",children:"Back to Login"}),a.jsx("button",{onClick:()=>{f(!1),e("")},className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50 transition duration-200",children:"Try Again"})]})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password?"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"No worries! Enter your email address and we'll send you a reset link."})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("form",{onSubmit:m,children:[i&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:g,required:!0,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email address",disabled:r})]}),a.jsx("button",{type:"submit",disabled:r||!t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:r?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(rc,{}),a.jsx("span",{className:"ml-2",children:"Sending Reset Link..."})]}):"Send Reset Link"})]}),a.jsxs("div",{className:"mt-6 text-center space-y-2",children:[a.jsx(Zt,{to:"/login",className:"block text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"}),a.jsxs("div",{className:"text-gray-500 text-sm",children:["Don't have an account?"," ",a.jsx(Zt,{to:"/register",className:"text-blue-600 hover:text-blue-500",children:"Sign up here"})]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Need Help?"}),a.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("p",{children:" Make sure you enter the email address you used to register"}),a.jsx("p",{children:" Check your spam/junk folder if you don't see the email"}),a.jsx("p",{children:" The reset link expires in 1 hour for security"}),a.jsx("p",{children:" If you signed up with Google, you can still set a password"})]})]})]})})},hj=()=>{const t=Ps(),[e]=kf(),r=e.get("token"),[n,i]=ee.useState({newPassword:"",confirmPassword:""}),[s,c]=ee.useState(!1),[f,g]=ee.useState(null),[u,m]=ee.useState(!1),[v,b]=ee.useState(null);ee.useEffect(()=>{r?b(!0):(b(!1),g("Invalid reset link. Please request a new password reset."))},[r]);const _=j=>{const{name:L,value:I}=j.target;i(P=>er(kt({},P),{[L]:I})),f&&g(null)},C=()=>n.newPassword?n.newPassword.length<6?(g("Password must be at least 6 characters long"),!1):n.newPassword!==n.confirmPassword?(g("Passwords do not match"),!1):!0:(g("New password is required"),!1),A=j=>we(null,null,function*(){if(j.preventDefault(),!!C()){c(!0),g(null);try{console.log(" Submitting password reset...");const I=yield(yield fetch("/api/auth/reset-password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,newPassword:n.newPassword})})).json();I.success?(console.log(" Password reset successful"),m(!0),setTimeout(()=>{t("/login",{state:{message:"Password reset successful! Please log in with your new password."}})},3e3)):(console.error(" Password reset failed:",I.message),g(I.message||"Failed to reset password"))}catch(L){console.error(" Password reset error:",L),g("An error occurred. Please try again.")}finally{c(!1)}}});return v===!1?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-4",children:"Invalid Reset Link"}),a.jsx("p",{className:"text-red-700 mb-6",children:"This password reset link is invalid or has expired. Please request a new password reset."}),a.jsx(Zt,{to:"/login",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition duration-200",children:"Back to Login"})]})}):u?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-xl font-semibold text-green-900 mb-4",children:"Password Reset Successful!"}),a.jsx("p",{className:"text-green-700 mb-6",children:"Your password has been reset successfully. You can now log in with your new password."}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Redirecting to login page..."})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Your Password"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("form",{onSubmit:A,children:[f&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:f}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:n.newPassword,onChange:_,required:!0,minLength:6,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your new password",disabled:s}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:_,required:!0,minLength:6,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your new password",disabled:s})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full mt-6 bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:s?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsx(rc,{}),a.jsx("span",{className:"ml-2",children:"Resetting Password..."})]}):"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Zt,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})})},fj=()=>we(null,null,function*(){try{const t=localStorage.getItem("token");if(!t)throw new Error("No authentication token found");console.log("Fetching dashboard data from Node.js API...");const e=yield fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=yield e.json();if(r.success)return console.log("Dashboard data fetched successfully"),r.data;throw new Error(r.message||"Failed to fetch dashboard data")}catch(t){return console.error("Error fetching dashboard data:",t),console.log("API failed, using fallback data"),{total_products:87,total_orders:0,orders_by_status:{pending:0,processing:0,shipped:0,delivered:0,cancelled:0},total_customers:0,total_revenue:0,recent_orders:[],low_stock:[]}}});console.log("Dashboard component loaded - version with all links - updated with cache control");const gj=()=>{const[t,e]=ee.useState(null),[r,n]=ee.useState(!0),[i,s]=ee.useState(null);return ee.useEffect(()=>{we(null,null,function*(){n(!0);try{const f=yield fj();e(f)}catch(f){s(f.message||"Failed to load dashboard data")}finally{n(!1)}})},[]),r?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading dashboard data...",variant:"gear"})}):i?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-600 mb-4",children:i}),a.jsx(Zt,{to:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]}):a.jsxs("div",{children:[a.jsx("div",{className:"flex flex-col space-y-4 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dashboard Overview"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("a",{href:"/Modparts/restart.php",target:"_blank",rel:"noopener noreferrer",className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Restart Server"]}),a.jsxs("button",{onClick:vC,className:"flex items-center bg-midnight-600 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-500 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})}),"Clear Cache & Reload"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Products"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.total_products})]})]})}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:t.total_orders}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-x-2 gap-y-1 text-xs",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-1"}),a.jsx("span",{className:"text-gray-300",children:"Pending: "}),a.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.pending})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 mr-1"}),a.jsx("span",{className:"text-gray-300",children:"Processing: "}),a.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.processing})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 mr-1"}),a.jsx("span",{className:"text-gray-300",children:"Shipped: "}),a.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.shipped})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 mr-1"}),a.jsx("span",{className:"text-gray-300",children:"Delivered: "}),a.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.delivered})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400 mr-1"}),a.jsx("span",{className:"text-gray-300",children:"Cancelled: "}),a.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.cancelled})]})]}),a.jsx("div",{className:"mt-3 space-y-1.5",children:t.total_orders>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center text-xs",children:[a.jsx("div",{className:"w-16 text-gray-300",children:"Pending"}),a.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${t.orders_by_status.pending/t.total_orders*100}%`}})})]}),a.jsxs("div",{className:"flex items-center text-xs",children:[a.jsx("div",{className:"w-16 text-gray-300",children:"Processing"}),a.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-400",style:{width:`${t.orders_by_status.processing/t.total_orders*100}%`}})})]}),a.jsxs("div",{className:"flex items-center text-xs",children:[a.jsx("div",{className:"w-16 text-midnight-300",children:"Shipped"}),a.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-400",style:{width:`${t.orders_by_status.shipped/t.total_orders*100}%`}})})]}),a.jsxs("div",{className:"flex items-center text-xs",children:[a.jsx("div",{className:"w-16 text-midnight-300",children:"Delivered"}),a.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-400",style:{width:`${t.orders_by_status.delivered/t.total_orders*100}%`}})})]}),a.jsxs("div",{className:"flex items-center text-xs",children:[a.jsx("div",{className:"w-16 text-midnight-300",children:"Cancelled"}),a.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-400",style:{width:`${t.orders_by_status.cancelled/t.total_orders*100}%`}})})]})]}):a.jsx("p",{className:"text-xs text-midnight-400",children:"No orders to display"})})]})]})}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-midnight-300 text-sm",children:"Total Customers"}),a.jsx("p",{className:"text-2xl font-bold text-midnight-50",children:t.total_customers})]})]})}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",parseFloat(t.total_revenue||0).toFixed(2)]})]})]})}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",style:{borderColor:"#B8860B"},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full mr-4",style:{background:"linear-gradient(135deg, #B8860B, #8B6914)"},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"#1a1a1a",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#B8860B"},children:"Inventory Summary"}),a.jsxs("div",{className:"flex flex-col mt-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Full Stock:"}),a.jsx("span",{className:"text-xl font-bold",style:{color:"#4caf50"},children:t.full_stock||0})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-gray-400 text-xs",children:"Distinct Parts:"}),a.jsx("span",{className:"text-lg font-bold",style:{color:"#B8860B"},children:t.distinct_parts||0})]})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-midnight-700",children:a.jsx("h2",{className:"text-xl font-semibold text-midnight-50",children:"Recent Orders"})}),a.jsxs("div",{className:"p-6",children:[t.recent_orders.length===0?a.jsx("p",{className:"text-midnight-400",children:"No recent orders"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[500px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-midnight-800",children:[a.jsx("th",{className:"text-left p-2 text-white min-w-[100px]",children:"Order #"}),a.jsx("th",{className:"text-left p-2 text-white min-w-[150px]",children:"Customer"}),a.jsx("th",{className:"text-left p-2 text-white min-w-[120px]",children:"Status"}),a.jsx("th",{className:"text-right p-2 text-white min-w-[100px]",children:"Amount"})]})}),a.jsx("tbody",{children:t.recent_orders.map(c=>a.jsxs("tr",{className:"border-t border-midnight-700",children:[a.jsx("td",{className:"p-2",children:a.jsxs(Zt,{to:`/admin/orders/${c.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:["#",c.id]})}),a.jsxs("td",{className:"p-2 text-white",children:[c.first_name," ",c.last_name]}),a.jsx("td",{className:"p-2",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${!c.status||typeof c.status!="string"?"bg-gray-600 text-gray-100":c.status==="pending"?"bg-yellow-600 text-yellow-100":c.status==="processing"?"bg-blue-600 text-blue-100":c.status==="shipped"?"bg-emerald-600 text-emerald-100":c.status==="delivered"?"bg-green-600 text-green-100":"bg-red-600 text-red-100"}`,children:c.status&&typeof c.status=="string"&&c.status.length>0?c.status.charAt(0).toUpperCase()+c.status.slice(1):"Pending"})}),a.jsxs("td",{className:"p-2 text-right text-white",children:["$",parseFloat(c.total_amount||0).toFixed(2)]})]},c.id))})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(Zt,{to:"/admin/orders",className:"text-midnight-300 hover:text-midnight-100 hover:underline",children:"View All Orders"})})]})]}),a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-midnight-700",children:a.jsx("h2",{className:"text-xl font-semibold text-midnight-50",children:"Low Stock Products"})}),a.jsxs("div",{className:"p-6",children:[t.low_stock.length===0?a.jsx("p",{className:"text-midnight-400",children:"No low stock products"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[400px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-midnight-800",children:[a.jsx("th",{className:"text-left p-2 text-white min-w-[200px]",children:"Product"}),a.jsx("th",{className:"text-right p-2 text-white min-w-[80px]",children:"Stock"}),a.jsx("th",{className:"text-center p-2 text-white min-w-[120px]",children:"Action"})]})}),a.jsx("tbody",{children:t.low_stock.map(c=>a.jsxs("tr",{className:"border-t border-midnight-700",children:[a.jsx("td",{className:"p-2",children:a.jsx(Zt,{to:`/admin/products/edit/${c.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:c.name})}),a.jsx("td",{className:"p-2 text-right",children:a.jsx("span",{className:`font-semibold ${c.quantity<=0?"text-red-400":"text-yellow-400"}`,children:c.quantity})}),a.jsx("td",{className:"p-2 text-center",children:a.jsx(Zt,{to:`/admin/products/edit/${c.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:"Update Stock"})})]},c.id))})]})}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(Zt,{to:"/admin/products",className:"text-midnight-300 hover:text-midnight-100 hover:underline",children:"View All Products"})})]})]})]})]})};var t2={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var mj=t2.exports,Y5;function pj(){return Y5||(Y5=1,function(t,e){((r,n)=>{t.exports=n()})(mj,function r(){var n=typeof self!="undefined"?self:typeof window!="undefined"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,c=n.IS_PAPA_WORKER||!1,f={},g=0,u={};function m(V){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(z){var ie=Y(z);ie.chunkSize=parseInt(ie.chunkSize),z.step||z.chunk||(ie.chunkSize=null),this._handle=new A(ie),(this._handle.streamer=this)._config=ie}.call(this,V),this.parseChunk=function(z,ie){var W=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<W){let ne=this._config.newline;ne||(H=this._config.quoteChar||'"',ne=this._handle.guessLineEndings(z,H)),z=[...z.split(ne).slice(W)].join(ne)}this.isFirstChunk&&G(this._config.beforeFirstChunk)&&(H=this._config.beforeFirstChunk(z))!==void 0&&(z=H),this.isFirstChunk=!1,this._halted=!1;var W=this._partialLine+z,H=(this._partialLine="",this._handle.parse(W,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(z=H.meta.cursor,W=(this._finished||(this._partialLine=W.substring(z-this._baseIndex),this._baseIndex=z),H&&H.data&&(this._rowCount+=H.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)n.postMessage({results:H,workerId:u.WORKER_ID,finished:W});else if(G(this._config.chunk)&&!ie){if(this._config.chunk(H,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=H=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(H.data),this._completeResults.errors=this._completeResults.errors.concat(H.errors),this._completeResults.meta=H.meta),this._completed||!W||!G(this._config.complete)||H&&H.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),W||H&&H.meta.paused||this._nextChunk(),H}this._halted=!0},this._sendError=function(z){G(this._config.error)?this._config.error(z):c&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:z,finished:!1})}}function v(V){var z;(V=V||{}).chunkSize||(V.chunkSize=u.RemoteChunkSize),m.call(this,V),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(ie){this._input=ie,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(z=new XMLHttpRequest,this._config.withCredentials&&(z.withCredentials=this._config.withCredentials),s||(z.onload=K(this._chunkLoaded,this),z.onerror=K(this._chunkError,this)),z.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var ie,W=this._config.downloadRequestHeaders;for(ie in W)z.setRequestHeader(ie,W[ie])}var H;this._config.chunkSize&&(H=this._start+this._config.chunkSize-1,z.setRequestHeader("Range","bytes="+this._start+"-"+H));try{z.send(this._config.downloadRequestBody)}catch(ne){this._chunkError(ne.message)}s&&z.status===0&&this._chunkError()}},this._chunkLoaded=function(){z.readyState===4&&(z.status<200||400<=z.status?this._chunkError():(this._start+=this._config.chunkSize||z.responseText.length,this._finished=!this._config.chunkSize||this._start>=(ie=>(ie=ie.getResponseHeader("Content-Range"))!==null?parseInt(ie.substring(ie.lastIndexOf("/")+1)):-1)(z),this.parseChunk(z.responseText)))},this._chunkError=function(ie){ie=z.statusText||ie,this._sendError(new Error(ie))}}function b(V){(V=V||{}).chunkSize||(V.chunkSize=u.LocalChunkSize),m.call(this,V);var z,ie,W=typeof FileReader!="undefined";this.stream=function(H){this._input=H,ie=H.slice||H.webkitSlice||H.mozSlice,W?((z=new FileReader).onload=K(this._chunkLoaded,this),z.onerror=K(this._chunkError,this)):z=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var H=this._input,ne=(this._config.chunkSize&&(ne=Math.min(this._start+this._config.chunkSize,this._input.size),H=ie.call(H,this._start,ne)),z.readAsText(H,this._config.encoding));W||this._chunkLoaded({target:{result:ne}})},this._chunkLoaded=function(H){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(H.target.result)},this._chunkError=function(){this._sendError(z.error)}}function _(V){var z;m.call(this,V=V||{}),this.stream=function(ie){return z=ie,this._nextChunk()},this._nextChunk=function(){var ie,W;if(!this._finished)return ie=this._config.chunkSize,z=ie?(W=z.substring(0,ie),z.substring(ie)):(W=z,""),this._finished=!z,this.parseChunk(W)}}function C(V){m.call(this,V=V||{});var z=[],ie=!0,W=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(H){this._input=H,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&z.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),z.length?this.parseChunk(z.shift()):ie=!0},this._streamData=K(function(H){try{z.push(typeof H=="string"?H:H.toString(this._config.encoding)),ie&&(ie=!1,this._checkIsFinished(),this.parseChunk(z.shift()))}catch(ne){this._streamError(ne)}},this),this._streamError=K(function(H){this._streamCleanUp(),this._sendError(H)},this),this._streamEnd=K(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(V){var z,ie,W,H,ne=Math.pow(2,53),ve=-ne,me=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,he=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,be=this,Pe=0,Ae=0,se=!1,Le=!1,M=[],q={data:[],errors:[],meta:{}};function J(Te){return V.skipEmptyLines==="greedy"?Te.join("").trim()==="":Te.length===1&&Te[0].length===0}function re(){if(q&&W&&(Ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),W=!1),V.skipEmptyLines&&(q.data=q.data.filter(function(ze){return!J(ze)})),le()){let ze=function(st,ct){G(V.transformHeader)&&(st=V.transformHeader(st,ct)),M.push(st)};if(q)if(Array.isArray(q.data[0])){for(var Te=0;le()&&Te<q.data.length;Te++)q.data[Te].forEach(ze);q.data.splice(0,1)}else q.data.forEach(ze)}function Me(ze,st){for(var ct=V.header?{}:[],Nt=0;Nt<ze.length;Nt++){var it=Nt,fe=ze[Nt],fe=((Ve,rt)=>(He=>(V.dynamicTypingFunction&&V.dynamicTyping[He]===void 0&&(V.dynamicTyping[He]=V.dynamicTypingFunction(He)),(V.dynamicTyping[He]||V.dynamicTyping)===!0))(Ve)?rt==="true"||rt==="TRUE"||rt!=="false"&&rt!=="FALSE"&&((He=>{if(me.test(He)&&(He=parseFloat(He),ve<He&&He<ne))return 1})(rt)?parseFloat(rt):he.test(rt)?new Date(rt):rt===""?null:rt):rt)(it=V.header?Nt>=M.length?"__parsed_extra":M[Nt]:it,fe=V.transform?V.transform(fe,it):fe);it==="__parsed_extra"?(ct[it]=ct[it]||[],ct[it].push(fe)):ct[it]=fe}return V.header&&(Nt>M.length?Ue("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+Nt,Ae+st):Nt<M.length&&Ue("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+Nt,Ae+st)),ct}var Oe;q&&(V.header||V.dynamicTyping||V.transform)&&(Oe=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(Me),Oe=q.data.length):q.data=Me(q.data,0),V.header&&q.meta&&(q.meta.fields=M),Ae+=Oe)}function le(){return V.header&&M.length===0}function Ue(Te,Me,Oe,ze){Te={type:Te,code:Me,message:Oe},ze!==void 0&&(Te.row=ze),q.errors.push(Te)}G(V.step)&&(H=V.step,V.step=function(Te){q=Te,le()?re():(re(),q.data.length!==0&&(Pe+=Te.data.length,V.preview&&Pe>V.preview?ie.abort():(q.data=q.data[0],H(q,be))))}),this.parse=function(Te,Me,Oe){var ze=V.quoteChar||'"',ze=(V.newline||(V.newline=this.guessLineEndings(Te,ze)),W=!1,V.delimiter?G(V.delimiter)&&(V.delimiter=V.delimiter(Te),q.meta.delimiter=V.delimiter):((ze=((st,ct,Nt,it,fe)=>{var Ve,rt,He,Ke;fe=fe||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var et=0;et<fe.length;et++){for(var Dt,Mt=fe[et],Xt=0,hr=0,ar=0,dr=(He=void 0,new L({comments:it,delimiter:Mt,newline:ct,preview:10}).parse(st)),mr=0;mr<dr.data.length;mr++)Nt&&J(dr.data[mr])?ar++:(Dt=dr.data[mr].length,hr+=Dt,He===void 0?He=Dt:0<Dt&&(Xt+=Math.abs(Dt-He),He=Dt));0<dr.data.length&&(hr/=dr.data.length-ar),(rt===void 0||Xt<=rt)&&(Ke===void 0||Ke<hr)&&1.99<hr&&(rt=Xt,Ve=Mt,Ke=hr)}return{successful:!!(V.delimiter=Ve),bestDelimiter:Ve}})(Te,V.newline,V.skipEmptyLines,V.comments,V.delimitersToGuess)).successful?V.delimiter=ze.bestDelimiter:(W=!0,V.delimiter=u.DefaultDelimiter),q.meta.delimiter=V.delimiter),Y(V));return V.preview&&V.header&&ze.preview++,z=Te,ie=new L(ze),q=ie.parse(z,Me,Oe),re(),se?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,ie.abort(),z=G(V.chunk)?"":z.substring(ie.getCharIndex())},this.resume=function(){be.streamer._halted?(se=!1,be.streamer.parseChunk(z,!0)):setTimeout(be.resume,3)},this.aborted=function(){return Le},this.abort=function(){Le=!0,ie.abort(),q.meta.aborted=!0,G(V.complete)&&V.complete(q),z=""},this.guessLineEndings=function(st,ze){st=st.substring(0,1048576);var ze=new RegExp(j(ze)+"([^]*?)"+j(ze),"gm"),Oe=(st=st.replace(ze,"")).split("\r"),ze=st.split(`
`),st=1<ze.length&&ze[0].length<Oe[0].length;if(Oe.length===1||st)return`
`;for(var ct=0,Nt=0;Nt<Oe.length;Nt++)Oe[Nt][0]===`
`&&ct++;return ct>=Oe.length/2?`\r
`:"\r"}}function j(V){return V.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(V){var z=(V=V||{}).delimiter,ie=V.newline,W=V.comments,H=V.step,ne=V.preview,ve=V.fastMode,me=null,he=!1,be=V.quoteChar==null?'"':V.quoteChar,Pe=be;if(V.escapeChar!==void 0&&(Pe=V.escapeChar),(typeof z!="string"||-1<u.BAD_DELIMITERS.indexOf(z))&&(z=","),W===z)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||-1<u.BAD_DELIMITERS.indexOf(W))&&(W=!1),ie!==`
`&&ie!=="\r"&&ie!==`\r
`&&(ie=`
`);var Ae=0,se=!1;this.parse=function(Le,M,q){if(typeof Le!="string")throw new Error("Input must be a string");var J=Le.length,re=z.length,le=ie.length,Ue=W.length,Te=G(H),Me=[],Oe=[],ze=[],st=Ae=0;if(!Le)return Xt();if(ve||ve!==!1&&Le.indexOf(be)===-1){for(var ct=Le.split(ie),Nt=0;Nt<ct.length;Nt++){if(ze=ct[Nt],Ae+=ze.length,Nt!==ct.length-1)Ae+=ie.length;else if(q)return Xt();if(!W||ze.substring(0,Ue)!==W){if(Te){if(Me=[],Ke(ze.split(z)),hr(),se)return Xt()}else Ke(ze.split(z));if(ne&&ne<=Nt)return Me=Me.slice(0,ne),Xt(!0)}}return Xt()}for(var it=Le.indexOf(z,Ae),fe=Le.indexOf(ie,Ae),Ve=new RegExp(j(Pe)+j(be),"g"),rt=Le.indexOf(be,Ae);;)if(Le[Ae]===be)for(rt=Ae,Ae++;;){if((rt=Le.indexOf(be,rt+1))===-1)return q||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Me.length,index:Ae}),Dt();if(rt===J-1)return Dt(Le.substring(Ae,rt).replace(Ve,be));if(be===Pe&&Le[rt+1]===Pe)rt++;else if(be===Pe||rt===0||Le[rt-1]!==Pe){it!==-1&&it<rt+1&&(it=Le.indexOf(z,rt+1));var He=et((fe=fe!==-1&&fe<rt+1?Le.indexOf(ie,rt+1):fe)===-1?it:Math.min(it,fe));if(Le.substr(rt+1+He,re)===z){ze.push(Le.substring(Ae,rt).replace(Ve,be)),Le[Ae=rt+1+He+re]!==be&&(rt=Le.indexOf(be,Ae)),it=Le.indexOf(z,Ae),fe=Le.indexOf(ie,Ae);break}if(He=et(fe),Le.substring(rt+1+He,rt+1+He+le)===ie){if(ze.push(Le.substring(Ae,rt).replace(Ve,be)),Mt(rt+1+He+le),it=Le.indexOf(z,Ae),rt=Le.indexOf(be,Ae),Te&&(hr(),se))return Xt();if(ne&&Me.length>=ne)return Xt(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Me.length,index:Ae}),rt++}}else if(W&&ze.length===0&&Le.substring(Ae,Ae+Ue)===W){if(fe===-1)return Xt();Ae=fe+le,fe=Le.indexOf(ie,Ae),it=Le.indexOf(z,Ae)}else if(it!==-1&&(it<fe||fe===-1))ze.push(Le.substring(Ae,it)),Ae=it+re,it=Le.indexOf(z,Ae);else{if(fe===-1)break;if(ze.push(Le.substring(Ae,fe)),Mt(fe+le),Te&&(hr(),se))return Xt();if(ne&&Me.length>=ne)return Xt(!0)}return Dt();function Ke(ar){Me.push(ar),st=Ae}function et(ar){var dr=0;return dr=ar!==-1&&(ar=Le.substring(rt+1,ar))&&ar.trim()===""?ar.length:dr}function Dt(ar){return q||(ar===void 0&&(ar=Le.substring(Ae)),ze.push(ar),Ae=J,Ke(ze),Te&&hr()),Xt()}function Mt(ar){Ae=ar,Ke(ze),ze=[],fe=Le.indexOf(ie,Ae)}function Xt(ar){if(V.header&&!M&&Me.length&&!he){var dr=Me[0],mr={},Qt=new Set(dr);let Br=!1;for(let Kt=0;Kt<dr.length;Kt++){let Lr=dr[Kt];if(mr[Lr=G(V.transformHeader)?V.transformHeader(Lr,Kt):Lr]){let fr,Vt=mr[Lr];for(;fr=Lr+"_"+Vt,Vt++,Qt.has(fr););Qt.add(fr),dr[Kt]=fr,mr[Lr]++,Br=!0,(me=me===null?{}:me)[fr]=Lr}else mr[Lr]=1,dr[Kt]=Lr;Qt.add(Lr)}Br&&console.warn("Duplicate headers found and renamed."),he=!0}return{data:Me,errors:Oe,meta:{delimiter:z,linebreak:ie,aborted:se,truncated:!!ar,cursor:st+(M||0),renamedHeaders:me}}}function hr(){H(Xt()),Me=[],Oe=[]}},this.abort=function(){se=!0},this.getCharIndex=function(){return Ae}}function I(V){var z=V.data,ie=f[z.workerId],W=!1;if(z.error)ie.userError(z.error,z.file);else if(z.results&&z.results.data){var H={abort:function(){W=!0,P(z.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:X,resume:X};if(G(ie.userStep)){for(var ne=0;ne<z.results.data.length&&(ie.userStep({data:z.results.data[ne],errors:z.results.errors,meta:z.results.meta},H),!W);ne++);delete z.results}else G(ie.userChunk)&&(ie.userChunk(z.results,H,z.file),delete z.results)}z.finished&&!W&&P(z.workerId,z.results)}function P(V,z){var ie=f[V];G(ie.userComplete)&&ie.userComplete(z),ie.terminate(),delete f[V]}function X(){throw new Error("Not implemented.")}function Y(V){if(typeof V!="object"||V===null)return V;var z,ie=Array.isArray(V)?[]:{};for(z in V)ie[z]=Y(V[z]);return ie}function K(V,z){return function(){V.apply(z,arguments)}}function G(V){return typeof V=="function"}return u.parse=function(V,z){var ie=(z=z||{}).dynamicTyping||!1;if(G(ie)&&(z.dynamicTypingFunction=ie,ie={}),z.dynamicTyping=ie,z.transform=!!G(z.transform)&&z.transform,!z.worker||!u.WORKERS_SUPPORTED)return ie=null,u.NODE_STREAM_INPUT,typeof V=="string"?(V=(W=>W.charCodeAt(0)!==65279?W:W.slice(1))(V),ie=new(z.download?v:_)(z)):V.readable===!0&&G(V.read)&&G(V.on)?ie=new C(z):(n.File&&V instanceof File||V instanceof Object)&&(ie=new b(z)),ie.stream(V);(ie=(()=>{var W;return!!u.WORKERS_SUPPORTED&&(W=(()=>{var H=n.URL||n.webkitURL||null,ne=r.toString();return u.BLOB_URL||(u.BLOB_URL=H.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ne,")();"],{type:"text/javascript"})))})(),(W=new n.Worker(W)).onmessage=I,W.id=g++,f[W.id]=W)})()).userStep=z.step,ie.userChunk=z.chunk,ie.userComplete=z.complete,ie.userError=z.error,z.step=G(z.step),z.chunk=G(z.chunk),z.complete=G(z.complete),z.error=G(z.error),delete z.worker,ie.postMessage({input:V,config:z,workerId:ie.id})},u.unparse=function(V,z){var ie=!1,W=!0,H=",",ne=`\r
`,ve='"',me=ve+ve,he=!1,be=null,Pe=!1,Ae=((()=>{if(typeof z=="object"){if(typeof z.delimiter!="string"||u.BAD_DELIMITERS.filter(function(M){return z.delimiter.indexOf(M)!==-1}).length||(H=z.delimiter),typeof z.quotes!="boolean"&&typeof z.quotes!="function"&&!Array.isArray(z.quotes)||(ie=z.quotes),typeof z.skipEmptyLines!="boolean"&&typeof z.skipEmptyLines!="string"||(he=z.skipEmptyLines),typeof z.newline=="string"&&(ne=z.newline),typeof z.quoteChar=="string"&&(ve=z.quoteChar),typeof z.header=="boolean"&&(W=z.header),Array.isArray(z.columns)){if(z.columns.length===0)throw new Error("Option columns is empty");be=z.columns}z.escapeChar!==void 0&&(me=z.escapeChar+ve),z.escapeFormulae instanceof RegExp?Pe=z.escapeFormulae:typeof z.escapeFormulae=="boolean"&&z.escapeFormulae&&(Pe=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(ve),"g"));if(typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(V)){if(!V.length||Array.isArray(V[0]))return se(null,V,he);if(typeof V[0]=="object")return se(be||Object.keys(V[0]),V,he)}else if(typeof V=="object")return typeof V.data=="string"&&(V.data=JSON.parse(V.data)),Array.isArray(V.data)&&(V.fields||(V.fields=V.meta&&V.meta.fields||be),V.fields||(V.fields=Array.isArray(V.data[0])?V.fields:typeof V.data[0]=="object"?Object.keys(V.data[0]):[]),Array.isArray(V.data[0])||typeof V.data[0]=="object"||(V.data=[V.data])),se(V.fields||[],V.data||[],he);throw new Error("Unable to serialize unrecognized input");function se(M,q,J){var re="",le=(typeof M=="string"&&(M=JSON.parse(M)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(M)&&0<M.length),Ue=!Array.isArray(q[0]);if(le&&W){for(var Te=0;Te<M.length;Te++)0<Te&&(re+=H),re+=Le(M[Te],Te);0<q.length&&(re+=ne)}for(var Me=0;Me<q.length;Me++){var Oe=(le?M:q[Me]).length,ze=!1,st=le?Object.keys(q[Me]).length===0:q[Me].length===0;if(J&&!le&&(ze=J==="greedy"?q[Me].join("").trim()==="":q[Me].length===1&&q[Me][0].length===0),J==="greedy"&&le){for(var ct=[],Nt=0;Nt<Oe;Nt++){var it=Ue?M[Nt]:Nt;ct.push(q[Me][it])}ze=ct.join("").trim()===""}if(!ze){for(var fe=0;fe<Oe;fe++){0<fe&&!st&&(re+=H);var Ve=le&&Ue?M[fe]:fe;re+=Le(q[Me][Ve],fe)}Me<q.length-1&&(!J||0<Oe&&!st)&&(re+=ne)}}return re}function Le(M,q){var J,re;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(re=!1,Pe&&typeof M=="string"&&Pe.test(M)&&(M="'"+M,re=!0),J=M.toString().replace(Ae,me),(re=re||ie===!0||typeof ie=="function"&&ie(M,q)||Array.isArray(ie)&&ie[q]||((le,Ue)=>{for(var Te=0;Te<Ue.length;Te++)if(-1<le.indexOf(Ue[Te]))return!0;return!1})(J,u.BAD_DELIMITERS)||-1<J.indexOf(H)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?ve+J+ve:J)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=L,u.ParserHandle=A,u.NetworkStreamer=v,u.FileStreamer=b,u.StringStreamer=_,u.ReadableStreamStreamer=C,n.jQuery&&((i=n.jQuery).fn.parse=function(V){var z=V.config||{},ie=[];return this.each(function(ne){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ve=0;ve<this.files.length;ve++)ie.push({file:this.files[ve],inputElem:this,instanceConfig:i.extend({},z)})}),W(),this;function W(){if(ie.length===0)G(V.complete)&&V.complete();else{var ne,ve,me,he,be=ie[0];if(G(V.before)){var Pe=V.before(be.file,be.inputElem);if(typeof Pe=="object"){if(Pe.action==="abort")return ne="AbortError",ve=be.file,me=be.inputElem,he=Pe.reason,void(G(V.error)&&V.error({name:ne},ve,me,he));if(Pe.action==="skip")return void H();typeof Pe.config=="object"&&(be.instanceConfig=i.extend(be.instanceConfig,Pe.config))}else if(Pe==="skip")return void H()}var Ae=be.instanceConfig.complete;be.instanceConfig.complete=function(se){G(Ae)&&Ae(se,be.file,be.inputElem),H()},u.parse(be.file,be.instanceConfig)}}function H(){ie.splice(0,1),W()}}),c&&(n.onmessage=function(V){V=V.data,u.WORKER_ID===void 0&&V&&(u.WORKER_ID=V.workerId),typeof V.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(V.input,V.config),finished:!0}):(n.File&&V.input instanceof File||V.input instanceof Object)&&(V=u.parse(V.input,V.config))&&n.postMessage({workerId:u.WORKER_ID,results:V,finished:!0})}),(v.prototype=Object.create(m.prototype)).constructor=v,(b.prototype=Object.create(m.prototype)).constructor=b,(_.prototype=Object.create(_.prototype)).constructor=_,(C.prototype=Object.create(m.prototype)).constructor=C,u})}(t2)),t2.exports}var xj=pj();const vj=I2(xj),yj=[["name","price","category_id","quantity","description","condition_status","part_number","barcode","warehouse_id","bin_number"],["Universal Piston Kit","149.99","Engine Parts","10","High-quality universal piston kit.","New","PK-001","123456789","1","A-01"],["Front Brake Caliper","89.95","Brakes","5","Refurbished front brake caliper.","Refurbished","BC-102","","1","B-05"],["Electrical Wiring Harness","75.50","Electrical","8","Complete wiring harness.","New","WH-200","","2","C-10"],["Carburetor Rebuild Kit","45.00","Engine Parts","15","Complete rebuild kit.","New","CRK-55","","1","A-02"],["Headlight Assembly","65.75","Bodywork","3","Chrome headlight assembly.","Used","HL-88","","2","D-03"]],wj=()=>{let t="";yj.forEach(i=>{const s=i.map(c=>typeof c=="string"&&(c.includes(",")||c.includes('"')||c.includes(`
`))?`"${c.replace(/"/g,'""')}"`:c);t+=s.join(",")+`
`});const e=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.setAttribute("download","sample-products.csv"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},bj=({isOpen:t,onClose:e,onImport:r,categories:n})=>{const[i,s]=ee.useState(null),[c,f]=ee.useState(""),[g,u]=ee.useState([]),[m,v]=ee.useState([]),[b,_]=ee.useState([]),[C,A]=ee.useState(!1),[j,L]=ee.useState(""),[I,P]=ee.useState(1),[X,Y]=ee.useState({}),[K]=ee.useState(["name","price","category_id","quantity"]),G=ee.useRef(null),{error:V,success:z}=Li();ee.useEffect(()=>{t||(s(null),f(""),u([]),v([]),_([]),A(!1),L(""),P(1),Y({}))},[t]);const ie=he=>{const be=he.target.files[0];if(be){if(be.type!=="text/csv"&&!be.name.endsWith(".csv")){L("Please select a valid CSV file"),s(null),f("");return}s(be),f(be.name),L(""),W(be)}},W=he=>{A(!0),vj.parse(he,{header:!0,skipEmptyLines:!0,complete:be=>{if(be.data.length===0){L("The CSV file is empty"),A(!1);return}const Pe=Object.keys(be.data[0]);v(Pe);const Ae={};Pe.forEach(se=>{const Le=se.toLowerCase().trim().replace(/\s+/g,"_");K.includes(Le)&&(Ae[Le]=se)}),Y(Ae),u(be.data),_(be.data.slice(0,5)),A(!1),P(2)},error:be=>{L(`Error parsing CSV: ${be.message}`),A(!1)}})},H=()=>{const he=K.filter(be=>!X[be]);return he.length>0?(L(`Missing required field mappings: ${he.join(", ")}`),!1):!0},ne=()=>{if(H())try{const he=g.map((be,Pe)=>{const Ae={};return Object.entries(X).forEach(([se,Le])=>{let M=be[Le];if(se==="price"&&(M=parseFloat(M.replace(/[^0-9.-]+/g,"")),isNaN(M)))throw new Error(`Invalid price in row ${Pe+1}: ${be[Le]}`);if(se==="quantity"&&(M=parseInt(M,10),isNaN(M)))throw new Error(`Invalid quantity in row ${Pe+1}: ${be[Le]}`);if(se==="category_id"){let q=null;if(isNaN(parseInt(M))||(q=n.find(J=>String(J.id)===String(M))),q||(q=n.find(J=>J.name.toLowerCase()===String(M).toLowerCase())),!q){const J=n.map(re=>`${re.id}: ${re.name}`).join(", ");throw new Error(`Invalid category in row ${Pe+1}: "${M}". Available categories are: ${J}`)}M=q.id,console.log(`Mapped category "${M}" to ID: ${q.id} (${q.name})`)}Ae[se]=M}),Ae.description=Ae.description||"",Ae.image_url="",Ae.condition_status=Ae.condition_status||"New",Ae.part_number=Ae.part_number||"",Ae.barcode=Ae.barcode||"",Ae.warehouse_id=Ae.warehouse_id||"",Ae.bin_number=Ae.bin_number||"",Ae});r(he),z(`Successfully processed ${he.length} products for import`),e()}catch(he){L(he.message)}},ve=he=>{he.preventDefault(),he.stopPropagation()},me=he=>{if(he.preventDefault(),he.stopPropagation(),he.dataTransfer.files&&he.dataTransfer.files.length>0){const be=he.dataTransfer.files[0];be.type==="text/csv"||be.name.endsWith(".csv")?(s(be),f(be.name),L(""),W(be)):L("Please drop a valid CSV file")}};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-blue-800 text-white px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Import Products from CSV"}),a.jsx("button",{onClick:e,className:"text-white hover:text-gray-200",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[I===1&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-4 text-gray-700",children:"Upload a CSV file containing product data. The file should have columns for product name, price, category, and quantity."}),a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 text-blue-700 rounded-md",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Tip:"})," You can ",a.jsx("button",{onClick:wj,className:"text-blue-600 underline hover:text-blue-800 bg-transparent border-none p-0 cursor-pointer font-normal",type:"button",children:"download a sample CSV file"})," to see the expected format."]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-100",children:[a.jsx("p",{className:"text-sm font-semibold",children:"Available Categories:"}),a.jsx("div",{className:"mt-1 text-xs grid grid-cols-2 md:grid-cols-3 gap-1",children:n.map(he=>a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"font-medium",children:[he.id,":"]})," ",he.name]},he.id))})]})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{var he;return(he=G.current)==null?void 0:he.click()},onDragOver:ve,onDrop:me,children:[a.jsx("input",{type:"file",ref:G,onChange:ie,accept:".csv",className:"hidden"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Drag and drop a CSV file here, or click to select a file"}),c&&a.jsx("p",{className:"mt-2 text-blue-600",children:c})]})]}),I===2&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preview Data"}),a.jsx("p",{className:"mb-4 text-gray-700",children:"Review the first 5 rows of your CSV file and map the columns to product fields."}),b.length>0&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:m.map((he,be)=>{var Pe;return a.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[he,a.jsxs("select",{className:"block w-full mt-1 text-sm border-gray-300 rounded-md",value:((Pe=Object.entries(X).find(([Ae,se])=>se===he))==null?void 0:Pe[0])||"",onChange:Ae=>{const se=Object.entries(X).find(([Le,M])=>M===he);if(se){const Le=kt({},X);delete Le[se[0]],Ae.target.value&&(Le[Ae.target.value]=he),Y(Le)}else Ae.target.value&&Y(er(kt({},X),{[Ae.target.value]:he}))},children:[a.jsx("option",{value:"",children:"-- Map to field --"}),a.jsx("option",{value:"name",children:"Product Name"}),a.jsx("option",{value:"price",children:"Price"}),a.jsx("option",{value:"category_id",children:"Category"}),a.jsx("option",{value:"quantity",children:"Quantity"}),a.jsx("option",{value:"description",children:"Description"}),a.jsx("option",{value:"condition_status",children:"Condition"}),a.jsx("option",{value:"part_number",children:"Part Number"}),a.jsx("option",{value:"barcode",children:"Barcode"}),a.jsx("option",{value:"warehouse_id",children:"Warehouse ID"}),a.jsx("option",{value:"bin_number",children:"Bin Number"})]})]},be)})})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((he,be)=>a.jsx("tr",{children:m.map((Pe,Ae)=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he[Pe]},Ae))},be))})]})})]}),j&&a.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-md",children:j})]}),a.jsxs("div",{className:"bg-gray-100 px-6 py-4 flex justify-between",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),a.jsxs("div",{children:[I===2&&a.jsx("button",{onClick:()=>P(1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 mr-2",children:"Back"}),I===1&&a.jsx("button",{onClick:()=>{var he;return(he=G.current)==null?void 0:he.click()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",disabled:C,children:C?"Processing...":"Select File"}),I===2&&a.jsx("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",disabled:C||Object.keys(X).length===0,children:"Import Products"})]})]})]})}):null},fv=({progress:t,isVisible:e,onComplete:r})=>{const[n,i]=ee.useState(0);return ee.useEffect(()=>{if(e){i(0);const s=setTimeout(()=>{i(t)},100);return()=>clearTimeout(s)}},[e,t]),ee.useEffect(()=>{if(n>=100&&r){const s=setTimeout(()=>{r()},500);return()=>clearTimeout(s)}},[n,r]),e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Exporting Data"}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-2",children:a.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300 ease-out",style:{width:`${n}%`}})}),a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[Math.round(n),"%"]})]}),a.jsx("p",{className:"mt-3 text-sm text-gray-600",children:n<100?"Please wait while your file is being prepared...":"Export complete! Your download will begin shortly."})]})}):null};function ni(t){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(t)}var _s=Uint8Array,Co=Uint16Array,gv=Int32Array,K2=new _s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z2=new _s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Nx=new _s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J6=function(t,e){for(var r=new Co(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new gv(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Q6=J6(K2,2),e8=Q6.b,Ax=Q6.r;e8[28]=258,Ax[258]=28;var t8=J6(Z2,0),_j=t8.b,K5=t8.r,Cx=new Co(32768);for(var Ri=0;Ri<32768;++Ri){var pu=(Ri&43690)>>1|(Ri&21845)<<1;pu=(pu&52428)>>2|(pu&13107)<<2,pu=(pu&61680)>>4|(pu&3855)<<4,Cx[Ri]=((pu&65280)>>8|(pu&255)<<8)>>1}var nc=function(t,e,r){for(var n=t.length,i=0,s=new Co(e);i<n;++i)t[i]&&++s[t[i]-1];var c=new Co(e);for(i=1;i<e;++i)c[i]=c[i-1]+s[i-1]<<1;var f;if(r){f=new Co(1<<e);var g=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],m=e-t[i],v=c[t[i]-1]++<<m,b=v|(1<<m)-1;v<=b;++v)f[Cx[v]>>g]=u}else for(f=new Co(n),i=0;i<n;++i)t[i]&&(f[i]=Cx[c[t[i]-1]++]>>15-t[i]);return f},Au=new _s(288);for(var Ri=0;Ri<144;++Ri)Au[Ri]=8;for(var Ri=144;Ri<256;++Ri)Au[Ri]=9;for(var Ri=256;Ri<280;++Ri)Au[Ri]=7;for(var Ri=280;Ri<288;++Ri)Au[Ri]=8;var _f=new _s(32);for(var Ri=0;Ri<32;++Ri)_f[Ri]=5;var Ej=nc(Au,9,0),Sj=nc(Au,9,1),Nj=nc(_f,5,0),Aj=nc(_f,5,1),Fp=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},xl=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Bp=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},mv=function(t){return(t+7)/8|0},r8=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new _s(t.subarray(e,r))},Cj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],El=function(t,e,r){var n=new Error(e||Cj[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,El),!r)throw n;return n},Tj=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new _s(0);var c=!r,f=c||e.i!=2,g=e.i;c&&(r=new _s(i*3));var u=function(ze){var st=r.length;if(ze>st){var ct=new _s(Math.max(st*2,ze));ct.set(r),r=ct}},m=e.f||0,v=e.p||0,b=e.b||0,_=e.l,C=e.d,A=e.m,j=e.n,L=i*8;do{if(!_){m=xl(t,v,1);var I=xl(t,v+1,3);if(v+=3,I)if(I==1)_=Sj,C=Aj,A=9,j=5;else if(I==2){var K=xl(t,v,31)+257,G=xl(t,v+10,15)+4,V=K+xl(t,v+5,31)+1;v+=14;for(var z=new _s(V),ie=new _s(19),W=0;W<G;++W)ie[Nx[W]]=xl(t,v+W*3,7);v+=G*3;for(var H=Fp(ie),ne=(1<<H)-1,ve=nc(ie,H,1),W=0;W<V;){var me=ve[xl(t,v,ne)];v+=me&15;var P=me>>4;if(P<16)z[W++]=P;else{var he=0,be=0;for(P==16?(be=3+xl(t,v,3),v+=2,he=z[W-1]):P==17?(be=3+xl(t,v,7),v+=3):P==18&&(be=11+xl(t,v,127),v+=7);be--;)z[W++]=he}}var Pe=z.subarray(0,K),Ae=z.subarray(K);A=Fp(Pe),j=Fp(Ae),_=nc(Pe,A,1),C=nc(Ae,j,1)}else El(1);else{var P=mv(v)+4,X=t[P-4]|t[P-3]<<8,Y=P+X;if(Y>i){g&&El(0);break}f&&u(b+X),r.set(t.subarray(P,Y),b),e.b=b+=X,e.p=v=Y*8,e.f=m;continue}if(v>L){g&&El(0);break}}f&&u(b+131072);for(var se=(1<<A)-1,Le=(1<<j)-1,M=v;;M=v){var he=_[Bp(t,v)&se],q=he>>4;if(v+=he&15,v>L){g&&El(0);break}if(he||El(2),q<256)r[b++]=q;else if(q==256){M=v,_=null;break}else{var J=q-254;if(q>264){var W=q-257,re=K2[W];J=xl(t,v,(1<<re)-1)+e8[W],v+=re}var le=C[Bp(t,v)&Le],Ue=le>>4;le||El(3),v+=le&15;var Ae=_j[Ue];if(Ue>3){var re=Z2[Ue];Ae+=Bp(t,v)&(1<<re)-1,v+=re}if(v>L){g&&El(0);break}f&&u(b+131072);var Te=b+J;if(b<Ae){var Me=s-Ae,Oe=Math.min(Ae,Te);for(Me+b<0&&El(3);b<Oe;++b)r[b]=n[Me+b]}for(;b<Te;++b)r[b]=r[b-Ae]}}e.l=_,e.p=M,e.b=b,e.f=m,_&&(m=1,e.m=A,e.d=C,e.n=j)}while(!m);return b!=r.length&&c?r8(r,0,b):r.subarray(0,b)},Cc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Yh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Mp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:i8,l:0};if(i==1){var c=new _s(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(Y,K){return Y.f-K.f}),r.push({s:-1,f:25001});var f=r[0],g=r[1],u=0,m=1,v=2;for(r[0]={s:-1,f:f.f+g.f,l:f,r:g};m!=i-1;)f=r[r[u].f<r[v].f?u++:v++],g=r[u!=m&&r[u].f<r[v].f?u++:v++],r[m++]={s:-1,f:f.f+g.f,l:f,r:g};for(var b=s[0].s,n=1;n<i;++n)s[n].s>b&&(b=s[n].s);var _=new Co(b+1),C=Tx(r[m-1],_,0);if(C>e){var n=0,A=0,j=C-e,L=1<<j;for(s.sort(function(K,G){return _[G.s]-_[K.s]||K.f-G.f});n<i;++n){var I=s[n].s;if(_[I]>e)A+=L-(1<<C-_[I]),_[I]=e;else break}for(A>>=j;A>0;){var P=s[n].s;_[P]<e?A-=1<<e-_[P]++-1:++n}for(;n>=0&&A;--n){var X=s[n].s;_[X]==e&&(--_[X],++A)}C=e}return{t:new _s(_),l:C}},Tx=function(t,e,r){return t.s==-1?Math.max(Tx(t.l,e,r+1),Tx(t.r,e,r+1)):e[t.s]=r},Z5=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Co(++e),n=0,i=t[0],s=1,c=function(g){r[n++]=g},f=1;f<=e;++f)if(t[f]==i&&f!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(i),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(i);s=1,i=t[f]}return{c:r.subarray(0,n),n:e}},Kh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},n8=function(t,e,r){var n=r.length,i=mv(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},J5=function(t,e,r,n,i,s,c,f,g,u,m){Cc(e,m++,r),++i[256];for(var v=Mp(i,15),b=v.t,_=v.l,C=Mp(s,15),A=C.t,j=C.l,L=Z5(b),I=L.c,P=L.n,X=Z5(A),Y=X.c,K=X.n,G=new Co(19),V=0;V<I.length;++V)++G[I[V]&31];for(var V=0;V<Y.length;++V)++G[Y[V]&31];for(var z=Mp(G,7),ie=z.t,W=z.l,H=19;H>4&&!ie[Nx[H-1]];--H);var ne=u+5<<3,ve=Kh(i,Au)+Kh(s,_f)+c,me=Kh(i,b)+Kh(s,A)+c+14+3*H+Kh(G,ie)+2*G[16]+3*G[17]+7*G[18];if(g>=0&&ne<=ve&&ne<=me)return n8(e,m,t.subarray(g,g+u));var he,be,Pe,Ae;if(Cc(e,m,1+(me<ve)),m+=2,me<ve){he=nc(b,_,0),be=b,Pe=nc(A,j,0),Ae=A;var se=nc(ie,W,0);Cc(e,m,P-257),Cc(e,m+5,K-1),Cc(e,m+10,H-4),m+=14;for(var V=0;V<H;++V)Cc(e,m+3*V,ie[Nx[V]]);m+=3*H;for(var Le=[I,Y],M=0;M<2;++M)for(var q=Le[M],V=0;V<q.length;++V){var J=q[V]&31;Cc(e,m,se[J]),m+=ie[J],J>15&&(Cc(e,m,q[V]>>5&127),m+=q[V]>>12)}}else he=Ej,be=Au,Pe=Nj,Ae=_f;for(var V=0;V<f;++V){var re=n[V];if(re>255){var J=re>>18&31;Yh(e,m,he[J+257]),m+=be[J+257],J>7&&(Cc(e,m,re>>23&31),m+=K2[J]);var le=re&31;Yh(e,m,Pe[le]),m+=Ae[le],le>3&&(Yh(e,m,re>>5&8191),m+=Z2[le])}else Yh(e,m,he[re]),m+=be[re]}return Yh(e,m,he[256]),m+be[256]},jj=new gv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i8=new _s(0),Oj=function(t,e,r,n,i,s){var c=s.z||t.length,f=new _s(n+c+5*(1+Math.ceil(c/7e3))+i),g=f.subarray(n,f.length-i),u=s.l,m=(s.r||0)&7;if(e){m&&(g[0]=s.r>>3);for(var v=jj[e-1],b=v>>13,_=v&8191,C=(1<<r)-1,A=s.p||new Co(32768),j=s.h||new Co(C+1),L=Math.ceil(r/3),I=2*L,P=function(Nt){return(t[Nt]^t[Nt+1]<<L^t[Nt+2]<<I)&C},X=new gv(25e3),Y=new Co(288),K=new Co(32),G=0,V=0,z=s.i||0,ie=0,W=s.w||0,H=0;z+2<c;++z){var ne=P(z),ve=z&32767,me=j[ne];if(A[ve]=me,j[ne]=ve,W<=z){var he=c-z;if((G>7e3||ie>24576)&&(he>423||!u)){m=J5(t,g,0,X,Y,K,V,ie,H,z-H,m),ie=G=V=0,H=z;for(var be=0;be<286;++be)Y[be]=0;for(var be=0;be<30;++be)K[be]=0}var Pe=2,Ae=0,se=_,Le=ve-me&32767;if(he>2&&ne==P(z-Le))for(var M=Math.min(b,he)-1,q=Math.min(32767,z),J=Math.min(258,he);Le<=q&&--se&&ve!=me;){if(t[z+Pe]==t[z+Pe-Le]){for(var re=0;re<J&&t[z+re]==t[z+re-Le];++re);if(re>Pe){if(Pe=re,Ae=Le,re>M)break;for(var le=Math.min(Le,re-2),Ue=0,be=0;be<le;++be){var Te=z-Le+be&32767,Me=A[Te],Oe=Te-Me&32767;Oe>Ue&&(Ue=Oe,me=Te)}}}ve=me,me=A[ve],Le+=ve-me&32767}if(Ae){X[ie++]=268435456|Ax[Pe]<<18|K5[Ae];var ze=Ax[Pe]&31,st=K5[Ae]&31;V+=K2[ze]+Z2[st],++Y[257+ze],++K[st],W=z+Pe,++G}else X[ie++]=t[z],++Y[t[z]]}}for(z=Math.max(z,W);z<c;++z)X[ie++]=t[z],++Y[t[z]];m=J5(t,g,u,X,Y,K,V,ie,H,z-H,m),u||(s.r=m&7|g[m/8|0]<<3,m-=7,s.h=j,s.p=A,s.i=z,s.w=W)}else{for(var z=s.w||0;z<c+u;z+=65535){var ct=z+65535;ct>=c&&(g[m/8|0]=u,ct=c),m=n8(g,m+1,t.subarray(z,ct))}s.i=c}return r8(f,0,n+mv(m)+i)},a8=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,c=0;c!=s;){for(var f=Math.min(c+2655,s);c<f;++c)i+=n+=r[c];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Rj=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),c=new _s(s.length+t.length);c.set(s),c.set(t,s.length),t=c,i.w=s.length}return Oj(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},s8=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},kj=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=a8();i.p(e.dictionary),s8(t,2,i.d())}},Lj=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&El(6,"invalid zlib data"),(t[1]>>5&1)==1&&El(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function jx(t,e){e||(e={});var r=a8();r.p(t);var n=Rj(t,e,e.dictionary?6:2,4);return kj(n,e),s8(n,n.length-4,r.d()),n}function Ij(t,e){return Tj(t.subarray(Lj(t),-4),{i:2},e,e)}var Dj=typeof TextDecoder!="undefined"&&new TextDecoder,Pj=0;try{Dj.decode(i8,{stream:!0}),Pj=1}catch(t){}var Gr=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function Up(){Gr.console&&typeof Gr.console.log=="function"&&Gr.console.log.apply(Gr.console,arguments)}var gi={log:Up,warn:function(t){Gr.console&&(typeof Gr.console.warn=="function"?Gr.console.warn.apply(Gr.console,arguments):Up.call(null,arguments))},error:function(t){Gr.console&&(typeof Gr.console.error=="function"?Gr.console.error.apply(Gr.console,arguments):Up(t))}};function zp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){u0(n.response,e,r)},n.onerror=function(){gi.error("could not download file")},n.send()}function Q5(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(r){}return e.status>=200&&e.status<=299}function J1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var df,Ox,u0=Gr.saveAs||((typeof window=="undefined"?"undefined":ni(window))!=="object"||window!==Gr?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Gr.URL||Gr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Q5(i.href)?zp(t,e,r):J1(i,i.target="_blank"):J1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){J1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Q5(t))zp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){J1(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ni(s)!=="object"&&(gi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return zp(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Gr.HTMLElement)||Gr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&s)&&(typeof FileReader=="undefined"?"undefined":ni(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var m=f.result;m=c?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},f.readAsDataURL(t)}else{var g=Gr.URL||Gr.webkitURL,u=g.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){g.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function o8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,c=i.exec(t);c&&(e=s(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),g=this.g.toString(16),u=this.b.toString(16);return f.length==1&&(f="0"+f),g.length==1&&(g="0"+g),u.length==1&&(u="0"+u),"#"+f+g+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Hp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=ps(r,n,i,s,e[0],7,-680876936),s=ps(s,r,n,i,e[1],12,-389564586),i=ps(i,s,r,n,e[2],17,606105819),n=ps(n,i,s,r,e[3],22,-1044525330),r=ps(r,n,i,s,e[4],7,-176418897),s=ps(s,r,n,i,e[5],12,1200080426),i=ps(i,s,r,n,e[6],17,-1473231341),n=ps(n,i,s,r,e[7],22,-45705983),r=ps(r,n,i,s,e[8],7,1770035416),s=ps(s,r,n,i,e[9],12,-1958414417),i=ps(i,s,r,n,e[10],17,-42063),n=ps(n,i,s,r,e[11],22,-1990404162),r=ps(r,n,i,s,e[12],7,1804603682),s=ps(s,r,n,i,e[13],12,-40341101),i=ps(i,s,r,n,e[14],17,-1502002290),r=xs(r,n=ps(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=xs(s,r,n,i,e[6],9,-1069501632),i=xs(i,s,r,n,e[11],14,643717713),n=xs(n,i,s,r,e[0],20,-373897302),r=xs(r,n,i,s,e[5],5,-701558691),s=xs(s,r,n,i,e[10],9,38016083),i=xs(i,s,r,n,e[15],14,-660478335),n=xs(n,i,s,r,e[4],20,-405537848),r=xs(r,n,i,s,e[9],5,568446438),s=xs(s,r,n,i,e[14],9,-1019803690),i=xs(i,s,r,n,e[3],14,-187363961),n=xs(n,i,s,r,e[8],20,1163531501),r=xs(r,n,i,s,e[13],5,-1444681467),s=xs(s,r,n,i,e[2],9,-51403784),i=xs(i,s,r,n,e[7],14,1735328473),r=vs(r,n=xs(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=vs(s,r,n,i,e[8],11,-2022574463),i=vs(i,s,r,n,e[11],16,1839030562),n=vs(n,i,s,r,e[14],23,-35309556),r=vs(r,n,i,s,e[1],4,-1530992060),s=vs(s,r,n,i,e[4],11,1272893353),i=vs(i,s,r,n,e[7],16,-155497632),n=vs(n,i,s,r,e[10],23,-1094730640),r=vs(r,n,i,s,e[13],4,681279174),s=vs(s,r,n,i,e[0],11,-358537222),i=vs(i,s,r,n,e[3],16,-722521979),n=vs(n,i,s,r,e[6],23,76029189),r=vs(r,n,i,s,e[9],4,-640364487),s=vs(s,r,n,i,e[12],11,-421815835),i=vs(i,s,r,n,e[15],16,530742520),r=ys(r,n=vs(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ys(s,r,n,i,e[7],10,1126891415),i=ys(i,s,r,n,e[14],15,-1416354905),n=ys(n,i,s,r,e[5],21,-57434055),r=ys(r,n,i,s,e[12],6,1700485571),s=ys(s,r,n,i,e[3],10,-1894986606),i=ys(i,s,r,n,e[10],15,-1051523),n=ys(n,i,s,r,e[1],21,-2054922799),r=ys(r,n,i,s,e[8],6,1873313359),s=ys(s,r,n,i,e[15],10,-30611744),i=ys(i,s,r,n,e[6],15,-1560198380),n=ys(n,i,s,r,e[13],21,1309151649),r=ys(r,n,i,s,e[4],6,-145523070),s=ys(s,r,n,i,e[11],10,-1120210379),i=ys(i,s,r,n,e[2],15,718787259),n=ys(n,i,s,r,e[9],21,-343485551),t[0]=_u(r,t[0]),t[1]=_u(n,t[1]),t[2]=_u(i,t[2]),t[3]=_u(s,t[3])}function J2(t,e,r,n,i,s){return e=_u(_u(e,t),_u(n,s)),_u(e<<i|e>>>32-i,r)}function ps(t,e,r,n,i,s,c){return J2(e&r|~e&n,t,e,i,s,c)}function xs(t,e,r,n,i,s,c){return J2(e&n|r&~n,t,e,i,s,c)}function vs(t,e,r,n,i,s,c){return J2(e^r^n,t,e,i,s,c)}function ys(t,e,r,n,i,s,c){return J2(r^(e|~n),t,e,i,s,c)}function l8(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Hp(n,Fj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Hp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Hp(n,i),n}function Fj(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}df=Gr.atob.bind(Gr),Ox=Gr.btoa.bind(Gr);var ew="0123456789abcdef".split("");function Bj(t){for(var e="",r=0;r<4;r++)e+=ew[t>>8*r+4&15]+ew[t>>8*r&15];return e}function Mj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Rx(t){return l8(t).map(Mj).join("")}var Uj=function(t){for(var e=0;e<t.length;e++)t[e]=Bj(t[e]);return t.join("")}(l8("hello"))!="5d41402abc4b2a76b9719d911017c592";function _u(t,e){if(Uj){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kx(t,e){var r,n,i,s;if(t!==r){for(var c=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),f=[],g=0;g<256;g++)f[g]=g;var u=0;for(g=0;g<256;g++){var m=f[g];u=(u+m+c.charCodeAt(g))%256,f[g]=f[u],f[u]=m}r=t,n=f}else f=n;var v=e.length,b=0,_=0,C="";for(g=0;g<v;g++)_=(_+(m=f[b=(b+1)%256]))%256,f[b]=f[_],f[_]=m,c=f[(f[b]+f[_])%256],C+=String.fromCharCode(e.charCodeAt(g)^c);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tw={print:4,modify:8,copy:16,"annot-forms":32};function Cd(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(f){if(tw.perm!==void 0)throw new Error("Invalid permission: "+f);i+=tw[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^i)),this.encryptionKey=Rx(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=kx(this.encryptionKey,this.padding)}function Td(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function rw(t){if(ni(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var c=e[r][s];try{c[0].apply(t,n)}catch(f){Gr.console&&gi.error("jsPDF PubSub Error",f.message,f)}c[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function f2(t){if(!(this instanceof f2))return new f2(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function c8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function h0(t,e,r,n,i){if(!(this instanceof h0))return new h0(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,c8.call(this,n,i)}function Od(t,e,r,n,i){if(!(this instanceof Od))return new Od(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,c8.call(this,n,i)}function zr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],c=[],f=1,g=16,u="S",m=null;ni(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(m=t.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),f=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(g=t.floatPrecision),u=t.defaultPathOperation||"S"),c=t.filters||(s===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,b={},_={internal:{},__private__:{}};_.__private__.PubSub=rw;var C="1.3",A=_.__private__.getPdfVersion=function(){return C};_.__private__.setPdfVersion=function(D){C=D};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return j};var L=_.__private__.getPageFormat=function(D){return j[D]};i=i||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},P=I.COMPAT;function X(){this.saveGraphicsState(),fe(new cr(Kt,0,0,-Kt,0,La()*Kt).toString()+" cm"),this.setFontSize(this.getFontSize()/Kt),u="n",P=I.ADVANCED}function Y(){this.restoreGraphicsState(),u="S",P=I.COMPAT}var K=_.__private__.combineFontStyleAndFontWeight=function(D,de){if(D=="bold"&&de=="normal"||D=="bold"&&de==400||D=="normal"&&de=="italic"||D=="bold"&&de=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(D=de==400||de==="normal"?D==="italic"?"italic":"normal":de!=700&&de!=="bold"||D!=="normal"?(de==700?"bold":de)+""+D:"bold"),D};_.advancedAPI=function(D){var de=P===I.COMPAT;return de&&X.call(this),typeof D!="function"||(D(this),de&&Y.call(this)),this},_.compatAPI=function(D){var de=P===I.ADVANCED;return de&&Y.call(this),typeof D!="function"||(D(this),de&&X.call(this)),this},_.isAdvancedAPI=function(){return P===I.ADVANCED};var G,V=function(D){if(P!==I.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=_.roundToPrecision=_.__private__.roundToPrecision=function(D,de){var Ie=e||de;if(isNaN(D)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ie).replace(/0+$/,"")};G=_.hpf=_.__private__.hpf=typeof g=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return z(D,g)}:g==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return z(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return z(D,16)};var ie=_.f2=_.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return z(D,2)},W=_.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return z(D,3)},H=_.scale=_.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return P===I.COMPAT?D*Kt:P===I.ADVANCED?D:void 0},ne=function(D){return P===I.COMPAT?La()-D:P===I.ADVANCED?D:void 0},ve=function(D){return H(ne(D))};_.__private__.setPrecision=_.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var me,he="00000000000000000000000000000000",be=_.__private__.getFileId=function(){return he},Pe=_.__private__.setFileId=function(D){return he=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Ei=new Cd(m.userPermissions,m.userPassword,m.ownerPassword,he)),he};_.setFileId=function(D){return Pe(D),this},_.getFileId=function(){return be()};var Ae=_.__private__.convertDateToPDFDate=function(D){var de=D.getTimezoneOffset(),Ie=de<0?"+":"-",Ge=Math.floor(Math.abs(de/60)),at=Math.abs(de%60),At=[Ie,J(Ge),"'",J(at),"'"].join("");return["D:",D.getFullYear(),J(D.getMonth()+1),J(D.getDate()),J(D.getHours()),J(D.getMinutes()),J(D.getSeconds()),At].join("")},se=_.__private__.convertPDFDateToDate=function(D){var de=parseInt(D.substr(2,4),10),Ie=parseInt(D.substr(6,2),10)-1,Ge=parseInt(D.substr(8,2),10),at=parseInt(D.substr(10,2),10),At=parseInt(D.substr(12,2),10),Bt=parseInt(D.substr(14,2),10);return new Date(de,Ie,Ge,at,At,Bt,0)},Le=_.__private__.setCreationDate=function(D){var de;if(D===void 0&&(D=new Date),D instanceof Date)de=Ae(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=D}return me=de},M=_.__private__.getCreationDate=function(D){var de=me;return D==="jsDate"&&(de=se(me)),de};_.setCreationDate=function(D){return Le(D),this},_.getCreationDate=function(D){return M(D)};var q,J=_.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},re=_.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},le=0,Ue=[],Te=[],Me=0,Oe=[],ze=[],st=!1,ct=Te,Nt=function(){le=0,Me=0,Te=[],Ue=[],Oe=[],Ce=On(),je=On()};_.__private__.setCustomOutputDestination=function(D){st=!0,ct=D};var it=function(D){st||(ct=D)};_.__private__.resetCustomOutputDestination=function(){st=!1,ct=Te};var fe=_.__private__.out=function(D){return D=D.toString(),Me+=D.length+1,ct.push(D),ct},Ve=_.__private__.write=function(D){return fe(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},rt=_.__private__.getArrayBuffer=function(D){for(var de=D.length,Ie=new ArrayBuffer(de),Ge=new Uint8Array(Ie);de--;)Ge[de]=D.charCodeAt(de);return Ie},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return He};var Ke=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(D){return Ke=P===I.ADVANCED?D/Kt:D,this};var et,Dt=_.__private__.getFontSize=_.getFontSize=function(){return P===I.COMPAT?Ke:Ke*Kt},Mt=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(D){return Mt=D,this},_.__private__.getR2L=_.getR2L=function(){return Mt};var Xt,hr=_.__private__.setZoomMode=function(D){var de=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))et=D;else if(isNaN(D)){if(de.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');et=D}else et=parseInt(D,10)};_.__private__.getZoomMode=function(){return et};var ar,dr=_.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Xt=D};_.__private__.getPageMode=function(){return Xt};var mr=_.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');ar=D};_.__private__.getLayoutMode=function(){return ar},_.__private__.setDisplayMode=_.setDisplayMode=function(D,de,Ie){return hr(D),mr(de),dr(Ie),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(D){if(Object.keys(Qt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[D]},_.__private__.getDocumentProperties=function(){return Qt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(D){for(var de in Qt)Qt.hasOwnProperty(de)&&D[de]&&(Qt[de]=D[de]);return this},_.__private__.setDocumentProperty=function(D,de){if(Object.keys(Qt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[D]=de};var Br,Kt,Lr,fr,Vt,wr={},gr={},Kr=[],Qr={},ia={},Mn={},Ir={},Xn=null,Tn=0,Or=[],Dr=new rw(_),Ea=t.hotfixes||[],rn={},Ii={},Hi=[],cr=function D(de,Ie,Ge,at,At,Bt){if(!(this instanceof D))return new D(de,Ie,Ge,at,At,Bt);isNaN(de)&&(de=1),isNaN(Ie)&&(Ie=0),isNaN(Ge)&&(Ge=0),isNaN(at)&&(at=1),isNaN(At)&&(At=0),isNaN(Bt)&&(Bt=0),this._matrix=[de,Ie,Ge,at,At,Bt]};Object.defineProperty(cr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(cr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(cr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(cr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(cr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(cr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(cr.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(cr.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(cr.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(cr.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(cr.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(cr.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(cr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),cr.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(D)},cr.prototype.multiply=function(D){var de=D.sx*this.sx+D.shy*this.shx,Ie=D.sx*this.shy+D.shy*this.sy,Ge=D.shx*this.sx+D.sy*this.shx,at=D.shx*this.shy+D.sy*this.sy,At=D.tx*this.sx+D.ty*this.shx+this.tx,Bt=D.tx*this.shy+D.ty*this.sy+this.ty;return new cr(de,Ie,Ge,at,At,Bt)},cr.prototype.decompose=function(){var D=this.sx,de=this.shy,Ie=this.shx,Ge=this.sy,at=this.tx,At=this.ty,Bt=Math.sqrt(D*D+de*de),or=(D/=Bt)*Ie+(de/=Bt)*Ge;Ie-=D*or,Ge-=de*or;var br=Math.sqrt(Ie*Ie+Ge*Ge);return or/=br,D*(Ge/=br)<de*(Ie/=br)&&(D=-D,de=-de,or=-or,Bt=-Bt),{scale:new cr(Bt,0,0,br,0,0),translate:new cr(1,0,0,1,at,At),rotate:new cr(D,de,-de,D,0,0),skew:new cr(1,0,or,1,0,0)}},cr.prototype.toString=function(D){return this.join(" ")},cr.prototype.inversed=function(){var D=this.sx,de=this.shy,Ie=this.shx,Ge=this.sy,at=this.tx,At=this.ty,Bt=1/(D*Ge-de*Ie),or=Ge*Bt,br=-de*Bt,qr=-Ie*Bt,Mr=D*Bt;return new cr(or,br,qr,Mr,-or*at-qr*At,-br*at-Mr*At)},cr.prototype.applyToPoint=function(D){var de=D.x*this.sx+D.y*this.shx+this.tx,Ie=D.x*this.shy+D.y*this.sy+this.ty;return new Il(de,Ie)},cr.prototype.applyToRectangle=function(D){var de=this.applyToPoint(D),Ie=this.applyToPoint(new Il(D.x+D.w,D.y+D.h));return new lc(de.x,de.y,Ie.x-de.x,Ie.y-de.y)},cr.prototype.clone=function(){var D=this.sx,de=this.shy,Ie=this.shx,Ge=this.sy,at=this.tx,At=this.ty;return new cr(D,de,Ie,Ge,at,At)},_.Matrix=cr;var gn=_.matrixMult=function(D,de){return de.multiply(D)},cn=new cr(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=cn;var jn=function(D,de){if(!ia[D]){var Ie=(de instanceof h0?"Sh":"P")+(Object.keys(Qr).length+1).toString(10);de.id=Ie,ia[D]=Ie,Qr[Ie]=de,Dr.publish("addPattern",de)}};_.ShadingPattern=h0,_.TilingPattern=Od,_.addShadingPattern=function(D,de){return V("addShadingPattern()"),jn(D,de),this},_.beginTilingPattern=function(D){V("beginTilingPattern()"),Lo(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},_.endTilingPattern=function(D,de){V("endTilingPattern()"),de.stream=ze[q].join(`
`),jn(D,de),Dr.publish("endTilingPattern",de),Hi.pop().restore()};var en=_.__private__.newObject=function(){var D=On();return ge(D,!0),D},On=_.__private__.newObjectDeferred=function(){return le++,Ue[le]=function(){return Me},le},ge=function(D,de){return de=typeof de=="boolean"&&de,Ue[D]=Me,de&&fe(D+" 0 obj"),D},Se=_.__private__.newAdditionalObject=function(){var D={objId:On(),content:""};return Oe.push(D),D},Ce=On(),je=On(),ke=_.__private__.decodeColorString=function(D){var de=D.split(" ");if(de.length!==2||de[1]!=="g"&&de[1]!=="G")de.length===5&&(de[4]==="k"||de[4]==="K")&&(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Ie=parseFloat(de[0]);de=[Ie,Ie,Ie,"r"]}for(var Ge="#",at=0;at<3;at++)Ge+=("0"+Math.floor(255*parseFloat(de[at])).toString(16)).slice(-2);return Ge},Be=_.__private__.encodeColorString=function(D){var de;typeof D=="string"&&(D={ch1:D});var Ie=D.ch1,Ge=D.ch2,at=D.ch3,At=D.ch4,Bt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var or=new o8(Ie);if(or.ok)Ie=or.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var br=parseInt(Ie.substr(1),16);Ie=br>>16&255,Ge=br>>8&255,at=255&br}if(Ge===void 0||At===void 0&&Ie===Ge&&Ge===at)if(typeof Ie=="string")de=Ie+" "+Bt[0];else switch(D.precision){case 2:de=ie(Ie/255)+" "+Bt[0];break;case 3:default:de=W(Ie/255)+" "+Bt[0]}else if(At===void 0||ni(At)==="object"){if(At&&!isNaN(At.a)&&At.a===0)return de=["1.","1.","1.",Bt[1]].join(" ");if(typeof Ie=="string")de=[Ie,Ge,at,Bt[1]].join(" ");else switch(D.precision){case 2:de=[ie(Ie/255),ie(Ge/255),ie(at/255),Bt[1]].join(" ");break;default:case 3:de=[W(Ie/255),W(Ge/255),W(at/255),Bt[1]].join(" ")}}else if(typeof Ie=="string")de=[Ie,Ge,at,At,Bt[2]].join(" ");else switch(D.precision){case 2:de=[ie(Ie),ie(Ge),ie(at),ie(At),Bt[2]].join(" ");break;case 3:default:de=[W(Ie),W(Ge),W(at),W(At),Bt[2]].join(" ")}return de},lt=_.__private__.getFilters=function(){return c},wt=_.__private__.putStream=function(D){var de=(D=D||{}).data||"",Ie=D.filters||lt(),Ge=D.alreadyAppliedFilters||[],at=D.addLength1||!1,At=de.length,Bt=D.objectId,or=function(Ai){return Ai};if(m!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(or=Ei.encryptor(Bt,0));var br={};Ie===!0&&(Ie=["FlateEncode"]);var qr=D.additionalKeyValues||[],Mr=(br=zr.API.processDataByFilters!==void 0?zr.API.processDataByFilters(de,Ie):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(Ge)?Ge.join(" "):Ge.toString());if(br.data.length!==0&&(qr.push({key:"Length",value:br.data.length}),at===!0&&qr.push({key:"Length1",value:At})),Mr.length!=0)if(Mr.split("/").length-1==1)qr.push({key:"Filter",value:Mr});else{qr.push({key:"Filter",value:"["+Mr+"]"});for(var un=0;un<qr.length;un+=1)if(qr[un].key==="DecodeParms"){for(var oi=[],zn=0;zn<br.reverseChain.split("/").length-1;zn+=1)oi.push("null");oi.push(qr[un].value),qr[un].value="["+oi.join(" ")+"]"}}fe("<<");for(var hi=0;hi<qr.length;hi++)fe("/"+qr[hi].key+" "+qr[hi].value);fe(">>"),br.data.length!==0&&(fe("stream"),fe(or(br.data)),fe("endstream"))},Je=_.__private__.putPage=function(D){var de=D.number,Ie=D.data,Ge=D.objId,at=D.contentsObjId;ge(Ge,!0),fe("<</Type /Page"),fe("/Parent "+D.rootDictionaryObjId+" 0 R"),fe("/Resources "+D.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(G(D.mediaBox.bottomLeftX))+" "+parseFloat(G(D.mediaBox.bottomLeftY))+" "+G(D.mediaBox.topRightX)+" "+G(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&fe("/CropBox ["+G(D.cropBox.bottomLeftX)+" "+G(D.cropBox.bottomLeftY)+" "+G(D.cropBox.topRightX)+" "+G(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&fe("/BleedBox ["+G(D.bleedBox.bottomLeftX)+" "+G(D.bleedBox.bottomLeftY)+" "+G(D.bleedBox.topRightX)+" "+G(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&fe("/TrimBox ["+G(D.trimBox.bottomLeftX)+" "+G(D.trimBox.bottomLeftY)+" "+G(D.trimBox.topRightX)+" "+G(D.trimBox.topRightY)+"]"),D.artBox!==null&&fe("/ArtBox ["+G(D.artBox.bottomLeftX)+" "+G(D.artBox.bottomLeftY)+" "+G(D.artBox.topRightX)+" "+G(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&fe("/UserUnit "+D.userUnit),Dr.publish("putPage",{objId:Ge,pageContext:Or[de],pageNumber:de,page:Ie}),fe("/Contents "+at+" 0 R"),fe(">>"),fe("endobj");var At=Ie.join(`
`);return P===I.ADVANCED&&(At+=`
Q`),ge(at,!0),wt({data:At,filters:lt(),objectId:at}),fe("endobj"),Ge},ht=_.__private__.putPages=function(){var D,de,Ie=[];for(D=1;D<=Tn;D++)Or[D].objId=On(),Or[D].contentsObjId=On();for(D=1;D<=Tn;D++)Ie.push(Je({number:D,data:ze[D],objId:Or[D].objId,contentsObjId:Or[D].contentsObjId,mediaBox:Or[D].mediaBox,cropBox:Or[D].cropBox,bleedBox:Or[D].bleedBox,trimBox:Or[D].trimBox,artBox:Or[D].artBox,userUnit:Or[D].userUnit,rootDictionaryObjId:Ce,resourceDictionaryObjId:je}));ge(Ce,!0),fe("<</Type /Pages");var Ge="/Kids [";for(de=0;de<Tn;de++)Ge+=Ie[de]+" 0 R ";fe(Ge+"]"),fe("/Count "+Tn),fe(">>"),fe("endobj"),Dr.publish("postPutPages")},mt=function(D){Dr.publish("putFont",{font:D,out:fe,newObject:en,putStream:wt}),D.isAlreadyPutted!==!0&&(D.objectNumber=en(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Td(D.postScriptName)),fe("/Subtype /Type1"),typeof D.encoding=="string"&&fe("/Encoding /"+D.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Ot=function(){for(var D in wr)wr.hasOwnProperty(D)&&(v===!1||v===!0&&b.hasOwnProperty(D))&&mt(wr[D])},zt=function(D){D.objectNumber=en();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[G(D.x),G(D.y),G(D.x+D.width),G(D.y+D.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ie=D.pages[1].join(`
`);wt({data:Ie,additionalKeyValues:de,objectId:D.objectNumber}),fe("endobj")},Gt=function(){for(var D in rn)rn.hasOwnProperty(D)&&zt(rn[D])},$t=function(D,de){var Ie,Ge=[],at=1/(de-1);for(Ie=0;Ie<1;Ie+=at)Ge.push(Ie);if(Ge.push(1),D[0].offset!=0){var At={offset:0,color:D[0].color};D.unshift(At)}if(D[D.length-1].offset!=1){var Bt={offset:1,color:D[D.length-1].color};D.push(Bt)}for(var or="",br=0,qr=0;qr<Ge.length;qr++){for(Ie=Ge[qr];Ie>D[br+1].offset;)br++;var Mr=D[br].offset,un=(Ie-Mr)/(D[br+1].offset-Mr),oi=D[br].color,zn=D[br+1].color;or+=re(Math.round((1-un)*oi[0]+un*zn[0]).toString(16))+re(Math.round((1-un)*oi[1]+un*zn[1]).toString(16))+re(Math.round((1-un)*oi[2]+un*zn[2]).toString(16))}return or.trim()},Jt=function(D,de){de||(de=21);var Ie=en(),Ge=$t(D.colors,de),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+de+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt({data:Ge,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),fe("endobj"),D.objectNumber=en(),fe("<< /ShadingType "+D.type),fe("/ColorSpace /DeviceRGB");var At="/Coords ["+G(parseFloat(D.coords[0]))+" "+G(parseFloat(D.coords[1]))+" ";D.type===2?At+=G(parseFloat(D.coords[2]))+" "+G(parseFloat(D.coords[3])):At+=G(parseFloat(D.coords[2]))+" "+G(parseFloat(D.coords[3]))+" "+G(parseFloat(D.coords[4]))+" "+G(parseFloat(D.coords[5])),fe(At+="]"),D.matrix&&fe("/Matrix ["+D.matrix.toString()+"]"),fe("/Function "+Ie+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},jr=function(D,de){var Ie=On(),Ge=en();de.push({resourcesOid:Ie,objectOid:Ge}),D.objectNumber=Ge;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+D.boundingBox.map(G).join(" ")+"]"}),at.push({key:"XStep",value:G(D.xStep)}),at.push({key:"YStep",value:G(D.yStep)}),at.push({key:"Resources",value:Ie+" 0 R"}),D.matrix&&at.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),wt({data:D.stream,additionalKeyValues:at,objectId:D.objectNumber}),fe("endobj")},te=function(D){var de;for(de in Qr)Qr.hasOwnProperty(de)&&(Qr[de]instanceof h0?Jt(Qr[de]):Qr[de]instanceof Od&&jr(Qr[de],D))},Et=function(D){for(var de in D.objectNumber=en(),fe("<<"),D)switch(de){case"opacity":fe("/ca "+ie(D[de]));break;case"stroke-opacity":fe("/CA "+ie(D[de]))}fe(">>"),fe("endobj")},Yt=function(){var D;for(D in Mn)Mn.hasOwnProperty(D)&&Et(Mn[D])},tn=function(){for(var D in fe("/XObject <<"),rn)rn.hasOwnProperty(D)&&rn[D].objectNumber>=0&&fe("/"+D+" "+rn[D].objectNumber+" 0 R");Dr.publish("putXobjectDict"),fe(">>")},Rn=function(){Ei.oid=en(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Ei.v),fe("/R "+Ei.r),fe("/U <"+Ei.toHexString(Ei.U)+">"),fe("/O <"+Ei.toHexString(Ei.O)+">"),fe("/P "+Ei.P),fe(">>"),fe("endobj")},pr=function(){for(var D in fe("/Font <<"),wr)wr.hasOwnProperty(D)&&(v===!1||v===!0&&b.hasOwnProperty(D))&&fe("/"+D+" "+wr[D].objectNumber+" 0 R");fe(">>")},sr=function(){if(Object.keys(Qr).length>0){for(var D in fe("/Shading <<"),Qr)Qr.hasOwnProperty(D)&&Qr[D]instanceof h0&&Qr[D].objectNumber>=0&&fe("/"+D+" "+Qr[D].objectNumber+" 0 R");Dr.publish("putShadingPatternDict"),fe(">>")}},xr=function(D){if(Object.keys(Qr).length>0){for(var de in fe("/Pattern <<"),Qr)Qr.hasOwnProperty(de)&&Qr[de]instanceof _.TilingPattern&&Qr[de].objectNumber>=0&&Qr[de].objectNumber<D&&fe("/"+de+" "+Qr[de].objectNumber+" 0 R");Dr.publish("putTilingPatternDict"),fe(">>")}},Sr=function(){if(Object.keys(Mn).length>0){var D;for(D in fe("/ExtGState <<"),Mn)Mn.hasOwnProperty(D)&&Mn[D].objectNumber>=0&&fe("/"+D+" "+Mn[D].objectNumber+" 0 R");Dr.publish("putGStateDict"),fe(">>")}},Rr=function(D){ge(D.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pr(),sr(),xr(D.objectOid),Sr(),tn(),fe(">>"),fe("endobj")},Pn=function(){var D=[];Ot(),Yt(),Gt(),te(D),Dr.publish("putResources"),D.forEach(Rr),Rr({resourcesOid:je,objectOid:Number.MAX_SAFE_INTEGER}),Dr.publish("postPutResources")},Fn=function(){Dr.publish("putAdditionalObjects");for(var D=0;D<Oe.length;D++){var de=Oe[D];ge(de.objId,!0),fe(de.content),fe("endobj")}Dr.publish("postPutAdditionalObjects")},As=function(D){gr[D.fontName]=gr[D.fontName]||{},gr[D.fontName][D.fontStyle]=D.id},Oo=function(D,de,Ie,Ge,at){var At={id:"F"+(Object.keys(wr).length+1).toString(10),postScriptName:D,fontName:de,fontStyle:Ie,encoding:Ge,isStandardFont:at||!1,metadata:{}};return Dr.publish("addFont",{font:At,instance:this}),wr[At.id]=At,As(At),At.id},si=function(D){for(var de=0,Ie=He.length;de<Ie;de++){var Ge=Oo.call(this,D[de][0],D[de][1],D[de][2],He[de][3],!0);v===!1&&(b[Ge]=!0);var at=D[de][0].split("-");As({id:Ge,fontName:at[0],fontStyle:at[1]||""})}Dr.publish("addFonts",{fonts:wr,dictionary:gr})},_i=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Ge){var de=Ge.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Ie="Error in function "+de.split(`
`)[0].split("<")[0]+": "+Ge.message;if(!Gr.console)throw new Error(Ie);Gr.console.error(Ie,Ge),Gr.alert&&alert(Ie)}},D.foo.bar=D,D.foo},kl=function(D,de){var Ie,Ge,at,At,Bt,or,br,qr,Mr;if(at=(de=de||{}).sourceEncoding||"Unicode",Bt=de.outputEncoding,(de.autoencode||Bt)&&wr[Br].metadata&&wr[Br].metadata[at]&&wr[Br].metadata[at].encoding&&(At=wr[Br].metadata[at].encoding,!Bt&&wr[Br].encoding&&(Bt=wr[Br].encoding),!Bt&&At.codePages&&(Bt=At.codePages[0]),typeof Bt=="string"&&(Bt=At[Bt]),Bt)){for(br=!1,or=[],Ie=0,Ge=D.length;Ie<Ge;Ie++)(qr=Bt[D.charCodeAt(Ie)])?or.push(String.fromCharCode(qr)):or.push(D[Ie]),or[Ie].charCodeAt(0)>>8&&(br=!0);D=or.join("")}for(Ie=D.length;br===void 0&&Ie!==0;)D.charCodeAt(Ie-1)>>8&&(br=!0),Ie--;if(!br)return D;for(or=de.noBOM?[]:[254,255],Ie=0,Ge=D.length;Ie<Ge;Ie++){if((Mr=(qr=D.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");or.push(Mr),or.push(qr-(Mr<<8))}return String.fromCharCode.apply(void 0,or)},kn=_.__private__.pdfEscape=_.pdfEscape=function(D,de){return kl(D,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sn=_.__private__.beginPage=function(D){ze[++Tn]=[],Or[Tn]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Re(Tn),it(ze[q])},Di=function(D,de){var Ie,Ge,at;switch(r=de||r,typeof D=="string"&&(Ie=L(D.toLowerCase()),Array.isArray(Ie)&&(Ge=Ie[0],at=Ie[1])),Array.isArray(D)&&(Ge=D[0]*Kt,at=D[1]*Kt),isNaN(Ge)&&(Ge=i[0],at=i[1]),(Ge>14400||at>14400)&&(gi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ge=Math.min(14400,Ge),at=Math.min(14400,at)),i=[Ge,at],r.substr(0,1)){case"l":at>Ge&&(i=[at,Ge]);break;case"p":Ge>at&&(i=[at,Ge])}Sn(i),aa(us),fe(ds),Si!==0&&fe(Si+" J"),lo!==0&&fe(lo+" j"),Dr.publish("addPage",{pageNumber:Tn})},ut=function(D){D>0&&D<=Tn&&(ze.splice(D,1),Or.splice(D,1),Tn--,q>Tn&&(q=Tn),this.setPage(q))},Re=function(D){D>0&&D<=Tn&&(q=D)},Nr=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ze.length-1},mi=function(D,de,Ie){var Ge,at=void 0;return Ie=Ie||{},D=D!==void 0?D:wr[Br].fontName,de=de!==void 0?de:wr[Br].fontStyle,Ge=D.toLowerCase(),gr[Ge]!==void 0&&gr[Ge][de]!==void 0?at=gr[Ge][de]:gr[D]!==void 0&&gr[D][de]!==void 0?at=gr[D][de]:Ie.disableWarning===!1&&gi.warn("Unable to look up font label for font '"+D+"', '"+de+"'. Refer to getFontList() for available fonts."),at||Ie.noFallback||(at=gr.times[de])==null&&(at=gr.times.normal),at},qi=_.__private__.putInfo=function(){var D=en(),de=function(Ge){return Ge};for(var Ie in m!==null&&(de=Ei.encryptor(D,0)),fe("<<"),fe("/Producer ("+kn(de("jsPDF "+zr.version))+")"),Qt)Qt.hasOwnProperty(Ie)&&Qt[Ie]&&fe("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+kn(de(Qt[Ie]))+")");fe("/CreationDate ("+kn(de(me))+")"),fe(">>"),fe("endobj")},sc=_.__private__.putCatalog=function(D){var de=(D=D||{}).rootDictionaryObjId||Ce;switch(en(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+de+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+et;Ie.substr(Ie.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+ie(et)+"]")}switch(ar||(ar="continuous"),ar){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Xt&&fe("/PageMode /"+Xt),Dr.publish("putCatalog"),fe(">>"),fe("endobj")},Ll=_.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(le+1)),fe("/Root "+le+" 0 R"),fe("/Info "+(le-1)+" 0 R"),m!==null&&fe("/Encrypt "+Ei.oid+" 0 R"),fe("/ID [ <"+he+"> <"+he+"> ]"),fe(">>")},Sa=_.__private__.putHeader=function(){fe("%PDF-"+C),fe("%")},Ar=_.__private__.putXRef=function(){var D="0000000000";fe("xref"),fe("0 "+(le+1)),fe("0000000000 65535 f ");for(var de=1;de<=le;de++)typeof Ue[de]=="function"?fe((D+Ue[de]()).slice(-10)+" 00000 n "):Ue[de]!==void 0?fe((D+Ue[de]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Nn=_.__private__.buildDocument=function(){Nt(),it(Te),Dr.publish("buildDocument"),Sa(),ht(),Fn(),Pn(),m!==null&&Rn(),qi(),sc();var D=Me;return Ar(),Ll(),fe("startxref"),fe(""+D),fe("%%EOF"),it(ze[q]),Te.join(`
`)},Jo=_.__private__.getBlob=function(D){return new Blob([rt(D)],{type:"application/pdf"})},io=_.output=_.__private__.output=_i(function(D,de){switch(typeof(de=de||{})=="string"?de={filename:de}:de.filename=de.filename||"generated.pdf",D){case void 0:return Nn();case"save":_.save(de.filename);break;case"arraybuffer":return rt(Nn());case"blob":return Jo(Nn());case"bloburi":case"bloburl":if(Gr.URL!==void 0&&typeof Gr.URL.createObjectURL=="function")return Gr.URL&&Gr.URL.createObjectURL(Jo(Nn()))||void 0;gi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",Ge=Nn();try{Ie=Ox(Ge)}catch(zn){Ie=Ox(unescape(encodeURIComponent(Ge)))}return"data:application/pdf;filename="+de.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",At=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(at=de.pdfObjectUrl,At="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+At+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",or=Gr.open();return or!==null&&or.document.write(Bt),or}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',qr=Gr.open();if(qr!==null){qr.document.write(br);var Mr=this;qr.document.documentElement.querySelector("#pdfViewer").onload=function(){qr.document.title=de.filename,qr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mr.output("bloburl"))}}return qr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',oi=Gr.open();if(oi!==null&&(oi.document.write(un),oi.document.title=de.filename),oi||typeof safari=="undefined")return oi;break;case"datauri":case"dataurl":return Gr.document.location.href=this.output("datauristring",de);default:return null}}),Ro=function(D){return Array.isArray(Ea)===!0&&Ea.indexOf(D)>-1};switch(n){case"pt":Kt=1;break;case"mm":Kt=72/25.4;break;case"cm":Kt=72/2.54;break;case"in":Kt=72;break;case"px":Kt=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":Kt=12;break;case"ex":Kt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Kt=n}var Ei=null;Le(),Pe();var Fs=function(D){return m!==null?Ei.encryptor(D,0):function(de){return de}},ao=_.__private__.getPageInfo=_.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Or[D].objId,pageNumber:D,pageContext:Or[D]}},vr=_.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in Or)if(Or[de].objId===D)break;return ao(de)},so=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Or[q].objId,pageNumber:q,pageContext:Or[q]}};_.addPage=function(){return Di.apply(this,arguments),this},_.setPage=function(){return Re.apply(this,arguments),it.call(this,ze[q]),this},_.insertPage=function(D){return this.addPage(),this.movePage(q,D),this},_.movePage=function(D,de){var Ie,Ge;if(D>de){Ie=ze[D],Ge=Or[D];for(var at=D;at>de;at--)ze[at]=ze[at-1],Or[at]=Or[at-1];ze[de]=Ie,Or[de]=Ge,this.setPage(de)}else if(D<de){Ie=ze[D],Ge=Or[D];for(var At=D;At<de;At++)ze[At]=ze[At+1],Or[At]=Or[At+1];ze[de]=Ie,Or[de]=Ge,this.setPage(de)}return this},_.deletePage=function(){return ut.apply(this,arguments),this},_.__private__.text=_.text=function(D,de,Ie,Ge,at){var At,Bt,or,br,qr,Mr,un,oi,zn,hi=(Ge=Ge||{}).scope||this;if(typeof D=="number"&&typeof de=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var Ai=Ie;Ie=de,de=D,D=Ai}if(arguments[3]instanceof cr?(V("The transform parameter of text() with a Matrix value"),zn=at):(or=arguments[4],br=arguments[5],ni(un=arguments[3])==="object"&&un!==null||(typeof or=="string"&&(br=or,or=null),typeof un=="string"&&(br=un,un=null),typeof un=="number"&&(or=un,un=null),Ge={flags:un,angle:or,align:br})),isNaN(de)||isNaN(Ie)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return hi;var pi="",Ts=!1,Fi=typeof Ge.lineHeightFactor=="number"?Ge.lineHeightFactor:Oa,Ia=hi.internal.scaleFactor;function pa(pn){return pn=pn.split("	").join(Array(Ge.TabLen||9).join(" ")),kn(pn,un)}function zs(pn){for(var xn,li=pn.concat(),Wi=[],qs=li.length;qs--;)typeof(xn=li.shift())=="string"?Wi.push(xn):Array.isArray(pn)&&(xn.length===1||xn[1]===void 0&&xn[2]===void 0)?Wi.push(xn[0]):Wi.push([xn[0],xn[1],xn[2]]);return Wi}function Xi(pn,xn){var li;if(typeof pn=="string")li=xn(pn)[0];else if(Array.isArray(pn)){for(var Wi,qs,Fl=pn.concat(),Bl=[],nl=Fl.length;nl--;)typeof(Wi=Fl.shift())=="string"?Bl.push(xn(Wi)[0]):Array.isArray(Wi)&&typeof Wi[0]=="string"&&(qs=xn(Wi[0],Wi[1],Wi[2]),Bl.push([qs[0],qs[1],qs[2]]));li=Bl}return li}var Dl=!1,Hs=!0;if(typeof D=="string")Dl=!0;else if(Array.isArray(D)){var Pl=D.concat();Bt=[];for(var Do,Hn=Pl.length;Hn--;)(typeof(Do=Pl.shift())!="string"||Array.isArray(Do)&&typeof Do[0]!="string")&&(Hs=!1);Dl=Hs}if(Dl===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Po=Ke/hi.internal.scaleFactor,uo=Po*(Fi-1);switch(Ge.baseline){case"bottom":Ie-=uo;break;case"top":Ie+=Po-uo;break;case"hanging":Ie+=Po-2*uo;break;case"middle":Ie+=Po/2-uo}if((Mr=Ge.maxWidth||0)>0&&(typeof D=="string"?D=hi.splitTextToSize(D,Mr):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(pn,xn){return pn.concat(hi.splitTextToSize(xn,Mr))},[]))),At={text:D,x:de,y:Ie,options:Ge,mutex:{pdfEscape:kn,activeFontKey:Br,fonts:wr,activeFontSize:Ke}},Dr.publish("preProcessText",At),D=At.text,or=(Ge=At.options).angle,!(zn instanceof cr)&&or&&typeof or=="number"){or*=Math.PI/180,Ge.rotationDirection===0&&(or=-or),P===I.ADVANCED&&(or=-or);var js=Math.cos(or),nn=Math.sin(or);zn=new cr(js,nn,-nn,js,0,0)}else or&&or instanceof cr&&(zn=or);P!==I.ADVANCED||zn||(zn=cn),(qr=Ge.charSpace||vt)!==void 0&&(pi+=G(H(qr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(oi=Ge.horizontalScale)!==void 0&&(pi+=G(100*oi)+` Tz
`),Ge.lang;var sa=-1,ce=Ge.renderingMode!==void 0?Ge.renderingMode:Ge.stroke,l=hi.internal.getCurrentPageInfo().pageContext;switch(ce){case 0:case!1:case"fill":sa=0;break;case 1:case!0:case"stroke":sa=1;break;case 2:case"fillThenStroke":sa=2;break;case 3:case"invisible":sa=3;break;case 4:case"fillAndAddForClipping":sa=4;break;case 5:case"strokeAndAddPathForClipping":sa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sa=6;break;case 7:case"addToPathForClipping":sa=7}var h=l.usedRenderingMode!==void 0?l.usedRenderingMode:-1;sa!==-1?pi+=sa+` Tr
`:h!==-1&&(pi+=`0 Tr
`),sa!==-1&&(l.usedRenderingMode=sa),br=Ge.align||"left";var p,y=Ke*Fi,w=hi.internal.pageSize.getWidth(),S=wr[Br];qr=Ge.charSpace||vt,Mr=Ge.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},Ge.flags);var T=[],k=function(pn){return hi.getStringUnitWidth(pn,{font:S,charSpace:qr,fontSize:Ke,doKerning:!1})*Ke/Ia};if(Object.prototype.toString.call(D)==="[object Array]"){var B;Bt=zs(D),br!=="left"&&(p=Bt.map(k));var Q,oe=0;if(br==="right"){de-=p[0],D=[],Hn=Bt.length;for(var xe=0;xe<Hn;xe++)xe===0?(Q=$a(de),B=Ms(Ie)):(Q=H(oe-p[xe]),B=-y),D.push([Bt[xe],Q,B]),oe=p[xe]}else if(br==="center"){de-=p[0]/2,D=[],Hn=Bt.length;for(var De=0;De<Hn;De++)De===0?(Q=$a(de),B=Ms(Ie)):(Q=H((oe-p[De])/2),B=-y),D.push([Bt[De],Q,B]),oe=p[De]}else if(br==="left"){D=[],Hn=Bt.length;for(var We=0;We<Hn;We++)D.push(Bt[We])}else if(br==="justify"&&S.encoding==="Identity-H"){D=[],Hn=Bt.length,Mr=Mr!==0?Mr:w;for(var $e=0,tt=0;tt<Hn;tt++)if(B=tt===0?Ms(Ie):-y,Q=tt===0?$a(de):$e,tt<Hn-1){var xt=H((Mr-p[tt])/(Bt[tt].split(" ").length-1)),Pt=Bt[tt].split(" ");D.push([Pt[0]+" ",Q,B]),$e=0;for(var qt=1;qt<Pt.length;qt++){var Ht=(k(Pt[qt-1]+" "+Pt[qt])-k(Pt[qt]))*Ia+xt;qt==Pt.length-1?D.push([Pt[qt],Ht,0]):D.push([Pt[qt]+" ",Ht,0]),$e-=Ht}}else D.push([Bt[tt],Q,B]);D.push(["",$e,0])}else{if(br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Hn=Bt.length,Mr=Mr!==0?Mr:w,tt=0;tt<Hn;tt++)B=tt===0?Ms(Ie):-y,Q=tt===0?$a(de):0,tt<Hn-1?T.push(G(H((Mr-p[tt])/(Bt[tt].split(" ").length-1)))):T.push(0),D.push([Bt[tt],Q,B])}}var Wr=typeof Ge.R2L=="boolean"?Ge.R2L:Mt;Wr===!0&&(D=Xi(D,function(pn,xn,li){return[pn.split("").reverse().join(""),xn,li]})),At={text:D,x:de,y:Ie,options:Ge,mutex:{pdfEscape:kn,activeFontKey:Br,fonts:wr,activeFontSize:Ke}},Dr.publish("postProcessText",At),D=At.text,Ts=At.mutex.isHex||!1;var Pr=wr[Br].encoding;Pr!=="WinAnsiEncoding"&&Pr!=="StandardEncoding"||(D=Xi(D,function(pn,xn,li){return[pa(pn),xn,li]})),Bt=zs(D),D=[];for(var Ci,Yi,Ti,wn=0,xi=1,Bi=Array.isArray(Bt[0])?xi:wn,Da="",hs=function(pn,xn,li){var Wi="";return li instanceof cr?(li=typeof Ge.angle=="number"?gn(li,new cr(1,0,0,1,pn,xn)):gn(new cr(1,0,0,1,pn,xn),li),P===I.ADVANCED&&(li=gn(new cr(1,0,0,-1,0,0),li)),Wi=li.join(" ")+` Tm
`):Wi=G(pn)+" "+G(xn)+` Td
`,Wi},vi=0;vi<Bt.length;vi++){switch(Da="",Bi){case xi:Ti=(Ts?"<":"(")+Bt[vi][0]+(Ts?">":")"),Ci=parseFloat(Bt[vi][1]),Yi=parseFloat(Bt[vi][2]);break;case wn:Ti=(Ts?"<":"(")+Bt[vi]+(Ts?">":")"),Ci=$a(de),Yi=Ms(Ie)}T!==void 0&&T[vi]!==void 0&&(Da=T[vi]+` Tw
`),vi===0?D.push(Da+hs(Ci,Yi,zn)+Ti):Bi===wn?D.push(Da+Ti):Bi===xi&&D.push(Da+hs(Ci,Yi,zn)+Ti)}D=Bi===wn?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Xa=`BT
/`;return Xa+=Br+" "+Ke+` Tf
`,Xa+=G(Ke*Fi)+` TL
`,Xa+=ka+`
`,Xa+=pi,Xa+=D,fe(Xa+="ET"),b[Br]=!0,hi};var Cs=_.__private__.clip=_.clip=function(D){return fe(D==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Cs("evenodd")},_.__private__.discardPath=_.discardPath=function(){return fe("n"),this};var yr=_.__private__.isValidStyle=function(D){var de=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(de=!0),de};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(D){return yr(D)&&(u=D),this};var ls=_.__private__.getStyle=_.getStyle=function(D){var de=u;switch(D){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=D}return de},Hr=_.close=function(){return fe("h"),this};_.stroke=function(){return fe("S"),this},_.fill=function(D){return Kn("f",D),this},_.fillEvenOdd=function(D){return Kn("f*",D),this},_.fillStroke=function(D){return Kn("B",D),this},_.fillStrokeEvenOdd=function(D){return Kn("B*",D),this};var Kn=function(D,de){ni(de)==="object"?el(de,D):fe(D)},cs=function(D){D===null||P===I.ADVANCED&&D===void 0||(D=ls(D),fe(D))};function Qo(D,de,Ie,Ge,at){var At=new Od(de||this.boundingBox,Ie||this.xStep,Ge||this.yStep,this.gState,at||this.matrix);At.stream=this.stream;var Bt=D+"$$"+this.cloneIndex+++"$$";return jn(Bt,At),At}var el=function(D,de){var Ie=ia[D.key],Ge=Qr[Ie];if(Ge instanceof h0)fe("q"),fe(Bs(de)),Ge.gState&&_.setGState(Ge.gState),fe(D.matrix.toString()+" cm"),fe("/"+Ie+" sh"),fe("Q");else if(Ge instanceof Od){var at=new cr(1,0,0,-1,0,La());D.matrix&&(at=at.multiply(D.matrix||cn),Ie=Qo.call(Ge,D.key,D.boundingBox,D.xStep,D.yStep,at).id),fe("q"),fe("/Pattern cs"),fe("/"+Ie+" scn"),Ge.gState&&_.setGState(Ge.gState),fe(de),fe("Q")}},Bs=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ko=_.moveTo=function(D,de){return fe(G(H(D))+" "+G(ve(de))+" m"),this},ja=_.lineTo=function(D,de){return fe(G(H(D))+" "+G(ve(de))+" l"),this},Ga=_.curveTo=function(D,de,Ie,Ge,at,At){return fe([G(H(D)),G(ve(de)),G(H(Ie)),G(ve(Ge)),G(H(at)),G(ve(At)),"c"].join(" ")),this};_.__private__.line=_.line=function(D,de,Ie,Ge,at){if(isNaN(D)||isNaN(de)||isNaN(Ie)||isNaN(Ge)||!yr(at))throw new Error("Invalid arguments passed to jsPDF.line");return P===I.COMPAT?this.lines([[Ie-D,Ge-de]],D,de,[1,1],at||"S"):this.lines([[Ie-D,Ge-de]],D,de,[1,1]).stroke()},_.__private__.lines=_.lines=function(D,de,Ie,Ge,at,At){var Bt,or,br,qr,Mr,un,oi,zn,hi,Ai,pi,Ts;if(typeof D=="number"&&(Ts=Ie,Ie=de,de=D,D=Ts),Ge=Ge||[1,1],At=At||!1,isNaN(de)||isNaN(Ie)||!Array.isArray(D)||!Array.isArray(Ge)||!yr(at)||typeof At!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ko(de,Ie),Bt=Ge[0],or=Ge[1],qr=D.length,Ai=de,pi=Ie,br=0;br<qr;br++)(Mr=D[br]).length===2?(Ai=Mr[0]*Bt+Ai,pi=Mr[1]*or+pi,ja(Ai,pi)):(un=Mr[0]*Bt+Ai,oi=Mr[1]*or+pi,zn=Mr[2]*Bt+Ai,hi=Mr[3]*or+pi,Ai=Mr[4]*Bt+Ai,pi=Mr[5]*or+pi,Ga(un,oi,zn,hi,Ai,pi));return At&&Hr(),cs(at),this},_.path=function(D){for(var de=0;de<D.length;de++){var Ie=D[de],Ge=Ie.c;switch(Ie.op){case"m":ko(Ge[0],Ge[1]);break;case"l":ja(Ge[0],Ge[1]);break;case"c":Ga.apply(this,Ge);break;case"h":Hr()}}return this},_.__private__.rect=_.rect=function(D,de,Ie,Ge,at){if(isNaN(D)||isNaN(de)||isNaN(Ie)||isNaN(Ge)||!yr(at))throw new Error("Invalid arguments passed to jsPDF.rect");return P===I.COMPAT&&(Ge=-Ge),fe([G(H(D)),G(ve(de)),G(H(Ie)),G(H(Ge)),"re"].join(" ")),cs(at),this},_.__private__.triangle=_.triangle=function(D,de,Ie,Ge,at,At,Bt){if(isNaN(D)||isNaN(de)||isNaN(Ie)||isNaN(Ge)||isNaN(at)||isNaN(At)||!yr(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-D,Ge-de],[at-Ie,At-Ge],[D-at,de-At]],D,de,[1,1],Bt,!0),this},_.__private__.roundedRect=_.roundedRect=function(D,de,Ie,Ge,at,At,Bt){if(isNaN(D)||isNaN(de)||isNaN(Ie)||isNaN(Ge)||isNaN(at)||isNaN(At)||!yr(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var or=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*Ie),At=Math.min(At,.5*Ge),this.lines([[Ie-2*at,0],[at*or,0,at,At-At*or,at,At],[0,Ge-2*At],[0,At*or,-at*or,At,-at,At],[2*at-Ie,0],[-at*or,0,-at,-At*or,-at,-At],[0,2*At-Ge],[0,-At*or,at*or,-At,at,-At]],D+at,de,[1,1],Bt,!0),this},_.__private__.ellipse=_.ellipse=function(D,de,Ie,Ge,at){if(isNaN(D)||isNaN(de)||isNaN(Ie)||isNaN(Ge)||!yr(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var At=4/3*(Math.SQRT2-1)*Ie,Bt=4/3*(Math.SQRT2-1)*Ge;return ko(D+Ie,de),Ga(D+Ie,de-Bt,D+At,de-Ge,D,de-Ge),Ga(D-At,de-Ge,D-Ie,de-Bt,D-Ie,de),Ga(D-Ie,de+Bt,D-At,de+Ge,D,de+Ge),Ga(D+At,de+Ge,D+Ie,de+Bt,D+Ie,de),cs(at),this},_.__private__.circle=_.circle=function(D,de,Ie,Ge){if(isNaN(D)||isNaN(de)||isNaN(Ie)||!yr(Ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,de,Ie,Ie,Ge)},_.setFont=function(D,de,Ie){return Ie&&(de=K(de,Ie)),Br=mi(D,de,{disableWarning:!1}),this};var Pi=_.__private__.getFont=_.getFont=function(){return wr[mi.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var D,de,Ie={};for(D in gr)if(gr.hasOwnProperty(D))for(de in Ie[D]=[],gr[D])gr[D].hasOwnProperty(de)&&Ie[D].push(de);return Ie},_.addFont=function(D,de,Ie,Ge,at){var At=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&At.indexOf(arguments[3])!==-1?at=arguments[3]:arguments[3]&&At.indexOf(arguments[3])==-1&&(Ie=K(Ie,Ge)),at=at||"Identity-H",Oo.call(this,D,de,Ie,at)};var Oa,us=t.lineWidth||.200025,Ra=_.__private__.getLineWidth=_.getLineWidth=function(){return us},aa=_.__private__.setLineWidth=_.setLineWidth=function(D){return us=D,fe(G(H(D))+" w"),this};_.__private__.setLineDash=zr.API.setLineDash=zr.API.setLineDashPattern=function(D,de){if(D=D||[],de=de||0,isNaN(de)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ie){return G(H(Ie))}).join(" "),de=G(H(de)),fe("["+D+"] "+de+" d"),this};var tl=_.__private__.getLineHeight=_.getLineHeight=function(){return Ke*Oa};_.__private__.getLineHeight=_.getLineHeight=function(){return Ke*Oa};var rl=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Oa=D),this},oo=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return Oa};rl(t.lineHeight);var $a=_.__private__.getHorizontalCoordinate=function(D){return H(D)},Ms=_.__private__.getVerticalCoordinate=function(D){return P===I.ADVANCED?D:Or[q].mediaBox.topRightY-Or[q].mediaBox.bottomLeftY-H(D)},Iu=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(D){return G($a(D))},mn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(D){return G(Ms(D))},ds=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return ke(ds)},_.__private__.setStrokeColor=_.setDrawColor=function(D,de,Ie,Ge){return ds=Be({ch1:D,ch2:de,ch3:Ie,ch4:Ge,pdfColorType:"draw",precision:2}),fe(ds),this};var Us=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return ke(Us)},_.__private__.setFillColor=_.setFillColor=function(D,de,Ie,Ge){return Us=Be({ch1:D,ch2:de,ch3:Ie,ch4:Ge,pdfColorType:"fill",precision:2}),fe(Us),this};var ka=t.textColor||"0 g",Du=_.__private__.getTextColor=_.getTextColor=function(){return ke(ka)};_.__private__.setTextColor=_.setTextColor=function(D,de,Ie,Ge){return ka=Be({ch1:D,ch2:de,ch3:Ie,ch4:Ge,pdfColorType:"text",precision:3}),this};var vt=t.charSpace,Zr=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(vt||0)};_.__private__.setCharSpace=_.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vt=D,this};var Si=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(D){var de=_.CapJoinStyles[D];if(de===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Si=de,fe(de+" J"),this};var lo=0;_.__private__.setLineJoin=_.setLineJoin=function(D){var de=_.CapJoinStyles[D];if(de===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lo=de,fe(de+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(G(H(D))+" M"),this},_.GState=f2,_.setGState=function(D){(D=typeof D=="string"?Mn[Ir[D]]:oc(null,D)).equals(Xn)||(fe("/"+D.id+" gs"),Xn=D)};var oc=function(D,de){if(!D||!Ir[D]){var Ie=!1;for(var Ge in Mn)if(Mn.hasOwnProperty(Ge)&&Mn[Ge].equals(de)){Ie=!0;break}if(Ie)de=Mn[Ge];else{var at="GS"+(Object.keys(Mn).length+1).toString(10);Mn[at]=de,de.id=at}return D&&(Ir[D]=de.id),Dr.publish("addGState",de),de}};_.addGState=function(D,de){return oc(D,de),this},_.saveGraphicsState=function(){return fe("q"),Kr.push({key:Br,size:Ke,color:ka}),this},_.restoreGraphicsState=function(){fe("Q");var D=Kr.pop();return Br=D.key,Ke=D.size,ka=D.color,Xn=null,this},_.setCurrentTransformationMatrix=function(D){return fe(D.toString()+" cm"),this},_.comment=function(D){return fe("#"+D),this};var Il=function(D,de){var Ie=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(At){isNaN(At)||(Ie=parseFloat(At))}});var Ge=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ge},set:function(At){isNaN(At)||(Ge=parseFloat(At))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(At){at=At.toString()}}),this},lc=function(D,de,Ie,Ge){Il.call(this,D,de),this.type="rect";var at=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Bt){isNaN(Bt)||(at=parseFloat(Bt))}});var At=Ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return At},set:function(Bt){isNaN(Bt)||(At=parseFloat(Bt))}}),this},cc=function(){this.page=Tn,this.currentPage=q,this.pages=ze.slice(0),this.pagesContext=Or.slice(0),this.x=Lr,this.y=fr,this.matrix=Vt,this.width=Un(q),this.height=La(q),this.outputDestination=ct,this.id="",this.objectNumber=-1};cc.prototype.restore=function(){Tn=this.page,q=this.currentPage,Or=this.pagesContext,ze=this.pages,Lr=this.x,fr=this.y,Vt=this.matrix,co(q,this.width),An(q,this.height),ct=this.outputDestination};var Lo=function(D,de,Ie,Ge,at){Hi.push(new cc),Tn=q=0,ze=[],Lr=D,fr=de,Vt=at,Sn([Ie,Ge])},Ni=function(D){if(Ii[D])Hi.pop().restore();else{var de=new cc,Ie="Xo"+(Object.keys(rn).length+1).toString(10);de.id=Ie,Ii[D]=Ie,rn[Ie]=de,Dr.publish("addFormObject",de),Hi.pop().restore()}};for(var Io in _.beginFormObject=function(D,de,Ie,Ge,at){return Lo(D,de,Ie,Ge,at),this},_.endFormObject=function(D){return Ni(D),this},_.doFormObject=function(D,de){var Ie=rn[Ii[D]];return fe("q"),fe(de.toString()+" cm"),fe("/"+Ie.id+" Do"),fe("Q"),this},_.getFormObject=function(D){var de=rn[Ii[D]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},_.save=function(D,de){return D=D||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,de.returnPromise===!1?(u0(Jo(Nn()),D),typeof u0.unload=="function"&&Gr.setTimeout&&setTimeout(u0.unload,911),this):new Promise(function(Ie,Ge){try{var at=u0(Jo(Nn()),D);typeof u0.unload=="function"&&Gr.setTimeout&&setTimeout(u0.unload,911),Ie(at)}catch(At){Ge(At.message)}})},zr.API)zr.API.hasOwnProperty(Io)&&(Io==="events"&&zr.API.events.length?function(D,de){var Ie,Ge,at;for(at=de.length-1;at!==-1;at--)Ie=de[at][0],Ge=de[at][1],D.subscribe.apply(D,[Ie].concat(typeof Ge=="function"?[Ge]:Ge))}(Dr,zr.API.events):_[Io]=zr.API[Io]);var Un=_.getPageWidth=function(D){return(Or[D=D||q].mediaBox.topRightX-Or[D].mediaBox.bottomLeftX)/Kt},co=_.setPageWidth=function(D,de){Or[D].mediaBox.topRightX=de*Kt+Or[D].mediaBox.bottomLeftX},La=_.getPageHeight=function(D){return(Or[D=D||q].mediaBox.topRightY-Or[D].mediaBox.bottomLeftY)/Kt},An=_.setPageHeight=function(D,de){Or[D].mediaBox.topRightY=de*Kt+Or[D].mediaBox.bottomLeftY};return _.internal={pdfEscape:kn,getStyle:ls,getFont:Pi,getFontSize:Dt,getCharSpace:Zr,getTextColor:Du,getLineHeight:tl,getLineHeightFactor:oo,getLineWidth:Ra,write:Ve,getHorizontalCoordinate:$a,getVerticalCoordinate:Ms,getCoordinateString:Iu,getVerticalCoordinateString:mn,collections:{},newObject:en,newAdditionalObject:Se,newObjectDeferred:On,newObjectDeferredBegin:ge,getFilters:lt,putStream:wt,events:Dr,scaleFactor:Kt,pageSize:{getWidth:function(){return Un(q)},setWidth:function(D){co(q,D)},getHeight:function(){return La(q)},setHeight:function(D){An(q,D)}},encryptionOptions:m,encryption:Ei,getEncryptor:Fs,output:io,getNumberOfPages:Nr,pages:ze,out:fe,f2:ie,f3:W,getPageInfo:ao,getPageInfoByObjId:vr,getCurrentPageInfo:so,getPDFVersion:A,Point:Il,Rectangle:lc,Matrix:cr,hasHotfix:Ro},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Un(q)},set:function(D){co(q,D)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return La(q)},set:function(D){An(q,D)},enumerable:!0,configurable:!0}),si.call(_,He),Br="F1",Di(i,r),Dr.publish("initialized"),_}Cd.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Cd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cd.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Cd.prototype.processOwnerPassword=function(t,e){return kx(Rx(e).substr(0,5),t)},Cd.prototype.encryptor=function(t,e){var r=Rx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return kx(r,n)}},f2.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ni(t)!==ni(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},zr.API={events:[]},zr.version="3.0.1";var ea=zr.API,pv=1,S0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},md=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jr=function(t){return t.toFixed(2)},xu=function(t){return t.toFixed(5)};ea.__acroform__={};var no=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},nw=function(t){return t*pv},Jl=function(t){var e=new d8,r=Er.internal.getHeight(t)||0,n=Er.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Jr(n)),Number(Jr(r))],e},zj=ea.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Hj=ea.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},qj=ea.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},ha=ea.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qj(t,e-1)},fa=ea.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zj(t,e-1)},ga=ea.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Hj(t,e-1)},Wj=ea.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],c=t[2],f=t[3],g={};return g.lowerLeft_X=r(i)||0,g.lowerLeft_Y=n(s+f)||0,g.upperRight_X=r(i+c)||0,g.upperRight_Y=n(s)||0,[Number(Jr(g.lowerLeft_X)),Number(Jr(g.lowerLeft_Y)),Number(Jr(g.upperRight_X)),Number(Jr(g.upperRight_Y))]},Vj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Lx(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Jr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Jl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Lx=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var s=r,c=Er.internal.getHeight(t)||0;c=c<0?-c:c;var f=Er.internal.getWidth(t)||0;f=f<0?-f:f;var g=function(W,H,ne){if(W+1<i.length){var ve=H+" "+i[W+1][0];return Q1(ve,t,ne).width<=f-4}return!1};s++;e:for(;s>0;){e="",s--;var u,m,v=Q1("3",t,s).height,b=t.multiline?c-s:(c-v)/2,_=b+=2,C=0,A=0,j=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Q1(e,t,s=12).width+", FieldWidth:"+f+`
`;break}for(var L="",I=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var X=!1;if(i[P].length!==1&&j!==i[P].length-1){if((v+2)*(I+2)+2>c)continue e;L+=i[P][j],X=!0,A=P,P--}else{L=(L+=i[P][j]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var Y=parseInt(P),K=g(Y,L,s),G=P>=i.length-1;if(K&&!G){L+=" ",j=0;continue}if(K||G){if(G)A=Y;else if(t.multiline&&(v+2)*(I+2)+2>c)continue e}else{if(!t.multiline||(v+2)*(I+2)+2>c)continue e;A=Y}}for(var V="",z=C;z<=A;z++){var ie=i[z];if(t.multiline){if(z===A){V+=ie[j]+" ",j=(j+1)%ie.length;continue}if(z===C){V+=ie[ie.length-1]+" ";continue}}V+=ie[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,m=Q1(V,t,s).width,t.textAlign){case"right":u=f-m-2;break;case"center":u=(f-m)/2;break;case"left":default:u=2}e+=Jr(u)+" "+Jr(_)+` Td
`,e+="("+S0(V)+`) Tj
`,e+=-Jr(u)+` 0 Td
`,_=-(s+2),m=0,C=X?A:A+1,I++,L=""}break}return n.text=e,n.fontSize=s,n},Q1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Gj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$j=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Xj=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),ni(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},Yj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ol.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Gj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new h8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&$j(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var c in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var f=n[c],g=[],u=f.Rect;if(f.Rect&&(f.Rect=Wj(f.Rect,i)),i.internal.newObjectDeferredBegin(f.objId,!0),f.DA=Er.createDefaultAppearanceStream(f),ni(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(g=f.getKeyValueListForStream()),f.Rect=u,f.hasAppearanceStream&&!f.appearanceStreamContent){var m=Vj(f);g.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(f.appearanceStreamContent){var v="";for(var b in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(b)){var _=f.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var C=_[c];typeof C=="function"&&(C=C.call(i,f)),v+="/"+c+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=_)=="function"&&(C=C.call(i,f)),v+="/"+c+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);v+=">>"}g.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:g,objectId:f.objId}),i.internal.out("endobj")}s&&Xj(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},u8=ea.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(c){return c};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ni(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+S0(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qp=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+S0(n(t))+")"},tc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tc.prototype.toString=function(){return this.objId+" 0 R"},tc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},tc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:u8(i,this.objId,this.scope)}):i instanceof tc?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var d8=function(){tc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};no(d8,tc);var h8=function(){tc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+S0(r(t))+")"}},set:function(r){t=r}})};no(h8,tc);var Ol=function t(){tc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ha(e,3)},set:function(L){L?this.F=fa(e,3):this.F=ga(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');r=L}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(L){n=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(L){n[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(L){n[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(L){n[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(L){n[3]=L}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof g2)return;s="FieldObject"+t.FieldNum++}var L=function(I){return I};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+S0(L(s))+")"},set:function(L){s=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(L){s=L}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(L){g=L}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/pv:u},set:function(L){u=L}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(L){m=L}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof g2||this instanceof p0))return qp(v,this.objId,this.scope)},set:function(L){L=L.toString(),v=L}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ha?b:qp(b,this.objId,this.scope)},set:function(L){L=L.toString(),b=this instanceof Ha?L:L.substr(0,1)==="("?md(L.substr(1,L.length-2)):md(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ha?md(b.substr(1,b.length-1)):b},set:function(L){L=L.toString(),b=this instanceof Ha?"/"+L:L}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ha?_:qp(_,this.objId,this.scope)},set:function(L){L=L.toString(),_=this instanceof Ha?L:L.substr(0,1)==="("?md(L.substr(1,L.length-2)):md(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ha?md(_.substr(1,_.length-1)):_},set:function(L){L=L.toString(),_=this instanceof Ha?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(L){L=!!L,A=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(L){C=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,1)},set:function(L){L?this.Ff=fa(this.Ff,1):this.Ff=ga(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,2)},set:function(L){L?this.Ff=fa(this.Ff,2):this.Ff=ga(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,3)},set:function(L){L?this.Ff=fa(this.Ff,3):this.Ff=ga(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');j=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(j){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};no(Ol,tc);var Ld=function(){Ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return u8(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,c,f){f||(f=1);for(var g,u=[];g=c.exec(s);)u.push(g[f]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,18)},set:function(r){r?this.Ff=fa(this.Ff,18):this.Ff=ga(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=fa(this.Ff,19):this.Ff=ga(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,20)},set:function(r){r?(this.Ff=fa(this.Ff,20),e.sort()):this.Ff=ga(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,22)},set:function(r){r?this.Ff=fa(this.Ff,22):this.Ff=ga(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,23)},set:function(r){r?this.Ff=fa(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,27)},set:function(r){r?this.Ff=fa(this.Ff,27):this.Ff=ga(this.Ff,27)}}),this.hasAppearanceStream=!1};no(Ld,Ol);var Id=function(){Ld.call(this),this.fontName="helvetica",this.combo=!1};no(Id,Ld);var Dd=function(){Id.call(this),this.combo=!0};no(Dd,Id);var r2=function(){Dd.call(this),this.edit=!0};no(r2,Dd);var Ha=function(){Ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,15)},set:function(r){r?this.Ff=fa(this.Ff,15):this.Ff=ga(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,16)},set:function(r){r?this.Ff=fa(this.Ff,16):this.Ff=ga(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,17)},set:function(r){r?this.Ff=fa(this.Ff,17):this.Ff=ga(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,26)},set:function(r){r?this.Ff=fa(this.Ff,26):this.Ff=ga(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+S0(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ni(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};no(Ha,Ol);var n2=function(){Ha.call(this),this.pushButton=!0};no(n2,Ha);var Pd=function(){Ha.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};no(Pd,Ha);var g2=function(){var t,e;Ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(f){return f};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),n)c.push("/"+s+" ("+S0(i(n[s]))+")");return c.push(">>"),c.join(`
`)},set:function(i){ni(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Er.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};no(g2,Ol),Pd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Pd.prototype.createOption=function(t){var e=new g2;return e.Parent=this,e.optionName=t,this.Kids.push(e),Kj.call(this.scope,e),e};var i2=function(){Ha.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Er.CheckBox.createAppearanceStream()};no(i2,Ha);var p0=function(){Ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,13)},set:function(e){e?this.Ff=fa(this.Ff,13):this.Ff=ga(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,21)},set:function(e){e?this.Ff=fa(this.Ff,21):this.Ff=ga(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,23)},set:function(e){e?this.Ff=fa(this.Ff,23):this.Ff=ga(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,24)},set:function(e){e?this.Ff=fa(this.Ff,24):this.Ff=ga(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,25)},set:function(e){e?this.Ff=fa(this.Ff,25):this.Ff=ga(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,26)},set:function(e){e?this.Ff=fa(this.Ff,26):this.Ff=ga(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};no(p0,Ol);var a2=function(){p0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,14)},set:function(t){t?this.Ff=fa(this.Ff,14):this.Ff=ga(this.Ff,14)}}),this.password=!0};no(a2,p0);var Er={CheckBox:{createAppearanceStream:function(){return{N:{On:Er.CheckBox.YesNormal},D:{On:Er.CheckBox.YesPushDown,Off:Er.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Lx(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Jr(Er.internal.getWidth(t))+" "+Jr(Er.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Jr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Er.internal.getHeight(t),c=Er.internal.getWidth(t),f=Lx(t,t.caption);return i.push("1 g"),i.push("0 0 "+Jr(c)+" "+Jr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jr(c-1)+" "+Jr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Jr(f.fontSize)+" Tf "+n),i.push(f.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jr(Er.internal.getWidth(t))+" "+Jr(Er.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Er.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Er.RadioButton.Circle.YesNormal,e.D[t]=Er.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=Er.internal.getWidth(t)<=Er.internal.getHeight(t)?Er.internal.getWidth(t)/4:Er.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Er.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xu(Er.internal.getWidth(t)/2)+" "+xu(Er.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=Er.internal.getWidth(t)<=Er.internal.getHeight(t)?Er.internal.getWidth(t)/4:Er.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Er.internal.Bezier_C).toFixed(5)),c=Number((n*Er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xu(Er.internal.getWidth(t)/2)+" "+xu(Er.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xu(Er.internal.getWidth(t)/2)+" "+xu(Er.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=Er.internal.getWidth(t)<=Er.internal.getHeight(t)?Er.internal.getWidth(t)/4:Er.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Er.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xu(Er.internal.getWidth(t)/2)+" "+xu(Er.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Er.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Er.RadioButton.Cross.YesNormal,e.D[t]=Er.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=Er.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Jr(Er.internal.getWidth(t)-2)+" "+Jr(Er.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Jr(n.x1.x)+" "+Jr(n.x1.y)+" m"),r.push(Jr(n.x2.x)+" "+Jr(n.x2.y)+" l"),r.push(Jr(n.x4.x)+" "+Jr(n.x4.y)+" m"),r.push(Jr(n.x3.x)+" "+Jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=Er.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Jr(Er.internal.getWidth(t))+" "+Jr(Er.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Jr(Er.internal.getWidth(t)-2)+" "+Jr(Er.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Jr(r.x1.x)+" "+Jr(r.x1.y)+" m"),n.push(Jr(r.x2.x)+" "+Jr(r.x2.y)+" l"),n.push(Jr(r.x4.x)+" "+Jr(r.x4.y)+" m"),n.push(Jr(r.x3.x)+" "+Jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jr(Er.internal.getWidth(t))+" "+Jr(Er.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Er.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Er.internal.getWidth(t),r=Er.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Er.internal.getWidth=function(t){var e=0;return ni(t)==="object"&&(e=nw(t.Rect[2])),e},Er.internal.getHeight=function(t){var e=0;return ni(t)==="object"&&(e=nw(t.Rect[3])),e};var Kj=ea.addField=function(t){if(Yj(this,t),!(t instanceof Ol))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ea.AcroFormChoiceField=Ld,ea.AcroFormListBox=Id,ea.AcroFormComboBox=Dd,ea.AcroFormEditBox=r2,ea.AcroFormButton=Ha,ea.AcroFormPushButton=n2,ea.AcroFormRadioButton=Pd,ea.AcroFormCheckBox=i2,ea.AcroFormTextField=p0,ea.AcroFormPasswordField=a2,ea.AcroFormAppearance=Er,ea.AcroForm={ChoiceField:Ld,ListBox:Id,ComboBox:Dd,EditBox:r2,Button:Ha,PushButton:n2,RadioButton:Pd,CheckBox:i2,TextField:p0,PasswordField:a2,Appearance:Er},zr.AcroForm={ChoiceField:Ld,ListBox:Id,ComboBox:Dd,EditBox:r2,Button:Ha,PushButton:n2,RadioButton:Pd,CheckBox:i2,TextField:p0,PasswordField:a2,Appearance:Er};zr.AcroForm;function f8(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(W,H){var ne,ve,me,he,be,Pe=e;if((H=H||e)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(K(W))for(be in r)for(me=r[be],ne=0;ne<me.length;ne+=1){for(he=!0,ve=0;ve<me[ne].length;ve+=1)if(me[ne][ve]!==void 0&&me[ne][ve]!==W[ve]){he=!1;break}if(he===!0){Pe=be;break}}else for(be in r)for(me=r[be],ne=0;ne<me.length;ne+=1){for(he=!0,ve=0;ve<me[ne].length;ve+=1)if(me[ne][ve]!==void 0&&me[ne][ve]!==W.charCodeAt(ve)){he=!1;break}if(he===!0){Pe=be;break}}return Pe===e&&H!==e&&(Pe=H),Pe},i=function W(H){for(var ne=this.internal.write,ve=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:H.width}),he.push({key:"Height",value:H.height}),H.colorSpace===j.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===j.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var be="",Pe=0,Ae=H.transparency.length;Pe<Ae;Pe++)be+=H.transparency[Pe]+" "+H.transparency[Pe]+" ";he.push({key:"Mask",value:"["+be+"]"})}H.sMask!==void 0&&he.push({key:"SMask",value:H.objectId+1+" 0 R"});var se=H.filter!==void 0?["/"+H.filter]:void 0;if(ve({data:H.data,additionalKeyValues:he,alreadyAppliedFilters:se,objectId:H.objectId}),ne("endobj"),"sMask"in H&&H.sMask!==void 0){var Le="/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,M={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:Le,data:H.sMask};"filter"in H&&(M.filter=H.filter),W.call(this,M)}if(H.colorSpace===j.INDEXED){var q=this.internal.newObject();ve({data:V(new Uint8Array(H.palette)),objectId:q}),ne("endobj")}},s=function(){var W=this.internal.collections.addImage_images;for(var H in W)i.call(this,W[H])},c=function(){var W,H=this.internal.collections.addImage_images,ne=this.internal.write;for(var ve in H)ne("/I"+(W=H[ve]).index,W.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",c))},g=function(){var W=this.internal.collections.addImage_images;return f.call(this),W},u=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(W){return typeof t["process"+W.toUpperCase()]=="function"},v=function(W){return ni(W)==="object"&&W.nodeType===1},b=function(W,H){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var ne=""+W.getAttribute("src");if(ne.indexOf("data:image/")===0)return df(unescape(ne).split("base64,").pop());var ve=t.loadFile(ne,!0);if(ve!==void 0)return ve}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var me;switch(H){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return df(W.toDataURL(me,1).split("base64,").pop())}},_=function(W){var H=this.internal.collections.addImage_images;if(H){for(var ne in H)if(W===H[ne].alias)return H[ne]}},C=function(W,H,ne){return W||H||(W=-96,H=-96),W<0&&(W=-1*ne.width*72/W/this.internal.scaleFactor),H<0&&(H=-1*ne.height*72/H/this.internal.scaleFactor),W===0&&(W=H*ne.width/ne.height),H===0&&(H=W*ne.height/ne.width),[W,H]},A=function(W,H,ne,ve,me,he){var be=C.call(this,ne,ve,me),Pe=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,se=g.call(this);if(ne=be[0],ve=be[1],se[me.index]=me,he){he*=Math.PI/180;var Le=Math.cos(he),M=Math.sin(he),q=function(re){return re.toFixed(4)},J=[q(Le),q(M),q(-1*M),q(Le),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,Pe(W),Ae(H+ve),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Pe(ne),"0","0",Pe(ve),"0","0","cm"].join(" "))):this.internal.write([Pe(ne),"0","0",Pe(ve),Pe(W),Ae(H+ve),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(W){var H,ne,ve=0;if(typeof W=="string")for(ne=W.length,H=0;H<ne;H++)ve=(ve<<5)-ve+W.charCodeAt(H),ve|=0;else if(K(W))for(ne=W.byteLength/2,H=0;H<ne;H++)ve=(ve<<5)-ve+W[H],ve|=0;return ve},P=t.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var H=!0;return W.length===0&&(H=!1),W.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(H=!1),H},X=t.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var H=W.indexOf(",");return H<0?null:W.substring(0,H).trim().endsWith("base64")?W.substring(H+1):null},Y=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};t.__addimage__.isArrayBuffer=function(W){return Y()&&W instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(W){return Y()&&typeof Uint32Array!="undefined"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},G=t.__addimage__.binaryStringToUint8Array=function(W){for(var H=W.length,ne=new Uint8Array(H),ve=0;ve<H;ve++)ne[ve]=W.charCodeAt(ve);return ne},V=t.__addimage__.arrayBufferToBinaryString=function(W){for(var H="",ne=K(W)?W:new Uint8Array(W),ve=0;ve<ne.length;ve+=8192)H+=String.fromCharCode.apply(null,ne.subarray(ve,ve+8192));return H};t.addImage=function(){var W,H,ne,ve,me,he,be,Pe,Ae;if(typeof arguments[1]=="number"?(H=e,ne=arguments[1],ve=arguments[2],me=arguments[3],he=arguments[4],be=arguments[5],Pe=arguments[6],Ae=arguments[7]):(H=arguments[1],ne=arguments[2],ve=arguments[3],me=arguments[4],he=arguments[5],be=arguments[6],Pe=arguments[7],Ae=arguments[8]),ni(W=arguments[0])==="object"&&!v(W)&&"imageData"in W){var se=W;W=se.imageData,H=se.format||H||e,ne=se.x||ne||0,ve=se.y||ve||0,me=se.w||se.width||me,he=se.h||se.height||he,be=se.alias||be,Pe=se.compression||Pe,Ae=se.rotation||se.angle||Ae}var Le=this.internal.getFilters();if(Pe===void 0&&Le.indexOf("FlateEncode")!==-1&&(Pe="SLOW"),isNaN(ne)||isNaN(ve))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var M=z.call(this,W,H,be,Pe);return A.call(this,ne,ve,me,he,M,Ae),this};var z=function(W,H,ne,ve){var me,he,be;if(typeof W=="string"&&n(W)===e){W=unescape(W);var Pe=ie(W,!1);(Pe!==""||(Pe=t.loadFile(W,!0))!==void 0)&&(W=Pe)}if(v(W)&&(W=b(W,H)),H=n(W,H),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((be=ne)==null||be.length===0)&&(ne=function(Ae){return typeof Ae=="string"||K(Ae)?I(Ae):K(Ae.data)?I(Ae.data):null}(W)),(me=_.call(this,ne))||(Y()&&(W instanceof Uint8Array||H==="RGBA"||(he=W,W=G(W))),me=this["process"+H.toUpperCase()](W,u.call(this),ne,function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in t.image_compression?Ae:L.NONE}(ve),he)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},ie=t.__addimage__.convertBase64ToBinaryString=function(W,H){H=typeof H!="boolean"||H;var ne,ve="";if(typeof W=="string"){var me;ne=(me=X(W))!==null&&me!==void 0?me:W;try{ve=df(ne)}catch(he){if(H)throw P(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ve};t.getImageProperties=function(W){var H,ne,ve="";if(v(W)&&(W=b(W)),typeof W=="string"&&n(W)===e&&((ve=ie(W,!1))===""&&(ve=t.loadFile(W)||""),W=ve),ne=n(W),!m(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(!Y()||W instanceof Uint8Array||(W=G(W)),!(H=this["process"+ne.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=ne,H}})(zr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};zr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,m=!1,v=0;v<u.length&&!m;v++)switch((n=u[v]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var b=0;b<u.length;b++){n=u[b];var _=this.internal.pdfEscape,C=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(A.objId),I=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(n.bounds.x)+" "+f(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y)+"] ")+"/Contents ("+_(L(n.contents))+")",s+=" /Popup "+j.objId+" 0 R",s+=" /P "+g.objId+" 0 R",s+=" /T ("+_(L(I))+") >>",A.content=s;var P=A.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(n.bounds.x+30)+" "+f(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+f(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(s+=" /Open true"),s+=" >>",j.content=s,this.internal.write(A.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+c(n.bounds.x)+" "+f(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+f(n.bounds.y+n.bounds.h)+"] ";var X=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+_(C(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+X+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var Y=this.annotations._nameMap[n.options.name];n.options.pageNumber=Y.page,n.options.top=Y.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+_(C(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var K=f(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+K+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,c){var f=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:g(r),y:u(n),w:g(r+i),h:u(n+s)},options:c,type:"link"})},t.textWithLink=function(r,n,i,s){var c,f,g=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){f=s.maxWidth;var m=this.splitTextToSize(r,f).length;c=Math.ceil(u*m)}else f=g,c=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=g/2),s.align==="right"&&(n-=g),this.link(n,i-u,f,c,s),g},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(zr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},f=t.__arabicParser__.isArabicEndLetter=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length<=2},g=t.__arabicParser__.isArabicAlfLetter=function(A){return c(A)&&i.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length>=3};var m=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(A){var j=0,L=r,I="",P=0;for(j=0;j<A.length;j+=1)L[A.charCodeAt(j)]!==void 0?(P++,typeof(L=L[A.charCodeAt(j)])=="number"&&(I+=String.fromCharCode(L),L=r,P=0),j===A.length-1&&(L=r,I+=A.charAt(j-(P-1)),j-=P-1,P=0)):(L=r,I+=A.charAt(j-P),j-=P,P=0);return I};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&n[A.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(A,j,L){return c(A)?s(A)===!1?-1:!u(A)||!c(j)&&!c(L)||!c(L)&&f(j)||f(A)&&!c(j)||f(A)&&g(j)||f(A)&&f(j)?0:m(A)&&c(j)&&!f(j)&&c(L)&&u(L)?3:f(A)||!c(L)?1:2:-1},_=function(A){var j=0,L=0,I=0,P="",X="",Y="",K=(A=A||"").split("\\s+"),G=[];for(j=0;j<K.length;j+=1){for(G.push(""),L=0;L<K[j].length;L+=1)P=K[j][L],X=K[j][L-1],Y=K[j][L+1],c(P)?(I=b(P,X,Y),G[j]+=I!==-1?String.fromCharCode(e[P.charCodeAt(0)][I]):P):G[j]+=P;G[j]=v(G[j])}return G.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var A,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(j)){var I=0;for(L=[],I=0;I<j.length;I+=1)Array.isArray(j[I])?L.push([_(j[I][0]),j[I][1],j[I][2]]):L.push([_(j[I])]);A=L}else A=_(j);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",C])}(zr.API),zr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(f){r=f}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(f){n=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(f){i=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(f){s=f}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(f){c=f}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(zr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(A){_=A}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(A){C=A}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(g){return n.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},t.getTextDimensions=function(g,u){n.call(this);var m=(u=u||{}).fontSize||this.getFontSize(),v=u.font||this.getFont(),b=u.scaleFactor||this.internal.scaleFactor,_=0,C=0,A=0,j=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var L=u.maxWidth;L>0?typeof g=="string"?g=this.splitTextToSize(g,L):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(P,X){return P.concat(j.splitTextToSize(X,L))},[])):g=Array.isArray(g)?g:[g];for(var I=0;I<g.length;I++)_<(A=this.getStringUnitWidth(g[I],{font:v})*m)&&(_=A);return _!==0&&(C=g.length),{w:_/=b,h:Math.max((C*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var g=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var g;g=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===g.lineNumber?(g.x=(u.x||0)+(u.width||0),g.y=u.y||0):u.y+u.height+g.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=v.top,_&&b&&(this.printHeaderRow(g.lineNumber,!0),g.y+=b[0].height)):g.y=u.y+u.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,r===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-m,g.y+m,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+m,{align:"center",baseline:"top",maxWidth:g.width-m-m}):this.text(g.text,g.x+m,g.y+m,{align:"left",baseline:"top",maxWidth:g.width-m-m})),this.internal.__cell__.lastCell=g,this};t.table=function(g,u,m,v,b){if(n.call(this),!m)throw new Error("No data for PDF table.");var _,C,A,j,L=[],I=[],P=[],X={},Y={},K=[],G=[],V=(b=b||{}).autoSize||!1,z=b.printHeaders!==!1,ie=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,W=b.margins||Object.assign({width:this.getPageWidth()},e),H=typeof b.padding=="number"?b.padding:3,ne=b.headerBackgroundColor||"#c8c8c8",ve=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=ve,this.setFontSize(ie),v==null)I=L=Object.keys(m[0]),P=L.map(function(){return"left"});else if(Array.isArray(v)&&ni(v[0])==="object")for(L=v.map(function(se){return se.name}),I=v.map(function(se){return se.prompt||se.name||""}),P=v.map(function(se){return se.align||"left"}),_=0;_<v.length;_+=1)Y[v[_].name]=v[_].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(I=L=v,P=L.map(function(){return"left"}));if(V||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<L.length;_+=1){for(X[j=L[_]]=m.map(function(se){return se[j]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(I[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=X[j],this.setFont(void 0,"normal"),A=0;A<C.length;A+=1)K.push(this.getTextDimensions(C[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[j]=Math.max.apply(null,K)+H+H,K=[]}if(z){var me={};for(_=0;_<L.length;_+=1)me[L[_]]={},me[L[_]].text=I[_],me[L[_]].align=P[_];var he=f.call(this,me,Y);G=L.map(function(se){return new s(g,u,Y[se],he,me[se].text,void 0,me[se].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var be=v.reduce(function(se,Le){return se[Le.name]=Le.align,se},{});for(_=0;_<m.length;_+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:_,data:m[_]},this);var Pe=f.call(this,m[_],Y);for(A=0;A<L.length;A+=1){var Ae=m[_][L[A]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:_,col:A,data:Ae},this),c.call(this,new s(g,u,Y[L[A]],Pe,Ae,_+2,be[L[A]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=u,this};var f=function(g,u){var m=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(g).map(function(_){var C=g[_];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,u[_]-m-m)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/b+m+m},this).reduce(function(_,C){return Math.max(_,C)},0)};t.setTableHeaderRow=function(g){n.call(this),this.internal.__cell__.tableHeaderRow=g},t.printHeaderRow=function(g,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){m=this.internal.__cell__.tableHeaderRow[_].clone(),u&&(m.y=this.internal.__cell__.margins.top||0,b.push(m)),m.lineNumber=g;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,m),this.setTextColor(C)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}}(zr.API);var g8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},m8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ix=f8(m8),p8=[100,200,300,400,500,600,700,800,900],Zj=f8(p8);function Dx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return g8[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Ix[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function iw(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Jj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Qj(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},Jj,r.genericFontFamilies||{}),s=null,c=null,f=0;f<e.length;++f)if(i[(s=Dx(e[f])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){c=t[s.family];break}if(!(c=c||t[n]))throw new Error("Could not find a font-family for the rule '"+sw(s)+"' and default family '"+n+"'.");if(c=function(g,u){if(u[g])return u[g];var m=Ix[g],v=m<=Ix.normal?-1:1,b=iw(u,m8,m,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+g);return b}(s.stretch,c),c=function(g,u){if(u[g])return u[g];for(var m=g8[g],v=0;v<m.length;++v)if(u[m[v]])return u[m[v]];throw new Error("Could not find a matching font-style for "+g)}(s.style,c),!(c=function(g,u){if(u[g])return u[g];if(g===400&&u[500])return u[500];if(g===500&&u[400])return u[400];var m=Zj[g],v=iw(u,p8,m,g<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+g);return v}(s.weight,c)))throw new Error("Failed to resolve a font for the rule '"+sw(s)+"'.");return c}function ow(t){return t.trimLeft()}function eO(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function tO(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var eg,lw,cw,Wp=["times"];(function(t){var e,r,n,i,s,c,f,g,u,m=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new g,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new c,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new c,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,f=this.internal.Rectangle,g=this.internal.Matrix,u=new m}]);var v=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=M;Object.defineProperty(this,"pdf",{get:function(){return q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(it){J=!!it}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(it){re=!!it}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(it){isNaN(it)||(le=it)}});var Ue=0;Object.defineProperty(this,"posY",{get:function(){return Ue},set:function(it){isNaN(it)||(Ue=it)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(it){var fe;typeof it=="number"?fe=[it,it,it,it]:((fe=new Array(4))[0]=it[0],fe[1]=it.length>=2?it[1]:fe[0],fe[2]=it.length>=3?it[2]:fe[0],fe[3]=it.length>=4?it[3]:fe[1]),u.margin=fe}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(it){Te=it}});var Me=0;Object.defineProperty(this,"lastBreak",{get:function(){return Me},set:function(it){Me=it}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(it){Oe=it}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(it){it instanceof m&&(u=it)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(it){u.path=it}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(it){ze=it}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(it){var fe;fe=b(it),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(it){var fe=b(it);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(it){["butt","round","square"].indexOf(it)!==-1&&(this.ctx.lineCap=it,this.pdf.setLineCap(it))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(it){isNaN(it)||(this.ctx.lineWidth=it,this.pdf.setLineWidth(it))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(it){["bevel","round","miter"].indexOf(it)!==-1&&(this.ctx.lineJoin=it,this.pdf.setLineJoin(it))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(it){isNaN(it)||(this.ctx.miterLimit=it,this.pdf.setMiterLimit(it))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(it){this.ctx.textBaseline=it}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(it){["right","end","center","left","start"].indexOf(it)!==-1&&(this.ctx.textAlign=it)}});var st=null;function ct(it,fe){if(st===null){var Ve=function(rt){var He=[];return Object.keys(rt).forEach(function(Ke){rt[Ke].forEach(function(et){var Dt=null;switch(et){case"bold":Dt={family:Ke,weight:"bold"};break;case"italic":Dt={family:Ke,style:"italic"};break;case"bolditalic":Dt={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:Ke}}Dt!==null&&(Dt.ref={name:Ke,style:et},He.push(Dt))})}),He}(it.getFontList());st=function(rt){for(var He={},Ke=0;Ke<rt.length;++Ke){var et=Dx(rt[Ke]),Dt=et.family,Mt=et.stretch,Xt=et.style,hr=et.weight;He[Dt]=He[Dt]||{},He[Dt][Mt]=He[Dt][Mt]||{},He[Dt][Mt][Xt]=He[Dt][Mt][Xt]||{},He[Dt][Mt][Xt][hr]=et}return He}(Ve.concat(fe))}return st}var Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(it){st=null,Nt=it}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(it){var fe;if(this.ctx.font=it,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(it))!==null){var Ve=fe[1];fe[2];var rt=fe[3],He=fe[4];fe[5];var Ke=fe[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(et==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Dt=function(Qt){var Br,Kt,Lr=[],fr=Qt.trim();if(fr==="")return Wp;if(fr in aw)return[aw[fr]];for(;fr!=="";){switch(Kt=null,Br=(fr=ow(fr)).charAt(0)){case'"':case"'":Kt=eO(fr.substring(1),Br);break;default:Kt=tO(fr)}if(Kt===null||(Lr.push(Kt[0]),(fr=ow(Kt[1]))!==""&&fr.charAt(0)!==","))return Wp;fr=fr.replace(/^,/,"")}return Lr}(Ke);if(this.fontFaces){var Mt=Qj(ct(this.pdf,this.fontFaces),Dt.map(function(Qt){return{family:Qt,stretch:"normal",weight:rt,style:Ve}}));this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var Xt="";(rt==="bold"||parseInt(rt,10)>=700||Ve==="bold")&&(Xt="bold"),Ve==="italic"&&(Xt+="italic"),Xt.length===0&&(Xt="normal");for(var hr="",ar={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dr=0;dr<Dt.length;dr++){if(this.pdf.internal.getFont(Dt[dr],Xt,{noFallback:!0,disableWarning:!0})!==void 0){hr=Dt[dr];break}if(Xt==="bolditalic"&&this.pdf.internal.getFont(Dt[dr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)hr=Dt[dr],Xt="bold";else if(this.pdf.internal.getFont(Dt[dr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){hr=Dt[dr],Xt="normal";break}}if(hr===""){for(var mr=0;mr<Dt.length;mr++)if(ar[Dt[mr]]){hr=ar[Dt[mr]];break}}hr=hr===""?"Times":hr,this.pdf.setFont(hr,Xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(it){this.ctx.globalCompositeOperation=it}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(it){this.ctx.globalAlpha=it}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(it){this.ctx.lineDashOffset=it,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(it){this.ctx.lineDash=it,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(it){this.ctx.ignoreClearRect=!!it}})};v.prototype.setLineDash=function(M){this.lineDash=M},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){X.call(this,"fill",!1)},v.prototype.stroke=function(){X.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(M,q){if(isNaN(M)||isNaN(q))throw gi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new c(M,q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(M,q)},v.prototype.closePath=function(){var M=new c(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&ni(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){M=new c(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(M.x,M.y)},v.prototype.lineTo=function(M,q){if(isNaN(M)||isNaN(q))throw gi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new c(M,q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(J.x,J.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),X.call(this,null,!0)},v.prototype.quadraticCurveTo=function(M,q,J,re){if(isNaN(J)||isNaN(re)||isNaN(M)||isNaN(q))throw gi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new c(J,re)),Ue=this.ctx.transform.applyToPoint(new c(M,q));this.path.push({type:"qct",x1:Ue.x,y1:Ue.y,x:le.x,y:le.y}),this.ctx.lastPoint=new c(le.x,le.y)},v.prototype.bezierCurveTo=function(M,q,J,re,le,Ue){if(isNaN(le)||isNaN(Ue)||isNaN(M)||isNaN(q)||isNaN(J)||isNaN(re))throw gi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new c(le,Ue)),Me=this.ctx.transform.applyToPoint(new c(M,q)),Oe=this.ctx.transform.applyToPoint(new c(J,re));this.path.push({type:"bct",x1:Me.x,y1:Me.y,x2:Oe.x,y2:Oe.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new c(Te.x,Te.y)},v.prototype.arc=function(M,q,J,re,le,Ue){if(isNaN(M)||isNaN(q)||isNaN(J)||isNaN(re)||isNaN(le))throw gi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ue=!!Ue,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new c(M,q));M=Te.x,q=Te.y;var Me=this.ctx.transform.applyToPoint(new c(0,J)),Oe=this.ctx.transform.applyToPoint(new c(0,0));J=Math.sqrt(Math.pow(Me.x-Oe.x,2)+Math.pow(Me.y-Oe.y,2))}Math.abs(le-re)>=2*Math.PI&&(re=0,le=2*Math.PI),this.path.push({type:"arc",x:M,y:q,radius:J,startAngle:re,endAngle:le,counterclockwise:Ue})},v.prototype.arcTo=function(M,q,J,re,le){throw new Error("arcTo not implemented.")},v.prototype.rect=function(M,q,J,re){if(isNaN(M)||isNaN(q)||isNaN(J)||isNaN(re))throw gi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,q),this.lineTo(M+J,q),this.lineTo(M+J,q+re),this.lineTo(M,q+re),this.lineTo(M,q),this.lineTo(M+J,q),this.lineTo(M,q)},v.prototype.fillRect=function(M,q,J,re){if(isNaN(M)||isNaN(q)||isNaN(J)||isNaN(re))throw gi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,q,J,re),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},v.prototype.strokeRect=function(M,q,J,re){if(isNaN(M)||isNaN(q)||isNaN(J)||isNaN(re))throw gi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(M,q,J,re),this.stroke())},v.prototype.clearRect=function(M,q,J,re){if(isNaN(M)||isNaN(q)||isNaN(J)||isNaN(re))throw gi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,q,J,re))},v.prototype.save=function(M){M=typeof M!="boolean"||M;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},v.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(q),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(M){var q,J,re,le;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))q=0,J=0,re=0,le=0;else{var Ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(Ue!==null)q=parseInt(Ue[1]),J=parseInt(Ue[2]),re=parseInt(Ue[3]),le=1;else if((Ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)q=parseInt(Ue[1]),J=parseInt(Ue[2]),re=parseInt(Ue[3]),le=parseFloat(Ue[4]);else{if(le=1,typeof M=="string"&&M.charAt(0)!=="#"){var Te=new o8(M);M=Te.ok?Te.toHex():"#000000"}M.length===4?(q=M.substring(1,2),q+=q,J=M.substring(2,3),J+=J,re=M.substring(3,4),re+=re):(q=M.substring(1,3),J=M.substring(3,5),re=M.substring(5,7)),q=parseInt(q,16),J=parseInt(J,16),re=parseInt(re,16)}}return{r:q,g:J,b:re,a:le,style:M}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(M,q,J,re){if(isNaN(q)||isNaN(J)||typeof M!="string")throw gi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!_.call(this)){var le=Pe(this.ctx.transform.rotation),Ue=this.ctx.transform.scaleX;H.call(this,{text:M,x:q,y:J,scale:Ue,angle:le,align:this.textAlign,maxWidth:re})}},v.prototype.strokeText=function(M,q,J,re){if(isNaN(q)||isNaN(J)||typeof M!="string")throw gi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){re=isNaN(re)?void 0:re;var le=Pe(this.ctx.transform.rotation),Ue=this.ctx.transform.scaleX;H.call(this,{text:M,x:q,y:J,scale:Ue,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:re})}},v.prototype.measureText=function(M){if(typeof M!="string")throw gi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,J=this.pdf.internal.scaleFactor,re=q.internal.getFontSize(),le=q.getStringUnitWidth(M)*re/q.internal.scaleFactor,Ue=function(Te){var Me=(Te=Te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Me}}),this};return new Ue({width:le*=Math.round(96*J/72*1e4)/1e4})},v.prototype.scale=function(M,q){if(isNaN(M)||isNaN(q))throw gi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new g(M,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.rotate=function(M){if(isNaN(M))throw gi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new g(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.translate=function(M,q){if(isNaN(M)||isNaN(q))throw gi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new g(1,0,0,1,M,q);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.transform=function(M,q,J,re,le,Ue){if(isNaN(M)||isNaN(q)||isNaN(J)||isNaN(re)||isNaN(le)||isNaN(Ue))throw gi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new g(M,q,J,re,le,Ue);this.ctx.transform=this.ctx.transform.multiply(Te)},v.prototype.setTransform=function(M,q,J,re,le,Ue){M=isNaN(M)?1:M,q=isNaN(q)?0:q,J=isNaN(J)?0:J,re=isNaN(re)?1:re,le=isNaN(le)?0:le,Ue=isNaN(Ue)?0:Ue,this.ctx.transform=new g(M,q,J,re,le,Ue)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(M,q,J,re,le,Ue,Te,Me,Oe){var ze=this.pdf.getImageProperties(M),st=1,ct=1,Nt=1,it=1;re!==void 0&&Me!==void 0&&(Nt=Me/re,it=Oe/le,st=ze.width/re*Me/re,ct=ze.height/le*Oe/le),Ue===void 0&&(Ue=q,Te=J,q=0,J=0),re!==void 0&&Me===void 0&&(Me=re,Oe=le),re===void 0&&Me===void 0&&(Me=ze.width,Oe=ze.height);for(var fe,Ve=this.ctx.transform.decompose(),rt=Pe(Ve.rotate.shx),He=new g,Ke=(He=(He=(He=He.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new f(Ue-q*Nt,Te-J*it,re*st,le*ct)),et=j.call(this,Ke),Dt=[],Mt=0;Mt<et.length;Mt+=1)Dt.indexOf(et[Mt])===-1&&Dt.push(et[Mt]);if(P(Dt),this.autoPaging)for(var Xt=Dt[0],hr=Dt[Dt.length-1],ar=Xt;ar<hr+1;ar++){this.pdf.setPage(ar);var dr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mr=ar===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Br=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=ar===1?0:Qt+(ar-2)*Br;if(this.ctx.clip_path.length!==0){var Lr=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(fe,this.posX+this.margin[3],-Kt+mr+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Lr}var fr=JSON.parse(JSON.stringify(Ke));fr=I([fr],this.posX+this.margin[3],-Kt+mr+this.ctx.prevPageLastElemOffset)[0];var Vt=(ar>Xt||ar<hr)&&A.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dr,Br,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",fr.x,fr.y,fr.w,fr.h,null,null,rt),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,rt)};var j=function(M,q,J){var re=[];q=q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":re.push(Math.floor((M.y+le)/J)+1);break;case"arc":re.push(Math.floor((M.y+le-M.radius)/J)+1),re.push(Math.floor((M.y+le+M.radius)/J)+1);break;case"qct":var Ue=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);re.push(Math.floor((Ue.y+le)/J)+1),re.push(Math.floor((Ue.y+Ue.h+le)/J)+1);break;case"bct":var Te=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);re.push(Math.floor((Te.y+le)/J)+1),re.push(Math.floor((Te.y+Te.h+le)/J)+1);break;case"rect":re.push(Math.floor((M.y+le)/J)+1),re.push(Math.floor((M.y+M.h+le)/J)+1)}for(var Me=0;Me<re.length;Me+=1)for(;this.pdf.internal.getNumberOfPages()<re[Me];)L.call(this);return re},L=function(){var M=this.fillStyle,q=this.strokeStyle,J=this.font,re=this.lineCap,le=this.lineWidth,Ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=q,this.font=J,this.lineCap=re,this.lineWidth=le,this.lineJoin=Ue},I=function(M,q,J){for(var re=0;re<M.length;re++)switch(M[re].type){case"bct":M[re].x2+=q,M[re].y2+=J;case"qct":M[re].x1+=q,M[re].y1+=J;case"mt":case"lt":case"arc":default:M[re].x+=q,M[re].y+=J}return M},P=function(M){return M.sort(function(q,J){return q-J})},X=function(M,q){for(var J,re,le=this.fillStyle,Ue=this.strokeStyle,Te=this.lineCap,Me=this.lineWidth,Oe=Math.abs(Me*this.ctx.transform.scaleX),ze=this.lineJoin,st=JSON.parse(JSON.stringify(this.path)),ct=JSON.parse(JSON.stringify(this.path)),Nt=[],it=0;it<ct.length;it++)if(ct[it].x!==void 0)for(var fe=j.call(this,ct[it]),Ve=0;Ve<fe.length;Ve+=1)Nt.indexOf(fe[Ve])===-1&&Nt.push(fe[Ve]);for(var rt=0;rt<Nt.length;rt++)for(;this.pdf.internal.getNumberOfPages()<Nt[rt];)L.call(this);if(P(Nt),this.autoPaging)for(var He=Nt[0],Ke=Nt[Nt.length-1],et=He;et<Ke+1;et++){this.pdf.setPage(et),this.fillStyle=le,this.strokeStyle=Ue,this.lineCap=Te,this.lineWidth=Oe,this.lineJoin=ze;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=et===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ar=et===1?0:Xt+(et-2)*hr;if(this.ctx.clip_path.length!==0){var dr=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(J,this.posX+this.margin[3],-ar+Mt+this.ctx.prevPageLastElemOffset),Y.call(this,M,!0),this.path=dr}if(re=JSON.parse(JSON.stringify(st)),this.path=I(re,this.posX+this.margin[3],-ar+Mt+this.ctx.prevPageLastElemOffset),q===!1||et===0){var mr=(et>He||et<Ke)&&A.call(this);mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,hr,null).clip().discardPath()),Y.call(this,M,q),mr&&this.pdf.restoreGraphicsState()}this.lineWidth=Me}else this.lineWidth=Oe,Y.call(this,M,q),this.lineWidth=Me;this.path=st},Y=function(M,q){if((M!=="stroke"||q||!C.call(this))&&(M==="stroke"||q||!_.call(this))){for(var J,re,le=[],Ue=this.path,Te=0;Te<Ue.length;Te++){var Me=Ue[Te];switch(Me.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Me,deltas:[],abs:[]});break;case"lt":var Oe=le.length;if(Ue[Te-1]&&!isNaN(Ue[Te-1].x)&&(J=[Me.x-Ue[Te-1].x,Me.y-Ue[Te-1].y],Oe>0)){for(;Oe>=0;Oe--)if(le[Oe-1].close!==!0&&le[Oe-1].begin!==!0){le[Oe-1].deltas.push(J),le[Oe-1].abs.push(Me);break}}break;case"bct":J=[Me.x1-Ue[Te-1].x,Me.y1-Ue[Te-1].y,Me.x2-Ue[Te-1].x,Me.y2-Ue[Te-1].y,Me.x-Ue[Te-1].x,Me.y-Ue[Te-1].y],le[le.length-1].deltas.push(J);break;case"qct":var ze=Ue[Te-1].x+2/3*(Me.x1-Ue[Te-1].x),st=Ue[Te-1].y+2/3*(Me.y1-Ue[Te-1].y),ct=Me.x+2/3*(Me.x1-Me.x),Nt=Me.y+2/3*(Me.y1-Me.y),it=Me.x,fe=Me.y;J=[ze-Ue[Te-1].x,st-Ue[Te-1].y,ct-Ue[Te-1].x,Nt-Ue[Te-1].y,it-Ue[Te-1].x,fe-Ue[Te-1].y],le[le.length-1].deltas.push(J);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Me)}}re=q?null:M==="stroke"?"stroke":"fill";for(var Ve=!1,rt=0;rt<le.length;rt++)if(le[rt].arc)for(var He=le[rt].abs,Ke=0;Ke<He.length;Ke++){var et=He[Ke];et.type==="arc"?V.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,q,!Ve):ne.call(this,et.x,et.y),Ve=!0}else if(le[rt].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(le[rt].begin!==!0){var Dt=le[rt].start.x,Mt=le[rt].start.y;ve.call(this,le[rt].deltas,Dt,Mt),Ve=!0}re&&z.call(this,re),q&&ie.call(this)}},K=function(M){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-J;case"top":return M+q-J;case"hanging":return M+q-2*J;case"middle":return M+q/2-J;case"ideographic":return M;case"alphabetic":default:return M}},G=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(q,J){this.colorStops.push([q,J])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(M,q,J,re,le,Ue,Te,Me,Oe){for(var ze=he.call(this,J,re,le,Ue),st=0;st<ze.length;st++){var ct=ze[st];st===0&&(Oe?W.call(this,ct.x1+M,ct.y1+q):ne.call(this,ct.x1+M,ct.y1+q)),me.call(this,M,q,ct.x2,ct.y2,ct.x3,ct.y3,ct.x4,ct.y4)}Me?ie.call(this):z.call(this,Te)},z=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(M,q){this.pdf.internal.out(r(M)+" "+n(q)+" m")},H=function(M){var q;switch(M.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var J=this.pdf.getTextDimensions(M.text),re=K.call(this,M.y),le=G.call(this,re)-J.h,Ue=this.ctx.transform.applyToPoint(new c(M.x,re)),Te=this.ctx.transform.decompose(),Me=new g;Me=(Me=(Me=Me.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var Oe,ze,st,ct=this.ctx.transform.applyToRectangle(new f(M.x,re,J.w,J.h)),Nt=Me.applyToRectangle(new f(M.x,le,J.w,J.h)),it=j.call(this,Nt),fe=[],Ve=0;Ve<it.length;Ve+=1)fe.indexOf(it[Ve])===-1&&fe.push(it[Ve]);if(P(fe),this.autoPaging)for(var rt=fe[0],He=fe[fe.length-1],Ke=rt;Ke<He+1;Ke++){this.pdf.setPage(Ke);var et=Ke===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[2],Xt=Mt-this.margin[0],hr=this.pdf.internal.pageSize.width-this.margin[1],ar=hr-this.margin[3],dr=Ke===1?0:Dt+(Ke-2)*Xt;if(this.ctx.clip_path.length!==0){var mr=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Oe,this.posX+this.margin[3],-1*dr+et),Y.call(this,"fill",!0),this.path=mr}var Qt=I([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-dr+et+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*M.scale),st=this.lineWidth,this.lineWidth=st*M.scale);var Br=this.autoPaging!=="text";if(Br||Qt.y+Qt.h<=Mt){if(Br||Qt.y>=et&&Qt.x<=hr){var Kt=Br?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||hr-Qt.x)[0],Lr=I([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-dr+et+this.ctx.prevPageLastElemOffset)[0],fr=Br&&(Ke>rt||Ke<He)&&A.call(this);fr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Xt,null).clip().discardPath()),this.pdf.text(Kt,Lr.x,Lr.y,{angle:M.angle,align:q,renderingMode:M.renderingMode}),fr&&this.pdf.restoreGraphicsState()}}else Qt.y<Mt&&(this.ctx.prevPageLastElemOffset+=Mt-Qt.y);M.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=st)}else M.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*M.scale),st=this.lineWidth,this.lineWidth=st*M.scale),this.pdf.text(M.text,Ue.x+this.posX,Ue.y+this.posY,{angle:M.angle,align:q,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=st)},ne=function(M,q,J,re){J=J||0,re=re||0,this.pdf.internal.out(r(M+J)+" "+n(q+re)+" l")},ve=function(M,q,J){return this.pdf.lines(M,q,J,null,null)},me=function(M,q,J,re,le,Ue,Te,Me){this.pdf.internal.out([e(i(J+M)),e(s(re+q)),e(i(le+M)),e(s(Ue+q)),e(i(Te+M)),e(s(Me+q)),"c"].join(" "))},he=function(M,q,J,re){for(var le=2*Math.PI,Ue=Math.PI/2;q>J;)q-=le;var Te=Math.abs(J-q);Te<le&&re&&(Te=le-Te);for(var Me=[],Oe=re?-1:1,ze=q;Te>1e-5;){var st=ze+Oe*Math.min(Te,Ue);Me.push(be.call(this,M,ze,st)),Te-=Math.abs(st-ze),ze=st}return Me},be=function(M,q,J){var re=(J-q)/2,le=M*Math.cos(re),Ue=M*Math.sin(re),Te=le,Me=-Ue,Oe=Te*Te+Me*Me,ze=Oe+Te*le+Me*Ue,st=4/3*(Math.sqrt(2*Oe*ze)-ze)/(Te*Ue-Me*le),ct=Te-st*Me,Nt=Me+st*Te,it=ct,fe=-Nt,Ve=re+q,rt=Math.cos(Ve),He=Math.sin(Ve);return{x1:M*Math.cos(q),y1:M*Math.sin(q),x2:ct*rt-Nt*He,y2:ct*He+Nt*rt,x3:it*rt-fe*He,y3:it*He+fe*rt,x4:M*Math.cos(J),y4:M*Math.sin(J)}},Pe=function(M){return 180*M/Math.PI},Ae=function(M,q,J,re,le,Ue){var Te=M+.5*(J-M),Me=q+.5*(re-q),Oe=le+.5*(J-le),ze=Ue+.5*(re-Ue),st=Math.min(M,le,Te,Oe),ct=Math.max(M,le,Te,Oe),Nt=Math.min(q,Ue,Me,ze),it=Math.max(q,Ue,Me,ze);return new f(st,Nt,ct-st,it-Nt)},se=function(M,q,J,re,le,Ue,Te,Me){var Oe,ze,st,ct,Nt,it,fe,Ve,rt,He,Ke,et,Dt,Mt,Xt=J-M,hr=re-q,ar=le-J,dr=Ue-re,mr=Te-le,Qt=Me-Ue;for(ze=0;ze<41;ze++)rt=(fe=(st=M+(Oe=ze/40)*Xt)+Oe*((Nt=J+Oe*ar)-st))+Oe*(Nt+Oe*(le+Oe*mr-Nt)-fe),He=(Ve=(ct=q+Oe*hr)+Oe*((it=re+Oe*dr)-ct))+Oe*(it+Oe*(Ue+Oe*Qt-it)-Ve),ze==0?(Ke=rt,et=He,Dt=rt,Mt=He):(Ke=Math.min(Ke,rt),et=Math.min(et,He),Dt=Math.max(Dt,rt),Mt=Math.max(Mt,He));return new f(Math.round(Ke),Math.round(et),Math.round(Dt-Ke),Math.round(Mt-et))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,q,J=(M=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:q}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(zr.API),function(t){var e=function(s){var c,f,g,u,m,v,b,_,C,A;for(f=[],g=0,u=(s+=c="\0\0\0\0".slice(s.length%4||4)).length;u>g;g+=4)(m=(s.charCodeAt(g)<<24)+(s.charCodeAt(g+1)<<16)+(s.charCodeAt(g+2)<<8)+s.charCodeAt(g+3))!==0?(v=(m=((m=((m=((m=(m-(A=m%85))/85)-(C=m%85))/85)-(_=m%85))/85)-(b=m%85))/85)%85,f.push(v+33,b+33,_+33,C+33,A+33)):f.push(122);return function(j,L){for(var I=L;I>0;I--)j.pop()}(f,c.length),String.fromCharCode.apply(String,f)+"~>"},r=function(s){var c,f,g,u,m,v=String,b="length",_=255,C="charCodeAt",A="slice",j="replace";for(s[A](-2),s=s[A](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),g=[],u=0,m=(s+=c="uuuuu"[A](s[b]%5||5))[b];m>u;u+=5)f=52200625*(s[C](u)-33)+614125*(s[C](u+1)-33)+7225*(s[C](u+2)-33)+85*(s[C](u+3)-33)+(s[C](u+4)-33),g.push(_&f>>24,_&f>>16,_&f>>8,_&f);return function(L,I){for(var P=I;P>0;P--)L.pop()}(g,c[b]),v.fromCharCode.apply(v,g)},n=function(s){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),c.test(s)===!1)return"";for(var f="",g=0;g<s.length;g+=2)f+=String.fromCharCode("0x"+(s[g]+s[g+1]));return f},i=function(s){for(var c=new Uint8Array(s.length),f=s.length;f--;)c[f]=s.charCodeAt(f);return s=(c=jx(c)).reduce(function(g,u){return g+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,c){var f=0,g=s||"",u=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":g=r(g),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=e(g),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=n(g),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=g.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=i(g),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:g,reverseChain:u.reverse().join(" ")}}}(zr.API),function(t){t.loadFile=function(e,r,n){return function(i,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var f=void 0;try{f=function(g,u,m){var v=new XMLHttpRequest,b=0,_=function(C){var A=C.length,j=[],L=String.fromCharCode;for(b=0;b<A;b+=1)j.push(L(255&C.charCodeAt(b)));return j.join("")};if(v.open("GET",g,!u),v.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(v.onload=function(){v.status===200?m(_(this.responseText)):m(void 0)}),v.send(null),u&&v.status===200)return _(v.responseText)}(i,s,c)}catch(g){}return f}(e,r,n)},t.loadImageFile=t.loadFile}(zr.API),function(t){function e(){return(Gr.html2canvas?Promise.resolve(Gr.html2canvas):Es(()=>import("./html2canvas.esm-CiaFdv3w.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(Gr.DOMPurify?Promise.resolve(Gr.DOMPurify):Es(()=>import("./purify.es-BDD-b7lE.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var f=ni(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},i=function(c,f){var g=document.createElement(c);for(var u in f.className&&(g.className=f.className),f.innerHTML&&f.dompurify&&(g.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)g.style[u]=f.style[u];return g},s=function c(f){var g=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),u=c.convert(Promise.resolve(),g);return u=(u=u.setProgress(1,c,1,[c])).set(f)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(c,f){return c.__proto__=f||s.prototype,c},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(c,f){return this.then(function(){switch(f=f||function(g){switch(n(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(r).then(function(g){return this.set({src:i("div",{innerHTML:c,dompurify:g})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},s.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function g(u,m){for(var v=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),b=u.firstChild;b;b=b.nextSibling)m!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(g(b,m));return u.nodeType===1&&(u.nodeName==="CANVAS"?(v.width=u.width,v.height=u.height,v.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(v.value=u.value),v.addEventListener("load",function(){v.scrollTop=u.scrollTop,v.scrollLeft=u.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,f(this.prop.container,g)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var g=this.opt.jsPDF,u=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=u,u)for(var b=0;b<u.length;++b){var _=u[b],C=_.src.find(function(A){return A.format==="truetype"});C&&g.addFont(C.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,g.context2d.save(!0),f(this.prop.container,v)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(c,f,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},s.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},s.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},s.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(c){if(n(c)!=="object")return this;var f=Object.keys(c||{}).map(function(g){if(g in s.template.prop)return function(){this.prop[g]=c[g]};switch(g){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[g]=c[g]}}},this);return this.then(function(){return this.thenList(f)})},s.prototype.get=function(c,f){return this.then(function(){var g=c in s.template.prop?this.prop[c]:this.opt[c];return f?f(g):g})},s.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},s.prototype.setPageSize=function(c){function f(g,u){return Math.floor(g*u/72*96)}return this.then(function(){(c=c||zr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},s.prototype.setProgress=function(c,f,g,u){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),g!=null&&(this.progress.n=g),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(c,f,g,u){return this.setProgress(c?this.progress.val+c:null,f||null,g?this.progress.n+g:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(c,f){var g=this;return this.thenCore(c,f,function(u,m){return g.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(v){return g.updateProgress(null,u),v}).then(u,m).then(function(v){return g.updateProgress(1),v})})},s.prototype.thenCore=function(c,f,g){g=g||Promise.prototype.then,c&&(c=c.bind(this)),f&&(f=f.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),m=g.call(u,c,f);return s.convert(m,this.__proto__)},s.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},s.prototype.thenList=function(c){var f=this;return c.forEach(function(g){f=f.thenCore(g)}),f},s.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return s.convert(f,this)},s.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},s.prototype.error=function(c){return this.then(function(){throw new Error(c)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,zr.getPageSize=function(c,f,g){if(ni(c)==="object"){var u=c;c=u.orientation,f=u.unit||f,g=u.format||g}f=f||"mm",g=g||"a4",c=(""+(c||"P")).toLowerCase();var m,v=(""+g).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+f}var _,C=0,A=0;if(b.hasOwnProperty(v))C=b[v][1]/m,A=b[v][0]/m;else try{C=g[1],A=g[0]}catch(j){throw new Error("Invalid format: "+g)}if(c==="p"||c==="portrait")c="p",A>C&&(_=A,A=C,C=_);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",C>A&&(_=A,A=C,C=_)}return{width:A,height:C,unit:f,k:m,orientation:c}},t.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Dx):null;var g=new s(f);return f.worker?g:g.from(c).doCallback()}}(zr.API),zr.API.addJS=function(t){return cw=t,this.internal.events.subscribe("postPutResources",function(){eg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){eg!==void 0&&lw!==void 0&&this.internal.out("/Names <</JavaScript "+eg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var c=i[s],f=n.exec(c);if(f!=null){var g=f[1];r.internal.newObjectDeferredBegin(g,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,m=[];for(s=0;s<u;s++){var v=r.internal.newObject();m.push(v);var b=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var _=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<m.length;s++)r.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+_+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var c={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var c=n.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var f=this.count=this.count_r({count:0},c);if(f>0&&this.line("/Count "+f),c.options&&c.options.pageNumber){var g=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(zr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,c,f){var g,u=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(g=function(v){for(var b,_=256*v.charCodeAt(4)+v.charCodeAt(5),C=v.length,A={width:0,height:0,numcomponents:1},j=4;j<C;j+=2){if(j+=_,e.indexOf(v.charCodeAt(j+1))!==-1){b=256*v.charCodeAt(j+5)+v.charCodeAt(j+6),A={width:256*v.charCodeAt(j+7)+v.charCodeAt(j+8),height:b,numcomponents:v.charCodeAt(j+9)};break}_=256*v.charCodeAt(j+2)+v.charCodeAt(j+3)}return A}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}m={data:r,width:g.width,height:g.height,colorSpace:f,bitsPerComponent:8,filter:u,index:n,alias:i}}return m}}(zr.API);var pd,tg,uw,dw,hw,rO=function(){var t,e,r;function n(s){var c,f,g,u,m,v,b,_,C,A,j,L,I,P;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(c=this.readUInt32(),C=function(){var X,Y;for(Y=[],X=0;X<4;++X)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),u=this.readUInt16()||100,v.delay=1e3*m/u,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(C==="fdAT"&&(this.pos+=4,c-=4),s=(v!=null?v.data:void 0)||this.imgData,L=0;0<=c?L<c:L>c;0<=c?++L:--L)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(g=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>g)throw new Error("More transparent colors than palette size");if((A=g-this.transparency.indexed.length)>0)for(I=0;0<=A?I<A:I>A;0<=A?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":b=(j=this.read(c)).indexOf(0),_=String.fromCharCode.apply(String,j.slice(0,b)),this.text[_]=String.fromCharCode.apply(String,j.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var c,f;for(f=[],c=0;0<=s?c<s:c>s;0<=s?++c:--c)f.push(this.data[this.pos++]);return f},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var c=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*c),g=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function m(v,b,_,C){var A,j,L,I,P,X,Y,K,G,V,z,ie,W,H,ne,ve,me,he,be,Pe,Ae,se=Math.ceil((u.width-v)/_),Le=Math.ceil((u.height-b)/C),M=u.width==se&&u.height==Le;for(H=c*se,ie=M?f:new Uint8Array(H*Le),X=s.length,W=0,j=0;W<Le&&g<X;){switch(s[g++]){case 0:for(I=me=0;me<H;I=me+=1)ie[j++]=s[g++];break;case 1:for(I=he=0;he<H;I=he+=1)A=s[g++],P=I<c?0:ie[j-c],ie[j++]=(A+P)%256;break;case 2:for(I=be=0;be<H;I=be+=1)A=s[g++],L=(I-I%c)/c,ne=W&&ie[(W-1)*H+L*c+I%c],ie[j++]=(ne+A)%256;break;case 3:for(I=Pe=0;Pe<H;I=Pe+=1)A=s[g++],L=(I-I%c)/c,P=I<c?0:ie[j-c],ne=W&&ie[(W-1)*H+L*c+I%c],ie[j++]=(A+Math.floor((P+ne)/2))%256;break;case 4:for(I=Ae=0;Ae<H;I=Ae+=1)A=s[g++],L=(I-I%c)/c,P=I<c?0:ie[j-c],W===0?ne=ve=0:(ne=ie[(W-1)*H+L*c+I%c],ve=L&&ie[(W-1)*H+(L-1)*c+I%c]),Y=P+ne-ve,K=Math.abs(Y-P),V=Math.abs(Y-ne),z=Math.abs(Y-ve),G=K<=V&&K<=z?P:V<=z?ne:ve,ie[j++]=(A+G)%256;break;default:throw new Error("Invalid filter algorithm: "+s[g-1])}if(!M){var q=((b+W*C)*u.width+v)*c,J=W*H;for(I=0;I<se;I+=1){for(var re=0;re<c;re+=1)f[q++]=ie[J++];q+=(_-1)*c}}W++}}return s=Ij(s),u.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),f},n.prototype.decodePalette=function(){var s,c,f,g,u,m,v,b,_;for(f=this.palette,m=this.transparency.indexed||[],u=new Uint8Array((m.length||0)+f.length),g=0,s=0,c=v=0,b=f.length;v<b;c=v+=3)u[g++]=f[c],u[g++]=f[c+1],u[g++]=f[c+2],u[g++]=(_=m[s++])!=null?_:255;return u},n.prototype.copyToImageData=function(s,c){var f,g,u,m,v,b,_,C,A,j,L;if(g=this.colors,A=null,f=this.hasAlphaChannel,this.palette.length&&(A=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),g=4,f=!0),C=(u=s.data||s).length,v=A||c,m=b=0,g===1)for(;m<C;)_=A?4*c[m/4]:b,j=v[_++],u[m++]=j,u[m++]=j,u[m++]=j,u[m++]=f?v[_++]:255,b=_;else for(;m<C;)_=A?4*c[m/4]:b,u[m++]=v[_++],u[m++]=v[_++],u[m++]=v[_++],u[m++]=f?v[_++]:255,b=_},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Gr)==="[object Window]"){try{e=Gr.document.createElement("canvas"),r=e.getContext("2d")}catch(s){return!1}return!0}return!1};return i(),t=function(s){var c;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(c=new Image).src=e.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var c,f,g,u,m,v,b,_;if(this.animation){for(_=[],f=m=0,v=(b=this.animation.frames).length;m<v;f=++m)c=b[f],g=s.createImageData(c.width,c.height),u=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(g,u),c.imageData=g,_.push(c.image=t(g));return _}},n.prototype.renderFrame=function(s,c){var f,g,u;return f=(g=this.animation.frames)[c],u=g[c-1],c===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),f.blendOp===0&&s.clearRect(f.xOffset,f.yOffset,f.width,f.height),s.drawImage(f.image,f.xOffset,f.yOffset)},n.prototype.animate=function(s){var c,f,g,u,m,v,b=this;return f=0,v=this.animation,u=v.numFrames,g=v.frames,m=v.numPlays,(c=function(){var _,C;if(_=f++%u,C=g[_],b.renderFrame(s,_),u>1&&f/u<m)return b.animation._timeout=setTimeout(c,C.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var c,f;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,c=s.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(f=c.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),c.putImageData(f,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nO(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,c=1<<(7&i)+1;t[e++],t[e++];var f=null,g=null;s&&(f=e,g=c,e+=3*c);var u=!0,m=[],v=0,b=null,_=0,C=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];v=t[e++]|t[e++]<<8,b=t[e++],(1&A)==0&&(b=null),_=A>>2&7,e++;break;case 254:for(;;){if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,X=t[e++],Y=X>>6&1,K=1<<(7&X)+1,G=f,V=g,z=!1;X>>7&&(z=!0,G=e,V=K,e+=3*K);var ie=e;for(e++;;){var W;if(!((W=t[e++])>=0))throw Error("Invalid block size");if(W===0)break;e+=W}m.push({x:j,y:L,width:I,height:P,has_local_palette:z,palette_offset:G,palette_size:V,data_offset:ie,data_length:e-ie,transparent_index:b,interlaced:!!Y,delay:v,disposal:_});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return C},this.frameInfo=function(H){if(H<0||H>=m.length)throw new Error("Frame index out of range.");return m[H]},this.decodeAndBlitFrameBGRA=function(H,ne){var ve=this.frameInfo(H),me=ve.width*ve.height,he=new Uint8Array(me);fw(t,ve.data_offset,he,me);var be=ve.palette_offset,Pe=ve.transparent_index;Pe===null&&(Pe=256);var Ae=ve.width,se=r-Ae,Le=Ae,M=4*(ve.y*r+ve.x),q=4*((ve.y+ve.height)*r+ve.x),J=M,re=4*se;ve.interlaced===!0&&(re+=4*r*7);for(var le=8,Ue=0,Te=he.length;Ue<Te;++Ue){var Me=he[Ue];if(Le===0&&(Le=Ae,(J+=re)>=q&&(re=4*se+4*r*(le-1),J=M+(Ae+se)*(le<<1),le>>=1)),Me===Pe)J+=4;else{var Oe=t[be+3*Me],ze=t[be+3*Me+1],st=t[be+3*Me+2];ne[J++]=st,ne[J++]=ze,ne[J++]=Oe,ne[J++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(H,ne){var ve=this.frameInfo(H),me=ve.width*ve.height,he=new Uint8Array(me);fw(t,ve.data_offset,he,me);var be=ve.palette_offset,Pe=ve.transparent_index;Pe===null&&(Pe=256);var Ae=ve.width,se=r-Ae,Le=Ae,M=4*(ve.y*r+ve.x),q=4*((ve.y+ve.height)*r+ve.x),J=M,re=4*se;ve.interlaced===!0&&(re+=4*r*7);for(var le=8,Ue=0,Te=he.length;Ue<Te;++Ue){var Me=he[Ue];if(Le===0&&(Le=Ae,(J+=re)>=q&&(re=4*se+4*r*(le-1),J=M+(Ae+se)*(le<<1),le>>=1)),Me===Pe)J+=4;else{var Oe=t[be+3*Me],ze=t[be+3*Me+1],st=t[be+3*Me+2];ne[J++]=Oe,ne[J++]=ze,ne[J++]=st,ne[J++]=255}--Le}}}function fw(t,e,r,n){for(var i=t[e++],s=1<<i,c=s+1,f=c+1,g=i+1,u=(1<<g)-1,m=0,v=0,b=0,_=t[e++],C=new Int32Array(4096),A=null;;){for(;m<16&&_!==0;)v|=t[e++]<<m,m+=8,_===1?_=t[e++]:--_;if(m<g)break;var j=v&u;if(v>>=g,m-=g,j!==s){if(j===c)break;for(var L=j<f?j:A,I=0,P=L;P>s;)P=C[P]>>8,++I;var X=P;if(b+I+(L!==j?1:0)>n)return void gi.log("Warning, gif stream longer than expected.");r[b++]=X;var Y=b+=I;for(L!==j&&(r[b++]=X),P=L;I--;)P=C[P],r[--Y]=255&P,P>>=8;A!==null&&f<4096&&(C[f++]=A<<8|X,f>=u+1&&g<12&&(++g,u=u<<1|1)),A=j}else f=c+1,u=(1<<(g=i+1))-1,A=null}return b!==n&&gi.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Vp(t){var e,r,n,i,s,c=Math.floor,f=new Array(64),g=new Array(64),u=new Array(64),m=new Array(64),v=new Array(65535),b=new Array(65535),_=new Array(64),C=new Array(64),A=[],j=0,L=7,I=new Array(64),P=new Array(64),X=new Array(64),Y=new Array(256),K=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],ve=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(M,q){for(var J=0,re=0,le=new Array,Ue=1;Ue<=16;Ue++){for(var Te=1;Te<=M[Ue];Te++)le[q[re]]=[],le[q[re]][0]=J,le[q[re]][1]=Ue,re++,J++;J*=2}return le}function be(M){for(var q=M[0],J=M[1]-1;J>=0;)q&1<<J&&(j|=1<<L),J--,--L<0&&(j==255?(Pe(255),Pe(0)):Pe(j),L=7,j=0)}function Pe(M){A.push(M)}function Ae(M){Pe(M>>8&255),Pe(255&M)}function se(M,q,J,re,le){for(var Ue,Te=le[0],Me=le[240],Oe=function(He,Ke){var et,Dt,Mt,Xt,hr,ar,dr,mr,Qt,Br,Kt=0;for(Qt=0;Qt<8;++Qt){et=He[Kt],Dt=He[Kt+1],Mt=He[Kt+2],Xt=He[Kt+3],hr=He[Kt+4],ar=He[Kt+5],dr=He[Kt+6];var Lr=et+(mr=He[Kt+7]),fr=et-mr,Vt=Dt+dr,wr=Dt-dr,gr=Mt+ar,Kr=Mt-ar,Qr=Xt+hr,ia=Xt-hr,Mn=Lr+Qr,Ir=Lr-Qr,Xn=Vt+gr,Tn=Vt-gr;He[Kt]=Mn+Xn,He[Kt+4]=Mn-Xn;var Or=.707106781*(Tn+Ir);He[Kt+2]=Ir+Or,He[Kt+6]=Ir-Or;var Dr=.382683433*((Mn=ia+Kr)-(Tn=wr+fr)),Ea=.5411961*Mn+Dr,rn=1.306562965*Tn+Dr,Ii=.707106781*(Xn=Kr+wr),Hi=fr+Ii,cr=fr-Ii;He[Kt+5]=cr+Ea,He[Kt+3]=cr-Ea,He[Kt+1]=Hi+rn,He[Kt+7]=Hi-rn,Kt+=8}for(Kt=0,Qt=0;Qt<8;++Qt){et=He[Kt],Dt=He[Kt+8],Mt=He[Kt+16],Xt=He[Kt+24],hr=He[Kt+32],ar=He[Kt+40],dr=He[Kt+48];var gn=et+(mr=He[Kt+56]),cn=et-mr,jn=Dt+dr,en=Dt-dr,On=Mt+ar,ge=Mt-ar,Se=Xt+hr,Ce=Xt-hr,je=gn+Se,ke=gn-Se,Be=jn+On,lt=jn-On;He[Kt]=je+Be,He[Kt+32]=je-Be;var wt=.707106781*(lt+ke);He[Kt+16]=ke+wt,He[Kt+48]=ke-wt;var Je=.382683433*((je=Ce+ge)-(lt=en+cn)),ht=.5411961*je+Je,mt=1.306562965*lt+Je,Ot=.707106781*(Be=ge+en),zt=cn+Ot,Gt=cn-Ot;He[Kt+40]=Gt+ht,He[Kt+24]=Gt-ht,He[Kt+8]=zt+mt,He[Kt+56]=zt-mt,Kt++}for(Qt=0;Qt<64;++Qt)Br=He[Qt]*Ke[Qt],_[Qt]=Br>0?Br+.5|0:Br-.5|0;return _}(M,q),ze=0;ze<64;++ze)C[G[ze]]=Oe[ze];var st=C[0]-J;J=C[0],st==0?be(re[0]):(be(re[b[Ue=32767+st]]),be(v[Ue]));for(var ct=63;ct>0&&C[ct]==0;)ct--;if(ct==0)return be(Te),J;for(var Nt,it=1;it<=ct;){for(var fe=it;C[it]==0&&it<=ct;)++it;var Ve=it-fe;if(Ve>=16){Nt=Ve>>4;for(var rt=1;rt<=Nt;++rt)be(Me);Ve&=15}Ue=32767+C[it],be(le[(Ve<<4)+b[Ue]]),be(v[Ue]),it++}return ct!=63&&be(Te),J}function Le(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var le=c((J[re]*q+50)/100);le=Math.min(Math.max(le,1),255),f[G[re]]=le}for(var Ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Me=c((Ue[Te]*q+50)/100);Me=Math.min(Math.max(Me,1),255),g[G[Te]]=Me}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,st=0;st<8;st++)for(var ct=0;ct<8;ct++)u[ze]=1/(f[G[ze]]*Oe[st]*Oe[ct]*8),m[ze]=1/(g[G[ze]]*Oe[st]*Oe[ct]*8),ze++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,q){q&&Le(q),A=new Array,j=0,L=7,Ae(65496),Ae(65504),Ae(16),Pe(74),Pe(70),Pe(73),Pe(70),Pe(0),Pe(1),Pe(1),Pe(0),Ae(1),Ae(1),Pe(0),Pe(0),function(){Ae(65499),Ae(132),Pe(0);for(var Dt=0;Dt<64;Dt++)Pe(f[Dt]);Pe(1);for(var Mt=0;Mt<64;Mt++)Pe(g[Mt])}(),function(Dt,Mt){Ae(65472),Ae(17),Pe(8),Ae(Mt),Ae(Dt),Pe(3),Pe(1),Pe(17),Pe(0),Pe(2),Pe(17),Pe(1),Pe(3),Pe(17),Pe(1)}(M.width,M.height),function(){Ae(65476),Ae(418),Pe(0);for(var Dt=0;Dt<16;Dt++)Pe(V[Dt+1]);for(var Mt=0;Mt<=11;Mt++)Pe(z[Mt]);Pe(16);for(var Xt=0;Xt<16;Xt++)Pe(ie[Xt+1]);for(var hr=0;hr<=161;hr++)Pe(W[hr]);Pe(1);for(var ar=0;ar<16;ar++)Pe(H[ar+1]);for(var dr=0;dr<=11;dr++)Pe(ne[dr]);Pe(17);for(var mr=0;mr<16;mr++)Pe(ve[mr+1]);for(var Qt=0;Qt<=161;Qt++)Pe(me[Qt])}(),Ae(65498),Ae(12),Pe(3),Pe(1),Pe(0),Pe(2),Pe(17),Pe(3),Pe(17),Pe(0),Pe(63),Pe(0);var J=0,re=0,le=0;j=0,L=7,this.encode.displayName="_encode_";for(var Ue,Te,Me,Oe,ze,st,ct,Nt,it,fe=M.data,Ve=M.width,rt=M.height,He=4*Ve,Ke=0;Ke<rt;){for(Ue=0;Ue<He;){for(ze=He*Ke+Ue,ct=-1,Nt=0,it=0;it<64;it++)st=ze+(Nt=it>>3)*He+(ct=4*(7&it)),Ke+Nt>=rt&&(st-=He*(Ke+1+Nt-rt)),Ue+ct>=He&&(st-=Ue+ct-He+4),Te=fe[st++],Me=fe[st++],Oe=fe[st++],I[it]=(K[Te]+K[Me+256>>0]+K[Oe+512>>0]>>16)-128,P[it]=(K[Te+768>>0]+K[Me+1024>>0]+K[Oe+1280>>0]>>16)-128,X[it]=(K[Te+1280>>0]+K[Me+1536>>0]+K[Oe+1792>>0]>>16)-128;J=se(I,u,J,e,n),re=se(P,m,re,r,i),le=se(X,m,le,r,i),Ue+=32}Ke+=8}if(L>=0){var et=[];et[1]=L+1,et[0]=(1<<L+1)-1,be(et)}return Ae(65497),new Uint8Array(A)},t=t||50,function(){for(var M=String.fromCharCode,q=0;q<256;q++)Y[q]=M(q)}(),e=he(V,z),r=he(H,ne),n=he(ie,W),i=he(ve,me),function(){for(var M=1,q=2,J=1;J<=15;J++){for(var re=M;re<q;re++)b[32767+re]=J,v[32767+re]=[],v[32767+re][1]=J,v[32767+re][0]=re;for(var le=-(q-1);le<=-M;le++)b[32767+le]=J,v[32767+le]=[],v[32767+le][1]=J,v[32767+le][0]=q-1+le;M<<=1,q<<=1}}(),function(){for(var M=0;M<256;M++)K[M]=19595*M,K[M+256>>0]=38470*M,K[M+512>>0]=7471*M+32768,K[M+768>>0]=-11059*M,K[M+1024>>0]=-21709*M,K[M+1280>>0]=32768*M+8421375,K[M+1536>>0]=-27439*M,K[M+1792>>0]=-5329*M}(),Le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gw(t){function e(V){if(!V)throw Error("assert :P")}function r(V,z,ie){for(var W=0;4>W;W++)if(V[z+W]!=ie.charCodeAt(W))return!0;return!1}function n(V,z,ie,W,H){for(var ne=0;ne<H;ne++)V[z+ne]=ie[W+ne]}function i(V,z,ie,W){for(var H=0;H<W;H++)V[z+H]=ie}function s(V){return new Int32Array(V)}function c(V,z){for(var ie=[],W=0;W<V;W++)ie.push(new z);return ie}function f(V,z){var ie=[];return function W(H,ne,ve){for(var me=ve[ne],he=0;he<me&&(H.push(ve.length>ne+1?[]:new z),!(ve.length<ne+1));he++)W(H[he],ne+1,ve)}(ie,0,V),ie}var g=function(){var V=this;function z(N,R){for(var U=1<<R-1>>>0;N&U;)U>>>=1;return U?(N&U-1)+U:N}function ie(N,R,U,Z,ue){e(!(Z%U));do N[R+(Z-=U)]=ue;while(0<Z)}function W(N,R,U,Z,ue){if(e(2328>=ue),512>=ue)var pe=s(512);else if((pe=s(ue))==null)return 0;return function(ye,_e,Ne,Fe,Xe,gt){var dt,nt,It=_e,_t=1<<Ne,Ye=s(16),Qe=s(16);for(e(Xe!=0),e(Fe!=null),e(ye!=null),e(0<Ne),nt=0;nt<Xe;++nt){if(15<Fe[nt])return 0;++Ye[Fe[nt]]}if(Ye[0]==Xe)return 0;for(Qe[1]=0,dt=1;15>dt;++dt){if(Ye[dt]>1<<dt)return 0;Qe[dt+1]=Qe[dt]+Ye[dt]}for(nt=0;nt<Xe;++nt)dt=Fe[nt],0<Fe[nt]&&(gt[Qe[dt]++]=nt);if(Qe[15]==1)return(Fe=new H).g=0,Fe.value=gt[0],ie(ye,It,1,_t,Fe),_t;var Tt,Ft=-1,Rt=_t-1,ur=0,nr=1,Cr=1,ir=1<<Ne;for(nt=0,dt=1,Xe=2;dt<=Ne;++dt,Xe<<=1){if(nr+=Cr<<=1,0>(Cr-=Ye[dt]))return 0;for(;0<Ye[dt];--Ye[dt])(Fe=new H).g=dt,Fe.value=gt[nt++],ie(ye,It+ur,Xe,ir,Fe),ur=z(ur,dt)}for(dt=Ne+1,Xe=2;15>=dt;++dt,Xe<<=1){if(nr+=Cr<<=1,0>(Cr-=Ye[dt]))return 0;for(;0<Ye[dt];--Ye[dt]){if(Fe=new H,(ur&Rt)!=Ft){for(It+=ir,Tt=1<<(Ft=dt)-Ne;15>Ft&&!(0>=(Tt-=Ye[Ft]));)++Ft,Tt<<=1;_t+=ir=1<<(Tt=Ft-Ne),ye[_e+(Ft=ur&Rt)].g=Tt+Ne,ye[_e+Ft].value=It-_e-Ft}Fe.g=dt-Ne,Fe.value=gt[nt++],ie(ye,It+(ur>>Ne),Xe,ir,Fe),ur=z(ur,dt)}}return nr!=2*Qe[15]-1?0:_t}(N,R,U,Z,ue,pe)}function H(){this.value=this.g=0}function ne(){this.value=this.g=0}function ve(){this.G=c(5,H),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Hn,ne)}function me(N,R,U,Z){e(N!=null),e(R!=null),e(2147483648>Z),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=R,N.pa=U,N.Jd=R,N.Yc=U+Z,N.Zc=4<=Z?U+Z-4+1:U,Ue(N)}function he(N,R){for(var U=0;0<R--;)U|=Me(N,128)<<R;return U}function be(N,R){var U=he(N,R);return Te(N)?-U:U}function Pe(N,R,U,Z){var ue,pe=0;for(e(N!=null),e(R!=null),e(4294967288>Z),N.Sb=Z,N.Ra=0,N.u=0,N.h=0,4<Z&&(Z=4),ue=0;ue<Z;++ue)pe+=R[U+ue]<<8*ue;N.Ra=pe,N.bb=Z,N.oa=R,N.pa=U}function Ae(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<js-8>>>0,++N.bb,N.u-=8;J(N)&&(N.h=1,N.u=0)}function se(N,R){if(e(0<=R),!N.h&&R<=uo){var U=q(N)&Po[R];return N.u+=R,Ae(N),U}return N.h=1,N.u=0}function Le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(N){return N.Ra>>>(N.u&js-1)>>>0}function J(N){return e(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>js}function re(N,R){N.u=R,N.h=J(N)}function le(N){N.u>=nn&&(e(N.u>=nn),Ae(N))}function Ue(N){e(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(e(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Te(N){return he(N,1)}function Me(N,R){var U=N.Ca;0>N.b&&Ue(N);var Z=N.b,ue=U*R>>>8,pe=(N.I>>>Z>ue)+0;for(pe?(U-=ue,N.I-=ue+1<<Z>>>0):U=ue+1,Z=U,ue=0;256<=Z;)ue+=8,Z>>=8;return Z=7^ue+sa[Z],N.b-=Z,N.Ca=(U<<Z)-1,pe}function Oe(N,R,U){N[R+0]=U>>24&255,N[R+1]=U>>16&255,N[R+2]=U>>8&255,N[R+3]=U>>0&255}function ze(N,R){return N[R+0]<<0|N[R+1]<<8}function st(N,R){return ze(N,R)|N[R+2]<<16}function ct(N,R){return ze(N,R)|ze(N,R+2)<<16}function Nt(N,R){var U=1<<R;return e(N!=null),e(0<R),N.X=s(U),N.X==null?0:(N.Mb=32-R,N.Xa=R,1)}function it(N,R){e(N!=null),e(R!=null),e(N.Xa==R.Xa),n(R.X,0,N.X,0,1<<R.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Ve(N,R,U,Z){e(U!=null),e(Z!=null);var ue=U[0],pe=Z[0];return ue==0&&(ue=(N*pe+R/2)/R),pe==0&&(pe=(R*ue+N/2)/N),0>=ue||0>=pe?0:(U[0]=ue,Z[0]=pe,1)}function rt(N,R){return N+(1<<R)-1>>>R}function He(N,R){return((4278255360&N)+(4278255360&R)>>>0&4278255360)+((16711935&N)+(16711935&R)>>>0&16711935)>>>0}function Ke(N,R){V[R]=function(U,Z,ue,pe,ye,_e,Ne){var Fe;for(Fe=0;Fe<ye;++Fe){var Xe=V[N](_e[Ne+Fe-1],ue,pe+Fe);_e[Ne+Fe]=He(U[Z+Fe],Xe)}}}function et(){this.ud=this.hd=this.jd=0}function Dt(N,R){return((4278124286&(N^R))>>>1)+(N&R)>>>0}function Mt(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Xt(N,R){return Mt(N+(N-R+.5>>1))}function hr(N,R,U){return Math.abs(R-U)-Math.abs(N-U)}function ar(N,R,U,Z,ue,pe,ye){for(Z=pe[ye-1],U=0;U<ue;++U)pe[ye+U]=Z=He(N[R+U],Z)}function dr(N,R,U,Z,ue){var pe;for(pe=0;pe<U;++pe){var ye=N[R+pe],_e=ye>>8&255,Ne=16711935&(Ne=(Ne=16711935&ye)+((_e<<16)+_e));Z[ue+pe]=(4278255360&ye)+Ne>>>0}}function mr(N,R){R.jd=N>>0&255,R.hd=N>>8&255,R.ud=N>>16&255}function Qt(N,R,U,Z,ue,pe){var ye;for(ye=0;ye<Z;++ye){var _e=R[U+ye],Ne=_e>>>8,Fe=_e,Xe=255&(Xe=(Xe=_e>>>16)+((N.jd<<24>>24)*(Ne<<24>>24)>>>5));Fe=255&(Fe=(Fe=Fe+((N.hd<<24>>24)*(Ne<<24>>24)>>>5))+((N.ud<<24>>24)*(Xe<<24>>24)>>>5)),ue[pe+ye]=(4278255360&_e)+(Xe<<16)+Fe}}function Br(N,R,U,Z,ue){V[R]=function(pe,ye,_e,Ne,Fe,Xe,gt,dt,nt){for(Ne=gt;Ne<dt;++Ne)for(gt=0;gt<nt;++gt)Fe[Xe++]=ue(_e[Z(pe[ye++])])},V[N]=function(pe,ye,_e,Ne,Fe,Xe,gt){var dt=8>>pe.b,nt=pe.Ea,It=pe.K[0],_t=pe.w;if(8>dt)for(pe=(1<<pe.b)-1,_t=(1<<dt)-1;ye<_e;++ye){var Ye,Qe=0;for(Ye=0;Ye<nt;++Ye)Ye&pe||(Qe=Z(Ne[Fe++])),Xe[gt++]=ue(It[Qe&_t]),Qe>>=dt}else V["VP8LMapColor"+U](Ne,Fe,It,_t,Xe,gt,ye,_e,nt)}}function Kt(N,R,U,Z,ue){for(U=R+U;R<U;){var pe=N[R++];Z[ue++]=pe>>16&255,Z[ue++]=pe>>8&255,Z[ue++]=pe>>0&255}}function Lr(N,R,U,Z,ue){for(U=R+U;R<U;){var pe=N[R++];Z[ue++]=pe>>16&255,Z[ue++]=pe>>8&255,Z[ue++]=pe>>0&255,Z[ue++]=pe>>24&255}}function fr(N,R,U,Z,ue){for(U=R+U;R<U;){var pe=(ye=N[R++])>>16&240|ye>>12&15,ye=ye>>0&240|ye>>28&15;Z[ue++]=pe,Z[ue++]=ye}}function Vt(N,R,U,Z,ue){for(U=R+U;R<U;){var pe=(ye=N[R++])>>16&248|ye>>13&7,ye=ye>>5&224|ye>>3&31;Z[ue++]=pe,Z[ue++]=ye}}function wr(N,R,U,Z,ue){for(U=R+U;R<U;){var pe=N[R++];Z[ue++]=pe>>0&255,Z[ue++]=pe>>8&255,Z[ue++]=pe>>16&255}}function gr(N,R,U,Z,ue,pe){if(pe==0)for(U=R+U;R<U;)Oe(Z,((pe=N[R++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),ue+=32;else n(Z,ue,N,R,U)}function Kr(N,R){V[R][0]=V[N+"0"],V[R][1]=V[N+"1"],V[R][2]=V[N+"2"],V[R][3]=V[N+"3"],V[R][4]=V[N+"4"],V[R][5]=V[N+"5"],V[R][6]=V[N+"6"],V[R][7]=V[N+"7"],V[R][8]=V[N+"8"],V[R][9]=V[N+"9"],V[R][10]=V[N+"10"],V[R][11]=V[N+"11"],V[R][12]=V[N+"12"],V[R][13]=V[N+"13"],V[R][14]=V[N+"0"],V[R][15]=V[N+"0"]}function Qr(N){return N==Fu||N==Ml||N==al||N==qc}function ia(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ia,this.f.kb=new Mn,this.sd=null}function Xn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Or(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function Dr(N,R){var U=N.T,Z=R.ba.f.RGBA,ue=Z.eb,pe=Z.fb+N.ka*Z.A,ye=va[R.ba.S],_e=N.y,Ne=N.O,Fe=N.f,Xe=N.N,gt=N.ea,dt=N.W,nt=R.cc,It=R.dc,_t=R.Mc,Ye=R.Nc,Qe=N.ka,Tt=N.ka+N.T,Ft=N.U,Rt=Ft+1>>1;for(Qe==0?ye(_e,Ne,null,null,Fe,Xe,gt,dt,Fe,Xe,gt,dt,ue,pe,null,null,Ft):(ye(R.ec,R.fc,_e,Ne,nt,It,_t,Ye,Fe,Xe,gt,dt,ue,pe-Z.A,ue,pe,Ft),++U);Qe+2<Tt;Qe+=2)nt=Fe,It=Xe,_t=gt,Ye=dt,Xe+=N.Rc,dt+=N.Rc,pe+=2*Z.A,ye(_e,(Ne+=2*N.fa)-N.fa,_e,Ne,nt,It,_t,Ye,Fe,Xe,gt,dt,ue,pe-Z.A,ue,pe,Ft);return Ne+=N.fa,N.j+Tt<N.o?(n(R.ec,R.fc,_e,Ne,Ft),n(R.cc,R.dc,Fe,Xe,Rt),n(R.Mc,R.Nc,gt,dt,Rt),U--):1&Tt||ye(_e,Ne,null,null,Fe,Xe,gt,dt,Fe,Xe,gt,dt,ue,pe+Z.A,null,null,Ft),U}function Ea(N,R,U){var Z=N.F,ue=[N.J];if(Z!=null){var pe=N.U,ye=R.ba.S,_e=ye==dc||ye==al;R=R.ba.f.RGBA;var Ne=[0],Fe=N.ka;Ne[0]=N.T,N.Kb&&(Fe==0?--Ne[0]:(--Fe,ue[0]-=N.width),N.j+N.ka+N.T==N.o&&(Ne[0]=N.o-N.j-Fe));var Xe=R.eb;Fe=R.fb+Fe*R.A,N=xn(Z,ue[0],N.width,pe,Ne,Xe,Fe+(_e?0:3),R.A),e(U==Ne),N&&Qr(ye)&&Xa(Xe,Fe,_e,pe,Ne,R.A)}return 0}function rn(N){var R=N.ma,U=R.ba.S,Z=11>U,ue=U==Hc||U==Pu||U==dc||U==il||U==12||Qr(U);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!Hs(R.Oa,N,ue?11:12))return 0;if(ue&&Qr(U)&&Bt(),N.da)alert("todo:use_scaling");else{if(Z){if(R.Ib=Or,N.Kb){if(U=N.U+1>>1,R.memory=s(N.U+2*U),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+N.U,R.Mc=R.cc,R.Nc=R.dc+U,R.Ib=Dr,Bt()}}else alert("todo:EmitYUV");ue&&(R.Jb=Ea,Z&&at())}if(Z&&!Kf){for(N=0;256>N;++N)hm[N]=89858*(N-128)+la>>zo,Uu[N]=-22014*(N-128)+la,sh[N]=-45773*(N-128),ca[N]=113618*(N-128)+la>>zo;for(N=Hl;N<P0;++N)R=76283*(N-16)+la>>zo,zu[N-Hl]=Fi(R,255),oh[N-Hl]=Fi(R+8>>4,15);Kf=1}return 1}function Ii(N){var R=N.ma,U=N.U,Z=N.T;return e(!(1&N.ka)),0>=U||0>=Z?0:(U=R.Ib(N,R),R.Jb!=null&&R.Jb(N,R,U),R.Dc+=U,1)}function Hi(N){N.ma.memory=null}function cr(N,R,U,Z){return se(N,8)!=47?0:(R[0]=se(N,14)+1,U[0]=se(N,14)+1,Z[0]=se(N,1),se(N,3)!=0?0:!N.h)}function gn(N,R){if(4>N)return N+1;var U=N-2>>1;return(2+(1&N)<<U)+se(R,U)+1}function cn(N,R){return 120<R?R-120:1<=(U=((U=ol[R-1])>>4)*N+(8-(15&U)))?U:1;var U}function jn(N,R,U){var Z=q(U),ue=N[R+=255&Z].g-8;return 0<ue&&(re(U,U.u+8),Z=q(U),R+=N[R].value,R+=Z&(1<<ue)-1),re(U,U.u+N[R].g),N[R].value}function en(N,R,U){return U.g+=N.g,U.value+=N.value<<R>>>0,e(8>=U.g),N.g}function On(N,R,U){var Z=N.xc;return e((R=Z==0?0:N.vc[N.md*(U>>Z)+(R>>Z)])<N.Wb),N.Ya[R]}function ge(N,R,U,Z){var ue=N.ab,pe=N.c*R,ye=N.C;R=ye+R;var _e=U,Ne=Z;for(Z=N.Ta,U=N.Ua;0<ue--;){var Fe=N.gc[ue],Xe=ye,gt=R,dt=_e,nt=Ne,It=(Ne=Z,_e=U,Fe.Ea);switch(e(Xe<gt),e(gt<=Fe.nc),Fe.hc){case 2:h(dt,nt,(gt-Xe)*It,Ne,_e);break;case 0:var _t=Xe,Ye=gt,Qe=Ne,Tt=_e,Ft=(ir=Fe).Ea;_t==0&&(ce(dt,nt,null,null,1,Qe,Tt),ar(dt,nt+1,0,0,Ft-1,Qe,Tt+1),nt+=Ft,Tt+=Ft,++_t);for(var Rt=1<<ir.b,ur=Rt-1,nr=rt(Ft,ir.b),Cr=ir.K,ir=ir.w+(_t>>ir.b)*nr;_t<Ye;){var Ln=Cr,qn=ir,dn=1;for(l(dt,nt,Qe,Tt-Ft,1,Qe,Tt);dn<Ft;){var on=(dn&~ur)+Rt;on>Ft&&(on=Ft),(0,T[Ln[qn++]>>8&15])(dt,nt+ +dn,Qe,Tt+dn-Ft,on-dn,Qe,Tt+dn),dn=on}nt+=Ft,Tt+=Ft,++_t&ur||(ir+=nr)}gt!=Fe.nc&&n(Ne,_e-It,Ne,_e+(gt-Xe-1)*It,It);break;case 1:for(It=dt,Ye=nt,Ft=(dt=Fe.Ea)-(Tt=dt&~(Qe=(nt=1<<Fe.b)-1)),_t=rt(dt,Fe.b),Rt=Fe.K,Fe=Fe.w+(Xe>>Fe.b)*_t;Xe<gt;){for(ur=Rt,nr=Fe,Cr=new et,ir=Ye+Tt,Ln=Ye+dt;Ye<ir;)mr(ur[nr++],Cr),k(Cr,It,Ye,nt,Ne,_e),Ye+=nt,_e+=nt;Ye<Ln&&(mr(ur[nr++],Cr),k(Cr,It,Ye,Ft,Ne,_e),Ye+=Ft,_e+=Ft),++Xe&Qe||(Fe+=_t)}break;case 3:if(dt==Ne&&nt==_e&&0<Fe.b){for(Ye=Ne,dt=It=_e+(gt-Xe)*It-(Tt=(gt-Xe)*rt(Fe.Ea,Fe.b)),nt=Ne,Qe=_e,_t=[],Tt=(Ft=Tt)-1;0<=Tt;--Tt)_t[Tt]=nt[Qe+Tt];for(Tt=Ft-1;0<=Tt;--Tt)Ye[dt+Tt]=_t[Tt];p(Fe,Xe,gt,Ne,It,Ne,_e)}else p(Fe,Xe,gt,dt,nt,Ne,_e)}_e=Z,Ne=U}Ne!=U&&n(Z,U,_e,Ne,pe)}function Se(N,R){var U=N.V,Z=N.Ba+N.c*N.C,ue=R-N.C;if(e(R<=N.l.o),e(16>=ue),0<ue){var pe=N.l,ye=N.Ta,_e=N.Ua,Ne=pe.width;if(ge(N,ue,U,Z),ue=_e=[_e],e((U=N.C)<(Z=R)),e(pe.v<pe.va),Z>pe.o&&(Z=pe.o),U<pe.j){var Fe=pe.j-U;U=pe.j,ue[0]+=Fe*Ne}if(U>=Z?U=0:(ue[0]+=4*pe.v,pe.ka=U-pe.j,pe.U=pe.va-pe.v,pe.T=Z-U,U=1),U){if(_e=_e[0],11>(U=N.ca).S){var Xe=U.f.RGBA,gt=(Z=U.S,ue=pe.U,pe=pe.T,Fe=Xe.eb,Xe.A),dt=pe;for(Xe=Xe.fb+N.Ma*Xe.A;0<dt--;){var nt=ye,It=_e,_t=ue,Ye=Fe,Qe=Xe;switch(Z){case Pa:B(nt,It,_t,Ye,Qe);break;case Hc:Q(nt,It,_t,Ye,Qe);break;case Fu:Q(nt,It,_t,Ye,Qe),Xa(Ye,Qe,0,_t,1,0);break;case Fo:De(nt,It,_t,Ye,Qe);break;case Pu:gr(nt,It,_t,Ye,Qe,1);break;case Ml:gr(nt,It,_t,Ye,Qe,1),Xa(Ye,Qe,0,_t,1,0);break;case dc:gr(nt,It,_t,Ye,Qe,0);break;case al:gr(nt,It,_t,Ye,Qe,0),Xa(Ye,Qe,1,_t,1,0);break;case il:oe(nt,It,_t,Ye,Qe);break;case qc:oe(nt,It,_t,Ye,Qe),pn(Ye,Qe,_t,1,0);break;case R0:xe(nt,It,_t,Ye,Qe);break;default:e(0)}_e+=Ne,Xe+=gt}N.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");e(N.Ma<=U.height)}}N.C=R,e(N.C<=N.i)}function Ce(N){var R;if(0<N.ua)return 0;for(R=0;R<N.Wb;++R){var U=N.Ya[R].G,Z=N.Ya[R].H;if(0<U[1][Z[1]+0].g||0<U[2][Z[2]+0].g||0<U[3][Z[3]+0].g)return 0}return 1}function je(N,R,U,Z,ue,pe){if(N.Z!=0){var ye=N.qd,_e=N.rd;for(e(Mo[N.Z]!=null);R<U;++R)Mo[N.Z](ye,_e,Z,ue,Z,ue,pe),ye=Z,_e=ue,ue+=pe;N.qd=ye,N.rd=_e}}function ke(N,R){var U=N.l.ma,Z=U.Z==0||U.Z==1?N.l.j:N.C;if(Z=N.C<Z?Z:N.C,e(R<=N.l.o),R>Z){var ue=N.l.width,pe=U.ca,ye=U.tb+ue*Z,_e=N.V,Ne=N.Ba+N.c*Z,Fe=N.gc;e(N.ab==1),e(Fe[0].hc==3),w(Fe[0],Z,R,_e,Ne,pe,ye),je(U,Z,R,pe,ye,ue)}N.C=N.Ma=R}function Be(N,R,U,Z,ue,pe,ye){var _e=N.$/Z,Ne=N.$%Z,Fe=N.m,Xe=N.s,gt=U+N.$,dt=gt;ue=U+Z*ue;var nt=U+Z*pe,It=280+Xe.ua,_t=N.Pb?_e:16777216,Ye=0<Xe.ua?Xe.Wa:null,Qe=Xe.wc,Tt=gt<nt?On(Xe,Ne,_e):null;e(N.C<pe),e(nt<=ue);var Ft=!1;e:for(;;){for(;Ft||gt<nt;){var Rt=0;if(_e>=_t){var ur=gt-U;e((_t=N).Pb),_t.wd=_t.m,_t.xd=ur,0<_t.s.ua&&it(_t.s.Wa,_t.s.vb),_t=_e+$f}if(Ne&Qe||(Tt=On(Xe,Ne,_e)),e(Tt!=null),Tt.Qb&&(R[gt]=Tt.qb,Ft=!0),!Ft)if(le(Fe),Tt.jc){Rt=Fe,ur=R;var nr=gt,Cr=Tt.pd[q(Rt)&Hn-1];e(Tt.jc),256>Cr.g?(re(Rt,Rt.u+Cr.g),ur[nr]=Cr.value,Rt=0):(re(Rt,Rt.u+Cr.g-256),e(256<=Cr.value),Rt=Cr.value),Rt==0&&(Ft=!0)}else Rt=jn(Tt.G[0],Tt.H[0],Fe);if(Fe.h)break;if(Ft||256>Rt){if(!Ft)if(Tt.nd)R[gt]=(Tt.qb|Rt<<8)>>>0;else{if(le(Fe),Ft=jn(Tt.G[1],Tt.H[1],Fe),le(Fe),ur=jn(Tt.G[2],Tt.H[2],Fe),nr=jn(Tt.G[3],Tt.H[3],Fe),Fe.h)break;R[gt]=(nr<<24|Ft<<16|Rt<<8|ur)>>>0}if(Ft=!1,++gt,++Ne>=Z&&(Ne=0,++_e,ye!=null&&_e<=pe&&!(_e%16)&&ye(N,_e),Ye!=null))for(;dt<gt;)Rt=R[dt++],Ye.X[(506832829*Rt&4294967295)>>>Ye.Mb]=Rt}else if(280>Rt){if(Rt=gn(Rt-256,Fe),ur=jn(Tt.G[4],Tt.H[4],Fe),le(Fe),ur=cn(Z,ur=gn(ur,Fe)),Fe.h)break;if(gt-U<ur||ue-gt<Rt)break e;for(nr=0;nr<Rt;++nr)R[gt+nr]=R[gt+nr-ur];for(gt+=Rt,Ne+=Rt;Ne>=Z;)Ne-=Z,++_e,ye!=null&&_e<=pe&&!(_e%16)&&ye(N,_e);if(e(gt<=ue),Ne&Qe&&(Tt=On(Xe,Ne,_e)),Ye!=null)for(;dt<gt;)Rt=R[dt++],Ye.X[(506832829*Rt&4294967295)>>>Ye.Mb]=Rt}else{if(!(Rt<It))break e;for(Ft=Rt-280,e(Ye!=null);dt<gt;)Rt=R[dt++],Ye.X[(506832829*Rt&4294967295)>>>Ye.Mb]=Rt;Rt=gt,e(!(Ft>>>(ur=Ye).Xa)),R[Rt]=ur.X[Ft],Ft=!0}Ft||e(Fe.h==J(Fe))}if(N.Pb&&Fe.h&&gt<ue)e(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&it(N.s.vb,N.s.Wa);else{if(Fe.h)break e;ye!=null&&ye(N,_e>pe?pe:_e),N.a=0,N.$=gt-U}return 1}return N.a=3,0}function lt(N){e(N!=null),N.vc=null,N.yc=null,N.Ya=null;var R=N.Wa;R!=null&&(R.X=null),N.vb=null,e(N!=null)}function wt(){var N=new Ni;return N==null?null:(N.a=0,N.xb=Wc,Kr("Predictor","VP8LPredictors"),Kr("Predictor","VP8LPredictors_C"),Kr("PredictorAdd","VP8LPredictorsAdd"),Kr("PredictorAdd","VP8LPredictorsAdd_C"),h=dr,k=Qt,B=Kt,Q=Lr,oe=fr,xe=Vt,De=wr,V.VP8LMapColor32b=y,V.VP8LMapColor8b=S,N)}function Je(N,R,U,Z,ue){var pe=1,ye=[N],_e=[R],Ne=Z.m,Fe=Z.s,Xe=null,gt=0;e:for(;;){if(U)for(;pe&&se(Ne,1);){var dt=ye,nt=_e,It=Z,_t=1,Ye=It.m,Qe=It.gc[It.ab],Tt=se(Ye,2);if(It.Oc&1<<Tt)pe=0;else{switch(It.Oc|=1<<Tt,Qe.hc=Tt,Qe.Ea=dt[0],Qe.nc=nt[0],Qe.K=[null],++It.ab,e(4>=It.ab),Tt){case 0:case 1:Qe.b=se(Ye,3)+2,_t=Je(rt(Qe.Ea,Qe.b),rt(Qe.nc,Qe.b),0,It,Qe.K),Qe.K=Qe.K[0];break;case 3:var Ft,Rt=se(Ye,8)+1,ur=16<Rt?0:4<Rt?1:2<Rt?2:3;if(dt[0]=rt(Qe.Ea,ur),Qe.b=ur,Ft=_t=Je(Rt,1,0,It,Qe.K)){var nr,Cr=Rt,ir=Qe,Ln=1<<(8>>ir.b),qn=s(Ln);if(qn==null)Ft=0;else{var dn=ir.K[0],on=ir.w;for(qn[0]=ir.K[0][0],nr=1;nr<1*Cr;++nr)qn[nr]=He(dn[on+nr],qn[nr-1]);for(;nr<4*Ln;++nr)qn[nr]=0;ir.K[0]=null,ir.K[0]=qn,Ft=1}}_t=Ft;break;case 2:break;default:e(0)}pe=_t}}if(ye=ye[0],_e=_e[0],pe&&se(Ne,1)&&!(pe=1<=(gt=se(Ne,4))&&11>=gt)){Z.a=3;break e}var Zn;if(Zn=pe)t:{var Wn,Yr,Jn,kr=Z,Vr=ye,Cn=_e,In=gt,ya=U,ua=kr.m,Vi=kr.s,Gi=[null],Ki=1,Gs=0,Vn=fc[In];r:for(;;){if(ya&&se(ua,1)){var Zi=se(ua,3)+2,ho=rt(Vr,Zi),ql=rt(Cn,Zi),pc=ho*ql;if(!Je(ho,ql,0,kr,Gi))break r;for(Gi=Gi[0],Vi.xc=Zi,Wn=0;Wn<pc;++Wn){var Wl=Gi[Wn]>>8&65535;Gi[Wn]=Wl,Wl>=Ki&&(Ki=Wl+1)}}if(ua.h)break r;for(Yr=0;5>Yr;++Yr){var yi=Os[Yr];!Yr&&0<In&&(yi+=1<<In),Gs<yi&&(Gs=yi)}var Hu=c(Ki*Vn,H),F0=Ki,Ka=c(F0,ve);if(Ka==null)var ji=null;else e(65536>=F0),ji=Ka;var xc=s(Gs);if(ji==null||xc==null||Hu==null){kr.a=1;break r}var Vl=Hu;for(Wn=Jn=0;Wn<Ki;++Wn){var fs=ji[Wn],Gl=fs.G,gs=fs.H,qu=0,Gc=1,B0=0;for(Yr=0;5>Yr;++Yr){yi=Os[Yr],Gl[Yr]=Vl,gs[Yr]=Jn,!Yr&&0<In&&(yi+=1<<In);i:{var Wu,M0=yi,Vu=kr,$c=xc,Qf=Vl,e1=Jn,Gu=0,dl=Vu.m,gm=se(dl,1);if(i($c,0,0,M0),gm){var t1=se(dl,1)+1,r1=se(dl,1),lh=se(dl,r1==0?1:8);$c[lh]=1,t1==2&&($c[lh=se(dl,8)]=1);var Xc=1}else{var ch=s(19),uh=se(dl,4)+4;if(19<uh){Vu.a=3;var $u=0;break i}for(Wu=0;Wu<uh;++Wu)ch[sl[Wu]]=se(dl,3);var U0=void 0,Yc=void 0,n1=Vu,i1=ch,hl=M0,Xu=$c,z0=0,fo=n1.m,Kc=8,dh=c(128,H);n:for(;W(dh,0,7,i1,19);){if(se(fo,1)){var a1=2+2*se(fo,3);if((U0=2+se(fo,a1))>hl)break n}else U0=hl;for(Yc=0;Yc<hl&&U0--;){le(fo);var hh=dh[0+(127&q(fo))];re(fo,fo.u+hh.g);var vc=hh.value;if(16>vc)Xu[Yc++]=vc,vc!=0&&(Kc=vc);else{var s1=vc==16,fh=vc-16,gh=Vs[fh],mh=se(fo,k0[fh])+gh;if(Yc+mh>hl)break n;for(var o1=s1?Kc:0;0<mh--;)Xu[Yc++]=o1}}z0=1;break n}z0||(n1.a=3),Xc=z0}(Xc=Xc&&!dl.h)&&(Gu=W(Qf,e1,8,$c,M0)),Xc&&Gu!=0?$u=Gu:(Vu.a=3,$u=0)}if($u==0)break r;if(Gc&&hc[Yr]==1&&(Gc=Vl[Jn].g==0),qu+=Vl[Jn].g,Jn+=$u,3>=Yr){var yc,H0=xc[0];for(yc=1;yc<yi;++yc)xc[yc]>H0&&(H0=xc[yc]);B0+=H0}}if(fs.nd=Gc,fs.Qb=0,Gc&&(fs.qb=(Gl[3][gs[3]+0].value<<24|Gl[1][gs[1]+0].value<<16|Gl[2][gs[2]+0].value)>>>0,qu==0&&256>Gl[0][gs[0]+0].value&&(fs.Qb=1,fs.qb+=Gl[0][gs[0]+0].value<<8)),fs.jc=!fs.Qb&&6>B0,fs.jc){var Yu,fl=fs;for(Yu=0;Yu<Hn;++Yu){var Ho=Yu,gl=fl.pd[Ho],Ku=fl.G[0][fl.H[0]+Ho];256<=Ku.value?(gl.g=Ku.g+256,gl.value=Ku.value):(gl.g=0,gl.value=0,Ho>>=en(Ku,8,gl),Ho>>=en(fl.G[1][fl.H[1]+Ho],16,gl),Ho>>=en(fl.G[2][fl.H[2]+Ho],0,gl),en(fl.G[3][fl.H[3]+Ho],24,gl))}}}Vi.vc=Gi,Vi.Wb=Ki,Vi.Ya=ji,Vi.yc=Hu,Zn=1;break t}Zn=0}if(!(pe=Zn)){Z.a=3;break e}if(0<gt){if(Fe.ua=1<<gt,!Nt(Fe.Wa,gt)){Z.a=1,pe=0;break e}}else Fe.ua=0;var Zu=Z,ph=ye,l1=_e,xh=Zu.s,vh=xh.xc;if(Zu.c=ph,Zu.i=l1,xh.md=rt(ph,vh),xh.wc=vh==0?-1:(1<<vh)-1,U){Z.xb=Yf;break e}if((Xe=s(ye*_e))==null){Z.a=1,pe=0;break e}pe=(pe=Be(Z,Xe,0,ye,_e,_e,null))&&!Ne.h;break e}return pe?(ue!=null?ue[0]=Xe:(e(Xe==null),e(U)),Z.$=0,U||lt(Fe)):lt(Fe),pe}function ht(N,R){var U=N.c*N.i,Z=U+R+16*R;return e(N.c<=R),N.V=s(Z),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+U+R,1)}function mt(N,R){var U=N.C,Z=R-U,ue=N.V,pe=N.Ba+N.c*U;for(e(R<=N.l.o);0<Z;){var ye=16<Z?16:Z,_e=N.l.ma,Ne=N.l.width,Fe=Ne*ye,Xe=_e.ca,gt=_e.tb+Ne*U,dt=N.Ta,nt=N.Ua;ge(N,ye,ue,pe),li(dt,nt,Xe,gt,Fe),je(_e,U,U+ye,Xe,gt,Ne),Z-=ye,ue+=ye*N.c,U+=ye}e(U==R),N.C=N.Ma=R}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function zt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function $t(){this.Yb=function(){var N=[];return function R(U,Z,ue){for(var pe=ue[Z],ye=0;ye<pe&&(U.push(ue.length>Z+1?[]:0),!(ue.length<Z+1));ye++)R(U[ye],Z+1,ue)}(N,0,[3,11]),N}()}function Jt(){this.jb=s(3),this.Wc=f([4,8],$t),this.Xc=f([4,17],$t)}function jr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function te(){this.ld=this.La=this.dd=this.tc=0}function Et(){this.Na=this.la=0}function Yt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function tn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Rn(){this.uc=this.M=this.Nb=0,this.wa=Array(new te),this.Y=0,this.ya=Array(new tn),this.aa=0,this.l=new xr}function pr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function sr(){this.cb=this.a=0,this.sc="",this.m=new Le,this.Od=new Ot,this.Kc=new zt,this.ed=new jr,this.Qa=new Gt,this.Ic=this.$c=this.Aa=0,this.D=new Rn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,Le),this.ia=0,this.pb=c(4,Yt),this.Pa=new Jt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pr),this.Hd=0,this.rb=Array(new Et),this.sb=0,this.wa=Array(new te),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new tn),this.L=this.aa=0,this.gd=f([4,2],te),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sr(){var N=new sr;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,oa||(oa=As)),N}function Rr(N,R,U){return N.a==0&&(N.a=R,N.sc=U,N.cb=0),0}function Pn(N,R,U){return 3<=U&&N[R+0]==157&&N[R+1]==1&&N[R+2]==42}function Fn(N,R){if(N==null)return 0;if(N.a=0,N.sc="OK",R==null)return Rr(N,2,"null VP8Io passed to VP8GetHeaders()");var U=R.data,Z=R.w,ue=R.ha;if(4>ue)return Rr(N,7,"Truncated header.");var pe=U[Z+0]|U[Z+1]<<8|U[Z+2]<<16,ye=N.Od;if(ye.Rb=!(1&pe),ye.td=pe>>1&7,ye.yd=pe>>4&1,ye.ub=pe>>5,3<ye.td)return Rr(N,3,"Incorrect keyframe parameters.");if(!ye.yd)return Rr(N,4,"Frame not displayable.");Z+=3,ue-=3;var _e=N.Kc;if(ye.Rb){if(7>ue)return Rr(N,7,"cannot parse picture header");if(!Pn(U,Z,ue))return Rr(N,3,"Bad code word");_e.c=16383&(U[Z+4]<<8|U[Z+3]),_e.Td=U[Z+4]>>6,_e.i=16383&(U[Z+6]<<8|U[Z+5]),_e.Ud=U[Z+6]>>6,Z+=7,ue-=7,N.za=_e.c+15>>4,N.Ub=_e.i+15>>4,R.width=_e.c,R.height=_e.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,i((pe=N.Pa).jb,0,255,pe.jb.length),e((pe=N.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,i(pe.Zb,0,0,pe.Zb.length),i(pe.Lb,0,0,pe.Lb)}if(ye.ub>ue)return Rr(N,7,"bad partition length");me(pe=N.m,U,Z,ye.ub),Z+=ye.ub,ue-=ye.ub,ye.Rb&&(_e.Ld=Te(pe),_e.Kd=Te(pe)),_e=N.Qa;var Ne,Fe=N.Pa;if(e(pe!=null),e(_e!=null),_e.Cb=Te(pe),_e.Cb){if(_e.Bb=Te(pe),Te(pe)){for(_e.Fb=Te(pe),Ne=0;4>Ne;++Ne)_e.Zb[Ne]=Te(pe)?be(pe,7):0;for(Ne=0;4>Ne;++Ne)_e.Lb[Ne]=Te(pe)?be(pe,6):0}if(_e.Bb)for(Ne=0;3>Ne;++Ne)Fe.jb[Ne]=Te(pe)?he(pe,8):255}else _e.Bb=0;if(pe.Ka)return Rr(N,3,"cannot parse segment header");if((_e=N.ed).zd=Te(pe),_e.Tb=he(pe,6),_e.wb=he(pe,3),_e.Pc=Te(pe),_e.Pc&&Te(pe)){for(Fe=0;4>Fe;++Fe)Te(pe)&&(_e.vd[Fe]=be(pe,6));for(Fe=0;4>Fe;++Fe)Te(pe)&&(_e.od[Fe]=be(pe,6))}if(N.L=_e.Tb==0?0:_e.zd?1:2,pe.Ka)return Rr(N,3,"cannot parse filter header");var Xe=ue;if(ue=Ne=Z,Z=Ne+Xe,_e=Xe,N.Xb=(1<<he(N.m,2))-1,Xe<3*(Fe=N.Xb))U=7;else{for(Ne+=3*Fe,_e-=3*Fe,Xe=0;Xe<Fe;++Xe){var gt=U[ue+0]|U[ue+1]<<8|U[ue+2]<<16;gt>_e&&(gt=_e),me(N.Jc[+Xe],U,Ne,gt),Ne+=gt,_e-=gt,ue+=3}me(N.Jc[+Fe],U,Ne,_e),U=Ne<Z?0:5}if(U!=0)return Rr(N,U,"cannot parse partitions");for(U=he(Ne=N.m,7),ue=Te(Ne)?be(Ne,4):0,Z=Te(Ne)?be(Ne,4):0,_e=Te(Ne)?be(Ne,4):0,Fe=Te(Ne)?be(Ne,4):0,Ne=Te(Ne)?be(Ne,4):0,Xe=N.Qa,gt=0;4>gt;++gt){if(Xe.Cb){var dt=Xe.Zb[gt];Xe.Fb||(dt+=U)}else{if(0<gt){N.pb[gt]=N.pb[0];continue}dt=U}var nt=N.pb[gt];nt.Sc[0]=Bu[Fi(dt+ue,127)],nt.Sc[1]=Mu[Fi(dt+0,127)],nt.Eb[0]=2*Bu[Fi(dt+Z,127)],nt.Eb[1]=101581*Mu[Fi(dt+_e,127)]>>16,8>nt.Eb[1]&&(nt.Eb[1]=8),nt.Qc[0]=Bu[Fi(dt+Fe,117)],nt.Qc[1]=Mu[Fi(dt+Ne,127)],nt.lc=dt+Ne}if(!ye.Rb)return Rr(N,4,"Not a key frame.");for(Te(pe),ye=N.Pa,U=0;4>U;++U){for(ue=0;8>ue;++ue)for(Z=0;3>Z;++Z)for(_e=0;11>_e;++_e)Fe=Me(pe,gc[U][ue][Z][_e])?he(pe,8):Bo[U][ue][Z][_e],ye.Wc[U][ue].Yb[Z][_e]=Fe;for(ue=0;17>ue;++ue)ye.Xc[U][ue]=ye.Wc[U][Xf[ue]]}return N.kc=Te(pe),N.kc&&(N.Bd=he(pe,8)),N.cb=1}function As(N,R,U,Z,ue,pe,ye){var _e=R[ue].Yb[U];for(U=0;16>ue;++ue){if(!Me(N,_e[U+0]))return ue;for(;!Me(N,_e[U+1]);)if(_e=R[++ue].Yb[0],U=0,ue==16)return 16;var Ne=R[ue+1].Yb;if(Me(N,_e[U+2])){var Fe=N,Xe=0;if(Me(Fe,(dt=_e)[(gt=U)+3]))if(Me(Fe,dt[gt+6])){for(_e=0,gt=2*(Xe=Me(Fe,dt[gt+8]))+(dt=Me(Fe,dt[gt+9+Xe])),Xe=0,dt=Mi[gt];dt[_e];++_e)Xe+=Xe+Me(Fe,dt[_e]);Xe+=3+(8<<gt)}else Me(Fe,dt[gt+7])?(Xe=7+2*Me(Fe,165),Xe+=Me(Fe,145)):Xe=5+Me(Fe,159);else Xe=Me(Fe,dt[gt+4])?3+Me(Fe,dt[gt+5]):2;_e=Ne[2]}else Xe=1,_e=Ne[1];Ne=ye+Bn[ue],0>(Fe=N).b&&Ue(Fe);var gt,dt=Fe.b,nt=(gt=Fe.Ca>>1)-(Fe.I>>dt)>>31;--Fe.b,Fe.Ca+=nt,Fe.Ca|=1,Fe.I-=(gt+1&nt)<<dt,pe[Ne]=((Xe^nt)-nt)*Z[(0<ue)+0]}return 16}function Oo(N){var R=N.rb[N.sb-1];R.la=0,R.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function si(N,R){if(N==null)return 0;if(R==null)return Rr(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!Fn(N,R))return 0;if(e(N.cb),R.ac==null||R.ac(R)){R.ob&&(N.L=0);var U=ul[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=R.v-U>>4,N.zb=R.j-U>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=R.o+15+U>>4,N.Hb=R.va+15+U>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var Z=N.ed;for(U=0;4>U;++U){var ue;if(N.Qa.Cb){var pe=N.Qa.Lb[U];N.Qa.Fb||(pe+=Z.Tb)}else pe=Z.Tb;for(ue=0;1>=ue;++ue){var ye=N.gd[U][ue],_e=pe;if(Z.Pc&&(_e+=Z.vd[0],ue&&(_e+=Z.od[0])),0<(_e=0>_e?0:63<_e?63:_e)){var Ne=_e;0<Z.wb&&(Ne=4<Z.wb?Ne>>2:Ne>>1)>9-Z.wb&&(Ne=9-Z.wb),1>Ne&&(Ne=1),ye.dd=Ne,ye.tc=2*_e+Ne,ye.ld=40<=_e?2:15<=_e?1:0}else ye.tc=0;ye.La=ue}}}U=0}else Rr(N,6,"Frame setup failed"),U=N.a;if(U=U==0){if(U){N.$c=0,0<N.Aa||(N.Ic=Zf);e:{U=N.Ic,Z=4*(Ne=N.za);var Fe=32*Ne,Xe=Ne+1,gt=0<N.L?Ne*(0<N.Aa?2:1):0,dt=(N.Aa==2?2:1)*Ne;if((ye=Z+832+(ue=3*(16*U+ul[N.L])/2*Fe)+(pe=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=ye)U=0;else{if(ye>N.Vb){if(N.Vb=0,N.Ec=s(ye),N.Fc=0,N.Ec==null){U=Rr(N,1,"no memory during frame initialization.");break e}N.Vb=ye}ye=N.Ec,_e=N.Fc,N.Ac=ye,N.Bc=_e,_e+=Z,N.Gd=c(Fe,pr),N.Hd=0,N.rb=c(Xe+1,Et),N.sb=1,N.wa=gt?c(gt,te):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=Ne),e(!0),N.oc=ye,N.pc=_e,_e+=832,N.ya=c(dt,tn),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=Ne),N.R=16*Ne,N.B=8*Ne,Ne=(Fe=ul[N.L])*N.R,Fe=Fe/2*N.B,N.sa=ye,N.ta=_e+Ne,N.qa=N.sa,N.ra=N.ta+16*U*N.R+Fe,N.Ha=N.qa,N.Ia=N.ra+8*U*N.B+Fe,N.$c=0,_e+=ue,N.mb=pe?ye:null,N.nb=pe?_e:null,e(_e+pe<=N.Fc+N.Vb),Oo(N),i(N.Ac,N.Bc,0,Z),U=1}}if(U){if(R.ka=0,R.y=N.sa,R.O=N.ta,R.f=N.qa,R.N=N.ra,R.ea=N.Ha,R.Vd=N.Ia,R.fa=N.R,R.Rc=N.B,R.F=null,R.J=0,!nl){for(U=-255;255>=U;++U)Wi[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)qs[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)Fl[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)Bl[255+U]=0>U?0:255<U?255:U;nl=1}We=qi,$e=ut,xt=Re,Pt=Nr,qt=mi,tt=Di,Ht=Us,Wr=ka,Pr=Zr,Ci=Si,Yi=Du,Ti=vt,wn=lo,xi=oc,Bi=oo,Da=$a,hs=Ms,vi=Iu,Ya[0]=yr,Ya[1]=Ll,Ya[2]=so,Ya[3]=Cs,Ya[4]=ls,Ya[5]=Kn,Ya[6]=Hr,Ya[7]=cs,Ya[8]=el,Ya[9]=Qo,ll[0]=Ro,ll[1]=Ar,ll[2]=Nn,ll[3]=Jo,ll[4]=Ei,ll[5]=Fs,ll[6]=ao,Rs[0]=Ga,Rs[1]=Sa,Rs[2]=Bs,Rs[3]=ko,Rs[4]=Oa,Rs[5]=Pi,Rs[6]=us,U=1}else U=0}U&&(U=function(nt,It){for(nt.M=0;nt.M<nt.Va;++nt.M){var _t,Ye=nt.Jc[nt.M&nt.Xb],Qe=nt.m,Tt=nt;for(_t=0;_t<Tt.za;++_t){var Ft=Qe,Rt=Tt,ur=Rt.Ac,nr=Rt.Bc+4*_t,Cr=Rt.zc,ir=Rt.ya[Rt.aa+_t];if(Rt.Qa.Bb?ir.$b=Me(Ft,Rt.Pa.jb[0])?2+Me(Ft,Rt.Pa.jb[2]):Me(Ft,Rt.Pa.jb[1]):ir.$b=0,Rt.kc&&(ir.Ad=Me(Ft,Rt.Bd)),ir.Za=!Me(Ft,145)+0,ir.Za){var Ln=ir.Ob,qn=0;for(Rt=0;4>Rt;++Rt){var dn,on=Cr[0+Rt];for(dn=0;4>dn;++dn){on=ah[ur[nr+dn]][on];for(var Zn=Ul[Me(Ft,on[0])];0<Zn;)Zn=Ul[2*Zn+Me(Ft,on[Zn])];on=-Zn,ur[nr+dn]=on}n(Ln,qn,ur,nr,4),qn+=4,Cr[0+Rt]=on}}else on=Me(Ft,156)?Me(Ft,128)?1:3:Me(Ft,163)?2:0,ir.Ob[0]=on,i(ur,nr,on,4),i(Cr,0,on,4);ir.Dd=Me(Ft,142)?Me(Ft,114)?Me(Ft,183)?1:3:2:0}if(Tt.m.Ka)return Rr(nt,7,"Premature end-of-partition0 encountered.");for(;nt.ja<nt.za;++nt.ja){if(Tt=Ye,Ft=(Qe=nt).rb[Qe.sb-1],ur=Qe.rb[Qe.sb+Qe.ja],_t=Qe.ya[Qe.aa+Qe.ja],nr=Qe.kc?_t.Ad:0)Ft.la=ur.la=0,_t.Za||(Ft.Na=ur.Na=0),_t.Hc=0,_t.Gc=0,_t.ia=0;else{var Wn,Yr;if(Ft=ur,ur=Tt,nr=Qe.Pa.Xc,Cr=Qe.ya[Qe.aa+Qe.ja],ir=Qe.pb[Cr.$b],Rt=Cr.ad,Ln=0,qn=Qe.rb[Qe.sb-1],on=dn=0,i(Rt,Ln,0,384),Cr.Za)var Jn=0,kr=nr[3];else{Zn=s(16);var Vr=Ft.Na+qn.Na;if(Vr=oa(ur,nr[1],Vr,ir.Eb,0,Zn,0),Ft.Na=qn.Na=(0<Vr)+0,1<Vr)We(Zn,0,Rt,Ln);else{var Cn=Zn[0]+3>>3;for(Zn=0;256>Zn;Zn+=16)Rt[Ln+Zn]=Cn}Jn=1,kr=nr[0]}var In=15&Ft.la,ya=15&qn.la;for(Zn=0;4>Zn;++Zn){var ua=1&ya;for(Cn=Yr=0;4>Cn;++Cn)In=In>>1|(ua=(Vr=oa(ur,kr,Vr=ua+(1&In),ir.Sc,Jn,Rt,Ln))>Jn)<<7,Yr=Yr<<2|(3<Vr?3:1<Vr?2:Rt[Ln+0]!=0),Ln+=16;In>>=4,ya=ya>>1|ua<<7,dn=(dn<<8|Yr)>>>0}for(kr=In,Jn=ya>>4,Wn=0;4>Wn;Wn+=2){for(Yr=0,In=Ft.la>>4+Wn,ya=qn.la>>4+Wn,Zn=0;2>Zn;++Zn){for(ua=1&ya,Cn=0;2>Cn;++Cn)Vr=ua+(1&In),In=In>>1|(ua=0<(Vr=oa(ur,nr[2],Vr,ir.Qc,0,Rt,Ln)))<<3,Yr=Yr<<2|(3<Vr?3:1<Vr?2:Rt[Ln+0]!=0),Ln+=16;In>>=2,ya=ya>>1|ua<<5}on|=Yr<<4*Wn,kr|=In<<4<<Wn,Jn|=(240&ya)<<Wn}Ft.la=kr,qn.la=Jn,Cr.Hc=dn,Cr.Gc=on,Cr.ia=43690&on?0:ir.ia,nr=!(dn|on)}if(0<Qe.L&&(Qe.wa[Qe.Y+Qe.ja]=Qe.gd[_t.$b][_t.Za],Qe.wa[Qe.Y+Qe.ja].La|=!nr),Tt.Ka)return Rr(nt,7,"Premature end-of-file encountered.")}if(Oo(nt),Qe=It,Tt=1,_t=(Ye=nt).D,Ft=0<Ye.L&&Ye.M>=Ye.zb&&Ye.M<=Ye.Va,Ye.Aa==0)e:{if(_t.M=Ye.M,_t.uc=Ft,Xi(Ye,_t),Tt=1,_t=(Yr=Ye.D).Nb,Ft=(on=ul[Ye.L])*Ye.R,ur=on/2*Ye.B,Zn=16*_t*Ye.R,Cn=8*_t*Ye.B,nr=Ye.sa,Cr=Ye.ta-Ft+Zn,ir=Ye.qa,Rt=Ye.ra-ur+Cn,Ln=Ye.Ha,qn=Ye.Ia-ur+Cn,ya=(In=Yr.M)==0,dn=In>=Ye.Va-1,Ye.Aa==2&&Xi(Ye,Yr),Yr.uc)for(ua=(Vr=Ye).D.M,e(Vr.D.uc),Yr=Vr.yb;Yr<Vr.Hb;++Yr){Jn=Yr,kr=ua;var Vi=(Gi=(yi=Vr).D).Nb;Wn=yi.R;var Gi=Gi.wa[Gi.Y+Jn],Ki=yi.sa,Gs=yi.ta+16*Vi*Wn+16*Jn,Vn=Gi.dd,Zi=Gi.tc;if(Zi!=0)if(e(3<=Zi),yi.L==1)0<Jn&&Da(Ki,Gs,Wn,Zi+4),Gi.La&&vi(Ki,Gs,Wn,Zi),0<kr&&Bi(Ki,Gs,Wn,Zi+4),Gi.La&&hs(Ki,Gs,Wn,Zi);else{var ho=yi.B,ql=yi.qa,pc=yi.ra+8*Vi*ho+8*Jn,Wl=yi.Ha,yi=yi.Ia+8*Vi*ho+8*Jn;Vi=Gi.ld,0<Jn&&(Wr(Ki,Gs,Wn,Zi+4,Vn,Vi),Ci(ql,pc,Wl,yi,ho,Zi+4,Vn,Vi)),Gi.La&&(Ti(Ki,Gs,Wn,Zi,Vn,Vi),xi(ql,pc,Wl,yi,ho,Zi,Vn,Vi)),0<kr&&(Ht(Ki,Gs,Wn,Zi+4,Vn,Vi),Pr(ql,pc,Wl,yi,ho,Zi+4,Vn,Vi)),Gi.La&&(Yi(Ki,Gs,Wn,Zi,Vn,Vi),wn(ql,pc,Wl,yi,ho,Zi,Vn,Vi))}}if(Ye.ia&&alert("todo:DitherRow"),Qe.put!=null){if(Yr=16*In,In=16*(In+1),ya?(Qe.y=Ye.sa,Qe.O=Ye.ta+Zn,Qe.f=Ye.qa,Qe.N=Ye.ra+Cn,Qe.ea=Ye.Ha,Qe.W=Ye.Ia+Cn):(Yr-=on,Qe.y=nr,Qe.O=Cr,Qe.f=ir,Qe.N=Rt,Qe.ea=Ln,Qe.W=qn),dn||(In-=on),In>Qe.o&&(In=Qe.o),Qe.F=null,Qe.J=null,Ye.Fa!=null&&0<Ye.Fa.length&&Yr<In&&(Qe.J=An(Ye,Qe,Yr,In-Yr),Qe.F=Ye.mb,Qe.F==null&&Qe.F.length==0)){Tt=Rr(Ye,3,"Could not decode alpha data.");break e}Yr<Qe.j&&(on=Qe.j-Yr,Yr=Qe.j,e(!(1&on)),Qe.O+=Ye.R*on,Qe.N+=Ye.B*(on>>1),Qe.W+=Ye.B*(on>>1),Qe.F!=null&&(Qe.J+=Qe.width*on)),Yr<In&&(Qe.O+=Qe.v,Qe.N+=Qe.v>>1,Qe.W+=Qe.v>>1,Qe.F!=null&&(Qe.J+=Qe.v),Qe.ka=Yr-Qe.j,Qe.U=Qe.va-Qe.v,Qe.T=In-Yr,Tt=Qe.put(Qe))}_t+1!=Ye.Ic||dn||(n(Ye.sa,Ye.ta-Ft,nr,Cr+16*Ye.R,Ft),n(Ye.qa,Ye.ra-ur,ir,Rt+8*Ye.B,ur),n(Ye.Ha,Ye.Ia-ur,Ln,qn+8*Ye.B,ur))}if(!Tt)return Rr(nt,6,"Output aborted.")}return 1}(N,R)),R.bc!=null&&R.bc(R),U&=1}return U?(N.cb=0,U):0}function _i(N,R,U,Z,ue){ue=N[R+U+32*Z]+(ue>>3),N[R+U+32*Z]=-256&ue?0>ue?0:255:ue}function kl(N,R,U,Z,ue,pe){_i(N,R,0,U,Z+ue),_i(N,R,1,U,Z+pe),_i(N,R,2,U,Z-pe),_i(N,R,3,U,Z-ue)}function kn(N){return(20091*N>>16)+N}function Sn(N,R,U,Z){var ue,pe=0,ye=s(16);for(ue=0;4>ue;++ue){var _e=N[R+0]+N[R+8],Ne=N[R+0]-N[R+8],Fe=(35468*N[R+4]>>16)-kn(N[R+12]),Xe=kn(N[R+4])+(35468*N[R+12]>>16);ye[pe+0]=_e+Xe,ye[pe+1]=Ne+Fe,ye[pe+2]=Ne-Fe,ye[pe+3]=_e-Xe,pe+=4,R++}for(ue=pe=0;4>ue;++ue)_e=(N=ye[pe+0]+4)+ye[pe+8],Ne=N-ye[pe+8],Fe=(35468*ye[pe+4]>>16)-kn(ye[pe+12]),_i(U,Z,0,0,_e+(Xe=kn(ye[pe+4])+(35468*ye[pe+12]>>16))),_i(U,Z,1,0,Ne+Fe),_i(U,Z,2,0,Ne-Fe),_i(U,Z,3,0,_e-Xe),pe++,Z+=32}function Di(N,R,U,Z){var ue=N[R+0]+4,pe=35468*N[R+4]>>16,ye=kn(N[R+4]),_e=35468*N[R+1]>>16;kl(U,Z,0,ue+ye,N=kn(N[R+1]),_e),kl(U,Z,1,ue+pe,N,_e),kl(U,Z,2,ue-pe,N,_e),kl(U,Z,3,ue-ye,N,_e)}function ut(N,R,U,Z,ue){Sn(N,R,U,Z),ue&&Sn(N,R+16,U,Z+4)}function Re(N,R,U,Z){$e(N,R+0,U,Z,1),$e(N,R+32,U,Z+128,1)}function Nr(N,R,U,Z){var ue;for(N=N[R+0]+4,ue=0;4>ue;++ue)for(R=0;4>R;++R)_i(U,Z,R,ue,N)}function mi(N,R,U,Z){N[R+0]&&Pt(N,R+0,U,Z),N[R+16]&&Pt(N,R+16,U,Z+4),N[R+32]&&Pt(N,R+32,U,Z+128),N[R+48]&&Pt(N,R+48,U,Z+128+4)}function qi(N,R,U,Z){var ue,pe=s(16);for(ue=0;4>ue;++ue){var ye=N[R+0+ue]+N[R+12+ue],_e=N[R+4+ue]+N[R+8+ue],Ne=N[R+4+ue]-N[R+8+ue],Fe=N[R+0+ue]-N[R+12+ue];pe[0+ue]=ye+_e,pe[8+ue]=ye-_e,pe[4+ue]=Fe+Ne,pe[12+ue]=Fe-Ne}for(ue=0;4>ue;++ue)ye=(N=pe[0+4*ue]+3)+pe[3+4*ue],_e=pe[1+4*ue]+pe[2+4*ue],Ne=pe[1+4*ue]-pe[2+4*ue],Fe=N-pe[3+4*ue],U[Z+0]=ye+_e>>3,U[Z+16]=Fe+Ne>>3,U[Z+32]=ye-_e>>3,U[Z+48]=Fe-Ne>>3,Z+=64}function sc(N,R,U){var Z,ue=R-32,pe=xa,ye=255-N[ue-1];for(Z=0;Z<U;++Z){var _e,Ne=pe,Fe=ye+N[R-1];for(_e=0;_e<U;++_e)N[R+_e]=Ne[Fe+N[ue+_e]];R+=32}}function Ll(N,R){sc(N,R,4)}function Sa(N,R){sc(N,R,8)}function Ar(N,R){sc(N,R,16)}function Nn(N,R){var U;for(U=0;16>U;++U)n(N,R+32*U,N,R-32,16)}function Jo(N,R){var U;for(U=16;0<U;--U)i(N,R,N[R-1],16),R+=32}function io(N,R,U){var Z;for(Z=0;16>Z;++Z)i(R,U+32*Z,N,16)}function Ro(N,R){var U,Z=16;for(U=0;16>U;++U)Z+=N[R-1+32*U]+N[R+U-32];io(Z>>5,N,R)}function Ei(N,R){var U,Z=8;for(U=0;16>U;++U)Z+=N[R-1+32*U];io(Z>>4,N,R)}function Fs(N,R){var U,Z=8;for(U=0;16>U;++U)Z+=N[R+U-32];io(Z>>4,N,R)}function ao(N,R){io(128,N,R)}function vr(N,R,U){return N+2*R+U+2>>2}function so(N,R){var U,Z=R-32;for(Z=new Uint8Array([vr(N[Z-1],N[Z+0],N[Z+1]),vr(N[Z+0],N[Z+1],N[Z+2]),vr(N[Z+1],N[Z+2],N[Z+3]),vr(N[Z+2],N[Z+3],N[Z+4])]),U=0;4>U;++U)n(N,R+32*U,Z,0,Z.length)}function Cs(N,R){var U=N[R-1],Z=N[R-1+32],ue=N[R-1+64],pe=N[R-1+96];Oe(N,R+0,16843009*vr(N[R-1-32],U,Z)),Oe(N,R+32,16843009*vr(U,Z,ue)),Oe(N,R+64,16843009*vr(Z,ue,pe)),Oe(N,R+96,16843009*vr(ue,pe,pe))}function yr(N,R){var U,Z=4;for(U=0;4>U;++U)Z+=N[R+U-32]+N[R-1+32*U];for(Z>>=3,U=0;4>U;++U)i(N,R+32*U,Z,4)}function ls(N,R){var U=N[R-1+0],Z=N[R-1+32],ue=N[R-1+64],pe=N[R-1-32],ye=N[R+0-32],_e=N[R+1-32],Ne=N[R+2-32],Fe=N[R+3-32];N[R+0+96]=vr(Z,ue,N[R-1+96]),N[R+1+96]=N[R+0+64]=vr(U,Z,ue),N[R+2+96]=N[R+1+64]=N[R+0+32]=vr(pe,U,Z),N[R+3+96]=N[R+2+64]=N[R+1+32]=N[R+0+0]=vr(ye,pe,U),N[R+3+64]=N[R+2+32]=N[R+1+0]=vr(_e,ye,pe),N[R+3+32]=N[R+2+0]=vr(Ne,_e,ye),N[R+3+0]=vr(Fe,Ne,_e)}function Hr(N,R){var U=N[R+1-32],Z=N[R+2-32],ue=N[R+3-32],pe=N[R+4-32],ye=N[R+5-32],_e=N[R+6-32],Ne=N[R+7-32];N[R+0+0]=vr(N[R+0-32],U,Z),N[R+1+0]=N[R+0+32]=vr(U,Z,ue),N[R+2+0]=N[R+1+32]=N[R+0+64]=vr(Z,ue,pe),N[R+3+0]=N[R+2+32]=N[R+1+64]=N[R+0+96]=vr(ue,pe,ye),N[R+3+32]=N[R+2+64]=N[R+1+96]=vr(pe,ye,_e),N[R+3+64]=N[R+2+96]=vr(ye,_e,Ne),N[R+3+96]=vr(_e,Ne,Ne)}function Kn(N,R){var U=N[R-1+0],Z=N[R-1+32],ue=N[R-1+64],pe=N[R-1-32],ye=N[R+0-32],_e=N[R+1-32],Ne=N[R+2-32],Fe=N[R+3-32];N[R+0+0]=N[R+1+64]=pe+ye+1>>1,N[R+1+0]=N[R+2+64]=ye+_e+1>>1,N[R+2+0]=N[R+3+64]=_e+Ne+1>>1,N[R+3+0]=Ne+Fe+1>>1,N[R+0+96]=vr(ue,Z,U),N[R+0+64]=vr(Z,U,pe),N[R+0+32]=N[R+1+96]=vr(U,pe,ye),N[R+1+32]=N[R+2+96]=vr(pe,ye,_e),N[R+2+32]=N[R+3+96]=vr(ye,_e,Ne),N[R+3+32]=vr(_e,Ne,Fe)}function cs(N,R){var U=N[R+0-32],Z=N[R+1-32],ue=N[R+2-32],pe=N[R+3-32],ye=N[R+4-32],_e=N[R+5-32],Ne=N[R+6-32],Fe=N[R+7-32];N[R+0+0]=U+Z+1>>1,N[R+1+0]=N[R+0+64]=Z+ue+1>>1,N[R+2+0]=N[R+1+64]=ue+pe+1>>1,N[R+3+0]=N[R+2+64]=pe+ye+1>>1,N[R+0+32]=vr(U,Z,ue),N[R+1+32]=N[R+0+96]=vr(Z,ue,pe),N[R+2+32]=N[R+1+96]=vr(ue,pe,ye),N[R+3+32]=N[R+2+96]=vr(pe,ye,_e),N[R+3+64]=vr(ye,_e,Ne),N[R+3+96]=vr(_e,Ne,Fe)}function Qo(N,R){var U=N[R-1+0],Z=N[R-1+32],ue=N[R-1+64],pe=N[R-1+96];N[R+0+0]=U+Z+1>>1,N[R+2+0]=N[R+0+32]=Z+ue+1>>1,N[R+2+32]=N[R+0+64]=ue+pe+1>>1,N[R+1+0]=vr(U,Z,ue),N[R+3+0]=N[R+1+32]=vr(Z,ue,pe),N[R+3+32]=N[R+1+64]=vr(ue,pe,pe),N[R+3+64]=N[R+2+64]=N[R+0+96]=N[R+1+96]=N[R+2+96]=N[R+3+96]=pe}function el(N,R){var U=N[R-1+0],Z=N[R-1+32],ue=N[R-1+64],pe=N[R-1+96],ye=N[R-1-32],_e=N[R+0-32],Ne=N[R+1-32],Fe=N[R+2-32];N[R+0+0]=N[R+2+32]=U+ye+1>>1,N[R+0+32]=N[R+2+64]=Z+U+1>>1,N[R+0+64]=N[R+2+96]=ue+Z+1>>1,N[R+0+96]=pe+ue+1>>1,N[R+3+0]=vr(_e,Ne,Fe),N[R+2+0]=vr(ye,_e,Ne),N[R+1+0]=N[R+3+32]=vr(U,ye,_e),N[R+1+32]=N[R+3+64]=vr(Z,U,ye),N[R+1+64]=N[R+3+96]=vr(ue,Z,U),N[R+1+96]=vr(pe,ue,Z)}function Bs(N,R){var U;for(U=0;8>U;++U)n(N,R+32*U,N,R-32,8)}function ko(N,R){var U;for(U=0;8>U;++U)i(N,R,N[R-1],8),R+=32}function ja(N,R,U){var Z;for(Z=0;8>Z;++Z)i(R,U+32*Z,N,8)}function Ga(N,R){var U,Z=8;for(U=0;8>U;++U)Z+=N[R+U-32]+N[R-1+32*U];ja(Z>>4,N,R)}function Pi(N,R){var U,Z=4;for(U=0;8>U;++U)Z+=N[R+U-32];ja(Z>>3,N,R)}function Oa(N,R){var U,Z=4;for(U=0;8>U;++U)Z+=N[R-1+32*U];ja(Z>>3,N,R)}function us(N,R){ja(128,N,R)}function Ra(N,R,U){var Z=N[R-U],ue=N[R+0],pe=3*(ue-Z)+O0[1020+N[R-2*U]-N[R+U]],ye=uc[112+(pe+4>>3)];N[R-U]=xa[255+Z+uc[112+(pe+3>>3)]],N[R+0]=xa[255+ue-ye]}function aa(N,R,U,Z){var ue=N[R+0],pe=N[R+U];return Ws[255+N[R-2*U]-N[R-U]]>Z||Ws[255+pe-ue]>Z}function tl(N,R,U,Z){return 4*Ws[255+N[R-U]-N[R+0]]+Ws[255+N[R-2*U]-N[R+U]]<=Z}function rl(N,R,U,Z,ue){var pe=N[R-3*U],ye=N[R-2*U],_e=N[R-U],Ne=N[R+0],Fe=N[R+U],Xe=N[R+2*U],gt=N[R+3*U];return 4*Ws[255+_e-Ne]+Ws[255+ye-Fe]>Z?0:Ws[255+N[R-4*U]-pe]<=ue&&Ws[255+pe-ye]<=ue&&Ws[255+ye-_e]<=ue&&Ws[255+gt-Xe]<=ue&&Ws[255+Xe-Fe]<=ue&&Ws[255+Fe-Ne]<=ue}function oo(N,R,U,Z){var ue=2*Z+1;for(Z=0;16>Z;++Z)tl(N,R+Z,U,ue)&&Ra(N,R+Z,U)}function $a(N,R,U,Z){var ue=2*Z+1;for(Z=0;16>Z;++Z)tl(N,R+Z*U,1,ue)&&Ra(N,R+Z*U,1)}function Ms(N,R,U,Z){var ue;for(ue=3;0<ue;--ue)oo(N,R+=4*U,U,Z)}function Iu(N,R,U,Z){var ue;for(ue=3;0<ue;--ue)$a(N,R+=4,U,Z)}function mn(N,R,U,Z,ue,pe,ye,_e){for(pe=2*pe+1;0<ue--;){if(rl(N,R,U,pe,ye))if(aa(N,R,U,_e))Ra(N,R,U);else{var Ne=N,Fe=R,Xe=U,gt=Ne[Fe-2*Xe],dt=Ne[Fe-Xe],nt=Ne[Fe+0],It=Ne[Fe+Xe],_t=Ne[Fe+2*Xe],Ye=27*(Tt=O0[1020+3*(nt-dt)+O0[1020+gt-It]])+63>>7,Qe=18*Tt+63>>7,Tt=9*Tt+63>>7;Ne[Fe-3*Xe]=xa[255+Ne[Fe-3*Xe]+Tt],Ne[Fe-2*Xe]=xa[255+gt+Qe],Ne[Fe-Xe]=xa[255+dt+Ye],Ne[Fe+0]=xa[255+nt-Ye],Ne[Fe+Xe]=xa[255+It-Qe],Ne[Fe+2*Xe]=xa[255+_t-Tt]}R+=Z}}function ds(N,R,U,Z,ue,pe,ye,_e){for(pe=2*pe+1;0<ue--;){if(rl(N,R,U,pe,ye))if(aa(N,R,U,_e))Ra(N,R,U);else{var Ne=N,Fe=R,Xe=U,gt=Ne[Fe-Xe],dt=Ne[Fe+0],nt=Ne[Fe+Xe],It=uc[112+((_t=3*(dt-gt))+4>>3)],_t=uc[112+(_t+3>>3)],Ye=It+1>>1;Ne[Fe-2*Xe]=xa[255+Ne[Fe-2*Xe]+Ye],Ne[Fe-Xe]=xa[255+gt+_t],Ne[Fe+0]=xa[255+dt-It],Ne[Fe+Xe]=xa[255+nt-Ye]}R+=Z}}function Us(N,R,U,Z,ue,pe){mn(N,R,U,1,16,Z,ue,pe)}function ka(N,R,U,Z,ue,pe){mn(N,R,1,U,16,Z,ue,pe)}function Du(N,R,U,Z,ue,pe){var ye;for(ye=3;0<ye;--ye)ds(N,R+=4*U,U,1,16,Z,ue,pe)}function vt(N,R,U,Z,ue,pe){var ye;for(ye=3;0<ye;--ye)ds(N,R+=4,1,U,16,Z,ue,pe)}function Zr(N,R,U,Z,ue,pe,ye,_e){mn(N,R,ue,1,8,pe,ye,_e),mn(U,Z,ue,1,8,pe,ye,_e)}function Si(N,R,U,Z,ue,pe,ye,_e){mn(N,R,1,ue,8,pe,ye,_e),mn(U,Z,1,ue,8,pe,ye,_e)}function lo(N,R,U,Z,ue,pe,ye,_e){ds(N,R+4*ue,ue,1,8,pe,ye,_e),ds(U,Z+4*ue,ue,1,8,pe,ye,_e)}function oc(N,R,U,Z,ue,pe,ye,_e){ds(N,R+4,1,ue,8,pe,ye,_e),ds(U,Z+4,1,ue,8,pe,ye,_e)}function Il(){this.ba=new Ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lo(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new H}function Ni(){this.xb=this.a=0,this.l=new xr,this.ca=new Ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lo,this.ab=0,this.gc=c(4,cc),this.Oc=0}function Io(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Un(N,R,U,Z,ue,pe,ye){for(N=N==null?0:N[R+0],R=0;R<ye;++R)ue[pe+R]=N+U[Z+R]&255,N=ue[pe+R]}function co(N,R,U,Z,ue,pe,ye){var _e;if(N==null)Un(null,null,U,Z,ue,pe,ye);else for(_e=0;_e<ye;++_e)ue[pe+_e]=N[R+_e]+U[Z+_e]&255}function La(N,R,U,Z,ue,pe,ye){if(N==null)Un(null,null,U,Z,ue,pe,ye);else{var _e,Ne=N[R+0],Fe=Ne,Xe=Ne;for(_e=0;_e<ye;++_e)Fe=Xe+(Ne=N[R+_e])-Fe,Xe=U[Z+_e]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=Ne,ue[pe+_e]=Xe}}function An(N,R,U,Z){var ue=R.width,pe=R.o;if(e(N!=null&&R!=null),0>U||0>=Z||U+Z>pe)return null;if(!N.Cc){if(N.ga==null){var ye;if(N.ga=new Io,(ye=N.ga==null)||(ye=R.width*R.o,e(N.Gb.length==0),N.Gb=s(ye),N.Uc=0,N.Gb==null?ye=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,ye=1),ye=!ye),!ye){ye=N.ga;var _e=N.Fa,Ne=N.P,Fe=N.qc,Xe=N.mb,gt=N.nb,dt=Ne+1,nt=Fe-1,It=ye.l;if(e(_e!=null&&Xe!=null&&R!=null),Mo[0]=null,Mo[1]=Un,Mo[2]=co,Mo[3]=La,ye.ca=Xe,ye.tb=gt,ye.c=R.width,ye.i=R.height,e(0<ye.c&&0<ye.i),1>=Fe)R=0;else if(ye.$a=_e[Ne+0]>>0&3,ye.Z=_e[Ne+0]>>2&3,ye.Lc=_e[Ne+0]>>4&3,Ne=_e[Ne+0]>>6&3,0>ye.$a||1<ye.$a||4<=ye.Z||1<ye.Lc||Ne)R=0;else if(It.put=Ii,It.ac=rn,It.bc=Hi,It.ma=ye,It.width=R.width,It.height=R.height,It.Da=R.Da,It.v=R.v,It.va=R.va,It.j=R.j,It.o=R.o,ye.$a)e:{e(ye.$a==1),R=wt();t:for(;;){if(R==null){R=0;break e}if(e(ye!=null),ye.mc=R,R.c=ye.c,R.i=ye.i,R.l=ye.l,R.l.ma=ye,R.l.width=ye.c,R.l.height=ye.i,R.a=0,Pe(R.m,_e,dt,nt),!Je(ye.c,ye.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&Ce(R.s)?(ye.ic=1,_e=R.c*R.i,R.Ta=null,R.Ua=0,R.V=s(_e),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(ye.ic=0,R=ht(R,ye.c)),!R))break t;R=1;break e}ye.mc=null,R=0}else R=nt>=ye.c*ye.i;ye=!R}if(ye)return null;N.ga.Lc!=1?N.Ga=0:Z=pe-U}e(N.ga!=null),e(U+Z<=pe);e:{if(R=(_e=N.ga).c,pe=_e.l.o,_e.$a==0){if(dt=N.rc,nt=N.Vc,It=N.Fa,Ne=N.P+1+U*R,Fe=N.mb,Xe=N.nb+U*R,e(Ne<=N.P+N.qc),_e.Z!=0)for(e(Mo[_e.Z]!=null),ye=0;ye<Z;++ye)Mo[_e.Z](dt,nt,It,Ne,Fe,Xe,R),dt=Fe,nt=Xe,Xe+=R,Ne+=R;else for(ye=0;ye<Z;++ye)n(Fe,Xe,It,Ne,R),dt=Fe,nt=Xe,Xe+=R,Ne+=R;N.rc=dt,N.Vc=nt}else{if(e(_e.mc!=null),R=U+Z,e((ye=_e.mc)!=null),e(R<=ye.i),ye.C>=R)R=1;else if(_e.ic||at(),_e.ic){_e=ye.V,dt=ye.Ba,nt=ye.c;var _t=ye.i,Ye=(It=1,Ne=ye.$/nt,Fe=ye.$%nt,Xe=ye.m,gt=ye.s,ye.$),Qe=nt*_t,Tt=nt*R,Ft=gt.wc,Rt=Ye<Tt?On(gt,Fe,Ne):null;e(Ye<=Qe),e(R<=_t),e(Ce(gt));t:for(;;){for(;!Xe.h&&Ye<Tt;){if(Fe&Ft||(Rt=On(gt,Fe,Ne)),e(Rt!=null),le(Xe),256>(_t=jn(Rt.G[0],Rt.H[0],Xe)))_e[dt+Ye]=_t,++Ye,++Fe>=nt&&(Fe=0,++Ne<=R&&!(Ne%16)&&ke(ye,Ne));else{if(!(280>_t)){It=0;break t}_t=gn(_t-256,Xe);var ur,nr=jn(Rt.G[4],Rt.H[4],Xe);if(le(Xe),!(Ye>=(nr=cn(nt,nr=gn(nr,Xe)))&&Qe-Ye>=_t)){It=0;break t}for(ur=0;ur<_t;++ur)_e[dt+Ye+ur]=_e[dt+Ye+ur-nr];for(Ye+=_t,Fe+=_t;Fe>=nt;)Fe-=nt,++Ne<=R&&!(Ne%16)&&ke(ye,Ne);Ye<Tt&&Fe&Ft&&(Rt=On(gt,Fe,Ne))}e(Xe.h==J(Xe))}ke(ye,Ne>R?R:Ne);break t}!It||Xe.h&&Ye<Qe?(It=0,ye.a=Xe.h?5:3):ye.$=Ye,R=It}else R=Be(ye,ye.V,ye.Ba,ye.c,ye.i,R,mt);if(!R){Z=0;break e}}U+Z>=pe&&(N.Cc=1),Z=1}if(!Z)return null;if(N.Cc&&((Z=N.ga)!=null&&(Z.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+U*ue}function D(N,R,U,Z,ue,pe){for(;0<ue--;){var ye,_e=N,Ne=R+(U?1:0),Fe=N,Xe=R+(U?0:3);for(ye=0;ye<Z;++ye){var gt=Fe[Xe+4*ye];gt!=255&&(gt*=32897,_e[Ne+4*ye+0]=_e[Ne+4*ye+0]*gt>>23,_e[Ne+4*ye+1]=_e[Ne+4*ye+1]*gt>>23,_e[Ne+4*ye+2]=_e[Ne+4*ye+2]*gt>>23)}R+=pe}}function de(N,R,U,Z,ue){for(;0<Z--;){var pe;for(pe=0;pe<U;++pe){var ye=N[R+2*pe+0],_e=15&(Fe=N[R+2*pe+1]),Ne=4369*_e,Fe=(240&Fe|Fe>>4)*Ne>>16;N[R+2*pe+0]=(240&ye|ye>>4)*Ne>>16&240|(15&ye|ye<<4)*Ne>>16>>4&15,N[R+2*pe+1]=240&Fe|_e}R+=ue}}function Ie(N,R,U,Z,ue,pe,ye,_e){var Ne,Fe,Xe=255;for(Fe=0;Fe<ue;++Fe){for(Ne=0;Ne<Z;++Ne){var gt=N[R+Ne];pe[ye+4*Ne]=gt,Xe&=gt}R+=U,ye+=_e}return Xe!=255}function Ge(N,R,U,Z,ue){var pe;for(pe=0;pe<ue;++pe)U[Z+pe]=N[R+pe]>>8}function at(){Xa=D,pn=de,xn=Ie,li=Ge}function At(N,R,U){V[N]=function(Z,ue,pe,ye,_e,Ne,Fe,Xe,gt,dt,nt,It,_t,Ye,Qe,Tt,Ft){var Rt,ur=Ft-1>>1,nr=_e[Ne+0]|Fe[Xe+0]<<16,Cr=gt[dt+0]|nt[It+0]<<16;e(Z!=null);var ir=3*nr+Cr+131074>>2;for(R(Z[ue+0],255&ir,ir>>16,_t,Ye),pe!=null&&(ir=3*Cr+nr+131074>>2,R(pe[ye+0],255&ir,ir>>16,Qe,Tt)),Rt=1;Rt<=ur;++Rt){var Ln=_e[Ne+Rt]|Fe[Xe+Rt]<<16,qn=gt[dt+Rt]|nt[It+Rt]<<16,dn=nr+Ln+Cr+qn+524296,on=dn+2*(Ln+Cr)>>3;ir=on+nr>>1,nr=(dn=dn+2*(nr+qn)>>3)+Ln>>1,R(Z[ue+2*Rt-1],255&ir,ir>>16,_t,Ye+(2*Rt-1)*U),R(Z[ue+2*Rt-0],255&nr,nr>>16,_t,Ye+(2*Rt-0)*U),pe!=null&&(ir=dn+Cr>>1,nr=on+qn>>1,R(pe[ye+2*Rt-1],255&ir,ir>>16,Qe,Tt+(2*Rt-1)*U),R(pe[ye+2*Rt+0],255&nr,nr>>16,Qe,Tt+(2*Rt+0)*U)),nr=Ln,Cr=qn}1&Ft||(ir=3*nr+Cr+131074>>2,R(Z[ue+Ft-1],255&ir,ir>>16,_t,Ye+(Ft-1)*U),pe!=null&&(ir=3*Cr+nr+131074>>2,R(pe[ye+Ft-1],255&ir,ir>>16,Qe,Tt+(Ft-1)*U)))}}function Bt(){va[Pa]=cl,va[Hc]=Uo,va[Fo]=zl,va[Pu]=L0,va[dc]=I0,va[il]=Vc,va[R0]=D0,va[Fu]=Uo,va[Ml]=L0,va[al]=I0,va[qc]=Vc}function or(N){return N&-16384?0>N?0:255:N>>dm}function br(N,R){return or((19077*N>>8)+(26149*R>>8)-14234)}function qr(N,R,U){return or((19077*N>>8)-(6419*R>>8)-(13320*U>>8)+8708)}function Mr(N,R){return or((19077*N>>8)+(33050*R>>8)-17685)}function un(N,R,U,Z,ue){Z[ue+0]=br(N,U),Z[ue+1]=qr(N,R,U),Z[ue+2]=Mr(N,R)}function oi(N,R,U,Z,ue){Z[ue+0]=Mr(N,R),Z[ue+1]=qr(N,R,U),Z[ue+2]=br(N,U)}function zn(N,R,U,Z,ue){var pe=qr(N,R,U);R=pe<<3&224|Mr(N,R)>>3,Z[ue+0]=248&br(N,U)|pe>>5,Z[ue+1]=R}function hi(N,R,U,Z,ue){var pe=240&Mr(N,R)|15;Z[ue+0]=240&br(N,U)|qr(N,R,U)>>4,Z[ue+1]=pe}function Ai(N,R,U,Z,ue){Z[ue+0]=255,un(N,R,U,Z,ue+1)}function pi(N,R,U,Z,ue){oi(N,R,U,Z,ue),Z[ue+3]=255}function Ts(N,R,U,Z,ue){un(N,R,U,Z,ue),Z[ue+3]=255}function Fi(N,R){return 0>N?0:N>R?R:N}function Ia(N,R,U){V[N]=function(Z,ue,pe,ye,_e,Ne,Fe,Xe,gt){for(var dt=Xe+(-2&gt)*U;Xe!=dt;)R(Z[ue+0],pe[ye+0],_e[Ne+0],Fe,Xe),R(Z[ue+1],pe[ye+0],_e[Ne+0],Fe,Xe+U),ue+=2,++ye,++Ne,Xe+=2*U;1&gt&&R(Z[ue+0],pe[ye+0],_e[Ne+0],Fe,Xe)}}function pa(N,R,U){return U==0?N==0?R==0?6:5:R==0?4:0:U}function zs(N,R,U,Z,ue){switch(N>>>30){case 3:$e(R,U,Z,ue,0);break;case 2:tt(R,U,Z,ue);break;case 1:Pt(R,U,Z,ue)}}function Xi(N,R){var U,Z,ue=R.M,pe=R.Nb,ye=N.oc,_e=N.pc+40,Ne=N.oc,Fe=N.pc+584,Xe=N.oc,gt=N.pc+600;for(U=0;16>U;++U)ye[_e+32*U-1]=129;for(U=0;8>U;++U)Ne[Fe+32*U-1]=129,Xe[gt+32*U-1]=129;for(0<ue?ye[_e-1-32]=Ne[Fe-1-32]=Xe[gt-1-32]=129:(i(ye,_e-32-1,127,21),i(Ne,Fe-32-1,127,9),i(Xe,gt-32-1,127,9)),Z=0;Z<N.za;++Z){var dt=R.ya[R.aa+Z];if(0<Z){for(U=-1;16>U;++U)n(ye,_e+32*U-4,ye,_e+32*U+12,4);for(U=-1;8>U;++U)n(Ne,Fe+32*U-4,Ne,Fe+32*U+4,4),n(Xe,gt+32*U-4,Xe,gt+32*U+4,4)}var nt=N.Gd,It=N.Hd+Z,_t=dt.ad,Ye=dt.Hc;if(0<ue&&(n(ye,_e-32,nt[It].y,0,16),n(Ne,Fe-32,nt[It].f,0,8),n(Xe,gt-32,nt[It].ea,0,8)),dt.Za){var Qe=ye,Tt=_e-32+16;for(0<ue&&(Z>=N.za-1?i(Qe,Tt,nt[It].y[15],4):n(Qe,Tt,nt[It+1].y,0,4)),U=0;4>U;U++)Qe[Tt+128+U]=Qe[Tt+256+U]=Qe[Tt+384+U]=Qe[Tt+0+U];for(U=0;16>U;++U,Ye<<=2)Qe=ye,Tt=_e+mc[U],Ya[dt.Ob[U]](Qe,Tt),zs(Ye,_t,16*+U,Qe,Tt)}else if(Qe=pa(Z,ue,dt.Ob[0]),ll[Qe](ye,_e),Ye!=0)for(U=0;16>U;++U,Ye<<=2)zs(Ye,_t,16*+U,ye,_e+mc[U]);for(U=dt.Gc,Qe=pa(Z,ue,dt.Dd),Rs[Qe](Ne,Fe),Rs[Qe](Xe,gt),Ye=_t,Qe=Ne,Tt=Fe,255&(dt=U>>0)&&(170&dt?xt(Ye,256,Qe,Tt):qt(Ye,256,Qe,Tt)),dt=Xe,Ye=gt,255&(U>>=8)&&(170&U?xt(_t,320,dt,Ye):qt(_t,320,dt,Ye)),ue<N.Ub-1&&(n(nt[It].y,0,ye,_e+480,16),n(nt[It].f,0,Ne,Fe+224,8),n(nt[It].ea,0,Xe,gt+224,8)),U=8*pe*N.B,nt=N.sa,It=N.ta+16*Z+16*pe*N.R,_t=N.qa,dt=N.ra+8*Z+U,Ye=N.Ha,Qe=N.Ia+8*Z+U,U=0;16>U;++U)n(nt,It+U*N.R,ye,_e+32*U,16);for(U=0;8>U;++U)n(_t,dt+U*N.B,Ne,Fe+32*U,8),n(Ye,Qe+U*N.B,Xe,gt+32*U,8)}}function Dl(N,R,U,Z,ue,pe,ye,_e,Ne){var Fe=[0],Xe=[0],gt=0,dt=Ne!=null?Ne.kd:0,nt=Ne!=null?Ne:new lc;if(N==null||12>U)return 7;nt.data=N,nt.w=R,nt.ha=U,R=[R],U=[U],nt.gb=[nt.gb];e:{var It=R,_t=U,Ye=nt.gb;if(e(N!=null),e(_t!=null),e(Ye!=null),Ye[0]=0,12<=_t[0]&&!r(N,It[0],"RIFF")){if(r(N,It[0]+8,"WEBP")){Ye=3;break e}var Qe=ct(N,It[0]+4);if(12>Qe||4294967286<Qe){Ye=3;break e}if(dt&&Qe>_t[0]-8){Ye=7;break e}Ye[0]=Qe,It[0]+=12,_t[0]-=12}Ye=0}if(Ye!=0)return Ye;for(Qe=0<nt.gb[0],U=U[0];;){e:{var Tt=N;_t=R,Ye=U;var Ft=Fe,Rt=Xe,ur=It=[0];if((ir=gt=[gt])[0]=0,8>Ye[0])Ye=7;else{if(!r(Tt,_t[0],"VP8X")){if(ct(Tt,_t[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var nr=ct(Tt,_t[0]+8),Cr=1+st(Tt,_t[0]+12);if(2147483648<=Cr*(Tt=1+st(Tt,_t[0]+15))){Ye=3;break e}ur!=null&&(ur[0]=nr),Ft!=null&&(Ft[0]=Cr),Rt!=null&&(Rt[0]=Tt),_t[0]+=18,Ye[0]-=18,ir[0]=1}Ye=0}}if(gt=gt[0],It=It[0],Ye!=0)return Ye;if(_t=!!(2&It),!Qe&&gt)return 3;if(pe!=null&&(pe[0]=!!(16&It)),ye!=null&&(ye[0]=_t),_e!=null&&(_e[0]=0),ye=Fe[0],It=Xe[0],gt&&_t&&Ne==null){Ye=0;break}if(4>U){Ye=7;break}if(Qe&&gt||!Qe&&!gt&&!r(N,R[0],"ALPH")){U=[U],nt.na=[nt.na],nt.P=[nt.P],nt.Sa=[nt.Sa];e:{nr=N,Ye=R,Qe=U;var ir=nt.gb;Ft=nt.na,Rt=nt.P,ur=nt.Sa,Cr=22,e(nr!=null),e(Qe!=null),Tt=Ye[0];var Ln=Qe[0];for(e(Ft!=null),e(ur!=null),Ft[0]=null,Rt[0]=null,ur[0]=0;;){if(Ye[0]=Tt,Qe[0]=Ln,8>Ln){Ye=7;break e}var qn=ct(nr,Tt+4);if(4294967286<qn){Ye=3;break e}var dn=8+qn+1&-2;if(Cr+=dn,0<ir&&Cr>ir){Ye=3;break e}if(!r(nr,Tt,"VP8 ")||!r(nr,Tt,"VP8L")){Ye=0;break e}if(Ln[0]<dn){Ye=7;break e}r(nr,Tt,"ALPH")||(Ft[0]=nr,Rt[0]=Tt+8,ur[0]=qn),Tt+=dn,Ln-=dn}}if(U=U[0],nt.na=nt.na[0],nt.P=nt.P[0],nt.Sa=nt.Sa[0],Ye!=0)break}U=[U],nt.Ja=[nt.Ja],nt.xa=[nt.xa];e:if(ir=N,Ye=R,Qe=U,Ft=nt.gb[0],Rt=nt.Ja,ur=nt.xa,nr=Ye[0],Tt=!r(ir,nr,"VP8 "),Cr=!r(ir,nr,"VP8L"),e(ir!=null),e(Qe!=null),e(Rt!=null),e(ur!=null),8>Qe[0])Ye=7;else{if(Tt||Cr){if(ir=ct(ir,nr+4),12<=Ft&&ir>Ft-12){Ye=3;break e}if(dt&&ir>Qe[0]-8){Ye=7;break e}Rt[0]=ir,Ye[0]+=8,Qe[0]-=8,ur[0]=Cr}else ur[0]=5<=Qe[0]&&ir[nr+0]==47&&!(ir[nr+4]>>5),Rt[0]=Qe[0];Ye=0}if(U=U[0],nt.Ja=nt.Ja[0],nt.xa=nt.xa[0],R=R[0],Ye!=0)break;if(4294967286<nt.Ja)return 3;if(_e==null||_t||(_e[0]=nt.xa?2:1),ye=[ye],It=[It],nt.xa){if(5>U){Ye=7;break}_e=ye,dt=It,_t=pe,N==null||5>U?N=0:5<=U&&N[R+0]==47&&!(N[R+4]>>5)?(Qe=[0],ir=[0],Ft=[0],Pe(Rt=new M,N,R,U),cr(Rt,Qe,ir,Ft)?(_e!=null&&(_e[0]=Qe[0]),dt!=null&&(dt[0]=ir[0]),_t!=null&&(_t[0]=Ft[0]),N=1):N=0):N=0}else{if(10>U){Ye=7;break}_e=It,N==null||10>U||!Pn(N,R+3,U-3)?N=0:(dt=N[R+0]|N[R+1]<<8|N[R+2]<<16,_t=16383&(N[R+7]<<8|N[R+6]),N=16383&(N[R+9]<<8|N[R+8]),1&dt||3<(dt>>1&7)||!(dt>>4&1)||dt>>5>=nt.Ja||!_t||!N?N=0:(ye&&(ye[0]=_t),_e&&(_e[0]=N),N=1))}if(!N||(ye=ye[0],It=It[0],gt&&(Fe[0]!=ye||Xe[0]!=It)))return 3;Ne!=null&&(Ne[0]=nt,Ne.offset=R-Ne.w,e(4294967286>R-Ne.w),e(Ne.offset==Ne.ha-U));break}return Ye==0||Ye==7&&gt&&Ne==null?(pe!=null&&(pe[0]|=nt.na!=null&&0<nt.na.length),Z!=null&&(Z[0]=ye),ue!=null&&(ue[0]=It),0):Ye}function Hs(N,R,U){var Z=R.width,ue=R.height,pe=0,ye=0,_e=Z,Ne=ue;if(R.Da=N!=null&&0<N.Da,R.Da&&(_e=N.cd,Ne=N.bd,pe=N.v,ye=N.j,11>U||(pe&=-2,ye&=-2),0>pe||0>ye||0>=_e||0>=Ne||pe+_e>Z||ye+Ne>ue))return 0;if(R.v=pe,R.j=ye,R.va=pe+_e,R.o=ye+Ne,R.U=_e,R.T=Ne,R.da=N!=null&&0<N.da,R.da){if(!Ve(_e,Ne,U=[N.ib],pe=[N.hb]))return 0;R.ib=U[0],R.hb=pe[0]}return R.ob=N!=null&&N.ob,R.Kb=N==null||!N.Sd,R.da&&(R.ob=R.ib<3*Z/4&&R.hb<3*ue/4,R.Kb=0),1}function Pl(N){if(N==null)return 2;if(11>N.S){var R=N.f.RGBA;R.fb+=(N.height-1)*R.A,R.A=-R.A}else R=N.f.kb,N=N.height,R.O+=(N-1)*R.fa,R.fa=-R.fa,R.N+=(N-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(N-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(N-1)*R.lb,R.lb=-R.lb);return 0}function Do(N,R,U,Z){if(Z==null||0>=N||0>=R)return 2;if(U!=null){if(U.Da){var ue=U.cd,pe=U.bd,ye=-2&U.v,_e=-2&U.j;if(0>ye||0>_e||0>=ue||0>=pe||ye+ue>N||_e+pe>R)return 2;N=ue,R=pe}if(U.da){if(!Ve(N,R,ue=[U.ib],pe=[U.hb]))return 2;N=ue[0],R=pe[0]}}Z.width=N,Z.height=R;e:{var Ne=Z.width,Fe=Z.height;if(N=Z.S,0>=Ne||0>=Fe||!(N>=Pa&&13>N))N=2;else{if(0>=Z.Rd&&Z.sd==null){ye=pe=ue=R=0;var Xe=(_e=Ne*Jf[N])*Fe;if(11>N||(pe=(Fe+1)/2*(R=(Ne+1)/2),N==12&&(ye=(ue=Ne)*Fe)),(Fe=s(Xe+2*pe+ye))==null){N=1;break e}Z.sd=Fe,11>N?((Ne=Z.f.RGBA).eb=Fe,Ne.fb=0,Ne.A=_e,Ne.size=Xe):((Ne=Z.f.kb).y=Fe,Ne.O=0,Ne.fa=_e,Ne.Fd=Xe,Ne.f=Fe,Ne.N=0+Xe,Ne.Ab=R,Ne.Cd=pe,Ne.ea=Fe,Ne.W=0+Xe+pe,Ne.Db=R,Ne.Ed=pe,N==12&&(Ne.F=Fe,Ne.J=0+Xe+2*pe),Ne.Tc=ye,Ne.lb=ue)}if(R=1,ue=Z.S,pe=Z.width,ye=Z.height,ue>=Pa&&13>ue)if(11>ue)N=Z.f.RGBA,R&=(_e=Math.abs(N.A))*(ye-1)+pe<=N.size,R&=_e>=pe*Jf[ue],R&=N.eb!=null;else{N=Z.f.kb,_e=(pe+1)/2,Xe=(ye+1)/2,Ne=Math.abs(N.fa),Fe=Math.abs(N.Ab);var gt=Math.abs(N.Db),dt=Math.abs(N.lb),nt=dt*(ye-1)+pe;R&=Ne*(ye-1)+pe<=N.Fd,R&=Fe*(Xe-1)+_e<=N.Cd,R=(R&=gt*(Xe-1)+_e<=N.Ed)&Ne>=pe&Fe>=_e&gt>=_e,R&=N.y!=null,R&=N.f!=null,R&=N.ea!=null,ue==12&&(R&=dt>=pe,R&=nt<=N.Tc,R&=N.F!=null)}else R=0;N=R?0:2}}return N!=0||U!=null&&U.fd&&(N=Pl(Z)),N}var Hn=64,Po=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uo=24,js=32,nn=8,sa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(N){return N},V.Predictor2=function(N,R,U){return R[U+0]},V.Predictor3=function(N,R,U){return R[U+1]},V.Predictor4=function(N,R,U){return R[U-1]},V.Predictor5=function(N,R,U){return Dt(Dt(N,R[U+1]),R[U+0])},V.Predictor6=function(N,R,U){return Dt(N,R[U-1])},V.Predictor7=function(N,R,U){return Dt(N,R[U+0])},V.Predictor8=function(N,R,U){return Dt(R[U-1],R[U+0])},V.Predictor9=function(N,R,U){return Dt(R[U+0],R[U+1])},V.Predictor10=function(N,R,U){return Dt(Dt(N,R[U-1]),Dt(R[U+0],R[U+1]))},V.Predictor11=function(N,R,U){var Z=R[U+0];return 0>=hr(Z>>24&255,N>>24&255,(R=R[U-1])>>24&255)+hr(Z>>16&255,N>>16&255,R>>16&255)+hr(Z>>8&255,N>>8&255,R>>8&255)+hr(255&Z,255&N,255&R)?Z:N},V.Predictor12=function(N,R,U){var Z=R[U+0];return(Mt((N>>24&255)+(Z>>24&255)-((R=R[U-1])>>24&255))<<24|Mt((N>>16&255)+(Z>>16&255)-(R>>16&255))<<16|Mt((N>>8&255)+(Z>>8&255)-(R>>8&255))<<8|Mt((255&N)+(255&Z)-(255&R)))>>>0},V.Predictor13=function(N,R,U){var Z=R[U-1];return(Xt((N=Dt(N,R[U+0]))>>24&255,Z>>24&255)<<24|Xt(N>>16&255,Z>>16&255)<<16|Xt(N>>8&255,Z>>8&255)<<8|Xt(N>>0&255,Z>>0&255))>>>0};var ce=V.PredictorAdd0;V.PredictorAdd1=ar,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var l=V.PredictorAdd2;Br("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Br("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var h,p=V.ColorIndexInverseTransform,y=V.MapARGB,w=V.VP8LColorIndexInverseTransformAlpha,S=V.MapAlpha,T=V.VP8LPredictorsAdd=[];T.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var k,B,Q,oe,xe,De,We,$e,tt,xt,Pt,qt,Ht,Wr,Pr,Ci,Yi,Ti,wn,xi,Bi,Da,hs,vi,Xa,pn,xn,li,Wi=s(511),qs=s(2041),Fl=s(225),Bl=s(767),nl=0,O0=qs,uc=Fl,xa=Bl,Ws=Wi,Pa=0,Hc=1,Fo=2,Pu=3,dc=4,il=5,R0=6,Fu=7,Ml=8,al=9,qc=10,k0=[2,3,7],Vs=[3,3,11],Os=[280,256,256,256,40],hc=[0,1,1,1,0],sl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ol=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$f=8,Bu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],oa=null,Mi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ul=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ah=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ll=[],Ya=[],Rs=[],Yf=1,Wc=2,Mo=[],va=[];At("UpsampleRgbLinePair",un,3),At("UpsampleBgrLinePair",oi,3),At("UpsampleRgbaLinePair",Ts,4),At("UpsampleBgraLinePair",pi,4),At("UpsampleArgbLinePair",Ai,4),At("UpsampleRgba4444LinePair",hi,2),At("UpsampleRgb565LinePair",zn,2);var cl=V.UpsampleRgbLinePair,zl=V.UpsampleBgrLinePair,Uo=V.UpsampleRgbaLinePair,L0=V.UpsampleBgraLinePair,I0=V.UpsampleArgbLinePair,Vc=V.UpsampleRgba4444LinePair,D0=V.UpsampleRgb565LinePair,zo=16,la=1<<zo-1,Hl=-227,P0=482,dm=6,Kf=0,hm=s(256),ca=s(256),sh=s(256),Uu=s(256),zu=s(P0-Hl),oh=s(P0-Hl);Ia("YuvToRgbRow",un,3),Ia("YuvToBgrRow",oi,3),Ia("YuvToRgbaRow",Ts,4),Ia("YuvToBgraRow",pi,4),Ia("YuvToArgbRow",Ai,4),Ia("YuvToRgba4444Row",hi,2),Ia("YuvToRgb565Row",zn,2);var mc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ul=[0,2,8],fm=[8,7,6,4,4,2,2,2,1,1,1,1],Zf=1;this.WebPDecodeRGBA=function(N,R,U,Z,ue){var pe=Hc,ye=new Il,_e=new Ir;ye.ba=_e,_e.S=pe,_e.width=[_e.width],_e.height=[_e.height];var Ne=_e.width,Fe=_e.height,Xe=new Xn;if(Xe==null||N==null)var gt=2;else e(Xe!=null),gt=Dl(N,R,U,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(gt!=0?Ne=0:(Ne!=null&&(Ne[0]=Xe.width[0]),Fe!=null&&(Fe[0]=Xe.height[0]),Ne=1),Ne){_e.width=_e.width[0],_e.height=_e.height[0],Z!=null&&(Z[0]=_e.width),ue!=null&&(ue[0]=_e.height);e:{if(Z=new xr,(ue=new lc).data=N,ue.w=R,ue.ha=U,ue.kd=1,R=[0],e(ue!=null),((N=Dl(ue.data,ue.w,ue.ha,null,null,null,R,null,ue))==0||N==7)&&R[0]&&(N=4),(R=N)==0){if(e(ye!=null),Z.data=ue.data,Z.w=ue.w+ue.offset,Z.ha=ue.ha-ue.offset,Z.put=Ii,Z.ac=rn,Z.bc=Hi,Z.ma=ye,ue.xa){if((N=wt())==null){ye=1;break e}if(function(dt,nt){var It=[0],_t=[0],Ye=[0];t:for(;;){if(dt==null)return 0;if(nt==null)return dt.a=2,0;if(dt.l=nt,dt.a=0,Pe(dt.m,nt.data,nt.w,nt.ha),!cr(dt.m,It,_t,Ye)){dt.a=3;break t}if(dt.xb=Wc,nt.width=It[0],nt.height=_t[0],!Je(It[0],_t[0],1,dt,null))break t;return 1}return e(dt.a!=0),0}(N,Z)){if(Z=(R=Do(Z.width,Z.height,ye.Oa,ye.ba))==0){t:{Z=N;r:for(;;){if(Z==null){Z=0;break t}if(e(Z.s.yc!=null),e(Z.s.Ya!=null),e(0<Z.s.Wb),e((U=Z.l)!=null),e((ue=U.ma)!=null),Z.xb!=0){if(Z.ca=ue.ba,Z.tb=ue.tb,e(Z.ca!=null),!Hs(ue.Oa,U,Pu)){Z.a=2;break r}if(!ht(Z,U.width)||U.da)break r;if((U.da||Qr(Z.ca.S))&&at(),11>Z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Z.ca.f.kb.F!=null&&at()),Z.Pb&&0<Z.s.ua&&Z.s.vb.X==null&&!Nt(Z.s.vb,Z.s.Wa.Xa)){Z.a=1;break r}Z.xb=0}if(!Be(Z,Z.V,Z.Ba,Z.c,Z.i,U.o,Se))break r;ue.Dc=Z.Ma,Z=1;break t}e(Z.a!=0),Z=0}Z=!Z}Z&&(R=N.a)}else R=N.a}else{if((N=new Sr)==null){ye=1;break e}if(N.Fa=ue.na,N.P=ue.P,N.qc=ue.Sa,Fn(N,Z)){if((R=Do(Z.width,Z.height,ye.Oa,ye.ba))==0){if(N.Aa=0,U=ye.Oa,e((ue=N)!=null),U!=null){if(0<(Ne=0>(Ne=U.Md)?0:100<Ne?255:255*Ne/100)){for(Fe=Xe=0;4>Fe;++Fe)12>(gt=ue.pb[Fe]).lc&&(gt.ia=Ne*fm[0>gt.lc?0:gt.lc]>>3),Xe|=gt.ia;Xe&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=U.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}si(N,Z)||(R=N.a)}}else R=N.a}R==0&&ye.Oa!=null&&ye.Oa.fd&&(R=Pl(ye.ba))}ye=R}pe=ye!=0?null:11>pe?_e.f.RGBA.eb:_e.f.kb.y}else pe=null;return pe};var Jf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(V,z){for(var ie="",W=0;W<4;W++)ie+=String.fromCharCode(V[z++]);return ie}function m(V,z){return(V[z+0]<<0|V[z+1]<<8|V[z+2]<<16)>>>0}function v(V,z){return(V[z+0]<<0|V[z+1]<<8|V[z+2]<<16|V[z+3]<<24)>>>0}new g;var b=[0],_=[0],C=[],A=new g,j=t,L=function(V,z){var ie={},W=0,H=!1,ne=0,ve=0;if(ie.frames=[],!function(q,J,re,le){for(var Ue=0;Ue<le;Ue++)if(q[J+Ue]!=re.charCodeAt(Ue))return!0;return!1}(V,z,"RIFF",4)){for(v(V,z+=4),z+=8;z<V.length;){var me=u(V,z),he=v(V,z+=4);z+=4;var be=he+(1&he);switch(me){case"VP8 ":case"VP8L":ie.frames[W]===void 0&&(ie.frames[W]={}),(se=ie.frames[W]).src_off=H?ve:z-8,se.src_size=ne+he+8,W++,H&&(H=!1,ne=0,ve=0);break;case"VP8X":(se=ie.header={}).feature_flags=V[z];var Pe=z+4;se.canvas_width=1+m(V,Pe),Pe+=3,se.canvas_height=1+m(V,Pe),Pe+=3;break;case"ALPH":H=!0,ne=be+8,ve=z-8;break;case"ANIM":(se=ie.header).bgcolor=v(V,z),Pe=z+4,se.loop_count=(Le=V)[(M=Pe)+0]<<0|Le[M+1]<<8,Pe+=2;break;case"ANMF":var Ae,se;(se=ie.frames[W]={}).offset_x=2*m(V,z),z+=3,se.offset_y=2*m(V,z),z+=3,se.width=1+m(V,z),z+=3,se.height=1+m(V,z),z+=3,se.duration=m(V,z),z+=3,Ae=V[z++],se.dispose=1&Ae,se.blend=Ae>>1&1}me!="ANMF"&&(z+=be)}var Le,M;return ie}}(j,0);L.response=j,L.rgbaoutput=!0,L.dataurl=!1;var I=L.header?L.header:null,P=L.frames?L.frames:null;if(I){I.loop_counter=I.loop_count,b=[I.canvas_height],_=[I.canvas_width];for(var X=0;X<P.length&&P[X].blend!=0;X++);}var Y=P[0],K=A.WebPDecodeRGBA(j,Y.src_off,Y.src_size,_,b);Y.rgba=K,Y.imgwidth=_[0],Y.imgheight=b[0];for(var G=0;G<_[0]*b[0]*4;G++)C[G]=K[G];return this.width=_,this.height=b,this.data=C,this}(function(t){var e=function(){return typeof jx=="function"},r=function(b,_,C,A){var j=4,L=c;switch(A){case t.image_compression.FAST:j=1,L=s;break;case t.image_compression.MEDIUM:j=6,L=f;break;case t.image_compression.SLOW:j=9,L=g}b=n(b,_,C,L);var I=jx(b,{level:j});return t.__addimage__.arrayBufferToBinaryString(I)},n=function(b,_,C,A){for(var j,L,I,P=b.length/_,X=new Uint8Array(b.length+P),Y=m(),K=0;K<P;K+=1){if(I=K*_,j=b.subarray(I,I+_),A)X.set(A(j,C,L),I+K);else{for(var G,V=Y.length,z=[];G<V;G+=1)z[G]=Y[G](j,C,L);var ie=v(z.concat());X.set(z[ie],I+K)}L=j}return X},i=function(b){var _=Array.apply([],b);return _.unshift(0),_},s=function(b,_){var C,A=[],j=b.length;A[0]=1;for(var L=0;L<j;L+=1)C=b[L-_]||0,A[L+1]=b[L]-C+256&255;return A},c=function(b,_,C){var A,j=[],L=b.length;j[0]=2;for(var I=0;I<L;I+=1)A=C&&C[I]||0,j[I+1]=b[I]-A+256&255;return j},f=function(b,_,C){var A,j,L=[],I=b.length;L[0]=3;for(var P=0;P<I;P+=1)A=b[P-_]||0,j=C&&C[P]||0,L[P+1]=b[P]+256-(A+j>>>1)&255;return L},g=function(b,_,C){var A,j,L,I,P=[],X=b.length;P[0]=4;for(var Y=0;Y<X;Y+=1)A=b[Y-_]||0,j=C&&C[Y]||0,L=C&&C[Y-_]||0,I=u(A,j,L),P[Y+1]=b[Y]-I+256&255;return P},u=function(b,_,C){if(b===_&&_===C)return b;var A=Math.abs(_-C),j=Math.abs(b-C),L=Math.abs(b+_-C-C);return A<=j&&A<=L?b:j<=L?_:C},m=function(){return[i,s,c,f,g]},v=function(b){var _=b.map(function(C){return C.reduce(function(A,j){return A+Math.abs(j)},0)});return _.indexOf(Math.min.apply(null,_))};t.processPNG=function(b,_,C,A){var j,L,I,P,X,Y,K,G,V,z,ie,W,H,ne,ve,me=this.decode.FLATE_DECODE,he="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(I=new rO(b)).imgData,L=I.bits,j=I.colorSpace,X=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){V=(G=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,ie=new Uint8Array(V*I.colors),z=new Uint8Array(V);var be,Pe=I.pixelBitlength-I.bits;for(ne=0,ve=0;ne<V;ne++){for(H=G[ne],be=0;be<Pe;)ie[ve++]=H>>>be&255,be+=I.bits;z[ne]=H>>>be&255}}if(I.bits===16){V=(G=new Uint32Array(I.decodePixels().buffer)).length,ie=new Uint8Array(V*(32/I.pixelBitlength)*I.colors),z=new Uint8Array(V*(32/I.pixelBitlength)),W=I.colors>1,ne=0,ve=0;for(var Ae=0;ne<V;)H=G[ne++],ie[ve++]=H>>>0&255,W&&(ie[ve++]=H>>>16&255,H=G[ne++],ie[ve++]=H>>>0&255),z[Ae++]=H>>>16&255;L=8}A!==t.image_compression.NONE&&e()?(b=r(ie,I.width*I.colors,I.colors,A),K=r(z,I.width,1,A)):(b=ie,K=z,me=void 0)}if(I.colorType===3&&(j=this.color_spaces.INDEXED,Y=I.palette,I.transparency.indexed)){var se=I.transparency.indexed,Le=0;for(ne=0,V=se.length;ne<V;++ne)Le+=se[ne];if((Le/=255)===V-1&&se.indexOf(0)!==-1)P=[se.indexOf(0)];else if(Le!==V){for(G=I.decodePixels(),z=new Uint8Array(G.length),ne=0,V=G.length;ne<V;ne++)z[ne]=se[G[ne]];K=r(z,I.width,1)}}var M=function(q){var J;switch(q){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(A);return me===this.decode.FLATE_DECODE&&(he="/Predictor "+M+" "),he+="/Colors "+X+" /BitsPerComponent "+L+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(K&&this.__addimage__.isArrayBuffer(K)||this.__addimage__.isArrayBufferView(K))&&(K=this.__addimage__.arrayBufferToBinaryString(K)),{alias:C,data:b,index:_,filter:me,decodeParameters:he,transparency:P,palette:Y,sMask:K,predictor:M,width:I.width,height:I.height,bitsPerComponent:L,colorSpace:j}}}})(zr.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new nO(e),c=s.width,f=s.height,g=[];s.decodeAndBlitFrameRGBA(0,g);var u={data:g,width:c,height:f},m=new Vp(100).encode(u,100);return t.processJPEG.call(this,m,r,n,i)},t.processGIF87A=t.processGIF89A}(zr.API),vl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){gi.log("bit decode error:"+r)}},vl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*i*4,f=0;f<8&&8*i+f<this.width;f++){var g=this.palette[s>>7-f&1];this.data[c+4*f]=g.blue,this.data[c+4*f+1]=g.green,this.data[c+4*f+2]=g.red,this.data[c+4*f+3]=255}r!==0&&(this.pos+=4-r)}},vl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*i*4,f=s>>4,g=15&s,u=this.palette[f];if(this.data[c]=u.blue,this.data[c+1]=u.green,this.data[c+2]=u.red,this.data[c+3]=255,2*i+1>=this.width)break;u=this.palette[g],this.data[c+4]=u.blue,this.data[c+4+1]=u.green,this.data[c+4+2]=u.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},vl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var c=this.palette[i];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&e)/e*255|0,f=(s>>5&e)/e*255|0,g=(s>>10&e)/e*255|0,u=s>>15?255:0,m=n*this.width*4+4*i;this.data[m]=g,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=u}this.pos+=t}},vl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(c&e)/e*255|0,g=(c>>5&r)/r*255|0,u=(c>>11)/e*255|0,m=i*this.width*4+4*s;this.data[m]=u,this.data[m+1]=g,this.data[m+2]=f,this.data[m+3]=255}this.pos+=t}},vl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},vl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*r;this.data[f]=s,this.data[f+1]=i,this.data[f+2]=n,this.data[f+3]=c}},vl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new vl(e,!1),c=s.width,f=s.height,g={data:s.getData(),width:c,height:f},u=new Vp(100).encode(g,100);return t.processJPEG.call(this,u,r,n,i)}}(zr.API),gw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new gw(e),c=s.width,f=s.height,g={data:s.getData(),width:c,height:f},u=new Vp(100).encode(g,100);return t.processJPEG.call(this,u,r,n,i)}}(zr.API),zr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),c=new Uint8Array(i/4),f=0,g=0,u=0;u<i;u+=4){var m=n[u],v=n[u+1],b=n[u+2],_=n[u+3];s[f++]=m,s[f++]=v,s[f++]=b,c[g++]=_}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:C,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},zr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pd=zr.API,tg=pd.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),f=e.widths?e.widths:i.metadata.Unicode.widths,g=f.fof?f.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,m=u.fof?u.fof:1,v=e.doKerning!==!1,b=0,_=t.length,C=0,A=f[0]||g,j=[];for(r=0;r<_;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+c*(1e3/s)||0)/1e3):(b=v&&ni(u[n])==="object"&&!isNaN(parseInt(u[n][C],10))?u[n][C]/m:0,j.push((f[n]||A)/g+b)),C=n;return j},uw=pd.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return pd.processArabic&&(t=pd.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:tg.apply(this,arguments).reduce(function(s,c){return s+c},0)},dw=function(t,e,r,n){for(var i=[],s=0,c=t.length,f=0;s!==c&&f+e[s]<r;)f+=e[s],s++;i.push(t.slice(0,s));var g=s;for(f=0;s!==c;)f+e[s]>n&&(i.push(t.slice(g,s)),f=0,g=s),f+=e[s],s++;return g!==s&&i.push(t.slice(g,s)),i},hw=function(t,e,r){r||(r={});var n,i,s,c,f,g,u,m=[],v=[m],b=r.textIndent||0,_=0,C=0,A=t.split(" "),j=tg.apply(this,[" ",r])[0];if(g=r.lineIndent===-1?A[0].length+2:r.lineIndent||0){var L=Array(g).join(" "),I=[];A.map(function(X){(X=X.split(/\s*\n/)).length>1?I=I.concat(X.map(function(Y,K){return(K&&Y.length?`
`:"")+Y})):I.push(X[0])}),A=I,g=uw.apply(this,[L,r])}for(s=0,c=A.length;s<c;s++){var P=0;if(n=A[s],g&&n[0]==`
`&&(n=n.substr(1),P=1),b+_+(C=(i=tg.apply(this,[n,r])).reduce(function(X,Y){return X+Y},0))>e||P){if(C>e){for(f=dw.apply(this,[n,i,e-(b+_),e]),m.push(f.shift()),m=[f.pop()];f.length;)v.push([f.shift()]);C=i.slice(n.length-(m[0]?m[0].length:0)).reduce(function(X,Y){return X+Y},0)}else m=[n];v.push(m),b=C+g,_=j}else m.push(n),b+=_+C,_=j}return u=g?function(X,Y){return(Y?L:"")+X.join(" ")}:function(X){return X.join(" ")},v.map(u)},pd.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var v=this.internal.getFont(m.fontName,m.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var f,g,u=[];for(f=0,g=n.length;f<g;f++)u=u.concat(hw.apply(this,[n[f],c,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(v){return"0x"+parseInt(v,10).toString(16)},c=t.__fontmetrics__.compress=function(v){var b,_,C,A,j=["{"];for(var L in v){if(b=v[L],isNaN(parseInt(L,10))?_="'"+L+"'":(L=parseInt(L,10),_=(_=s(L).slice(2)).slice(0,-1)+n[_.slice(-1)]),typeof b=="number")b<0?(C=s(b).slice(3),A="-"):(C=s(b).slice(2),A=""),C=A+C.slice(0,-1)+n[C.slice(-1)];else{if(ni(b)!=="object")throw new Error("Don't know what to do with value type "+ni(b)+".");C=c(b)}j.push(_+C)}return j.push("}"),j.join("")},f=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,_,C,A,j={},L=1,I=j,P=[],X="",Y="",K=v.length-1,G=1;G<K;G+=1)(A=v[G])=="'"?b?(C=b.join(""),b=void 0):b=[]:b?b.push(A):A=="{"?(P.push([I,C]),I={},C=void 0):A=="}"?((_=P.pop())[0][_[1]]=I,C=void 0,I=_[0]):A=="-"?L=-1:C===void 0?r.hasOwnProperty(A)?(X+=r[A],C=parseInt(X,16)*L,L=1,X=""):X+=A:r.hasOwnProperty(A)?(Y+=r[A],I[C]=parseInt(Y,16)*L,L=1,C=void 0,Y=""):Y+=A;return j},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},m={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var b=v.font,_=m.Unicode[b.postScriptName];_&&(b.metadata.Unicode={},b.metadata.Unicode.widths=_.widths,b.metadata.Unicode.kerning=_.kerning);var C=u.Unicode[b.postScriptName];C&&(b.metadata.Unicode.encoding=C,b.encoding=C.codePages[0])}])}(zr.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,f){f=/^\x00\x01\x00\x00/.test(f)?e(f):e(df(f)),c.metadata=t.API.TTFFont.open(f),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,n)}}])}(zr),function(t){function e(){return(Gr.canvg?Promise.resolve(Gr.canvg):Es(()=>import("./index.es-BBFgdfEu.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}zr.API.addSvgAsImage=function(r,n,i,s,c,f,g,u){if(isNaN(n)||isNaN(i))throw gi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(c))throw gi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=s,m.height=c;var v=m.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,m.width,m.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(C){return C.fromString(v,r,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(b)}).then(function(){_.addImage(m.toDataURL("image/jpeg",1),n,i,s,c,g,u)})}}(),zr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},zr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(c),g=[],u=0,m=0,v=0;function b(C,A){var j,L=!1;for(j=0;j<C.length;j+=1)C[j]===A&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=f.length;for(v=0;v<_;v+=1)r[f[v]].value=r[f[v]].defaultValue,r[f[v]].explicitSet=!1}if(ni(t)==="object"){for(i in t)if(s=t[i],b(f,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&b(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")g.push(String(s[u]-1));else if(s[u].length>1){for(m=0;m<s[u].length;m+=1)typeof s[u][m]!="number"&&(n=!1);n===!0&&g.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+g.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,A=[];for(C in r)r[C].explicitSet===!0&&(r[C].type==="name"?A.push("/"+C+" /"+r[C].value):A.push("/"+C+" "+r[C].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+c.length+f.length+i.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+c+f+g),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(zr.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,c){for(var f,g=c.metadata.Unicode.widths,u=["","0","00","000","0000"],m=[""],v=0,b=s.length;v<b;++v){if(f=c.metadata.characterToGlyph(s.charCodeAt(v)),c.metadata.glyIdsUsed.push(f),c.metadata.toUnicode[f]=s.charCodeAt(v),g.indexOf(f)==-1&&(g.push(f),g.push([parseInt(c.metadata.widthOfGlyph(f),10)])),f=="0")return m.join("");f=f.toString(16),m.push(u[4-f.length],f)}return m.join("")},n=function(s){var c,f,g,u,m,v,b;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],v=0,b=(f=Object.keys(s).sort(function(_,C){return _-C})).length;v<b;v++)c=f[v],g.length>=100&&(m+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(u=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),g.push("<"+c+"><"+u+">"));return g.length&&(m+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(c){var f=c.font,g=c.out,u=c.newObject,m=c.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="Identity-H"){for(var v=f.metadata.Unicode.widths,b=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),_="",C=0;C<b.length;C++)_+=String.fromCharCode(b[C]);var A=u();m({data:_,addLength1:!0,objectId:A}),g("endobj");var j=u();m({data:n(f.metadata.toUnicode),addLength1:!0,objectId:j}),g("endobj");var L=u();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+Td(f.fontName)),g("/FontFile2 "+A+" 0 R"),g("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),g("/Flags "+f.metadata.flags),g("/StemV "+f.metadata.stemV),g("/ItalicAngle "+f.metadata.italicAngle),g("/Ascent "+f.metadata.ascender),g("/Descent "+f.metadata.decender),g("/CapHeight "+f.metadata.capHeight),g(">>"),g("endobj");var I=u();g("<<"),g("/Type /Font"),g("/BaseFont /"+Td(f.fontName)),g("/FontDescriptor "+L+" 0 R"),g("/W "+t.API.PDFObject.convert(v)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+f.encoding+")"),g(">>"),g(">>"),g("endobj"),f.objectNumber=u(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+j+" 0 R"),g("/BaseFont /"+Td(f.fontName)),g("/Encoding /"+f.encoding),g("/DescendantFonts ["+I+" 0 R]"),g(">>"),g("endobj"),f.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(c){var f=c.font,g=c.out,u=c.newObject,m=c.putStream;if(f.metadata instanceof t.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var v=f.metadata.rawData,b="",_=0;_<v.length;_++)b+=String.fromCharCode(v[_]);var C=u();m({data:b,addLength1:!0,objectId:C}),g("endobj");var A=u();m({data:n(f.metadata.toUnicode),addLength1:!0,objectId:A}),g("endobj");var j=u();g("<<"),g("/Descent "+f.metadata.decender),g("/CapHeight "+f.metadata.capHeight),g("/StemV "+f.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+C+" 0 R"),g("/Flags 96"),g("/FontBBox "+t.API.PDFObject.convert(f.metadata.bbox)),g("/FontName /"+Td(f.fontName)),g("/ItalicAngle "+f.metadata.italicAngle),g("/Ascent "+f.metadata.ascender),g(">>"),g("endobj"),f.objectNumber=u();for(var L=0;L<f.metadata.hmtx.widths.length;L++)f.metadata.hmtx.widths[L]=parseInt(f.metadata.hmtx.widths[L]*(1e3/f.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Td(f.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),g("endobj"),f.isAlreadyPutted=!0}})(s)}]);var i=function(s){var c,f=s.text||"",g=s.x,u=s.y,m=s.options||{},v=s.mutex||{},b=v.pdfEscape,_=v.activeFontKey,C=v.fonts,A=_,j="",L=0,I="",P=C[A].encoding;if(C[A].encoding!=="Identity-H")return{text:f,x:g,y:u,options:m,mutex:v};for(I=f,A=_,Array.isArray(f)&&(I=f[0]),L=0;L<I.length;L+=1)C[A].metadata.hasOwnProperty("cmap")&&(c=C[A].metadata.cmap.unicode.codeMap[I[L].charCodeAt(0)]),c||I[L].charCodeAt(0)<256&&C[A].metadata.hasOwnProperty("Unicode")?j+=I[L]:j+="";var X="";return parseInt(A.slice(1))<14||P==="WinAnsiEncoding"?X=b(j,A).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(X=r(j,C[A])),v.isHex=!0,{text:X,x:g,y:u,options:m,mutex:v}};e.events.push(["postProcessText",function(s){var c=s.text||"",f=[],g={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var u=0;for(u=0;u<c.length;u+=1)Array.isArray(c[u])&&c[u].length===3?f.push([i(Object.assign({},g,{text:c[u][0]})).text,c[u][1],c[u][2]]):f.push(i(Object.assign({},g,{text:c[u]})).text);s.text=f}else s.text=i(Object.assign({},g,{text:c})).text}])}(zr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(zr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,c,f,g,u,m,v=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,P=0;this.__bidiEngine__={};var X=function(W){var H=W.charCodeAt(),ne=H>>8,ve=A[ne];return ve!==void 0?v[256*ve+(255&H)]:ne===252||ne===253?"AL":L.test(ne)?"L":ne===8?"R":"N"},Y=function(W){for(var H,ne=0;ne<W.length;ne++){if((H=X(W.charAt(ne)))==="L")return!1;if(H==="R")return!0}return!1},K=function(W,H,ne,ve){var me,he,be,Pe,Ae=H[ve];switch(Ae){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(Ae="AN");break;case"AL":I=!0,Ae="R";break;case"WS":Ae="N";break;case"CS":ve<1||ve+1>=H.length||(me=ne[ve-1])!=="EN"&&me!=="AN"||(he=H[ve+1])!=="EN"&&he!=="AN"?Ae="N":I&&(he="AN"),Ae=he===me?he:"N";break;case"ES":Ae=(me=ve>0?ne[ve-1]:"B")==="EN"&&ve+1<H.length&&H[ve+1]==="EN"?"EN":"N";break;case"ET":if(ve>0&&ne[ve-1]==="EN"){Ae="EN";break}if(I){Ae="N";break}for(be=ve+1,Pe=H.length;be<Pe&&H[be]==="ET";)be++;Ae=be<Pe&&H[be]==="EN"?"EN":"N";break;case"NSM":if(c&&!f){for(Pe=H.length,be=ve+1;be<Pe&&H[be]==="NSM";)be++;if(be<Pe){var se=W[ve],Le=se>=1425&&se<=2303||se===64286;if(me=H[be],Le&&(me==="R"||me==="AL")){Ae="R";break}}}Ae=ve<1||(me=H[ve-1])==="B"?"N":ne[ve-1];break;case"B":I=!1,i=!0,Ae=P;break;case"S":s=!0,Ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":Ae="N"}return Ae},G=function(W,H,ne){var ve=W.split("");return ne&&V(ve,ne,{hiLevel:P}),ve.reverse(),H&&H.reverse(),ve.join("")},V=function(W,H,ne){var ve,me,he,be,Pe,Ae=-1,se=W.length,Le=0,M=[],q=P?_:b,J=[];for(I=!1,i=!1,s=!1,me=0;me<se;me++)J[me]=X(W[me]);for(he=0;he<se;he++){if(Pe=Le,M[he]=K(W,J,M,he),ve=240&(Le=q[Pe][C[M[he]]]),Le&=15,H[he]=be=q[Le][5],ve>0)if(ve===16){for(me=Ae;me<he;me++)H[me]=1;Ae=-1}else Ae=-1;if(q[Le][6])Ae===-1&&(Ae=he);else if(Ae>-1){for(me=Ae;me<he;me++)H[me]=be;Ae=-1}J[he]==="B"&&(H[he]=0),ne.hiLevel|=be}s&&function(re,le,Ue){for(var Te=0;Te<Ue;Te++)if(re[Te]==="S"){le[Te]=P;for(var Me=Te-1;Me>=0&&re[Me]==="WS";Me--)le[Me]=P}}(J,H,se)},z=function(W,H,ne,ve,me){if(!(me.hiLevel<W)){if(W===1&&P===1&&!i)return H.reverse(),void(ne&&ne.reverse());for(var he,be,Pe,Ae,se=H.length,Le=0;Le<se;){if(ve[Le]>=W){for(Pe=Le+1;Pe<se&&ve[Pe]>=W;)Pe++;for(Ae=Le,be=Pe-1;Ae<be;Ae++,be--)he=H[Ae],H[Ae]=H[be],H[be]=he,ne&&(he=ne[Ae],ne[Ae]=ne[be],ne[be]=he);Le=Pe}Le++}}},ie=function(W,H,ne){var ve=W.split(""),me={hiLevel:P};return ne||(ne=[]),V(ve,ne,me),function(he,be,Pe){if(Pe.hiLevel!==0&&m)for(var Ae,se=0;se<he.length;se++)be[se]===1&&(Ae=j.indexOf(he[se]))>=0&&(he[se]=j[Ae+1])}(ve,ne,me),z(2,ve,H,ne,me),z(1,ve,H,ne,me),ve.join("")};return this.__bidiEngine__.doBidiReorder=function(W,H,ne){if(function(me,he){if(he)for(var be=0;be<me.length;be++)he[be]=be;f===void 0&&(f=Y(me)),u===void 0&&(u=Y(me))}(W,H),c||!g||u)if(c&&g&&f^u)P=f?1:0,W=G(W,H,ne);else if(!c&&g&&u)P=f?1:0,W=ie(W,H,ne),W=G(W,H);else if(!c||f||g||u){if(c&&!g&&f^u)W=G(W,H),f?(P=0,W=ie(W,H,ne)):(P=1,W=ie(W,H,ne),W=G(W,H));else if(c&&f&&!g&&u)P=1,W=ie(W,H,ne),W=G(W,H);else if(!c&&!g&&f^u){var ve=m;f?(P=1,W=ie(W,H,ne),P=0,m=!1,W=ie(W,H,ne),m=ve):(P=0,W=ie(W,H,ne),W=G(W,H),P=1,m=!1,W=ie(W,H,ne),m=ve,W=G(W,H))}}else P=0,W=ie(W,H,ne);else P=f?1:0,W=ie(W,H,ne);return W},this.__bidiEngine__.setOptions=function(W){W&&(c=W.isInputVisual,g=W.isOutputVisual,f=W.isInputRtl,u=W.isOutputRtl,m=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var f=0;for(c=[],f=0;f<i.length;f+=1)Object.prototype.toString.call(i[f])==="[object Array]"?c.push([r.doBidiReorder(i[f][0]),i[f][1],i[f][2]]):c.push([r.doBidiReorder(i[f])]);n.text=c}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(zr),zr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Cu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new iO(this.contents),this.head=new sO(this),this.name=new dO(this),this.cmap=new x8(this),this.toUnicode={},this.hhea=new oO(this),this.maxp=new hO(this),this.hmtx=new fO(this),this.post=new cO(this),this.os2=new lO(this),this.loca=new xO(this),this.glyf=new gO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,f,g,u;for(u=[],c=0,f=(g=this.bbox).length;c<f;c++)e=g[c],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(r=i>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,c,f;for(c=0,s=0,f=(e=""+e).length;0<=f?s<f:s>f;s=0<=f?++s:--s)i=e.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Rl,Cu=function(){function t(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,c,f,g;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),c=this.readByte(),f=this.readByte(),g=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^c)+256*(255^f)+(255^g)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*c+256*f+g},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),iO=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,c,f,g,u,m,v,b,_,C,A;for(A in _=Object.keys(r).length,g=Math.log(2),v=16*Math.floor(Math.log(_)/g),c=Math.floor(v/g),m=16*_-v,(i=new Cu).writeInt(this.scalarType),i.writeShort(_),i.writeShort(v),i.writeShort(c),i.writeShort(m),s=16*_,u=i.pos+s,f=null,C=[],r)for(b=r[A],i.writeString(A),i.writeInt(t(b)),i.writeInt(u),i.writeInt(b.length),C=C.concat(b),A==="head"&&(f=u),u+=b.length;u%4;)C.push(0),u++;return i.write(C),n=2981146554-t(i.data),i.pos=f+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,c;for(r=v8.call(r);r.length%4;)r.push(0);for(s=new Cu(r),i=0,n=0,c=r.length;n<c;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),aO={}.hasOwnProperty,ac=function(t,e){for(var r in e)aO.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Rl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var sO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Cu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),mw=function(){function t(e,r){var n,i,s,c,f,g,u,m,v,b,_,C,A,j,L,I,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=e.readByte();break;case 4:for(_=e.readUInt16(),b=_/2,e.pos+=6,s=function(){var X,Y;for(Y=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Y.push(e.readUInt16());return Y}(),e.pos+=2,A=function(){var X,Y;for(Y=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Y.push(e.readUInt16());return Y}(),u=function(){var X,Y;for(Y=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Y.push(e.readUInt16());return Y}(),m=function(){var X,Y;for(Y=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Y.push(e.readUInt16());return Y}(),i=(this.length-e.pos+this.offset)/2,f=function(){var X,Y;for(Y=[],g=X=0;0<=i?X<i:X>i;g=0<=i?++X:--X)Y.push(e.readUInt16());return Y}(),g=L=0,P=s.length;L<P;g=++L)for(j=s[g],n=I=C=A[g];C<=j?I<=j:I>=j;n=C<=j?++I:--I)m[g]===0?c=n+u[g]:(c=f[m[g]/2+(n-C)-(b-g)]||0)!==0&&(c+=u[g]),this.codeMap[n]=65535&c}e.pos=v}return t.encode=function(e,r){var n,i,s,c,f,g,u,m,v,b,_,C,A,j,L,I,P,X,Y,K,G,V,z,ie,W,H,ne,ve,me,he,be,Pe,Ae,se,Le,M,q,J,re,le,Ue,Te,Me,Oe,ze,st;switch(ve=new Cu,c=Object.keys(e).sort(function(ct,Nt){return ct-Nt}),r){case"macroman":for(A=0,j=function(){var ct=[];for(C=0;C<256;++C)ct.push(0);return ct}(),I={0:0},s={},me=0,Ae=c.length;me<Ae;me++)I[Me=e[i=c[me]]]==null&&(I[Me]=++A),s[i]={old:e[i],new:I[e[i]]},j[i]=I[e[i]];return ve.writeUInt16(1),ve.writeUInt16(0),ve.writeUInt32(12),ve.writeUInt16(0),ve.writeUInt16(262),ve.writeUInt16(0),ve.write(j),{charMap:s,subtable:ve.data,maxGlyphID:A+1};case"unicode":for(H=[],v=[],P=0,I={},n={},L=u=null,he=0,se=c.length;he<se;he++)I[Y=e[i=c[he]]]==null&&(I[Y]=++P),n[i]={old:Y,new:I[Y]},f=I[Y]-i,L!=null&&f===u||(L&&v.push(L),H.push(i),u=f),L=i;for(L&&v.push(L),v.push(65535),H.push(65535),ie=2*(z=H.length),V=2*Math.pow(Math.log(z)/Math.LN2,2),b=Math.log(V/2)/Math.LN2,G=2*z-V,g=[],K=[],_=[],C=be=0,Le=H.length;be<Le;C=++be){if(W=H[C],m=v[C],W===65535){g.push(0),K.push(0);break}if(W-(ne=n[W].new)>=32768)for(g.push(0),K.push(2*(_.length+z-C)),i=Pe=W;W<=m?Pe<=m:Pe>=m;i=W<=m?++Pe:--Pe)_.push(n[i].new);else g.push(ne-W),K.push(0)}for(ve.writeUInt16(3),ve.writeUInt16(1),ve.writeUInt32(12),ve.writeUInt16(4),ve.writeUInt16(16+8*z+2*_.length),ve.writeUInt16(0),ve.writeUInt16(ie),ve.writeUInt16(V),ve.writeUInt16(b),ve.writeUInt16(G),Ue=0,M=v.length;Ue<M;Ue++)i=v[Ue],ve.writeUInt16(i);for(ve.writeUInt16(0),Te=0,q=H.length;Te<q;Te++)i=H[Te],ve.writeUInt16(i);for(Oe=0,J=g.length;Oe<J;Oe++)f=g[Oe],ve.writeUInt16(f);for(ze=0,re=K.length;ze<re;ze++)X=K[ze],ve.writeUInt16(X);for(st=0,le=_.length;st<le;st++)A=_[st],ve.writeUInt16(A);return{charMap:n,subtable:ve.data,maxGlyphID:P+1}}},t}(),x8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new mw(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=mw.encode(r,n),(s=new Cu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),oO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),lO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),cO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var c;for(i=r.readUInt16(),this.glyphNameIndex=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=function(){var f,g,u;for(u=[],c=f=0,g=this.file.maxp.numGlyphs;0<=g?f<g:f>g;c=0<=g?++f:--f)u.push(r.readUInt32());return u}.call(this)}},e}(),uO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},dO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,c,f,g,u,m,v,b,_;for(r.pos=this.offset,r.readShort(),n=r.readShort(),g=r.readShort(),i=[],c=0;0<=n?c<n:c>n;c=0<=n?++c:--c)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+g+r.readShort()});for(u={},c=v=0,b=i.length;v<b;c=++v)s=i[c],r.pos=s.offset,m=r.readString(s.length),f=new uO(m,s),u[_=s.nameID]==null&&(u[_]=[]),u[s.nameID].push(f);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(C){this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),hO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),fO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,c,f,g,u;for(r.pos=this.offset,this.metrics=[],n=0,g=this.file.hhea.numberOfMetrics;0<=g?n<g:n>g;n=0<=g?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,v;for(v=[],n=m=0;0<=s?m<s:m>s;n=0<=s?++m:--m)v.push(r.readInt16());return v}(),this.widths=function(){var m,v,b,_;for(_=[],m=0,v=(b=this.metrics).length;m<v;m++)c=b[m],_.push(c.advance);return _}.call(this),i=this.widths[this.widths.length-1],u=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),v8=[].slice,gO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,c,f,g,u,m,v,b;return r in this.cache?this.cache[r]:(c=this.file.loca,n=this.file.contents,i=c.indexOf(r),(s=c.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,f=(g=new Cu(n.read(s))).readShort(),m=g.readShort(),b=g.readShort(),u=g.readShort(),v=g.readShort(),this.cache[r]=f===-1?new pO(g,m,b,u,v):new mO(g,f,m,b,u,v),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,c,f,g,u;for(f=[],c=[],g=0,u=n.length;g<u;g++)s=r[n[g]],c.push(f.length),s&&(f=f.concat(s.encode(i)));return c.push(f.length),{table:f,offsets:c}},e}(),mO=function(){function t(e,r,n,i,s,c){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),pO=function(){function t(e,r,n,i,s){var c,f;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;f=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&f;)c.pos+=1&f?4:2,128&f?c.pos+=8:64&f?c.pos+=4:8&f&&(c.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Cu(v8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),xO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ac(e,Rl),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var s,c;for(c=[],i=0,s=this.length;i<s;i+=2)c.push(2*r.readUInt16());return c}.call(this):function(){var s,c;for(c=[],i=0,s=this.length;i<s;i+=4)c.push(r.readUInt32());return c}.call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,c=0,f=0;f<i.length;++f)if(i[f]=s,c<n.length&&n[c]==f){++c,i[f]=s;var g=this.offsets[f],u=this.offsets[f+1]-g;u>0&&(s+=u)}for(var m=new Array(4*i.length),v=0;v<i.length;++v)m[4*v+3]=255&i[v],m[4*v+2]=(65280&i[v])>>8,m[4*v+1]=(16711680&i[v])>>16,m[4*v]=(4278190080&i[v])>>24;return m},e}(),vO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,c,f,g;for(i={},c=0,f=e.length;c<f;c++)i[s=e[c]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in g=this.glyphsFor(r))n=g[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,c,f,g,u,m,v,b,_,C,A,j,L;for(i in n=x8.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},L=n.charMap)_[(g=L[i]).old]=g.new;for(C in b=n.maxGlyphID,c)C in _||(_[C]=b++);return m=function(I){var P,X;for(P in X={},I)X[I[P]]=P;return X}(_),v=Object.keys(m).sort(function(I,P){return I-P}),A=function(){var I,P,X;for(X=[],I=0,P=v.length;I<P;I++)f=v[I],X.push(m[f]);return X}(),s=this.font.glyf.encode(c,A,_),u=this.font.loca.encode(s.offsets,A),j={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();zr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,c;if(Array.isArray(r))return"["+function(){var f,g,u;for(u=[],f=0,g=r.length;f<g;f++)n=r[f],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)c=r[i],s.push("/"+i+" "+e.convert(c));return s.push(">>"),s.join(`
`)}return""+r},e}();function y8(t,e,r,n,i){n=n||{};var s=1.15,c=i.internal.scaleFactor,f=i.internal.getFontSize()/c,g=i.getLineHeightFactor?i.getLineHeightFactor():s,u=f*g,m=/\r\n|\r|\n/g,v="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(v=typeof t=="string"?t.split(m):t,b=v.length||1),r+=f*(2-s),n.valign==="middle"?r-=b/2*u:n.valign==="bottom"&&(r-=b*u),n.halign==="center"||n.halign==="right"){var _=f;if(n.halign==="center"&&(_*=.5),v&&b>=1){for(var C=0;C<v.length;C++)i.text(v[C],e-i.getStringUnitWidth(v[C])*_,r),r+=u;return i}e-=i.getStringUnitWidth(t)*_}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var pw={},Fd=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:pw=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),f=c.fontStyle,g=c.fontName;if(e.font&&(g=e.font),e.fontStyle){f=e.fontStyle;var u=this.getFontList()[g];u&&u.indexOf(f)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),f=u[0])}if(this.jsPDFDocument.setFont(g,f),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var m=t.unifyColor(e.fillColor);m&&(n=this.jsPDFDocument).setFillColor.apply(n,m),m=t.unifyColor(e.textColor),m&&(i=this.jsPDFDocument).setTextColor.apply(i,m),m=t.unifyColor(e.lineColor),m&&(s=this.jsPDFDocument).setDrawColor.apply(s,m),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return pw||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Px=function(t,e){return Px=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Px(t,e)};function w8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Px(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b8=function(t){w8(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function yO(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function wO(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function m2(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,c){return Math.max(s,c)},0);return i}function _8(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var c=E8(i,!1);c&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,c)}function E8(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Q2(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function S8(t,e){var r=Q2(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function bO(t,e,r,n,i){var s={},c=1.3333333333333333,f=Gp(e,function(P){return i.getComputedStyle(P).backgroundColor});f!=null&&(s.fillColor=f);var g=Gp(e,function(P){return i.getComputedStyle(P).color});g!=null&&(s.textColor=g);var u=EO(n,r);u&&(s.cellPadding=u);var m="borderTopColor",v=c*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var _=(parseFloat(b)||0)/v;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/v,right:(parseFloat(n.borderRightWidth)||0)/v,bottom:(parseFloat(n.borderBottomWidth)||0)/v,left:(parseFloat(n.borderLeftWidth)||0)/v},s.lineWidth.top||(s.lineWidth.right?m="borderRightColor":s.lineWidth.bottom?m="borderBottomColor":s.lineWidth.left&&(m="borderLeftColor"));var C=Gp(e,function(P){return i.getComputedStyle(P)[m]});C!=null&&(s.lineColor=C);var A=["left","right","center","justify"];A.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),A=["middle","bottom","top"],A.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var j=parseInt(n.fontSize||"");isNaN(j)||(s.fontSize=j/c);var L=_O(n);L&&(s.fontStyle=L);var I=(n.fontFamily||"").toLowerCase();return t.indexOf(I)!==-1&&(s.font=I),s}function _O(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Gp(t,e){var r=N8(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function N8(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:N8(t.parentElement,e):r}function EO(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(f){return parseInt(f||"0")/n}),c=Q2(s,0);return i>c.top&&(c.top=i),i>c.bottom&&(c.bottom=i),c}function A8(t,e,r,n,i){var s,c;n===void 0&&(n=!1),i===void 0&&(i=!1);var f;typeof e=="string"?f=r.document.querySelector(e):f=e;var g=Object.keys(t.getFontList()),u=t.scaleFactor(),m=[],v=[],b=[];if(!f)return console.error("Html table could not be found with input: ",e),{head:m,body:v,foot:b};for(var _=0;_<f.rows.length;_++){var C=f.rows[_],A=(c=(s=C==null?void 0:C.parentElement)===null||s===void 0?void 0:s.tagName)===null||c===void 0?void 0:c.toLowerCase(),j=SO(g,u,r,C,n,i);j&&(A==="thead"?m.push(j):A==="tfoot"?b.push(j):v.push(j))}return{head:m,body:v,foot:b}}function SO(t,e,r,n,i,s){for(var c=new b8(n),f=0;f<n.cells.length;f++){var g=n.cells[f],u=r.getComputedStyle(g);if(i||u.display!=="none"){var m=void 0;s&&(m=bO(t,g,e,u,r)),c.push({rowSpan:g.rowSpan,colSpan:g.colSpan,styles:m,_element:g,content:NO(g)})}}var v=r.getComputedStyle(n);if(c.length>0&&(i||v.display!=="none"))return c}function NO(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function AO(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function kc(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),c=1;c<arguments.length;c++){var f=arguments[c];if(f!=null)for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(s[g]=f[g])}return s}function C8(t,e){var r=new Fd(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();AO(i,n,e);var s=kc({},i,n,e),c;typeof window!="undefined"&&(c=window);var f=CO(i,n,e),g=TO(i,n,e),u=jO(r,s),m=RO(r,s,c);return{id:e.tableId,content:m,hooks:g,styles:f,settings:u}}function CO(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(g){if(g==="columnStyles"){var u=t[g],m=e[g],v=r[g];n.columnStyles=kc({},u,m,v)}else{var b=[t,e,r],_=b.map(function(C){return C[g]||{}});n[g]=kc({},_[0],_[1],_[2])}},s=0,c=Object.keys(n);s<c.length;s++){var f=c[s];i(f)}return n}function TO(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,c=n;s<c.length;s++){var f=c[s];f.didParseCell&&i.didParseCell.push(f.didParseCell),f.willDrawCell&&i.willDrawCell.push(f.willDrawCell),f.didDrawCell&&i.didDrawCell.push(f.didDrawCell),f.willDrawPage&&i.willDrawPage.push(f.willDrawPage),f.didDrawPage&&i.didDrawPage.push(f.didDrawPage)}return i}function jO(t,e){var r,n,i,s,c,f,g,u,m,v,b,_,C=Q2(e.margin,40/t.scaleFactor()),A=(r=OO(t,e.startY))!==null&&r!==void 0?r:C.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var L;e.showHead===!0?L="everyPage":e.showHead===!1?L="never":L=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var I=(s=e.useCss)!==null&&s!==void 0?s:!1,P=e.theme||(I?"plain":"striped"),X=!!e.horizontalPageBreak,Y=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(f=e.includeHiddenHtml)!==null&&f!==void 0?f:!1,useCss:I,theme:P,startY:A,margin:C,pageBreak:(g=e.pageBreak)!==null&&g!==void 0?g:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(m=e.tableWidth)!==null&&m!==void 0?m:"auto",showHead:L,showFoot:j,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:X,horizontalPageBreakRepeat:Y,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function OO(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var c=r.startPageNumber+r.pageNumber-1;s=c===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function RO(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(r){var f=A8(t,e.html,r,c,e.useCss)||{};n=f.head||n,i=f.body||n,s=f.foot||n}else console.error("Cannot parse html in non browser environment")}var g=e.columns||kO(n,i,s);return{columns:g,head:n,body:i,foot:s}}function kO(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var c=1,f;Array.isArray(n)?f=n[parseInt(s)]:f=n[s],typeof f=="object"&&!Array.isArray(f)&&(c=(f==null?void 0:f.colSpan)||1);for(var g=0;g<c;g++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(g>0?"_".concat(g):"");var m={dataKey:u};i.push(m)}}),i}var Fx=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),LO=function(t){w8(e,t);function e(r,n,i,s,c,f){var g=t.call(this,r,n,f)||this;return g.cell=i,g.row=s,g.column=c,g.section=s.section,g}return e}(Fx),IO=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,c){for(var f=0,g=r;f<g.length;f++){var u=g[f],m=new LO(e,this,n,i,s,c),v=u(m)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],v)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new Fx(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new Fx(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),T8=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof b8&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var c=n.cells[s.index];if(!c)return 0;var f=r.getLineHeight(c.styles.fontSize),g=c.padding("vertical"),u=g+f;return u>i?u:i},0)},t}(),j8=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=s!=null?""+s:"",f=/\r\n|\r|\n/g;this.text=c.split(f)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Q2(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),DO=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],c=s.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(r=Math.max(r,c.styles.cellWidth))}return r},t}();function PO(t,e){FO(t,e);var r=[],n=0;e.columns.forEach(function(s){var c=s.getMaxCustomCellWidth(e);c?s.width=c:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=Bx(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Bx(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),MO(e),UO(e,t),BO(e)}function FO(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=S8(t,e);e.allRows().forEach(function(s){for(var c=0,f=e.columns;c<f.length;c++){var g=f[c],u=s.cells[g.index];if(u){var m=e.hooks.didParseCell;e.callCellHooks(t,m,u,s,g,null);var v=u.padding("horizontal");u.contentWidth=m2(u.text,u.styles,t)+v;var b=m2(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=b+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var _=10/r;u.minWidth=u.styles.minCellWidth||_,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var c=0,f=e.columns;c<f.length;c++){var g=f[c],u=s.cells[g.index];if(u&&u.colSpan===1)g.wrappedWidth=Math.max(g.wrappedWidth,u.wrappedWidth),g.minWidth=Math.max(g.minWidth,u.minWidth),g.minReadableWidth=Math.max(g.minReadableWidth,u.minReadableWidth);else{var m=e.styles.columnStyles[g.dataKey]||e.styles.columnStyles[g.index]||{},v=m.cellWidth||m.minCellWidth;v&&typeof v=="number"&&(g.minWidth=v,g.wrappedWidth=v)}u&&(u.colSpan>1&&!g.minWidth&&(g.minWidth=u.minWidth),u.colSpan>1&&!g.wrappedWidth&&(g.wrappedWidth=u.minWidth))}})}function Bx(t,e,r){for(var n=e,i=t.reduce(function(_,C){return _+C.wrappedWidth},0),s=0;s<t.length;s++){var c=t[s],f=c.wrappedWidth/i,g=n*f,u=c.width+g,m=r(c),v=u<m?m:u;e-=v-c.width,c.width=v}if(e=Math.round(e*1e10)/1e10,e){var b=t.filter(function(_){return e<0?_.width>r(_):!0});b.length&&(e=Bx(b,e,r))}return e}function BO(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],c=0,f=t.columns;c<f.length;c++){var g=f[c],u=e[g.index];if(r>1)r--,delete s.cells[g.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[g.index],u.left--,u.left<=1&&delete e[g.index];else{var m=s.cells[g.index];if(!m)continue;if(m.height=s.height,m.rowSpan>1){var v=n.length-i,b=m.rowSpan>v?v:m.rowSpan;e[g.index]={cell:m,left:b,row:s}}}}}function MO(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,c=0,f=0;f<t.columns.length;f++){var g=t.columns[f];if(c-=1,c>1&&t.columns[f+1])s+=g.width,delete n.cells[g.index];else if(i){var u=i;delete n.cells[g.index],i=null,u.width=g.width+s}else{var u=n.cells[g.index];if(!u)continue;if(c=u.colSpan,s=0,u.colSpan>1){i=u,s+=g.width;continue}u.width=g.width+s}}}function UO(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],c=0,f=t.columns;c<f.length;c++){var g=f[c],u=s.cells[g.index];if(u){e.applyStyles(u.styles,!0);var m=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,m+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=xw(u.text,m,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=xw(u.text,m,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var v=u.styles.overflow(u.text,m);typeof v=="string"?u.text=[v]:u.text=v}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<b*u.rowSpan?r={height:b,count:u.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>s.height&&(s.height=b)}}r.count--}}function xw(t,e,r,n,i){return t.map(function(s){return zO(s,e,r,n,i)})}function zO(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=m2(t,r,n))return t;for(;e<m2(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function O8(t,e){var r=new Fd(t),n=HO(e,r.scaleFactor()),i=new IO(e,n);return PO(r,i),r.applyStyles(r.userStyles),i}function HO(t,e){var r=t.content,n=WO(r.columns);if(r.head.length===0){var i=vw(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=vw(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,c=t.styles;return{columns:n,head:$p("head",r.head,n,c,s,e),body:$p("body",r.body,n,c,s,e),foot:$p("foot",r.foot,n,c,s,e)}}function $p(t,e,r,n,i,s){var c={},f=e.map(function(g,u){for(var m=0,v={},b=0,_=0,C=0,A=r;C<A.length;C++){var j=A[C];if(c[j.index]==null||c[j.index].left===0)if(_===0){var L=void 0;Array.isArray(g)?L=g[j.index-b-m]:L=g[j.dataKey];var I={};typeof L=="object"&&!Array.isArray(L)&&(I=(L==null?void 0:L.styles)||{});var P=VO(t,j,u,i,n,s,I),X=new j8(L,P,t);v[j.dataKey]=X,v[j.index]=X,_=X.colSpan-1,c[j.index]={left:X.rowSpan-1,times:_}}else _--,b++;else c[j.index].left--,_=c[j.index].times,m++}return new T8(g,u,t,v)});return f}function vw(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=qO(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function qO(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function WO(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new DO(i,e,r)})}function VO(t,e,r,n,i,s,c){var f=wO(n),g;t==="head"?g=i.headStyles:t==="body"?g=i.bodyStyles:t==="foot"&&(g=i.footStyles);var u=kc({},f.table,f[t],i.styles,g),m=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},v=t==="body"?m:{},b=t==="body"&&r%2===0?kc({},f.alternateRow,i.alternateRowStyles):{},_=yO(s),C=kc({},_,u,b,v);return kc(C,c)}function GO(t,e,r){var n;r===void 0&&(r={});var i=S8(t,e),s=new Map,c=[],f=[],g=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?g=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(g=[e.settings.horizontalPageBreakRepeat]),g.forEach(function(b){var _=e.columns.find(function(C){return C.dataKey===b||C.index===b});_&&!s.has(_.index)&&(s.set(_.index,!0),c.push(_.index),f.push(e.columns[_.index]),i-=_.wrappedWidth)});for(var u=!0,m=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;m<e.columns.length;){if(s.has(m)){m++;continue}var v=e.columns[m].wrappedWidth;if(u||i>=v)u=!1,c.push(m),f.push(e.columns[m]),i-=v;else break;m++}return{colIndexes:c,columns:f,lastIndex:m-1}}function $O(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=GO(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function R8(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),f=n+i.bottom+c;if(r.pageBreak==="avoid"){var g=e.body,u=g.reduce(function(b,_){return b+_.height},0);f+=u}var m=new Fd(t);(r.pageBreak==="always"||r.startY!=null&&f>m.pageSize().height)&&(L8(m),s.y=i.top),e.callWillDrawPageHooks(m,s);var v=kc({},s);e.startPageNumber=m.pageNumber(),r.horizontalPageBreak?XO(m,e,v,s):(m.applyStyles(m.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(b){return Bc(m,e,b,s,e.columns)}),m.applyStyles(m.userStyles),e.body.forEach(function(b,_){var C=_===e.body.length-1;p2(m,e,b,C,v,s,e.columns)}),m.applyStyles(m.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(b){return Bc(m,e,b,s,e.columns)})),_8(m,e,v,s),e.callEndPageHooks(m,s),e.finalY=s.y,t.lastAutoTable=e,m.applyStyles(m.userStyles)}function XO(t,e,r,n){var i=$O(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,m){t.applyStyles(t.userStyles),m>0?hf(t,e,r,n,u.columns,!0):yw(t,e,n,u.columns),YO(t,e,r,n,u.columns),Xp(t,e,n,u.columns)});else for(var c=-1,f=i[0],g=function(){var u=c;if(f){t.applyStyles(t.userStyles);var m=f.columns;c>=0?hf(t,e,r,n,m,!0):yw(t,e,n,m),u=ww(t,e,c+1,n,m),Xp(t,e,n,m)}var v=u-c;i.slice(1).forEach(function(b){t.applyStyles(t.userStyles),hf(t,e,r,n,b.columns,!0),ww(t,e,c+1,n,b.columns,v),Xp(t,e,n,b.columns)}),c=u};c<e.body.length-1;)g()}function yw(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Bc(t,e,s,r,n)})}function YO(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,c){var f=c===e.body.length-1;p2(t,e,s,f,r,n,i)})}function ww(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s!=null?s:e.body.length;var c=Math.min(r+s,e.body.length),f=-1;return e.body.slice(r,c).forEach(function(g,u){var m=r+u===e.body.length-1,v=k8(t,e,m,n);g.canEntireRowFit(v,i)&&(Bc(t,e,g,n,i),f=r+u)}),f}function Xp(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Bc(t,e,s,r,n)})}function KO(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function ZO(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,c=0,f=r.columns;c<f.length;c++){var g=f[c],u=t.cells[g.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var m=new j8(u.raw,u.styles,u.section);m=kc(m,u),m.text=[];var v=KO(u,e,n);u.text.length>v&&(m.text=u.text.splice(v,u.text.length));var b=n.scaleFactor(),_=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(b,_),u.contentHeight>=e&&(u.contentHeight=e,m.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),m.contentHeight=m.getContentHeight(b,_),m.contentHeight>s&&(s=m.contentHeight),i[g.index]=m}}var C=new T8(t.raw,-1,t.section,i,!0);C.height=s;for(var A=0,j=r.columns;A<j.length;A++){var g=j[A],m=C.cells[g.index];m&&(m.height=C.height);var u=t.cells[g.index];u&&(u.height=t.height)}return C}function JO(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,c=s.top+s.bottom,f=i-c;e.section==="body"&&(f-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var g=e.getMinimumRowHeight(n.columns,t),u=g<r;if(g>f)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var m=e.hasRowSpan(n.columns),v=e.getMaxCellHeight(n.columns)>f;return v?(m&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||n.settings.rowPageBreak==="avoid")}function p2(t,e,r,n,i,s,c){var f=k8(t,e,n,s);if(r.canEntireRowFit(f,c))Bc(t,e,r,s,c);else if(JO(t,r,f,e)){var g=ZO(r,f,e,t);Bc(t,e,r,s,c),hf(t,e,i,s,c),p2(t,e,g,n,i,s,c)}else hf(t,e,i,s,c),p2(t,e,r,n,i,s,c)}function Bc(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,c=i;s<c.length;s++){var f=c[s],g=r.cells[f.index];if(!g){n.x+=f.width;continue}t.applyStyles(g.styles),g.x=n.x,g.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,g,r,f,n);if(u===!1){n.x+=f.width;continue}QO(t,g,n);var m=g.getTextPos();y8(g.text,m.x,m.y,{halign:g.styles.halign,valign:g.styles.valign,maxWidth:Math.ceil(g.width-g.padding("left")-g.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,g,r,f,n),n.x+=f.width}n.y+=r.height}function QO(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=E8(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),eR(t,e,r,n.lineWidth))}function eR(t,e,r,n){var i,s,c,f;n.top&&(i=r.x,s=r.y,c=r.x+e.width,f=r.y,n.right&&(c+=.5*n.right),n.left&&(i-=.5*n.left),g(n.top,i,s,c,f)),n.bottom&&(i=r.x,s=r.y+e.height,c=r.x+e.width,f=r.y+e.height,n.right&&(c+=.5*n.right),n.left&&(i-=.5*n.left),g(n.bottom,i,s,c,f)),n.left&&(i=r.x,s=r.y,c=r.x,f=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(f+=.5*n.bottom),g(n.left,i,s,c,f)),n.right&&(i=r.x+e.width,s=r.y,c=r.x+e.width,f=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(f+=.5*n.bottom),g(n.right,i,s,c,f));function g(u,m,v,b,_){t.getDocument().setLineWidth(u),t.getDocument().line(m,v,b,_,"S")}}function k8(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function hf(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(f){return Bc(t,e,f,n,i)}),e.callEndPageHooks(t,n);var c=e.settings.margin;_8(t,e,r,n),L8(t),e.pageNumber++,n.x=c.left,n.y=c.top,r.y=c.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(f){return Bc(t,e,f,n,i)}),t.applyStyles(t.userStyles))}function L8(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function tR(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=C8(this,n),s=O8(this,i);return R8(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){y8(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Fd.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Fd.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window=="undefined")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Fd(this),s=A8(i,e,window,r,!1),c=s.head,f=s.body,g=((n=c[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:g,rows:f,data:f}}}var Yp;function rR(t,e){var r=C8(t,e),n=O8(t,r);R8(t,n)}try{if(typeof window!="undefined"&&window){var bw=window,_w=bw.jsPDF||((Yp=bw.jspdf)===null||Yp===void 0?void 0:Yp.jsPDF);_w&&tR(_w)}}catch(t){console.error("Could not apply autoTable plugin",t)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var x2={};x2.version="0.18.5";var I8=1252,nR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],D8=function(t){nR.indexOf(t)!=-1&&(I8=t)};function iR(){D8(1252)}var Ef=function(t){D8(t)};function aR(){Ef(1200),iR()}var rg=function(e){return String.fromCharCode(e)},Ew=function(e){return String.fromCharCode(e)},Sw,Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Sf(t){for(var e="",r=0,n=0,i=0,s=0,c=0,f=0,g=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),c=(r&3)<<4|n>>4,i=t.charCodeAt(u++),f=(n&15)<<2|i>>6,g=i&63,isNaN(n)?f=g=64:isNaN(i)&&(g=64),e+=Eu.charAt(s)+Eu.charAt(c)+Eu.charAt(f)+Eu.charAt(g);return e}function Mc(t){var e="",r=0,n=0,i=0,s=0,c=0,f=0,g=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=Eu.indexOf(t.charAt(u++)),c=Eu.indexOf(t.charAt(u++)),r=s<<2|c>>4,e+=String.fromCharCode(r),f=Eu.indexOf(t.charAt(u++)),n=(c&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(n)),g=Eu.indexOf(t.charAt(u++)),i=(f&3)<<6|g,g!==64&&(e+=String.fromCharCode(i));return e}var Yn=function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node}(),zc=function(){if(typeof Buffer!="undefined"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch(e){t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function y0(t){return Yn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array!="undefined"?new Uint8Array(t):new Array(t)}function Nw(t){return Yn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array!="undefined"?new Uint8Array(t):new Array(t)}var Nl=function(e){return Yn?zc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function em(t){if(typeof ArrayBuffer=="undefined")return Nl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Pf(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function sR(t){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(t)}var is=Yn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:zc(e)}))}:function(t){if(typeof Uint8Array!="undefined"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function oR(t){for(var e=[],r=0,n=t.length+250,i=y0(t.length+255),s=0;s<t.length;++s){var c=t.charCodeAt(s);if(c<128)i[r++]=c;else if(c<2048)i[r++]=192|c>>6&31,i[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var f=t.charCodeAt(++s)&1023;i[r++]=240|c>>8&7,i[r++]=128|c>>2&63,i[r++]=128|f>>6&15|(c&3)<<4,i[r++]=128|f&63}else i[r++]=224|c>>12&15,i[r++]=128|c>>6&63,i[r++]=128|c&63;r>n&&(e.push(i.slice(0,r)),r=0,i=y0(65535),n=65530)}return e.push(i.slice(0,r)),is(e)}var ff=/\u0000/g,ng=/[\u0001-\u0006]/g;function Bd(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Al(t,e){var r=""+t;return r.length>=e?r:ra("0",e-r.length)+r}function xv(t,e){var r=""+t;return r.length>=e?r:ra(" ",e-r.length)+r}function v2(t,e){var r=""+t;return r.length>=e?r:r+ra(" ",e-r.length)}function lR(t,e){var r=""+Math.round(t);return r.length>=e?r:ra("0",e-r.length)+r}function cR(t,e){var r=""+t;return r.length>=e?r:ra("0",e-r.length)+r}var Aw=Math.pow(2,32);function xd(t,e){if(t>Aw||t<-Aw)return lR(t,e);var r=Math.round(t);return cR(r,e)}function y2(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Cw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Kp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function uR(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var na={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Tw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},dR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function w2(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,c=1,f=0,g=1,u=0,m=0,v=Math.floor(i);u<e&&(v=Math.floor(i),f=v*c+s,m=v*u+g,!(i-v<5e-8));)i=1/(i-v),s=c,c=f,g=u,u=m;if(m>e&&(u>e?(m=g,f=s):(m=u,f=c)),!r)return[0,n*f,m];var b=Math.floor(n*f/m);return[b,n*f-b*m,m]}function ig(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,c=[],f={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(n+=1462),f.u>.9999&&(f.u=0,++i==86400&&(f.T=i=0,++n,++f.D)),n===60)c=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)c=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),c=[g.getFullYear(),g.getMonth()+1,g.getDate()],s=g.getDay(),n<60&&(s=(s+6)%7),r&&(s=vR(g,c))}return f.y=c[0],f.m=c[1],f.d=c[2],f.S=i%60,i=Math.floor(i/60),f.M=i%60,i=Math.floor(i/60),f.H=i,f.q=s,f}var P8=new Date(1899,11,31,0,0,0),hR=P8.getTime(),fR=new Date(1900,2,1,0,0,0);function F8(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=fR&&(r+=24*60*60*1e3),(r-(hR+(t.getTimezoneOffset()-P8.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function vv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function gR(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function mR(t){var e=t<0?12:11,r=vv(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function pR(t){var e=vv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function xR(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=mR(t):e===10?r=t.toFixed(10).substr(0,12):r=pR(t),vv(gR(r.toUpperCase()))}function Mx(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):xR(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Tu(14,F8(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function vR(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function yR(t,e,r,n){var i="",s=0,c=0,f=r.y,g,u=0;switch(t){case 98:f=r.y+543;case 121:switch(e.length){case 1:case 2:g=f%100,u=2;break;default:g=f%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:g=r.m,u=e.length;break;case 3:return Kp[r.m-1][1];case 5:return Kp[r.m-1][0];default:return Kp[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:g=r.d,u=e.length;break;case 3:return Cw[r.q][0];default:return Cw[r.q][1]}break;case 104:switch(e.length){case 1:case 2:g=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:g=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:g=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Al(r.S,e.length):(n>=2?c=n===3?1e3:100:c=n===1?10:1,s=Math.round(c*(r.S+r.u)),s>=60*c&&(s=0),e==="s"?s===0?"0":""+s/c:(i=Al(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:g=f,u=1;break}var m=u>0?Al(g,u):"";return m}function Su(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var B8=/%/g;function wR(t,e,r){var n=e.replace(B8,""),i=e.length-n.length;return Ic(t,n,r*Math.pow(10,2*i))+ra("%",i)}function bR(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ic(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function M8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+M8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+s):r+="E+"+(c-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,g,u,m){return g+u+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var U8=/# (\?+)( ?)\/( ?)(\d+)/;function _R(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),c=i-s*n,f=n;return r+(s===0?"":""+s)+" "+(c===0?ra(" ",t[1].length+1+t[4].length):xv(c,t[1].length)+t[2]+"/"+t[3]+Al(f,t[4].length))}function ER(t,e,r){return r+(e===0?"":""+e)+ra(" ",t[1].length+2+t[4].length)}var z8=/^#*0*\.([0#]+)/,H8=/\).*[0#]/,q8=/\(###\) ###\\?-####/;function Ls(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function jw(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Ow(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function SR(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function NR(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Go(t,e,r){if(t.charCodeAt(0)===40&&!e.match(H8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Go("n",n,r):"("+Go("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return bR(t,e,r);if(e.indexOf("%")!==-1)return wR(t,e,r);if(e.indexOf("E")!==-1)return M8(e,r);if(e.charCodeAt(0)===36)return"$"+Go(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,c,f,g=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+xd(g,e.length);if(e.match(/^[#?]+$/))return i=xd(r,0),i==="0"&&(i=""),i.length>e.length?i:Ls(e.substr(0,e.length-i.length))+i;if(s=e.match(U8))return _R(s,g,u);if(e.match(/^#+0+$/))return u+xd(g,e.length-e.indexOf("0"));if(s=e.match(z8))return i=jw(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ls(s[1])).replace(/\.$/,"."+Ls(s[1])).replace(/\.(\d*)$/,function(C,A){return"."+A+ra("0",Ls(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+jw(g,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Su(xd(g,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Go(t,e,-r):Su(""+(Math.floor(r)+SR(r,s[1].length)))+"."+Al(Ow(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Go(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bd(Go(t,e.replace(/[\\-]/g,""),r)),c=0,Bd(Bd(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<i.length?i.charAt(c++):C==="0"?"0":""}));if(e.match(q8))return i=Go(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),f=w2(g,Math.pow(10,c)-1,!1),i=""+u,m=Ic("n",s[1],f[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],m=v2(f[2],c),m.length<s[4].length&&(m=Ls(s[4].substr(s[4].length-m.length))+m),i+=m,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),f=w2(g,Math.pow(10,c)-1,!0),u+(f[0]||(f[1]?"":"0"))+" "+(f[1]?xv(f[1],c)+s[2]+"/"+s[3]+v2(f[2],c):ra(" ",2*c+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=xd(r,0),e.length<=i.length?i:Ls(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var v=e.indexOf(".")-c,b=e.length-i.length-v;return Ls(e.substr(0,v)+i+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return c=Ow(r,s[1].length),r<0?"-"+Go(t,e,-r):Su(NR(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?Al(0,3-C.length):"")+C})+"."+Al(c,s[1].length);switch(e){case"###,##0.00":return Go(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var _=Su(xd(g,0));return _!=="0"?u+_:"";case"###,###.00":return Go(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Go(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function AR(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ic(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function CR(t,e,r){var n=e.replace(B8,""),i=e.length-n.length;return Ic(t,n,r*Math.pow(10,2*i))+ra("%",i)}function W8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+W8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+s):r+="E+"+(c-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,g,u,m){return g+u+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ql(t,e,r){if(t.charCodeAt(0)===40&&!e.match(H8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ql("n",n,r):"("+Ql("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return AR(t,e,r);if(e.indexOf("%")!==-1)return CR(t,e,r);if(e.indexOf("E")!==-1)return W8(e,r);if(e.charCodeAt(0)===36)return"$"+Ql(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,c,f,g=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Al(g,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ls(e.substr(0,e.length-i.length))+i;if(s=e.match(U8))return ER(s,g,u);if(e.match(/^#+0+$/))return u+Al(g,e.length-e.indexOf("0"));if(s=e.match(z8))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ls(s[1])).replace(/\.$/,"."+Ls(s[1])),i=i.replace(/\.(\d*)$/,function(C,A){return"."+A+ra("0",Ls(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Su(""+g);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ql(t,e,-r):Su(""+r)+"."+ra("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ql(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bd(Ql(t,e.replace(/[\\-]/g,""),r)),c=0,Bd(Bd(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<i.length?i.charAt(c++):C==="0"?"0":""}));if(e.match(q8))return i=Ql(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),f=w2(g,Math.pow(10,c)-1,!1),i=""+u,m=Ic("n",s[1],f[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],m=v2(f[2],c),m.length<s[4].length&&(m=Ls(s[4].substr(s[4].length-m.length))+m),i+=m,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),f=w2(g,Math.pow(10,c)-1,!0),u+(f[0]||(f[1]?"":"0"))+" "+(f[1]?xv(f[1],c)+s[2]+"/"+s[3]+v2(f[2],c):ra(" ",2*c+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ls(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var v=e.indexOf(".")-c,b=e.length-i.length-v;return Ls(e.substr(0,v)+i+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ql(t,e,-r):Su(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?Al(0,3-C.length):"")+C})+"."+Al(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=Su(""+g);return _!=="0"?u+_:"";default:if(e.match(/\.[0#?]*$/))return Ql(t,e.slice(0,e.lastIndexOf(".")),r)+Ls(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ic(t,e,r){return(r|0)===r?Ql(t,e,r):Go(t,e,r)}function TR(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var V8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function G8(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":y2(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(V8))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function jR(t,e,r,n){for(var i=[],s="",c=0,f="",g="t",u,m,v,b="H";c<t.length;)switch(f=t.charAt(c)){case"G":if(!y2(t,c))throw new Error("unrecognized character "+f+" in "+t);i[i.length]={t:"G",v:"General"},c+=7;break;case'"':for(s="";(v=t.charCodeAt(++c))!==34&&c<t.length;)s+=String.fromCharCode(v);i[i.length]={t:"t",v:s},++c;break;case"\\":var _=t.charAt(++c),C=_==="("||_===")"?_:"t";i[i.length]={t:C,v:_},++c;break;case"_":i[i.length]={t:"t",v:" "},c+=2;break;case"@":i[i.length]={t:"T",v:e},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(u==null&&(u=ig(e,r,t.charAt(c+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(c,2)},g=f,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=ig(e,r),u==null))return"";for(s=f;++c<t.length&&t.charAt(c).toLowerCase()===f;)s+=f;f==="m"&&g.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=b),i[i.length]={t:f,v:s},g=f;break;case"A":case"a":case"":var A={t:f,v:f};if(u==null&&(u=ig(e,r)),t.substr(c,3).toUpperCase()==="A/P"?(u!=null&&(A.v=u.H>=12?"P":"A"),A.t="T",b="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(u!=null&&(A.v=u.H>=12?"PM":"AM"),A.t="T",c+=5,b="h"):t.substr(c,5).toUpperCase()==="/"?(u!=null&&(A.v=u.H>=12?"":""),A.t="T",c+=5,b="h"):(A.t="t",++c),u==null&&A.t==="T")return"";i[i.length]=A,g=f;break;case"[":for(s=f;t.charAt(c++)!=="]"&&c<t.length;)s+=t.charAt(c);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(V8)){if(u==null&&(u=ig(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},g=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",G8(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=f;++c<t.length&&(f=t.charAt(c))==="0";)s+=f;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=f;++c<t.length&&"0#?.,E+-%".indexOf(f=t.charAt(c))>-1;)s+=f;i[i.length]={t:"n",v:s};break;case"?":for(s=f;t.charAt(++c)===f;)s+=f;i[i.length]={t:f,v:s},g=f;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":i[i.length]={t:n===1?"t":f,v:f},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=f;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)s+=t.charAt(c);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:f,v:f},++c;break;case"$":i[i.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+t);i[i.length]={t:"t",v:f},++c;break}var j=0,L=0,I;for(c=i.length-1,g="t";c>=0;--c)switch(i[c].t){case"h":case"H":i[c].t=b,g="h",j<1&&(j=1);break;case"s":(I=i[c].v.match(/\.0+$/))&&(L=Math.max(L,I[0].length-1)),j<3&&(j=3);case"d":case"y":case"M":case"e":g=i[c].t;break;case"m":g==="s"&&(i[c].t="M",j<2&&(j=2));break;case"X":break;case"Z":j<1&&i[c].v.match(/[Hh]/)&&(j=1),j<2&&i[c].v.match(/[Mm]/)&&(j=2),j<3&&i[c].v.match(/[Ss]/)&&(j=3)}switch(j){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var P="",X;for(c=0;c<i.length;++c)switch(i[c].t){case"t":case"T":case" ":case"D":break;case"X":i[c].v="",i[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[c].v=yR(i[c].t.charCodeAt(0),i[c].v,u,L),i[c].t="t";break;case"n":case"?":for(X=c+1;i[X]!=null&&((f=i[X].t)==="?"||f==="D"||(f===" "||f==="t")&&i[X+1]!=null&&(i[X+1].t==="?"||i[X+1].t==="t"&&i[X+1].v==="/")||i[c].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(i[X].v==="/"||i[X].v===" "&&i[X+1]!=null&&i[X+1].t=="?"));)i[c].v+=i[X].v,i[X]={v:"",t:";"},++X;P+=i[c].v,c=X-1;break;case"G":i[c].t="t",i[c].v=Mx(e,r);break}var Y="",K,G;if(P.length>0){P.charCodeAt(0)==40?(K=e<0&&P.charCodeAt(0)===45?-e:e,G=Ic("n",P,K)):(K=e<0&&n>1?-e:e,G=Ic("n",P,K),K<0&&i[0]&&i[0].t=="t"&&(G=G.substr(1),i[0].v="-"+i[0].v)),X=G.length-1;var V=i.length;for(c=0;c<i.length;++c)if(i[c]!=null&&i[c].t!="t"&&i[c].v.indexOf(".")>-1){V=c;break}var z=i.length;if(V===i.length&&G.indexOf("E")===-1){for(c=i.length-1;c>=0;--c)i[c]==null||"n?".indexOf(i[c].t)===-1||(X>=i[c].v.length-1?(X-=i[c].v.length,i[c].v=G.substr(X+1,i[c].v.length)):X<0?i[c].v="":(i[c].v=G.substr(0,X+1),X=-1),i[c].t="t",z=c);X>=0&&z<i.length&&(i[z].v=G.substr(0,X+1)+i[z].v)}else if(V!==i.length&&G.indexOf("E")===-1){for(X=G.indexOf(".")-1,c=V;c>=0;--c)if(!(i[c]==null||"n?".indexOf(i[c].t)===-1)){for(m=i[c].v.indexOf(".")>-1&&c===V?i[c].v.indexOf(".")-1:i[c].v.length-1,Y=i[c].v.substr(m+1);m>=0;--m)X>=0&&(i[c].v.charAt(m)==="0"||i[c].v.charAt(m)==="#")&&(Y=G.charAt(X--)+Y);i[c].v=Y,i[c].t="t",z=c}for(X>=0&&z<i.length&&(i[z].v=G.substr(0,X+1)+i[z].v),X=G.indexOf(".")+1,c=V;c<i.length;++c)if(!(i[c]==null||"n?(".indexOf(i[c].t)===-1&&c!==V)){for(m=i[c].v.indexOf(".")>-1&&c===V?i[c].v.indexOf(".")+1:0,Y=i[c].v.substr(0,m);m<i[c].v.length;++m)X<G.length&&(Y+=G.charAt(X++));i[c].v=Y,i[c].t="t",z=c}}}for(c=0;c<i.length;++c)i[c]!=null&&"n?".indexOf(i[c].t)>-1&&(K=n>1&&e<0&&c>0&&i[c-1].v==="-"?-e:e,i[c].v=Ic(i[c].t,i[c].v,K),i[c].t="t");var ie="";for(c=0;c!==i.length;++c)i[c]!=null&&(ie+=i[c].v);return ie}var Rw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function kw(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function OR(t,e){var r=TR(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(Rw),f=r[1].match(Rw);return kw(e,c)?[n,r[0]]:kw(e,f)?[n,r[1]]:[n,r[c!=null&&f!=null?2:1]]}return[n,s]}function Tu(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:na)[t],n==null&&(n=r.table&&r.table[Tw[t]]||na[Tw[t]]),n==null&&(n=dR[t]||"General");break}if(y2(n,0))return Mx(e,r);e instanceof Date&&(e=F8(e,r.date1904));var i=OR(n,e);if(y2(i[1]))return Mx(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return jR(i[1],e,r,i[0])}function $8(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(na[r]==null){e<0&&(e=r);continue}if(na[r]==t){e=r;break}}e<0&&(e=391)}return na[e]=t,e}function tm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&$8(t[e],e)}function rm(){na=uR()}var X8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function RR(t){var e=typeof t=="number"?na[t]:t;return e=e.replace(X8,"(\\d+)"),new RegExp("^"+e+"$")}function kR(t,e,r){var n=-1,i=-1,s=-1,c=-1,f=-1,g=-1;(e.match(X8)||[]).forEach(function(v,b){var _=parseInt(r[b+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=_;break;case"d":s=_;break;case"h":c=_;break;case"s":g=_;break;case"m":c>=0?f=_:i=_;break}}),g>=0&&f==-1&&i>=0&&(f=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var m=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return c==-1&&f==-1&&g==-1?u:n==-1&&i==-1&&s==-1?m:u+"T"+m}var LR=function(){var t={};t.version="1.2.0";function e(){for(var G=0,V=new Array(256),z=0;z!=256;++z)G=z,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,V[z]=G;return typeof Int32Array!="undefined"?new Int32Array(V):V}var r=e();function n(G){var V=0,z=0,ie=0,W=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(ie=0;ie!=256;++ie)W[ie]=G[ie];for(ie=0;ie!=256;++ie)for(z=G[ie],V=256+ie;V<4096;V+=256)z=W[V]=z>>>8^G[z&255];var H=[];for(ie=1;ie!=16;++ie)H[ie-1]=typeof Int32Array!="undefined"?W.subarray(ie*256,ie*256+256):W.slice(ie*256,ie*256+256);return H}var i=n(r),s=i[0],c=i[1],f=i[2],g=i[3],u=i[4],m=i[5],v=i[6],b=i[7],_=i[8],C=i[9],A=i[10],j=i[11],L=i[12],I=i[13],P=i[14];function X(G,V){for(var z=V^-1,ie=0,W=G.length;ie<W;)z=z>>>8^r[(z^G.charCodeAt(ie++))&255];return~z}function Y(G,V){for(var z=V^-1,ie=G.length-15,W=0;W<ie;)z=P[G[W++]^z&255]^I[G[W++]^z>>8&255]^L[G[W++]^z>>16&255]^j[G[W++]^z>>>24]^A[G[W++]]^C[G[W++]]^_[G[W++]]^b[G[W++]]^v[G[W++]]^m[G[W++]]^u[G[W++]]^g[G[W++]]^f[G[W++]]^c[G[W++]]^s[G[W++]]^r[G[W++]];for(ie+=15;W<ie;)z=z>>>8^r[(z^G[W++])&255];return~z}function K(G,V){for(var z=V^-1,ie=0,W=G.length,H=0,ne=0;ie<W;)H=G.charCodeAt(ie++),H<128?z=z>>>8^r[(z^H)&255]:H<2048?(z=z>>>8^r[(z^(192|H>>6&31))&255],z=z>>>8^r[(z^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,ne=G.charCodeAt(ie++)&1023,z=z>>>8^r[(z^(240|H>>8&7))&255],z=z>>>8^r[(z^(128|H>>2&63))&255],z=z>>>8^r[(z^(128|ne>>6&15|(H&3)<<4))&255],z=z>>>8^r[(z^(128|ne&63))&255]):(z=z>>>8^r[(z^(224|H>>12&15))&255],z=z>>>8^r[(z^(128|H>>6&63))&255],z=z>>>8^r[(z^(128|H&63))&255]);return~z}return t.table=r,t.bstr=X,t.buf=Y,t.str=K,t}(),di=function(){var e={};e.version="1.2.1";function r(ge,Se){for(var Ce=ge.split("/"),je=Se.split("/"),ke=0,Be=0,lt=Math.min(Ce.length,je.length);ke<lt;++ke){if(Be=Ce[ke].length-je[ke].length)return Be;if(Ce[ke]!=je[ke])return Ce[ke]<je[ke]?-1:1}return Ce.length-je.length}function n(ge){if(ge.charAt(ge.length-1)=="/")return ge.slice(0,-1).indexOf("/")===-1?ge:n(ge.slice(0,-1));var Se=ge.lastIndexOf("/");return Se===-1?ge:ge.slice(0,Se+1)}function i(ge){if(ge.charAt(ge.length-1)=="/")return i(ge.slice(0,-1));var Se=ge.lastIndexOf("/");return Se===-1?ge:ge.slice(Se+1)}function s(ge,Se){typeof Se=="string"&&(Se=new Date(Se));var Ce=Se.getHours();Ce=Ce<<6|Se.getMinutes(),Ce=Ce<<5|Se.getSeconds()>>>1,ge.write_shift(2,Ce);var je=Se.getFullYear()-1980;je=je<<4|Se.getMonth()+1,je=je<<5|Se.getDate(),ge.write_shift(2,je)}function c(ge){var Se=ge.read_shift(2)&65535,Ce=ge.read_shift(2)&65535,je=new Date,ke=Ce&31;Ce>>>=5;var Be=Ce&15;Ce>>>=4,je.setMilliseconds(0),je.setFullYear(Ce+1980),je.setMonth(Be-1),je.setDate(ke);var lt=Se&31;Se>>>=5;var wt=Se&63;return Se>>>=6,je.setHours(Se),je.setMinutes(wt),je.setSeconds(lt<<1),je}function f(ge){So(ge,0);for(var Se={},Ce=0;ge.l<=ge.length-4;){var je=ge.read_shift(2),ke=ge.read_shift(2),Be=ge.l+ke,lt={};switch(je){case 21589:Ce=ge.read_shift(1),Ce&1&&(lt.mtime=ge.read_shift(4)),ke>5&&(Ce&2&&(lt.atime=ge.read_shift(4)),Ce&4&&(lt.ctime=ge.read_shift(4))),lt.mtime&&(lt.mt=new Date(lt.mtime*1e3));break}ge.l=Be,Se[je]=lt}return Se}var g;function u(){return g||(g={})}function m(ge,Se){if(ge[0]==80&&ge[1]==75)return Mn(ge,Se);if((ge[0]|32)==109&&(ge[1]|32)==105)return Hi(ge,Se);if(ge.length<512)throw new Error("CFB file size "+ge.length+" < 512");var Ce=3,je=512,ke=0,Be=0,lt=0,wt=0,Je=0,ht=[],mt=ge.slice(0,512);So(mt,0);var Ot=v(mt);switch(Ce=Ot[0],Ce){case 3:je=512;break;case 4:je=4096;break;case 0:if(Ot[1]==0)return Mn(ge,Se);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ce)}je!==512&&(mt=ge.slice(0,je),So(mt,28));var zt=ge.slice(0,je);b(mt,Ce);var Gt=mt.read_shift(4,"i");if(Ce===3&&Gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Gt);mt.l+=4,lt=mt.read_shift(4,"i"),mt.l+=4,mt.chk("00100000","Mini Stream Cutoff Size: "),wt=mt.read_shift(4,"i"),ke=mt.read_shift(4,"i"),Je=mt.read_shift(4,"i"),Be=mt.read_shift(4,"i");for(var $t=-1,Jt=0;Jt<109&&($t=mt.read_shift(4,"i"),!($t<0));++Jt)ht[Jt]=$t;var jr=_(ge,je);j(Je,Be,jr,je,ht);var te=I(jr,lt,ht,je);te[lt].name="!Directory",ke>0&&wt!==ne&&(te[wt].name="!MiniFAT"),te[ht[0]].name="!FAT",te.fat_addrs=ht,te.ssz=je;var Et={},Yt=[],tn=[],Rn=[];P(lt,te,jr,Yt,ke,Et,tn,wt),C(tn,Rn,Yt),Yt.shift();var pr={FileIndex:tn,FullPaths:Rn};return Se&&Se.raw&&(pr.raw={header:zt,sectors:jr}),pr}function v(ge){if(ge[ge.l]==80&&ge[ge.l+1]==75)return[0,0];ge.chk(ve,"Header Signature: "),ge.l+=16;var Se=ge.read_shift(2,"u");return[ge.read_shift(2,"u"),Se]}function b(ge,Se){var Ce=9;switch(ge.l+=2,Ce=ge.read_shift(2)){case 9:if(Se!=3)throw new Error("Sector Shift: Expected 9 saw "+Ce);break;case 12:if(Se!=4)throw new Error("Sector Shift: Expected 12 saw "+Ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ce)}ge.chk("0600","Mini Sector Shift: "),ge.chk("000000000000","Reserved: ")}function _(ge,Se){for(var Ce=Math.ceil(ge.length/Se)-1,je=[],ke=1;ke<Ce;++ke)je[ke-1]=ge.slice(ke*Se,(ke+1)*Se);return je[Ce-1]=ge.slice(Ce*Se),je}function C(ge,Se,Ce){for(var je=0,ke=0,Be=0,lt=0,wt=0,Je=Ce.length,ht=[],mt=[];je<Je;++je)ht[je]=mt[je]=je,Se[je]=Ce[je];for(;wt<mt.length;++wt)je=mt[wt],ke=ge[je].L,Be=ge[je].R,lt=ge[je].C,ht[je]===je&&(ke!==-1&&ht[ke]!==ke&&(ht[je]=ht[ke]),Be!==-1&&ht[Be]!==Be&&(ht[je]=ht[Be])),lt!==-1&&(ht[lt]=je),ke!==-1&&je!=ht[je]&&(ht[ke]=ht[je],mt.lastIndexOf(ke)<wt&&mt.push(ke)),Be!==-1&&je!=ht[je]&&(ht[Be]=ht[je],mt.lastIndexOf(Be)<wt&&mt.push(Be));for(je=1;je<Je;++je)ht[je]===je&&(Be!==-1&&ht[Be]!==Be?ht[je]=ht[Be]:ke!==-1&&ht[ke]!==ke&&(ht[je]=ht[ke]));for(je=1;je<Je;++je)if(ge[je].type!==0){if(wt=je,wt!=ht[wt])do wt=ht[wt],Se[je]=Se[wt]+"/"+Se[je];while(wt!==0&&ht[wt]!==-1&&wt!=ht[wt]);ht[je]=-1}for(Se[0]+="/",je=1;je<Je;++je)ge[je].type!==2&&(Se[je]+="/")}function A(ge,Se,Ce){for(var je=ge.start,ke=ge.size,Be=[],lt=je;Ce&&ke>0&&lt>=0;)Be.push(Se.slice(lt*H,lt*H+H)),ke-=H,lt=f0(Ce,lt*4);return Be.length===0?Ct(0):is(Be).slice(0,ge.size)}function j(ge,Se,Ce,je,ke){var Be=ne;if(ge===ne){if(Se!==0)throw new Error("DIFAT chain shorter than expected")}else if(ge!==-1){var lt=Ce[ge],wt=(je>>>2)-1;if(!lt)return;for(var Je=0;Je<wt&&(Be=f0(lt,Je*4))!==ne;++Je)ke.push(Be);j(f0(lt,je-4),Se-1,Ce,je,ke)}}function L(ge,Se,Ce,je,ke){var Be=[],lt=[];ke||(ke=[]);var wt=je-1,Je=0,ht=0;for(Je=Se;Je>=0;){ke[Je]=!0,Be[Be.length]=Je,lt.push(ge[Je]);var mt=Ce[Math.floor(Je*4/je)];if(ht=Je*4&wt,je<4+ht)throw new Error("FAT boundary crossed: "+Je+" 4 "+je);if(!ge[mt])break;Je=f0(ge[mt],ht)}return{nodes:Be,data:Uw([lt])}}function I(ge,Se,Ce,je){var ke=ge.length,Be=[],lt=[],wt=[],Je=[],ht=je-1,mt=0,Ot=0,zt=0,Gt=0;for(mt=0;mt<ke;++mt)if(wt=[],zt=mt+Se,zt>=ke&&(zt-=ke),!lt[zt]){Je=[];var $t=[];for(Ot=zt;Ot>=0;){$t[Ot]=!0,lt[Ot]=!0,wt[wt.length]=Ot,Je.push(ge[Ot]);var Jt=Ce[Math.floor(Ot*4/je)];if(Gt=Ot*4&ht,je<4+Gt)throw new Error("FAT boundary crossed: "+Ot+" 4 "+je);if(!ge[Jt]||(Ot=f0(ge[Jt],Gt),$t[Ot]))break}Be[zt]={nodes:wt,data:Uw([Je])}}return Be}function P(ge,Se,Ce,je,ke,Be,lt,wt){for(var Je=0,ht=je.length?2:0,mt=Se[ge].data,Ot=0,zt=0,Gt;Ot<mt.length;Ot+=128){var $t=mt.slice(Ot,Ot+128);So($t,64),zt=$t.read_shift(2),Gt=Ev($t,0,zt-ht),je.push(Gt);var Jt={name:Gt,type:$t.read_shift(1),color:$t.read_shift(1),L:$t.read_shift(4,"i"),R:$t.read_shift(4,"i"),C:$t.read_shift(4,"i"),clsid:$t.read_shift(16),state:$t.read_shift(4,"i"),start:0,size:0},jr=$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2);jr!==0&&(Jt.ct=X($t,$t.l-8));var te=$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2);te!==0&&(Jt.mt=X($t,$t.l-8)),Jt.start=$t.read_shift(4,"i"),Jt.size=$t.read_shift(4,"i"),Jt.size<0&&Jt.start<0&&(Jt.size=Jt.type=0,Jt.start=ne,Jt.name=""),Jt.type===5?(Je=Jt.start,ke>0&&Je!==ne&&(Se[Je].name="!StreamData")):Jt.size>=4096?(Jt.storage="fat",Se[Jt.start]===void 0&&(Se[Jt.start]=L(Ce,Jt.start,Se.fat_addrs,Se.ssz)),Se[Jt.start].name=Jt.name,Jt.content=Se[Jt.start].data.slice(0,Jt.size)):(Jt.storage="minifat",Jt.size<0?Jt.size=0:Je!==ne&&Jt.start!==ne&&Se[Je]&&(Jt.content=A(Jt,Se[Je].data,(Se[wt]||{}).data))),Jt.content&&So(Jt.content,0),Be[Gt]=Jt,lt.push(Jt)}}function X(ge,Se){return new Date((Ao(ge,Se+4)/1e7*Math.pow(2,32)+Ao(ge,Se)/1e7-11644473600)*1e3)}function Y(ge,Se){return u(),m(g.readFileSync(ge),Se)}function K(ge,Se){var Ce=Se&&Se.type;switch(Ce||Yn&&Buffer.isBuffer(ge)&&(Ce="buffer"),Ce||"base64"){case"file":return Y(ge,Se);case"base64":return m(Nl(Mc(ge)),Se);case"binary":return m(Nl(ge),Se)}return m(ge,Se)}function G(ge,Se){var Ce=Se||{},je=Ce.root||"Root Entry";if(ge.FullPaths||(ge.FullPaths=[]),ge.FileIndex||(ge.FileIndex=[]),ge.FullPaths.length!==ge.FileIndex.length)throw new Error("inconsistent CFB structure");ge.FullPaths.length===0&&(ge.FullPaths[0]=je+"/",ge.FileIndex[0]={name:je,type:5}),Ce.CLSID&&(ge.FileIndex[0].clsid=Ce.CLSID),V(ge)}function V(ge){var Se="Sh33tJ5";if(!di.find(ge,"/"+Se)){var Ce=Ct(4);Ce[0]=55,Ce[1]=Ce[3]=50,Ce[2]=54,ge.FileIndex.push({name:Se,type:2,content:Ce,size:4,L:69,R:69,C:69}),ge.FullPaths.push(ge.FullPaths[0]+Se),z(ge)}}function z(ge,Se){G(ge);for(var Ce=!1,je=!1,ke=ge.FullPaths.length-1;ke>=0;--ke){var Be=ge.FileIndex[ke];switch(Be.type){case 0:je?Ce=!0:(ge.FileIndex.pop(),ge.FullPaths.pop());break;case 1:case 2:case 5:je=!0,isNaN(Be.R*Be.L*Be.C)&&(Ce=!0),Be.R>-1&&Be.L>-1&&Be.R==Be.L&&(Ce=!0);break;default:Ce=!0;break}}if(!(!Ce&&!Se)){var lt=new Date(1987,1,19),wt=0,Je=Object.create?Object.create(null):{},ht=[];for(ke=0;ke<ge.FullPaths.length;++ke)Je[ge.FullPaths[ke]]=!0,ge.FileIndex[ke].type!==0&&ht.push([ge.FullPaths[ke],ge.FileIndex[ke]]);for(ke=0;ke<ht.length;++ke){var mt=n(ht[ke][0]);je=Je[mt],je||(ht.push([mt,{name:i(mt).replace("/",""),type:1,clsid:he,ct:lt,mt:lt,content:null}]),Je[mt]=!0)}for(ht.sort(function(Gt,$t){return r(Gt[0],$t[0])}),ge.FullPaths=[],ge.FileIndex=[],ke=0;ke<ht.length;++ke)ge.FullPaths[ke]=ht[ke][0],ge.FileIndex[ke]=ht[ke][1];for(ke=0;ke<ht.length;++ke){var Ot=ge.FileIndex[ke],zt=ge.FullPaths[ke];if(Ot.name=i(zt).replace("/",""),Ot.L=Ot.R=Ot.C=-(Ot.color=1),Ot.size=Ot.content?Ot.content.length:0,Ot.start=0,Ot.clsid=Ot.clsid||he,ke===0)Ot.C=ht.length>1?1:-1,Ot.size=0,Ot.type=5;else if(zt.slice(-1)=="/"){for(wt=ke+1;wt<ht.length&&n(ge.FullPaths[wt])!=zt;++wt);for(Ot.C=wt>=ht.length?-1:wt,wt=ke+1;wt<ht.length&&n(ge.FullPaths[wt])!=n(zt);++wt);Ot.R=wt>=ht.length?-1:wt,Ot.type=1}else n(ge.FullPaths[ke+1]||"")==n(zt)&&(Ot.R=ke+1),Ot.type=2}}}function ie(ge,Se){var Ce=Se||{};if(Ce.fileType=="mad")return cr(ge,Ce);switch(z(ge),Ce.fileType){case"zip":return Xn(ge,Ce)}var je=function(Gt){for(var $t=0,Jt=0,jr=0;jr<Gt.FileIndex.length;++jr){var te=Gt.FileIndex[jr];if(te.content){var Et=te.content.length;Et>0&&(Et<4096?$t+=Et+63>>6:Jt+=Et+511>>9)}}for(var Yt=Gt.FullPaths.length+3>>2,tn=$t+7>>3,Rn=$t+127>>7,pr=tn+Jt+Yt+Rn,sr=pr+127>>7,xr=sr<=109?0:Math.ceil((sr-109)/127);pr+sr+xr+127>>7>sr;)xr=++sr<=109?0:Math.ceil((sr-109)/127);var Sr=[1,xr,sr,Rn,Yt,Jt,$t,0];return Gt.FileIndex[0].size=$t<<6,Sr[7]=(Gt.FileIndex[0].start=Sr[0]+Sr[1]+Sr[2]+Sr[3]+Sr[4]+Sr[5])+(Sr[6]+7>>3),Sr}(ge),ke=Ct(je[7]<<9),Be=0,lt=0;{for(Be=0;Be<8;++Be)ke.write_shift(1,me[Be]);for(Be=0;Be<8;++Be)ke.write_shift(2,0);for(ke.write_shift(2,62),ke.write_shift(2,3),ke.write_shift(2,65534),ke.write_shift(2,9),ke.write_shift(2,6),Be=0;Be<3;++Be)ke.write_shift(2,0);for(ke.write_shift(4,0),ke.write_shift(4,je[2]),ke.write_shift(4,je[0]+je[1]+je[2]+je[3]-1),ke.write_shift(4,0),ke.write_shift(4,4096),ke.write_shift(4,je[3]?je[0]+je[1]+je[2]-1:ne),ke.write_shift(4,je[3]),ke.write_shift(-4,je[1]?je[0]-1:ne),ke.write_shift(4,je[1]),Be=0;Be<109;++Be)ke.write_shift(-4,Be<je[2]?je[1]+Be:-1)}if(je[1])for(lt=0;lt<je[1];++lt){for(;Be<236+lt*127;++Be)ke.write_shift(-4,Be<je[2]?je[1]+Be:-1);ke.write_shift(-4,lt===je[1]-1?ne:lt+1)}var wt=function(Gt){for(lt+=Gt;Be<lt-1;++Be)ke.write_shift(-4,Be+1);Gt&&(++Be,ke.write_shift(-4,ne))};for(lt=Be=0,lt+=je[1];Be<lt;++Be)ke.write_shift(-4,be.DIFSECT);for(lt+=je[2];Be<lt;++Be)ke.write_shift(-4,be.FATSECT);wt(je[3]),wt(je[4]);for(var Je=0,ht=0,mt=ge.FileIndex[0];Je<ge.FileIndex.length;++Je)mt=ge.FileIndex[Je],mt.content&&(ht=mt.content.length,!(ht<4096)&&(mt.start=lt,wt(ht+511>>9)));for(wt(je[6]+7>>3);ke.l&511;)ke.write_shift(-4,be.ENDOFCHAIN);for(lt=Be=0,Je=0;Je<ge.FileIndex.length;++Je)mt=ge.FileIndex[Je],mt.content&&(ht=mt.content.length,!(!ht||ht>=4096)&&(mt.start=lt,wt(ht+63>>6)));for(;ke.l&511;)ke.write_shift(-4,be.ENDOFCHAIN);for(Be=0;Be<je[4]<<2;++Be){var Ot=ge.FullPaths[Be];if(!Ot||Ot.length===0){for(Je=0;Je<17;++Je)ke.write_shift(4,0);for(Je=0;Je<3;++Je)ke.write_shift(4,-1);for(Je=0;Je<12;++Je)ke.write_shift(4,0);continue}mt=ge.FileIndex[Be],Be===0&&(mt.start=mt.size?mt.start-1:ne);var zt=Be===0&&Ce.root||mt.name;if(ht=2*(zt.length+1),ke.write_shift(64,zt,"utf16le"),ke.write_shift(2,ht),ke.write_shift(1,mt.type),ke.write_shift(1,mt.color),ke.write_shift(-4,mt.L),ke.write_shift(-4,mt.R),ke.write_shift(-4,mt.C),mt.clsid)ke.write_shift(16,mt.clsid,"hex");else for(Je=0;Je<4;++Je)ke.write_shift(4,0);ke.write_shift(4,mt.state||0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,mt.start),ke.write_shift(4,mt.size),ke.write_shift(4,0)}for(Be=1;Be<ge.FileIndex.length;++Be)if(mt=ge.FileIndex[Be],mt.size>=4096)if(ke.l=mt.start+1<<9,Yn&&Buffer.isBuffer(mt.content))mt.content.copy(ke,ke.l,0,mt.size),ke.l+=mt.size+511&-512;else{for(Je=0;Je<mt.size;++Je)ke.write_shift(1,mt.content[Je]);for(;Je&511;++Je)ke.write_shift(1,0)}for(Be=1;Be<ge.FileIndex.length;++Be)if(mt=ge.FileIndex[Be],mt.size>0&&mt.size<4096)if(Yn&&Buffer.isBuffer(mt.content))mt.content.copy(ke,ke.l,0,mt.size),ke.l+=mt.size+63&-64;else{for(Je=0;Je<mt.size;++Je)ke.write_shift(1,mt.content[Je]);for(;Je&63;++Je)ke.write_shift(1,0)}if(Yn)ke.l=ke.length;else for(;ke.l<ke.length;)ke.write_shift(1,0);return ke}function W(ge,Se){var Ce=ge.FullPaths.map(function(Je){return Je.toUpperCase()}),je=Ce.map(function(Je){var ht=Je.split("/");return ht[ht.length-(Je.slice(-1)=="/"?2:1)]}),ke=!1;Se.charCodeAt(0)===47?(ke=!0,Se=Ce[0].slice(0,-1)+Se):ke=Se.indexOf("/")!==-1;var Be=Se.toUpperCase(),lt=ke===!0?Ce.indexOf(Be):je.indexOf(Be);if(lt!==-1)return ge.FileIndex[lt];var wt=!Be.match(ng);for(Be=Be.replace(ff,""),wt&&(Be=Be.replace(ng,"!")),lt=0;lt<Ce.length;++lt)if((wt?Ce[lt].replace(ng,"!"):Ce[lt]).replace(ff,"")==Be||(wt?je[lt].replace(ng,"!"):je[lt]).replace(ff,"")==Be)return ge.FileIndex[lt];return null}var H=64,ne=-2,ve="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],he="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ne,FREESECT:-1,HEADER_SIGNATURE:ve,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:he,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Pe(ge,Se,Ce){u();var je=ie(ge,Ce);g.writeFileSync(Se,je)}function Ae(ge){for(var Se=new Array(ge.length),Ce=0;Ce<ge.length;++Ce)Se[Ce]=String.fromCharCode(ge[Ce]);return Se.join("")}function se(ge,Se){var Ce=ie(ge,Se);switch(Se&&Se.type||"buffer"){case"file":return u(),g.writeFileSync(Se.filename,Ce),Ce;case"binary":return typeof Ce=="string"?Ce:Ae(Ce);case"base64":return Sf(typeof Ce=="string"?Ce:Ae(Ce));case"buffer":if(Yn)return Buffer.isBuffer(Ce)?Ce:zc(Ce);case"array":return typeof Ce=="string"?Nl(Ce):Ce}return Ce}var Le;function M(ge){try{var Se=ge.InflateRaw,Ce=new Se;if(Ce._processChunk(new Uint8Array([3,0]),Ce._finishFlushFlag),Ce.bytesRead)Le=ge;else throw new Error("zlib does not expose bytesRead")}catch(je){console.error("cannot use native zlib: "+(je.message||je))}}function q(ge,Se){if(!Le)return Qr(ge,Se);var Ce=Le.InflateRaw,je=new Ce,ke=je._processChunk(ge.slice(ge.l),je._finishFlushFlag);return ge.l+=je.bytesRead,ke}function J(ge){return Le?Le.deflateRawSync(ge):Br(ge)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(ge){var Se=(ge<<1|ge<<11)&139536|(ge<<5|ge<<15)&558144;return(Se>>16|Se>>8|Se)&255}for(var Me=typeof Uint8Array!="undefined",Oe=Me?new Uint8Array(256):[],ze=0;ze<256;++ze)Oe[ze]=Te(ze);function st(ge,Se){var Ce=Oe[ge&255];return Se<=8?Ce>>>8-Se:(Ce=Ce<<8|Oe[ge>>8&255],Se<=16?Ce>>>16-Se:(Ce=Ce<<8|Oe[ge>>16&255],Ce>>>24-Se))}function ct(ge,Se){var Ce=Se&7,je=Se>>>3;return(ge[je]|(Ce<=6?0:ge[je+1]<<8))>>>Ce&3}function Nt(ge,Se){var Ce=Se&7,je=Se>>>3;return(ge[je]|(Ce<=5?0:ge[je+1]<<8))>>>Ce&7}function it(ge,Se){var Ce=Se&7,je=Se>>>3;return(ge[je]|(Ce<=4?0:ge[je+1]<<8))>>>Ce&15}function fe(ge,Se){var Ce=Se&7,je=Se>>>3;return(ge[je]|(Ce<=3?0:ge[je+1]<<8))>>>Ce&31}function Ve(ge,Se){var Ce=Se&7,je=Se>>>3;return(ge[je]|(Ce<=1?0:ge[je+1]<<8))>>>Ce&127}function rt(ge,Se,Ce){var je=Se&7,ke=Se>>>3,Be=(1<<Ce)-1,lt=ge[ke]>>>je;return Ce<8-je||(lt|=ge[ke+1]<<8-je,Ce<16-je)||(lt|=ge[ke+2]<<16-je,Ce<24-je)||(lt|=ge[ke+3]<<24-je),lt&Be}function He(ge,Se,Ce){var je=Se&7,ke=Se>>>3;return je<=5?ge[ke]|=(Ce&7)<<je:(ge[ke]|=Ce<<je&255,ge[ke+1]=(Ce&7)>>8-je),Se+3}function Ke(ge,Se,Ce){var je=Se&7,ke=Se>>>3;return Ce=(Ce&1)<<je,ge[ke]|=Ce,Se+1}function et(ge,Se,Ce){var je=Se&7,ke=Se>>>3;return Ce<<=je,ge[ke]|=Ce&255,Ce>>>=8,ge[ke+1]=Ce,Se+8}function Dt(ge,Se,Ce){var je=Se&7,ke=Se>>>3;return Ce<<=je,ge[ke]|=Ce&255,Ce>>>=8,ge[ke+1]=Ce&255,ge[ke+2]=Ce>>>8,Se+16}function Mt(ge,Se){var Ce=ge.length,je=2*Ce>Se?2*Ce:Se+5,ke=0;if(Ce>=Se)return ge;if(Yn){var Be=Nw(je);if(ge.copy)ge.copy(Be);else for(;ke<ge.length;++ke)Be[ke]=ge[ke];return Be}else if(Me){var lt=new Uint8Array(je);if(lt.set)lt.set(ge);else for(;ke<Ce;++ke)lt[ke]=ge[ke];return lt}return ge.length=je,ge}function Xt(ge){for(var Se=new Array(ge),Ce=0;Ce<ge;++Ce)Se[Ce]=0;return Se}function hr(ge,Se,Ce){var je=1,ke=0,Be=0,lt=0,wt=0,Je=ge.length,ht=Me?new Uint16Array(32):Xt(32);for(Be=0;Be<32;++Be)ht[Be]=0;for(Be=Je;Be<Ce;++Be)ge[Be]=0;Je=ge.length;var mt=Me?new Uint16Array(Je):Xt(Je);for(Be=0;Be<Je;++Be)ht[ke=ge[Be]]++,je<ke&&(je=ke),mt[Be]=0;for(ht[0]=0,Be=1;Be<=je;++Be)ht[Be+16]=wt=wt+ht[Be-1]<<1;for(Be=0;Be<Je;++Be)wt=ge[Be],wt!=0&&(mt[Be]=ht[wt+16]++);var Ot=0;for(Be=0;Be<Je;++Be)if(Ot=ge[Be],Ot!=0)for(wt=st(mt[Be],je)>>je-Ot,lt=(1<<je+4-Ot)-1;lt>=0;--lt)Se[wt|lt<<Ot]=Ot&15|Be<<4;return je}var ar=Me?new Uint16Array(512):Xt(512),dr=Me?new Uint16Array(32):Xt(32);if(!Me){for(var mr=0;mr<512;++mr)ar[mr]=0;for(mr=0;mr<32;++mr)dr[mr]=0}(function(){for(var ge=[],Se=0;Se<32;Se++)ge.push(5);hr(ge,dr,32);var Ce=[];for(Se=0;Se<=143;Se++)Ce.push(8);for(;Se<=255;Se++)Ce.push(9);for(;Se<=279;Se++)Ce.push(7);for(;Se<=287;Se++)Ce.push(8);hr(Ce,ar,288)})();var Qt=function(){for(var Se=Me?new Uint8Array(32768):[],Ce=0,je=0;Ce<Ue.length-1;++Ce)for(;je<Ue[Ce+1];++je)Se[je]=Ce;for(;je<32768;++je)Se[je]=29;var ke=Me?new Uint8Array(259):[];for(Ce=0,je=0;Ce<le.length-1;++Ce)for(;je<le[Ce+1];++je)ke[je]=Ce;function Be(wt,Je){for(var ht=0;ht<wt.length;){var mt=Math.min(65535,wt.length-ht),Ot=ht+mt==wt.length;for(Je.write_shift(1,+Ot),Je.write_shift(2,mt),Je.write_shift(2,~mt&65535);mt-- >0;)Je[Je.l++]=wt[ht++]}return Je.l}function lt(wt,Je){for(var ht=0,mt=0,Ot=Me?new Uint16Array(32768):[];mt<wt.length;){var zt=Math.min(65535,wt.length-mt);if(zt<10){for(ht=He(Je,ht,+(mt+zt==wt.length)),ht&7&&(ht+=8-(ht&7)),Je.l=ht/8|0,Je.write_shift(2,zt),Je.write_shift(2,~zt&65535);zt-- >0;)Je[Je.l++]=wt[mt++];ht=Je.l*8;continue}ht=He(Je,ht,+(mt+zt==wt.length)+2);for(var Gt=0;zt-- >0;){var $t=wt[mt];Gt=(Gt<<5^$t)&32767;var Jt=-1,jr=0;if((Jt=Ot[Gt])&&(Jt|=mt&-32768,Jt>mt&&(Jt-=32768),Jt<mt))for(;wt[Jt+jr]==wt[mt+jr]&&jr<250;)++jr;if(jr>2){$t=ke[jr],$t<=22?ht=et(Je,ht,Oe[$t+1]>>1)-1:(et(Je,ht,3),ht+=5,et(Je,ht,Oe[$t-23]>>5),ht+=3);var te=$t<8?0:$t-4>>2;te>0&&(Dt(Je,ht,jr-le[$t]),ht+=te),$t=Se[mt-Jt],ht=et(Je,ht,Oe[$t]>>3),ht-=3;var Et=$t<4?0:$t-2>>1;Et>0&&(Dt(Je,ht,mt-Jt-Ue[$t]),ht+=Et);for(var Yt=0;Yt<jr;++Yt)Ot[Gt]=mt&32767,Gt=(Gt<<5^wt[mt])&32767,++mt;zt-=jr-1}else $t<=143?$t=$t+48:ht=Ke(Je,ht,1),ht=et(Je,ht,Oe[$t]),Ot[Gt]=mt&32767,++mt}ht=et(Je,ht,0)-1}return Je.l=(ht+7)/8|0,Je.l}return function(Je,ht){return Je.length<8?Be(Je,ht):lt(Je,ht)}}();function Br(ge){var Se=Ct(50+Math.floor(ge.length*1.1)),Ce=Qt(ge,Se);return Se.slice(0,Ce)}var Kt=Me?new Uint16Array(32768):Xt(32768),Lr=Me?new Uint16Array(32768):Xt(32768),fr=Me?new Uint16Array(128):Xt(128),Vt=1,wr=1;function gr(ge,Se){var Ce=fe(ge,Se)+257;Se+=5;var je=fe(ge,Se)+1;Se+=5;var ke=it(ge,Se)+4;Se+=4;for(var Be=0,lt=Me?new Uint8Array(19):Xt(19),wt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Je=1,ht=Me?new Uint8Array(8):Xt(8),mt=Me?new Uint8Array(8):Xt(8),Ot=lt.length,zt=0;zt<ke;++zt)lt[re[zt]]=Be=Nt(ge,Se),Je<Be&&(Je=Be),ht[Be]++,Se+=3;var Gt=0;for(ht[0]=0,zt=1;zt<=Je;++zt)mt[zt]=Gt=Gt+ht[zt-1]<<1;for(zt=0;zt<Ot;++zt)(Gt=lt[zt])!=0&&(wt[zt]=mt[Gt]++);var $t=0;for(zt=0;zt<Ot;++zt)if($t=lt[zt],$t!=0){Gt=Oe[wt[zt]]>>8-$t;for(var Jt=(1<<7-$t)-1;Jt>=0;--Jt)fr[Gt|Jt<<$t]=$t&7|zt<<3}var jr=[];for(Je=1;jr.length<Ce+je;)switch(Gt=fr[Ve(ge,Se)],Se+=Gt&7,Gt>>>=3){case 16:for(Be=3+ct(ge,Se),Se+=2,Gt=jr[jr.length-1];Be-- >0;)jr.push(Gt);break;case 17:for(Be=3+Nt(ge,Se),Se+=3;Be-- >0;)jr.push(0);break;case 18:for(Be=11+Ve(ge,Se),Se+=7;Be-- >0;)jr.push(0);break;default:jr.push(Gt),Je<Gt&&(Je=Gt);break}var te=jr.slice(0,Ce),Et=jr.slice(Ce);for(zt=Ce;zt<286;++zt)te[zt]=0;for(zt=je;zt<30;++zt)Et[zt]=0;return Vt=hr(te,Kt,286),wr=hr(Et,Lr,30),Se}function Kr(ge,Se){if(ge[0]==3&&!(ge[1]&3))return[y0(Se),2];for(var Ce=0,je=0,ke=Nw(Se||1<<18),Be=0,lt=ke.length>>>0,wt=0,Je=0;(je&1)==0;){if(je=Nt(ge,Ce),Ce+=3,je>>>1)je>>1==1?(wt=9,Je=5):(Ce=gr(ge,Ce),wt=Vt,Je=wr);else{Ce&7&&(Ce+=8-(Ce&7));var ht=ge[Ce>>>3]|ge[(Ce>>>3)+1]<<8;if(Ce+=32,ht>0)for(!Se&&lt<Be+ht&&(ke=Mt(ke,Be+ht),lt=ke.length);ht-- >0;)ke[Be++]=ge[Ce>>>3],Ce+=8;continue}for(;;){!Se&&lt<Be+32767&&(ke=Mt(ke,Be+32767),lt=ke.length);var mt=rt(ge,Ce,wt),Ot=je>>>1==1?ar[mt]:Kt[mt];if(Ce+=Ot&15,Ot>>>=4,(Ot>>>8&255)===0)ke[Be++]=Ot;else{if(Ot==256)break;Ot-=257;var zt=Ot<8?0:Ot-4>>2;zt>5&&(zt=0);var Gt=Be+le[Ot];zt>0&&(Gt+=rt(ge,Ce,zt),Ce+=zt),mt=rt(ge,Ce,Je),Ot=je>>>1==1?dr[mt]:Lr[mt],Ce+=Ot&15,Ot>>>=4;var $t=Ot<4?0:Ot-2>>1,Jt=Ue[Ot];for($t>0&&(Jt+=rt(ge,Ce,$t),Ce+=$t),!Se&&lt<Gt&&(ke=Mt(ke,Gt+100),lt=ke.length);Be<Gt;)ke[Be]=ke[Be-Jt],++Be}}}return Se?[ke,Ce+7>>>3]:[ke.slice(0,Be),Ce+7>>>3]}function Qr(ge,Se){var Ce=ge.slice(ge.l||0),je=Kr(Ce,Se);return ge.l+=je[1],je[0]}function ia(ge,Se){if(ge)typeof console!="undefined"&&console.error(Se);else throw new Error(Se)}function Mn(ge,Se){var Ce=ge;So(Ce,0);var je=[],ke=[],Be={FileIndex:je,FullPaths:ke};G(Be,{root:Se.root});for(var lt=Ce.length-4;(Ce[lt]!=80||Ce[lt+1]!=75||Ce[lt+2]!=5||Ce[lt+3]!=6)&&lt>=0;)--lt;Ce.l=lt+4,Ce.l+=4;var wt=Ce.read_shift(2);Ce.l+=6;var Je=Ce.read_shift(4);for(Ce.l=Je,lt=0;lt<wt;++lt){Ce.l+=20;var ht=Ce.read_shift(4),mt=Ce.read_shift(4),Ot=Ce.read_shift(2),zt=Ce.read_shift(2),Gt=Ce.read_shift(2);Ce.l+=8;var $t=Ce.read_shift(4),Jt=f(Ce.slice(Ce.l+Ot,Ce.l+Ot+zt));Ce.l+=Ot+zt+Gt;var jr=Ce.l;Ce.l=$t+4,Ir(Ce,ht,mt,Be,Jt),Ce.l=jr}return Be}function Ir(ge,Se,Ce,je,ke){ge.l+=2;var Be=ge.read_shift(2),lt=ge.read_shift(2),wt=c(ge);if(Be&8257)throw new Error("Unsupported ZIP encryption");for(var Je=ge.read_shift(4),ht=ge.read_shift(4),mt=ge.read_shift(4),Ot=ge.read_shift(2),zt=ge.read_shift(2),Gt="",$t=0;$t<Ot;++$t)Gt+=String.fromCharCode(ge[ge.l++]);if(zt){var Jt=f(ge.slice(ge.l,ge.l+zt));(Jt[21589]||{}).mt&&(wt=Jt[21589].mt),((ke||{})[21589]||{}).mt&&(wt=ke[21589].mt)}ge.l+=zt;var jr=ge.slice(ge.l,ge.l+ht);switch(lt){case 8:jr=q(ge,mt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+lt)}var te=!1;Be&8&&(Je=ge.read_shift(4),Je==134695760&&(Je=ge.read_shift(4),te=!0),ht=ge.read_shift(4),mt=ge.read_shift(4)),ht!=Se&&ia(te,"Bad compressed size: "+Se+" != "+ht),mt!=Ce&&ia(te,"Bad uncompressed size: "+Ce+" != "+mt),cn(je,Gt,jr,{unsafe:!0,mt:wt})}function Xn(ge,Se){var Ce=Se||{},je=[],ke=[],Be=Ct(1),lt=Ce.compression?8:0,wt=0,Je=0,ht=0,mt=0,Ot=0,zt=ge.FullPaths[0],Gt=zt,$t=ge.FileIndex[0],Jt=[],jr=0;for(Je=1;Je<ge.FullPaths.length;++Je)if(Gt=ge.FullPaths[Je].slice(zt.length),$t=ge.FileIndex[Je],!(!$t.size||!$t.content||Gt=="Sh33tJ5")){var te=mt,Et=Ct(Gt.length);for(ht=0;ht<Gt.length;++ht)Et.write_shift(1,Gt.charCodeAt(ht)&127);Et=Et.slice(0,Et.l),Jt[Ot]=LR.buf($t.content,0);var Yt=$t.content;lt==8&&(Yt=J(Yt)),Be=Ct(30),Be.write_shift(4,67324752),Be.write_shift(2,20),Be.write_shift(2,wt),Be.write_shift(2,lt),$t.mt?s(Be,$t.mt):Be.write_shift(4,0),Be.write_shift(-4,Jt[Ot]),Be.write_shift(4,Yt.length),Be.write_shift(4,$t.content.length),Be.write_shift(2,Et.length),Be.write_shift(2,0),mt+=Be.length,je.push(Be),mt+=Et.length,je.push(Et),mt+=Yt.length,je.push(Yt),Be=Ct(46),Be.write_shift(4,33639248),Be.write_shift(2,0),Be.write_shift(2,20),Be.write_shift(2,wt),Be.write_shift(2,lt),Be.write_shift(4,0),Be.write_shift(-4,Jt[Ot]),Be.write_shift(4,Yt.length),Be.write_shift(4,$t.content.length),Be.write_shift(2,Et.length),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(4,0),Be.write_shift(4,te),jr+=Be.l,ke.push(Be),jr+=Et.length,ke.push(Et),++Ot}return Be=Ct(22),Be.write_shift(4,101010256),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(2,Ot),Be.write_shift(2,Ot),Be.write_shift(4,jr),Be.write_shift(4,mt),Be.write_shift(2,0),is([is(je),is(ke),Be])}var Tn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Or(ge,Se){if(ge.ctype)return ge.ctype;var Ce=ge.name||"",je=Ce.match(/\.([^\.]+)$/);return je&&Tn[je[1]]||Se&&(je=(Ce=Se).match(/[\.\\]([^\.\\])+$/),je&&Tn[je[1]])?Tn[je[1]]:"application/octet-stream"}function Dr(ge){for(var Se=Sf(ge),Ce=[],je=0;je<Se.length;je+=76)Ce.push(Se.slice(je,je+76));return Ce.join(`\r
`)+`\r
`}function Ea(ge){var Se=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ht){var mt=ht.charCodeAt(0).toString(16).toUpperCase();return"="+(mt.length==1?"0"+mt:mt)});Se=Se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Se.charAt(0)==`
`&&(Se="=0D"+Se.slice(1)),Se=Se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ce=[],je=Se.split(`\r
`),ke=0;ke<je.length;++ke){var Be=je[ke];if(Be.length==0){Ce.push("");continue}for(var lt=0;lt<Be.length;){var wt=76,Je=Be.slice(lt,lt+wt);Je.charAt(wt-1)=="="?wt--:Je.charAt(wt-2)=="="?wt-=2:Je.charAt(wt-3)=="="&&(wt-=3),Je=Be.slice(lt,lt+wt),lt+=wt,lt<Be.length&&(Je+="="),Ce.push(Je)}}return Ce.join(`\r
`)}function rn(ge){for(var Se=[],Ce=0;Ce<ge.length;++Ce){for(var je=ge[Ce];Ce<=ge.length&&je.charAt(je.length-1)=="=";)je=je.slice(0,je.length-1)+ge[++Ce];Se.push(je)}for(var ke=0;ke<Se.length;++ke)Se[ke]=Se[ke].replace(/[=][0-9A-Fa-f]{2}/g,function(Be){return String.fromCharCode(parseInt(Be.slice(1),16))});return Nl(Se.join(`\r
`))}function Ii(ge,Se,Ce){for(var je="",ke="",Be="",lt,wt=0;wt<10;++wt){var Je=Se[wt];if(!Je||Je.match(/^\s*$/))break;var ht=Je.match(/^(.*?):\s*([^\s].*)$/);if(ht)switch(ht[1].toLowerCase()){case"content-location":je=ht[2].trim();break;case"content-type":Be=ht[2].trim();break;case"content-transfer-encoding":ke=ht[2].trim();break}}switch(++wt,ke.toLowerCase()){case"base64":lt=Nl(Mc(Se.slice(wt).join("")));break;case"quoted-printable":lt=rn(Se.slice(wt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ke)}var mt=cn(ge,je.slice(Ce.length),lt,{unsafe:!0});Be&&(mt.ctype=Be)}function Hi(ge,Se){if(Ae(ge.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ce=Se&&Se.root||"",je=(Yn&&Buffer.isBuffer(ge)?ge.toString("binary"):Ae(ge)).split(`\r
`),ke=0,Be="";for(ke=0;ke<je.length;++ke)if(Be=je[ke],!!/^Content-Location:/i.test(Be)&&(Be=Be.slice(Be.indexOf("file")),Ce||(Ce=Be.slice(0,Be.lastIndexOf("/")+1)),Be.slice(0,Ce.length)!=Ce))for(;Ce.length>0&&(Ce=Ce.slice(0,Ce.length-1),Ce=Ce.slice(0,Ce.lastIndexOf("/")+1),Be.slice(0,Ce.length)!=Ce););var lt=(je[1]||"").match(/boundary="(.*?)"/);if(!lt)throw new Error("MAD cannot find boundary");var wt="--"+(lt[1]||""),Je=[],ht=[],mt={FileIndex:Je,FullPaths:ht};G(mt);var Ot,zt=0;for(ke=0;ke<je.length;++ke){var Gt=je[ke];Gt!==wt&&Gt!==wt+"--"||(zt++&&Ii(mt,je.slice(Ot,ke),Ce),Ot=ke)}return mt}function cr(ge,Se){var Ce=Se||{},je=Ce.boundary||"SheetJS";je="------="+je;for(var ke=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+je.slice(2)+'"',"","",""],Be=ge.FullPaths[0],lt=Be,wt=ge.FileIndex[0],Je=1;Je<ge.FullPaths.length;++Je)if(lt=ge.FullPaths[Je].slice(Be.length),wt=ge.FileIndex[Je],!(!wt.size||!wt.content||lt=="Sh33tJ5")){lt=lt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(jr){return"_x"+jr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(jr){return"_u"+jr.charCodeAt(0).toString(16)+"_"});for(var ht=wt.content,mt=Yn&&Buffer.isBuffer(ht)?ht.toString("binary"):Ae(ht),Ot=0,zt=Math.min(1024,mt.length),Gt=0,$t=0;$t<=zt;++$t)(Gt=mt.charCodeAt($t))>=32&&Gt<128&&++Ot;var Jt=Ot>=zt*4/5;ke.push(je),ke.push("Content-Location: "+(Ce.root||"file:///C:/SheetJS/")+lt),ke.push("Content-Transfer-Encoding: "+(Jt?"quoted-printable":"base64")),ke.push("Content-Type: "+Or(wt,lt)),ke.push(""),ke.push(Jt?Ea(mt):Dr(mt))}return ke.push(je+`--\r
`),ke.join(`\r
`)}function gn(ge){var Se={};return G(Se,ge),Se}function cn(ge,Se,Ce,je){var ke=je&&je.unsafe;ke||G(ge);var Be=!ke&&di.find(ge,Se);if(!Be){var lt=ge.FullPaths[0];Se.slice(0,lt.length)==lt?lt=Se:(lt.slice(-1)!="/"&&(lt+="/"),lt=(lt+Se).replace("//","/")),Be={name:i(Se),type:2},ge.FileIndex.push(Be),ge.FullPaths.push(lt),ke||di.utils.cfb_gc(ge)}return Be.content=Ce,Be.size=Ce?Ce.length:0,je&&(je.CLSID&&(Be.clsid=je.CLSID),je.mt&&(Be.mt=je.mt),je.ct&&(Be.ct=je.ct)),Be}function jn(ge,Se){G(ge);var Ce=di.find(ge,Se);if(Ce){for(var je=0;je<ge.FileIndex.length;++je)if(ge.FileIndex[je]==Ce)return ge.FileIndex.splice(je,1),ge.FullPaths.splice(je,1),!0}return!1}function en(ge,Se,Ce){G(ge);var je=di.find(ge,Se);if(je){for(var ke=0;ke<ge.FileIndex.length;++ke)if(ge.FileIndex[ke]==je)return ge.FileIndex[ke].name=i(Ce),ge.FullPaths[ke]=Ce,!0}return!1}function On(ge){z(ge,!0)}return e.find=W,e.read=K,e.parse=m,e.write=se,e.writeFile=Pe,e.utils={cfb_new:gn,cfb_add:cn,cfb_del:jn,cfb_mov:en,cfb_gc:On,ReadShift:mf,CheckField:h_,prep_blob:So,bconcat:is,use_zlib:M,_deflateRaw:Br,_inflateRaw:Qr,consts:be},e}();function IR(t){return typeof t=="string"?em(t):Array.isArray(t)?sR(t):t}function Ff(t,e,r){if(typeof Deno!="undefined"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=em(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Af(e):e;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(n,t);if(typeof Blob!="undefined"){var i=new Blob([IR(n)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs!="undefined")return saveAs(i,t);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=t,c.href=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var f=File(t);return f.open("w"),f.encoding="binary",Array.isArray(e)&&(e=Pf(e)),f.write(e),f.close(),e}catch(g){if(!g.message||!g.message.match(/onstruct/))throw g}throw new Error("cannot save file "+t)}function os(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Lw(t,e){for(var r=[],n=os(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function yv(t){for(var e=[],r=os(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function nm(t){for(var e=[],r=os(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function DR(t){for(var e=[],r=os(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var b2=new Date(1899,11,30,0,0,0);function eo(t,e){var r=t.getTime(),n=b2.getTime()+(t.getTimezoneOffset()-b2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Y8=new Date,PR=b2.getTime()+(Y8.getTimezoneOffset()-b2.getTimezoneOffset())*6e4,Iw=Y8.getTimezoneOffset();function K8(t){var e=new Date;return e.setTime(t*24*60*60*1e3+PR),e.getTimezoneOffset()!==Iw&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Iw)*6e4),e}var Dw=new Date("2017-02-19T19:06:09.000Z"),Z8=isNaN(Dw.getFullYear())?new Date("2/19/17"):Dw,FR=Z8.getFullYear()==2017;function Ds(t,e){var r=new Date(t);if(FR)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Z8.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function im(t,e){if(Yn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder!="undefined")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch(s){}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function to(t){if(typeof JSON!="undefined"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=to(t[r]));return e}function ra(t,e){for(var r="";r.length<e;)r+=t;return r}function Dc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var BR=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nf(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&BR.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function hn(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Yn?n=zc(r):n=oR(r),di.utils.cfb_add(t,e,n)}di.utils.cfb_add(t,e,r)}else t.file(e,r)}function wv(){return di.utils.cfb_new()}var _a=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},bv=yv(MR),_v=/[&<>'"]/g,UR=/[\u0000-\u0008\u000b-\u001f]/g;function ii(t){var e=t+"";return e.replace(_v,function(r){return bv[r]}).replace(UR,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Pw(t){return ii(t).replace(/ /g,"_x0020_")}var J8=/[\u0000-\u001f]/g;function zR(t){var e=t+"";return e.replace(_v,function(r){return bv[r]}).replace(/\n/g,"<br/>").replace(J8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function HR(t){var e=t+"";return e.replace(_v,function(r){return bv[r]}).replace(J8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function qR(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function WR(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Zp(t){for(var e="",r=0,n=0,i=0,s=0,c=0,f=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){c=(n&31)<<6,c|=i&63,e+=String.fromCharCode(c);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}c=t.charCodeAt(r++),f=((n&7)<<18|(i&63)<<12|(s&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function Fw(t){var e=y0(2*t.length),r,n,i=1,s=0,c=0,f;for(n=0;n<t.length;n+=i)i=1,(f=t.charCodeAt(n))<128?r=f:f<224?(r=(f&31)*64+(t.charCodeAt(n+1)&63),i=2):f<240?(r=(f&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(f&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(e[s++]=c&255,e[s++]=c>>>8,c=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Bw(t){return zc(t,"binary").toString("utf8")}var ag="foo bar baz",gf=Yn&&(Bw(ag)==Zp(ag)&&Bw||Fw(ag)==Zp(ag)&&Fw)||Zp,Af=Yn?function(t){return zc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},VR=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),Q8=/(^\s|\s$|\n)/;function as(t,e){return"<"+t+(e.match(Q8)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Cf(t){return os(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function tr(t,e,r){return"<"+t+(r!=null?Cf(r):"")+(e!=null?(e.match(Q8)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Ux(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function GR(t,e){switch(typeof t){case"string":var r=tr("vt:lpwstr",ii(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tr((t|0)==t?"vt:i4":"vt:r8",ii(String(t)));case"boolean":return tr("vt:bool",t?"true":"false")}if(t instanceof Date)return tr("vt:filetime",Ux(t));throw new Error("Unable to serialize "+t)}var qa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},eh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],No={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $R(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function XR(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,c=n?-e:e;isFinite(c)?c==0?i=s=0:(i=Math.floor(Math.log(c)/Math.LN2),s=c*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var f=0;f<=5;++f,s/=256)t[r+f]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var Mw=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},Uw=Yn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:zc(e)})):Mw(t)}:Mw,zw=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(of(t,i)));return n.join("").replace(ff,"")},Ev=Yn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(ff,""):zw(t,e,r)}:zw,Hw=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},e_=Yn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Hw(t,e,r)}:Hw,qw=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(jd(t,i)));return n.join("")},Bf=Yn?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):qw(e,r,n)}:qw,t_=function(t,e){var r=Ao(t,e);return r>0?Bf(t,e+4,e+4+r-1):""},r_=t_,n_=function(t,e){var r=Ao(t,e);return r>0?Bf(t,e+4,e+4+r-1):""},i_=n_,a_=function(t,e){var r=2*Ao(t,e);return r>0?Bf(t,e+4,e+4+r-1):""},s_=a_,o_=function(e,r){var n=Ao(e,r);return n>0?Ev(e,r+4,r+4+n):""},l_=o_,c_=function(t,e){var r=Ao(t,e);return r>0?Bf(t,e+4,e+4+r):""},u_=c_,d_=function(t,e){return $R(t,e)},_2=d_,Sv=function(e){return Array.isArray(e)||typeof Uint8Array!="undefined"&&e instanceof Uint8Array};Yn&&(r_=function(e,r){if(!Buffer.isBuffer(e))return t_(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},i_=function(e,r){if(!Buffer.isBuffer(e))return n_(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},s_=function(e,r){if(!Buffer.isBuffer(e))return a_(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},l_=function(e,r){if(!Buffer.isBuffer(e))return o_(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},u_=function(e,r){if(!Buffer.isBuffer(e))return c_(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},_2=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):d_(e,r)},Sv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array!="undefined"&&e instanceof Uint8Array});var jd=function(t,e){return t[e]},of=function(t,e){return t[e+1]*256+t[e]},YR=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Ao=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},f0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},KR=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function mf(t,e){var r="",n,i,s=[],c,f,g,u;switch(e){case"dbcs":if(u=this.l,Yn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(g=0;g<t;++g)r+=String.fromCharCode(of(this,u)),u+=2;t*=2;break;case"utf8":r=Bf(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Ev(this,this.l,this.l+t);break;case"wstr":return mf.call(this,t,"dbcs");case"lpstr-ansi":r=r_(this,this.l),t=4+Ao(this,this.l);break;case"lpstr-cp":r=i_(this,this.l),t=4+Ao(this,this.l);break;case"lpwstr":r=s_(this,this.l),t=4+2*Ao(this,this.l);break;case"lpp4":t=4+Ao(this,this.l),r=l_(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ao(this,this.l),r=u_(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(c=jd(this,this.l+t++))!==0;)s.push(rg(c));r=s.join("");break;case"_wstr":for(t=0,r="";(c=of(this,this.l+t))!==0;)s.push(rg(c)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,g=0;g<t;++g){if(this.lens&&this.lens.indexOf(u)!==-1)return c=jd(this,u),this.l=u+1,f=mf.call(this,t-g,c?"dbcs-cont":"sbcs-cont"),s.join("")+f;s.push(rg(of(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,g=0;g!=t;++g){if(this.lens&&this.lens.indexOf(u)!==-1)return c=jd(this,u),this.l=u+1,f=mf.call(this,t-g,c?"dbcs-cont":"sbcs-cont"),s.join("")+f;s.push(rg(jd(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=jd(this,this.l),this.l++,n;case 2:return n=(e==="i"?YR:of)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?f0:KR)(this,this.l),this.l+=4,n):(i=Ao(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=_2(this,this.l):i=_2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=e_(this,this.l,t);break}}return this.l+=t,r}var ZR=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},JR=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},QR=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function ek(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)QR(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var c=e.charCodeAt(i);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,ZR(this,e,this.l);break;case 8:if(n=8,r==="f"){XR(this,e,this.l);break}case 16:break;case-4:n=4,JR(this,e,this.l);break}return this.l+=n,this}function h_(t,e){var r=e_(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function So(t,e){t.l=e,t.read_shift=mf,t.chk=h_,t.write_shift=ek}function ic(t,e){t.l+=e}function Ct(t){var e=y0(t);return So(e,0),e}function Qs(){var t=[],e=Yn?256:2048,r=function(u){var m=Ct(u);return So(m,0),m},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},c=function(){return i(),is(t)},f=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:f,end:c,_bufs:t}}function Wt(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=$F[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var c=t.next(s);i<=127?c.write_shift(1,i):(c.write_shift(1,(i&127)+128),c.write_shift(1,i>>7));for(var f=0;f!=4;++f)if(n>=128)c.write_shift(1,(n&127)+128),n>>=7;else{c.write_shift(1,n);break}n>0&&Sv(r)&&t.push(r)}}function pf(t,e,r){var n=to(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Ww(t,e,r){var n=to(t);return n.s=pf(n.s,e.s,r),n.e=pf(n.e,e.s,r),n}function xf(t,e){if(t.cRel&&t.c<0)for(t=to(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=to(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=ai(t);return!t.cRel&&t.cRel!=null&&(r=nk(r)),!t.rRel&&t.rRel!=null&&(r=tk(r)),r}function Jp(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ss(t.s.c)+":"+(t.e.cRel?"":"$")+Ss(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ss(t.s.r)+":"+(t.e.rRel?"":"$")+ss(t.e.r):xf(t.s,e.biff)+":"+xf(t.e,e.biff)}function Nv(t){return parseInt(rk(t),10)-1}function ss(t){return""+(t+1)}function tk(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rk(t){return t.replace(/\$(\d+)$/,"$1")}function Av(t){for(var e=ik(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Ss(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function nk(t){return t.replace(/^([A-Z])/,"$$$1")}function ik(t){return t.replace(/^\$([A-Z])/,"$1")}function ak(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wa(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function ai(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function To(t){var e=t.indexOf(":");return e==-1?{s:Wa(t),e:Wa(t)}:{s:Wa(t.slice(0,e)),e:Wa(t.slice(e+1))}}function ba(t,e){return typeof e=="undefined"||typeof e=="number"?ba(t.s,t.e):(typeof t!="string"&&(t=ai(t)),typeof e!="string"&&(e=ai(e)),t==e?t:t+":"+e)}function ki(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function Vw(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Tu(t.z,r?eo(e):e)}catch(n){}try{return t.w=Tu((t.XF||{}).numFmtId||(r?14:0),r?eo(e):e)}catch(n){return""+e}}function Uc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Mf[t.v]||t.v:e==null?Vw(t,t.v):Vw(t,e))}function N0(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function f_(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),c=0,f=0;if(s&&n.origin!=null){if(typeof n.origin=="number")c=n.origin;else{var g=typeof n.origin=="string"?Wa(n.origin):n.origin;c=g.r,f=g.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=ki(s["!ref"]);u.s.c=m.s.c,u.s.r=m.s.r,u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),c==-1&&(u.e.r=c=m.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=e[v].length;++b)if(typeof e[v][b]!="undefined"){var _={v:e[v][b]},C=c+v,A=f+b;if(u.s.r>C&&(u.s.r=C),u.s.c>A&&(u.s.c=A),u.e.r<C&&(u.e.r=C),u.e.c<A&&(u.e.c=A),e[v][b]&&typeof e[v][b]=="object"&&!Array.isArray(e[v][b])&&!(e[v][b]instanceof Date))_=e[v][b];else if(Array.isArray(_.v)&&(_.f=e[v][b][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(n.nullError)_.t="e",_.v=0;else if(n.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=n.dateNF||na[14],n.cellDates?(_.t="d",_.w=Tu(_.z,eo(_.v))):(_.t="n",_.v=eo(_.v),_.w=Tu(_.z,_.v))):_.t="s";if(i)s[C]||(s[C]=[]),s[C][A]&&s[C][A].z&&(_.z=s[C][A].z),s[C][A]=_;else{var j=ai({c:A,r:C});s[j]&&s[j].z&&(_.z=s[j].z),s[j]=_}}}return u.s.c<1e7&&(s["!ref"]=ba(u)),s}function th(t,e){return f_(null,t,e)}function sk(t){return t.read_shift(4,"i")}function Cl(t,e){return e||(e=Ct(4)),e.write_shift(4,t),e}function Ns(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Va(t,e){var r=!1;return e==null&&(r=!0,e=Ct(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function ok(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function lk(t,e){return e||(e=Ct(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Cv(t,e){var r=t.l,n=t.read_shift(1),i=Ns(t),s=[],c={t:i,h:i};if((n&1)!==0){for(var f=t.read_shift(4),g=0;g!=f;++g)s.push(ok(t));c.r=s}else c.r=[{ich:0,ifnt:0}];return t.l=r+e,c}function ck(t,e){var r=!1;return e==null&&(r=!0,e=Ct(15+4*t.t.length)),e.write_shift(1,0),Va(t.t,e),r?e.slice(0,e.l):e}var uk=Cv;function dk(t,e){var r=!1;return e==null&&(r=!0,e=Ct(23+4*t.t.length)),e.write_shift(1,1),Va(t.t,e),e.write_shift(4,1),lk({},e),r?e.slice(0,e.l):e}function Zo(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function A0(t,e){return e==null&&(e=Ct(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function C0(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function T0(t,e){return e==null&&(e=Ct(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var hk=Ns,g_=Va;function Tv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function E2(t,e){var r=!1;return e==null&&(r=!0,e=Ct(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var fk=Ns,zx=Tv,jv=E2;function m_(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?_2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):f0(e,0)>>2;return r?i/100:i}function p_(t,e){e==null&&(e=Ct(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function x_(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function gk(t,e){return e||(e=Ct(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var j0=x_,rh=gk;function nh(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function w0(t,e){return(e||Ct(8)).write_shift(8,t,"f")}function mk(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),c=t.read_shift(1),f=t.read_shift(1),g=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=Sk[i];u&&(e.rgb=rb(u));break;case 2:e.rgb=rb([c,f,g]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function S2(t,e){if(e||(e=Ct(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function pk(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function xk(t,e){e||(e=Ct(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var v_=2,_o=3,sg=11,N2=19,og=64,vk=65,yk=71,wk=4108,bk=4126,ts=80,Gw={1:{n:"CodePage",t:v_},2:{n:"Category",t:ts},3:{n:"PresentationFormat",t:ts},4:{n:"ByteCount",t:_o},5:{n:"LineCount",t:_o},6:{n:"ParagraphCount",t:_o},7:{n:"SlideCount",t:_o},8:{n:"NoteCount",t:_o},9:{n:"HiddenCount",t:_o},10:{n:"MultimediaClipCount",t:_o},11:{n:"ScaleCrop",t:sg},12:{n:"HeadingPairs",t:wk},13:{n:"TitlesOfParts",t:bk},14:{n:"Manager",t:ts},15:{n:"Company",t:ts},16:{n:"LinksUpToDate",t:sg},17:{n:"CharacterCount",t:_o},19:{n:"SharedDoc",t:sg},22:{n:"HyperlinksChanged",t:sg},23:{n:"AppVersion",t:_o,p:"version"},24:{n:"DigSig",t:vk},26:{n:"ContentType",t:ts},27:{n:"ContentStatus",t:ts},28:{n:"Language",t:ts},29:{n:"Version",t:ts},255:{},2147483648:{n:"Locale",t:N2},2147483651:{n:"Behavior",t:N2},1919054434:{}},$w={1:{n:"CodePage",t:v_},2:{n:"Title",t:ts},3:{n:"Subject",t:ts},4:{n:"Author",t:ts},5:{n:"Keywords",t:ts},6:{n:"Comments",t:ts},7:{n:"Template",t:ts},8:{n:"LastAuthor",t:ts},9:{n:"RevNumber",t:ts},10:{n:"EditTime",t:og},11:{n:"LastPrinted",t:og},12:{n:"CreatedDate",t:og},13:{n:"ModifiedDate",t:og},14:{n:"PageCount",t:_o},15:{n:"WordCount",t:_o},16:{n:"CharCount",t:_o},17:{n:"Thumbnail",t:yk},18:{n:"Application",t:ts},19:{n:"DocSecurity",t:_o},255:{},2147483648:{n:"Locale",t:N2},2147483651:{n:"Behavior",t:N2},1919054434:{}};function _k(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Ek=_k([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Sk=to(Ek),Mf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Nk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},lg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function y_(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function w_(t,e){var r=DR(Nk),n=[],i;n[n.length]=_a,n[n.length]=tr("Types",null,{xmlns:qa.CT,"xmlns:xsd":qa.xsd,"xmlns:xsi":qa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(g){return tr("Default",null,{Extension:g[0],ContentType:g[1]})}));var s=function(g){t[g]&&t[g].length>0&&(i=t[g][0],n[n.length]=tr("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:lg[g][e.bookType]||lg[g].xlsx}))},c=function(g){(t[g]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:lg[g][e.bookType]||lg[g].xlsx})})},f=function(g){(t[g]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[g][0]})})};return s("workbooks"),c("sheets"),c("charts"),f("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),c("metadata"),f("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var $n={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function b_(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Md(t){var e=[_a,tr("Relationships",null,{xmlns:qa.RELS})];return os(t["!id"]).forEach(function(r){e[e.length]=tr("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function ri(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[$n.HLINK,$n.XPATH,$n.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function Ak(t){var e=[_a];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Xw(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Ck(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Tk(t){var e=[_a];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Xw(t[r][0],t[r][1])),e.push(Ck("",t[r][0]));return e.push(Xw("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function __(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+x2.version+"</meta:generator></office:meta></office:document-meta>"}var x0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Qp(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=ii(e),n[n.length]=r?tr(t,e,r):as(t,e))}function E_(t,e){var r=e||{},n=[_a,tr("cp:coreProperties",null,{"xmlns:cp":qa.CORE_PROPS,"xmlns:dc":qa.dc,"xmlns:dcterms":qa.dcterms,"xmlns:dcmitype":qa.dcmitype,"xmlns:xsi":qa.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Qp("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Ux(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&Qp("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Ux(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=x0.length;++s){var c=x0[s],f=r.Props&&r.Props[c[1]]!=null?r.Props[c[1]]:t?t[c[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&Qp(c[0],f,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ud=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],S_=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function N_(t){var e=[],r=tr;return t||(t={}),t.Application="SheetJS",e[e.length]=_a,e[e.length]=tr("Properties",null,{xmlns:qa.EXT_PROPS,"xmlns:vt":qa.vt}),Ud.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=ii(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+ii(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function A_(t){var e=[_a,tr("Properties",null,{xmlns:qa.CUST_PROPS,"xmlns:vt":qa.vt})];if(!t)return e.join("");var r=1;return os(t).forEach(function(i){++r,e[e.length]=tr("property",GR(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ii(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Yw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function jk(t,e){var r=[];return os(Yw).map(function(n){for(var i=0;i<x0.length;++i)if(x0[i][1]==n)return x0[i];for(i=0;i<Ud.length;++i)if(Ud[i][1]==n)return Ud[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(as(Yw[n[1]]||n[1],i))}}),tr("DocumentProperties",r.join(""),{xmlns:No.o})}function Ok(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&os(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var c=0;c<x0.length;++c)if(s==x0[c][1])return;for(c=0;c<Ud.length;++c)if(s==Ud[c][1])return;for(c=0;c<r.length;++c)if(s==r[c])return;var f=t[s],g="string";typeof f=="number"?(g="float",f=String(f)):f===!0||f===!1?(g="boolean",f=f?"1":"0"):f=String(f),i.push(tr(Pw(s),f,{"dt:dt":g}))}}),e&&os(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var c=e[s],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c instanceof Date?(f="dateTime.tz",c=c.toISOString()):c=String(c),i.push(tr(Pw(s),c,{"dt:dt":f}))}}),"<"+n+' xmlns="'+No.o+'">'+i.join("")+"</"+n+">"}function Rk(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var c=Ct(8);return c.write_shift(4,n),c.write_shift(4,i),c}function Kw(t,e){var r=Ct(4),n=Ct(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ct(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Rk(e);break;case 31:case 80:for(n=Ct(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return is([r,n])}var C_=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function kk(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Zw(t,e,r){var n=Ct(8),i=[],s=[],c=8,f=0,g=Ct(8),u=Ct(8);if(g.write_shift(4,2),g.write_shift(4,1200),u.write_shift(4,1),s.push(g),i.push(u),c+=8+g.length,!e){u=Ct(8),u.write_shift(4,0),i.unshift(u);var m=[Ct(4)];for(m[0].write_shift(4,t.length),f=0;f<t.length;++f){var v=t[f][0];for(g=Ct(8+2*(v.length+1)+(v.length%2?0:2)),g.write_shift(4,f+2),g.write_shift(4,v.length+1),g.write_shift(0,v,"dbcs");g.l!=g.length;)g.write_shift(1,0);m.push(g)}g=is(m),s.unshift(g),c+=8+g.length}for(f=0;f<t.length;++f)if(!(e&&!e[t[f][0]])&&!(C_.indexOf(t[f][0])>-1||S_.indexOf(t[f][0])>-1)&&t[f][1]!=null){var b=t[f][1],_=0;if(e){_=+e[t[f][0]];var C=r[_];if(C.p=="version"&&typeof b=="string"){var A=b.split(".");b=(+A[0]<<16)+(+A[1]||0)}g=Kw(C.t,b)}else{var j=kk(b);j==-1&&(j=31,b=String(b)),g=Kw(j,b)}s.push(g),u=Ct(8),u.write_shift(4,e?_:2+f),i.push(u),c+=8+g.length}var L=8*(s.length+1);for(f=0;f<s.length;++f)i[f].write_shift(4,L),L+=s[f].length;return n.write_shift(4,c),n.write_shift(4,s.length),is([n].concat(i).concat(s))}function Jw(t,e,r,n,i,s){var c=Ct(i?68:48),f=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,di.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,i?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,i?68:48);var g=Zw(t,r,n);if(f.push(g),i){var u=Zw(i,null,null);c.write_shift(16,s,"hex"),c.write_shift(4,68+g.length),f.push(u)}return is(f)}function Lk(t,e){e||(e=Ct(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Ik(t,e){return t.read_shift(e)===1}function Is(t,e){return e||(e=Ct(2)),e.write_shift(2,+!!t),e}function T_(t){return t.read_shift(2,"u")}function $o(t,e){return e||(e=Ct(2)),e.write_shift(2,t),e}function j_(t,e,r){return r||(r=Ct(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function O_(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var c=n?t.read_shift(n,i):"";return c}function Dk(t){var e=t.t||"",r=Ct(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ct(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return is(i)}function Pk(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Fk(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):Pk(t,n,r)}function Bk(t,e,r){if(r.biff>5)return Fk(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function R_(t,e,r){return r||(r=Ct(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Qw(t,e){e||(e=Ct(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function Mk(t){var e=Ct(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var c=[8,6815827,6619237,4849780,83];for(r=0;r<c.length;++r)e.write_shift(4,c[r]);if(s==28)n=n.slice(1),Qw(n,e);else if(s&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));var f=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(f.length+1)),r=0;r<f.length;++r)e.write_shift(2,f.charCodeAt(r));e.write_shift(2,0),s&8&&Qw(i>-1?n.slice(i+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));for(var g=0;n.slice(g*3,g*3+3)=="../"||n.slice(g*3,g*3+3)=="..\\";)++g;for(e.write_shift(2,g),e.write_shift(4,n.length-3*g+1),r=0;r<n.length-3*g;++r)e.write_shift(1,n.charCodeAt(r+3*g)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function b0(t,e,r,n){return n||(n=Ct(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Uk(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),c=t.read_shift(n,"i");return[i,s,c]}function zk(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function k_(t,e){return e||(e=Ct(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Ov(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ct(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Hk(t,e){var r=!e||e.biff==8,n=Ct(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function qk(t,e){var r=!e||e.biff>=8?2:1,n=Ct(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Wk(t,e){var r=Ct(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=Dk(t[i]);var s=is([r].concat(n));return s.parts=[r.length].concat(n.map(function(c){return c.length})),s}function Vk(){var t=Ct(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Gk(t){var e=Ct(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function $k(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Ct(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Xk(t,e,r,n){var i=Ct(10);return b0(t,e,n,i),i.write_shift(4,r),i}function Yk(t,e,r,n,i){var s=!i||i.biff==8,c=Ct(8+ +s+(1+s)*r.length);return b0(t,e,n,c),c.write_shift(2,r.length),s&&c.write_shift(1,1),c.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),c}function Kk(t,e,r,n){var i=r&&r.biff==5;n||(n=Ct(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function Zk(t,e){var r=e.biff==8||!e.biff?4:2,n=Ct(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function eb(t,e,r,n){var i=r&&r.biff==5;n||(n=Ct(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function Jk(t){var e=Ct(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Qk(t,e,r,n,i,s){var c=Ct(8);return b0(t,e,n,c),j_(r,s,c),c}function eL(t,e,r,n){var i=Ct(14);return b0(t,e,n,i),w0(r,i),i}function tL(t,e,r){if(r.biff<8)return rL(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(Uk(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function rL(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=O_(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function nL(t){var e=Ct(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)k_(t[r],e);return e}function iL(t){var e=Ct(24),r=Wa(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return is([e,Mk(t[1])])}function aL(t){var e=t[1].Tooltip,r=Ct(10+2*(e.length+1));r.write_shift(2,2048);var n=Wa(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function sL(t){return t||(t=Ct(4)),t.write_shift(2,1),t.write_shift(2,1),t}function oL(t,e,r){if(!r.cellStyles)return ic(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),c=t.read_shift(n),f=t.read_shift(n),g=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:c,ixfe:f,flags:g};return(r.biff>=5||!r.biff)&&(u.level=g>>8&7),u}function lL(t,e){var r=Ct(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function cL(t){for(var e=Ct(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function uL(t,e,r){var n=Ct(15);return zf(n,t,e),n.write_shift(8,r,"f"),n}function dL(t,e,r){var n=Ct(9);return zf(n,t,e),n.write_shift(2,r),n}var hL=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=yv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(f,g){var u=[],m=y0(1);switch(g.type){case"base64":m=Nl(Mc(f));break;case"binary":m=Nl(f);break;case"buffer":case"array":m=f;break}So(m,0);var v=m.read_shift(1),b=!!(v&136),_=!1,C=!1;switch(v){case 2:break;case 3:break;case 48:_=!0,b=!0;break;case 49:_=!0,b=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var A=0,j=521;v==2&&(A=m.read_shift(2)),m.l+=3,v!=2&&(A=m.read_shift(4)),A>1048576&&(A=1e6),v!=2&&(j=m.read_shift(2));var L=m.read_shift(2),I=g.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(I=t[m[m.l]]),m.l+=1,m.l+=2),C&&(m.l+=36);for(var P=[],X={},Y=Math.min(m.length,v==2?521:j-10-(_?264:0)),K=C?32:11;m.l<Y&&m[m.l]!=13;)switch(X={},X.name=Sw.utils.decode(I,m.slice(m.l,m.l+K)).replace(/[\u0000\r\n].*$/g,""),m.l+=K,X.type=String.fromCharCode(m.read_shift(1)),v!=2&&!C&&(X.offset=m.read_shift(4)),X.len=m.read_shift(1),v==2&&(X.offset=m.read_shift(2)),X.dec=m.read_shift(1),X.name.length&&P.push(X),v!=2&&(m.l+=C?13:14),X.type){case"B":(!_||X.len!=8)&&g.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+X.type)}if(m[m.l]!==13&&(m.l=j-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=j;var G=0,V=0;for(u[0]=[],V=0;V!=P.length;++V)u[0][V]=P[V].name;for(;A-- >0;){if(m[m.l]===42){m.l+=L;continue}for(++m.l,u[++G]=[],V=0,V=0;V!=P.length;++V){var z=m.slice(m.l,m.l+P[V].len);m.l+=P[V].len,So(z,0);var ie=Sw.utils.decode(I,z);switch(P[V].type){case"C":ie.trim().length&&(u[G][V]=ie.replace(/\s+$/,""));break;case"D":ie.length===8?u[G][V]=new Date(+ie.slice(0,4),+ie.slice(4,6)-1,+ie.slice(6,8)):u[G][V]=ie;break;case"F":u[G][V]=parseFloat(ie.trim());break;case"+":case"I":u[G][V]=C?z.read_shift(-4,"i")^2147483648:z.read_shift(4,"i");break;case"L":switch(ie.trim().toUpperCase()){case"Y":case"T":u[G][V]=!0;break;case"N":case"F":u[G][V]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ie+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));u[G][V]="##MEMO##"+(C?parseInt(ie.trim(),10):z.read_shift(4));break;case"N":ie=ie.replace(/\u0000/g,"").trim(),ie&&ie!="."&&(u[G][V]=+ie||0);break;case"@":u[G][V]=new Date(z.read_shift(-8,"f")-621356832e5);break;case"T":u[G][V]=new Date((z.read_shift(4)-2440588)*864e5+z.read_shift(4));break;case"Y":u[G][V]=z.read_shift(4,"i")/1e4+z.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[G][V]=-z.read_shift(-8,"f");break;case"B":if(_&&P[V].len==8){u[G][V]=z.read_shift(8,"f");break}case"G":case"P":z.l+=P[V].len;break;case"0":if(P[V].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+P[V].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return g&&g.sheetRows&&(u=u.slice(0,g.sheetRows)),g.DBF=P,u}function n(f,g){var u=g||{};u.dateNF||(u.dateNF="yyyymmdd");var m=th(r(f,u),u);return m["!cols"]=u.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete u.DBF,m}function i(f,g){try{return N0(n(f,g),g)}catch(u){if(g&&g.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function c(f,g){var u=g||{};if(+u.codepage>=0&&Ef(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var m=Qs(),v=O2(f,{header:1,raw:!0,cellDates:!0}),b=v[0],_=v.slice(1),C=f["!cols"]||[],A=0,j=0,L=0,I=1;for(A=0;A<b.length;++A){if(((C[A]||{}).DBF||{}).name){b[A]=C[A].DBF.name,++L;continue}if(b[A]!=null){if(++L,typeof b[A]=="number"&&(b[A]=b[A].toString(10)),typeof b[A]!="string")throw new Error("DBF Invalid column name "+b[A]+" |"+typeof b[A]+"|");if(b.indexOf(b[A])!==A){for(j=0;j<1024;++j)if(b.indexOf(b[A]+"_"+j)==-1){b[A]+="_"+j;break}}}}var P=ki(f["!ref"]),X=[],Y=[],K=[];for(A=0;A<=P.e.c-P.s.c;++A){var G="",V="",z=0,ie=[];for(j=0;j<_.length;++j)_[j][A]!=null&&ie.push(_[j][A]);if(ie.length==0||b[A]==null){X[A]="?";continue}for(j=0;j<ie.length;++j){switch(typeof ie[j]){case"number":V="B";break;case"string":V="C";break;case"boolean":V="L";break;case"object":V=ie[j]instanceof Date?"D":"C";break;default:V="C"}z=Math.max(z,String(ie[j]).length),G=G&&G!=V?"C":V}z>250&&(z=250),V=((C[A]||{}).DBF||{}).type,V=="C"&&C[A].DBF.len>z&&(z=C[A].DBF.len),G=="B"&&V=="N"&&(G="N",K[A]=C[A].DBF.dec,z=C[A].DBF.len),Y[A]=G=="C"||V=="N"?z:s[G]||0,I+=Y[A],X[A]=G}var W=m.next(32);for(W.write_shift(4,318902576),W.write_shift(4,_.length),W.write_shift(2,296+32*L),W.write_shift(2,I),A=0;A<4;++A)W.write_shift(4,0);for(W.write_shift(4,0|(+e[I8]||3)<<8),A=0,j=0;A<b.length;++A)if(b[A]!=null){var H=m.next(32),ne=(b[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,ne,"sbcs"),H.write_shift(1,X[A]=="?"?"C":X[A],"sbcs"),H.write_shift(4,j),H.write_shift(1,Y[A]||s[X[A]]||0),H.write_shift(1,K[A]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),j+=Y[A]||s[X[A]]||0}var ve=m.next(264);for(ve.write_shift(4,13),A=0;A<65;++A)ve.write_shift(4,0);for(A=0;A<_.length;++A){var me=m.next(I);for(me.write_shift(1,0),j=0;j<b.length;++j)if(b[j]!=null)switch(X[j]){case"L":me.write_shift(1,_[A][j]==null?63:_[A][j]?84:70);break;case"B":me.write_shift(8,_[A][j]||0,"f");break;case"N":var he="0";for(typeof _[A][j]=="number"&&(he=_[A][j].toFixed(K[j]||0)),L=0;L<Y[j]-he.length;++L)me.write_shift(1,32);me.write_shift(1,he,"sbcs");break;case"D":_[A][j]?(me.write_shift(4,("0000"+_[A][j].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(_[A][j].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+_[A][j].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var be=String(_[A][j]!=null?_[A][j]:"").slice(0,Y[j]);for(me.write_shift(1,be,"sbcs"),L=0;L<Y[j]-be.length;++L)me.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),fL=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+os(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(b,_){var C=t[_];return typeof C=="number"?Ew(C):C},n=function(b,_,C){var A=_.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return A==59?b:Ew(A)};t["|"]=254;function i(b,_){switch(_.type){case"base64":return s(Mc(b),_);case"binary":return s(b,_);case"buffer":return s(Yn&&Buffer.isBuffer(b)?b.toString("binary"):Pf(b),_);case"array":return s(im(b),_)}throw new Error("Unrecognized type "+_.type)}function s(b,_){var C=b.split(/[\n\r]+/),A=-1,j=-1,L=0,I=0,P=[],X=[],Y=null,K={},G=[],V=[],z=[],ie=0,W;for(+_.codepage>=0&&Ef(+_.codepage);L!==C.length;++L){ie=0;var H=C[L].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),ne=H.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),ve=ne[0],me;if(H.length>0)switch(ve){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ne[1].charAt(0)=="P"&&X.push(H.slice(3).replace(/;;/g,";"));break;case"C":var he=!1,be=!1,Pe=!1,Ae=!1,se=-1,Le=-1;for(I=1;I<ne.length;++I)switch(ne[I].charAt(0)){case"A":break;case"X":j=parseInt(ne[I].slice(1))-1,be=!0;break;case"Y":for(A=parseInt(ne[I].slice(1))-1,be||(j=0),W=P.length;W<=A;++W)P[W]=[];break;case"K":me=ne[I].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(Dc(me))?isNaN(Nf(me).getDate())||(me=Ds(me)):(me=Dc(me),Y!==null&&G8(Y)&&(me=K8(me))),he=!0;break;case"E":Ae=!0;var M=dI(ne[I].slice(1),{r:A,c:j});P[A][j]=[P[A][j],M];break;case"S":Pe=!0,P[A][j]=[P[A][j],"S5S"];break;case"G":break;case"R":se=parseInt(ne[I].slice(1))-1;break;case"C":Le=parseInt(ne[I].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+H)}if(he&&(P[A][j]&&P[A][j].length==2?P[A][j][0]=me:P[A][j]=me,Y=null),Pe){if(Ae)throw new Error("SYLK shared formula cannot have own formula");var q=se>-1&&P[se][Le];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");P[A][j][1]=hI(q[1],{r:A-se,c:j-Le})}break;case"F":var J=0;for(I=1;I<ne.length;++I)switch(ne[I].charAt(0)){case"X":j=parseInt(ne[I].slice(1))-1,++J;break;case"Y":for(A=parseInt(ne[I].slice(1))-1,W=P.length;W<=A;++W)P[W]=[];break;case"M":ie=parseInt(ne[I].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=X[parseInt(ne[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(z=ne[I].slice(1).split(" "),W=parseInt(z[0],10);W<=parseInt(z[1],10);++W)ie=parseInt(z[2],10),V[W-1]=ie===0?{hidden:!0}:{wch:ie},Rv(V[W-1]);break;case"C":j=parseInt(ne[I].slice(1))-1,V[j]||(V[j]={});break;case"R":A=parseInt(ne[I].slice(1))-1,G[A]||(G[A]={}),ie>0?(G[A].hpt=ie,G[A].hpx=F_(ie)):ie===0&&(G[A].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+H)}J<1&&(Y=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+H)}}return G.length>0&&(K["!rows"]=G),V.length>0&&(K["!cols"]=V),_&&_.sheetRows&&(P=P.slice(0,_.sheetRows)),[P,K]}function c(b,_){var C=i(b,_),A=C[0],j=C[1],L=th(A,_);return os(j).forEach(function(I){L[I]=j[I]}),L}function f(b,_){return N0(c(b,_),_)}function g(b,_,C,A){var j="C;Y"+(C+1)+";X"+(A+1)+";K";switch(b.t){case"n":j+=b.v||0,b.f&&!b.F&&(j+=";E"+Lv(b.f,{r:C,c:A}));break;case"b":j+=b.v?"TRUE":"FALSE";break;case"e":j+=b.w||b.v;break;case"d":j+='"'+(b.w||b.v)+'"';break;case"s":j+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return j}function u(b,_){_.forEach(function(C,A){var j="F;W"+(A+1)+" "+(A+1)+" ";C.hidden?j+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=A2(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=C2(C.wpx)),typeof C.wch=="number"&&(j+=Math.round(C.wch))),j.charAt(j.length-1)!=" "&&b.push(j)})}function m(b,_){_.forEach(function(C,A){var j="F;";C.hidden?j+="M0;":C.hpt?j+="M"+20*C.hpt+";":C.hpx&&(j+="M"+20*T2(C.hpx)+";"),j.length>2&&b.push(j+"R"+(A+1))})}function v(b,_){var C=["ID;PWXL;N;E"],A=[],j=ki(b["!ref"]),L,I=Array.isArray(b),P=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),b["!cols"]&&u(C,b["!cols"]),b["!rows"]&&m(C,b["!rows"]),C.push("B;Y"+(j.e.r-j.s.r+1)+";X"+(j.e.c-j.s.c+1)+";D"+[j.s.c,j.s.r,j.e.c,j.e.r].join(" "));for(var X=j.s.r;X<=j.e.r;++X)for(var Y=j.s.c;Y<=j.e.c;++Y){var K=ai({r:X,c:Y});L=I?(b[X]||[])[Y]:b[K],!(!L||L.v==null&&(!L.f||L.F))&&A.push(g(L,b,X,Y))}return C.join(P)+P+A.join(P)+P+"E"+P}return{to_workbook:f,to_sheet:c,from_sheet:v}}(),gL=function(){function t(s,c){switch(c.type){case"base64":return e(Mc(s),c);case"binary":return e(s,c);case"buffer":return e(Yn&&Buffer.isBuffer(s)?s.toString("binary"):Pf(s),c);case"array":return e(im(s),c)}throw new Error("Unrecognized type "+c.type)}function e(s,c){for(var f=s.split(`
`),g=-1,u=-1,m=0,v=[];m!==f.length;++m){if(f[m].trim()==="BOT"){v[++g]=[],u=0;continue}if(!(g<0)){var b=f[m].trim().split(","),_=b[0],C=b[1];++m;for(var A=f[m]||"";(A.match(/["]/g)||[]).length&1&&m<f.length-1;)A+=`
`+f[++m];switch(A=A.trim(),+_){case-1:if(A==="BOT"){v[++g]=[],u=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?v[g][u]=!0:A==="FALSE"?v[g][u]=!1:isNaN(Dc(C))?isNaN(Nf(C).getDate())?v[g][u]=C:v[g][u]=Ds(C):v[g][u]=Dc(C),++u;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),v[g][u++]=A!==""?A:null;break}if(A==="EOD")break}}return c&&c.sheetRows&&(v=v.slice(0,c.sheetRows)),v}function r(s,c){return th(t(s,c),c)}function n(s,c){return N0(r(s,c),c)}var i=function(){var s=function(g,u,m,v,b){g.push(u),g.push(m+","+v),g.push('"'+b.replace(/"/g,'""')+'"')},c=function(g,u,m,v){g.push(u+","+m),g.push(u==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(g){var u=[],m=ki(g["!ref"]),v,b=Array.isArray(g);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,m.e.r-m.s.r+1,""),s(u,"TUPLES",0,m.e.c-m.s.c+1,""),s(u,"DATA",0,0,"");for(var _=m.s.r;_<=m.e.r;++_){c(u,-1,0,"BOT");for(var C=m.s.c;C<=m.e.c;++C){var A=ai({r:_,c:C});if(v=b?(g[_]||[])[C]:g[A],!v){c(u,1,0,"");continue}switch(v.t){case"n":var j=v.w;!j&&v.v!=null&&(j=v.v),j==null?v.f&&!v.F?c(u,1,0,"="+v.f):c(u,1,0,""):c(u,0,j,"V");break;case"b":c(u,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":c(u,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Tu(v.z||na[14],eo(Ds(v.v)))),c(u,0,v.w,"V");break;default:c(u,1,0,"")}}}c(u,-1,0,"EOD");var L=`\r
`,I=u.join(L);return I}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),L_=function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,b){for(var _=v.split(`
`),C=-1,A=-1,j=0,L=[];j!==_.length;++j){var I=_[j].trim().split(":");if(I[0]==="cell"){var P=Wa(I[1]);if(L.length<=P.r)for(C=L.length;C<=P.r;++C)L[C]||(L[C]=[]);switch(C=P.r,A=P.c,I[2]){case"t":L[C][A]=t(I[3]);break;case"v":L[C][A]=+I[3];break;case"vtf":var X=I[I.length-1];case"vtc":switch(I[3]){case"nl":L[C][A]=!!+I[4];break;default:L[C][A]=+I[4];break}I[2]=="vtf"&&(L[C][A]=[L[C][A],X])}}}return b&&b.sheetRows&&(L=L.slice(0,b.sheetRows)),L}function n(v,b){return th(r(v,b),b)}function i(v,b){return N0(n(v,b),b)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function u(v){if(!v||!v["!ref"])return"";for(var b=[],_=[],C,A="",j=To(v["!ref"]),L=Array.isArray(v),I=j.s.r;I<=j.e.r;++I)for(var P=j.s.c;P<=j.e.c;++P)if(A=ai({r:I,c:P}),C=L?(v[I]||[])[P]:v[A],!(!C||C.v==null||C.t==="z")){switch(_=["cell",A,"t"],C.t){case"s":case"str":_.push(e(C.v));break;case"n":C.f?(_[2]="vtf",_[3]="n",_[4]=C.v,_[5]=e(C.f)):(_[2]="v",_[3]=C.v);break;case"b":_[2]="vt"+(C.f?"f":"c"),_[3]="nl",_[4]=C.v?"1":"0",_[5]=e(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var X=eo(Ds(C.v));_[2]="vtc",_[3]="nd",_[4]=""+X,_[5]=C.w||Tu(C.z||na[14],X);break;case"e":continue}b.push(_.join(":"))}return b.push("sheet:c:"+(j.e.c-j.s.c+1)+":r:"+(j.e.r-j.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function m(v){return[s,c,f,c,u(v),g].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}}(),mL=function(){function t(m,v,b,_,C){C.raw?v[b][_]=m:m===""||(m==="TRUE"?v[b][_]=!0:m==="FALSE"?v[b][_]=!1:isNaN(Dc(m))?isNaN(Nf(m).getDate())?v[b][_]=m:v[b][_]=Ds(m):v[b][_]=Dc(m))}function e(m,v){var b=v||{},_=[];if(!m||m.length===0)return _;for(var C=m.split(/[\r\n]/),A=C.length-1;A>=0&&C[A].length===0;)--A;for(var j=10,L=0,I=0;I<=A;++I)L=C[I].indexOf(" "),L==-1?L=C[I].length:L++,j=Math.max(j,L);for(I=0;I<=A;++I){_[I]=[];var P=0;for(t(C[I].slice(0,j).trim(),_,I,P,b),P=1;P<=(C[I].length-j)/10+1;++P)t(C[I].slice(j+(P-1)*10,j+P*10).trim(),_,I,P,b)}return b.sheetRows&&(_=_.slice(0,b.sheetRows)),_}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var v={},b=!1,_=0,C=0;_<m.length;++_)(C=m.charCodeAt(_))==34?b=!b:!b&&C in r&&(v[C]=(v[C]||0)+1);C=[];for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&C.push([v[_],_]);if(!C.length){v=n;for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&C.push([v[_],_])}return C.sort(function(A,j){return A[0]-j[0]||n[A[1]]-n[j[1]]}),r[C.pop()[1]]||44}function s(m,v){var b=v||{},_="",C=b.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(_=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(_=m.charAt(4),m=m.slice(6)):_=i(m.slice(0,1024)):b&&b.FS?_=b.FS:_=i(m.slice(0,1024));var j=0,L=0,I=0,P=0,X=0,Y=_.charCodeAt(0),K=!1,G=0,V=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var z=b.dateNF!=null?RR(b.dateNF):null;function ie(){var W=m.slice(P,X),H={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)H.t="z";else if(b.raw)H.t="s",H.v=W;else if(W.trim().length===0)H.t="s",H.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(H.t="s",H.v=W.slice(2,-1).replace(/""/g,'"')):fI(W)?(H.t="n",H.f=W.slice(1)):(H.t="s",H.v=W);else if(W=="TRUE")H.t="b",H.v=!0;else if(W=="FALSE")H.t="b",H.v=!1;else if(!isNaN(I=Dc(W)))H.t="n",b.cellText!==!1&&(H.w=W),H.v=I;else if(!isNaN(Nf(W).getDate())||z&&W.match(z)){H.z=b.dateNF||na[14];var ne=0;z&&W.match(z)&&(W=kR(W,b.dateNF,W.match(z)||[]),ne=1),b.cellDates?(H.t="d",H.v=Ds(W,ne)):(H.t="n",H.v=eo(Ds(W,ne))),b.cellText!==!1&&(H.w=Tu(H.z,H.v instanceof Date?eo(H.v):H.v)),b.cellNF||delete H.z}else H.t="s",H.v=W;if(H.t=="z"||(b.dense?(C[j]||(C[j]=[]),C[j][L]=H):C[ai({c:L,r:j})]=H),P=X+1,V=m.charCodeAt(P),A.e.c<L&&(A.e.c=L),A.e.r<j&&(A.e.r=j),G==Y)++L;else if(L=0,++j,b.sheetRows&&b.sheetRows<=j)return!0}e:for(;X<m.length;++X)switch(G=m.charCodeAt(X)){case 34:V===34&&(K=!K);break;case Y:case 10:case 13:if(!K&&ie())break e;break}return X-P>0&&ie(),C["!ref"]=ba(A),C}function c(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,v):th(e(m,v),v)}function f(m,v){var b="",_=v.type=="string"?[0,0,0,0]:CB(m,v);switch(v.type){case"base64":b=Mc(m);break;case"binary":b=m;break;case"buffer":v.codepage==65001?b=m.toString("utf8"):(v.codepage,b=Yn&&Buffer.isBuffer(m)?m.toString("binary"):Pf(m));break;case"array":b=im(m);break;case"string":b=m;break;default:throw new Error("Unrecognized type "+v.type)}return _[0]==239&&_[1]==187&&_[2]==191?b=gf(b.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?b=gf(b):v.type=="binary",b.slice(0,19)=="socialcalc:version:"?L_.to_sheet(v.type=="string"?b:gf(b),v):c(b,v)}function g(m,v){return N0(f(m,v),v)}function u(m){for(var v=[],b=ki(m["!ref"]),_,C=Array.isArray(m),A=b.s.r;A<=b.e.r;++A){for(var j=[],L=b.s.c;L<=b.e.c;++L){var I=ai({r:A,c:L});if(_=C?(m[A]||[])[L]:m[I],!_||_.v==null){j.push("          ");continue}for(var P=(_.w||(Uc(_),_.w)||"").slice(0,10);P.length<10;)P+=" ";j.push(P+(L===0?" ":""))}v.push(j.join(""))}return v.join(`
`)}return{to_workbook:g,to_sheet:f,from_sheet:u}}(),tb=function(){function t(M,q,J){if(M){So(M,M.l||0);for(var re=J.Enum||se;M.l<M.length;){var le=M.read_shift(2),Ue=re[le]||re[65535],Te=M.read_shift(2),Me=M.l+Te,Oe=Ue.f&&Ue.f(M,Te,J);if(M.l=Me,q(Oe,Ue,le))return}}}function e(M,q){switch(q.type){case"base64":return r(Nl(Mc(M)),q);case"binary":return r(Nl(M),q);case"buffer":case"array":return r(M,q)}throw"Unsupported type "+q.type}function r(M,q){if(!M)return M;var J=q||{},re=J.dense?[]:{},le="Sheet1",Ue="",Te=0,Me={},Oe=[],ze=[],st={s:{r:0,c:0},e:{r:0,c:0}},ct=J.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)J.Enum=se,t(M,function(Ve,rt,He){switch(He){case 0:J.vers=Ve,Ve>=4096&&(J.qpro=!0);break;case 6:st=Ve;break;case 204:Ve&&(Ue=Ve);break;case 222:Ue=Ve;break;case 15:case 51:J.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:He==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=J.dateNF||na[14],J.cellDates&&(Ve[1].t="d",Ve[1].v=K8(Ve[1].v))),J.qpro&&Ve[3]>Te&&(re["!ref"]=ba(st),Me[le]=re,Oe.push(le),re=J.dense?[]:{},st={s:{r:0,c:0},e:{r:0,c:0}},Te=Ve[3],le=Ue||"Sheet"+(Te+1),Ue="");var Ke=J.dense?(re[Ve[0].r]||[])[Ve[0].c]:re[ai(Ve[0])];if(Ke){Ke.t=Ve[1].t,Ke.v=Ve[1].v,Ve[1].z!=null&&(Ke.z=Ve[1].z),Ve[1].f!=null&&(Ke.f=Ve[1].f);break}J.dense?(re[Ve[0].r]||(re[Ve[0].r]=[]),re[Ve[0].r][Ve[0].c]=Ve[1]):re[ai(Ve[0])]=Ve[1];break}},J);else if(M[2]==26||M[2]==14)J.Enum=Le,M[2]==14&&(J.qpro=!0,M.l=0),t(M,function(Ve,rt,He){switch(He){case 204:le=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>Te&&(re["!ref"]=ba(st),Me[le]=re,Oe.push(le),re=J.dense?[]:{},st={s:{r:0,c:0},e:{r:0,c:0}},Te=Ve[3],le="Sheet"+(Te+1)),ct>0&&Ve[0].r>=ct)break;J.dense?(re[Ve[0].r]||(re[Ve[0].r]=[]),re[Ve[0].r][Ve[0].c]=Ve[1]):re[ai(Ve[0])]=Ve[1],st.e.c<Ve[0].c&&(st.e.c=Ve[0].c),st.e.r<Ve[0].r&&(st.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(ze[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:ze[Ve[0]]=Ve[1],Ve[0]==Te&&(le=Ve[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(re["!ref"]=ba(st),Me[Ue||le]=re,Oe.push(Ue||le),!ze.length)return{SheetNames:Oe,Sheets:Me};for(var Nt={},it=[],fe=0;fe<ze.length;++fe)Me[Oe[fe]]?(it.push(ze[fe]||Oe[fe]),Nt[ze[fe]]=Me[ze[fe]]||Me[Oe[fe]]):(it.push(ze[fe]),Nt[ze[fe]]={"!ref":"A1"});return{SheetNames:it,Sheets:Nt}}function n(M,q){var J=q||{};if(+J.codepage>=0&&Ef(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var re=Qs(),le=ki(M["!ref"]),Ue=Array.isArray(M),Te=[];rr(re,0,s(1030)),rr(re,6,g(le));for(var Me=Math.min(le.e.r,8191),Oe=le.s.r;Oe<=Me;++Oe)for(var ze=ss(Oe),st=le.s.c;st<=le.e.c;++st){Oe===le.s.r&&(Te[st]=Ss(st));var ct=Te[st]+ze,Nt=Ue?(M[Oe]||[])[st]:M[ct];if(!(!Nt||Nt.t=="z"))if(Nt.t=="n")(Nt.v|0)==Nt.v&&Nt.v>=-32768&&Nt.v<=32767?rr(re,13,_(Oe,st,Nt.v)):rr(re,14,A(Oe,st,Nt.v));else{var it=Uc(Nt);rr(re,15,v(Oe,st,it.slice(0,239)))}}return rr(re,1),re.end()}function i(M,q){var J=q||{};if(+J.codepage>=0&&Ef(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var re=Qs();rr(re,0,c(M));for(var le=0,Ue=0;le<M.SheetNames.length;++le)(M.Sheets[M.SheetNames[le]]||{})["!ref"]&&rr(re,27,Ae(M.SheetNames[le],Ue++));var Te=0;for(le=0;le<M.SheetNames.length;++le){var Me=M.Sheets[M.SheetNames[le]];if(!(!Me||!Me["!ref"])){for(var Oe=ki(Me["!ref"]),ze=Array.isArray(Me),st=[],ct=Math.min(Oe.e.r,8191),Nt=Oe.s.r;Nt<=ct;++Nt)for(var it=ss(Nt),fe=Oe.s.c;fe<=Oe.e.c;++fe){Nt===Oe.s.r&&(st[fe]=Ss(fe));var Ve=st[fe]+it,rt=ze?(Me[Nt]||[])[fe]:Me[Ve];if(!(!rt||rt.t=="z"))if(rt.t=="n")rr(re,23,ie(Nt,fe,Te,rt.v));else{var He=Uc(rt);rr(re,22,G(Nt,fe,Te,He.slice(0,239)))}}++Te}}return rr(re,1),re.end()}function s(M){var q=Ct(2);return q.write_shift(2,M),q}function c(M){var q=Ct(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var J=0,re=0,le=0,Ue=0;Ue<M.SheetNames.length;++Ue){var Te=M.SheetNames[Ue],Me=M.Sheets[Te];if(!(!Me||!Me["!ref"])){++le;var Oe=To(Me["!ref"]);J<Oe.e.r&&(J=Oe.e.r),re<Oe.e.c&&(re=Oe.e.c)}}return J>8191&&(J=8191),q.write_shift(2,J),q.write_shift(1,le),q.write_shift(1,re),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function f(M,q,J){var re={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&J.qpro?(re.s.c=M.read_shift(1),M.l++,re.s.r=M.read_shift(2),re.e.c=M.read_shift(1),M.l++,re.e.r=M.read_shift(2),re):(re.s.c=M.read_shift(2),re.s.r=M.read_shift(2),q==12&&J.qpro&&(M.l+=2),re.e.c=M.read_shift(2),re.e.r=M.read_shift(2),q==12&&J.qpro&&(M.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function g(M){var q=Ct(8);return q.write_shift(2,M.s.c),q.write_shift(2,M.s.r),q.write_shift(2,M.e.c),q.write_shift(2,M.e.r),q}function u(M,q,J){var re=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(re[0].c=M.read_shift(1),re[3]=M.read_shift(1),re[0].r=M.read_shift(2),M.l+=2):(re[2]=M.read_shift(1),re[0].c=M.read_shift(2),re[0].r=M.read_shift(2)),re}function m(M,q,J){var re=M.l+q,le=u(M,q,J);if(le[1].t="s",J.vers==20768){M.l++;var Ue=M.read_shift(1);return le[1].v=M.read_shift(Ue,"utf8"),le}return J.qpro&&M.l++,le[1].v=M.read_shift(re-M.l,"cstr"),le}function v(M,q,J){var re=Ct(7+J.length);re.write_shift(1,255),re.write_shift(2,q),re.write_shift(2,M),re.write_shift(1,39);for(var le=0;le<re.length;++le){var Ue=J.charCodeAt(le);re.write_shift(1,Ue>=128?95:Ue)}return re.write_shift(1,0),re}function b(M,q,J){var re=u(M,q,J);return re[1].v=M.read_shift(2,"i"),re}function _(M,q,J){var re=Ct(7);return re.write_shift(1,255),re.write_shift(2,q),re.write_shift(2,M),re.write_shift(2,J,"i"),re}function C(M,q,J){var re=u(M,q,J);return re[1].v=M.read_shift(8,"f"),re}function A(M,q,J){var re=Ct(13);return re.write_shift(1,255),re.write_shift(2,q),re.write_shift(2,M),re.write_shift(8,J,"f"),re}function j(M,q,J){var re=M.l+q,le=u(M,q,J);if(le[1].v=M.read_shift(8,"f"),J.qpro)M.l=re;else{var Ue=M.read_shift(2);X(M.slice(M.l,M.l+Ue),le),M.l+=Ue}return le}function L(M,q,J){var re=q&32768;return q&=-32769,q=(re?M:0)+(q>=8192?q-16384:q),(re?"":"$")+(J?Ss(q):ss(q))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function X(M,q){So(M,0);for(var J=[],re=0,le="",Ue="",Te="",Me="";M.l<M.length;){var Oe=M[M.l++];switch(Oe){case 0:J.push(M.read_shift(8,"f"));break;case 1:Ue=L(q[0].c,M.read_shift(2),!0),le=L(q[0].r,M.read_shift(2),!1),J.push(Ue+le);break;case 2:{var ze=L(q[0].c,M.read_shift(2),!0),st=L(q[0].r,M.read_shift(2),!1);Ue=L(q[0].c,M.read_shift(2),!0),le=L(q[0].r,M.read_shift(2),!1),J.push(ze+st+":"+Ue+le)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(M.read_shift(2));break;case 6:{for(var ct="";Oe=M[M.l++];)ct+=String.fromCharCode(Oe);J.push('"'+ct.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:Me=J.pop(),Te=J.pop(),J.push(["AND","OR"][Oe-20]+"("+Te+","+Me+")");break;default:if(Oe<32&&P[Oe])Me=J.pop(),Te=J.pop(),J.push(Te+P[Oe]+Me);else if(I[Oe]){if(re=I[Oe][1],re==69&&(re=M[M.l++]),re>J.length){console.error("WK1 bad formula parse 0x"+Oe.toString(16)+":|"+J.join("|")+"|");return}var Nt=J.slice(-re);J.length-=re,J.push(I[Oe][0]+"("+Nt.join(",")+")")}else return Oe<=7?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=24?console.error("WK1 unsupported op "+Oe.toString(16)):Oe<=30?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=115?console.error("WK1 unsupported function opcode "+Oe.toString(16)):console.error("WK1 unrecognized opcode "+Oe.toString(16))}}J.length==1?q[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function Y(M){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=M.read_shift(2),q[3]=M[M.l++],q[0].c=M[M.l++],q}function K(M,q){var J=Y(M);return J[1].t="s",J[1].v=M.read_shift(q-4,"cstr"),J}function G(M,q,J,re){var le=Ct(6+re.length);le.write_shift(2,M),le.write_shift(1,J),le.write_shift(1,q),le.write_shift(1,39);for(var Ue=0;Ue<re.length;++Ue){var Te=re.charCodeAt(Ue);le.write_shift(1,Te>=128?95:Te)}return le.write_shift(1,0),le}function V(M,q){var J=Y(M);J[1].v=M.read_shift(2);var re=J[1].v>>1;if(J[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return J[1].v=re,J}function z(M,q){var J=Y(M),re=M.read_shift(4),le=M.read_shift(4),Ue=M.read_shift(2);if(Ue==65535)return re===0&&le===3221225472?(J[1].t="e",J[1].v=15):re===0&&le===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var Te=Ue&32768;return Ue=(Ue&32767)-16446,J[1].v=(1-Te*2)*(le*Math.pow(2,Ue+32)+re*Math.pow(2,Ue)),J}function ie(M,q,J,re){var le=Ct(14);if(le.write_shift(2,M),le.write_shift(1,J),le.write_shift(1,q),re==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Ue=0,Te=0,Me=0,Oe=0;return re<0&&(Ue=1,re=-re),Te=Math.log2(re)|0,re/=Math.pow(2,Te-31),Oe=re>>>0,(Oe&2147483648)==0&&(re/=2,++Te,Oe=re>>>0),re-=Oe,Oe|=2147483648,Oe>>>=0,re*=Math.pow(2,32),Me=re>>>0,le.write_shift(4,Me),le.write_shift(4,Oe),Te+=16383+(Ue?32768:0),le.write_shift(2,Te),le}function W(M,q){var J=z(M);return M.l+=q-14,J}function H(M,q){var J=Y(M),re=M.read_shift(4);return J[1].v=re>>6,J}function ne(M,q){var J=Y(M),re=M.read_shift(8,"f");return J[1].v=re,J}function ve(M,q){var J=ne(M);return M.l+=q-10,J}function me(M,q){return M[M.l+q-1]==0?M.read_shift(q,"cstr"):""}function he(M,q){var J=M[M.l++];J>q-1&&(J=q-1);for(var re="";re.length<J;)re+=String.fromCharCode(M[M.l++]);return re}function be(M,q,J){if(!(!J.qpro||q<21)){var re=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var le=M.read_shift(q-21,"cstr");return[re,le]}}function Pe(M,q){for(var J={},re=M.l+q;M.l<re;){var le=M.read_shift(2);if(le==14e3){for(J[le]=[0,""],J[le][0]=M.read_shift(2);M[M.l];)J[le][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return J}function Ae(M,q){var J=Ct(5+M.length);J.write_shift(2,14e3),J.write_shift(2,q);for(var re=0;re<M.length;++re){var le=M.charCodeAt(re);J[J.l++]=le>127?95:le}return J[J.l++]=0,J}var se={0:{n:"BOF",f:T_},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:C},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:j},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:he},65535:{n:""}},Le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:z},24:{n:"NUMBER18",f:V},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Pe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:ne},40:{n:"FORMULA28",f:ve},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),pL=/^\s|\s$|[\t\n\r]/;function I_(t,e){if(!e.bookSST)return"";var r=[_a];r[r.length]=tr("sst",null,{xmlns:eh[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(pL)&&(s+=' xml:space="preserve"'),s+=">"+ii(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function xL(t){return[t.read_shift(4),t.read_shift(4)]}function vL(t,e){return e||(e=Ct(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var yL=ck;function wL(t){var e=Qs();Wt(e,159,vL(t));for(var r=0;r<t.length;++r)Wt(e,19,yL(t[r]));return Wt(e,160),e.end()}function bL(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function D_(t){var e=0,r,n=bL(t),i=n.length+1,s,c,f,g,u;for(r=y0(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)c=r[s],f=(e&16384)===0?0:1,g=e<<1&32767,u=f|g,e=u^c;return e^52811}var _L=function(){function t(i,s){switch(s.type){case"base64":return e(Mc(i),s);case"binary":return e(i,s);case"buffer":return e(Yn&&Buffer.isBuffer(i)?i.toString("binary"):Pf(i),s);case"array":return e(im(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var c=s||{},f=c.dense?[]:{},g=i.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(m,v){Array.isArray(f)&&(f[v]=[]);for(var b=/\\\w+\b/g,_=0,C,A=-1;C=b.exec(m);){switch(C[0]){case"\\cell":var j=m.slice(_,b.lastIndex-C[0].length);if(j[0]==" "&&(j=j.slice(1)),++A,j.length){var L={v:j,t:"s"};Array.isArray(f)?f[v][A]=L:f[ai({r:v,c:A})]=L}break}_=b.lastIndex}A>u.e.c&&(u.e.c=A)}),f["!ref"]=ba(u),f}function r(i,s){return N0(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],c=ki(i["!ref"]),f,g=Array.isArray(i),u=c.s.r;u<=c.e.r;++u){s.push("\\trowd\\trautofit1");for(var m=c.s.c;m<=c.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=c.s.c;m<=c.e.c;++m){var v=ai({r:u,c:m});f=g?(i[u]||[])[m]:i[v],!(!f||f.v==null&&(!f.f||f.F))&&(s.push(" "+(f.w||(Uc(f),f.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function rb(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var EL=6,Pc=EL;function A2(t){return Math.floor((t+Math.round(128/Pc)/256)*Pc)}function C2(t){return Math.floor((t-5)/Pc*100+.5)/100}function Hx(t){return Math.round((t*Pc+5)/Pc*256)/256}function Rv(t){t.width?(t.wpx=A2(t.width),t.wch=C2(t.wpx),t.MDW=Pc):t.wpx?(t.wch=C2(t.wpx),t.width=Hx(t.wch),t.MDW=Pc):typeof t.wch=="number"&&(t.width=Hx(t.wch),t.wpx=A2(t.width),t.MDW=Pc),t.customWidth&&delete t.customWidth}var SL=96,P_=SL;function T2(t){return t*96/P_}function F_(t){return t*P_/96}function NL(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=tr("numFmt",null,{numFmtId:n,formatCode:ii(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=tr("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function AL(t){var e=[];return e[e.length]=tr("cellXfs",null),t.forEach(function(r){e[e.length]=tr("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=tr("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function B_(t,e){var r=[_a,tr("styleSheet",null,{xmlns:eh[0],"xmlns:vt":qa.vt})],n;return t.SSF&&(n=NL(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=AL(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function CL(t,e){var r=t.read_shift(2),n=Ns(t);return[r,n]}function TL(t,e,r){r||(r=Ct(6+4*e.length)),r.write_shift(2,t),Va(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function jL(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=pk(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(n.underline=c);var f=t.read_shift(1);f>0&&(n.family=f);var g=t.read_shift(1);switch(g>0&&(n.charset=g),t.l++,n.color=mk(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ns(t),n}function OL(t,e){e||(e=Ct(25+4*32)),e.write_shift(2,t.sz*20),xk(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),S2(t.color,e);var n=0;return n=2,e.write_shift(1,n),Va(t.name,e),e.length>e.l?e.slice(0,e.l):e}var RL=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ex,kL=ic;function nb(t,e){e||(e=Ct(4*3+8*7+16*1)),ex||(ex=yv(RL));var r=ex[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(S2({auto:1},e),S2({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function LL(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function M_(t,e,r){r||(r=Ct(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Zh(t,e){return e||(e=Ct(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var IL=ic;function DL(t,e){return e||(e=Ct(51)),e.write_shift(1,0),Zh(null,e),Zh(null,e),Zh(null,e),Zh(null,e),Zh(null,e),e.length>e.l?e.slice(0,e.l):e}function PL(t,e){return e||(e=Ct(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),E2(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function FL(t,e,r){var n=Ct(2052);return n.write_shift(4,t),E2(e,n),E2(r,n),n.length>n.l?n.slice(0,n.l):n}function BL(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Wt(t,615,Cl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Wt(t,44,TL(i,e[i]))}),Wt(t,616))}}function ML(t){var e=1;Wt(t,611,Cl(e)),Wt(t,43,OL({sz:12,color:{theme:1},name:"Calibri",family:2})),Wt(t,612)}function UL(t){var e=2;Wt(t,603,Cl(e)),Wt(t,45,nb({patternType:"none"})),Wt(t,45,nb({patternType:"gray125"})),Wt(t,604)}function zL(t){var e=1;Wt(t,613,Cl(e)),Wt(t,46,DL()),Wt(t,614)}function HL(t){var e=1;Wt(t,626,Cl(e)),Wt(t,47,M_({numFmtId:0},65535)),Wt(t,627)}function qL(t,e){Wt(t,617,Cl(e.length)),e.forEach(function(r){Wt(t,47,M_(r,0))}),Wt(t,618)}function WL(t){var e=1;Wt(t,619,Cl(e)),Wt(t,48,PL({xfId:0,name:"Normal"})),Wt(t,620)}function VL(t){var e=0;Wt(t,505,Cl(e)),Wt(t,506)}function GL(t){var e=0;Wt(t,508,FL(e,"TableStyleMedium9","PivotStyleMedium4")),Wt(t,509)}function $L(t,e){var r=Qs();return Wt(r,278),BL(r,t.SSF),ML(r),UL(r),zL(r),HL(r),qL(r,e.cellXfs),WL(r),VL(r),GL(r),Wt(r,279),r.end()}function U_(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[_a];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function XL(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ns(t)}}function YL(t){var e=Ct(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Va(t.name,e),e.slice(0,e.l)}function KL(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function ZL(t){var e=Ct(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function JL(t,e){var r=Ct(8+2*e.length);return r.write_shift(4,t),Va(e,r),r.slice(0,r.l)}function QL(t){return t.l+=4,t.read_shift(4)!=0}function eI(t,e){var r=Ct(8);return r.write_shift(4,t),r.write_shift(4,1),r}function tI(){var t=Qs();return Wt(t,332),Wt(t,334,Cl(1)),Wt(t,335,YL({name:"XLDAPR",version:12e4,flags:3496657072})),Wt(t,336),Wt(t,339,JL(1,"XLDAPR")),Wt(t,52),Wt(t,35,Cl(514)),Wt(t,4096,Cl(0)),Wt(t,4097,$o(1)),Wt(t,36),Wt(t,53),Wt(t,340),Wt(t,337,eI(1)),Wt(t,51,ZL([[1,0]])),Wt(t,338),Wt(t,333),t.end()}function z_(){var t=[_a];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function rI(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=ai(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Rd=1024;function H_(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[tr("xml",null,{"xmlns:v":No.v,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:mv":No.mv}).replace(/\/>/,">"),tr("o:shapelayout",tr("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),tr("v:shapetype",[tr("v:stroke",null,{joinstyle:"miter"}),tr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Rd<t*1e3;)Rd+=1e3;return e.forEach(function(s){var c=Wa(s[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var g=f.type=="gradient"?tr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=tr("v:fill",g,f),m={on:"t",obscured:"t"};++Rd,i=i.concat(["<v:shape"+Cf({id:"_x0000_s"+Rd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,tr("v:shadow",null,m),tr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",as("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),as("x:AutoFill","False"),as("x:Row",String(c.r)),as("x:Column",String(c.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function q_(t){var e=[_a,tr("comments",null,{xmlns:eh[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=ii(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(g){g.a&&(i=r.indexOf(ii(g.a))),s.push(g.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(as("t",ii(s[0]||"")));else{for(var c=`Comment:
    `+s[0]+`
`,f=1;f<s.length;++f)c+=`Reply:
    `+s[f]+`
`;e.push(as("t",ii(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function nI(t,e,r){var n=[_a,tr("ThreadedComments",null,{xmlns:qa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(c,f){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var g={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};f==0?s=g.id:g.parentId=s,c.ID=g.id,c.a&&(g.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),n.push(tr("threadedComment",as("text",c.t||""),g))})}),n.push("</ThreadedComments>"),n.join("")}function iI(t){var e=[_a,tr("personList",null,{xmlns:qa.TCMNT,"xmlns:x":eh[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(tr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function aI(t){var e={};e.iauthor=t.read_shift(4);var r=j0(t);return e.rfx=r.s,e.ref=ai(r.s),t.l+=16,e}function sI(t,e){return e==null&&(e=Ct(36)),e.write_shift(4,t[1].iauthor),rh(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var oI=Ns;function lI(t){return Va(t.slice(0,54))}function cI(t){var e=Qs(),r=[];return Wt(e,628),Wt(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Wt(e,632,lI(i.a)))})}),Wt(e,631),Wt(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Wa(n[0]),e:Wa(n[0])};Wt(e,635,sI([s,i])),i.t&&i.t.length>0&&Wt(e,637,dk(i)),Wt(e,636),delete i.iauthor})}),Wt(e,634),Wt(e,629),e.end()}function uI(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&di.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var W_=["xlsb","xlsm","xlam","biff8","xla"],dI=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,c){var f=!1,g=!1;s.length==0?g=!0:s.charAt(0)=="["&&(g=!0,s=s.slice(1,-1)),c.length==0?f=!0:c.charAt(0)=="["&&(f=!0,c=c.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,m=c.length>0?parseInt(c,10)|0:0;return f?m+=e.c:--m,g?u+=e.r:--u,i+(f?"":"$")+Ss(m)+(g?"":"$")+ss(u)}return function(i,s){return e=s,i.replace(t,r)}}(),kv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Lv=function(){return function(e,r){return e.replace(kv,function(n,i,s,c,f,g){var u=Av(c)-(s?0:r.c),m=Nv(g)-(f?0:r.r),v=m==0?"":f?m+1:"["+m+"]",b=u==0?"":s?u+1:"["+u+"]";return i+"R"+v+"C"+b})}}();function hI(t,e){return t.replace(kv,function(r,n,i,s,c,f){return n+(i=="$"?i+s:Ss(Av(s)+e.c))+(c=="$"?c+f:ss(Nv(f)+e.r))})}function fI(t){return t.length!=1}function wa(t){t.l+=1}function ju(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function V_(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return G_(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),c=ju(t),f=ju(t);return{s:{r:i,c:c[0],cRel:c[1],rRel:c[2]},e:{r:s,c:f[0],cRel:f[1],rRel:f[2]}}}function G_(t){var e=ju(t),r=ju(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function gI(t,e,r){if(r.biff<8)return G_(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=ju(t),c=ju(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function $_(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return mI(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ju(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function mI(t){var e=ju(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function pI(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function xI(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return vI(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),c=(s&16384)>>14,f=(s&32768)>>15;if(s&=16383,f==1)for(;i>524287;)i-=1048576;if(c==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:c,rRel:f}}function vI(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function yI(t,e,r){var n=(t[t.l++]&96)>>5,i=V_(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function wI(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var c=V_(t,s,r);return[n,i,c]}function bI(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function _I(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function EI(t,e,r){var n=(t[t.l++]&96)>>5,i=gI(t,e-1,r);return[n,i]}function SI(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ib(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function NI(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function AI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function CI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function TI(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function jI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function X_(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function OI(t){return t.read_shift(2),X_(t)}function RI(t){return t.read_shift(2),X_(t)}function kI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=$_(t,0,r);return[n,i]}function LI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=xI(t,0,r);return[n,i]}function II(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=$_(t,0,r);return[n,i,s]}function DI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[DD[i],Z_[i],n]}function PI(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:FI(t);return[i,(s[0]===0?Z_:ID)[s[1]]]}function FI(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function BI(t,e,r){t.l+=r&&r.biff==2?3:4}function MI(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function UI(t){return t.l++,Mf[t.read_shift(1)]}function zI(t){return t.l++,t.read_shift(2)}function HI(t){return t.l++,t.read_shift(1)!==0}function qI(t){return t.l++,nh(t)}function WI(t,e,r){return t.l++,O_(t,e-1,r)}function VI(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ik(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Mf[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=nh(t);break;case 2:r[1]=Bk(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function GI(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?j0:zk)(t));return i}function $I(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,c=[];s!=n&&(c[s]=[]);++s)for(var f=0;f!=i;++f)c[s][f]=VI(t,r.biff);return c}function XI(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function YI(t,e,r){if(r.biff==5)return KI(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function KI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function ZI(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function JI(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function QI(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function eD(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var tD=ic,rD=ic,nD=ic;function Uf(t,e,r){return t.l+=2,[pI(t)]}function Iv(t){return t.l+=6,[]}var iD=Uf,aD=Iv,sD=Iv,oD=Uf;function Y_(t){return t.l+=2,[T_(t),t.read_shift(2)&1]}var lD=Uf,cD=Y_,uD=Iv,dD=Uf,hD=Uf,fD=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gD(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),c=fD[r>>2&31];return{ixti:e,coltype:r&3,rt:c,idx:n,c:i,C:s}}function mD(t){return t.l+=2,[t.read_shift(4)]}function pD(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function xD(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function vD(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function yD(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function wD(t){return t.l+=4,[0,0]}var ab={1:{n:"PtgExp",f:MI},2:{n:"PtgTbl",f:nD},3:{n:"PtgAdd",f:wa},4:{n:"PtgSub",f:wa},5:{n:"PtgMul",f:wa},6:{n:"PtgDiv",f:wa},7:{n:"PtgPower",f:wa},8:{n:"PtgConcat",f:wa},9:{n:"PtgLt",f:wa},10:{n:"PtgLe",f:wa},11:{n:"PtgEq",f:wa},12:{n:"PtgGe",f:wa},13:{n:"PtgGt",f:wa},14:{n:"PtgNe",f:wa},15:{n:"PtgIsect",f:wa},16:{n:"PtgUnion",f:wa},17:{n:"PtgRange",f:wa},18:{n:"PtgUplus",f:wa},19:{n:"PtgUminus",f:wa},20:{n:"PtgPercent",f:wa},21:{n:"PtgParen",f:wa},22:{n:"PtgMissArg",f:wa},23:{n:"PtgStr",f:WI},26:{n:"PtgSheet",f:pD},27:{n:"PtgEndSheet",f:xD},28:{n:"PtgErr",f:UI},29:{n:"PtgBool",f:HI},30:{n:"PtgInt",f:zI},31:{n:"PtgNum",f:qI},32:{n:"PtgArray",f:SI},33:{n:"PtgFunc",f:DI},34:{n:"PtgFuncVar",f:PI},35:{n:"PtgName",f:XI},36:{n:"PtgRef",f:kI},37:{n:"PtgArea",f:yI},38:{n:"PtgMemArea",f:ZI},39:{n:"PtgMemErr",f:tD},40:{n:"PtgMemNoMem",f:rD},41:{n:"PtgMemFunc",f:JI},42:{n:"PtgRefErr",f:QI},43:{n:"PtgAreaErr",f:bI},44:{n:"PtgRefN",f:LI},45:{n:"PtgAreaN",f:EI},46:{n:"PtgMemAreaN",f:vD},47:{n:"PtgMemNoMemN",f:yD},57:{n:"PtgNameX",f:YI},58:{n:"PtgRef3d",f:II},59:{n:"PtgArea3d",f:wI},60:{n:"PtgRefErr3d",f:eD},61:{n:"PtgAreaErr3d",f:_I},255:{}},bD={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_D={1:{n:"PtgElfLel",f:Y_},2:{n:"PtgElfRw",f:dD},3:{n:"PtgElfCol",f:iD},6:{n:"PtgElfRwV",f:hD},7:{n:"PtgElfColV",f:oD},10:{n:"PtgElfRadical",f:lD},11:{n:"PtgElfRadicalS",f:uD},13:{n:"PtgElfColS",f:aD},15:{n:"PtgElfColSV",f:sD},16:{n:"PtgElfRadicalLel",f:cD},25:{n:"PtgList",f:gD},29:{n:"PtgSxName",f:mD},255:{}},ED={0:{n:"PtgAttrNoop",f:wD},1:{n:"PtgAttrSemi",f:jI},2:{n:"PtgAttrIf",f:CI},4:{n:"PtgAttrChoose",f:NI},8:{n:"PtgAttrGoto",f:AI},16:{n:"PtgAttrSum",f:BI},32:{n:"PtgAttrBaxcel",f:ib},33:{n:"PtgAttrBaxcel",f:ib},64:{n:"PtgAttrSpace",f:OI},65:{n:"PtgAttrSpaceSemi",f:RI},128:{n:"PtgAttrIfError",f:TI},255:{}};function SD(t,e,r,n){if(n.biff<8)return ic(t,e);for(var i=t.l+e,s=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=$I(t,0,n),s.push(r[c][1]);break;case"PtgMemArea":r[c][2]=GI(t,r[c][1],n),s.push(r[c][2]);break;case"PtgExp":n&&n.biff==12&&(r[c][1][1]=t.read_shift(4),s.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return e=i-t.l,e!==0&&s.push(ic(t,e)),s}function ND(t,e,r){for(var n=t.l+e,i,s,c=[];n!=t.l;)e=n-t.l,s=t[t.l],i=ab[s]||ab[bD[s]],(s===24||s===25)&&(i=(s===24?_D:ED)[t[t.l+1]]),!i||!i.f?ic(t,e):c.push([i.n,i.f(t,e,r)]);return c}function AD(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var c=n[s];if(c)switch(c[0]){case 2:i.push('"'+c[1].replace(/"/g,'""')+'"');break;default:i.push(c[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var CD={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function TD(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function K_(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function sb(t,e,r){var n=K_(t,e,r);return n=="#REF"?n:TD(n,r)}function qd(t,e,r,n,i){var s=i&&i.biff||8,c={s:{c:0,r:0}},f=[],g,u,m,v=0,b=0,_,C="";if(!t[0]||!t[0][0])return"";for(var A=-1,j="",L=0,I=t[0].length;L<I;++L){var P=t[0][L];switch(P[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=f.pop(),u=f.pop(),A>=0){switch(t[0][A][1][0]){case 0:j=ra(" ",t[0][A][1][1]);break;case 1:j=ra("\r",t[0][A][1][1]);break;default:if(j="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}u=u+j,A=-1}f.push(u+CD[P[0]]+g);break;case"PtgIsect":g=f.pop(),u=f.pop(),f.push(u+" "+g);break;case"PtgUnion":g=f.pop(),u=f.pop(),f.push(u+","+g);break;case"PtgRange":g=f.pop(),u=f.pop(),f.push(u+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=pf(P[1][1],c,i),f.push(xf(m,s));break;case"PtgRefN":m=r?pf(P[1][1],r,i):P[1][1],f.push(xf(m,s));break;case"PtgRef3d":v=P[1][1],m=pf(P[1][2],c,i),C=sb(n,v,i),f.push(C+"!"+xf(m,s));break;case"PtgFunc":case"PtgFuncVar":var X=P[1][0],Y=P[1][1];X||(X=0),X&=127;var K=X==0?[]:f.slice(-X);f.length-=X,Y==="User"&&(Y=K.shift()),f.push(Y+"("+K.join(",")+")");break;case"PtgBool":f.push(P[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(P[1]);break;case"PtgNum":f.push(String(P[1]));break;case"PtgStr":f.push('"'+P[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(P[1]);break;case"PtgAreaN":_=Ww(P[1][1],r?{s:r}:c,i),f.push(Jp(_,i));break;case"PtgArea":_=Ww(P[1][1],c,i),f.push(Jp(_,i));break;case"PtgArea3d":v=P[1][1],_=P[1][2],C=sb(n,v,i),f.push(C+"!"+Jp(_,i));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=P[1][2];var G=(n.names||[])[b-1]||(n[0]||[])[b],V=G?G.Name:"SH33TJSNAME"+String(b);V&&V.slice(0,6)=="_xlfn."&&!i.xlfn&&(V=V.slice(6)),f.push(V);break;case"PtgNameX":var z=P[1][1];b=P[1][2];var ie;if(i.biff<=5)z<0&&(z=-z),n[z]&&(ie=n[z][b]);else{var W="";if(((n[z]||[])[0]||[])[0]==14849||(((n[z]||[])[0]||[])[0]==1025?n[z][b]&&n[z][b].itab>0&&(W=n.SheetNames[n[z][b].itab-1]+"!"):W=n.SheetNames[b-1]+"!"),n[z]&&n[z][b])W+=n[z][b].Name;else if(n[0]&&n[0][b])W+=n[0][b].Name;else{var H=(K_(n,z,i)||"").split(";;");H[b-1]?W=H[b-1]:W+="SH33TJSERRX"}f.push(W);break}ie||(ie={Name:"SH33TJSERRY"}),f.push(ie.Name);break;case"PtgParen":var ne="(",ve=")";if(A>=0){switch(j="",t[0][A][1][0]){case 2:ne=ra(" ",t[0][A][1][1])+ne;break;case 3:ne=ra("\r",t[0][A][1][1])+ne;break;case 4:ve=ra(" ",t[0][A][1][1])+ve;break;case 5:ve=ra("\r",t[0][A][1][1])+ve;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}f.push(ne+f.pop()+ve);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":m={c:P[1][1],r:P[1][0]};var me={c:r.c,r:r.r};if(n.sharedf[ai(m)]){var he=n.sharedf[ai(m)];f.push(qd(he,c,me,n,i))}else{var be=!1;for(g=0;g!=n.arrayf.length;++g)if(u=n.arrayf[g],!(m.c<u[0].s.c||m.c>u[0].e.c)&&!(m.r<u[0].s.r||m.r>u[0].e.r)){f.push(qd(u[1],c,me,n,i)),be=!0;break}be||f.push(P[1])}break;case"PtgArray":f.push("{"+AD(P[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=L;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+P[1].idx+"[#"+P[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(P));default:throw new Error("Unrecognized Formula Token: "+String(P))}var Pe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&A>=0&&Pe.indexOf(t[0][L][0])==-1){P=t[0][A];var Ae=!0;switch(P[1][0]){case 4:Ae=!1;case 0:j=ra(" ",P[1][1]);break;case 5:Ae=!1;case 1:j=ra("\r",P[1][1]);break;default:if(j="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+P[1][0])}f.push((Ae?j:"")+f.pop()+(Ae?"":j)),A=-1}}if(f.length>1&&i.WTF)throw new Error("bad formula stack");return f[0]}function jD(t){if(t==null){var e=Ct(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return w0(t);return w0(0)}function OD(t,e,r,n,i){var s=b0(e,r,i),c=jD(t.v),f=Ct(6),g=33;f.write_shift(2,g),f.write_shift(4,0);for(var u=Ct(t.bf.length),m=0;m<t.bf.length;++m)u[m]=t.bf[m];var v=is([s,c,f,u]);return v}function am(t,e,r){var n=t.read_shift(4),i=ND(t,n,r),s=t.read_shift(4),c=s>0?SD(t,s,i,r):null;return[i,c]}var RD=am,sm=am,kD=am,LD=am,ID={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Z_={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},DD={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function PD(t){var e="of:="+t.replace(kv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function FD(t){return t.replace(/\./,"!")}var vf=typeof Map!="undefined";function Dv(t,e,r){var n=0,i=t.length;if(r){if(vf?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=vf?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(vf?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function om(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Pc=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=C2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Hx(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function J_(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Lu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){$8(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function BD(t,e,r){if(t&&t["!ref"]){var n=ki(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function MD(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ba(t[r])+'"/>';return e+"</mergeCells>"}function UD(t,e,r,n,i){var s=!1,c={},f=null;if(n.bookType!=="xlsx"&&e.vbaraw){var g=e.SheetNames[r];try{e.Workbook&&(g=e.Workbook.Sheets[r].CodeName||g)}catch(m){}s=!0,c.codeName=Af(ii(g))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),f=(f||"")+tr("outlinePr",null,u)}!s&&!f||(i[i.length]=tr("sheetPr",f,c))}var zD=["objects","scenarios","selectLockedCells","selectUnlockedCells"],HD=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qD(t){var e={sheet:1};return zD.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),HD.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=D_(t.password).toString(16).toUpperCase()),tr("sheetProtection",null,e)}function WD(t){return J_(t),tr("pageMargins",null,t)}function VD(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=tr("col",null,om(i,n)));return r[r.length]="</cols>",r.join("")}function GD(t,e,r,n){var i=typeof t.ref=="string"?t.ref:ba(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,c=To(i);c.s.r==c.e.r&&(c.e.r=To(e["!ref"]).e.r,i=ba(c));for(var f=0;f<s.length;++f){var g=s[f];if(g.Name=="_xlnm._FilterDatabase"&&g.Sheet==n){g.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return f==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),tr("autoFilter",null,{ref:i})}function $D(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),tr("sheetViews",tr("sheetView",null,i),{})}function XD(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,c=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Mf[t.v];break;case"d":n&&n.cellDates?i=Ds(t.v,-1).toISOString():(t=to(t),t.t="n",i=""+(t.v=eo(Ds(t.v)))),typeof t.z=="undefined"&&(t.z=na[14]);break;default:i=t.v;break}var f=as("v",ii(i)),g={r:e},u=Lu(n.cellXfs,t,n);switch(u!==0&&(g.s=u),t.t){case"n":break;case"d":g.t="d";break;case"b":g.t="b";break;case"e":g.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){f=as("v",""+Dv(n.Strings,t.v,n.revStrings)),g.t="s";break}g.t="str";break}if(t.t!=s&&(t.t=s,t.v=c),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;f=tr("f",ii(t.f),m)+(t.v!=null?f:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(g.cm=1),tr("c",f,g)}function YD(t,e,r,n){var i=[],s=[],c=ki(t["!ref"]),f="",g,u="",m=[],v=0,b=0,_=t["!rows"],C=Array.isArray(t),A={r:u},j,L=-1;for(b=c.s.c;b<=c.e.c;++b)m[b]=Ss(b);for(v=c.s.r;v<=c.e.r;++v){for(s=[],u=ss(v),b=c.s.c;b<=c.e.c;++b){g=m[b]+u;var I=C?(t[v]||[])[b]:t[g];I!==void 0&&(f=XD(I,g,t,e))!=null&&s.push(f)}(s.length>0||_&&_[v])&&(A={r:u},_&&_[v]&&(j=_[v],j.hidden&&(A.hidden=1),L=-1,j.hpx?L=T2(j.hpx):j.hpt&&(L=j.hpt),L>-1&&(A.ht=L,A.customHeight=1),j.level&&(A.outlineLevel=j.level)),i[i.length]=tr("row",s.join(""),A))}if(_)for(;v<_.length;++v)_&&_[v]&&(A={r:v+1},j=_[v],j.hidden&&(A.hidden=1),L=-1,j.hpx?L=T2(j.hpx):j.hpt&&(L=j.hpt),L>-1&&(A.ht=L,A.customHeight=1),j.level&&(A.outlineLevel=j.level),i[i.length]=tr("row","",A));return i.join("")}function Q_(t,e,r,n){var i=[_a,tr("worksheet",null,{xmlns:eh[0],"xmlns:r":qa.r})],s=r.SheetNames[t],c=0,f="",g=r.Sheets[s];g==null&&(g={});var u=g["!ref"]||"A1",m=ki(u);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),u=ba(m)}n||(n={}),g["!comments"]=[];var v=[];UD(g,r,t,e,i),i[i.length]=tr("dimension",null,{ref:u}),i[i.length]=$D(g,e,t,r),e.sheetFormat&&(i[i.length]=tr("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),g["!cols"]!=null&&g["!cols"].length>0&&(i[i.length]=VD(g,g["!cols"])),i[c=i.length]="<sheetData/>",g["!links"]=[],g["!ref"]!=null&&(f=YD(g,e),f.length>0&&(i[i.length]=f)),i.length>c+1&&(i[i.length]="</sheetData>",i[c]=i[c].replace("/>",">")),g["!protect"]&&(i[i.length]=qD(g["!protect"])),g["!autofilter"]!=null&&(i[i.length]=GD(g["!autofilter"],g,r,t)),g["!merges"]!=null&&g["!merges"].length>0&&(i[i.length]=MD(g["!merges"]));var b=-1,_,C=-1;return g["!links"].length>0&&(i[i.length]="<hyperlinks>",g["!links"].forEach(function(A){A[1].Target&&(_={ref:A[0]},A[1].Target.charAt(0)!="#"&&(C=ri(n,-1,ii(A[1].Target).replace(/#.*$/,""),$n.HLINK),_["r:id"]="rId"+C),(b=A[1].Target.indexOf("#"))>-1&&(_.location=ii(A[1].Target.slice(b+1))),A[1].Tooltip&&(_.tooltip=ii(A[1].Tooltip)),i[i.length]=tr("hyperlink",null,_))}),i[i.length]="</hyperlinks>"),delete g["!links"],g["!margins"]!=null&&(i[i.length]=WD(g["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=as("ignoredErrors",tr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),v.length>0&&(C=ri(n,-1,"../drawings/drawing"+(t+1)+".xml",$n.DRAW),i[i.length]=tr("drawing",null,{"r:id":"rId"+C}),g["!drawing"]=v),g["!comments"].length>0&&(C=ri(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",$n.VML),i[i.length]=tr("legacyDrawing",null,{"r:id":"rId"+C}),g["!legacy"]=C),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function KD(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function ZD(t,e,r){var n=Ct(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=T2(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var c=0;i.level&&(c|=i.level),i.hidden&&(c|=16),(i.hpx||i.hpt)&&(c|=32),n.write_shift(1,c),n.write_shift(1,0);var f=0,g=n.l;n.l+=4;for(var u={r:t,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var v=-1,b=-1,_=m<<10;_<m+1<<10;++_){u.c=_;var C=Array.isArray(r)?(r[u.r]||[])[u.c]:r[ai(u)];C&&(v<0&&(v=_),b=_)}v<0||(++f,n.write_shift(4,v),n.write_shift(4,b))}var A=n.l;return n.l=g,n.write_shift(4,f),n.l=A,n.length>n.l?n.slice(0,n.l):n}function JD(t,e,r,n){var i=ZD(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Wt(t,0,i)}var QD=j0,eP=rh;function tP(){}function rP(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=hk(t),r}function nP(t,e,r){r==null&&(r=Ct(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return S2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),g_(t,r),r.slice(0,r.l)}function iP(t){var e=Zo(t);return[e]}function aP(t,e,r){return r==null&&(r=Ct(8)),A0(e,r)}function sP(t){var e=C0(t);return[e]}function oP(t,e,r){return r==null&&(r=Ct(4)),T0(e,r)}function lP(t){var e=Zo(t),r=t.read_shift(1);return[e,r,"b"]}function cP(t,e,r){return r==null&&(r=Ct(9)),A0(e,r),r.write_shift(1,t.v?1:0),r}function uP(t){var e=C0(t),r=t.read_shift(1);return[e,r,"b"]}function dP(t,e,r){return r==null&&(r=Ct(5)),T0(e,r),r.write_shift(1,t.v?1:0),r}function hP(t){var e=Zo(t),r=t.read_shift(1);return[e,r,"e"]}function fP(t,e,r){return r==null&&(r=Ct(9)),A0(e,r),r.write_shift(1,t.v),r}function gP(t){var e=C0(t),r=t.read_shift(1);return[e,r,"e"]}function mP(t,e,r){return r==null&&(r=Ct(8)),T0(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function pP(t){var e=Zo(t),r=t.read_shift(4);return[e,r,"s"]}function xP(t,e,r){return r==null&&(r=Ct(12)),A0(e,r),r.write_shift(4,e.v),r}function vP(t){var e=C0(t),r=t.read_shift(4);return[e,r,"s"]}function yP(t,e,r){return r==null&&(r=Ct(8)),T0(e,r),r.write_shift(4,e.v),r}function wP(t){var e=Zo(t),r=nh(t);return[e,r,"n"]}function bP(t,e,r){return r==null&&(r=Ct(16)),A0(e,r),w0(t.v,r),r}function _P(t){var e=C0(t),r=nh(t);return[e,r,"n"]}function EP(t,e,r){return r==null&&(r=Ct(12)),T0(e,r),w0(t.v,r),r}function SP(t){var e=Zo(t),r=m_(t);return[e,r,"n"]}function NP(t,e,r){return r==null&&(r=Ct(12)),A0(e,r),p_(t.v,r),r}function AP(t){var e=C0(t),r=m_(t);return[e,r,"n"]}function CP(t,e,r){return r==null&&(r=Ct(8)),T0(e,r),p_(t.v,r),r}function TP(t){var e=Zo(t),r=Cv(t);return[e,r,"is"]}function jP(t){var e=Zo(t),r=Ns(t);return[e,r,"str"]}function OP(t,e,r){return r==null&&(r=Ct(12+4*t.v.length)),A0(e,r),Va(t.v,r),r.length>r.l?r.slice(0,r.l):r}function RP(t){var e=C0(t),r=Ns(t);return[e,r,"str"]}function kP(t,e,r){return r==null&&(r=Ct(8+4*t.v.length)),T0(e,r),Va(t.v,r),r.length>r.l?r.slice(0,r.l):r}function LP(t,e,r){var n=t.l+e,i=Zo(t);i.r=r["!row"];var s=t.read_shift(1),c=[i,s,"b"];if(r.cellFormula){t.l+=2;var f=sm(t,n-t.l,r);c[3]=qd(f,null,i,r.supbooks,r)}else t.l=n;return c}function IP(t,e,r){var n=t.l+e,i=Zo(t);i.r=r["!row"];var s=t.read_shift(1),c=[i,s,"e"];if(r.cellFormula){t.l+=2;var f=sm(t,n-t.l,r);c[3]=qd(f,null,i,r.supbooks,r)}else t.l=n;return c}function DP(t,e,r){var n=t.l+e,i=Zo(t);i.r=r["!row"];var s=nh(t),c=[i,s,"n"];if(r.cellFormula){t.l+=2;var f=sm(t,n-t.l,r);c[3]=qd(f,null,i,r.supbooks,r)}else t.l=n;return c}function PP(t,e,r){var n=t.l+e,i=Zo(t);i.r=r["!row"];var s=Ns(t),c=[i,s,"str"];if(r.cellFormula){t.l+=2;var f=sm(t,n-t.l,r);c[3]=qd(f,null,i,r.supbooks,r)}else t.l=n;return c}var FP=j0,BP=rh;function MP(t,e){return e==null&&(e=Ct(4)),e.write_shift(4,t),e}function UP(t,e){var r=t.l+e,n=j0(t),i=Tv(t),s=Ns(t),c=Ns(t),f=Ns(t);t.l=r;var g={rfx:n,relId:i,loc:s,display:f};return c&&(g.Tooltip=c),g}function zP(t,e){var r=Ct(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));rh({s:Wa(t[0]),e:Wa(t[0])},r),jv("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Va(i||"",r),Va(t[1].Tooltip||"",r),Va("",r),r.slice(0,r.l)}function HP(){}function qP(t,e,r){var n=t.l+e,i=x_(t),s=t.read_shift(1),c=[i];if(c[2]=s,r.cellFormula){var f=RD(t,n-t.l,r);c[1]=f}else t.l=n;return c}function WP(t,e,r){var n=t.l+e,i=j0(t),s=[i];if(r.cellFormula){var c=LD(t,n-t.l,r);s[1]=c,t.l=n}else t.l=n;return s}function VP(t,e,r){r==null&&(r=Ct(18));var n=om(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var eE=["left","right","top","bottom","header","footer"];function GP(t){var e={};return eE.forEach(function(r){e[r]=nh(t)}),e}function $P(t,e){return e==null&&(e=Ct(6*8)),J_(t),eE.forEach(function(r){w0(t[r],e)}),e}function XP(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function YP(t,e,r){r==null&&(r=Ct(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function KP(t){var e=Ct(24);return e.write_shift(4,4),e.write_shift(4,1),rh(t,e),e}function ZP(t,e){return e==null&&(e=Ct(16*4+2)),e.write_shift(2,t.password?D_(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function JP(){}function QP(){}function eF(t,e,r,n,i,s,c){if(e.v===void 0)return!1;var f="";switch(e.t){case"b":f=e.v?"1":"0";break;case"d":e=to(e),e.z=e.z||na[14],e.v=eo(Ds(e.v)),e.t="n";break;case"n":case"e":f=""+e.v;break;default:f=e.v;break}var g={r,c:n};switch(g.s=Lu(i.cellXfs,e,i),e.l&&s["!links"].push([ai(g),e.l]),e.c&&s["!comments"].push([ai(g),e.c]),e.t){case"s":case"str":return i.bookSST?(f=Dv(i.Strings,e.v,i.revStrings),g.t="s",g.v=f,c?Wt(t,18,yP(e,g)):Wt(t,7,xP(e,g))):(g.t="str",c?Wt(t,17,kP(e,g)):Wt(t,6,OP(e,g))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?Wt(t,13,CP(e,g)):Wt(t,2,NP(e,g)):c?Wt(t,16,EP(e,g)):Wt(t,5,bP(e,g)),!0;case"b":return g.t="b",c?Wt(t,15,dP(e,g)):Wt(t,4,cP(e,g)),!0;case"e":return g.t="e",c?Wt(t,14,mP(e,g)):Wt(t,3,fP(e,g)),!0}return c?Wt(t,12,oP(e,g)):Wt(t,1,aP(e,g)),!0}function tF(t,e,r,n){var i=ki(e["!ref"]||"A1"),s,c="",f=[];Wt(t,145);var g=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var m=i.s.r;m<=u;++m){c=ss(m),JD(t,e,i,m);var v=!1;if(m<=i.e.r)for(var b=i.s.c;b<=i.e.c;++b){m===i.s.r&&(f[b]=Ss(b)),s=f[b]+c;var _=g?(e[m]||[])[b]:e[s];if(!_){v=!1;continue}v=eF(t,_,m,b,n,e,v)}}Wt(t,146)}function rF(t,e){!e||!e["!merges"]||(Wt(t,177,MP(e["!merges"].length)),e["!merges"].forEach(function(r){Wt(t,176,BP(r))}),Wt(t,178))}function nF(t,e){!e||!e["!cols"]||(Wt(t,390),e["!cols"].forEach(function(r,n){r&&Wt(t,60,VP(n,r))}),Wt(t,391))}function iF(t,e){!e||!e["!ref"]||(Wt(t,648),Wt(t,649,KP(ki(e["!ref"]))),Wt(t,650))}function aF(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=ri(r,-1,n[1].Target.replace(/#.*$/,""),$n.HLINK);Wt(t,494,zP(n,i))}}),delete e["!links"]}function sF(t,e,r,n){if(e["!comments"].length>0){var i=ri(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",$n.VML);Wt(t,551,jv("rId"+i)),e["!legacy"]=i}}function oF(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:ba(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var c=r.Workbook.Names,f=To(s);f.s.r==f.e.r&&(f.e.r=To(e["!ref"]).e.r,s=ba(f));for(var g=0;g<c.length;++g){var u=c[g];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}g==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Wt(t,161,rh(ki(s))),Wt(t,162)}}function lF(t,e,r){Wt(t,133),Wt(t,137,YP(e,r)),Wt(t,138),Wt(t,134)}function cF(t,e){e["!protect"]&&Wt(t,535,ZP(e["!protect"]))}function uF(t,e,r,n){var i=Qs(),s=r.SheetNames[t],c=r.Sheets[s]||{},f=s;try{r&&r.Workbook&&(f=r.Workbook.Sheets[t].CodeName||f)}catch(u){}var g=ki(c["!ref"]||"A1");if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],Wt(i,129),(r.vbaraw||c["!outline"])&&Wt(i,147,nP(f,c["!outline"])),Wt(i,148,eP(g)),lF(i,c,r.Workbook),nF(i,c),tF(i,c,t,e),cF(i,c),oF(i,c,r,t),rF(i,c),aF(i,c,n),c["!margins"]&&Wt(i,476,$P(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&iF(i,c),sF(i,c,t,n),Wt(i,130),i.end()}function dF(t,e){t.l+=10;var r=Ns(t);return{name:r}}var hF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function fF(t){return!t.Workbook||!t.Workbook.WBProps?"false":WR(t.Workbook.WBProps.date1904)?"true":"false"}var gF="][*?/\\".split("");function tE(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return gF.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function mF(t,e,r){t.forEach(function(n,i){tE(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var c=e&&e[i]&&e[i].CodeName||n;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function pF(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];mF(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)BD(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function rE(t){var e=[_a];e[e.length]=tr("workbook",null,{xmlns:eh[0],"xmlns:r":qa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(hF.forEach(function(f){t.Workbook.WBProps[f[0]]!=null&&t.Workbook.WBProps[f[0]]!=f[1]&&(n[f[0]]=t.Workbook.WBProps[f[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=tr("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var c={name:ii(t.SheetNames[s].slice(0,31))};if(c.sheetId=""+(s+1),c["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=tr("sheet",null,c)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(f){var g={name:f.Name};f.Comment&&(g.comment=f.Comment),f.Sheet!=null&&(g.localSheetId=""+f.Sheet),f.Hidden&&(g.hidden="1"),f.Ref&&(e[e.length]=tr("definedName",ii(f.Ref),g))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function xF(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=zx(t),r.name=Ns(t),r}function vF(t,e){return e||(e=Ct(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),jv(t.strRelID,e),Va(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function yF(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Ns(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function wF(t,e){e||(e=Ct(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),g_(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function bF(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=fk(t),c=kD(t,0,r),f=Tv(t);t.l=n;var g={Name:s,Ptg:c};return i<268435455&&(g.Sheet=i),f&&(g.Comment=f),g}function _F(t,e){Wt(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Wt(t,156,vF(i))}Wt(t,144)}function EF(t,e){e||(e=Ct(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Va("SheetJS",e),Va(x2.version,e),Va(x2.version,e),Va("7262",e),e.length>e.l?e.slice(0,e.l):e}function SF(t,e){e||(e=Ct(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function NF(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(Wt(t,135),Wt(t,158,SF(i)),Wt(t,136))}}function AF(t,e){var r=Qs();return Wt(r,131),Wt(r,128,EF()),Wt(r,153,wF(t.Workbook&&t.Workbook.WBProps||null)),NF(r,t),_F(r,t),Wt(r,132),r.end()}function CF(t,e,r){return(e.slice(-4)===".bin"?AF:rE)(t)}function TF(t,e,r,n,i){return(e.slice(-4)===".bin"?uF:Q_)(t,r,n,i)}function jF(t,e,r){return(e.slice(-4)===".bin"?$L:B_)(t,r)}function OF(t,e,r){return(e.slice(-4)===".bin"?wL:I_)(t,r)}function RF(t,e,r){return(e.slice(-4)===".bin"?cI:q_)(t)}function kF(t){return(t.slice(-4)===".bin"?tI:z_)()}function LF(t,e){var r=[];return t.Props&&r.push(jk(t.Props,e)),t.Custprops&&r.push(Ok(t.Props,t.Custprops)),r.join("")}function IF(){return""}function DF(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(tr("NumberFormat",null,{"ss:Format":ii(na[n.numFmtId])}));var c={"ss:ID":"s"+(21+i)};r.push(tr("Style",s.join(""),c))}),tr("Styles",r.join(""))}function nE(t){return tr("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Lv(t.Ref,{r:0,c:0})})}function PF(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(nE(i)))}return tr("Names",r.join(""))}function FF(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],c=0;c<i.length;++c){var f=i[c];f.Sheet==r&&(f.Name.match(/^_xlfn\./)||s.push(nE(f)))}return s.join("")}function BF(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(tr("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(tr("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(tr("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(tr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(as("ProtectContents","True")),t["!protect"].objects&&i.push(as("ProtectObjects","True")),t["!protect"].scenarios&&i.push(as("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(as("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(as("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){t["!protect"][c[0]]&&i.push("<"+c[1]+"/>")})),i.length==0?"":tr("WorksheetOptions",i.join(""),{xmlns:No.x})}function MF(t){return t.map(function(e){var r=qR(e.t||""),n=tr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tr("Comment",n,{"ss:Author":e.a})}).join("")}function UF(t,e,r,n,i,s,c){if(!t||t.v==null&&t.f==null)return"";var f={};if(t.f&&(f["ss:Formula"]="="+ii(Lv(t.f,c))),t.F&&t.F.slice(0,e.length)==e){var g=Wa(t.F.slice(e.length+1));f["ss:ArrayRange"]="RC:R"+(g.r==c.r?"":"["+(g.r-c.r)+"]")+"C"+(g.c==c.c?"":"["+(g.c-c.c)+"]")}if(t.l&&t.l.Target&&(f["ss:HRef"]=ii(t.l.Target),t.l.Tooltip&&(f["x:HRefScreenTip"]=ii(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],m=0;m!=u.length;++m)u[m].s.c!=c.c||u[m].s.r!=c.r||(u[m].e.c>u[m].s.c&&(f["ss:MergeAcross"]=u[m].e.c-u[m].s.c),u[m].e.r>u[m].s.r&&(f["ss:MergeDown"]=u[m].e.r-u[m].s.r));var v="",b="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":v="Number",b=String(t.v);break;case"b":v="Boolean",b=t.v?"1":"0";break;case"e":v="Error",b=Mf[t.v];break;case"d":v="DateTime",b=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||na[14]);break;case"s":v="String",b=HR(t.v||"");break}var _=Lu(n.cellXfs,t,n);f["ss:StyleID"]="s"+(21+_),f["ss:Index"]=c.c+1;var C=t.v!=null?b:"",A=t.t=="z"?"":'<Data ss:Type="'+v+'">'+C+"</Data>";return(t.c||[]).length>0&&(A+=MF(t.c)),tr("Cell",A,f)}function zF(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=F_(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function HF(t,e,r,n){if(!t["!ref"])return"";var i=ki(t["!ref"]),s=t["!merges"]||[],c=0,f=[];t["!cols"]&&t["!cols"].forEach(function(j,L){Rv(j);var I=!!j.width,P=om(L,j),X={"ss:Index":L+1};I&&(X["ss:Width"]=A2(P.width)),j.hidden&&(X["ss:Hidden"]="1"),f.push(tr("Column",null,X))});for(var g=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var m=[zF(u,(t["!rows"]||[])[u])],v=i.s.c;v<=i.e.c;++v){var b=!1;for(c=0;c!=s.length;++c)if(!(s[c].s.c>v)&&!(s[c].s.r>u)&&!(s[c].e.c<v)&&!(s[c].e.r<u)){(s[c].s.c!=v||s[c].s.r!=u)&&(b=!0);break}if(!b){var _={r:u,c:v},C=ai(_),A=g?(t[u]||[])[v]:t[C];m.push(UF(A,C,t,e,r,n,_))}}m.push("</Row>"),m.length>2&&f.push(m.join(""))}return f.join("")}function qF(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],c=s?FF(s,e,t,r):"";return c.length>0&&n.push("<Names>"+c+"</Names>"),c=s?HF(s,e,t,r):"",c.length>0&&n.push("<Table>"+c+"</Table>"),n.push(BF(s,e,t,r)),n.join("")}function WF(t,e){e||(e={}),t.SSF||(t.SSF=to(na)),t.SSF&&(rm(),tm(t.SSF),e.revssf=nm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Lu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(LF(t,e)),r.push(IF()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(tr("Worksheet",qF(n,e,t),{"ss:Name":ii(t.SheetNames[n])}));return r[2]=DF(t,e),r[3]=PF(t),_a+tr("Workbook",r.join(""),{xmlns:No.ss,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:ss":No.ss,"xmlns:dt":No.dt,"xmlns:html":No.html})}var tx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function VF(t,e){var r=[],n=[],i=[],s=0,c,f=Lw(Gw,"n"),g=Lw($w,"n");if(t.Props)for(c=os(t.Props),s=0;s<c.length;++s)(Object.prototype.hasOwnProperty.call(f,c[s])?r:Object.prototype.hasOwnProperty.call(g,c[s])?n:i).push([c[s],t.Props[c[s]]]);if(t.Custprops)for(c=os(t.Custprops),s=0;s<c.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},c[s])||(Object.prototype.hasOwnProperty.call(f,c[s])?r:Object.prototype.hasOwnProperty.call(g,c[s])?n:i).push([c[s],t.Custprops[c[s]]]);var u=[];for(s=0;s<i.length;++s)C_.indexOf(i[s][0])>-1||S_.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&di.utils.cfb_add(e,"/SummaryInformation",Jw(n,tx.SI,g,$w)),(r.length||u.length)&&di.utils.cfb_add(e,"/DocumentSummaryInformation",Jw(r,tx.DSI,f,Gw,u.length?u:null,tx.UDI))}function GF(t,e){var r=e||{},n=di.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return di.utils.cfb_add(n,i,iE(t,r)),r.biff==8&&(t.Props||t.Custprops)&&VF(t,n),r.biff==8&&t.vbaraw&&uI(n,di.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var $F={0:{f:KD},1:{f:iP},2:{f:SP},3:{f:hP},4:{f:lP},5:{f:wP},6:{f:jP},7:{f:pP},8:{f:PP},9:{f:DP},10:{f:LP},11:{f:IP},12:{f:sP},13:{f:AP},14:{f:gP},15:{f:uP},16:{f:_P},17:{f:RP},18:{f:vP},19:{f:Cv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:bF},40:{},42:{},43:{f:jL},44:{f:CL},45:{f:kL},46:{f:IL},47:{f:LL},48:{},49:{f:sk},50:{},51:{f:KL},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:oL},62:{f:TP},63:{f:rI},64:{f:JP},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ic,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:XP},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:rP},148:{f:QD,p:16},151:{f:HP},152:{},153:{f:yF},154:{},155:{},156:{f:xF},157:{},158:{},159:{T:1,f:xL},160:{T:-1},161:{T:1,f:j0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:FP},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:XL},336:{T:-1},337:{f:QL,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:zx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:tL},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qP},427:{f:WP},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:GP},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tP},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:UP},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:zx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:oI},633:{T:1},634:{T:-1},635:{T:1,f:aI},636:{T:-1},637:{f:uk},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:dF},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QP},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rr(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,c=t.next(4);c.write_shift(2,i),c.write_shift(2,s),s>0&&Sv(r)&&t.push(r)}}function XF(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return rr(t,e,r,i);var s=e;if(!isNaN(s)){for(var c=r.parts||[],f=0,g=0,u=0;u+(c[f]||8224)<=8224;)u+=c[f]||8224,f++;var m=t.next(4);for(m.write_shift(2,s),m.write_shift(2,u),t.push(r.slice(g,g+u)),g+=u;g<i;){for(m=t.next(4),m.write_shift(2,60),u=0;u+(c[f]||8224)<=8224;)u+=c[f]||8224,f++;m.write_shift(2,u),t.push(r.slice(g,g+u)),g+=u}}}function zf(t,e,r){return t||(t=Ct(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function YF(t,e,r,n){var i=Ct(9);return zf(i,t,e),j_(r,n||"b",i),i}function KF(t,e,r){var n=Ct(8+2*r.length);return zf(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function ZF(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?eo(Ds(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?rr(t,2,dL(r,n,i)):rr(t,3,uL(r,n,i));return;case"b":case"e":rr(t,5,YF(r,n,e.v,e.t));return;case"s":case"str":rr(t,4,KF(r,n,(e.v||"").slice(0,255)));return}rr(t,1,zf(null,r,n))}function JF(t,e,r,n){var i=Array.isArray(e),s=ki(e["!ref"]||"A1"),c,f="",g=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),c=ba(s)}for(var u=s.s.r;u<=s.e.r;++u){f=ss(u);for(var m=s.s.c;m<=s.e.c;++m){u===s.s.r&&(g[m]=Ss(m)),c=g[m]+f;var v=i?(e[u]||[])[m]:e[c];v&&ZF(t,v,u,m)}}}function QF(t,e){for(var r=e||{},n=Qs(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rr(n,r.biff==4?1033:r.biff==3?521:9,Ov(t,16,r)),JF(n,t.Sheets[t.SheetNames[i]],i,r),rr(n,10),n.end()}function eB(t,e,r){rr(t,49,$k({sz:12,name:"Arial"},r))}function tB(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&rr(t,1054,Kk(i,e[i],r))})}function rB(t,e){var r=Ct(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rr(t,2151,r),r=Ct(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),k_(ki(e["!ref"]||"A1"),r),r.write_shift(4,4),rr(t,2152,r)}function nB(t,e){for(var r=0;r<16;++r)rr(t,224,eb({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){rr(t,224,eb(n,0,e))})}function iB(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];rr(t,440,iL(n)),n[1].Tooltip&&rr(t,2048,aL(n))}delete e["!links"]}function aB(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&rr(t,125,lL(om(i,n),i))})}}function sB(t,e,r,n,i){var s=16+Lu(i.cellXfs,e,i);if(e.v==null&&!e.bf){rr(t,513,b0(r,n,s));return}if(e.bf)rr(t,6,OD(e,r,n,i,s));else switch(e.t){case"d":case"n":var c=e.t=="d"?eo(Ds(e.v)):e.v;rr(t,515,eL(r,n,c,s));break;case"b":case"e":rr(t,517,Qk(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var f=Dv(i.Strings,e.v,i.revStrings);rr(t,253,Xk(r,n,f,s))}else rr(t,516,Yk(r,n,(e.v||"").slice(0,255),s,i));break;default:rr(t,513,b0(r,n,s))}}function oB(t,e,r){var n=Qs(),i=r.SheetNames[t],s=r.Sheets[i]||{},c=(r||{}).Workbook||{},f=(c.Sheets||[])[t]||{},g=Array.isArray(s),u=e.biff==8,m,v="",b=[],_=ki(s["!ref"]||"A1"),C=u?65536:16384;if(_.e.c>255||_.e.r>=C){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,C-1)}rr(n,2057,Ov(r,16,e)),rr(n,13,$o(1)),rr(n,12,$o(100)),rr(n,15,Is(!0)),rr(n,17,Is(!1)),rr(n,16,w0(.001)),rr(n,95,Is(!0)),rr(n,42,Is(!1)),rr(n,43,Is(!1)),rr(n,130,$o(1)),rr(n,128,Jk()),rr(n,131,Is(!1)),rr(n,132,Is(!1)),u&&aB(n,s["!cols"]),rr(n,512,Zk(_,e)),u&&(s["!links"]=[]);for(var A=_.s.r;A<=_.e.r;++A){v=ss(A);for(var j=_.s.c;j<=_.e.c;++j){A===_.s.r&&(b[j]=Ss(j)),m=b[j]+v;var L=g?(s[A]||[])[j]:s[m];L&&(sB(n,L,A,j,e),u&&L.l&&s["!links"].push([m,L.l]))}}var I=f.CodeName||f.name||i;return u&&rr(n,574,Gk((c.Views||[])[0])),u&&(s["!merges"]||[]).length&&rr(n,229,nL(s["!merges"])),u&&iB(n,s),rr(n,442,R_(I)),u&&rB(n,s),rr(n,10),n.end()}function lB(t,e,r){var n=Qs(),i=(t||{}).Workbook||{},s=i.Sheets||[],c=i.WBProps||{},f=r.biff==8,g=r.biff==5;if(rr(n,2057,Ov(t,5,r)),r.bookType=="xla"&&rr(n,135),rr(n,225,f?$o(1200):null),rr(n,193,Lk(2)),g&&rr(n,191),g&&rr(n,192),rr(n,226),rr(n,92,Hk("SheetJS",r)),rr(n,66,$o(f?1200:1252)),f&&rr(n,353,$o(0)),f&&rr(n,448),rr(n,317,cL(t.SheetNames.length)),f&&t.vbaraw&&rr(n,211),f&&t.vbaraw){var u=c.CodeName||"ThisWorkbook";rr(n,442,R_(u))}rr(n,156,$o(17)),rr(n,25,Is(!1)),rr(n,18,Is(!1)),rr(n,19,$o(0)),f&&rr(n,431,Is(!1)),f&&rr(n,444,$o(0)),rr(n,61,Vk()),rr(n,64,Is(!1)),rr(n,141,$o(0)),rr(n,34,Is(fF(t)=="true")),rr(n,14,Is(!0)),f&&rr(n,439,Is(!1)),rr(n,218,$o(0)),eB(n,t,r),tB(n,t.SSF,r),nB(n,r),f&&rr(n,352,Is(!1));var m=n.end(),v=Qs();f&&rr(v,140,sL()),f&&r.Strings&&XF(v,252,Wk(r.Strings)),rr(v,10);var b=v.end(),_=Qs(),C=0,A=0;for(A=0;A<t.SheetNames.length;++A)C+=(f?12:11)+(f?2:1)*t.SheetNames[A].length;var j=m.length+C+b.length;for(A=0;A<t.SheetNames.length;++A){var L=s[A]||{};rr(_,133,qk({pos:j,hs:L.Hidden||0,dt:0,name:t.SheetNames[A]},r)),j+=e[A].length}var I=_.end();if(C!=I.length)throw new Error("BS8 "+C+" != "+I.length);var P=[];return m.length&&P.push(m),I.length&&P.push(I),b.length&&P.push(b),is(P)}function cB(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=to(na)),t&&t.SSF&&(rm(),tm(t.SSF),r.revssf=nm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Pv(r),r.cellXfs=[],Lu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=oB(i,r,t);return n.unshift(lB(t,n,r)),is(n)}function iE(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=To(n["!ref"]);i.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return cB(t,e);case 4:case 3:case 2:return QF(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function uB(t,e,r,n){for(var i=t["!merges"]||[],s=[],c=e.s.c;c<=e.e.c;++c){for(var f=0,g=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>c)&&!(i[u].e.r<r||i[u].e.c<c)){if(i[u].s.r<r||i[u].s.c<c){f=-1;break}f=i[u].e.r-i[u].s.r+1,g=i[u].e.c-i[u].s.c+1;break}if(!(f<0)){var m=ai({r,c}),v=n.dense?(t[r]||[])[c]:t[m],b=v&&v.v!=null&&(v.h||zR(v.w||(Uc(v),v.w)||""))||"",_={};f>1&&(_.rowspan=f),g>1&&(_.colspan=g),n.editable?b='<span contenteditable="true">'+b+"</span>":v&&(_["data-t"]=v&&v.t||"z",v.v!=null&&(_["data-v"]=v.v),v.z!=null&&(_["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+v.l.Target+'">'+b+"</a>")),_.id=(n.id||"sjs")+"-"+m,s.push(tr("td",b,_))}}var C="<tr>";return C+s.join("")+"</tr>"}var dB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',hB="</body></html>";function fB(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function aE(t,e){var r=e||{},n=r.header!=null?r.header:dB,i=r.footer!=null?r.footer:hB,s=[n],c=To(t["!ref"]);r.dense=Array.isArray(t),s.push(fB(t,c,r));for(var f=c.s.r;f<=c.e.r;++f)s.push(uB(t,c,f,r));return s.push("</table>"+i),s.join("")}function sE(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?Wa(n.origin):n.origin;i=c.r,s=c.c}var f=e.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,f.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var m=To(t["!ref"]);u.s.r=Math.min(u.s.r,m.s.r),u.s.c=Math.min(u.s.c,m.s.c),u.e.r=Math.max(u.e.r,m.e.r),u.e.c=Math.max(u.e.c,m.e.c),i==-1&&(u.e.r=i=m.e.r+1)}var v=[],b=0,_=t["!rows"]||(t["!rows"]=[]),C=0,A=0,j=0,L=0,I=0,P=0;for(t["!cols"]||(t["!cols"]=[]);C<f.length&&A<g;++C){var X=f[C];if(ob(X)){if(n.display)continue;_[A]={hidden:!0}}var Y=X.children;for(j=L=0;j<Y.length;++j){var K=Y[j];if(!(n.display&&ob(K))){var G=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):VR(K.innerHTML),V=K.getAttribute("data-z")||K.getAttribute("z");for(b=0;b<v.length;++b){var z=v[b];z.s.c==L+s&&z.s.r<A+i&&A+i<=z.e.r&&(L=z.e.c+1-s,b=-1)}P=+K.getAttribute("colspan")||1,((I=+K.getAttribute("rowspan")||1)>1||P>1)&&v.push({s:{r:A+i,c:L+s},e:{r:A+i+(I||1)-1,c:L+s+(P||1)-1}});var ie={t:"s",v:G},W=K.getAttribute("data-t")||K.getAttribute("t")||"";G!=null&&(G.length==0?ie.t=W||"z":n.raw||G.trim().length==0||W=="s"||(G==="TRUE"?ie={t:"b",v:!0}:G==="FALSE"?ie={t:"b",v:!1}:isNaN(Dc(G))?isNaN(Nf(G).getDate())||(ie={t:"d",v:Ds(G)},n.cellDates||(ie={t:"n",v:eo(ie.v)}),ie.z=n.dateNF||na[14]):ie={t:"n",v:Dc(G)})),ie.z===void 0&&V!=null&&(ie.z=V);var H="",ne=K.getElementsByTagName("A");if(ne&&ne.length)for(var ve=0;ve<ne.length&&!(ne[ve].hasAttribute("href")&&(H=ne[ve].getAttribute("href"),H.charAt(0)!="#"));++ve);H&&H.charAt(0)!="#"&&(ie.l={Target:H}),n.dense?(t[A+i]||(t[A+i]=[]),t[A+i][L+s]=ie):t[ai({c:L+s,r:A+i})]=ie,u.e.c<L+s&&(u.e.c=L+s),L+=P}}++A}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),u.e.r=Math.max(u.e.r,A-1+i),t["!ref"]=ba(u),A>=g&&(t["!fullref"]=ba((u.e.r=f.length-C+A-1+i,u))),t}function oE(t,e){var r=e||{},n=r.dense?[]:{};return sE(n,t,e)}function gB(t,e){return N0(oE(t,e),e)}function ob(t){var e="",r=mB(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function mB(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var pB=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Cf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return _a+e}}(),lb=function(){var t=function(s){return ii(s).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,c,f){var g=[];g.push('      <table:table table:name="'+ii(c.SheetNames[f])+`" table:style-name="ta1">
`);var u=0,m=0,v=To(s["!ref"]||"A1"),b=s["!merges"]||[],_=0,C=Array.isArray(s);if(s["!cols"])for(m=0;m<=v.e.c;++m)g.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var A="",j=s["!rows"]||[];for(u=0;u<v.s.r;++u)A=j[u]?' table:style-name="ro'+j[u].ods+'"':"",g.push("        <table:table-row"+A+`></table:table-row>
`);for(;u<=v.e.r;++u){for(A=j[u]?' table:style-name="ro'+j[u].ods+'"':"",g.push("        <table:table-row"+A+`>
`),m=0;m<v.s.c;++m)g.push(e);for(;m<=v.e.c;++m){var L=!1,I={},P="";for(_=0;_!=b.length;++_)if(!(b[_].s.c>m)&&!(b[_].s.r>u)&&!(b[_].e.c<m)&&!(b[_].e.r<u)){(b[_].s.c!=m||b[_].s.r!=u)&&(L=!0),I["table:number-columns-spanned"]=b[_].e.c-b[_].s.c+1,I["table:number-rows-spanned"]=b[_].e.r-b[_].s.r+1;break}if(L){g.push(r);continue}var X=ai({r:u,c:m}),Y=C?(s[u]||[])[m]:s[X];if(Y&&Y.f&&(I["table:formula"]=ii(PD(Y.f)),Y.F&&Y.F.slice(0,X.length)==X)){var K=To(Y.F);I["table:number-matrix-columns-spanned"]=K.e.c-K.s.c+1,I["table:number-matrix-rows-spanned"]=K.e.r-K.s.r+1}if(!Y){g.push(e);continue}switch(Y.t){case"b":P=Y.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=Y.v?"true":"false";break;case"n":P=Y.w||String(Y.v||0),I["office:value-type"]="float",I["office:value"]=Y.v||0;break;case"s":case"str":P=Y.v==null?"":Y.v,I["office:value-type"]="string";break;case"d":P=Y.w||Ds(Y.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=Ds(Y.v).toISOString(),I["table:style-name"]="ce1";break;default:g.push(e);continue}var G=t(P);if(Y.l&&Y.l.Target){var V=Y.l.Target;V=V.charAt(0)=="#"?"#"+FD(V.slice(1)):V,V.charAt(0)!="#"&&!V.match(/^\w+:/)&&(V="../"+V),G=tr("text:a",G,{"xlink:href":V.replace(/&/g,"&amp;")})}g.push("          "+tr("table:table-cell",tr("text:p",G,{}),I)+`
`)}g.push(`        </table:table-row>
`)}return g.push(`      </table:table>
`),g.join("")},i=function(s,c){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var f=0;c.SheetNames.map(function(u){return c.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var m=0;m<u["!cols"].length;++m)if(u["!cols"][m]){var v=u["!cols"][m];if(v.width==null&&v.wpx==null&&v.wch==null)continue;Rv(v),v.ods=f;var b=u["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+b+`"/>
`),s.push(`  </style:style>
`),++f}}});var g=0;c.SheetNames.map(function(u){return c.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var m=0;m<u["!rows"].length;++m)if(u["!rows"][m]){u["!rows"][m].ods=g;var v=u["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+g+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),s.push(`  </style:style>
`),++g}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(c,f){var g=[_a],u=Cf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Cf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(g.push("<office:document"+u+m+`>
`),g.push(__().replace(/office:document-meta/g,"office:meta"))):g.push("<office:document-content"+u+`>
`),i(g,c),g.push(`  <office:body>
`),g.push(`    <office:spreadsheet>
`);for(var v=0;v!=c.SheetNames.length;++v)g.push(n(c.Sheets[c.SheetNames[v]],c,v));return g.push(`    </office:spreadsheet>
`),g.push(`  </office:body>
`),f.bookType=="fods"?g.push("</office:document>"):g.push("</office:document-content>"),g.join("")}}();function lE(t,e){if(e.bookType=="fods")return lb(t,e);var r=wv(),n="",i=[],s=[];return n="mimetype",hn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",hn(r,n,lb(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",hn(r,n,pB(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",hn(r,n,_a+__()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",hn(r,n,Tk(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",hn(r,n,Ak(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function j2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xB(t){return typeof TextEncoder!="undefined"?new TextEncoder().encode(t):Nl(Af(t))}function vB(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Ou(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function yB(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function Tf(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function ti(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function zd(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Aa(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Tf(t,r),s=i&7;i=Math.floor(i/8);var c=0,f;if(i==0)break;switch(s){case 0:{for(var g=r[0];t[r[0]++]>=128;);f=t.slice(g,r[0])}break;case 5:c=4,f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=Tf(t,r),f=t.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:f,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function es(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(ti(n*8+i.type)),i.type==2&&e.push(ti(i.data.length)),e.push(i.data))})}),Ou(e)}function yl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Tf(t,n),s=Aa(t.slice(n[0],n[0]+i));n[0]+=i;var c={id:zd(s[1][0].data),messages:[]};s[2].forEach(function(f){var g=Aa(f.data),u=zd(g[3][0].data);c.messages.push({meta:g,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(c.merge=zd(s[3][0].data)>>>0>0),r.push(c)}return r}function vd(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:ti(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ti(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(c){i.push(c.data),c.meta[3]=[{type:0,data:ti(c.data.length)}],n[2].push({data:es(c.meta),type:2})});var s=es(n);e.push(ti(s.length)),e.push(s),i.forEach(function(c){return e.push(c)})}),Ou(e)}function wB(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Tf(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var c=e[r[0]++]>>2;if(c<60)++c;else{var f=c-59;c=e[r[0]],f>1&&(c|=e[r[0]+1]<<8),f>2&&(c|=e[r[0]+2]<<16),f>3&&(c|=e[r[0]+3]<<24),c>>>=0,c++,r[0]+=f}i.push(e.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var g=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,g=(e[r[0]++]&224)<<3,g|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(g=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(g=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Ou(i)],g==0)throw new Error("Invalid offset 0");if(g>i[0].length)throw new Error("Invalid offset beyond length");if(u>=g)for(i.push(i[0].slice(-g)),u-=g;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-g,-g+u))}}var m=Ou(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function wl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(wB(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ou(e)}function yd(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=ti(n),c=s.length;e.push(s),n<=60?(c++,e.push(new Uint8Array([n-1<<2]))):n<=256?(c+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(c+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(c+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(c+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),c+=n,i[0]=0,i[1]=c&255,i[2]=c>>8&255,i[3]=c>>16&255,r+=n}return Ou(e)}function rx(t,e){var r=new Uint8Array(32),n=j2(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,yB(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function nx(t,e){var r=new Uint8Array(32),n=j2(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function vu(t){var e=Aa(t);return Tf(e[1][0].data)}function bB(t,e,r){var n,i,s,c;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var f=((c=(s=t[8])==null?void 0:s[0])==null?void 0:c.data)&&zd(t[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var g=0,u=j2(t[7][0].data),m=0,v=[],b=j2(t[4][0].data),_=0,C=[],A=0;A<e.length;++A){if(e[A]==null){u.setUint16(A*2,65535,!0),b.setUint16(A*2,65535);continue}u.setUint16(A*2,m,!0),b.setUint16(A*2,_,!0);var j,L;switch(typeof e[A]){case"string":j=rx({t:"s",v:e[A]},r),L=nx({t:"s",v:e[A]},r);break;case"number":j=rx({t:"n",v:e[A]},r),L=nx({t:"n",v:e[A]},r);break;case"boolean":j=rx({t:"b",v:e[A]},r),L=nx({t:"b",v:e[A]},r);break;default:throw new Error("Unsupported value "+e[A])}v.push(j),m+=j.length,C.push(L),_+=L.length,++g}for(t[2][0].data=ti(g);A<t[7][0].data.length/2;++A)u.setUint16(A*2,65535,!0),b.setUint16(A*2,65535,!0);return t[6][0].data=Ou(v),t[3][0].data=Ou(C),g}function _B(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=To(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ba(n)));var s=O2(r,{range:n,header:1}),c=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(J){typeof J=="string"&&c.push(J)})});var f={},g=[],u=di.read(e.numbers,{type:"base64"});u.FileIndex.map(function(q,J){return[q,u.FullPaths[J]]}).forEach(function(q){var J=q[0],re=q[1];if(J.type==2&&J.name.match(/\.iwa/)){var le=J.content,Ue=wl(le),Te=yl(Ue);Te.forEach(function(Me){g.push(Me.id),f[Me.id]={deps:[],location:re,type:zd(Me.messages[0].meta[1][0].data)}})}}),g.sort(function(q,J){return q-J});var m=g.filter(function(q){return q>1}).map(function(q){return[q,ti(q)]});u.FileIndex.map(function(q,J){return[q,u.FullPaths[J]]}).forEach(function(q){var J=q[0];if(q[1],!!J.name.match(/\.iwa/)){var re=yl(wl(J.content));re.forEach(function(le){le.messages.forEach(function(Ue){m.forEach(function(Te){le.messages.some(function(Me){return zd(Me.meta[1][0].data)!=11006&&vB(Me.data,Te[1])})&&f[Te[0]].deps.push(le.id)})})})}});for(var v=di.find(u,f[1].location),b=yl(wl(v.content)),_,C=0;C<b.length;++C){var A=b[C];A.id==1&&(_=A)}var j=vu(Aa(_.messages[0].data)[1][0].data);for(v=di.find(u,f[j].location),b=yl(wl(v.content)),C=0;C<b.length;++C)A=b[C],A.id==j&&(_=A);for(j=vu(Aa(_.messages[0].data)[2][0].data),v=di.find(u,f[j].location),b=yl(wl(v.content)),C=0;C<b.length;++C)A=b[C],A.id==j&&(_=A);for(j=vu(Aa(_.messages[0].data)[2][0].data),v=di.find(u,f[j].location),b=yl(wl(v.content)),C=0;C<b.length;++C)A=b[C],A.id==j&&(_=A);var L=Aa(_.messages[0].data);{L[6][0].data=ti(n.e.r+1),L[7][0].data=ti(n.e.c+1);var I=vu(L[46][0].data),P=di.find(u,f[I].location),X=yl(wl(P.content));{for(var Y=0;Y<X.length&&X[Y].id!=I;++Y);if(X[Y].id!=I)throw"Bad ColumnRowUIDMapArchive";var K=Aa(X[Y].messages[0].data);K[1]=[],K[2]=[],K[3]=[];for(var G=0;G<=n.e.c;++G){var V=[];V[1]=V[2]=[{type:0,data:ti(G+420690)}],K[1].push({type:2,data:es(V)}),K[2].push({type:0,data:ti(G)}),K[3].push({type:0,data:ti(G)})}K[4]=[],K[5]=[],K[6]=[];for(var z=0;z<=n.e.r;++z)V=[],V[1]=V[2]=[{type:0,data:ti(z+726270)}],K[4].push({type:2,data:es(V)}),K[5].push({type:0,data:ti(z)}),K[6].push({type:0,data:ti(z)});X[Y].messages[0].data=es(K)}P.content=yd(vd(X)),P.size=P.content.length,delete L[46];var ie=Aa(L[4][0].data);{ie[7][0].data=ti(n.e.r+1);var W=Aa(ie[1][0].data),H=vu(W[2][0].data);P=di.find(u,f[H].location),X=yl(wl(P.content));{if(X[0].id!=H)throw"Bad HeaderStorageBucket";var ne=Aa(X[0].messages[0].data);for(z=0;z<s.length;++z){var ve=Aa(ne[2][0].data);ve[1][0].data=ti(z),ve[4][0].data=ti(s[z].length),ne[2][z]={type:ne[2][0].type,data:es(ve)}}X[0].messages[0].data=es(ne)}P.content=yd(vd(X)),P.size=P.content.length;var me=vu(ie[2][0].data);P=di.find(u,f[me].location),X=yl(wl(P.content));{if(X[0].id!=me)throw"Bad HeaderStorageBucket";for(ne=Aa(X[0].messages[0].data),G=0;G<=n.e.c;++G)ve=Aa(ne[2][0].data),ve[1][0].data=ti(G),ve[4][0].data=ti(n.e.r+1),ne[2][G]={type:ne[2][0].type,data:es(ve)};X[0].messages[0].data=es(ne)}P.content=yd(vd(X)),P.size=P.content.length;var he=vu(ie[4][0].data);(function(){for(var q=di.find(u,f[he].location),J=yl(wl(q.content)),re,le=0;le<J.length;++le){var Ue=J[le];Ue.id==he&&(re=Ue)}var Te=Aa(re.messages[0].data);{Te[3]=[];var Me=[];c.forEach(function(st,ct){Me[1]=[{type:0,data:ti(ct)}],Me[2]=[{type:0,data:ti(1)}],Me[3]=[{type:2,data:xB(st)}],Te[3].push({type:2,data:es(Me)})})}re.messages[0].data=es(Te);var Oe=vd(J),ze=yd(Oe);q.content=ze,q.size=q.content.length})();var be=Aa(ie[3][0].data);{var Pe=be[1][0];delete be[2];var Ae=Aa(Pe.data);{var se=vu(Ae[2][0].data);(function(){for(var q=di.find(u,f[se].location),J=yl(wl(q.content)),re,le=0;le<J.length;++le){var Ue=J[le];Ue.id==se&&(re=Ue)}var Te=Aa(re.messages[0].data);{delete Te[6],delete be[7];var Me=new Uint8Array(Te[5][0].data);Te[5]=[];for(var Oe=0,ze=0;ze<=n.e.r;++ze){var st=Aa(Me);Oe+=bB(st,s[ze],c),st[1][0].data=ti(ze),Te[5].push({data:es(st),type:2})}Te[1]=[{type:0,data:ti(n.e.c+1)}],Te[2]=[{type:0,data:ti(n.e.r+1)}],Te[3]=[{type:0,data:ti(Oe)}],Te[4]=[{type:0,data:ti(n.e.r+1)}]}re.messages[0].data=es(Te);var ct=vd(J),Nt=yd(ct);q.content=Nt,q.size=q.content.length})()}Pe.data=es(Ae)}ie[3][0].data=es(be)}L[4][0].data=es(ie)}_.messages[0].data=es(L);var Le=vd(b),M=yd(Le);return v.content=M,v.size=v.content.length,u}function EB(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Pv(t){EB([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function SB(t,e){return e.bookType=="ods"?lE(t,e):e.bookType=="numbers"?_B(t,e):e.bookType=="xlsb"?NB(t,e):AB(t,e)}function NB(t,e){Rd=1024,t&&!t.SSF&&(t.SSF=to(na)),t&&t.SSF&&(rm(),tm(t.SSF),e.revssf=nm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=W_.indexOf(e.bookType)>-1,i=y_();Pv(e=e||{});var s=wv(),c="",f=0;if(e.cellXfs=[],Lu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",hn(s,c,E_(t.Props,e)),i.coreprops.push(c),ri(e.rels,2,c,$n.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var g=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&g.push(t.SheetNames[u]);t.Props.SheetNames=g}for(t.Props.Worksheets=t.Props.SheetNames.length,hn(s,c,N_(t.Props)),i.extprops.push(c),ri(e.rels,3,c,$n.EXT_PROPS),t.Custprops!==t.Props&&os(t.Custprops||{}).length>0&&(c="docProps/custom.xml",hn(s,c,A_(t.Custprops)),i.custprops.push(c),ri(e.rels,4,c,$n.CUST_PROPS)),f=1;f<=t.SheetNames.length;++f){var m={"!id":{}},v=t.Sheets[t.SheetNames[f-1]],b=(v||{})["!type"]||"sheet";switch(b){case"chart":default:c="xl/worksheets/sheet"+f+"."+r,hn(s,c,TF(f-1,c,e,t,m)),i.sheets.push(c),ri(e.wbrels,-1,"worksheets/sheet"+f+"."+r,$n.WS[0])}if(v){var _=v["!comments"],C=!1,A="";_&&_.length>0&&(A="xl/comments"+f+"."+r,hn(s,A,RF(_,A)),i.comments.push(A),ri(m,-1,"../comments"+f+"."+r,$n.CMNT),C=!0),v["!legacy"]&&C&&hn(s,"xl/drawings/vmlDrawing"+f+".vml",H_(f,v["!comments"])),delete v["!comments"],delete v["!legacy"]}m["!id"].rId1&&hn(s,b_(c),Md(m))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,hn(s,c,OF(e.Strings,c,e)),i.strs.push(c),ri(e.wbrels,-1,"sharedStrings."+r,$n.SST)),c="xl/workbook."+r,hn(s,c,CF(t,c)),i.workbooks.push(c),ri(e.rels,1,c,$n.WB),c="xl/theme/theme1.xml",hn(s,c,U_(t.Themes,e)),i.themes.push(c),ri(e.wbrels,-1,"theme/theme1.xml",$n.THEME),c="xl/styles."+r,hn(s,c,jF(t,c,e)),i.styles.push(c),ri(e.wbrels,-1,"styles."+r,$n.STY),t.vbaraw&&n&&(c="xl/vbaProject.bin",hn(s,c,t.vbaraw),i.vba.push(c),ri(e.wbrels,-1,"vbaProject.bin",$n.VBA)),c="xl/metadata."+r,hn(s,c,kF(c)),i.metadata.push(c),ri(e.wbrels,-1,"metadata."+r,$n.XLMETA),hn(s,"[Content_Types].xml",w_(i,e)),hn(s,"_rels/.rels",Md(e.rels)),hn(s,"xl/_rels/workbook."+r+".rels",Md(e.wbrels)),delete e.revssf,delete e.ssf,s}function AB(t,e){Rd=1024,t&&!t.SSF&&(t.SSF=to(na)),t&&t.SSF&&(rm(),tm(t.SSF),e.revssf=nm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vf?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=W_.indexOf(e.bookType)>-1,i=y_();Pv(e=e||{});var s=wv(),c="",f=0;if(e.cellXfs=[],Lu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",hn(s,c,E_(t.Props,e)),i.coreprops.push(c),ri(e.rels,2,c,$n.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var g=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&g.push(t.SheetNames[u]);t.Props.SheetNames=g}t.Props.Worksheets=t.Props.SheetNames.length,hn(s,c,N_(t.Props)),i.extprops.push(c),ri(e.rels,3,c,$n.EXT_PROPS),t.Custprops!==t.Props&&os(t.Custprops||{}).length>0&&(c="docProps/custom.xml",hn(s,c,A_(t.Custprops)),i.custprops.push(c),ri(e.rels,4,c,$n.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,f=1;f<=t.SheetNames.length;++f){var v={"!id":{}},b=t.Sheets[t.SheetNames[f-1]],_=(b||{})["!type"]||"sheet";switch(_){case"chart":default:c="xl/worksheets/sheet"+f+"."+r,hn(s,c,Q_(f-1,e,t,v)),i.sheets.push(c),ri(e.wbrels,-1,"worksheets/sheet"+f+"."+r,$n.WS[0])}if(b){var C=b["!comments"],A=!1,j="";if(C&&C.length>0){var L=!1;C.forEach(function(I){I[1].forEach(function(P){P.T==!0&&(L=!0)})}),L&&(j="xl/threadedComments/threadedComment"+f+"."+r,hn(s,j,nI(C,m,e)),i.threadedcomments.push(j),ri(v,-1,"../threadedComments/threadedComment"+f+"."+r,$n.TCMNT)),j="xl/comments"+f+"."+r,hn(s,j,q_(C)),i.comments.push(j),ri(v,-1,"../comments"+f+"."+r,$n.CMNT),A=!0}b["!legacy"]&&A&&hn(s,"xl/drawings/vmlDrawing"+f+".vml",H_(f,b["!comments"])),delete b["!comments"],delete b["!legacy"]}v["!id"].rId1&&hn(s,b_(c),Md(v))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,hn(s,c,I_(e.Strings,e)),i.strs.push(c),ri(e.wbrels,-1,"sharedStrings."+r,$n.SST)),c="xl/workbook."+r,hn(s,c,rE(t)),i.workbooks.push(c),ri(e.rels,1,c,$n.WB),c="xl/theme/theme1.xml",hn(s,c,U_(t.Themes,e)),i.themes.push(c),ri(e.wbrels,-1,"theme/theme1.xml",$n.THEME),c="xl/styles."+r,hn(s,c,B_(t,e)),i.styles.push(c),ri(e.wbrels,-1,"styles."+r,$n.STY),t.vbaraw&&n&&(c="xl/vbaProject.bin",hn(s,c,t.vbaraw),i.vba.push(c),ri(e.wbrels,-1,"vbaProject.bin",$n.VBA)),c="xl/metadata."+r,hn(s,c,z_()),i.metadata.push(c),ri(e.wbrels,-1,"metadata."+r,$n.XLMETA),m.length>1&&(c="xl/persons/person.xml",hn(s,c,iI(m)),i.people.push(c),ri(e.wbrels,-1,"persons/person.xml",$n.PEOPLE)),hn(s,"[Content_Types].xml",w_(i,e)),hn(s,"_rels/.rels",Md(e.rels)),hn(s,"xl/_rels/workbook."+r+".rels",Md(e.wbrels)),delete e.revssf,delete e.ssf,s}function CB(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Mc(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function cE(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ff(e.file,di.write(t,{type:Yn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return di.write(t,e)}function TB(t,e){var r=to(e||{}),n=SB(t,r);return jB(n,r)}function jB(t,e){var r={},n=Yn?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?di.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno!="undefined"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(em(i))}return e.password&&typeof encrypt_agile!="undefined"?cE(encrypt_agile(i,e.password),e):e.type==="file"?Ff(e.file,i):e.type=="string"?gf(i):i}function OB(t,e){var r=e||{},n=GF(t,r);return cE(n,r)}function ec(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Sf(Af(n));case"binary":return Af(n);case"string":return t;case"file":return Ff(e.file,n,"utf8");case"buffer":return Yn?zc(n,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(n):ec(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function RB(t,e){switch(e.type){case"base64":return Sf(t);case"binary":return t;case"string":return t;case"file":return Ff(e.file,t,"binary");case"buffer":return Yn?zc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function cg(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Sf(r):e.type=="string"?gf(r):r;case"file":return Ff(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function uE(t,e){aR(),pF(t);var r=to(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=uE(t,r);return r.type="array",em(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ec(WF(t,r),r);case"slk":case"sylk":return ec(fL.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return ec(aE(t.Sheets[t.SheetNames[i]],r),r);case"txt":return RB(dE(t.Sheets[t.SheetNames[i]],r),r);case"csv":return ec(Fv(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return ec(gL.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return cg(hL.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return ec(mL.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return ec(_L.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return ec(L_.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return ec(lE(t,r),r);case"wk1":return cg(tb.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return cg(tb.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),cg(iE(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),OB(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return TB(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function kB(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function LB(t,e,r){var n={};return n.type="file",n.file=e,kB(n),uE(t,n)}function IB(t,e,r,n,i,s,c,f){var g=ss(r),u=f.defval,m=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),v=!0,b=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:r,enumerable:!1})}catch(j){b.__rowNum__=r}else b.__rowNum__=r;if(!c||t[r])for(var _=e.s.c;_<=e.e.c;++_){var C=c?t[r][_]:t[n[_]+g];if(C===void 0||C.t===void 0){if(u===void 0)continue;s[_]!=null&&(b[s[_]]=u);continue}var A=C.v;switch(C.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(s[_]!=null){if(A==null)if(C.t=="e"&&A===null)b[s[_]]=null;else if(u!==void 0)b[s[_]]=u;else if(m&&A===null)b[s[_]]=null;else continue;else b[s[_]]=m&&(C.t!=="n"||C.t==="n"&&f.rawNumbers!==!1)?A:Uc(C,A,f);A!=null&&(v=!1)}}return{row:b,isempty:v}}function O2(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],c=0,f="",g={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},m=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof m){case"string":g=ki(m);break;case"number":g=ki(t["!ref"]),g.s.r=m;break;default:g=m}n>0&&(i=0);var v=ss(g.s.r),b=[],_=[],C=0,A=0,j=Array.isArray(t),L=g.s.r,I=0,P={};j&&!t[L]&&(t[L]=[]);var X=u.skipHidden&&t["!cols"]||[],Y=u.skipHidden&&t["!rows"]||[];for(I=g.s.c;I<=g.e.c;++I)if(!(X[I]||{}).hidden)switch(b[I]=Ss(I),r=j?t[L][I]:t[b[I]+v],n){case 1:s[I]=I-g.s.c;break;case 2:s[I]=b[I];break;case 3:s[I]=u.header[I-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),f=c=Uc(r,null,u),A=P[c]||0,!A)P[c]=1;else{do f=c+"_"+A++;while(P[f]);P[c]=A,P[f]=1}s[I]=f}for(L=g.s.r+i;L<=g.e.r;++L)if(!(Y[L]||{}).hidden){var K=IB(t,g,L,b,n,s,j,u);(K.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(_[C++]=K.row)}return _.length=C,_}var cb=/"/g;function DB(t,e,r,n,i,s,c,f){for(var g=!0,u=[],m="",v=ss(r),b=e.s.c;b<=e.e.c;++b)if(n[b]){var _=f.dense?(t[r]||[])[b]:t[n[b]+v];if(_==null)m="";else if(_.v!=null){g=!1,m=""+(f.rawNumbers&&_.t=="n"?_.v:Uc(_,null,f));for(var C=0,A=0;C!==m.length;++C)if((A=m.charCodeAt(C))===i||A===s||A===34||f.forceQuotes){m='"'+m.replace(cb,'""')+'"';break}m=="ID"&&(m='"ID"')}else _.f!=null&&!_.F?(g=!1,m="="+_.f,m.indexOf(",")>=0&&(m='"'+m.replace(cb,'""')+'"')):m="";u.push(m)}return f.blankrows===!1&&g?null:u.join(c)}function Fv(t,e){var r=[],n=e==null?{}:e;if(t==null||t["!ref"]==null)return"";var i=ki(t["!ref"]),s=n.FS!==void 0?n.FS:",",c=s.charCodeAt(0),f=n.RS!==void 0?n.RS:`
`,g=f.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),m="",v=[];n.dense=Array.isArray(t);for(var b=n.skipHidden&&t["!cols"]||[],_=n.skipHidden&&t["!rows"]||[],C=i.s.c;C<=i.e.c;++C)(b[C]||{}).hidden||(v[C]=Ss(C));for(var A=0,j=i.s.r;j<=i.e.r;++j)(_[j]||{}).hidden||(m=DB(t,i,j,v,c,g,s,n),m!=null&&(n.strip&&(m=m.replace(u,"")),(m||n.blankrows!==!1)&&r.push((A++?f:"")+m)));return delete n.dense,r.join("")}function dE(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Fv(t,e);return r}function PB(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ki(t["!ref"]),s="",c=[],f,g=[],u=Array.isArray(t);for(f=i.s.c;f<=i.e.c;++f)c[f]=Ss(f);for(var m=i.s.r;m<=i.e.r;++m)for(s=ss(m),f=i.s.c;f<=i.e.c;++f)if(e=c[f]+s,r=u?(t[m]||[])[f]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=e+"="+n}return g}function hE(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},c=0,f=0;if(s&&n.origin!=null)if(typeof n.origin=="number")c=n.origin;else{var g=typeof n.origin=="string"?Wa(n.origin):n.origin;c=g.r,f=g.c}var u,m={s:{c:0,r:0},e:{c:f,r:c+e.length-1+i}};if(s["!ref"]){var v=ki(s["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),c==-1&&(c=v.e.r+1,m.e.r=c+e.length-1+i)}else c==-1&&(c=0,m.e.r=e.length-1+i);var b=n.header||[],_=0;e.forEach(function(A,j){os(A).forEach(function(L){(_=b.indexOf(L))==-1&&(b[_=b.length]=L);var I=A[L],P="z",X="",Y=ai({c:f+_,r:c+j+i});u=jf(s,Y),I&&typeof I=="object"&&!(I instanceof Date)?s[Y]=I:(typeof I=="number"?P="n":typeof I=="boolean"?P="b":typeof I=="string"?P="s":I instanceof Date?(P="d",n.cellDates||(P="n",I=eo(I)),X=n.dateNF||na[14]):I===null&&n.nullError&&(P="e",I=0),u?(u.t=P,u.v=I,delete u.w,delete u.R,X&&(u.z=X)):s[Y]=u={t:P,v:I},X&&(u.z=X))})}),m.e.c=Math.max(m.e.c,f+b.length-1);var C=ss(c);if(i)for(_=0;_<b.length;++_)s[Ss(_+f)+C]={t:"s",v:b[_]};return s["!ref"]=ba(m),s}function FB(t,e){return hE(null,t,e)}function jf(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Wa(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?jf(t,ai(e)):jf(t,ai({r:e,c:r||0}))}function BB(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function MB(){return{SheetNames:[],Sheets:{}}}function UB(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var c=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=c+i)!=-1;++i);}if(tE(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function zB(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=BB(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function HB(t,e){return t.z=e,t}function fE(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function qB(t,e,r){return fE(t,"#"+e,r)}function WB(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function VB(t,e,r,n){for(var i=typeof e!="string"?e:ki(e),s=typeof e=="string"?e:ba(e),c=i.s.r;c<=i.e.r;++c)for(var f=i.s.c;f<=i.e.c;++f){var g=jf(t,c,f);g.t="n",g.F=s,delete g.v,c==i.s.r&&f==i.s.c&&(g.f=r,n&&(g.D=!0))}return t}var ix={encode_col:Ss,encode_row:ss,encode_cell:ai,encode_range:ba,decode_col:Av,decode_row:Nv,split_cell:ak,decode_cell:Wa,decode_range:To,format_cell:Uc,sheet_add_aoa:f_,sheet_add_json:hE,sheet_add_dom:sE,aoa_to_sheet:th,json_to_sheet:FB,table_to_sheet:oE,table_to_book:gB,sheet_to_csv:Fv,sheet_to_txt:dE,sheet_to_json:O2,sheet_to_html:aE,sheet_to_formulae:PB,sheet_to_row_object_array:O2,sheet_get_cell:jf,book_new:MB,book_append_sheet:UB,book_set_sheet_visibility:zB,cell_set_number_format:HB,cell_set_hyperlink:fE,cell_set_internal_link:qB,cell_add_comment:WB,sheet_set_array_formula:VB,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Bv=(t,e,r,n,i)=>we(null,null,function*(){return new Promise((s,c)=>{try{if(Array.isArray(t)||(console.error("Data is not an array:",t),t=Array.isArray(t)?t:t?[t]:[]),!Array.isArray(e)){console.error("Columns is not an array:",e),c(new Error("Columns must be an array"));return}const f=new zr;f.setFontSize(18),f.text(n,14,22),f.setFontSize(10),f.text(`Generated on: ${new Date().toLocaleString()}`,14,30);const g=[];for(let C=0;C<t.length;C++){const A=t[C];if(!A)continue;const j=[];for(let L=0;L<e.length;L++){const I=e[L];let P="";try{if(I.dataKey.includes(".")){const X=I.dataKey.split(".");let Y=A;for(const K of X)Y=Y==null?void 0:Y[K];P=Y}else P=A[I.dataKey];P=P==null?"":P}catch(X){console.error(`Error extracting value for column ${I.dataKey}:`,X),P=""}j.push(P)}g.push(j)}const u=e.map(C=>C.header),m=Math.max(1,Math.floor(g.length/10)),v=[];for(let C=0;C<g.length;C+=m)v.push(g.slice(C,C+m));i(10);let b=0;const _=()=>{if(b>=v.length){try{f.save(`${r}.pdf`),i(100),s()}catch(A){console.error("Error saving PDF:",A),c(A)}return}const C=10+Math.round(b/v.length*80);i(C),b++,setTimeout(_,100)};try{rR(f,{head:[u],body:g,startY:40,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[66,139,202]}}),_()}catch(C){console.error("Error generating PDF table:",C),c(C)}}catch(f){console.error("Error in exportToPDF:",f),c(f)}})}),Mv=(t,e,r,n,i)=>we(null,null,function*(){return new Promise((s,c)=>{try{if(Array.isArray(t)||(console.error("Data is not an array:",t),t=Array.isArray(t)?t:t?[t]:[]),!Array.isArray(e)){console.error("Columns is not an array:",e),c(new Error("Columns must be an array"));return}i(10);const f=[e.map(b=>b.header||"")],g=Math.max(1,Math.floor(t.length/10)),u=[];for(let b=0;b<t.length;b+=g)u.push(t.slice(b,b+g));let m=0;const v=()=>{if(m>=u.length){try{const C=ix.aoa_to_sheet(f),A=ix.book_new();ix.book_append_sheet(A,C,n||"Sheet1"),LB(A,`${r}.xlsx`),i(100),s()}catch(C){console.error("Error generating Excel file:",C),c(C)}return}const b=10+Math.round(m/u.length*80);i(b);const _=u[m];for(let C=0;C<_.length;C++){const A=_[C];if(!A)continue;const j=[];for(let L=0;L<e.length;L++){const I=e[L];let P="";try{if(I.dataKey.includes(".")){const X=I.dataKey.split(".");let Y=A;for(const K of X)Y=Y==null?void 0:Y[K];P=Y}else P=A[I.dataKey];P=P==null?"":P}catch(X){console.error(`Error extracting value for column ${I.dataKey}:`,X),P=""}j.push(P)}f.push(j)}m++,setTimeout(v,100)};v()}catch(f){console.error("Error in exportToXLSX:",f),c(f)}})});var ug={},Jh={},dg={},ub;function jo(){if(ub)return dg;ub=1,Object.defineProperty(dg,"__esModule",{value:!0});function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var e=function r(n,i){t(this,r),this.data=n,this.text=i.text||n,this.options=i};return dg.default=e,dg}var db;function GB(){if(db)return Jh;db=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.CODE39=void 0;var t=function(){function A(j,L){for(var I=0;I<L.length;I++){var P=L[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(j,P.key,P)}}return function(j,L,I){return L&&A(j.prototype,L),I&&A(j,I),j}}(),e=jo(),r=n(e);function n(A){return A&&A.__esModule?A:{default:A}}function i(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}function s(A,j){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:A}function c(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(A,j):A.__proto__=j)}var f=function(A){c(j,A);function j(L,I){return i(this,j),L=L.toUpperCase(),I.mod43&&(L+=b(C(L))),s(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,L,I))}return t(j,[{key:"encode",value:function(){for(var I=m("*"),P=0;P<this.data.length;P++)I+=m(this.data[P])+"0";return I+=m("*"),{data:I,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),j}(r.default),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],u=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(A){return v(_(A))}function v(A){return u[A].toString(2)}function b(A){return g[A]}function _(A){return g.indexOf(A)}function C(A){for(var j=0,L=0;L<A.length;L++)j+=_(A[L]);return j=j%43,j}return Jh.CODE39=f,Jh}var bl={},hg={},fg={},Qi={},hb;function Hf(){if(hb)return Qi;hb=1,Object.defineProperty(Qi,"__esModule",{value:!0});var t;function e(g,u,m){return u in g?Object.defineProperty(g,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[u]=m,g}var r=Qi.SET_A=0,n=Qi.SET_B=1,i=Qi.SET_C=2;Qi.SHIFT=98;var s=Qi.START_A=103,c=Qi.START_B=104,f=Qi.START_C=105;return Qi.MODULO=103,Qi.STOP=106,Qi.FNC1=207,Qi.SET_BY_CODE=(t={},e(t,s,r),e(t,c,n),e(t,f,i),t),Qi.SWAP={101:r,100:n,99:i},Qi.A_START_CHAR="",Qi.B_START_CHAR="",Qi.C_START_CHAR="",Qi.A_CHARS="[\0-_-]",Qi.B_CHARS="[ --]",Qi.C_CHARS="(*[0-9]{2}*)",Qi.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Qi}var fb;function lm(){if(fb)return fg;fb=1,Object.defineProperty(fg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=jo(),r=i(e),n=Hf();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function f(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){f(m,u);function m(v,b){s(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.substring(1),b));return _.bytes=v.split("").map(function(C){return C.charCodeAt(0)}),_}return t(m,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var b=this.bytes,_=b.shift()-105,C=n.SET_BY_CODE[_];if(C===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&b.unshift(n.FNC1);var A=m.next(b,1,C);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:m.getBar(_)+A.result+m.getBar((A.checksum+_)%n.MODULO)+m.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var b=this.options.ean128||!1;return typeof b=="string"&&(b=b.toLowerCase()==="true"),b}}],[{key:"getBar",value:function(b){return n.BARS[b]?n.BARS[b].toString():""}},{key:"correctIndex",value:function(b,_){if(_===n.SET_A){var C=b.shift();return C<32?C+64:C-32}else return _===n.SET_B?b.shift()-32:(b.shift()-48)*10+b.shift()-48}},{key:"next",value:function(b,_,C){if(!b.length)return{result:"",checksum:0};var A=void 0,j=void 0;if(b[0]>=200){j=b.shift()-105;var L=n.SWAP[j];L!==void 0?A=m.next(b,_+1,L):((C===n.SET_A||C===n.SET_B)&&j===n.SHIFT&&(b[0]=C===n.SET_A?b[0]>95?b[0]-96:b[0]:b[0]<32?b[0]+96:b[0]),A=m.next(b,_+1,C))}else j=m.correctIndex(b,C),A=m.next(b,_+1,C);var I=m.getBar(j),P=j*_;return{result:I+A.result,checksum:P+A.checksum}}}]),m}(r.default);return fg.default=g,fg}var gg={},gb;function $B(){if(gb)return gg;gb=1,Object.defineProperty(gg,"__esModule",{value:!0});var t=Hf(),e=function(f){return f.match(new RegExp("^"+t.A_CHARS+"*"))[0].length},r=function(f){return f.match(new RegExp("^"+t.B_CHARS+"*"))[0].length},n=function(f){return f.match(new RegExp("^"+t.C_CHARS+"*"))[0]};function i(c,f){var g=f?t.A_CHARS:t.B_CHARS,u=c.match(new RegExp("^("+g+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(u)return u[1]+""+s(c.substring(u[1].length));var m=c.match(new RegExp("^"+g+"+"))[0];return m.length===c.length?c:m+String.fromCharCode(f?205:206)+i(c.substring(m.length),!f)}function s(c){var f=n(c),g=f.length;if(g===c.length)return c;c=c.substring(g);var u=e(c)>=r(c);return f+String.fromCharCode(u?206:205)+i(c,u)}return gg.default=function(c){var f=void 0,g=n(c).length;if(g>=2)f=t.C_START_CHAR+s(c);else{var u=e(c)>r(c);f=(u?t.A_START_CHAR:t.B_START_CHAR)+i(c,u)}return f.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(m,v){return""+v})},gg}var mb;function XB(){if(mb)return hg;mb=1,Object.defineProperty(hg,"__esModule",{value:!0});var t=lm(),e=i(t),r=$B(),n=i(r);function i(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function f(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){f(m,u);function m(v,b){if(s(this,m),/^[\x00-\x7F\xC8-\xD3]+$/.test(v))var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,(0,n.default)(v),b));else var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b));return c(_)}return m}(e.default);return hg.default=g,hg}var mg={},pb;function YB(){if(pb)return mg;pb=1,Object.defineProperty(mg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=lm(),r=i(e),n=Hf();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function f(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){f(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.A_START_CHAR+v,b))}return t(m,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),m}(r.default);return mg.default=g,mg}var pg={},xb;function KB(){if(xb)return pg;xb=1,Object.defineProperty(pg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=lm(),r=i(e),n=Hf();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function f(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){f(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.B_START_CHAR+v,b))}return t(m,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),m}(r.default);return pg.default=g,pg}var xg={},vb;function ZB(){if(vb)return xg;vb=1,Object.defineProperty(xg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=lm(),r=i(e),n=Hf();function i(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function f(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){f(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.C_START_CHAR+v,b))}return t(m,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),m}(r.default);return xg.default=g,xg}var yb;function JB(){if(yb)return bl;yb=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.CODE128C=bl.CODE128B=bl.CODE128A=bl.CODE128=void 0;var t=XB(),e=g(t),r=YB(),n=g(r),i=KB(),s=g(i),c=ZB(),f=g(c);function g(u){return u&&u.__esModule?u:{default:u}}return bl.CODE128=e.default,bl.CODE128A=n.default,bl.CODE128B=s.default,bl.CODE128C=f.default,bl}var ks={},vg={},Tc={},wb;function qf(){return wb||(wb=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.SIDE_BIN="101",Tc.MIDDLE_BIN="01010",Tc.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Tc.EAN2_STRUCTURE=["LL","LG","GL","GG"],Tc.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Tc.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),Tc}var yg={},wg={},bb;function Wf(){if(bb)return wg;bb=1,Object.defineProperty(wg,"__esModule",{value:!0});var t=qf(),e=function(n,i,s){var c=n.split("").map(function(g,u){return t.BINARIES[i[u]]}).map(function(g,u){return g?g[n[u]]:""});if(s){var f=n.length-1;c=c.map(function(g,u){return u<f?g+s:g})}return c.join("")};return wg.default=e,wg}var _b;function gE(){if(_b)return yg;_b=1,Object.defineProperty(yg,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}(),e=qf(),r=Wf(),n=c(r),i=jo(),s=c(i);function c(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function g(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function u(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=function(v){u(b,v);function b(_,C){f(this,b);var A=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C));return A.fontSize=!C.flat&&C.fontSize>C.width*10?C.width*10:C.fontSize,A.guardHeight=C.height+A.fontSize/2+C.textMargin,A}return t(b,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(C,A){return this.text.substr(C,A)}},{key:"leftEncode",value:function(C,A){return(0,n.default)(C,A)}},{key:"rightText",value:function(C,A){return this.text.substr(C,A)}},{key:"rightEncode",value:function(C,A){return(0,n.default)(C,A)}},{key:"encodeGuarded",value:function(){var C={fontSize:this.fontSize},A={height:this.guardHeight};return[{data:e.SIDE_BIN,options:A},{data:this.leftEncode(),text:this.leftText(),options:C},{data:e.MIDDLE_BIN,options:A},{data:this.rightEncode(),text:this.rightText(),options:C},{data:e.SIDE_BIN,options:A}]}},{key:"encodeFlat",value:function(){var C=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:C.join(""),text:this.text}}}]),b}(s.default);return yg.default=m,yg}var Eb;function QB(){if(Eb)return vg;Eb=1,Object.defineProperty(vg,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}(),e=function v(b,_,C){b===null&&(b=Function.prototype);var A=Object.getOwnPropertyDescriptor(b,_);if(A===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:v(j,_,C)}else{if("value"in A)return A.value;var L=A.get;return L===void 0?void 0:L.call(C)}},r=qf(),n=gE(),i=s(n);function s(v){return v&&v.__esModule?v:{default:v}}function c(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var u=function(b){var _=b.substr(0,12).split("").map(function(C){return+C}).reduce(function(C,A,j){return j%2?C+A*3:C+A},0);return(10-_%10)%10},m=function(v){g(b,v);function b(_,C){c(this,b),_.search(/^[0-9]{12}$/)!==-1&&(_+=u(_));var A=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C));return A.lastChar=C.lastChar,A}return t(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===u(this.data)}},{key:"leftText",value:function(){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var C=this.data.substr(1,6),A=r.EAN13_STRUCTURE[this.data[0]];return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftEncode",this).call(this,C,A)}},{key:"rightText",value:function(){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var C=this.data.substr(7,6);return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightEncode",this).call(this,C,"RRRRRR")}},{key:"encodeGuarded",value:function(){var C=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(C.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(C.push({data:"00"}),C.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),C}}]),b}(i.default);return vg.default=m,vg}var bg={},Sb;function eM(){if(Sb)return bg;Sb=1,Object.defineProperty(bg,"__esModule",{value:!0});var t=function(){function m(v,b){for(var _=0;_<b.length;_++){var C=b[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,b,_){return b&&m(v.prototype,b),_&&m(v,_),v}}(),e=function m(v,b,_){v===null&&(v=Function.prototype);var C=Object.getOwnPropertyDescriptor(v,b);if(C===void 0){var A=Object.getPrototypeOf(v);return A===null?void 0:m(A,b,_)}else{if("value"in C)return C.value;var j=C.get;return j===void 0?void 0:j.call(_)}},r=gE(),n=i(r);function i(m){return m&&m.__esModule?m:{default:m}}function s(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function c(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function f(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var g=function(v){var b=v.substr(0,7).split("").map(function(_){return+_}).reduce(function(_,C,A){return A%2?_+C:_+C*3},0);return(10-b%10)%10},u=function(m){f(v,m);function v(b,_){return s(this,v),b.search(/^[0-9]{7}$/)!==-1&&(b+=g(b)),c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b,_))}return t(v,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===g(this.data)}},{key:"leftText",value:function(){return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var _=this.data.substr(0,4);return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftEncode",this).call(this,_,"LLLL")}},{key:"rightText",value:function(){return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var _=this.data.substr(4,4);return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightEncode",this).call(this,_,"RRRR")}}]),v}(n.default);return bg.default=u,bg}var _g={},Nb;function tM(){if(Nb)return _g;Nb=1,Object.defineProperty(_g,"__esModule",{value:!0});var t=function(){function b(_,C){for(var A=0;A<C.length;A++){var j=C[A];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,C,A){return C&&b(_.prototype,C),A&&b(_,A),_}}(),e=qf(),r=Wf(),n=c(r),i=jo(),s=c(i);function c(b){return b&&b.__esModule?b:{default:b}}function f(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function g(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function u(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var m=function(_){var C=_.split("").map(function(A){return+A}).reduce(function(A,j,L){return L%2?A+j*9:A+j*3},0);return C%10},v=function(b){u(_,b);function _(C,A){return f(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,A))}return t(_,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var A=e.EAN5_STRUCTURE[m(this.data)];return{data:"1011"+(0,n.default)(this.data,A,"01"),text:this.text}}}]),_}(s.default);return _g.default=v,_g}var Eg={},Ab;function rM(){if(Ab)return Eg;Ab=1,Object.defineProperty(Eg,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}(),e=qf(),r=Wf(),n=c(r),i=jo(),s=c(i);function c(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function g(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function u(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=function(v){u(b,v);function b(_,C){return f(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C))}return t(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var C=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,C,"01"),text:this.text}}}]),b}(s.default);return Eg.default=m,Eg}var Qh={},Cb;function mE(){if(Cb)return Qh;Cb=1,Object.defineProperty(Qh,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}();Qh.checksum=m;var e=Wf(),r=s(e),n=jo(),i=s(n);function s(v){return v&&v.__esModule?v:{default:v}}function c(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var u=function(v){g(b,v);function b(_,C){c(this,b),_.search(/^[0-9]{11}$/)!==-1&&(_+=m(_));var A=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C));return A.displayValue=C.displayValue,C.fontSize>C.width*10?A.fontSize=C.width*10:A.fontSize=C.fontSize,A.guardHeight=C.height+A.fontSize/2+C.textMargin,A}return t(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==m(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var C="";return C+="101",C+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),C+="01010",C+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),C+="101",{data:C,text:this.text}}},{key:"guardedEncoding",value:function(){var C=[];return this.displayValue&&C.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),C.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),C.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),C.push({data:"01010",options:{height:this.guardHeight}}),C.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),C.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&C.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),C}}]),b}(i.default);function m(v){var b=0,_;for(_=1;_<11;_+=2)b+=parseInt(v[_]);for(_=0;_<11;_+=2)b+=parseInt(v[_])*3;return(10-b%10)%10}return Qh.default=u,Qh}var Sg={},Tb;function nM(){if(Tb)return Sg;Tb=1,Object.defineProperty(Sg,"__esModule",{value:!0});var t=function(){function C(A,j){for(var L=0;L<j.length;L++){var I=j[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,j,L){return j&&C(A.prototype,j),L&&C(A,L),A}}(),e=Wf(),r=c(e),n=jo(),i=c(n),s=mE();function c(C){return C&&C.__esModule?C:{default:C}}function f(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function g(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function u(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var m=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],v=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],b=function(C){u(A,C);function A(j,L){f(this,A);var I=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,j,L));if(I.isValid=!1,j.search(/^[0-9]{6}$/)!==-1)I.middleDigits=j,I.upcA=_(j,"0"),I.text=L.text||""+I.upcA[0]+j+I.upcA[I.upcA.length-1],I.isValid=!0;else if(j.search(/^[01][0-9]{7}$/)!==-1)if(I.middleDigits=j.substring(1,j.length-1),I.upcA=_(I.middleDigits,j[0]),I.upcA[I.upcA.length-1]===j[j.length-1])I.isValid=!0;else return g(I);else return g(I);return I.displayValue=L.displayValue,L.fontSize>L.width*10?I.fontSize=L.width*10:I.fontSize=L.fontSize,I.guardHeight=L.height+I.fontSize/2+L.textMargin,I}return t(A,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var L="";return L+="101",L+=this.encodeMiddleDigits(),L+="010101",{data:L,text:this.text}}},{key:"guardedEncoding",value:function(){var L=[];return this.displayValue&&L.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),L.push({data:"101",options:{height:this.guardHeight}}),L.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),L.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&L.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),L}},{key:"encodeMiddleDigits",value:function(){var L=this.upcA[0],I=this.upcA[this.upcA.length-1],P=v[parseInt(I)][parseInt(L)];return(0,r.default)(this.middleDigits,P)}}]),A}(i.default);function _(C,A){for(var j=parseInt(C[C.length-1]),L=m[j],I="",P=0,X=0;X<L.length;X++){var Y=L[X];Y==="X"?I+=C[P++]:I+=Y}return I=""+A+I,""+I+(0,s.checksum)(I)}return Sg.default=b,Sg}var jb;function iM(){if(jb)return ks;jb=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.UPCE=ks.UPC=ks.EAN2=ks.EAN5=ks.EAN8=ks.EAN13=void 0;var t=QB(),e=b(t),r=eM(),n=b(r),i=tM(),s=b(i),c=rM(),f=b(c),g=mE(),u=b(g),m=nM(),v=b(m);function b(_){return _&&_.__esModule?_:{default:_}}return ks.EAN13=e.default,ks.EAN8=n.default,ks.EAN5=s.default,ks.EAN2=f.default,ks.UPC=u.default,ks.UPCE=v.default,ks}var s0={},Ng={},wd={},Ob;function aM(){return Ob||(Ob=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.START_BIN="1010",wd.END_BIN="11101",wd.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),wd}var Rb;function pE(){if(Rb)return Ng;Rb=1,Object.defineProperty(Ng,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=aM(),r=jo(),n=i(r);function i(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function f(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){f(m,u);function m(){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return t(m,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var b=this,_=this.data.match(/.{2}/g).map(function(C){return b.encodePair(C)}).join("");return{data:e.START_BIN+_+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(b){var _=e.BINARIES[b[1]];return e.BINARIES[b[0]].split("").map(function(C,A){return(C==="1"?"111":"1")+(_[A]==="1"?"000":"0")}).join("")}}]),m}(n.default);return Ng.default=g,Ng}var Ag={},kb;function sM(){if(kb)return Ag;kb=1,Object.defineProperty(Ag,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=pE(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function s(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function c(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var f=function(m){var v=m.substr(0,13).split("").map(function(b){return parseInt(b,10)}).reduce(function(b,_,C){return b+_*(3-C%2*2)},0);return Math.ceil(v/10)*10-v},g=function(u){c(m,u);function m(v,b){return i(this,m),v.search(/^[0-9]{13}$/)!==-1&&(v+=f(v)),s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b))}return t(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),m}(r.default);return Ag.default=g,Ag}var Lb;function oM(){if(Lb)return s0;Lb=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.ITF14=s0.ITF=void 0;var t=pE(),e=i(t),r=sM(),n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}return s0.ITF=e.default,s0.ITF14=n.default,s0}var yo={},Cg={},Ib;function Vf(){if(Ib)return Cg;Ib=1,Object.defineProperty(Cg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=jo(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function i(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function s(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function c(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var f=function(u){c(m,u);function m(v,b){return i(this,m),s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b))}return t(m,[{key:"encode",value:function(){for(var b="110",_=0;_<this.data.length;_++){var C=parseInt(this.data[_]),A=C.toString(2);A=g(A,4-A.length);for(var j=0;j<A.length;j++)b+=A[j]=="0"?"100":"110"}return b+="1001",{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),m}(r.default);function g(u,m){for(var v=0;v<m;v++)u="0"+u;return u}return Cg.default=f,Cg}var Tg={},ef={},Db;function cm(){if(Db)return ef;Db=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.mod10=t,ef.mod11=e;function t(r){for(var n=0,i=0;i<r.length;i++){var s=parseInt(r[i]);(i+r.length)%2===0?n+=s:n+=s*2%10+Math.floor(s*2/10)}return(10-n%10)%10}function e(r){for(var n=0,i=[2,3,4,5,6,7],s=0;s<r.length;s++){var c=parseInt(r[r.length-1-s]);n+=i[s%i.length]*c}return(11-n%11)%11}return ef}var Pb;function lM(){if(Pb)return Tg;Pb=1,Object.defineProperty(Tg,"__esModule",{value:!0});var t=Vf(),e=n(t),r=cm();function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){return i(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m+(0,r.mod10)(m),v))}return u}(e.default);return Tg.default=f,Tg}var jg={},Fb;function cM(){if(Fb)return jg;Fb=1,Object.defineProperty(jg,"__esModule",{value:!0});var t=Vf(),e=n(t),r=cm();function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){return i(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m+(0,r.mod11)(m),v))}return u}(e.default);return jg.default=f,jg}var Og={},Bb;function uM(){if(Bb)return Og;Bb=1,Object.defineProperty(Og,"__esModule",{value:!0});var t=Vf(),e=n(t),r=cm();function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){return i(this,u),m+=(0,r.mod10)(m),m+=(0,r.mod10)(m),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return u}(e.default);return Og.default=f,Og}var Rg={},Mb;function dM(){if(Mb)return Rg;Mb=1,Object.defineProperty(Rg,"__esModule",{value:!0});var t=Vf(),e=n(t),r=cm();function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){return i(this,u),m+=(0,r.mod11)(m),m+=(0,r.mod10)(m),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return u}(e.default);return Rg.default=f,Rg}var Ub;function hM(){if(Ub)return yo;Ub=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.MSI1110=yo.MSI1010=yo.MSI11=yo.MSI10=yo.MSI=void 0;var t=Vf(),e=m(t),r=lM(),n=m(r),i=cM(),s=m(i),c=uM(),f=m(c),g=dM(),u=m(g);function m(v){return v&&v.__esModule?v:{default:v}}return yo.MSI=e.default,yo.MSI10=n.default,yo.MSI11=s.default,yo.MSI1010=f.default,yo.MSI1110=u.default,yo}var tf={},zb;function fM(){if(zb)return tf;zb=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.pharmacode=void 0;var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=jo(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){i(this,u);var b=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v));return b.number=parseInt(m,10),b}return t(u,[{key:"encode",value:function(){for(var v=this.number,b="";!isNaN(v)&&v!=0;)v%2===0?(b="11100"+b,v=(v-2)/2):(b="100"+b,v=(v-1)/2);return b=b.slice(0,-2),{data:b,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),u}(r.default);return tf.pharmacode=f,tf}var rf={},Hb;function gM(){if(Hb)return rf;Hb=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.codabar=void 0;var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=jo(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){i(this,u),m.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(m="A"+m+"A");var b=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m.toUpperCase(),v));return b.text=b.options.text||b.text.replace(/[A-D]/g,""),b}return t(u,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var v=[],b=this.getEncodings(),_=0;_<this.data.length;_++)v.push(b[this.data.charAt(_)]),_!==this.data.length-1&&v.push("0");return{text:this.text,data:v.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),u}(r.default);return rf.codabar=f,rf}var o0={},kg={},bd={},qb;function mM(){return qb||(qb=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],bd.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],bd.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),bd}var Wb;function xE(){if(Wb)return kg;Wb=1,Object.defineProperty(kg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=mM(),r=jo(),n=i(r);function i(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function f(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){f(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b))}return t(m,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var b=this.data.split("").flatMap(function(j){return e.MULTI_SYMBOLS[j]||j}),_=b.map(function(j){return m.getEncoding(j)}).join(""),C=m.checksum(b,20),A=m.checksum(b.concat(C),15);return{text:this.text,data:m.getEncoding("")+_+m.getEncoding(C)+m.getEncoding(A)+m.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(b){return e.BINARIES[m.symbolValue(b)]}},{key:"getSymbol",value:function(b){return e.SYMBOLS[b]}},{key:"symbolValue",value:function(b){return e.SYMBOLS.indexOf(b)}},{key:"checksum",value:function(b,_){var C=b.slice().reverse().reduce(function(A,j,L){var I=L%_+1;return A+m.symbolValue(j)*I},0);return m.getSymbol(C%47)}}]),m}(n.default);return kg.default=g,kg}var Lg={},Vb;function pM(){if(Vb)return Lg;Vb=1,Object.defineProperty(Lg,"__esModule",{value:!0});var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=xE(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){return i(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return t(u,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),u}(r.default);return Lg.default=f,Lg}var Gb;function xM(){if(Gb)return o0;Gb=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.CODE93FullASCII=o0.CODE93=void 0;var t=xE(),e=i(t),r=pM(),n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}return o0.CODE93=e.default,o0.CODE93FullASCII=n.default,o0}var nf={},$b;function vM(){if($b)return nf;$b=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.GenericBarcode=void 0;var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=jo(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function i(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var f=function(g){c(u,g);function u(m,v){return i(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return t(u,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),u}(r.default);return nf.GenericBarcode=f,nf}var Xb;function yM(){if(Xb)return ug;Xb=1,Object.defineProperty(ug,"__esModule",{value:!0});var t=GB(),e=JB(),r=iM(),n=oM(),i=hM(),s=fM(),c=gM(),f=xM(),g=vM();return ug.default={CODE39:t.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:r.EAN13,EAN8:r.EAN8,EAN5:r.EAN5,EAN2:r.EAN2,UPC:r.UPC,UPCE:r.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:s.pharmacode,codabar:c.codabar,CODE93:f.CODE93,CODE93FullASCII:f.CODE93FullASCII,GenericBarcode:g.GenericBarcode},ug}var Ig={},Yb;function um(){if(Yb)return Ig;Yb=1,Object.defineProperty(Ig,"__esModule",{value:!0});var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return Ig.default=function(e,r){return t({},e,r)},Ig}var Dg={},Kb;function wM(){if(Kb)return Dg;Kb=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.default=t;function t(e){var r=[];function n(i){if(Array.isArray(i))for(var s=0;s<i.length;s++)n(i[s]);else i.text=i.text||"",i.data=i.data||"",r.push(i)}return n(e),r}return Dg}var Pg={},Zb;function bM(){if(Zb)return Pg;Zb=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.default=t;function t(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return Pg}var Fg={},Bg={},Mg={},Jb;function vE(){if(Jb)return Mg;Jb=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.default=t;function t(e){var r=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in r)r.hasOwnProperty(n)&&(n=r[n],typeof e[n]=="string"&&(e[n]=parseInt(e[n],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return Mg}var Ug={},Qb;function yE(){if(Qb)return Ug;Qb=1,Object.defineProperty(Ug,"__esModule",{value:!0});var t={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Ug.default=t,Ug}var e3;function _M(){if(e3)return Bg;e3=1,Object.defineProperty(Bg,"__esModule",{value:!0});var t=vE(),e=i(t),r=yE(),n=i(r);function i(c){return c&&c.__esModule?c:{default:c}}function s(c){var f={};for(var g in n.default)n.default.hasOwnProperty(g)&&(c.hasAttribute("jsbarcode-"+g.toLowerCase())&&(f[g]=c.getAttribute("jsbarcode-"+g.toLowerCase())),c.hasAttribute("data-"+g.toLowerCase())&&(f[g]=c.getAttribute("data-"+g.toLowerCase())));return f.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),f=(0,e.default)(f),f}return Bg.default=s,Bg}var zg={},Hg={},wo={},t3;function wE(){if(t3)return wo;t3=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.getTotalWidthOfEncodings=wo.calculateEncodingAttributes=wo.getBarcodePadding=wo.getEncodingHeight=wo.getMaximumHeightOfEncodings=void 0;var t=um(),e=r(t);function r(u){return u&&u.__esModule?u:{default:u}}function n(u,m){return m.height+(m.displayValue&&u.text.length>0?m.fontSize+m.textMargin:0)+m.marginTop+m.marginBottom}function i(u,m,v){if(v.displayValue&&m<u){if(v.textAlign=="center")return Math.floor((u-m)/2);if(v.textAlign=="left")return 0;if(v.textAlign=="right")return Math.floor(u-m)}return 0}function s(u,m,v){for(var b=0;b<u.length;b++){var _=u[b],C=(0,e.default)(m,_.options),A;C.displayValue?A=g(_.text,C,v):A=0;var j=_.data.length*C.width;_.width=Math.ceil(Math.max(A,j)),_.height=n(_,C),_.barcodePadding=i(A,j,C)}}function c(u){for(var m=0,v=0;v<u.length;v++)m+=u[v].width;return m}function f(u){for(var m=0,v=0;v<u.length;v++)u[v].height>m&&(m=u[v].height);return m}function g(u,m,v){var b;if(v)b=v;else if(typeof document!="undefined")b=document.createElement("canvas").getContext("2d");else return 0;b.font=m.fontOptions+" "+m.fontSize+"px "+m.font;var _=b.measureText(u);if(!_)return 0;var C=_.width;return C}return wo.getMaximumHeightOfEncodings=f,wo.getEncodingHeight=n,wo.getBarcodePadding=i,wo.calculateEncodingAttributes=s,wo.getTotalWidthOfEncodings=c,wo}var r3;function EM(){if(r3)return Hg;r3=1,Object.defineProperty(Hg,"__esModule",{value:!0});var t=function(){function f(g,u){for(var m=0;m<u.length;m++){var v=u[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,u,m){return u&&f(g.prototype,u),m&&f(g,m),g}}(),e=um(),r=i(e),n=wE();function i(f){return f&&f.__esModule?f:{default:f}}function s(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}var c=function(){function f(g,u,m){s(this,f),this.canvas=g,this.encodings=u,this.options=m}return t(f,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var u=0;u<this.encodings.length;u++){var m=(0,r.default)(this.options,this.encodings[u].options);this.drawCanvasBarcode(m,this.encodings[u]),this.drawCanvasText(m,this.encodings[u]),this.moveCanvasDrawing(this.encodings[u])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var u=this.canvas.getContext("2d");u.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,u);var m=(0,n.getTotalWidthOfEncodings)(this.encodings),v=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=m+this.options.marginLeft+this.options.marginRight,this.canvas.height=v,u.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(u.fillStyle=this.options.background,u.fillRect(0,0,this.canvas.width,this.canvas.height)),u.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(u,m){var v=this.canvas.getContext("2d"),b=m.data,_;u.textPosition=="top"?_=u.marginTop+u.fontSize+u.textMargin:_=u.marginTop,v.fillStyle=u.lineColor;for(var C=0;C<b.length;C++){var A=C*u.width+m.barcodePadding;b[C]==="1"?v.fillRect(A,_,u.width,u.height):b[C]&&v.fillRect(A,_,u.width,u.height*b[C])}}},{key:"drawCanvasText",value:function(u,m){var v=this.canvas.getContext("2d"),b=u.fontOptions+" "+u.fontSize+"px "+u.font;if(u.displayValue){var _,C;u.textPosition=="top"?C=u.marginTop+u.fontSize-u.textMargin:C=u.height+u.textMargin+u.marginTop+u.fontSize,v.font=b,u.textAlign=="left"||m.barcodePadding>0?(_=0,v.textAlign="left"):u.textAlign=="right"?(_=m.width-1,v.textAlign="right"):(_=m.width/2,v.textAlign="center"),v.fillText(m.text,_,C)}}},{key:"moveCanvasDrawing",value:function(u){var m=this.canvas.getContext("2d");m.translate(u.width,0)}},{key:"restoreCanvas",value:function(){var u=this.canvas.getContext("2d");u.restore()}}]),f}();return Hg.default=c,Hg}var qg={},n3;function SM(){if(n3)return qg;n3=1,Object.defineProperty(qg,"__esModule",{value:!0});var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=um(),r=i(e),n=wE();function i(g){return g&&g.__esModule?g:{default:g}}function s(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",f=function(){function g(u,m,v){s(this,g),this.svg=u,this.encodings=m,this.options=v,this.document=v.xmlDocument||document}return t(g,[{key:"render",value:function(){var m=this.options.marginLeft;this.prepareSVG();for(var v=0;v<this.encodings.length;v++){var b=this.encodings[v],_=(0,r.default)(this.options,b.options),C=this.createGroup(m,_.marginTop,this.svg);this.setGroupOptions(C,_),this.drawSvgBarcode(C,_,b),this.drawSVGText(C,_,b),m+=b.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var m=(0,n.getTotalWidthOfEncodings)(this.encodings),v=(0,n.getMaximumHeightOfEncodings)(this.encodings),b=m+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(b,v),this.options.background&&this.drawRect(0,0,b,v,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(m,v,b){var _=b.data,C;v.textPosition=="top"?C=v.fontSize+v.textMargin:C=0;for(var A=0,j=0,L=0;L<_.length;L++)j=L*v.width+b.barcodePadding,_[L]==="1"?A++:A>0&&(this.drawRect(j-v.width*A,C,v.width*A,v.height,m),A=0);A>0&&this.drawRect(j-v.width*(A-1),C,v.width*A,v.height,m)}},{key:"drawSVGText",value:function(m,v,b){var _=this.document.createElementNS(c,"text");if(v.displayValue){var C,A;_.setAttribute("font-family",v.font),_.setAttribute("font-size",v.fontSize),v.fontOptions.includes("bold")&&_.setAttribute("font-weight","bold"),v.fontOptions.includes("italic")&&_.setAttribute("font-style","italic"),v.textPosition=="top"?A=v.fontSize-v.textMargin:A=v.height+v.textMargin+v.fontSize,v.textAlign=="left"||b.barcodePadding>0?(C=0,_.setAttribute("text-anchor","start")):v.textAlign=="right"?(C=b.width-1,_.setAttribute("text-anchor","end")):(C=b.width/2,_.setAttribute("text-anchor","middle")),_.setAttribute("x",C),_.setAttribute("y",A),_.appendChild(this.document.createTextNode(b.text)),m.appendChild(_)}}},{key:"setSvgAttributes",value:function(m,v){var b=this.svg;b.setAttribute("width",m+"px"),b.setAttribute("height",v+"px"),b.setAttribute("x","0px"),b.setAttribute("y","0px"),b.setAttribute("viewBox","0 0 "+m+" "+v),b.setAttribute("xmlns",c),b.setAttribute("version","1.1")}},{key:"createGroup",value:function(m,v,b){var _=this.document.createElementNS(c,"g");return _.setAttribute("transform","translate("+m+", "+v+")"),b.appendChild(_),_}},{key:"setGroupOptions",value:function(m,v){m.setAttribute("fill",v.lineColor)}},{key:"drawRect",value:function(m,v,b,_,C){var A=this.document.createElementNS(c,"rect");return A.setAttribute("x",m),A.setAttribute("y",v),A.setAttribute("width",b),A.setAttribute("height",_),C.appendChild(A),A}}]),g}();return qg.default=f,qg}var Wg={},i3;function NM(){if(i3)return Wg;i3=1,Object.defineProperty(Wg,"__esModule",{value:!0});var t=function(){function n(i,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,s,c){return s&&n(i.prototype,s),c&&n(i,c),i}}();function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(i,s,c){e(this,n),this.object=i,this.encodings=s,this.options=c}return t(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n}();return Wg.default=r,Wg}var a3;function AM(){if(a3)return zg;a3=1,Object.defineProperty(zg,"__esModule",{value:!0});var t=EM(),e=c(t),r=SM(),n=c(r),i=NM(),s=c(i);function c(f){return f&&f.__esModule?f:{default:f}}return zg.default={CanvasRenderer:e.default,SVGRenderer:n.default,ObjectRenderer:s.default},zg}var _d={},s3;function bE(){if(s3)return _d;s3=1,Object.defineProperty(_d,"__esModule",{value:!0});function t(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function e(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function r(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var n=function(c){r(f,c);function f(g,u){t(this,f);var m=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return m.name="InvalidInputException",m.symbology=g,m.input=u,m.message='"'+m.input+'" is not a valid input for '+m.symbology,m}return f}(Error),i=function(c){r(f,c);function f(){t(this,f);var g=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return g.name="InvalidElementException",g.message="Not supported type to render on",g}return f}(Error),s=function(c){r(f,c);function f(){t(this,f);var g=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return g.name="NoElementException",g.message="No element to render on.",g}return f}(Error);return _d.InvalidInputException=n,_d.InvalidElementException=i,_d.NoElementException=s,_d}var o3;function CM(){if(o3)return Fg;o3=1,Object.defineProperty(Fg,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e=_M(),r=c(e),n=AM(),i=c(n),s=bE();function c(m){return m&&m.__esModule?m:{default:m}}function f(m){if(typeof m=="string")return g(m);if(Array.isArray(m)){for(var v=[],b=0;b<m.length;b++)v.push(f(m[b]));return v}else{if(typeof HTMLCanvasElement!="undefined"&&m instanceof HTMLImageElement)return u(m);if(m&&m.nodeName&&m.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&m instanceof SVGElement)return{element:m,options:(0,r.default)(m),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&m instanceof HTMLCanvasElement)return{element:m,options:(0,r.default)(m),renderer:i.default.CanvasRenderer};if(m&&m.getContext)return{element:m,renderer:i.default.CanvasRenderer};if(m&&(typeof m=="undefined"?"undefined":t(m))==="object"&&!m.nodeName)return{element:m,renderer:i.default.ObjectRenderer};throw new s.InvalidElementException}}function g(m){var v=document.querySelectorAll(m);if(v.length!==0){for(var b=[],_=0;_<v.length;_++)b.push(f(v[_]));return b}}function u(m){var v=document.createElement("canvas");return{element:v,options:(0,r.default)(m),renderer:i.default.CanvasRenderer,afterRender:function(){m.setAttribute("src",v.toDataURL())}}}return Fg.default=f,Fg}var Vg={},l3;function TM(){if(l3)return Vg;l3=1,Object.defineProperty(Vg,"__esModule",{value:!0});var t=function(){function n(i,s){for(var c=0;c<s.length;c++){var f=s[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}return function(i,s,c){return s&&n(i.prototype,s),c&&n(i,c),i}}();function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(i){e(this,n),this.api=i}return t(n,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var c=s.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(f){return this.handleCatch(f),this.api}}}]),n}();return Vg.default=r,Vg}var ax,c3;function jM(){if(c3)return ax;c3=1;var t=yM(),e=L(t),r=um(),n=L(r),i=wM(),s=L(i),c=bM(),f=L(c),g=CM(),u=L(g),m=vE(),v=L(m),b=TM(),_=L(b),C=bE(),A=yE(),j=L(A);function L(z){return z&&z.__esModule?z:{default:z}}var I=function(){},P=function(ie,W,H){var ne=new I;if(typeof ie=="undefined")throw Error("No element to render on was provided.");return ne._renderProperties=(0,u.default)(ie),ne._encodings=[],ne._options=j.default,ne._errorHandler=new _.default(ne),typeof W!="undefined"&&(H=H||{},H.format||(H.format=G()),ne.options(H)[H.format](W,H).render()),ne};P.getModule=function(z){return e.default[z]};for(var X in e.default)e.default.hasOwnProperty(X)&&Y(e.default,X);function Y(z,ie){I.prototype[ie]=I.prototype[ie.toUpperCase()]=I.prototype[ie.toLowerCase()]=function(W,H){var ne=this;return ne._errorHandler.wrapBarcodeCall(function(){H.text=typeof H.text=="undefined"?void 0:""+H.text;var ve=(0,n.default)(ne._options,H);ve=(0,v.default)(ve);var me=z[ie],he=K(W,me,ve);return ne._encodings.push(he),ne})}}function K(z,ie,W){z=""+z;var H=new ie(z,W);if(!H.valid())throw new C.InvalidInputException(H.constructor.name,z);var ne=H.encode();ne=(0,s.default)(ne);for(var ve=0;ve<ne.length;ve++)ne[ve].options=(0,n.default)(W,ne[ve].options);return ne}function G(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}I.prototype.options=function(z){return this._options=(0,n.default)(this._options,z),this},I.prototype.blank=function(z){var ie=new Array(z+1).join("0");return this._encodings.push({data:ie}),this},I.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var z;for(var ie in this._renderProperties){z=this._renderProperties[ie];var W=(0,n.default)(this._options,z.options);W.format=="auto"&&(W.format=G()),this._errorHandler.wrapBarcodeCall(function(){var H=W.value,ne=e.default[W.format.toUpperCase()],ve=K(H,ne,W);V(z,ve,W)})}}},I.prototype.render=function(){if(!this._renderProperties)throw new C.NoElementException;if(Array.isArray(this._renderProperties))for(var z=0;z<this._renderProperties.length;z++)V(this._renderProperties[z],this._encodings,this._options);else V(this._renderProperties,this._encodings,this._options);return this},I.prototype._defaults=j.default;function V(z,ie,W){ie=(0,s.default)(ie);for(var H=0;H<ie.length;H++)ie[H].options=(0,n.default)(W,ie[H].options),(0,f.default)(ie[H].options);(0,f.default)(W);var ne=z.renderer,ve=new ne(z.element,ie,W);ve.render(),z.afterRender&&z.afterRender()}return typeof window!="undefined"&&(window.JsBarcode=P),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(z,ie){var W=[];return jQuery(this).each(function(){W.push(this)}),P(W,z,ie)}),ax=P,ax}var OM=jM();const _E=I2(OM),Gf=ee.forwardRef(({barcode:t,width:e,height:r,size:n="medium",showPartNumber:i=!0,partNumber:s,lineColor:c="#000000"},f)=>{const g=ee.useRef(null),u={small:{width:1.5,height:40},medium:{width:2,height:60},large:{width:2.5,height:80}},m=u[n]||u.medium,v=e!==void 0?e:m.width,b=r!==void 0?r:m.height,_=`${Math.max(150,b*3)}px`,C=Math.max(10,Math.min(16,Math.floor(b/5)));if(ee.useImperativeHandle(f,()=>({getSvgElement:()=>g.current,getBarcode:()=>t})),ee.useEffect(()=>{if(t&&g.current)try{_E(g.current,t,{format:"CODE128",width:v,height:b,displayValue:!1,fontSize:C,margin:5,background:"#ffffff",lineColor:c})}catch(j){console.error("Barcode generation error:",j)}},[t,v,b,c,C]),!t)return null;const A=s||t;return a.jsxs("div",{style:{display:"inline-block",textAlign:"center"},children:[a.jsx("svg",{ref:g,style:{maxWidth:_,height:"auto",display:"block"}}),i&&a.jsx("div",{style:{fontFamily:"monospace",fontSize:`${C+2}px`,fontWeight:"bold",color:"#333",marginTop:"4px",letterSpacing:"1px"},children:A})]})});Gf.displayName="InlineBarcode";const EE=(t,e=2,r=null)=>new Promise((n,i)=>{var s,c,f,g;if(!t){i(new Error("No SVG element provided"));return}try{const u=t.getBBox(),m=((c=(s=t.width)==null?void 0:s.baseVal)==null?void 0:c.value)||u.width+20,v=((g=(f=t.height)==null?void 0:f.baseVal)==null?void 0:g.value)||u.height+20,_=v+(r?30:0),C=t.cloneNode(!0);C.setAttribute("width",m),C.setAttribute("height",v);const A=document.createElementNS("http://www.w3.org/2000/svg","rect");A.setAttribute("width","100%"),A.setAttribute("height","100%"),A.setAttribute("fill","white"),C.insertBefore(A,C.firstChild);const L=new XMLSerializer().serializeToString(C),I=new Blob([L],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(I),X=new Image;X.onload=()=>{const Y=document.createElement("canvas");Y.width=m*e,Y.height=_*e;const K=Y.getContext("2d");K.fillStyle="white",K.fillRect(0,0,Y.width,Y.height),K.scale(e,e),K.drawImage(X,0,0),r&&(K.fillStyle="#000000",K.font="bold 14px monospace",K.textAlign="center",K.fillText(r,m/2,v+20));const G=Y.toDataURL("image/png");URL.revokeObjectURL(P),n(G)},X.onerror=Y=>{URL.revokeObjectURL(P),i(Y)},X.src=P}catch(u){i(u)}}),SE=(t,e=null)=>we(null,null,function*(){try{const r=yield EE(t,3,e),i=yield(yield fetch(r)).blob();if(navigator.clipboard&&navigator.clipboard.write){const s=new ClipboardItem({"image/png":i});return yield navigator.clipboard.write([s]),!0}else{const s=window.open("","_blank");return s&&s.document.write(`
          <html>
            <head><title>Barcode Image</title></head>
            <body style="display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;background:#f0f0f0;">
              <div style="background:white;padding:20px;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.1);">
                <img src="${r}" />
                <p style="text-align:center;margin-top:10px;color:#666;">Right-click and "Copy image" to copy</p>
              </div>
            </body>
          </html>
        `),!1}}catch(r){throw console.error("Failed to copy barcode as image:",r),r}}),NE=(t,e="barcode",r=null)=>we(null,null,function*(){try{const n=yield EE(t,3,r),i=document.createElement("a");i.href=n,i.download=`${e}.png`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(n){throw console.error("Failed to download barcode:",n),n}}),AE=({svgElement:t,productName:e,partNumber:r,price:n,showPrice:i=!0})=>{if(!t)return;const s=window.open("","_blank");s&&(s.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Barcode Label - ${r||"Print"}</title>
        <style>
          @media print {
            @page { margin: 5mm; size: auto; }
            body { margin: 0; padding: 0; }
            .label { page-break-after: always; }
            .label:last-child { page-break-after: auto; }
          }
          body { 
            font-family: Arial, sans-serif; 
            display: flex;
            justify-content: center;
            padding: 20px;
          }
          .label {
            border: 1px dashed #ccc;
            padding: 15px 25px;
            display: inline-block;
            text-align: center;
            background: white;
          }
          .product-name {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 5px;
            max-width: 250px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          }
          .part-number {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-top: 8px;
            font-family: monospace;
          }
          .price {
            font-size: 18px;
            font-weight: bold;
            margin-top: 8px;
            color: #222;
          }
          .barcode-svg svg {
            max-width: 100%;
          }
        </style>
      </head>
      <body>
        <div class="label">
          ${e?`<div class="product-name">${e}</div>`:""}
          <div class="barcode-svg">${t.outerHTML}</div>
          ${r?`<div class="part-number">P/N: ${r}</div>`:""}
          ${i&&n?`<div class="price">$${parseFloat(n).toFixed(2)}</div>`:""}
        </div>
        <script>
          window.onload = function() { 
            setTimeout(function() { window.print(); }, 100);
          }
        <\/script>
      </body>
      </html>
    `),s.document.close())},RM=(t,e={width:2,height:60})=>{if(!t||t.length===0)return;const r=window.open("","_blank");if(r){const n=t.map(s=>`
        <div class="label">
          <svg id="barcode-${s.id}"></svg>
          ${s.barcode?`<div class="part-number">${s.barcode}</div>`:""}
        </div>
      `).join(""),i=t.map(s=>`
      if (document.getElementById('barcode-${s.id}') && '${s.barcode}') {
        try {
          JsBarcode('#barcode-${s.id}', '${s.barcode}', {
            format: 'CODE128',
            width: ${e.width},
            height: ${e.height},
            displayValue: false,
            margin: 5,
            background: '#ffffff',
            lineColor: '#000000'
          });
        } catch(e) { console.error(e); }
      }
    `).join(`
`);r.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bulk Barcode Labels</title>
        <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
        <style>
          @media print {
            @page { margin: 5mm; size: auto; }
            body { margin: 0; padding: 0; }
            .labels-container { display: block; }
            .label { 
              page-break-inside: avoid;
              margin-bottom: 10px;
            }
          }
          body { 
            font-family: Arial, sans-serif; 
            padding: 20px;
          }
          .labels-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: flex-start;
          }
          .label {
            border: 1px dashed #ccc;
            padding: 15px 20px;
            text-align: center;
            background: white;
            min-width: 200px;
          }
          .product-name {
            font-weight: bold;
            font-size: 12px;
            margin-bottom: 5px;
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          }
          .part-number {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            margin-top: 8px;
            font-family: monospace;
          }
          .price {
            font-size: 14px;
            font-weight: bold;
            margin-top: 5px;
          }
          .print-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
          }
          .print-controls button {
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
          }
          @media print {
            .print-controls { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="print-controls">
          <button onclick="window.print()"> Print ${t.length} Labels</button>
        </div>
        <h2 style="margin-bottom: 20px;">Barcode Labels (${t.length})</h2>
        <div class="labels-container">
          ${n}
        </div>
        <script>
          window.onload = function() {
            ${i}
          }
        <\/script>
      </body>
      </html>
    `),r.document.close()}},kM=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState([]),[i,s]=ee.useState(!0),[c,f]=ee.useState(null),[g,u]=ee.useState("all"),[m,v]=ee.useState(""),[b,_]=ee.useState(!1),{success:C,error:A}=Li(),{isOpen:j,confirm:L,handleClose:I,handleConfirm:P,dialogProps:X}=Jd(),[Y,K]=ee.useState(1),[G,V]=ee.useState(10),[z,ie]=ee.useState(0),[W,H]=ee.useState(!1),[ne,ve]=ee.useState(null),[me,he]=ee.useState([]),[be,Pe]=ee.useState(!1),[Ae,se]=ee.useState(!1),[Le,M]=ee.useState(3);ee.useEffect(()=>{we(null,null,function*(){s(!0);try{const[Ve,rt]=yield Promise.all([Nu({limit:1e3}),G2()]),He=Ve.products||Ve;console.log("Products data:",He),console.log("Categories data:",rt),He&&He.length>0&&console.log("First product structure:",JSON.stringify(He[0],null,2)),rt&&rt.length>0&&console.log("First category structure:",JSON.stringify(rt[0],null,2)),e(He),n(rt)}catch(Ve){console.error("Error fetching data:",Ve),f(Ve.message||"Failed to load products")}finally{s(!1)}})},[]);const q=fe=>we(null,null,function*(){try{yield L({title:"Delete Product",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield u2(fe),e(t.filter(Ve=>Ve.id!==fe)),C("Product deleted successfully")}catch(Ve){A(Ve.message||"Failed to delete product")}}catch(Ve){console.log("Product deletion cancelled")}}),J=fe=>we(null,null,function*(){s(!0);try{const Ve=yield E6(fe),rt=yield Nu();e(rt),C(`Successfully imported ${Ve.length} out of ${fe.length} products`)}catch(Ve){console.error("Error during import:",Ve),A(Ve.message||"Failed to import products")}finally{s(!1)}});ee.useEffect(()=>{console.log("Filter values changed:"),console.log("Selected category:",g),console.log("Search query:",m)},[g,m]);const re=ee.useMemo(()=>t.map(fe=>er(kt({},fe),{category_id:fe.category_id?String(fe.category_id):null})),[t]);ee.useEffect(()=>{re.length>0&&(console.log("Processed products with consistent category IDs:"),re.slice(0,3).forEach(fe=>{console.log(`Product: ${fe.name}, Category ID: ${fe.category_id}, Type: ${typeof fe.category_id}`)}))},[re]);const le=ee.useMemo(()=>(console.log("Filtering products with selectedCategory:",g),re.filter(fe=>{const Ve=g==="all"||fe.category_id===g,rt=(fe.name||"").toLowerCase(),He=(fe.description||"").toLowerCase(),Ke=m.toLowerCase(),et=rt.includes(Ke)||He.includes(Ke);return!Ve&&g!=="all"&&console.log(`Product ${fe.name} doesn't match category. Product category: ${fe.category_id}, Selected: ${g}`),Ve&&et})),[re,g,m]);ee.useEffect(()=>{K(1)},[g,m]);const Ue=G===-1?le:le.slice((Y-1)*G,Y*G),Te=G===-1?1:(Y-1)*G+1,Me=G===-1?le.length:Math.min(Y*G,le.length),Oe=fe=>{Pe(fe.target.checked),fe.target.checked?he(Ue.map(Ve=>Ve.id)):he([])},ze=(fe,Ve)=>{Ve?he(rt=>[...rt,fe]):(he(rt=>rt.filter(He=>He!==fe)),Pe(!1))},st=fe=>we(null,null,function*(){if(me.length===0){A("No products selected");return}const Ve=t.filter(rt=>me.includes(rt.id));fe==="pdf"?yield Nt(Ve):fe==="xlsx"&&(yield it(Ve))}),ct=()=>we(null,null,function*(){if(me.length===0){A("No products selected");return}try{yield L({title:"Delete Selected Products",message:`Are you sure you want to delete ${me.length} selected products? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});let fe=0,Ve=0;for(const He of me)try{yield u2(He),fe++}catch(Ke){console.error(`Error deleting product ${He}:`,Ke),Ve++}const rt=yield Nu();e(rt),he([]),Pe(!1),Ve===0?C(`Successfully deleted ${fe} products`):A(`Deleted ${fe} products, but failed to delete ${Ve} products`)}catch(fe){console.log("Bulk deletion cancelled")}}),Nt=(fe=null)=>we(null,null,function*(){let Ve=fe||le;try{ve("pdf"),H(!0),ie(0),Array.isArray(Ve)||(console.error("dataToExport is not an array:",Ve),Ve=Array.isArray(Ve)?Ve:Ve?[Ve]:[]),console.log(`Preparing to export ${Ve.length} products to PDF`);const rt=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"name"},{header:"Category",dataKey:"category_name"},{header:"Price",dataKey:"price"},{header:"Quantity",dataKey:"quantity"},{header:"Condition",dataKey:"condition_status"}],He=[];for(const Ke of Ve)if(Ke)try{He.push(er(kt({},Ke),{price:`$${parseFloat(Ke.price||0).toFixed(2)}`,category_name:Ke.category_name||"Uncategorized",quantity:Ke.quantity||0,condition_status:Ke.condition_status||"Unknown"}))}catch(et){console.error("Error formatting product data:",et,Ke)}console.log(`Formatted ${He.length} products for PDF export`),yield Bv(He,rt,"products_export","Products Report",ie),C("Products exported to PDF successfully")}catch(rt){console.error("Error exporting to PDF:",rt),A(`Failed to export products to PDF: ${rt.message||"Unknown error"}`)}finally{H(!1)}}),it=(fe=null)=>we(null,null,function*(){let Ve=fe||le;try{ve("xlsx"),H(!0),ie(0),Array.isArray(Ve)||(console.error("dataToExport is not an array:",Ve),Ve=Array.isArray(Ve)?Ve:Ve?[Ve]:[]),console.log(`Preparing to export ${Ve.length} products to Excel`);const rt=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"name"},{header:"Description",dataKey:"description"},{header:"Category",dataKey:"category_name"},{header:"Price",dataKey:"price"},{header:"Quantity",dataKey:"quantity"},{header:"Condition",dataKey:"condition_status"},{header:"Created At",dataKey:"created_at"},{header:"Updated At",dataKey:"updated_at"}],He=[];for(const Ke of Ve)if(Ke)try{He.push(er(kt({},Ke),{price:parseFloat(Ke.price||0).toFixed(2),category_name:Ke.category_name||"Uncategorized",quantity:Ke.quantity||0,condition_status:Ke.condition_status||"Unknown",description:Ke.description||"",created_at:Ke.created_at?new Date(Ke.created_at).toLocaleString():"",updated_at:Ke.updated_at?new Date(Ke.updated_at).toLocaleString():""}))}catch(et){console.error("Error formatting product data:",et,Ke)}console.log(`Formatted ${He.length} products for Excel export`),yield Mv(He,rt,"products_export","Products",ie),C("Products exported to Excel successfully")}catch(rt){console.error("Error exporting to Excel:",rt),A(`Failed to export products to Excel: ${rt.message||"Unknown error"}`)}finally{H(!1)}});return a.jsxs("div",{children:[a.jsx(Zd,{isOpen:j,onClose:I,onConfirm:P,title:X.title,message:X.message,confirmText:X.confirmText,cancelText:X.cancelText,confirmButtonClass:X.confirmButtonClass}),a.jsx(fv,{progress:z,isVisible:W,onComplete:()=>H(!1)}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Products"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[a.jsxs("button",{onClick:()=>_(!0),className:"flex items-center justify-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 w-full sm:w-auto transition-colors",disabled:W,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import CSV"]}),a.jsxs(Zt,{to:"/admin/barcode-generator",className:"flex items-center justify-center bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 w-full sm:w-auto transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Barcode Generator"]}),me.length>0&&a.jsxs("button",{onClick:()=>{if(t.filter(Ve=>me.includes(Ve.id)&&Ve.part_number).length===0){A("No selected products have part numbers");return}se(!0)},className:"flex items-center justify-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full sm:w-auto transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Labels (",me.length,")"]}),a.jsxs(Zt,{to:"/admin/products/add",className:"flex items-center justify-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 w-full sm:w-auto transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Product"]})]})]}),a.jsx(bj,{isOpen:b,onClose:()=>_(!1),onImport:J,categories:r}),Ae&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Print Barcode Labels"}),a.jsxs("p",{className:"text-gray-400 mb-4",children:["Printing ",me.filter(fe=>{var Ve;return(Ve=t.find(rt=>rt.id===fe))==null?void 0:Ve.part_number}).length," labels"]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Barcode Size"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>M(Math.max(1,Le-1)),disabled:Le<=1,className:`w-12 h-12 rounded-lg font-bold text-2xl flex items-center justify-center ${Le<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:""}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("span",{className:"text-white font-semibold text-xl",children:["XS","S","M","L","XL"][Le-1]}),a.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Level ",Le,"/5)"]})]}),a.jsx("button",{onClick:()=>M(Math.min(5,Le+1)),disabled:Le>=5,className:`w-12 h-12 rounded-lg font-bold text-2xl flex items-center justify-center ${Le>=5?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:"+"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>se(!1),className:"flex-1 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{const fe=t.filter(He=>me.includes(He.id)&&He.part_number).map(He=>er(kt({},He),{barcode:He.part_number})),Ve={1:{width:1.2,height:35},2:{width:1.8,height:50},3:{width:2.2,height:65},4:{width:2.8,height:80},5:{width:3.5,height:100}},rt=Ve[Le]||Ve[3];RM(fe,rt),se(!1),he([]),Pe(!1)},className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:" Print Labels"})]})]})}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 gap-4",children:[a.jsxs("div",{className:"w-full md:w-1/3",children:[a.jsx("label",{className:"block text-white mb-2",children:"Filter by Category"}),a.jsxs("select",{className:"w-full p-2 border border-midnight-600 bg-midnight-800 text-white rounded",value:g,onChange:fe=>{const Ve=fe.target.value;console.log("Category selected:",Ve,typeof Ve),u(Ve)},children:[a.jsx("option",{value:"all",children:"All Categories"}),r.filter(fe=>fe&&fe.id&&fe.name).map(fe=>{const Ve=String(fe.id);return console.log(`Rendering category option: ${fe.name}, ID: ${Ve}, Type: ${typeof Ve}`),a.jsx("option",{value:Ve,children:fe.name},Ve)})]})]}),a.jsxs("div",{className:"w-full md:w-1/2",children:[a.jsx("label",{className:"block text-white mb-2",children:"Search Products"}),a.jsx("input",{type:"text",placeholder:"Search by name or description...",className:"w-full p-2 border border-midnight-600 bg-midnight-800 text-white rounded placeholder-gray-400",value:m,onChange:fe=>v(fe.target.value)})]})]})}),i?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading products...",variant:"gear"})}):c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-400 mb-4",children:c})}):le.length===0?a.jsxs("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[a.jsx("p",{className:"text-xl text-midnight-300 mb-6",children:"No products found"}),a.jsx(Zt,{to:"/admin/products/add",className:"bg-midnight-700 text-midnight-50 px-6 py-3 rounded font-semibold hover:bg-midnight-600",children:"Add New Product"})]}):a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 bg-midnight-800 border-b border-midnight-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"select-all",checked:be,onChange:Oe,className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"}),a.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium text-midnight-200",children:"Select All"}),a.jsxs("span",{className:"text-sm text-midnight-400",children:["(",me.length," selected)"]})]}),a.jsx("div",{className:"flex space-x-2",children:me.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:ct,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",disabled:W,children:"Delete Selected"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{className:"bg-midnight-600 text-midnight-50 px-3 py-1 rounded text-sm hover:bg-midnight-500 flex items-center",onClick:()=>document.getElementById("exportSelectedDropdown").classList.toggle("hidden"),disabled:W,children:[a.jsx("span",{children:"Export Selected"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a.jsx("div",{id:"exportSelectedDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-midnight-800 border border-midnight-600 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{onClick:()=>st("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:W,children:"Export to PDF"}),a.jsx("button",{onClick:()=>st("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:W,children:"Export to Excel"})]})})]})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[800px]",children:[a.jsx("thead",{className:"bg-midnight-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10",children:a.jsx("span",{className:"sr-only",children:"Select"})}),a.jsx("th",{className:"text-left p-4 text-white min-w-[200px]",children:"Product"}),a.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Category"}),a.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Barcode"}),a.jsx("th",{className:"text-center p-4 text-white min-w-[80px]",children:"Price"}),a.jsx("th",{className:"text-center p-4 text-white min-w-[80px]",children:"Stock"}),a.jsx("th",{className:"text-center p-4 text-white min-w-[140px]",children:"Warehouse"}),a.jsx("th",{className:"text-center p-4 text-white min-w-[100px]",children:"Condition"}),a.jsx("th",{className:"text-center p-4 text-white min-w-[120px]",children:"Actions"})]})}),a.jsx("tbody",{children:Ue.map(fe=>a.jsxs("tr",{className:"border-t border-midnight-700",children:[a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{type:"checkbox",checked:me.includes(fe.id),onChange:Ve=>ze(fe.id,Ve.target.checked),className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-12 h-12 mr-3",children:a.jsx(_0,{src:Ru(fe.image_url),alt:fe.name,className:"w-full h-full object-cover rounded",placeholderText:"No Image",showIcon:!1})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white",children:fe.name}),a.jsxs("p",{className:"text-sm text-gray-300 truncate max-w-xs",children:[fe.description.substring(0,50),fe.description.length>50?"...":""]})]})]})}),a.jsx("td",{className:"p-4 text-white",children:fe.category_name||"Uncategorized"}),a.jsx("td",{className:"p-4",children:fe.part_number?a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx(Gf,{barcode:fe.part_number,width:1,height:25,showPartNumber:!1}),a.jsx("span",{className:"text-xs font-mono text-gray-400 mt-1",children:fe.part_number})]}):a.jsx("span",{className:"text-xs text-gray-500 italic",children:"No part number"})}),a.jsxs("td",{className:"p-4 text-center text-white",children:["$",parseFloat(fe.price).toFixed(2)]}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`font-semibold ${fe.quantity<=0?"text-red-400":fe.quantity<=5?"text-yellow-400":"text-green-400"}`,children:fe.quantity})}),a.jsx("td",{className:"p-4 text-center",children:fe.warehouse_name?a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"text-blue-400",children:[" ",fe.warehouse_name]}),fe.bin_number&&a.jsxs("span",{className:"text-gray-400 block",children:["Bin: ",fe.bin_number]})]}):a.jsx("span",{className:"text-gray-500 text-sm italic",children:"Not assigned"})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:"inline-block px-2 py-1 bg-midnight-600 text-midnight-100 rounded-full text-xs",children:fe.condition_status})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx(Zt,{to:`/admin/products/view/${fe.id}`,className:"text-green-400 hover:text-green-300",title:"View Product",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),a.jsx(Zt,{to:`/admin/products/edit/${fe.id}`,className:"text-midnight-300 hover:text-midnight-100",title:"Edit Product",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),a.jsx("button",{onClick:()=>q(fe.id),className:"text-red-400 hover:text-red-300",title:"Delete Product",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})})]},fe.id))})]})}),a.jsx($2,{totalItems:le.length,itemsPerPage:G,currentPage:Y,onPageChange:K,onItemsPerPageChange:V})]}),!i&&!c&&le.length>0&&a.jsxs("div",{className:"mt-4 text-sm text-midnight-400",children:["Showing ",Te+1," to ",Math.min(Me,le.length)," of ",le.length," products"]})]})},LM=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[i,s]=ee.useState(null),[c,f]=ee.useState("all"),{success:g,error:u}=Li(),[m,v]=ee.useState(1),[b,_]=ee.useState(10),[C,A]=ee.useState(0),[j,L]=ee.useState(!1),[I,P]=ee.useState(null),[X,Y]=ee.useState([]),[K,G]=ee.useState(!1);ee.useEffect(()=>{we(null,null,function*(){n(!0);try{const se=yield XC();console.log(" Raw orders data from API:",se);const Le=se.map(M=>{var re;const q=M.customer_name||(M.user?`${M.user.first_name||""} ${M.user.last_name||""}`.trim():`${M.first_name||""} ${M.last_name||""}`.trim())||"Unknown Customer",J=M.customer_email||((re=M.user)==null?void 0:re.email)||M.email||"No email provided";return console.log(` Order ${M.id} customer info:`,{original:{customer_name:M.customer_name,customer_email:M.customer_email,user:M.user},transformed:{customer_name:q,email:J}}),er(kt({},M),{customer_name:q,email:J})});console.log(" Transformed orders:",Le),e(Le)}catch(se){s(se.message||"Failed to load orders")}finally{n(!1)}})},[]);const V=(Ae,se)=>we(null,null,function*(){try{const Le=t.find(M=>M.id===Ae);yield YC(Ae,se),e(t.map(M=>M.id===Ae?er(kt({},M),{status:se}):M));try{Le&&["shipped","delivered","cancelled"].includes(se)&&(console.log(` Sending ${se} email for order ${Ae}`),yield Y6.sendOrderStatusUpdate(Le,se),console.log(` ${se} email sent successfully`))}catch(M){console.error(" Failed to send status update email:",M)}g("Order status updated successfully")}catch(Le){u(Le.message||"Failed to update order status")}}),z=(Ae=null)=>we(null,null,function*(){let se=Ae||W;try{P("pdf"),L(!0),A(0),Array.isArray(se)||(console.error("dataToExport is not an array:",se),se=Array.isArray(se)?se:se?[se]:[]),console.log(`Preparing to export ${se.length} orders to PDF`);const Le=[{header:"Order #",dataKey:"id"},{header:"Customer",dataKey:"customer_name"},{header:"Email",dataKey:"email"},{header:"Date",dataKey:"created_at"},{header:"Status",dataKey:"status"},{header:"Total",dataKey:"total_amount"}],M=[];for(const q of se)if(q)try{M.push(er(kt({},q),{customer_name:q.customer_name||"Unknown",email:q.email||"No email",created_at:q.created_at?new Date(q.created_at).toLocaleDateString():new Date().toLocaleDateString(),total_amount:`$${parseFloat(q.total_amount||0).toFixed(2)}`,status:q.status?q.status.charAt(0).toUpperCase()+q.status.slice(1):"Pending"}))}catch(J){console.error("Error formatting order data:",J,q)}console.log(`Formatted ${M.length} orders for PDF export`),yield Bv(M,Le,"orders_export","Orders Report",A),g("Orders exported to PDF successfully")}catch(Le){console.error("Error exporting to PDF:",Le),u(`Failed to export orders to PDF: ${Le.message||"Unknown error"}`)}finally{L(!1)}}),ie=(Ae=null)=>we(null,null,function*(){let se=Ae||W;try{P("xlsx"),L(!0),A(0),Array.isArray(se)||(console.error("dataToExport is not an array:",se),se=Array.isArray(se)?se:se?[se]:[]),console.log(`Preparing to export ${se.length} orders to Excel`);const Le=[{header:"Order #",dataKey:"id"},{header:"Customer",dataKey:"customer_name"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Address",dataKey:"shipping_address"},{header:"Date",dataKey:"created_at"},{header:"Status",dataKey:"status"},{header:"Payment Method",dataKey:"payment_method"},{header:"Total",dataKey:"total_amount"}],M=[];for(const q of se)if(q)try{M.push(er(kt({},q),{customer_name:q.customer_name||"Unknown",email:q.email||"No email",phone:q.phone||"No phone",shipping_address:q.shipping_address||"No address",created_at:q.created_at?new Date(q.created_at).toLocaleString():new Date().toLocaleString(),total_amount:parseFloat(q.total_amount||0).toFixed(2),status:q.status?q.status.charAt(0).toUpperCase()+q.status.slice(1):"Pending",payment_method:q.payment_method||"Unknown"}))}catch(J){console.error("Error formatting order data:",J,q)}console.log(`Formatted ${M.length} orders for Excel export`),yield Mv(M,Le,"orders_export","Orders",A),g("Orders exported to Excel successfully")}catch(Le){console.error("Error exporting to Excel:",Le),u(`Failed to export orders to Excel: ${Le.message||"Unknown error"}`)}finally{L(!1)}}),W=ee.useMemo(()=>c==="all"?t:t.filter(Ae=>Ae.status===c),[t,c]);ee.useEffect(()=>{v(1)},[c]);const H=b===-1?W:W.slice((m-1)*b,m*b),ne=b===-1?1:(m-1)*b+1,ve=b===-1?W.length:Math.min(m*b,W.length),me=Ae=>{G(Ae.target.checked),Ae.target.checked?Y(H.map(se=>se.id)):Y([])},he=(Ae,se)=>{se?Y(Le=>[...Le,Ae]):(Y(Le=>Le.filter(M=>M!==Ae)),G(!1))},be=Ae=>we(null,null,function*(){if(X.length===0){u("No orders selected");return}const se=t.filter(Le=>X.includes(Le.id));Ae==="pdf"?yield z(se):Ae==="xlsx"&&(yield ie(se))}),Pe=Ae=>{switch(Ae){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-gray-600 text-gray-100"}};return a.jsxs("div",{children:[a.jsx(fv,{progress:C,isVisible:j,onComplete:()=>L(!1)}),a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Orders"})}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-midnight-200 mb-2",children:"Filter by Status"}),a.jsxs("select",{className:"p-2 border border-midnight-600 bg-midnight-800 text-midnight-100 rounded",value:c,onChange:Ae=>f(Ae.target.value),children:[a.jsx("option",{value:"all",children:"All Orders"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{className:"text-midnight-300",children:["Showing ",W.length," of ",t.length," orders"]})]})}),r?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading orders...",variant:"gear"})}):i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-400 mb-4",children:i})}):W.length===0?a.jsx("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:a.jsx("p",{className:"text-xl text-midnight-300",children:"No orders found"})}):a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 bg-midnight-800 border-b border-midnight-700",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"select-all-orders",checked:K,onChange:me,className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"}),a.jsx("label",{htmlFor:"select-all-orders",className:"text-sm font-medium text-midnight-200",children:"Select All"}),a.jsxs("span",{className:"text-sm text-midnight-400",children:["(",X.length," selected)"]})]}),a.jsx("div",{className:"flex space-x-2",children:X.length>0&&a.jsxs("div",{className:"relative",children:[a.jsxs("button",{className:"bg-midnight-600 text-midnight-50 px-3 py-1 rounded text-sm hover:bg-midnight-500 flex items-center",onClick:()=>document.getElementById("exportSelectedOrdersDropdown").classList.toggle("hidden"),disabled:j,children:[a.jsx("span",{children:"Export Selected"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a.jsx("div",{id:"exportSelectedOrdersDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-midnight-800 border border-midnight-600 rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{onClick:()=>be("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:j,children:"Export to PDF"}),a.jsx("button",{onClick:()=>be("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:j,children:"Export to Excel"})]})})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[900px]",children:[a.jsx("thead",{className:"bg-midnight-800",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10",children:a.jsx("span",{className:"sr-only",children:"Select"})}),a.jsx("th",{className:"text-left p-4 text-white min-w-[100px]",children:"Order #"}),a.jsx("th",{className:"text-left p-4 text-white min-w-[200px]",children:"Customer"}),a.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Date"}),a.jsx("th",{className:"text-center p-4 text-white min-w-[120px]",children:"Status"}),a.jsx("th",{className:"text-right p-4 text-white min-w-[100px]",children:"Total"}),a.jsx("th",{className:"text-center p-4 text-white min-w-[150px]",children:"Actions"})]})}),a.jsx("tbody",{children:H.map(Ae=>a.jsxs("tr",{className:"border-t border-midnight-700",children:[a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{type:"checkbox",checked:X.includes(Ae.id),onChange:se=>he(Ae.id,se.target.checked),className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"})}),a.jsxs("td",{className:"p-4 font-semibold text-white",children:["#",Ae.id]}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:Ae.customer_name||"Unknown Customer"}),a.jsx("p",{className:"text-sm text-gray-300",children:Ae.email||"No email provided"}),Ae.customer_phone&&a.jsx("p",{className:"text-xs text-gray-400",children:Ae.customer_phone})]})}),a.jsx("td",{className:"p-4 text-white",children:new Date(Ae.created_at||Date.now()).toLocaleDateString()}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("select",{className:`px-3 py-1 rounded-full text-sm font-semibold border-0 ${Pe(Ae.status&&typeof Ae.status=="string"?Ae.status:"pending")}`,value:Ae.status&&typeof Ae.status=="string"?Ae.status:"pending",onChange:se=>V(Ae.id,se.target.value),children:[a.jsx("option",{value:"pending",className:"bg-yellow-600 text-yellow-100",children:"Pending"}),a.jsx("option",{value:"processing",className:"bg-blue-600 text-blue-100",children:"Processing"}),a.jsx("option",{value:"shipped",className:"bg-emerald-600 text-emerald-100",children:"Shipped"}),a.jsx("option",{value:"delivered",className:"bg-green-600 text-green-100",children:"Delivered"}),a.jsx("option",{value:"cancelled",className:"bg-red-600 text-red-100",children:"Cancelled"})]})}),a.jsxs("td",{className:"p-4 text-right font-semibold text-white",children:["$",parseFloat(Ae.total_amount||0).toFixed(2)]}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx(Zt,{to:`/orders/${Ae.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:"View Details"}),a.jsx("button",{onClick:()=>window.open(`/orders/${Ae.id}?print=true`,"_blank"),className:"text-green-400 hover:text-green-300 hover:underline text-sm",children:"Generate Invoice"})]})})]},Ae.id))})]})}),a.jsx($2,{totalItems:W.length,itemsPerPage:b,currentPage:m,onPageChange:v,onItemsPerPageChange:_})]}),!r&&!i&&W.length>0&&a.jsxs("div",{className:"mt-4 text-sm text-midnight-400",children:["Showing ",ne," to ",ve," of ",W.length," orders"]})]})},CE=({isOpen:t,onClose:e,title:r,children:n,size:i="md"})=>{const s=ee.useRef(null);if(ee.useEffect(()=>{const g=u=>{s.current&&!s.current.contains(u.target)&&e()};return t&&(document.addEventListener("mousedown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",g),document.body.style.overflow="auto"}},[t,e]),ee.useEffect(()=>{const g=u=>{u.key==="Escape"&&e()};return t&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[t,e]),!t)return null;const c={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},f=c[i]||c.md;return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4 backdrop-blur-sm",children:a.jsxs("div",{ref:s,className:`bg-gray-800 border border-gray-700 rounded-lg shadow-xl ${f} w-full`,children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 p-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-white",children:r}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white focus:outline-none transition-colors","aria-label":"Close",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-4 text-white",children:n})]})})},IM=({isOpen:t,onClose:e,onSave:r,user:n})=>{const[i,s]=ee.useState({first_name:"",last_name:"",email:"",password:"",confirm_password:"",phone:"",address:"",city:"",state:"",zip_code:"",role:"customer"}),[c,f]=ee.useState({}),[g,u]=ee.useState(!1);ee.useEffect(()=>{t&&(s(n?{first_name:n.first_name||"",last_name:n.last_name||"",email:n.email||"",password:"",confirm_password:"",phone:n.phone||"",address:n.address||"",city:n.city||"",state:n.state||"",zip_code:n.zip_code||"",role:n.role||"customer"}:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",phone:"",address:"",city:"",state:"",zip_code:"",role:"customer"}),f({}))},[t,n]);const m=_=>{const{name:C,value:A}=_.target;s(j=>er(kt({},j),{[C]:A})),c[C]&&f(j=>er(kt({},j),{[C]:null}))},v=()=>{const _={};i.first_name.trim()||(_.first_name="First name is required"),i.last_name.trim()||(_.last_name="Last name is required"),i.email.trim()||(_.email="Email is required");const C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return i.email&&!C.test(i.email)&&(_.email="Please enter a valid email address"),n?i.password&&(i.password.length<6&&(_.password="Password must be at least 6 characters"),i.confirm_password||(_.confirm_password="Please confirm your password"),i.password!==i.confirm_password&&(_.confirm_password="Passwords do not match")):(i.password||(_.password="Password is required"),i.password&&i.password.length<6&&(_.password="Password must be at least 6 characters"),i.confirm_password||(_.confirm_password="Please confirm your password"),i.password!==i.confirm_password&&(_.confirm_password="Passwords do not match")),f(_),Object.keys(_).length===0},b=_=>we(null,null,function*(){if(_.preventDefault(),!!v()){u(!0);try{const C={first_name:i.first_name,last_name:i.last_name,email:i.email,phone:i.phone,address:i.address,city:i.city,state:i.state,zip_code:i.zip_code,role:i.role};i.password&&(C.password=i.password),yield r(C),e()}catch(C){console.error("Error saving user:",C)}finally{u(!1)}}});return a.jsx(CE,{isOpen:t,onClose:e,title:n?"Edit User":"Add New User",children:a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),a.jsx("input",{type:"text",name:"first_name",value:i.first_name,onChange:m,className:`w-full p-2 border rounded ${c.first_name?"border-red-500":"border-gray-300"}`}),c.first_name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.first_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),a.jsx("input",{type:"text",name:"last_name",value:i.last_name,onChange:m,className:`w-full p-2 border rounded ${c.last_name?"border-red-500":"border-gray-300"}`}),c.last_name&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.last_name})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:m,className:`w-full p-2 border rounded ${c.email?"border-red-500":"border-gray-300"}`}),c.email&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.email})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!n&&"*"]}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:m,className:`w-full p-2 border rounded ${c.password?"border-red-500":"border-gray-300"}`,placeholder:n?"Leave blank to keep current":""}),c.password&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.password})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",!n&&"*"]}),a.jsx("input",{type:"password",name:"confirm_password",value:i.confirm_password,onChange:m,className:`w-full p-2 border rounded ${c.confirm_password?"border-red-500":"border-gray-300"}`,placeholder:n?"Leave blank to keep current":""}),c.confirm_password&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.confirm_password})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{name:"address",value:i.address,onChange:m,rows:"3",className:"w-full p-2 border border-gray-300 rounded"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),a.jsx("input",{type:"text",name:"city",value:i.city,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),a.jsx("input",{type:"text",name:"state",value:i.state,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),a.jsx("input",{type:"text",name:"zip_code",value:i.zip_code,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{name:"role",value:i.role,onChange:m,className:"w-full p-2 border border-gray-300 rounded",children:[a.jsx("option",{value:"customer",children:"Customer"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:g?"Saving...":"Save User"})]})]})})},DM=({isOpen:t,onClose:e,user:r})=>{if(!r)return null;const n=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return a.jsx(CE,{isOpen:t,onClose:e,title:"Customer Information",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.first_name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.last_name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.email||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.phone||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${r.role==="admin"?"bg-emerald-600 text-emerald-100":"bg-slate-600 text-slate-100"}`,children:r.role||"customer"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Created"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n(r.created_at)})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Street Address"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.address||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.city||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.state||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.zip_code||"N/A"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:r.id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Active"})]})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",children:"Close"})})]})})},u3=()=>we(null,null,function*(){try{console.log(" Fetching all users...");const t=yield Xr.get("/admin/users");if(console.log(" Get users response:",t.data),t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to fetch users")}catch(t){throw console.error(" Error fetching users:",t),t}}),PM=t=>we(null,null,function*(){try{console.log(" Creating new user:",t);const e=yield Xr.post("/admin/users",t);if(console.log(" Create user response:",e.data),e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to create user")}catch(e){throw console.error(" Error creating user:",e),e}}),FM=t=>we(null,null,function*(){try{console.log(" Updating user:",t);const e=yield Xr.put("/admin/users",t);if(console.log(" Update user response:",e.data),e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to update user")}catch(e){throw console.error(` Error updating user with ID ${t.id}:`,e),e}}),d3=t=>we(null,null,function*(){try{console.log(" Deleting user with ID:",t);const e=yield Xr.delete(`/admin/users?id=${t}`);if(console.log(" Delete user response:",e.data),e.data.success)return e.data;throw new Error(e.data.message||"Failed to delete user")}catch(e){throw console.error(` Error deleting user with ID ${t}:`,e),e}}),BM=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[i,s]=ee.useState(null),[c,f]=ee.useState(""),[g,u]=ee.useState("all"),[m,v]=ee.useState(!1),[b,_]=ee.useState(null),[C,A]=ee.useState(null),[j,L]=ee.useState(!1),{success:I,error:P}=Li(),{isOpen:X,confirm:Y,handleClose:K,handleConfirm:G,dialogProps:V}=Jd(),[z,ie]=ee.useState(1),[W,H]=ee.useState(10),[ne,ve]=ee.useState(0),[me,he]=ee.useState(!1),[be,Pe]=ee.useState(null),[Ae,se]=ee.useState([]),[Le,M]=ee.useState(!1);ee.useEffect(()=>{we(null,null,function*(){n(!0),s(null);try{const Ke=yield u3();Array.isArray(Ke)?e(Ke):Ke&&Ke.message?(s(Ke.message),e([])):(s("Received unexpected data format from server"),e([]))}catch(Ke){console.error("Error fetching users:",Ke),s(Ke.message||"Failed to load users"),e([])}finally{n(!1)}})},[]);const q=()=>{_(null),v(!0)},J=He=>{A(He),L(!0)},re=He=>{_(He),v(!0)},le=He=>we(null,null,function*(){try{yield Y({title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield d3(He),e(t.filter(Ke=>Ke.id!==He)),I("User deleted successfully")}catch(Ke){P(Ke.message||"Failed to delete user")}}catch(Ke){console.log("User deletion cancelled")}}),Ue=(He,Ke)=>we(null,null,function*(){try{const et=localStorage.getItem("token"),Mt=yield(yield fetch("/api/admin/users",{method:"PUT",headers:{Authorization:`Bearer ${et}`,"Content-Type":"application/json"},body:JSON.stringify({id:He,status:Ke})})).json();Mt.success?(e(Xt=>Xt.map(hr=>hr.id===He?er(kt({},hr),{status:Ke}):hr)),I(`User ${Ke==="blocked"?"blocked":Ke==="active"?"unblocked":Ke} successfully`)):P(Mt.message||"Failed to update user status")}catch(et){console.error("Error updating user status:",et),P("Failed to update user status")}}),Te=He=>we(null,null,function*(){try{if(b){console.log(" Updating user with data:",He);const Ke=yield FM(er(kt({},He),{id:b.id}));console.log(" Received updated user data:",Ke),e(t.map(et=>et.id===b.id?Ke:et)),I("User updated successfully")}else{const Ke=yield PM(He);e([...t,Ke]),I("User created successfully")}v(!1)}catch(Ke){console.error(" Error saving user:",Ke),P(Ke.message||"Failed to save user")}}),Me=ee.useMemo(()=>t.filter(He=>{const Ke=g==="all"||He.role===g,et=`${He.first_name} ${He.last_name}`.toLowerCase(),Dt=(He.email||"").toLowerCase(),Mt=c.toLowerCase(),Xt=et.includes(Mt)||Dt.includes(Mt);return Ke&&Xt}),[t,g,c]);ee.useEffect(()=>{ie(1)},[g,c]);const Oe=W===-1?Me:Me.slice((z-1)*W,z*W),ze=W===-1?1:(z-1)*W+1,st=W===-1?Me.length:Math.min(z*W,Me.length),ct=He=>{M(He.target.checked),He.target.checked?se(Oe.map(Ke=>Ke.id)):se([])},Nt=(He,Ke)=>{Ke?se(et=>[...et,He]):(se(et=>et.filter(Dt=>Dt!==He)),M(!1))},it=()=>we(null,null,function*(){if(Ae.length===0){P("No users selected");return}try{yield Y({title:"Delete Selected Users",message:`Are you sure you want to delete ${Ae.length} selected users? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});let He=0,Ke=0;for(const Dt of Ae)try{yield d3(Dt),He++}catch(Mt){console.error(`Error deleting user ${Dt}:`,Mt),Ke++}const et=yield u3();e(et),se([]),M(!1),Ke===0?I(`Successfully deleted ${He} users`):P(`Deleted ${He} users, but failed to delete ${Ke} users`)}catch(He){console.log("Bulk deletion cancelled")}}),fe=He=>we(null,null,function*(){if(Ae.length===0){P("No users selected");return}const Ke=t.filter(et=>Ae.includes(et.id));He==="pdf"?yield Ve(Ke):He==="xlsx"&&(yield rt(Ke))}),Ve=(He=null)=>we(null,null,function*(){let Ke=He||Me;try{Pe("pdf"),he(!0),ve(0),Array.isArray(Ke)||(console.error("dataToExport is not an array:",Ke),Ke=Array.isArray(Ke)?Ke:Ke?[Ke]:[]),console.log(`Preparing to export ${Ke.length} users to PDF`);const et=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"fullName"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Role",dataKey:"role"}],Dt=[];for(const Mt of Ke)if(Mt)try{Dt.push({id:Mt.id,fullName:`${Mt.first_name||""} ${Mt.last_name||""}`.trim()||"Unknown",email:Mt.email||"No email",phone:Mt.phone||"N/A",role:Mt.role?Mt.role.charAt(0).toUpperCase()+Mt.role.slice(1):"Customer"})}catch(Xt){console.error("Error formatting user data:",Xt,Mt)}console.log(`Formatted ${Dt.length} users for PDF export`),yield Bv(Dt,et,"users_export","Users Report",ve),I("Users exported to PDF successfully")}catch(et){console.error("Error exporting to PDF:",et),P(`Failed to export users to PDF: ${et.message||"Unknown error"}`)}finally{he(!1)}}),rt=(He=null)=>we(null,null,function*(){let Ke=He||Me;try{Pe("xlsx"),he(!0),ve(0),Array.isArray(Ke)||(console.error("dataToExport is not an array:",Ke),Ke=Array.isArray(Ke)?Ke:Ke?[Ke]:[]),console.log(`Preparing to export ${Ke.length} users to Excel`);const et=[{header:"ID",dataKey:"id"},{header:"First Name",dataKey:"first_name"},{header:"Last Name",dataKey:"last_name"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Address",dataKey:"address"},{header:"City",dataKey:"city"},{header:"State",dataKey:"state"},{header:"Zip Code",dataKey:"zip_code"},{header:"Role",dataKey:"role"},{header:"Created At",dataKey:"created_at"},{header:"Updated At",dataKey:"updated_at"}],Dt=[];for(const Mt of Ke)if(Mt)try{Dt.push({id:Mt.id,first_name:Mt.first_name||"",last_name:Mt.last_name||"",email:Mt.email||"No email",phone:Mt.phone||"N/A",address:Mt.address||"N/A",city:Mt.city||"N/A",state:Mt.state||"N/A",zip_code:Mt.zip_code||"N/A",role:Mt.role?Mt.role.charAt(0).toUpperCase()+Mt.role.slice(1):"Customer",created_at:Mt.created_at?new Date(Mt.created_at).toLocaleString():"N/A",updated_at:Mt.updated_at?new Date(Mt.updated_at).toLocaleString():"N/A"})}catch(Xt){console.error("Error formatting user data:",Xt,Mt)}console.log(`Formatted ${Dt.length} users for Excel export`),yield Mv(Dt,et,"users_export","Users",ve),I("Users exported to Excel successfully")}catch(et){console.error("Error exporting to Excel:",et),P(`Failed to export users to Excel: ${et.message||"Unknown error"}`)}finally{he(!1)}});return a.jsxs("div",{children:[a.jsx(Zd,{isOpen:X,onClose:K,onConfirm:G,title:V.title,message:V.message,confirmText:V.confirmText,cancelText:V.cancelText,confirmButtonClass:V.confirmButtonClass}),a.jsx(IM,{isOpen:m,onClose:()=>v(!1),onSave:Te,user:b}),a.jsx(DM,{isOpen:j,onClose:()=>L(!1),user:C}),a.jsx(fv,{progress:ne,isVisible:me,onComplete:()=>he(!1)}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Users"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:a.jsx("button",{onClick:q,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full sm:w-auto text-center",disabled:me,children:"Add New User"})})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 gap-4",children:[a.jsxs("div",{className:"w-full md:w-1/3",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Filter by Role"}),a.jsxs("select",{className:"w-full p-2 border border-gray-300 bg-white text-gray-900 rounded",value:g,onChange:He=>u(He.target.value),children:[a.jsx("option",{value:"all",children:"All Roles"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"customer",children:"Customer"})]})]}),a.jsxs("div",{className:"w-full md:w-1/2",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Search Users"}),a.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full p-2 border border-gray-300 bg-white text-gray-900 rounded placeholder-gray-400",value:c,onChange:He=>f(He.target.value)})]})]})}),r?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading users...",variant:"gear"})}):i?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-red-400 mb-4",children:i})}):Me.length===0?a.jsxs("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[a.jsx("p",{className:"text-xl text-midnight-300 mb-6",children:"No users found"}),a.jsx("button",{onClick:q,className:"bg-midnight-700 text-midnight-50 px-6 py-3 rounded font-semibold hover:bg-midnight-600",children:"Add New User"})]}):a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"select-all-users",checked:Le,onChange:ct,className:"h-4 w-4 text-blue-600 rounded border-gray-300 bg-white focus:ring-blue-500"}),a.jsx("label",{htmlFor:"select-all-users",className:"text-sm font-medium text-gray-700",children:"Select All"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",Ae.length," selected)"]})]}),a.jsx("div",{className:"flex space-x-2",children:Ae.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:it,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",disabled:me,children:"Delete Selected"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{className:"btn-primary px-3 py-1 text-sm flex items-center",onClick:()=>document.getElementById("exportSelectedUsersDropdown").classList.toggle("hidden"),disabled:me,children:[a.jsx("span",{children:"Export Selected"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),a.jsx("div",{id:"exportSelectedUsersDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-white rounded-md shadow-lg z-10",children:a.jsxs("div",{className:"py-1",children:[a.jsx("button",{onClick:()=>fe("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",disabled:me,children:"Export to PDF"}),a.jsx("button",{onClick:()=>fe("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",disabled:me,children:"Export to Excel"})]})})]})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[700px]",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10",children:a.jsx("span",{className:"sr-only",children:"Select"})}),a.jsx("th",{className:"text-left p-4 text-gray-700 min-w-[200px]",children:"Name"}),a.jsx("th",{className:"text-left p-4 text-gray-700 min-w-[200px]",children:"Email"}),a.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[100px]",children:"Role"}),a.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[100px]",children:"Status"}),a.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[120px]",children:"Actions"})]})}),a.jsx("tbody",{children:Oe.map(He=>a.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50",children:[a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{type:"checkbox",checked:Ae.includes(He.id),onChange:Ke=>Nt(He.id,Ke.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 bg-white focus:ring-blue-500"})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[He.first_name," ",He.last_name]}),a.jsx("p",{className:"text-sm text-gray-500",children:He.phone||"No phone"})]})}),a.jsx("td",{className:"p-4 text-gray-900",children:He.email}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${He.role==="admin"?"bg-emerald-600 text-emerald-100":"bg-slate-600 text-slate-100"}`,children:He.role})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${He.status==="active"?"bg-green-100 text-green-800":He.status==="blocked"?"bg-red-100 text-red-800":He.status==="suspended"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:He.status||"active"})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx("button",{onClick:()=>J(He),className:"text-green-600 hover:text-green-700",title:"View Customer Info",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),a.jsx("button",{onClick:()=>re(He),className:"text-blue-600 hover:text-blue-700",title:"Edit Customer",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),He.status==="active"?a.jsx("button",{onClick:()=>Ue(He.id,"blocked"),className:"text-red-600 hover:text-red-700",title:"Block User",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})})}):a.jsx("button",{onClick:()=>Ue(He.id,"active"),className:"text-green-600 hover:text-green-700",title:"Unblock User",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("button",{onClick:()=>le(He.id),className:"text-red-600 hover:text-red-700",title:"Delete Customer",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})})]},He.id))})]})}),a.jsx($2,{totalItems:Me.length,itemsPerPage:W,currentPage:z,onPageChange:ie,onItemsPerPageChange:H})]}),!r&&!i&&Me.length>0&&a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",ze+1," to ",Math.min(st,Me.length)," of ",Me.length," users"]})]})},MM=()=>{const{success:t,error:e}=Li(),[r,n]=ee.useState([]),[i,s]=ee.useState(!0),[c,f]=ee.useState({}),[g,u]=ee.useState(!1);ee.useEffect(()=>{m()},[]);const m=()=>we(null,null,function*(){var _,C,A,j;try{s(!0);const L=yield Xr.get("/admin/user-approval");n(L.data.data||[]),u(!1)}catch(L){console.error("Error fetching pending users:",L),(C=(_=L.response)==null?void 0:_.data)!=null&&C.migration_required?(u(!0),e("Database migration required. Please run the SQL script first.")):e(((j=(A=L.response)==null?void 0:A.data)==null?void 0:j.message)||"Failed to fetch pending users")}finally{s(!1)}}),v=(_,C,A="")=>we(null,null,function*(){var j,L;try{f(P=>er(kt({},P),{[_]:!0}));const I=yield Xr.post("/admin/user-approval",{user_id:_,action:C,reason:A});t(I.data.message),n(P=>P.filter(X=>X.id!==_))}catch(I){console.error(`Error ${C}ing user:`,I),e(((L=(j=I.response)==null?void 0:j.data)==null?void 0:L.message)||`Failed to ${C} user`)}finally{f(I=>er(kt({},I),{[_]:!1}))}}),b=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(fn,{size:"lg",text:"Loading pending users..."})}):a.jsx("div",{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Approval"}),a.jsxs("div",{className:"text-sm text-midnight-400",children:[r.length," pending approval",r.length!==1?"s":""]})]}),g?a.jsxs("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-8 text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-800 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h3",{className:"text-lg font-medium text-yellow-100 mb-2",children:"Database Migration Required"}),a.jsx("p",{className:"text-yellow-200 mb-4",children:"The user approval system requires database changes. Please run the SQL migration script in Supabase."}),a.jsxs("div",{className:"bg-midnight-800 rounded p-4 text-left",children:[a.jsx("p",{className:"text-sm font-medium text-midnight-200 mb-2",children:"Steps to fix:"}),a.jsxs("ol",{className:"text-sm text-midnight-300 space-y-1",children:[a.jsx("li",{children:"1. Go to Supabase Dashboard  SQL Editor"}),a.jsxs("li",{children:["2. Copy and paste the SQL from ",a.jsx("code",{children:"add-user-approval-system.sql"})]}),a.jsx("li",{children:'3. Click "Run" to execute the migration'}),a.jsx("li",{children:"4. Refresh this page"})]})]}),a.jsx("button",{onClick:m,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-midnight-50 bg-midnight-600 hover:bg-midnight-500",children:"Retry After Migration"})]}):r.length===0?a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 shadow rounded-lg p-8 text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-800 mb-4",children:a.jsx("svg",{className:"h-6 w-6 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-lg font-medium text-midnight-100 mb-2",children:"All Caught Up!"}),a.jsx("p",{className:"text-midnight-400",children:"No users are currently pending approval."})]}):a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-midnight-700",children:r.map(_=>{var C,A;return a.jsx("li",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-10 w-10 rounded-full bg-midnight-600 flex items-center justify-center",children:a.jsxs("span",{className:"text-sm font-medium text-midnight-200",children:[(C=_.first_name)==null?void 0:C[0],(A=_.last_name)==null?void 0:A[0]]})})}),a.jsxs("div",{className:"ml-4 flex-1",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("p",{className:"text-sm font-medium text-midnight-100",children:[_.first_name," ",_.last_name]}),a.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-800 text-yellow-200",children:"Pending"})]}),a.jsx("p",{className:"text-sm text-midnight-400",children:_.email}),_.phone&&a.jsxs("p",{className:"text-sm text-midnight-400",children:[" ",_.phone]}),_.address&&a.jsxs("p",{className:"text-sm text-midnight-400",children:[" ",_.address]}),a.jsxs("p",{className:"text-xs text-midnight-500 mt-1",children:["Registered: ",b(_.created_at)]})]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>v(_.id,"approve"),disabled:c[_.id],className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:c[_.id]?a.jsx(fn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Approve"]})}),a.jsx("button",{onClick:()=>v(_.id,"reject","Account rejected by admin"),disabled:c[_.id],className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:c[_.id]?a.jsx(fn,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Reject"]})})]})]})},_.id)})})})]})})},h3=()=>{const{id:t}=$d(),e=Ps(),[r]=kf(),n=!!t,{success:i,error:s}=Li(),{user:c}=Ta(),f=r.get("part_number")||"",[g,u]=ee.useState({name:"",description:"",price:"",category_id:"",condition_status:"New",quantity:"",image_url:"",part_number:f,barcode:f,warehouse_id:(c==null?void 0:c.warehouse_id)||""}),[m,v]=ee.useState([]),[b,_]=ee.useState(!1),[C,A]=ee.useState(null),[j,L]=ee.useState(null),[I,P]=ee.useState(""),[X,Y]=ee.useState(!1),K=ee.useRef(null);ee.useEffect(()=>{we(null,null,function*(){try{const H=yield G2();v(H),H.length>0&&!n&&u(ne=>er(kt({},ne),{category_id:H[0].id}))}catch(H){console.error("Error fetching categories:",H)}})},[n]),ee.useEffect(()=>{we(null,null,function*(){if(n){_(!0);try{const H=yield V2(t);u({name:H.name,description:H.description,price:H.price,category_id:H.category_id?String(H.category_id):"",condition_status:H.condition_status,quantity:H.quantity,image_url:H.image_url||"",part_number:H.part_number||"",barcode:H.barcode||""}),H.image_url&&P(H.image_url)}catch(H){A(H.message||"Failed to load product")}finally{_(!1)}}})},[t,n]),ee.useEffect(()=>{g.image_url&&(P(g.image_url),console.log("Setting image preview from URL:",g.image_url))},[g.image_url]),ee.useEffect(()=>{n&&g.image_url&&console.log("Edit mode active, image URL:",g.image_url)},[n,g.image_url]);const G=W=>{const{name:H,value:ne}=W.target;u(ve=>er(kt({},ve),{[H]:ne}))},V=W=>{const H=W.target.files[0];if(!H)return;if(!["image/jpeg","image/png","image/gif","image/jpg"].includes(H.type)){s("Invalid file type. Please upload a JPG, PNG, or GIF image.");return}if(H.size>5*1024*1024){s("File size too large. Maximum size is 5MB.");return}L(H);const ve=new FileReader;ve.onloadend=()=>{P(ve.result)},ve.readAsDataURL(H)},z=()=>we(null,null,function*(){if(!j){s("Please select an image to upload.");return}Y(!0);try{const W=yield b6(j);if(console.log("Upload response:",W),W){const H=W;console.log("Setting image URL to:",H),u(ve=>er(kt({},ve),{image_url:H})),P(H),i("Image uploaded successfully.");const ne=JSON.parse(localStorage.getItem("uploadHistory")||"[]");ne.push({timestamp:new Date().toISOString(),url:H,productId:t||"new"}),localStorage.setItem("uploadHistory",JSON.stringify(ne))}else throw new Error("No file URL received from server");L(null),K.current&&(K.current.value="")}catch(W){console.error("Upload error:",W),s(W.message||"Failed to upload image.")}finally{Y(!1)}}),ie=W=>we(null,null,function*(){W.preventDefault(),_(!0),A(null);try{console.log("Submitting product data:",g);let H=g.image_url;H?console.log("Using image URL:",H):console.log("No image URL provided");const ne=er(kt({},g),{price:parseFloat(g.price),quantity:parseInt(g.quantity),image_url:H,part_number:g.part_number||null,barcode:g.barcode||null});if(console.log("Final product data for submission:",ne),n){const me=yield _6(kt({id:t},ne));console.log("Product update response:",me),i("Product updated successfully")}else{const me=yield sv(ne);console.log("Product creation response:",me),i("Product created successfully")}const ve=JSON.parse(localStorage.getItem("productHistory")||"[]");ve.push({timestamp:new Date().toISOString(),action:n?"update":"create",productId:t||"new",imageUrl:ne.image_url}),localStorage.setItem("productHistory",JSON.stringify(ve)),e("/admin/products")}catch(H){console.error("Product submission error:",H);const ne=H.message||`Failed to ${n?"update":"create"} product`;A(ne),s(ne)}finally{_(!1)}});return a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(Zt,{to:"/admin/products",className:"text-blue-600 hover:underline flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Products"]})}),a.jsx("h1",{className:"text-3xl font-bold mb-6",children:n?"Edit Product":"Add New Product"}),C&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:C}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("form",{onSubmit:ie,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Product Name"}),a.jsx("input",{type:"text",name:"name",value:g.name,onChange:G,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Category"}),a.jsxs("select",{name:"category_id",value:g.category_id,onChange:G,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},required:!0,children:[a.jsx("option",{value:"",children:"Select Category"}),m.map(W=>a.jsx("option",{value:String(W.id),children:W.name},W.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Part Number"}),a.jsx("input",{type:"text",name:"part_number",value:g.part_number,onChange:G,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},placeholder:"e.g., YAM-RD350-001"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used to auto-generate barcode if not provided"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Barcode"}),a.jsx("input",{type:"text",name:"barcode",value:g.barcode,onChange:G,className:"w-full p-2 border rounded bg-gray-100",placeholder:"Auto-generated from part number",readOnly:n&&!!g.barcode}),n&&g.barcode&&a.jsxs("div",{className:"mt-2 p-3 bg-white border rounded-lg",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Barcode Preview:"}),a.jsx(Gf,{barcode:g.barcode,width:1.5,height:35}),a.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" Barcode: ",g.barcode]})]}),!g.barcode&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will be auto-generated when product is saved"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:g.description,onChange:G,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},rows:"4"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Price ($)"}),a.jsx("input",{type:"number",name:"price",value:g.price,onChange:G,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},step:"0.01",min:"0",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Quantity"}),a.jsx("input",{type:"number",name:"quantity",value:g.quantity,onChange:G,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},min:"0",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Condition"}),a.jsxs("select",{name:"condition_status",value:g.condition_status,onChange:G,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},required:!0,children:[a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Used - Like New",children:"Used - Like New"}),a.jsx("option",{value:"Used - Good",children:"Used - Good"}),a.jsx("option",{value:"Used - Fair",children:"Used - Fair"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-lg font-semibold",children:"Product Image"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{style:{border:"2px dashed #3b82f6",borderRadius:"8px",padding:"16px",backgroundColor:"#eff6ff",marginBottom:"16px"},children:[a.jsx("label",{style:{display:"block",color:"#374151",marginBottom:"12px",fontWeight:"500",fontSize:"18px"},children:" Upload Image from Computer"}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/jpg",onChange:V,ref:K,id:"file-input",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",marginBottom:"12px"}}),a.jsx("button",{type:"button",onClick:()=>{var W;return(W=K.current)==null?void 0:W.click()},style:{width:"100%",backgroundColor:"#2563eb",color:"white",padding:"12px 16px",borderRadius:"8px",border:"none",fontWeight:"500",cursor:"pointer",marginBottom:"12px"},children:" Browse Files (Alternative)"})]}),j&&a.jsxs("div",{style:{backgroundColor:"white",padding:"8px",borderRadius:"4px",border:"1px solid #d1d5db",marginBottom:"12px"},children:[a.jsxs("p",{style:{fontSize:"14px",color:"#374151",margin:0},children:[a.jsx("strong",{children:"Selected:"})," ",j.name]}),a.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},children:["Size: ",(j.size/1024/1024).toFixed(2)," MB"]})]}),a.jsx("button",{type:"button",onClick:z,disabled:!j||X,style:{width:"100%",backgroundColor:j&&!X?"#16a34a":"#9ca3af",color:"white",padding:"12px 16px",borderRadius:"8px",border:"none",fontWeight:"500",cursor:j&&!X?"pointer":"not-allowed"},children:X?" Uploading...":" Upload to Server"}),a.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",marginTop:"12px",backgroundColor:"white",padding:"8px",borderRadius:"4px",margin:"12px 0 0 0"},children:[" ",a.jsx("strong",{children:"Supported formats:"})," JPG, JPEG, PNG, GIF",a.jsx("br",{})," ",a.jsx("strong",{children:"Maximum size:"})," 5MB"]})]}),a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:" Or Enter Image URL"}),a.jsx("input",{type:"text",name:"image_url",value:g.image_url,onChange:G,className:"w-full p-2 border rounded",placeholder:"https://example.com/image.jpg"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter a direct URL to an image file"})]})]}),a.jsx("div",{children:I?a.jsxs("div",{className:"border-2 border-green-300 rounded-lg p-4 bg-green-50",children:[a.jsx("p",{className:"text-sm font-semibold mb-2 text-green-800",children:" Image Preview:"}),a.jsx("div",{className:"w-full h-48 bg-white border rounded overflow-hidden",children:a.jsx(_0,{src:Ru(I),alt:"Product preview",className:"object-contain w-full h-full",placeholderText:"Image Loading..."})}),a.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Image loaded successfully"})]}):a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 flex items-center justify-center h-48 bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("p",{className:"text-gray-500 font-medium",children:"No image preview"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Upload an image or enter a URL to see preview"})]})})})]})]}),a.jsxs("div",{className:"flex justify-end",children:[a.jsx(Zt,{to:"/admin/products",className:"bg-gray-300 text-gray-800 px-6 py-2 rounded mr-2 hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-800 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",disabled:b,children:b?a.jsx(rc,{text:"Saving...",variant:"gear",size:"sm"}):n?"Update Product":"Create Product"})]})]})})]})},UM=()=>{const{id:t}=$d(),e=Ps(),{success:r,error:n}=Li(),{isOpen:i,confirm:s,handleClose:c,handleConfirm:f,dialogProps:g}=Jd(),u=ee.useRef(null),[m,v]=ee.useState(null),[b,_]=ee.useState(!0),[C,A]=ee.useState(null),[j,L]=ee.useState(!1);ee.useEffect(()=>{we(null,null,function*(){_(!0);try{const W=yield V2(t);v(W)}catch(W){console.error("Error fetching product:",W),A(W.message||"Failed to load product")}finally{_(!1)}})},[t]);const I=()=>we(null,null,function*(){if(m!=null&&m.part_number)try{yield navigator.clipboard.writeText(m.part_number),r("Part number copied to clipboard!")}catch(ie){n("Failed to copy part number")}}),P=()=>we(null,null,function*(){if(u.current)try{const ie=u.current.getSvgElement();ie&&(yield SE(ie,m.part_number),r("Barcode image copied to clipboard!"))}catch(ie){console.error("Copy image error:",ie),n("Failed to copy barcode image. Right-click the barcode to copy manually.")}}),X=()=>we(null,null,function*(){if(u.current)try{const ie=u.current.getSvgElement();ie&&(yield NE(ie,`barcode-${m.part_number}`,m.part_number),r("Barcode downloaded!"))}catch(ie){n("Failed to download barcode")}}),Y=()=>{if(!u.current)return;const ie=u.current.getSvgElement();ie&&AE({svgElement:ie,productName:m.name,partNumber:m.part_number,price:m.price,showPrice:!0})},K=()=>we(null,null,function*(){const ie=`${window.location.origin}/products/${m.id}`;try{yield navigator.clipboard.writeText(ie),r("Product link copied to clipboard!"),L(!1)}catch(W){n("Failed to copy link")}}),G=()=>{const ie=`${window.location.origin}/products/${m.id}`,W=`Check out this product: ${m.name}
Price: $${parseFloat(m.price).toFixed(2)}
Part Number: ${m.part_number||"N/A"}

${ie}`,H=`https://wa.me/?text=${encodeURIComponent(W)}`;window.open(H,"_blank"),L(!1)},V=()=>we(null,null,function*(){const ie=`${window.location.origin}/products/${m.id}`;if(navigator.share)try{yield navigator.share({title:m.name,text:`Check out ${m.name} - $${parseFloat(m.price).toFixed(2)}`,url:ie}),L(!1)}catch(W){W.name!=="AbortError"&&n("Failed to share")}else K()}),z=()=>we(null,null,function*(){try{yield s({title:"Delete Product",message:`Are you sure you want to delete "${m.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),yield u2(m.id),r("Product deleted successfully"),e("/admin/products")}catch(ie){}});return b?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading product details...",variant:"gear"})}):C?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-400 mb-4",children:C}),a.jsx(Zt,{to:"/admin/products",className:"text-blue-400 hover:underline",children:"Back to Products"})]}):m?a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx(Zd,{isOpen:i,onClose:c,onConfirm:f,title:g.title,message:g.message,confirmText:g.confirmText,cancelText:g.cancelText,confirmButtonClass:g.confirmButtonClass}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs(Zt,{to:"/admin/products",className:"text-blue-400 hover:text-blue-300 flex items-center mr-4",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Product Details"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>L(!j),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"Share"]}),j&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-midnight-800 border border-midnight-600 rounded-lg shadow-lg z-20",children:[a.jsxs("button",{onClick:G,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center rounded-t-lg",children:[a.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),a.jsxs("button",{onClick:K,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z"})}),"Copy Link"]}),navigator.share&&a.jsxs("button",{onClick:V,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center rounded-b-lg",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"More Options..."]})]})]}),a.jsxs(Zt,{to:`/admin/products/edit/${m.id}`,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit"]}),a.jsxs("button",{onClick:z,className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]}),a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[a.jsx("div",{className:"bg-midnight-800 rounded-lg overflow-hidden",children:a.jsx("div",{className:"h-64 lg:h-80",children:a.jsx(_0,{src:Ru(m.image_url),alt:m.name,className:"w-full h-full object-contain",placeholderText:"No Image Available"})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:m.name}),a.jsx("p",{className:"text-gray-400",children:m.category_name||"Uncategorized"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Price"}),a.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",parseFloat(m.price).toFixed(2)]})]}),a.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Stock"}),a.jsx("p",{className:`text-2xl font-bold ${m.quantity>0?"text-green-400":"text-red-400"}`,children:m.quantity})]})]}),a.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Condition"}),a.jsx("span",{className:"inline-block bg-blue-600 text-white px-3 py-1 rounded-full text-sm",children:m.condition_status})]}),m.description&&a.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Description"}),a.jsx("p",{className:"text-white",children:m.description})]}),m.part_number&&a.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Part Number"}),a.jsx("p",{className:"text-white font-mono text-lg",children:m.part_number})]})]})]}),a.jsxs("div",{className:"border-t border-midnight-700 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Barcode"}),m.part_number?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:a.jsx(Gf,{ref:u,barcode:m.part_number,size:"large",showPartNumber:!0,partNumber:m.part_number})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:I,className:"flex items-center bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",title:"Copy barcode number",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),a.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),"Copy Number"]}),a.jsxs("button",{onClick:P,className:"flex items-center bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors",title:"Copy barcode as image",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Copy Image"]}),a.jsxs("button",{onClick:X,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",title:"Download barcode as PNG",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PNG"]}),a.jsxs("button",{onClick:Y,className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",title:"Print barcode label",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Label"]})]})]}):a.jsxs("div",{className:"bg-midnight-800 p-6 rounded-lg text-center",children:[a.jsx("p",{className:"text-gray-400 mb-2",children:"No barcode assigned"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Add a part number to the product to generate a barcode"}),a.jsx(Zt,{to:`/admin/products/edit/${m.id}`,className:"inline-block mt-4 text-blue-400 hover:text-blue-300",children:"Edit product to add part number "})]})]}),a.jsx("div",{className:"border-t border-midnight-700 p-6 bg-midnight-800",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Product ID"}),a.jsx("p",{className:"text-white font-mono",children:m.id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Category ID"}),a.jsx("p",{className:"text-white font-mono",children:m.category_id||"None"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Created"}),a.jsx("p",{className:"text-white",children:m.created_at?new Date(m.created_at).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Updated"}),a.jsx("p",{className:"text-white",children:m.updated_at?new Date(m.updated_at).toLocaleDateString():"N/A"})]})]})})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-xl text-white mb-4",children:"Product not found"}),a.jsx(Zt,{to:"/admin/products",className:"text-blue-400 hover:underline",children:"Back to Products"})]})},zM=()=>{const{success:t,error:e}=Li(),r=ee.useRef(null),[n,i]=ee.useState(""),[s,c]=ee.useState(""),[f,g]=ee.useState("medium"),[u,m]=ee.useState(2),[v,b]=ee.useState(!1),[_,C]=ee.useState(""),[A,j]=ee.useState(""),L=()=>{if(!n.trim()){e("Please enter a barcode value");return}c(n.trim()),t("Barcode generated!")},I=()=>we(null,null,function*(){if(s)try{yield navigator.clipboard.writeText(s),t("Barcode number copied to clipboard!")}catch(z){e("Failed to copy barcode number")}}),P=()=>we(null,null,function*(){if(r.current)try{const z=r.current.getSvgElement();z&&(yield SE(z,s),t("Barcode image copied to clipboard!"))}catch(z){console.error("Copy image error:",z),e("Failed to copy barcode image. Right-click the barcode to copy manually.")}}),X=()=>we(null,null,function*(){if(r.current)try{const z=r.current.getSvgElement();z&&(yield NE(z,`barcode-${s}`,s),t("Barcode PNG downloaded!"))}catch(z){e("Failed to download barcode")}}),Y=()=>{if(!r.current)return;const z=r.current.getSvgElement();z&&AE({svgElement:z,productName:v?_:"",partNumber:s,price:v?A:"",showPrice:v&&A})},K=()=>{i(""),c(""),C(""),j(""),m(2)},V=(z=>{const ie={1:{width:1.2,height:35,label:"XS"},2:{width:1.8,height:50,label:"S"},3:{width:2.2,height:65,label:"M"},4:{width:2.8,height:80,label:"L"},5:{width:3.5,height:100,label:"XL"}};return ie[z]||ie[3]})(u);return a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsxs(Zt,{to:"/admin/products",className:"text-blue-400 hover:text-blue-300 flex items-center mr-4",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Barcode Generator"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Generate Barcode"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Barcode Value / Part Number *"}),a.jsx("input",{type:"text",value:n,onChange:z=>i(z.target.value),onKeyPress:z=>z.key==="Enter"&&L(),placeholder:"Enter part number or any text...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-blue-500",style:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#000",background:"#e2e8f0"}})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Barcode Size"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>m(Math.max(1,u-1)),disabled:u<=1,className:`w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center ${u<=1?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:""}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("span",{className:"text-white font-semibold text-lg",children:V.label}),a.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Level ",u,"/5)"]})]}),a.jsx("button",{onClick:()=>m(Math.min(5,u+1)),disabled:u>=5,className:`w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center ${u>=5?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:"+"})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:z=>b(z.target.checked),className:"mr-2 w-4 h-4"}),a.jsx("span",{className:"text-gray-400 text-sm",children:"Include product info for printing"})]})}),v&&a.jsxs("div",{className:"space-y-4 mb-4 p-4 bg-midnight-800 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Product Name (optional)"}),a.jsx("input",{type:"text",value:_,onChange:z=>C(z.target.value),placeholder:"Enter product name...",className:"w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500",style:{backgroundColor:"#e2e8f0",borderColor:"#334155",color:"#000"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Price (optional)"}),a.jsx("input",{type:"number",step:"0.01",value:A,onChange:z=>j(z.target.value),placeholder:"0.00",className:"w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500",style:{backgroundColor:"#e2e8f0",borderColor:"#334155",color:"#000"}})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:L,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Generate Barcode"}),a.jsx("button",{onClick:K,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Clear"})]})]}),a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Barcode Preview"}),s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white p-8 rounded-lg flex justify-center",children:a.jsxs("div",{className:"text-center",children:[v&&_&&a.jsx("div",{className:"font-bold text-gray-800 mb-2",children:_}),a.jsx(Gf,{ref:r,barcode:s,width:V.width,height:V.height,showPartNumber:!0,partNumber:s}),v&&A&&a.jsxs("div",{className:"font-bold text-gray-800 text-xl mt-2",children:["$",parseFloat(A).toFixed(2)]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:I,className:"flex items-center justify-center bg-gray-600 text-white px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),a.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),"Copy Number"]}),a.jsxs("button",{onClick:P,className:"flex items-center justify-center bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Copy Image"]}),a.jsxs("button",{onClick:X,className:"flex items-center justify-center bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PNG"]}),a.jsxs("button",{onClick:Y,className:"flex items-center justify-center bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Label"]})]}),a.jsx("div",{className:"bg-midnight-800 p-4 rounded-lg",children:a.jsxs("p",{className:"text-gray-400 text-sm",children:[a.jsx("strong",{className:"text-white",children:"Tip:"}),' For barcode printers, click "Print Label" and select your barcode printer. Adjust print settings as needed for label size.']})})]}):a.jsxs("div",{className:"bg-midnight-800 p-12 rounded-lg text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),a.jsx("p",{className:"text-gray-400 mb-2",children:"No barcode generated yet"}),a.jsx("p",{className:"text-gray-500 text-sm",children:'Enter a part number or text and click "Generate Barcode"'})]})]})]})]})},HM=()=>localStorage.getItem("token"),ih=(r,...n)=>we(null,[r,...n],function*(t,e={}){const i=HM(),s=kt({headers:kt(kt({"Content-Type":"application/json"},i&&{Authorization:`Bearer ${i}`}),e.headers)},e);try{const c=yield fetch(`${nv}${t}`,s);if(!c.ok){const f=yield c.json().catch(()=>({}));throw new Error(f.message||`HTTP error! status: ${c.status}`)}return yield c.json()}catch(c){throw console.error(`API request failed for ${t}:`,c),c}}),qx=(t=30,e=null,r=null)=>we(null,null,function*(){try{let n="/analytics/financial?type=overview";e&&r?(console.log(` Fetching financial overview from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching financial overview for ${t} days`),n+=`&period=${t}`);const i=yield ih(n);if(i.success)return i.data;throw new Error(i.message||"Failed to fetch financial overview")}catch(n){throw console.error("Error fetching financial overview:",n),n}}),qM=(t=30,e=null,r=null)=>we(null,null,function*(){try{let n="/analytics/financial?type=revenue";e&&r?(console.log(` Fetching revenue analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching revenue analytics for ${t} days`),n+=`&period=${t}`);const i=yield ih(n);if(i.success)return i.data;throw new Error(i.message||"Failed to fetch revenue analytics")}catch(n){throw console.error("Error fetching revenue analytics:",n),n}}),TE=(t=30,e=null,r=null)=>we(null,null,function*(){try{let n="/analytics/financial?type=orders";e&&r?(console.log(` Fetching order analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching order analytics for ${t} days`),n+=`&period=${t}`);const i=yield ih(n);if(i.success)return i.data;throw new Error(i.message||"Failed to fetch order analytics")}catch(n){throw console.error("Error fetching order analytics:",n),n}}),WM=(t=30,e=null,r=null)=>we(null,null,function*(){try{let n="/analytics/financial?type=products";e&&r?(console.log(` Fetching product analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching product analytics for ${t} days`),n+=`&period=${t}`);const i=yield ih(n);if(i.success)return i.data;throw new Error(i.message||"Failed to fetch product analytics")}catch(n){throw console.error("Error fetching product analytics:",n),n}}),jE=(t=30,e=null,r=null)=>we(null,null,function*(){try{let n="/analytics/financial?type=customers";e&&r?(console.log(` Fetching customer analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching customer analytics for ${t} days`),n+=`&period=${t}`);const i=yield ih(n);if(i.success)return i.data;throw new Error(i.message||"Failed to fetch customer analytics")}catch(n){throw console.error("Error fetching customer analytics:",n),n}}),f3=(t=30,e="json",r=null,n=null)=>we(null,null,function*(){try{let i="/analytics/financial?type=export";r&&n?(console.log(` Exporting financial data from ${r} to ${n} in ${e} format`),i+=`&startDate=${r}&endDate=${n}`):(console.log(` Exporting financial data for ${t} days in ${e} format`),i+=`&period=${t}`);const s=yield ih(i);if(s.success)return e==="csv"?VM(s.data,s.summary):s;throw new Error(s.message||"Failed to export financial data")}catch(i){throw console.error("Error exporting financial data:",i),i}}),VM=(t,e)=>{var c,f;if(!t||t.length===0)return`No data available for the selected period.

Please check:
1. Date range is correct
2. Orders exist in the selected period
3. Database connection is working`;console.log(` Converting ${t.length} rows to CSV format`);const r=Object.keys(t[0]).map(g=>g.replace(/_/g," ").toUpperCase()).join(","),n=t.map(g=>Object.values(g).map(u=>{if(u==null)return"";const m=String(u);return m.includes(",")||m.includes('"')||m.includes(`
`)?`"${m.replace(/"/g,'""')}"`:m}).join(",")),i=["","=== FINANCIAL REPORT SUMMARY ===",`Total Orders,${(e==null?void 0:e.totalOrders)||0}`,`Total Items Sold,${(e==null?void 0:e.totalItems)||0}`,`Total Revenue,$${((e==null?void 0:e.totalRevenue)||0).toFixed(2)}`,`Average Order Value,$${((e==null?void 0:e.averageOrderValue)||0).toFixed(2)}`,`Date Range,${((c=e==null?void 0:e.dateRange)==null?void 0:c.startDate)||""} to ${((f=e==null?void 0:e.dateRange)==null?void 0:f.endDate)||""}`,`Exported Rows,${(e==null?void 0:e.exportedRows)||t.length}`,`Report Generated,${new Date().toLocaleString()}`,"Generated By,Sardaarji Auto Parts Analytics System"],s=[r,...n,...i].join(`
`);return console.log(` CSV generated successfully with ${n.length} data rows and ${i.length} summary rows`),s},GM=(t,e="financial_report.csv")=>{const r=new Blob([t],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(n.download!==void 0){const i=URL.createObjectURL(r);n.setAttribute("href",i),n.setAttribute("download",e),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},$M=(t=30)=>we(null,null,function*(){try{const[e,r,n]=yield Promise.all([qx(t),TE(t),jE(t)]);return{totalRevenue:e.revenue.total,completedRevenue:e.revenue.completed,pendingRevenue:e.revenue.pending,averageOrderValue:e.revenue.averageOrderValue,totalOrders:e.orders.total,completedOrders:e.orders.completed,pendingOrders:e.orders.pending,conversionRate:e.orders.total>0?e.orders.completed/e.orders.total*100:0,totalCustomers:n.metrics.totalCustomers,averageCustomerValue:n.metrics.averageCustomerValue,averageFulfillmentTime:r.fulfillmentMetrics.averageFulfillmentTime}}catch(e){throw console.error("Error fetching KPIs:",e),e}}),Ca=(t,e="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0),XM=(t,e=1)=>`${(t||0).toFixed(e)}%`,Ks=t=>new Intl.NumberFormat("en-US").format(t||0),YM=()=>[{value:7,label:"Last 7 days"},{value:30,label:"Last 30 days"},{value:90,label:"Last 3 months"},{value:180,label:"Last 6 months"},{value:365,label:"Last year"}],KM=()=>{const[t,e]=ee.useState("overview"),[r,n]=ee.useState(30),[i,s]=ee.useState({startDate:"",endDate:"",enabled:!1}),[c,f]=ee.useState(!0),[g,u]=ee.useState({}),[m,v]=ee.useState(null),{success:b,error:_}=Li(),C=YM();ee.useEffect(()=>{A()},[r,t,i]);const A=()=>we(null,null,function*(){f(!0),v(null);try{let I={};const P=i.enabled&&i.startDate&&i.endDate?{startDate:i.startDate,endDate:i.endDate}:{period:r};switch(t){case"overview":I=yield qx(P.period,P.startDate,P.endDate);break;case"revenue":I=yield qM(P.period,P.startDate,P.endDate);break;case"orders":I=yield TE(P.period,P.startDate,P.endDate);break;case"products":I=yield WM(P.period,P.startDate,P.endDate);break;case"customers":I=yield jE(P.period,P.startDate,P.endDate);break;default:I=yield qx(P.period,P.startDate,P.endDate)}u(I)}catch(I){v(I.message),_("Failed to load analytics data: "+I.message)}finally{f(!1)}}),j=()=>we(null,null,function*(){try{let I,P;i.enabled&&i.startDate&&i.endDate?(I=yield f3(null,"csv",i.startDate,i.endDate),P=`financial_report_${i.startDate}_to_${i.endDate}.csv`):(I=yield f3(r,"csv"),P=`financial_report_${r}days_${new Date().toISOString().split("T")[0]}.csv`),GM(I,P),b("Financial report exported successfully")}catch(I){_("Failed to export data: "+I.message)}}),L=[{id:"overview",label:"Overview",icon:""},{id:"revenue",label:"Revenue",icon:""},{id:"orders",label:"Orders",icon:""},{id:"products",label:"Products",icon:""},{id:"customers",label:"Customers",icon:""}];return c?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading financial analytics...",variant:"gear"})}):m?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 max-w-md mx-auto",children:[a.jsx("h3",{className:"text-red-100 font-semibold mb-2",children:"Analytics Error"}),a.jsx("p",{className:"text-red-200 mb-4",children:m}),a.jsx("button",{onClick:A,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Financial Analytics"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"customDateRange",checked:i.enabled,onChange:I=>s(P=>er(kt({},P),{enabled:I.target.checked,startDate:I.target.checked?P.startDate:"",endDate:I.target.checked?P.endDate:""})),className:"rounded border-midnight-600 bg-midnight-800 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"customDateRange",className:"text-white text-sm",children:"Custom Date Range"})]}),!i.enabled&&a.jsx("select",{value:r,onChange:I=>n(parseInt(I.target.value)),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:C.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))}),i.enabled&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-white text-sm",children:"From:"}),a.jsx("input",{type:"date",value:i.startDate,onChange:I=>s(P=>er(kt({},P),{startDate:I.target.value})),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-white text-sm",children:"To:"}),a.jsx("input",{type:"date",value:i.endDate,onChange:I=>s(P=>er(kt({},P),{endDate:I.target.value})),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500"})]})]}),a.jsxs("button",{onClick:j,disabled:i.enabled&&(!i.startDate||!i.endDate),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]}),a.jsx("div",{className:"border-b border-midnight-700",children:a.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:L.map(I=>a.jsxs("button",{onClick:()=>e(I.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===I.id?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:[a.jsx("span",{children:I.icon}),a.jsx("span",{children:I.label})]},I.id))})}),a.jsxs("div",{className:"mt-6",children:[t==="overview"&&a.jsx(ZM,{data:g}),t==="revenue"&&a.jsx(JM,{data:g}),t==="orders"&&a.jsx(QM,{data:g}),t==="products"&&a.jsx(eU,{data:g}),t==="customers"&&a.jsx(tU,{data:g})]})]})},ZM=({data:t})=>{var e;return t.revenue?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Xo,{title:"Total Revenue",value:Ca(t.revenue.total),icon:"",color:"green"}),a.jsx(Xo,{title:"Completed Revenue",value:Ca(t.revenue.completed),icon:"",color:"blue"}),a.jsx(Xo,{title:"Pending Revenue",value:Ca(t.revenue.pending),icon:"",color:"yellow"}),a.jsx(Xo,{title:"Avg Order Value",value:Ca(t.revenue.averageOrderValue),icon:"",color:"emerald"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Xo,{title:"Total Orders",value:Ks(t.orders.total),icon:"",color:"indigo"}),a.jsx(Xo,{title:"Completed Orders",value:Ks(t.orders.completed),icon:"",color:"green"}),a.jsx(Xo,{title:"Pending Orders",value:Ks(t.orders.pending),icon:"",color:"orange"})]}),((e=t.trends)==null?void 0:e.revenueByPaymentMethod)&&a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue by Payment Method"}),a.jsx("div",{className:"space-y-3",children:Object.entries(t.trends.revenueByPaymentMethod).map(([r,n])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300 capitalize",children:r.replace("_"," ")}),a.jsx("span",{className:"text-white font-semibold",children:Ca(n)})]},r))})]})]}):a.jsx("div",{className:"text-gray-400",children:"No overview data available"})},JM=({data:t})=>t.monthlyRevenue?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Monthly Revenue Breakdown"}),a.jsx("div",{className:"space-y-4",children:Object.entries(t.monthlyRevenue).map(([e,r])=>a.jsxs("div",{className:"border-b border-midnight-700 pb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-300 font-medium",children:e}),a.jsx("span",{className:"text-white font-semibold",children:Ca(r.total)})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Completed: "}),a.jsx("span",{className:"text-green-400",children:Ca(r.completed)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Pending: "}),a.jsx("span",{className:"text-yellow-400",children:Ca(r.pending)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-400",children:"Orders: "}),a.jsx("span",{className:"text-blue-400",children:r.orders})]})]})]},e))})]}),t.revenueGrowth&&t.revenueGrowth.length>0&&a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Growth"}),a.jsx("div",{className:"space-y-3",children:t.revenueGrowth.map(({month:e,growth:r})=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300",children:e}),a.jsxs("span",{className:`font-semibold ${parseFloat(r)>=0?"text-green-400":"text-red-400"}`,children:[parseFloat(r)>=0?"+":"",r,"%"]})]},e))})]})]}):a.jsx("div",{className:"text-gray-400",children:"No revenue data available"}),QM=({data:t})=>t.statusDistribution?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Status Distribution"}),a.jsx("div",{className:"space-y-4",children:Object.entries(t.statusDistribution).map(([e,r])=>a.jsx("div",{className:"border-b border-midnight-700 pb-3",children:a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-gray-300 capitalize font-medium",children:e.replace("_"," ")}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-white font-semibold",children:[r.count," orders"]}),a.jsx("div",{className:"text-gray-400 text-sm",children:Ca(r.revenue)})]})]})},e))})]}),t.fulfillmentMetrics&&a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Fulfillment Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Xo,{title:"Avg Fulfillment Time",value:`${t.fulfillmentMetrics.averageFulfillmentTime} days`,icon:"",color:"blue"}),a.jsx(Xo,{title:"Fulfilled Orders",value:Ks(t.fulfillmentMetrics.totalFulfilledOrders),icon:"",color:"green"})]})]})]}):a.jsx("div",{className:"text-gray-400",children:"No order data available"}),eU=({data:t})=>(console.log("ProductsTab data:",t),t?t.topProducts?t.topProducts.length===0?a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Selling Products"}),a.jsxs("div",{className:"text-gray-400 text-center py-8",children:[a.jsx("p",{children:"No products sold in the selected time period."}),a.jsx("p",{className:"text-sm mt-2",children:"Try selecting a longer date range or check if orders contain product items."})]})]})}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Selling Products"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-midnight-700",children:[a.jsx("th",{className:"text-left py-2 text-gray-300",children:"Product"}),a.jsx("th",{className:"text-left py-2 text-gray-300",children:"Category"}),a.jsx("th",{className:"text-right py-2 text-gray-300",children:"Quantity Sold"}),a.jsx("th",{className:"text-right py-2 text-gray-300",children:"Revenue"}),a.jsx("th",{className:"text-right py-2 text-gray-300",children:"Orders"})]})}),a.jsx("tbody",{children:t.topProducts.map((e,r)=>a.jsxs("tr",{className:"border-b border-midnight-800",children:[a.jsx("td",{className:"py-3 text-white",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"bg-midnight-700 text-midnight-200 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3",children:r+1}),e.name]})}),a.jsx("td",{className:"py-3 text-gray-300",children:e.category}),a.jsx("td",{className:"py-3 text-right text-white",children:Ks(e.totalQuantity)}),a.jsx("td",{className:"py-3 text-right text-white",children:Ca(e.totalRevenue)}),a.jsx("td",{className:"py-3 text-right text-white",children:Ks(e.orderCount)})]},e.id))})]})})]})}):a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Product Analytics"}),a.jsxs("div",{className:"text-gray-400 text-center py-8",children:[a.jsx("p",{children:"No product sales data available for the selected period."}),a.jsx("p",{className:"text-sm mt-2",children:"This could mean:"}),a.jsxs("ul",{className:"text-sm mt-2 space-y-1",children:[a.jsx("li",{children:" No orders have been placed yet"}),a.jsx("li",{children:" No order items exist in the database"}),a.jsx("li",{children:" The selected date range has no sales"})]})]})]})}):a.jsx("div",{className:"text-gray-400",children:"Loading product data..."})),tU=({data:t})=>t.topCustomers?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Xo,{title:"Total Customers",value:Ks(t.metrics.totalCustomers),icon:"",color:"blue"}),a.jsx(Xo,{title:"Avg Customer Value",value:Ca(t.metrics.averageCustomerValue),icon:"",color:"emerald"}),a.jsx(Xo,{title:"Total Revenue",value:Ca(t.metrics.totalRevenue),icon:"",color:"green"})]}),a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Customers by Spending"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-midnight-700",children:[a.jsx("th",{className:"text-left py-2 text-gray-300",children:"Customer"}),a.jsx("th",{className:"text-right py-2 text-gray-300",children:"Orders"}),a.jsx("th",{className:"text-right py-2 text-gray-300",children:"Total Spent"}),a.jsx("th",{className:"text-right py-2 text-gray-300",children:"Last Order"})]})}),a.jsx("tbody",{children:t.topCustomers.map((e,r)=>a.jsxs("tr",{className:"border-b border-midnight-800",children:[a.jsx("td",{className:"py-3 text-white",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"bg-midnight-700 text-midnight-200 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3",children:r+1}),a.jsxs("div",{children:[a.jsx("div",{children:e.name||"Unknown"}),a.jsx("div",{className:"text-gray-400 text-sm",children:e.email})]})]})}),a.jsx("td",{className:"py-3 text-right text-white",children:Ks(e.orderCount)}),a.jsx("td",{className:"py-3 text-right text-white",children:Ca(e.totalSpent)}),a.jsx("td",{className:"py-3 text-right text-gray-300",children:new Date(e.lastOrder).toLocaleDateString()})]},e.id))})]})})]})]}):a.jsx("div",{className:"text-gray-400",children:"No customer data available"}),Xo=({title:t,value:e,icon:r,color:n="blue"})=>{const i={blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",purple:"bg-emerald-600",red:"bg-red-600",indigo:"bg-indigo-600",orange:"bg-orange-600"};return a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-3 rounded-full ${i[n]} text-white mr-4`,children:a.jsx("span",{className:"text-xl",children:r})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:t}),a.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})]})})},rU=()=>{const[t,e]=ee.useState(null),[r,n]=ee.useState(!0),[i,s]=ee.useState(null),{error:c}=Li();ee.useEffect(()=>{f()},[]);const f=()=>we(null,null,function*(){try{n(!0);const g=yield $M(30);e(g)}catch(g){s(g.message),c("Failed to load analytics data: "+g.message)}finally{n(!1)}});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Financial Analytics"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Comprehensive financial reporting and business intelligence"})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsxs(Zt,{to:"/admin",className:"flex items-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]}),r?a.jsx("div",{className:"text-center py-8",children:a.jsx(fn,{size:"lg",text:"Loading KPIs...",variant:"gear"})}):i?a.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4",children:[a.jsxs("p",{className:"text-red-200",children:["Failed to load KPIs: ",i]}),a.jsx("button",{onClick:f,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Retry"})]}):t&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Gg,{title:"Total Revenue (30d)",value:Ca(t.totalRevenue),subtitle:`${Ks(t.totalOrders)} orders`,icon:"",color:"green"}),a.jsx(Gg,{title:"Avg Order Value",value:Ca(t.averageOrderValue),subtitle:`${XM(t.conversionRate)} conversion`,icon:"",color:"blue"}),a.jsx(Gg,{title:"Customer Value",value:Ca(t.averageCustomerValue),subtitle:`${Ks(t.totalCustomers)} customers`,icon:"",color:"emerald"}),a.jsx(Gg,{title:"Fulfillment Time",value:`${t.averageFulfillmentTime} days`,subtitle:`${Ks(t.completedOrders)} completed`,icon:"",color:"orange"})]}),t&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300",children:"Completed Revenue"}),a.jsx("span",{className:"text-green-400 font-semibold",children:Ca(t.completedRevenue)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300",children:"Pending Revenue"}),a.jsx("span",{className:"text-yellow-400 font-semibold",children:Ca(t.pendingRevenue)})]}),a.jsx("div",{className:"pt-2 border-t border-midnight-700",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white font-medium",children:"Total Revenue"}),a.jsx("span",{className:"text-white font-bold text-lg",children:Ca(t.totalRevenue)})]})})]})]}),a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300",children:"Completed Orders"}),a.jsx("span",{className:"text-green-400 font-semibold",children:Ks(t.completedOrders)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-300",children:"Pending Orders"}),a.jsx("span",{className:"text-yellow-400 font-semibold",children:Ks(t.pendingOrders)})]}),a.jsx("div",{className:"pt-2 border-t border-midnight-700",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white font-medium",children:"Total Orders"}),a.jsx("span",{className:"text-white font-bold text-lg",children:Ks(t.totalOrders)})]})})]})]})]}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:a.jsx(KM,{})}),a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analytics Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(Ed,{icon:"",title:"Financial Overview",description:"Complete revenue breakdown, order metrics, and payment method analysis"}),a.jsx(Ed,{icon:"",title:"Revenue Analytics",description:"Monthly revenue trends, growth analysis, and revenue forecasting"}),a.jsx(Ed,{icon:"",title:"Order Analytics",description:"Order status distribution, fulfillment metrics, and processing times"}),a.jsx(Ed,{icon:"",title:"Product Performance",description:"Top selling products, category analysis, and inventory insights"}),a.jsx(Ed,{icon:"",title:"Customer Analytics",description:"Customer lifetime value, purchase behavior, and retention metrics"}),a.jsx(Ed,{icon:"",title:"Data Export",description:"Export financial reports in CSV format for external analysis"})]})]}),a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Zt,{to:"/admin/orders",className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Manage Orders"]}),a.jsxs(Zt,{to:"/admin/products",className:"btn-primary flex items-center px-4 py-2",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Manage Products"]}),a.jsxs(Zt,{to:"/admin/users",className:"flex items-center bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Manage Users"]})]})]})]})},Gg=({title:t,value:e,subtitle:r,icon:n,color:i="blue"})=>{const s={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-emerald-600",orange:"bg-orange-600",red:"bg-red-600",indigo:"bg-indigo-600"};return a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-2 rounded-full ${s[i]} text-white mr-3`,children:a.jsx("span",{className:"text-lg",children:n})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide",children:t}),a.jsx("p",{className:"text-white font-bold text-lg",children:e}),r&&a.jsx("p",{className:"text-gray-400 text-sm",children:r})]})]})})},Ed=({icon:t,title:e,description:r})=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:t}),a.jsx("h4",{className:"text-white font-semibold mb-2",children:e}),a.jsx("p",{className:"text-gray-400 text-sm",children:r})]}),nU=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[i,s]=ee.useState(null),[c,f]=ee.useState("all"),[g,u]=ee.useState(1),[m,v]=ee.useState({}),{success:b,error:_}=Li(),{isOpen:C,confirm:A,handleClose:j,handleConfirm:L,dialogProps:I}=Jd();ee.useEffect(()=>{P()},[c,g]);const P=()=>we(null,null,function*(){try{n(!0),s(null);const G=yield DC({page:g,limit:20,status:c});e(G.reviews||[]),v(G.pagination||{})}catch(G){s(G.message),_("Failed to load reviews: "+G.message)}finally{n(!1)}}),X=(G,V)=>we(null,null,function*(){try{yield PC(G,V),b(`Review ${V?"approved":"rejected"} successfully`),P()}catch(z){_("Failed to moderate review: "+z.message)}}),Y=G=>we(null,null,function*(){try{yield A({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield N6(G),b("Review deleted successfully"),P()}catch(V){_("Failed to delete review: "+V.message)}}catch(V){console.log("Review deletion cancelled")}}),K=[{value:"all",label:"All Reviews"},{value:"pending",label:"Pending Approval"},{value:"approved",label:"Approved"}];return r&&t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading reviews...",variant:"gear"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Review Management"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Moderate and manage customer reviews"})]}),a.jsxs(Zt,{to:"/admin",className:"flex items-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]}),a.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[a.jsx("label",{className:"text-white font-medium",children:"Filter by status:"}),a.jsx("select",{value:c,onChange:G=>{f(G.target.value),u(1)},className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:K.map(G=>a.jsx("option",{value:G.value,children:G.label},G.value))}),a.jsxs("div",{className:"text-gray-400 text-sm ml-auto",children:[m.total||0," total reviews"]})]})}),i?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 max-w-md mx-auto",children:[a.jsx("h3",{className:"text-red-100 font-semibold mb-2",children:"Error Loading Reviews"}),a.jsx("p",{className:"text-red-200 mb-4",children:i}),a.jsx("button",{onClick:P,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})}):t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-8",children:[a.jsx("h3",{className:"text-white font-semibold mb-2",children:"No Reviews Found"}),a.jsx("p",{className:"text-gray-400",children:c==="pending"?"No reviews are pending approval":c==="approved"?"No approved reviews found":"No reviews have been submitted yet"})]})}):a.jsx("div",{className:"space-y-4",children:t.map(G=>a.jsx(iU,{review:G,onApprove:V=>X(V,!0),onReject:V=>X(V,!1),onDelete:Y},G.id))}),m.totalPages>1&&a.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[a.jsx("button",{onClick:()=>u(G=>Math.max(1,G-1)),disabled:g===1,className:"px-4 py-2 bg-midnight-800 border border-midnight-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-midnight-700",children:"Previous"}),Array.from({length:Math.min(5,m.totalPages)},(G,V)=>{const z=V+1;return a.jsx("button",{onClick:()=>u(z),className:`px-4 py-2 border rounded ${g===z?"bg-blue-600 text-white border-blue-600":"bg-midnight-800 border-midnight-600 text-white hover:bg-midnight-700"}`,children:z},z)}),a.jsx("button",{onClick:()=>u(G=>Math.min(m.totalPages,G+1)),disabled:g===m.totalPages,className:"px-4 py-2 bg-midnight-800 border border-midnight-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-midnight-700",children:"Next"})]}),a.jsx(Zd,{isOpen:C,onClose:j,onConfirm:L,title:I.title,message:I.message,confirmText:I.confirmText,cancelText:I.cancelText,confirmButtonClass:I.confirmButtonClass})]})},iU=({review:t,onApprove:e,onReject:r,onDelete:n})=>{var s,c,f,g;const i=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(X2,{rating:t.rating,size:"sm"}),a.jsxs("span",{className:"text-white font-semibold",children:[(s=t.users)==null?void 0:s.first_name," ",(c=t.users)==null?void 0:c.last_name]}),a.jsxs("span",{className:"text-gray-400 text-sm",children:["(",(f=t.users)==null?void 0:f.email,")"]}),t.is_verified_purchase&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-gray-400 text-sm",children:["Product: ",a.jsx("span",{className:"text-white",children:(g=t.products)==null?void 0:g.name})]}),a.jsx("span",{className:"text-gray-400 text-sm",children:i(t.created_at)})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t.is_approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.is_approved?"Approved":"Pending"})})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[t.review_title&&a.jsx("h4",{className:"font-semibold text-white",children:t.review_title}),t.review_text&&a.jsx("p",{className:"text-gray-300 leading-relaxed",children:t.review_text})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-sm text-gray-400",children:[a.jsxs("span",{children:["Helpful votes: ",t.helpful_count]}),t.updated_at!==t.created_at&&a.jsxs("span",{children:["Updated: ",i(t.updated_at)]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-midnight-700",children:[!t.is_approved&&a.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve"]}),t.is_approved&&a.jsxs("button",{onClick:()=>r(t.id),className:"flex items-center bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject"]}),a.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})},aU=({currentLogo:t,onLogoUpdate:e})=>{const[r,n]=ee.useState(!1),[i,s]=ee.useState(!1),[c,f]=ee.useState(t),g=ee.useRef(null),{success:u,error:m}=Li(),v=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"],b=5*1024*1024,_=K=>v.includes(K.type)?K.size>b?(m("File size must be less than 5MB"),!1):!0:(m("Please upload a valid image file (JPG, PNG, GIF, WebP, SVG)"),!1),C=K=>{if(!_(K))return;const G=new FileReader;G.onload=V=>{f(V.target.result)},G.readAsDataURL(K),A(K)},A=K=>we(null,null,function*(){var G;n(!0);try{console.log("Uploading logo file:",K.name,"Size:",K.size,"Type:",K.type);const V=yield new Promise((me,he)=>{const be=new FileReader;be.onload=()=>{const Ae=be.result.split(",")[1];me(Ae)},be.onerror=he,be.readAsDataURL(K)});console.log("Logo file converted to base64, length:",V.length);const ie=JSON.parse(localStorage.getItem("user")||"{}").token||localStorage.getItem("token")||"";if(console.log("Using auth token:",ie?"Token exists":"No token"),!ie){m("No authentication token found. Please login again.");return}const W={"Content-Type":"application/json"};W.Authorization=`Bearer ${ie}`;const H={filename:K.name,mimetype:K.type,data:V};console.log("Making logo upload request to:","/api/admin/logo-upload"),console.log("Headers:",W),console.log("Payload size:",JSON.stringify(H).length,"bytes");const ne=yield fetch("/api/admin/logo-upload",{method:"POST",headers:W,body:JSON.stringify(H)});console.log("Logo upload response:",ne.status,ne.statusText);const ve=yield ne.json();if(console.log("Logo upload response data:",ve),ve.success){const me=ve.logoUrl||ve.file_url||((G=ve.data)==null?void 0:G.url);me?(console.log("Logo upload successful:",me),u("Logo uploaded successfully!"),f(me),e&&e(me),setTimeout(()=>{window.location.reload()},1e3)):(console.error("No logo URL found in response:",ve),m("No logo URL received from server"),f(t))}else console.error(" Logo upload failed:",ve),m(ve.message||"Failed to upload logo"),f(t)}catch(V){console.error("Logo upload error:",V),m("Failed to upload logo"),f(t)}finally{n(!1)}}),j=K=>{K.preventDefault(),K.stopPropagation(),K.type==="dragenter"||K.type==="dragover"?s(!0):K.type==="dragleave"&&s(!1)},L=K=>{K.preventDefault(),K.stopPropagation(),s(!1),K.dataTransfer.files&&K.dataTransfer.files[0]&&C(K.dataTransfer.files[0])},I=K=>{K.target.files&&K.target.files[0]&&C(K.target.files[0])},P=()=>{var K;(K=g.current)==null||K.click()},X=()=>we(null,null,function*(){const K=localStorage.getItem("token");console.log(" Testing admin access...",{hasToken:!!K,tokenLength:K?K.length:0});try{const V=yield(yield fetch("/api/admin/test-logo",{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}})).json();console.log(" Test result:",V),V.success?u(" Admin access verified!"):m(` Admin access failed: ${V.message}`)}catch(G){console.error(" Test error:",G),m("Failed to test admin access")}}),Y=()=>we(null,null,function*(){if(window.confirm("Are you sure you want to remove the current logo?")){n(!0);try{const K=localStorage.getItem("token"),V=yield(yield fetch("/api/admin/remove-logo",{method:"DELETE",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}})).json();V.success?(u("Logo removed successfully!"),f(null),e&&e(null),setTimeout(()=>{window.location.reload()},1e3)):m(V.message||"Failed to remove logo")}catch(K){console.error("Logo removal error:",K),m("Failed to remove logo")}finally{n(!1)}}});return a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Website Logo"}),a.jsx("button",{onClick:X,className:"bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm hover:bg-blue-200",children:"Test Admin Access"})]}),c&&a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Logo"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-32 h-32 border-2 border-gray-200 rounded-lg flex items-center justify-center bg-gray-50",children:a.jsx("img",{src:c,alt:"Current Logo",className:"max-w-full max-h-full object-contain"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"This logo appears in the header, footer, and as the website favicon."}),a.jsx("button",{onClick:Y,disabled:r,className:"text-red-600 hover:text-red-700 text-sm font-medium disabled:opacity-50",children:"Remove Logo"})]})]})]}),a.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:L,children:[a.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:I,className:"hidden"}),r?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Uploading logo..."})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:i?"Drop your logo here":"Upload Website Logo"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Drag and drop your logo here, or click to browse"}),a.jsx("button",{onClick:P,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsx("p",{className:"font-medium mb-2",children:"Requirements:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Supported formats: JPG, PNG, GIF, WebP, SVG"}),a.jsx("li",{children:"Maximum file size: 5MB"}),a.jsx("li",{children:"Recommended size: 200x200px or larger"}),a.jsx("li",{children:"Square or rectangular logos work best"})]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Where your logo will appear:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Website header (navigation bar)"}),a.jsx("li",{children:" Website footer"}),a.jsx("li",{children:" Browser tab (favicon)"}),a.jsx("li",{children:" Google search results"}),a.jsx("li",{children:" Social media shares"}),a.jsx("li",{children:" Email templates"})]})]})]})},sU=()=>{const{user:t,isAdmin:e}=Ta(),{error:r}=Li(),[n,i]=ee.useState(null),[s,c]=ee.useState(!0);ee.useEffect(()=>{if(!e()){r("Admin access required");return}f()},[]);const f=()=>we(null,null,function*(){try{const m=yield(yield fetch("/api/admin/site-config")).json();m.success&&m.config.logo&&i(m.config.logo)}catch(u){console.error("Error fetching current logo:",u)}finally{c(!1)}}),g=u=>{i(u)};return e()?s?a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx("div",{className:"min-h-screen bg-gray-100",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Logo Management"}),a.jsx("p",{className:"text-gray-600",children:"Upload and manage your website logo. The logo will appear across your entire website and in search results."})]}),a.jsx(aU,{currentLogo:n,onLogoUpdate:g}),a.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Logo Preview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Header Navigation"}),a.jsx("div",{className:"bg-white border-b shadow-sm p-4 rounded",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[n?a.jsx("img",{src:n,alt:"Logo",className:"h-8 w-auto"}):a.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-500",children:"Logo"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ModParts"})]}),a.jsxs("div",{className:"flex space-x-4 text-sm text-gray-600",children:[a.jsx("span",{children:"Home"}),a.jsx("span",{children:"Products"}),a.jsx("span",{children:"Contact"})]})]})})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Footer"}),a.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n?a.jsx("img",{src:n,alt:"Logo",className:"h-6 w-auto filter brightness-0 invert"}):a.jsx("div",{className:"h-6 w-6 bg-gray-600 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-gray-300",children:"Logo"})}),a.jsx("span",{className:"font-semibold",children:"ModParts"})]}),a.jsx("p",{className:"text-sm text-gray-300",children:"Your trusted auto parts supplier"})]})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Browser Tab (Favicon)"}),a.jsx("div",{className:"bg-gray-100 p-4 rounded",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-white border rounded p-2",children:[n?a.jsx("img",{src:n,alt:"Favicon",className:"h-4 w-4"}):a.jsx("div",{className:"h-4 w-4 bg-gray-300 rounded-sm"}),a.jsx("span",{className:"text-sm text-gray-700",children:"ModParts - Auto Parts"})]})})]}),a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Google Search Result"}),a.jsx("div",{className:"bg-white p-4 rounded border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[n?a.jsx("img",{src:n,alt:"Site Icon",className:"h-6 w-6 mt-1 rounded"}):a.jsx("div",{className:"h-6 w-6 mt-1 bg-gray-300 rounded"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-blue-600 text-lg font-medium",children:"ModParts - Auto Parts"}),a.jsx("p",{className:"text-green-600 text-sm",children:"www.partsformyrd350.com"}),a.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Quality auto parts for your vehicle. Fast shipping and competitive prices."})]})]})})]})]})]}),a.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"SEO & Branding Benefits"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Search Engine Benefits:"}),a.jsxs("ul",{className:"text-blue-700 space-y-1",children:[a.jsx("li",{children:" Appears in Google search results"}),a.jsx("li",{children:" Improves brand recognition"}),a.jsx("li",{children:" Increases click-through rates"}),a.jsx("li",{children:" Professional appearance in SERPs"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"User Experience:"}),a.jsxs("ul",{className:"text-blue-700 space-y-1",children:[a.jsx("li",{children:" Consistent branding across site"}),a.jsx("li",{children:" Easy site identification"}),a.jsx("li",{children:" Professional appearance"}),a.jsx("li",{children:" Improved trust and credibility"})]})]})]})]}),a.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Technical Information"}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Automatic Generation:"})," Uploading a logo automatically creates favicons in multiple sizes (16x16, 32x32, 48x48, etc.)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"File Formats:"})," Supports JPG, PNG, GIF, WebP, and SVG formats"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Optimization:"})," Images are automatically optimized for web use"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Responsive:"})," Logo scales appropriately on different screen sizes"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Cache Friendly:"})," Proper caching headers for fast loading"]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})})},oU=()=>typeof window!="undefined"&&window.location.hostname!=="localhost"?`${window.location.origin}/api`:"http://localhost:3001/api",rs=oU(),ns=()=>{const t=localStorage.getItem("token");return kt({"Content-Type":"application/json"},t&&{Authorization:`Bearer ${t}`})},$g={getAll:()=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/warehouses`,{method:"GET",headers:ns()})).json()}),getOne:t=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/warehouses?id=${t}`,{method:"GET",headers:ns()})).json()}),create:t=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/warehouses`,{method:"POST",headers:ns(),body:JSON.stringify(t)})).json()}),update:t=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/warehouses`,{method:"PUT",headers:ns(),body:JSON.stringify(t)})).json()}),delete:t=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/warehouses?id=${t}`,{method:"DELETE",headers:ns()})).json()})},af={getAll:(t=null)=>we(null,null,function*(){let e=`${rs}/inventory/bins`;return t&&(e+=`?warehouse_id=${t}`),(yield fetch(e,{method:"GET",headers:ns()})).json()}),getOne:t=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/bins?id=${t}`,{method:"GET",headers:ns()})).json()}),create:t=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/bins`,{method:"POST",headers:ns(),body:JSON.stringify(t)})).json()}),update:(t,e)=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/bins?id=${t}`,{method:"PUT",headers:ns(),body:JSON.stringify(e)})).json()}),delete:t=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/bins?id=${t}`,{method:"DELETE",headers:ns()})).json()})},Xg={getAll:(...e)=>we(null,[...e],function*(t={}){const r=new URLSearchParams(t);return(yield fetch(`${rs}/inventory/movements?${r}`,{method:"GET",headers:ns()})).json()}),ship:(t,e=1,r=2,n=null,i=1)=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/movements?action=ship`,{method:"POST",headers:ns(),body:JSON.stringify({product_ids:t,from_warehouse_id:e,to_warehouse_id:r,notes:n,quantity:i})})).json()}),receive:n=>we(null,[n],function*({movementId:t,binNumber:e,warehouseId:r}){return(yield fetch(`${rs}/inventory/movements?action=receive`,{method:"POST",headers:ns(),body:JSON.stringify({movement_id:t,bin_number:e,warehouse_id:r})})).json()}),assignBin:(t,e,r=2)=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/movements?action=assign-bin`,{method:"POST",headers:ns(),body:JSON.stringify({product_id:t,bin_number:e,warehouse_id:r})})).json()}),addUnexpected:i=>we(null,[i],function*({partNumber:t,warehouseId:e,binNumber:r,quantity:n=1}){return(yield fetch(`${rs}/inventory/movements?action=add-unexpected`,{method:"POST",headers:ns(),body:JSON.stringify({part_number:t,warehouse_id:e,bin_number:r,quantity:n})})).json()}),updateStatus:(t,e,r=null)=>we(null,null,function*(){return(yield fetch(`${rs}/inventory/movements`,{method:"PUT",headers:ns(),body:JSON.stringify({id:t,status:e,notes:r})})).json()})},lU={getByWarehouse:(t,e="")=>we(null,null,function*(){const r=new URLSearchParams({warehouse_id:t});return e&&r.append("search",e),(yield fetch(`${rs}/inventory/bin-contents?${r}`,{headers:ns()})).json()})};var lr;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(lr||(lr={}));var g3=new Map([[lr.QR_CODE,"QR_CODE"],[lr.AZTEC,"AZTEC"],[lr.CODABAR,"CODABAR"],[lr.CODE_39,"CODE_39"],[lr.CODE_93,"CODE_93"],[lr.CODE_128,"CODE_128"],[lr.DATA_MATRIX,"DATA_MATRIX"],[lr.MAXICODE,"MAXICODE"],[lr.ITF,"ITF"],[lr.EAN_13,"EAN_13"],[lr.EAN_8,"EAN_8"],[lr.PDF_417,"PDF_417"],[lr.RSS_14,"RSS_14"],[lr.RSS_EXPANDED,"RSS_EXPANDED"],[lr.UPC_A,"UPC_A"],[lr.UPC_E,"UPC_E"],[lr.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),m3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(m3||(m3={}));function cU(t){return Object.values(lr).includes(t)}var R2;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(R2||(R2={}));var uU=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[R2.SCAN_TYPE_CAMERA,R2.SCAN_TYPE_FILE],t}(),OE=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!g3.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,g3.get(e))},t}(),p3=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Wx;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Wx||(Wx={}));var dU=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Wx.UNKWOWN_ERROR}},t}(),hU=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Oc(t){return typeof t=="undefined"||t===null}var kd=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),RE=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),c=Object.keys(e),f=0,g=c;f<g.length;f++){var u=g[f];if(s.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t}(),lf={exports:{}},fU=lf.exports,x3;function gU(){return x3||(x3=1,function(t,e){(function(r,n){n(e)})(fU,function(r){function n(ce){return ce==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,l){ce.__proto__=l}||function(ce,l){for(var h in l)l.hasOwnProperty(h)&&(ce[h]=l[h])};function s(ce,l){i(ce,l);function h(){this.constructor=ce}ce.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}function c(ce,l){var h=Object.setPrototypeOf;h?h(ce,l):ce.__proto__=l}function f(ce,l){l===void 0&&(l=ce.constructor);var h=Error.captureStackTrace;h&&h(ce,l)}var g=function(ce){s(l,ce);function l(h){var p=this.constructor,y=ce.call(this,h)||this;return Object.defineProperty(y,"name",{value:p.name,enumerable:!1}),c(y,p.prototype),f(y),y}return l}(Error);class u extends g{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class m extends u{}m.kind="ArgumentException";class v extends u{}v.kind="IllegalArgumentException";class b{constructor(l){if(this.binarizer=l,l===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,h){return this.binarizer.getBlackRow(l,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,h,p,y){const w=this.binarizer.getLuminanceSource().crop(l,h,p,y);return new b(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch(l){return""}}}class _ extends u{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class C{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(l,h,p,y,w){for(;w--;)p[y++]=l[h++]}static currentTimeMillis(){return Date.now()}}class j extends u{}j.kind="IndexOutOfBoundsException";class L extends j{constructor(l=void 0,h=void 0){super(h),this.index=l,this.message=h}}L.kind="ArrayIndexOutOfBoundsException";class I{static fill(l,h){for(let p=0,y=l.length;p<y;p++)l[p]=h}static fillWithin(l,h,p,y){I.rangeCheck(l.length,h,p);for(let w=h;w<p;w++)l[w]=y}static rangeCheck(l,h,p){if(h>p)throw new v("fromIndex("+h+") > toIndex("+p+")");if(h<0)throw new L(h);if(p>l)throw new L(p)}static asList(...l){return l}static create(l,h,p){return Array.from({length:l}).map(w=>Array.from({length:h}).fill(p))}static createInt32Array(l,h,p){return Array.from({length:l}).map(w=>Int32Array.from({length:h}).fill(p))}static equals(l,h){if(!l||!h||!l.length||!h.length||l.length!==h.length)return!1;for(let p=0,y=l.length;p<y;p++)if(l[p]!==h[p])return!1;return!0}static hashCode(l){if(l===null)return 0;let h=1;for(const p of l)h=31*h+p;return h}static fillUint8Array(l,h){for(let p=0;p!==l.length;p++)l[p]=h}static copyOf(l,h){return l.slice(0,h)}static copyOfUint8Array(l,h){if(l.length<=h){const p=new Uint8Array(h);return p.set(l),p}return l.slice(0,h)}static copyOfRange(l,h,p){const y=p-h,w=new Int32Array(y);return A.arraycopy(l,h,w,0,y),w}static binarySearch(l,h,p){p===void 0&&(p=I.numberComparator);let y=0,w=l.length-1;for(;y<=w;){const S=w+y>>1,T=p(h,l[S]);if(T>0)y=S+1;else if(T<0)w=S-1;else return S}return-y-1}static numberComparator(l,h){return l-h}}class P{static numberOfTrailingZeros(l){let h;if(l===0)return 32;let p=31;return h=l<<16,h!==0&&(p-=16,l=h),h=l<<8,h!==0&&(p-=8,l=h),h=l<<4,h!==0&&(p-=4,l=h),h=l<<2,h!==0&&(p-=2,l=h),p-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let h=1;return l>>>16||(h+=16,l<<=16),l>>>24||(h+=8,l<<=8),l>>>28||(h+=4,l<<=4),l>>>30||(h+=2,l<<=2),h-=l>>>31,h}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,h){return Math.trunc(l/h)}static parseInt(l,h=void 0){return parseInt(l,h)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class X{constructor(l,h){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,h==null?this.bits=X.makeArray(l):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const h=X.makeArray(l);A.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const h=this.size;if(l>=h)return h;const p=this.bits;let y=Math.floor(l/32),w=p[y];w&=~((1<<(l&31))-1);const S=p.length;for(;w===0;){if(++y===S)return h;w=p[y]}const T=y*32+P.numberOfTrailingZeros(w);return T>h?h:T}getNextUnset(l){const h=this.size;if(l>=h)return h;const p=this.bits;let y=Math.floor(l/32),w=~p[y];w&=~((1<<(l&31))-1);const S=p.length;for(;w===0;){if(++y===S)return h;w=~p[y]}const T=y*32+P.numberOfTrailingZeros(w);return T>h?h:T}setBulk(l,h){this.bits[Math.floor(l/32)]=h}setRange(l,h){if(h<l||l<0||h>this.size)throw new v;if(h===l)return;h--;const p=Math.floor(l/32),y=Math.floor(h/32),w=this.bits;for(let S=p;S<=y;S++){const T=S>p?0:l&31,B=(2<<(S<y?31:h&31))-(1<<T);w[S]|=B}}clear(){const l=this.bits.length,h=this.bits;for(let p=0;p<l;p++)h[p]=0}isRange(l,h,p){if(h<l||l<0||h>this.size)throw new v;if(h===l)return!0;h--;const y=Math.floor(l/32),w=Math.floor(h/32),S=this.bits;for(let T=y;T<=w;T++){const k=T>y?0:l&31,Q=(2<<(T<w?31:h&31))-(1<<k)&4294967295;if((S[T]&Q)!==(p?Q:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,h){if(h<0||h>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let p=h;p>0;p--)this.appendBit((l>>p-1&1)===1)}appendBitArray(l){const h=l.size;this.ensureCapacity(this.size+h);for(let p=0;p<h;p++)this.appendBit(l.get(p))}xor(l){if(this.size!==l.size)throw new v("Sizes don't match");const h=this.bits;for(let p=0,y=h.length;p<y;p++)h[p]^=l.bits[p]}toBytes(l,h,p,y){for(let w=0;w<y;w++){let S=0;for(let T=0;T<8;T++)this.get(l)&&(S|=1<<7-T),l++;h[p+w]=S}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),p=h+1,y=this.bits;for(let w=0;w<p;w++){let S=y[w];S=S>>1&1431655765|(S&1431655765)<<1,S=S>>2&858993459|(S&858993459)<<2,S=S>>4&252645135|(S&252645135)<<4,S=S>>8&16711935|(S&16711935)<<8,S=S>>16&65535|(S&65535)<<16,l[h-w]=S}if(this.size!==p*32){const w=p*32-this.size;let S=l[0]>>>w;for(let T=1;T<p;T++){const k=l[T];S|=k<<32-w,l[T-1]=S,S=k>>>w}l[p-1]=S}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof X))return!1;const h=l;return this.size===h.size&&I.equals(this.bits,h.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let l="";for(let h=0,p=this.size;h<p;h++)(h&7)===0&&(l+=" "),l+=this.get(h)?"X":".";return l}clone(){return new X(this.size,this.bits.slice())}}var Y;(function(ce){ce[ce.OTHER=0]="OTHER",ce[ce.PURE_BARCODE=1]="PURE_BARCODE",ce[ce.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ce[ce.TRY_HARDER=3]="TRY_HARDER",ce[ce.CHARACTER_SET=4]="CHARACTER_SET",ce[ce.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ce[ce.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ce[ce.ASSUME_GS1=7]="ASSUME_GS1",ce[ce.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ce[ce.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ce[ce.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var K=Y;class G extends u{static getFormatInstance(){return new G}}G.kind="FormatException";var V;(function(ce){ce[ce.Cp437=0]="Cp437",ce[ce.ISO8859_1=1]="ISO8859_1",ce[ce.ISO8859_2=2]="ISO8859_2",ce[ce.ISO8859_3=3]="ISO8859_3",ce[ce.ISO8859_4=4]="ISO8859_4",ce[ce.ISO8859_5=5]="ISO8859_5",ce[ce.ISO8859_6=6]="ISO8859_6",ce[ce.ISO8859_7=7]="ISO8859_7",ce[ce.ISO8859_8=8]="ISO8859_8",ce[ce.ISO8859_9=9]="ISO8859_9",ce[ce.ISO8859_10=10]="ISO8859_10",ce[ce.ISO8859_11=11]="ISO8859_11",ce[ce.ISO8859_13=12]="ISO8859_13",ce[ce.ISO8859_14=13]="ISO8859_14",ce[ce.ISO8859_15=14]="ISO8859_15",ce[ce.ISO8859_16=15]="ISO8859_16",ce[ce.SJIS=16]="SJIS",ce[ce.Cp1250=17]="Cp1250",ce[ce.Cp1251=18]="Cp1251",ce[ce.Cp1252=19]="Cp1252",ce[ce.Cp1256=20]="Cp1256",ce[ce.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ce[ce.UTF8=22]="UTF8",ce[ce.ASCII=23]="ASCII",ce[ce.Big5=24]="Big5",ce[ce.GB18030=25]="GB18030",ce[ce.EUC_KR=26]="EUC_KR"})(V||(V={}));class z{constructor(l,h,p,...y){this.valueIdentifier=l,this.name=p,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=y,z.VALUE_IDENTIFIER_TO_ECI.set(l,this),z.NAME_TO_ECI.set(p,this);const w=this.values;for(let S=0,T=w.length;S!==T;S++){const k=w[S];z.VALUES_TO_ECI.set(k,this)}for(const S of y)z.NAME_TO_ECI.set(S,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new G("incorect value");const h=z.VALUES_TO_ECI.get(l);if(h===void 0)throw new G("incorect value");return h}static getCharacterSetECIByName(l){const h=z.NAME_TO_ECI.get(l);if(h===void 0)throw new G("incorect value");return h}equals(l){if(!(l instanceof z))return!1;const h=l;return this.getName()===h.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(V.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(V.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(V.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(V.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(V.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(V.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(V.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(V.Big5,28,"Big5"),z.GB18030=new z(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(V.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends u{}ie.kind="UnsupportedOperationException";class W{static decode(l,h){const p=this.encodingName(h);return this.customDecoder?this.customDecoder(l,p):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(p)?this.decodeFallback(l,p):new TextDecoder(p).decode(l)}static shouldDecodeOnFallback(l){return!W.isBrowser()&&l==="ISO-8859-1"}static encode(l,h){const p=this.encodingName(h);return this.customEncoder?this.customEncoder(l,p):typeof TextEncoder=="undefined"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof z?l:z.getCharacterSetECIByName(l)}static decodeFallback(l,h){const p=this.encodingCharacterSet(h);if(W.isDecodeFallbackSupported(p)){let y="";for(let w=0,S=l.length;w<S;w++){let T=l[w].toString(16);T.length<2&&(T="0"+T),y+="%"+T}return decodeURIComponent(y)}if(p.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new ie(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(z.UTF8)||l.equals(z.ISO8859_1)||l.equals(z.ASCII)}static encodeFallback(l){const p=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let w=0;w<p.length;w++)y.push(p[w].charCodeAt(0));return new Uint8Array(y)}}class H{static castAsNonUtf8Char(l,h=null){const p=h?h.getName():this.ISO88591;return W.decode(new Uint8Array([l]),p)}static guessEncoding(l,h){if(h!=null&&h.get(K.CHARACTER_SET)!==void 0)return h.get(K.CHARACTER_SET).toString();const p=l.length;let y=!0,w=!0,S=!0,T=0,k=0,B=0,Q=0,oe=0,xe=0,De=0,We=0,$e=0,tt=0,xt=0;const Pt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let qt=0;qt<p&&(y||w||S);qt++){const Ht=l[qt]&255;S&&(T>0?(Ht&128)===0?S=!1:T--:(Ht&128)!==0&&((Ht&64)===0?S=!1:(T++,(Ht&32)===0?k++:(T++,(Ht&16)===0?B++:(T++,(Ht&8)===0?Q++:S=!1))))),y&&(Ht>127&&Ht<160?y=!1:Ht>159&&(Ht<192||Ht===215||Ht===247)&&xt++),w&&(oe>0?Ht<64||Ht===127||Ht>252?w=!1:oe--:Ht===128||Ht===160||Ht>239?w=!1:Ht>160&&Ht<224?(xe++,We=0,De++,De>$e&&($e=De)):Ht>127?(oe++,De=0,We++,We>tt&&(tt=We)):(De=0,We=0))}return S&&T>0&&(S=!1),w&&oe>0&&(w=!1),S&&(Pt||k+B+Q>0)?H.UTF8:w&&(H.ASSUME_SHIFT_JIS||$e>=3||tt>=3)?H.SHIFT_JIS:y&&w?$e===2&&xe===2||xt*10>=p?H.SHIFT_JIS:H.ISO88591:y?H.ISO88591:w?H.SHIFT_JIS:S?H.UTF8:H.PLATFORM_DEFAULT_ENCODING}static format(l,...h){let p=-1;function y(S,T,k,B,Q,oe){if(S==="%%")return"%";if(h[++p]===void 0)return;S=B?parseInt(B.substr(1)):void 0;let xe=Q?parseInt(Q.substr(1)):void 0,De;switch(oe){case"s":De=h[p];break;case"c":De=h[p][0];break;case"f":De=parseFloat(h[p]).toFixed(S);break;case"p":De=parseFloat(h[p]).toPrecision(S);break;case"e":De=parseFloat(h[p]).toExponential(S);break;case"x":De=parseInt(h[p]).toString(xe||16);break;case"d":De=parseFloat(parseInt(h[p],xe||10).toPrecision(S)).toFixed(0);break}De=typeof De=="object"?JSON.stringify(De):(+De).toString(xe);let We=parseInt(k),$e=k&&k[0]+""=="0"?"0":" ";for(;De.length<We;)De=T!==void 0?De+$e:$e+De;return De}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,y)}static getBytes(l,h){return W.encode(l,h)}static getCharCode(l,h=0){return l.charCodeAt(h)}static getCharAt(l){return String.fromCharCode(l)}}H.SHIFT_JIS=z.SJIS.getName(),H.GB2312="GB2312",H.ISO88591=z.ISO8859_1.getName(),H.EUC_JP="EUC_JP",H.UTF8=z.UTF8.getName(),H.PLATFORM_DEFAULT_ENCODING=H.UTF8,H.ASSUME_SHIFT_JIS=!1;class ne{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=H.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,h,p){for(let y=h;h<h+p;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+1)}substring(l,h){return this.value.substring(l,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+h.length)}}class ve{constructor(l,h,p,y){if(this.width=l,this.height=h,this.rowSize=p,this.bits=y,h==null&&(h=l),this.height=h,l<1||h<1)throw new v("Both dimensions must be greater than 0");p==null&&(p=Math.floor((l+31)/32)),this.rowSize=p,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const h=l.length,p=l[0].length,y=new ve(p,h);for(let w=0;w<h;w++){const S=l[w];for(let T=0;T<p;T++)S[T]&&y.set(T,w)}return y}static parseFromString(l,h,p){if(l===null)throw new v("stringRepresentation cannot be null");const y=new Array(l.length);let w=0,S=0,T=-1,k=0,B=0;for(;B<l.length;)if(l.charAt(B)===`
`||l.charAt(B)==="\r"){if(w>S){if(T===-1)T=w-S;else if(w-S!==T)throw new v("row lengths do not match");S=w,k++}B++}else if(l.substring(B,B+h.length)===h)B+=h.length,y[w]=!0,w++;else if(l.substring(B,B+p.length)===p)B+=p.length,y[w]=!1,w++;else throw new v("illegal character encountered: "+l.substring(B));if(w>S){if(T===-1)T=w-S;else if(w-S!==T)throw new v("row lengths do not match");k++}const Q=new ve(T,k);for(let oe=0;oe<w;oe++)y[oe]&&Q.set(Math.floor(oe%T),Math.floor(oe/T));return Q}get(l,h){const p=h*this.rowSize+Math.floor(l/32);return(this.bits[p]>>>(l&31)&1)!==0}set(l,h){const p=h*this.rowSize+Math.floor(l/32);this.bits[p]|=1<<(l&31)&4294967295}unset(l,h){const p=h*this.rowSize+Math.floor(l/32);this.bits[p]&=~(1<<(l&31)&4294967295)}flip(l,h){const p=h*this.rowSize+Math.floor(l/32);this.bits[p]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new v("input matrix dimensions do not match");const h=new X(Math.floor(this.width/32)+1),p=this.rowSize,y=this.bits;for(let w=0,S=this.height;w<S;w++){const T=w*p,k=l.getRow(w,h).getBitArray();for(let B=0;B<p;B++)y[T+B]^=k[B]}}clear(){const l=this.bits,h=l.length;for(let p=0;p<h;p++)l[p]=0}setRegion(l,h,p,y){if(h<0||l<0)throw new v("Left and top must be nonnegative");if(y<1||p<1)throw new v("Height and width must be at least 1");const w=l+p,S=h+y;if(S>this.height||w>this.width)throw new v("The region must fit inside the matrix");const T=this.rowSize,k=this.bits;for(let B=h;B<S;B++){const Q=B*T;for(let oe=l;oe<w;oe++)k[Q+Math.floor(oe/32)]|=1<<(oe&31)&4294967295}}getRow(l,h){h==null||h.getSize()<this.width?h=new X(this.width):h.clear();const p=this.rowSize,y=this.bits,w=l*p;for(let S=0;S<p;S++)h.setBulk(S*32,y[w+S]);return h}setRow(l,h){A.arraycopy(h.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),h=this.getHeight();let p=new X(l),y=new X(l);for(let w=0,S=Math.floor((h+1)/2);w<S;w++)p=this.getRow(w,p),y=this.getRow(h-1-w,y),p.reverse(),y.reverse(),this.setRow(w,y),this.setRow(h-1-w,p)}getEnclosingRectangle(){const l=this.width,h=this.height,p=this.rowSize,y=this.bits;let w=l,S=h,T=-1,k=-1;for(let B=0;B<h;B++)for(let Q=0;Q<p;Q++){const oe=y[B*p+Q];if(oe!==0){if(B<S&&(S=B),B>k&&(k=B),Q*32<w){let xe=0;for(;(oe<<31-xe&4294967295)===0;)xe++;Q*32+xe<w&&(w=Q*32+xe)}if(Q*32+31>T){let xe=31;for(;!(oe>>>xe);)xe--;Q*32+xe>T&&(T=Q*32+xe)}}}return T<w||k<S?null:Int32Array.from([w,S,T-w+1,k-S+1])}getTopLeftOnBit(){const l=this.rowSize,h=this.bits;let p=0;for(;p<h.length&&h[p]===0;)p++;if(p===h.length)return null;const y=p/l;let w=p%l*32;const S=h[p];let T=0;for(;(S<<31-T&4294967295)===0;)T++;return w+=T,Int32Array.from([w,y])}getBottomRightOnBit(){const l=this.rowSize,h=this.bits;let p=h.length-1;for(;p>=0&&h[p]===0;)p--;if(p<0)return null;const y=Math.floor(p/l);let w=Math.floor(p%l)*32;const S=h[p];let T=31;for(;!(S>>>T);)T--;return w+=T,Int32Array.from([w,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ve))return!1;const h=l;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&I.equals(this.bits,h.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+I.hashCode(this.bits),l}toString(l="X ",h="  ",p=`
`){return this.buildToString(l,h,p)}buildToString(l,h,p){let y=new ne;for(let w=0,S=this.height;w<S;w++){for(let T=0,k=this.width;T<k;T++)y.append(this.get(T,w)?l:h);y.append(p)}return y.toString()}clone(){return new ve(this.width,this.height,this.rowSize,this.bits.slice())}}class me extends u{static getNotFoundInstance(){return new me}}me.kind="NotFoundException";class he extends C{constructor(l){super(l),this.luminances=he.EMPTY,this.buckets=new Int32Array(he.LUMINANCE_BUCKETS)}getBlackRow(l,h){const p=this.getLuminanceSource(),y=p.getWidth();h==null||h.getSize()<y?h=new X(y):h.clear(),this.initArrays(y);const w=p.getRow(l,this.luminances),S=this.buckets;for(let k=0;k<y;k++)S[(w[k]&255)>>he.LUMINANCE_SHIFT]++;const T=he.estimateBlackPoint(S);if(y<3)for(let k=0;k<y;k++)(w[k]&255)<T&&h.set(k);else{let k=w[0]&255,B=w[1]&255;for(let Q=1;Q<y-1;Q++){const oe=w[Q+1]&255;(B*4-k-oe)/2<T&&h.set(Q),k=B,B=oe}}return h}getBlackMatrix(){const l=this.getLuminanceSource(),h=l.getWidth(),p=l.getHeight(),y=new ve(h,p);this.initArrays(h);const w=this.buckets;for(let k=1;k<5;k++){const B=Math.floor(p*k/5),Q=l.getRow(B,this.luminances),oe=Math.floor(h*4/5);for(let xe=Math.floor(h/5);xe<oe;xe++){const De=Q[xe]&255;w[De>>he.LUMINANCE_SHIFT]++}}const S=he.estimateBlackPoint(w),T=l.getMatrix();for(let k=0;k<p;k++){const B=k*h;for(let Q=0;Q<h;Q++)(T[B+Q]&255)<S&&y.set(Q,k)}return y}createBinarizer(l){return new he(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const h=this.buckets;for(let p=0;p<he.LUMINANCE_BUCKETS;p++)h[p]=0}static estimateBlackPoint(l){const h=l.length;let p=0,y=0,w=0;for(let Q=0;Q<h;Q++)l[Q]>w&&(y=Q,w=l[Q]),l[Q]>p&&(p=l[Q]);let S=0,T=0;for(let Q=0;Q<h;Q++){const oe=Q-y,xe=l[Q]*oe*oe;xe>T&&(S=Q,T=xe)}if(y>S){const Q=y;y=S,S=Q}if(S-y<=h/16)throw new me;let k=S-1,B=-1;for(let Q=S-1;Q>y;Q--){const oe=Q-y,xe=oe*oe*(S-Q)*(p-l[Q]);xe>B&&(k=Q,B=xe)}return k<<he.LUMINANCE_SHIFT}}he.LUMINANCE_BITS=5,he.LUMINANCE_SHIFT=8-he.LUMINANCE_BITS,he.LUMINANCE_BUCKETS=1<<he.LUMINANCE_BITS,he.EMPTY=Uint8ClampedArray.from([0]);class be extends he{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),h=l.getWidth(),p=l.getHeight();if(h>=be.MINIMUM_DIMENSION&&p>=be.MINIMUM_DIMENSION){const y=l.getMatrix();let w=h>>be.BLOCK_SIZE_POWER;(h&be.BLOCK_SIZE_MASK)!==0&&w++;let S=p>>be.BLOCK_SIZE_POWER;(p&be.BLOCK_SIZE_MASK)!==0&&S++;const T=be.calculateBlackPoints(y,w,S,h,p),k=new ve(h,p);be.calculateThresholdForBlock(y,w,S,h,p,T,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new be(l)}static calculateThresholdForBlock(l,h,p,y,w,S,T){const k=w-be.BLOCK_SIZE,B=y-be.BLOCK_SIZE;for(let Q=0;Q<p;Q++){let oe=Q<<be.BLOCK_SIZE_POWER;oe>k&&(oe=k);const xe=be.cap(Q,2,p-3);for(let De=0;De<h;De++){let We=De<<be.BLOCK_SIZE_POWER;We>B&&(We=B);const $e=be.cap(De,2,h-3);let tt=0;for(let Pt=-2;Pt<=2;Pt++){const qt=S[xe+Pt];tt+=qt[$e-2]+qt[$e-1]+qt[$e]+qt[$e+1]+qt[$e+2]}const xt=tt/25;be.thresholdBlock(l,We,oe,xt,y,T)}}}static cap(l,h,p){return l<h?h:l>p?p:l}static thresholdBlock(l,h,p,y,w,S){for(let T=0,k=p*w+h;T<be.BLOCK_SIZE;T++,k+=w)for(let B=0;B<be.BLOCK_SIZE;B++)(l[k+B]&255)<=y&&S.set(h+B,p+T)}static calculateBlackPoints(l,h,p,y,w){const S=w-be.BLOCK_SIZE,T=y-be.BLOCK_SIZE,k=new Array(p);for(let B=0;B<p;B++){k[B]=new Int32Array(h);let Q=B<<be.BLOCK_SIZE_POWER;Q>S&&(Q=S);for(let oe=0;oe<h;oe++){let xe=oe<<be.BLOCK_SIZE_POWER;xe>T&&(xe=T);let De=0,We=255,$e=0;for(let xt=0,Pt=Q*y+xe;xt<be.BLOCK_SIZE;xt++,Pt+=y){for(let qt=0;qt<be.BLOCK_SIZE;qt++){const Ht=l[Pt+qt]&255;De+=Ht,Ht<We&&(We=Ht),Ht>$e&&($e=Ht)}if($e-We>be.MIN_DYNAMIC_RANGE)for(xt++,Pt+=y;xt<be.BLOCK_SIZE;xt++,Pt+=y)for(let qt=0;qt<be.BLOCK_SIZE;qt++)De+=l[Pt+qt]&255}let tt=De>>be.BLOCK_SIZE_POWER*2;if($e-We<=be.MIN_DYNAMIC_RANGE&&(tt=We/2,B>0&&oe>0)){const xt=(k[B-1][oe]+2*k[B][oe-1]+k[B-1][oe-1])/4;We<xt&&(tt=xt)}k[B][oe]=tt}}return k}}be.BLOCK_SIZE_POWER=3,be.BLOCK_SIZE=1<<be.BLOCK_SIZE_POWER,be.BLOCK_SIZE_MASK=be.BLOCK_SIZE-1,be.MINIMUM_DIMENSION=be.BLOCK_SIZE*5,be.MIN_DYNAMIC_RANGE=24;class Pe{constructor(l,h){this.width=l,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,h,p,y){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let h=new ne;for(let p=0;p<this.height;p++){const y=this.getRow(p,l);for(let w=0;w<this.width;w++){const S=y[w]&255;let T;S<64?T="#":S<128?T="+":S<192?T=".":T=" ",h.append(T)}h.append(`
`)}return h.toString()}}class Ae extends Pe{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,h){const p=this.delegate.getRow(l,h),y=this.getWidth();for(let w=0;w<y;w++)p[w]=255-(p[w]&255);return p}getMatrix(){const l=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(h);for(let y=0;y<h;y++)p[y]=255-(l[y]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(l,h,p,y){return new Ae(this.delegate.crop(l,h,p,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ae(this.delegate.rotateCounterClockwise45())}}class se extends Pe{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=se.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const h=l.getContext("2d").getImageData(0,0,l.width,l.height);return se.toGrayscaleBuffer(h.data,l.width,l.height)}static toGrayscaleBuffer(l,h,p){const y=new Uint8ClampedArray(h*p);for(let w=0,S=0,T=l.length;w<T;w+=4,S++){let k;if(l[w+3]===0)k=255;else{const Q=l[w],oe=l[w+1],xe=l[w+2];k=306*Q+601*oe+117*xe+512>>10}y[S]=k}return y}getRow(l,h){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth(),y=l*p;return h===null?h=this.buffer.slice(y,y+p):(h.length<p&&(h=new Uint8ClampedArray(p)),h.set(this.buffer.slice(y,y+p))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,h,p,y){return super.crop(l,h,p,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const h=this.getTempCanvasElement(),p=h.getContext("2d"),y=l*se.DEGREE_TO_RADIANS,w=this.canvas.width,S=this.canvas.height,T=Math.ceil(Math.abs(Math.cos(y))*w+Math.abs(Math.sin(y))*S),k=Math.ceil(Math.abs(Math.sin(y))*w+Math.abs(Math.cos(y))*S);return h.width=T,h.height=k,p.translate(T/2,k/2),p.rotate(y),p.drawImage(this.canvas,w/-2,S/-2),this.buffer=se.makeBufferFromCanvasImageData(h),this}invert(){return new Ae(this)}}se.DEGREE_TO_RADIANS=Math.PI/180;class Le{constructor(l,h,p){this.deviceId=l,this.label=h,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var M=(globalThis||V1||self||window||void 0)&&(globalThis||V1||self||window||void 0).__awaiter||function(ce,l,h,p){function y(w){return w instanceof h?w:new h(function(S){S(w)})}return new(h||(h=Promise))(function(w,S){function T(Q){try{B(p.next(Q))}catch(oe){S(oe)}}function k(Q){try{B(p.throw(Q))}catch(oe){S(oe)}}function B(Q){Q.done?w(Q.value):y(Q.value).then(T,k)}B((p=p.apply(ce,l||[])).next())})};class q{constructor(l,h=500,p){this.reader=l,this.timeBetweenScansMillis=h,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return M(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const p of l){const y=p.kind==="video"?"videoinput":p.kind;if(y!=="videoinput")continue;const w=p.deviceId||p.id,S=p.label||`Video device ${h.length+1}`,T=p.groupId,k={deviceId:w,label:S,kind:y,groupId:T};h.push(k)}return h})}getVideoInputDevices(){return M(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new Le(h.deviceId,h.label))})}findDeviceById(l){return M(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(p=>p.deviceId===l):null})}decodeFromInputVideoDevice(l,h){return M(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,h)})}decodeOnceFromVideoDevice(l,h){return M(this,void 0,void 0,function*(){this.reset();let p;l?p={deviceId:{exact:l}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeOnceFromConstraints(y,h)})}decodeOnceFromConstraints(l,h){return M(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(p,h)})}decodeOnceFromStream(l,h){return M(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(l,h);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(l,h,p){return M(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,h,p)})}decodeFromVideoDevice(l,h,p){return M(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const w={video:y};return yield this.decodeFromConstraints(w,h,p)})}decodeFromConstraints(l,h,p){return M(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,h,p)})}decodeFromStream(l,h,p){return M(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,h);return yield this.decodeContinuously(y,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,h){return M(this,void 0,void 0,function*(){const p=this.prepareVideoElement(h);return this.addVideoSource(p,l),this.videoElement=p,this.stream=l,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(l){return new Promise((h,p)=>this.playVideoOnLoad(l,()=>h()))}playVideoOnLoad(l,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",h),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return M(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch(h){console.warn("It was not possible to play the video.")}})}getMediaElement(l,h){const p=document.getElementById(l);if(!p)throw new m(`element with id '${l}' not found`);if(p.nodeName.toLowerCase()!==h.toLowerCase())throw new m(`element with id '${l}' must be an ${h} element`);return p}decodeFromImage(l,h){if(!l&&!h)throw new m("either imageElement with a src set or an url must be provided");return h&&!l?this.decodeFromImageUrl(h):this.decodeFromImageElement(l)}decodeFromVideo(l,h){if(!l&&!h)throw new m("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,h,p){if(l===void 0&&h===void 0)throw new m("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrlContinuously(h,p):this.decodeFromVideoElementContinuously(l,p)}decodeFromImageElement(l){if(!l)throw new m("An image element must be provided.");this.reset();const h=this.prepareImageElement(l);this.imageElement=h;let p;return this.isImageLoaded(h)?p=this.decodeOnce(h,!1,!0):p=this._decodeOnLoadImage(h),p}decodeFromVideoElement(l){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(l,h){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(p,h)}_decodeFromVideoElementSetup(l){if(!l)throw new m("A video element must be provided.");this.reset();const h=this.prepareVideoElement(l);return this.videoElement=h,h}decodeFromImageUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const p=this._decodeOnLoadImage(h);return h.src=l,p}decodeFromVideoUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElement(h);return h.src=l,p}decodeFromVideoUrlContinuously(l,h){if(!l)throw new m("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(p,h);return p.src=l,y}_decodeOnLoadImage(l){return new Promise((h,p)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(h,p),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return M(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,h){return M(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,h)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let h;return typeof l=="undefined"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(h=l),h}prepareVideoElement(l){let h;return!l&&typeof document!="undefined"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(h=l),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(l,h=!0,p=!0){this._stopAsyncDecode=!1;const y=(w,S)=>{if(this._stopAsyncDecode){S(new me("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const T=this.decode(l);w(T)}catch(T){const k=h&&T instanceof me,Q=(T instanceof _||T instanceof G)&&p;if(k||Q)return setTimeout(y,this._timeBetweenDecodingAttempts,w,S);S(T)}};return new Promise((w,S)=>y(w,S))}decodeContinuously(l,h){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);h(y,null),setTimeout(p,this.timeBetweenScansMillis)}catch(y){h(null,y);const w=y instanceof _||y instanceof G,S=y instanceof me;(w||S)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(l){const h=this.createBinaryBitmap(l);return this.decodeBitmap(h)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,h,p){h||(h={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(l,h,p=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const h=this.getCaptureCanvas(l),p=new se(h),y=new be(p);return new b(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const h=this.createCaptureCanvas(l);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let p,y;return typeof l!="undefined"&&(l instanceof HTMLVideoElement?(p=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(p=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),h.style.width=p+"px",h.style.height=y+"px",h.width=p,h.height=y,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,h){try{l.srcObject=h}catch(p){l.src=URL.createObjectURL(h)}}cleanVideoSource(l){try{l.srcObject=null}catch(h){l.src=""}this.videoElement.removeAttribute("src")}}class J{constructor(l,h,p=h==null?0:8*h.length,y,w,S=A.currentTimeMillis()){this.text=l,this.rawBytes=h,this.numBits=p,this.resultPoints=y,this.format=w,this.timestamp=S,this.text=l,this.rawBytes=h,p==null?this.numBits=h==null?0:8*h.length:this.numBits=p,this.resultPoints=y,this.format=w,this.resultMetadata=null,S==null?this.timestamp=A.currentTimeMillis():this.timestamp=S}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,h)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const h=this.resultPoints;if(h===null)this.resultPoints=l;else if(l!==null&&l.length>0){const p=new Array(h.length+l.length);A.arraycopy(h,0,p,0,h.length),A.arraycopy(l,0,p,h.length,l.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var re;(function(ce){ce[ce.AZTEC=0]="AZTEC",ce[ce.CODABAR=1]="CODABAR",ce[ce.CODE_39=2]="CODE_39",ce[ce.CODE_93=3]="CODE_93",ce[ce.CODE_128=4]="CODE_128",ce[ce.DATA_MATRIX=5]="DATA_MATRIX",ce[ce.EAN_8=6]="EAN_8",ce[ce.EAN_13=7]="EAN_13",ce[ce.ITF=8]="ITF",ce[ce.MAXICODE=9]="MAXICODE",ce[ce.PDF_417=10]="PDF_417",ce[ce.QR_CODE=11]="QR_CODE",ce[ce.RSS_14=12]="RSS_14",ce[ce.RSS_EXPANDED=13]="RSS_EXPANDED",ce[ce.UPC_A=14]="UPC_A",ce[ce.UPC_E=15]="UPC_E",ce[ce.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var le=re,Ue;(function(ce){ce[ce.OTHER=0]="OTHER",ce[ce.ORIENTATION=1]="ORIENTATION",ce[ce.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ce[ce.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ce[ce.ISSUE_NUMBER=4]="ISSUE_NUMBER",ce[ce.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ce[ce.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ce[ce.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ce[ce.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ce[ce.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ce[ce.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ue||(Ue={}));var Te=Ue;class Me{constructor(l,h,p,y,w=-1,S=-1){this.rawBytes=l,this.text=h,this.byteSegments=p,this.ecLevel=y,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=S,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}static addOrSubtract(l,h){return l^h}}class ze{constructor(l,h){if(h.length===0)throw new v;this.field=l;const p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-y),A.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const h=this.coefficients;let p;if(l===1){p=0;for(let S=0,T=h.length;S!==T;S++){const k=h[S];p=Oe.addOrSubtract(p,k)}return p}p=h[0];const y=h.length,w=this.field;for(let S=1;S<y;S++)p=Oe.addOrSubtract(w.multiply(l,p),h[S]);return p}addOrSubtract(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,p=l.coefficients;if(h.length>p.length){const S=h;h=p,p=S}let y=new Int32Array(p.length);const w=p.length-h.length;A.arraycopy(p,0,y,0,w);for(let S=w;S<p.length;S++)y[S]=Oe.addOrSubtract(h[S-w],p[S]);return new ze(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const h=this.coefficients,p=h.length,y=l.coefficients,w=y.length,S=new Int32Array(p+w-1),T=this.field;for(let k=0;k<p;k++){const B=h[k];for(let Q=0;Q<w;Q++)S[k+Q]=Oe.addOrSubtract(S[k+Q],T.multiply(B,y[Q]))}return new ze(T,S)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const h=this.coefficients.length,p=this.field,y=new Int32Array(h),w=this.coefficients;for(let S=0;S<h;S++)y[S]=p.multiply(w[S],l);return new ze(p,y)}multiplyByMonomial(l,h){if(l<0)throw new v;if(h===0)return this.field.getZero();const p=this.coefficients,y=p.length,w=new Int32Array(y+l),S=this.field;for(let T=0;T<y;T++)w[T]=S.multiply(p[T],h);return new ze(S,w)}divide(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new v("Divide by 0");const h=this.field;let p=h.getZero(),y=this;const w=l.getCoefficient(l.getDegree()),S=h.inverse(w);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const T=y.getDegree()-l.getDegree(),k=h.multiply(y.getCoefficient(y.getDegree()),S),B=l.multiplyByMonomial(T,k),Q=h.buildMonomial(T,k);p=p.addOrSubtract(Q),y=y.addOrSubtract(B)}return[p,y]}toString(){let l="";for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);if(p!==0){if(p<0?(l+=" - ",p=-p):l.length>0&&(l+=" + "),h===0||p!==1){const y=this.field.log(p);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}h!==0&&(h===1?l+="x":(l+="x^",l+=h))}}return l}}class st extends u{}st.kind="ArithmeticException";class ct extends Oe{constructor(l,h,p){super(),this.primitive=l,this.size=h,this.generatorBase=p;const y=new Int32Array(h);let w=1;for(let T=0;T<h;T++)y[T]=w,w*=2,w>=h&&(w^=l,w&=h-1);this.expTable=y;const S=new Int32Array(h);for(let T=0;T<h-1;T++)S[y[T]]=T;this.logTable=S,this.zero=new ze(this,Int32Array.from([0])),this.one=new ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new v;if(h===0)return this.zero;const p=new Int32Array(l+1);return p[0]=h,new ze(this,p)}inverse(l){if(l===0)throw new st;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}ct.AZTEC_DATA_12=new ct(4201,4096,1),ct.AZTEC_DATA_10=new ct(1033,1024,1),ct.AZTEC_DATA_6=new ct(67,64,1),ct.AZTEC_PARAM=new ct(19,16,1),ct.QR_CODE_FIELD_256=new ct(285,256,0),ct.DATA_MATRIX_FIELD_256=new ct(301,256,1),ct.AZTEC_DATA_8=ct.DATA_MATRIX_FIELD_256,ct.MAXICODE_FIELD_64=ct.AZTEC_DATA_6;class Nt extends u{}Nt.kind="ReedSolomonException";class it extends u{}it.kind="IllegalStateException";class fe{constructor(l){this.field=l}decode(l,h){const p=this.field,y=new ze(p,l),w=new Int32Array(h);let S=!0;for(let De=0;De<h;De++){const We=y.evaluateAt(p.exp(De+p.getGeneratorBase()));w[w.length-1-De]=We,We!==0&&(S=!1)}if(S)return;const T=new ze(p,w),k=this.runEuclideanAlgorithm(p.buildMonomial(h,1),T,h),B=k[0],Q=k[1],oe=this.findErrorLocations(B),xe=this.findErrorMagnitudes(Q,oe);for(let De=0;De<oe.length;De++){const We=l.length-1-p.log(oe[De]);if(We<0)throw new Nt("Bad error location");l[We]=ct.addOrSubtract(l[We],xe[De])}}runEuclideanAlgorithm(l,h,p){if(l.getDegree()<h.getDegree()){const De=l;l=h,h=De}const y=this.field;let w=l,S=h,T=y.getZero(),k=y.getOne();for(;S.getDegree()>=(p/2|0);){let De=w,We=T;if(w=S,T=k,w.isZero())throw new Nt("r_{i-1} was zero");S=De;let $e=y.getZero();const tt=w.getCoefficient(w.getDegree()),xt=y.inverse(tt);for(;S.getDegree()>=w.getDegree()&&!S.isZero();){const Pt=S.getDegree()-w.getDegree(),qt=y.multiply(S.getCoefficient(S.getDegree()),xt);$e=$e.addOrSubtract(y.buildMonomial(Pt,qt)),S=S.addOrSubtract(w.multiplyByMonomial(Pt,qt))}if(k=$e.multiply(T).addOrSubtract(We),S.getDegree()>=w.getDegree())throw new it("Division algorithm failed to reduce polynomial?")}const B=k.getCoefficient(0);if(B===0)throw new Nt("sigmaTilde(0) was zero");const Q=y.inverse(B),oe=k.multiplyScalar(Q),xe=S.multiplyScalar(Q);return[oe,xe]}findErrorLocations(l){const h=l.getDegree();if(h===1)return Int32Array.from([l.getCoefficient(1)]);const p=new Int32Array(h);let y=0;const w=this.field;for(let S=1;S<w.getSize()&&y<h;S++)l.evaluateAt(S)===0&&(p[y]=w.inverse(S),y++);if(y!==h)throw new Nt("Error locator degree does not match number of roots");return p}findErrorMagnitudes(l,h){const p=h.length,y=new Int32Array(p),w=this.field;for(let S=0;S<p;S++){const T=w.inverse(h[S]);let k=1;for(let B=0;B<p;B++)if(S!==B){const Q=w.multiply(h[B],T),oe=(Q&1)===0?Q|1:Q&-2;k=w.multiply(k,oe)}y[S]=w.multiply(l.evaluateAt(T),w.inverse(k)),w.getGeneratorBase()!==0&&(y[S]=w.multiply(y[S],T))}return y}}var Ve;(function(ce){ce[ce.UPPER=0]="UPPER",ce[ce.LOWER=1]="LOWER",ce[ce.MIXED=2]="MIXED",ce[ce.DIGIT=3]="DIGIT",ce[ce.PUNCT=4]="PUNCT",ce[ce.BINARY=5]="BINARY"})(Ve||(Ve={}));class rt{decode(l){this.ddata=l;let h=l.getBits(),p=this.extractBits(h),y=this.correctBits(p),w=rt.convertBoolArrayToByteArray(y),S=rt.getEncodedData(y),T=new Me(w,S,null,null);return T.setNumBits(y.length),T}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let h=l.length,p=Ve.UPPER,y=Ve.UPPER,w="",S=0;for(;S<h;)if(y===Ve.BINARY){if(h-S<5)break;let T=rt.readCode(l,S,5);if(S+=5,T===0){if(h-S<11)break;T=rt.readCode(l,S,11)+31,S+=11}for(let k=0;k<T;k++){if(h-S<8){S=h;break}const B=rt.readCode(l,S,8);w+=H.castAsNonUtf8Char(B),S+=8}y=p}else{let T=y===Ve.DIGIT?4:5;if(h-S<T)break;let k=rt.readCode(l,S,T);S+=T;let B=rt.getCharacter(y,k);B.startsWith("CTRL_")?(p=y,y=rt.getTable(B.charAt(5)),B.charAt(6)==="L"&&(p=y)):(w+=B,y=p)}return w}static getTable(l){switch(l){case"L":return Ve.LOWER;case"P":return Ve.PUNCT;case"M":return Ve.MIXED;case"D":return Ve.DIGIT;case"B":return Ve.BINARY;case"U":default:return Ve.UPPER}}static getCharacter(l,h){switch(l){case Ve.UPPER:return rt.UPPER_TABLE[h];case Ve.LOWER:return rt.LOWER_TABLE[h];case Ve.MIXED:return rt.MIXED_TABLE[h];case Ve.PUNCT:return rt.PUNCT_TABLE[h];case Ve.DIGIT:return rt.DIGIT_TABLE[h];default:throw new it("Bad table")}}correctBits(l){let h,p;this.ddata.getNbLayers()<=2?(p=6,h=ct.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,h=ct.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,h=ct.AZTEC_DATA_10):(p=12,h=ct.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),w=l.length/p;if(w<y)throw new G;let S=l.length%p,T=new Int32Array(w);for(let xe=0;xe<w;xe++,S+=p)T[xe]=rt.readCode(l,S,p);try{new fe(h).decode(T,w-y)}catch(xe){throw new G(xe)}let k=(1<<p)-1,B=0;for(let xe=0;xe<y;xe++){let De=T[xe];if(De===0||De===k)throw new G;(De===1||De===k-1)&&B++}let Q=new Array(y*p-B),oe=0;for(let xe=0;xe<y;xe++){let De=T[xe];if(De===1||De===k-1)Q.fill(De>1,oe,oe+p-1),oe+=p-1;else for(let We=p-1;We>=0;--We)Q[oe++]=(De&1<<We)!==0}return Q}extractBits(l){let h=this.ddata.isCompact(),p=this.ddata.getNbLayers(),y=(h?11:14)+p*4,w=new Int32Array(y),S=new Array(this.totalBitsInLayer(p,h));if(h)for(let T=0;T<w.length;T++)w[T]=T;else{let T=y+1+2*P.truncDivision(P.truncDivision(y,2)-1,15),k=y/2,B=P.truncDivision(T,2);for(let Q=0;Q<k;Q++){let oe=Q+P.truncDivision(Q,15);w[k-Q-1]=B-oe-1,w[k+Q]=B+oe+1}}for(let T=0,k=0;T<p;T++){let B=(p-T)*4+(h?9:12),Q=T*2,oe=y-1-Q;for(let xe=0;xe<B;xe++){let De=xe*2;for(let We=0;We<2;We++)S[k+De+We]=l.get(w[Q+We],w[Q+xe]),S[k+2*B+De+We]=l.get(w[Q+xe],w[oe-We]),S[k+4*B+De+We]=l.get(w[oe-We],w[oe-xe]),S[k+6*B+De+We]=l.get(w[oe-xe],w[Q+We])}k+=B*8}return S}static readCode(l,h,p){let y=0;for(let w=h;w<h+p;w++)y<<=1,l[w]&&(y|=1);return y}static readByte(l,h){let p=l.length-h;return p>=8?rt.readCode(l,h,8):rt.readCode(l,h,p)<<8-p}static convertBoolArrayToByteArray(l){let h=new Uint8Array((l.length+7)/8);for(let p=0;p<h.length;p++)h[p]=rt.readByte(l,8*p);return h}totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class He{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,h,p,y){const w=l-p,S=h-y;return Math.sqrt(w*w+S*S)}static sum(l){let h=0;for(let p=0,y=l.length;p!==y;p++){const w=l[p];h+=w}return h}}class Ke{static floatToIntBits(l){return l}}Ke.MAX_VALUE=Number.MAX_SAFE_INTEGER;class et{constructor(l,h){this.x=l,this.y=h}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof et){const h=l;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*Ke.floatToIntBits(this.x)+Ke.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const h=this.distance(l[0],l[1]),p=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let w,S,T;if(p>=h&&p>=y?(S=l[0],w=l[1],T=l[2]):y>=p&&y>=h?(S=l[1],w=l[0],T=l[2]):(S=l[2],w=l[0],T=l[1]),this.crossProductZ(w,S,T)<0){const k=w;w=T,T=k}l[0]=w,l[1]=S,l[2]=T}static distance(l,h){return He.distance(l.x,l.y,h.x,h.y)}static crossProductZ(l,h,p){const y=h.x,w=h.y;return(p.x-y)*(l.y-w)-(p.y-w)*(l.x-y)}}class Dt{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Mt extends Dt{constructor(l,h,p,y,w){super(l,h),this.compact=p,this.nbDatablocks=y,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Xt{constructor(l,h,p,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),h==null&&(h=Xt.INIT_SIZE),p==null&&(p=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const w=h/2|0;if(this.leftInit=p-w,this.rightInit=p+w,this.upInit=y-w,this.downInit=y+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new me}detect(){let l=this.leftInit,h=this.rightInit,p=this.upInit,y=this.downInit,w=!1,S=!0,T=!1,k=!1,B=!1,Q=!1,oe=!1;const xe=this.width,De=this.height;for(;S;){S=!1;let We=!0;for(;(We||!k)&&h<xe;)We=this.containsBlackPoint(p,y,h,!1),We?(h++,S=!0,k=!0):k||h++;if(h>=xe){w=!0;break}let $e=!0;for(;($e||!B)&&y<De;)$e=this.containsBlackPoint(l,h,y,!0),$e?(y++,S=!0,B=!0):B||y++;if(y>=De){w=!0;break}let tt=!0;for(;(tt||!Q)&&l>=0;)tt=this.containsBlackPoint(p,y,l,!1),tt?(l--,S=!0,Q=!0):Q||l--;if(l<0){w=!0;break}let xt=!0;for(;(xt||!oe)&&p>=0;)xt=this.containsBlackPoint(l,h,p,!0),xt?(p--,S=!0,oe=!0):oe||p--;if(p<0){w=!0;break}S&&(T=!0)}if(!w&&T){const We=h-l;let $e=null;for(let qt=1;$e===null&&qt<We;qt++)$e=this.getBlackPointOnSegment(l,y-qt,l+qt,y);if($e==null)throw new me;let tt=null;for(let qt=1;tt===null&&qt<We;qt++)tt=this.getBlackPointOnSegment(l,p+qt,l+qt,p);if(tt==null)throw new me;let xt=null;for(let qt=1;xt===null&&qt<We;qt++)xt=this.getBlackPointOnSegment(h,p+qt,h-qt,p);if(xt==null)throw new me;let Pt=null;for(let qt=1;Pt===null&&qt<We;qt++)Pt=this.getBlackPointOnSegment(h,y-qt,h-qt,y);if(Pt==null)throw new me;return this.centerEdges(Pt,$e,xt,tt)}else throw new me}getBlackPointOnSegment(l,h,p,y){const w=He.round(He.distance(l,h,p,y)),S=(p-l)/w,T=(y-h)/w,k=this.image;for(let B=0;B<w;B++){const Q=He.round(l+B*S),oe=He.round(h+B*T);if(k.get(Q,oe))return new et(Q,oe)}return null}centerEdges(l,h,p,y){const w=l.getX(),S=l.getY(),T=h.getX(),k=h.getY(),B=p.getX(),Q=p.getY(),oe=y.getX(),xe=y.getY(),De=Xt.CORR;return w<this.width/2?[new et(oe-De,xe+De),new et(T+De,k+De),new et(B-De,Q-De),new et(w+De,S-De)]:[new et(oe+De,xe+De),new et(T+De,k-De),new et(B-De,Q+De),new et(w-De,S-De)]}containsBlackPoint(l,h,p,y){const w=this.image;if(y){for(let S=l;S<=h;S++)if(w.get(S,p))return!0}else for(let S=l;S<=h;S++)if(w.get(p,S))return!0;return!1}}Xt.INIT_SIZE=10,Xt.CORR=1;class hr{static checkAndNudgePoints(l,h){const p=l.getWidth(),y=l.getHeight();let w=!0;for(let S=0;S<h.length&&w;S+=2){const T=Math.floor(h[S]),k=Math.floor(h[S+1]);if(T<-1||T>p||k<-1||k>y)throw new me;w=!1,T===-1?(h[S]=0,w=!0):T===p&&(h[S]=p-1,w=!0),k===-1?(h[S+1]=0,w=!0):k===y&&(h[S+1]=y-1,w=!0)}w=!0;for(let S=h.length-2;S>=0&&w;S-=2){const T=Math.floor(h[S]),k=Math.floor(h[S+1]);if(T<-1||T>p||k<-1||k>y)throw new me;w=!1,T===-1?(h[S]=0,w=!0):T===p&&(h[S]=p-1,w=!0),k===-1?(h[S+1]=0,w=!0):k===y&&(h[S+1]=y-1,w=!0)}}}class ar{constructor(l,h,p,y,w,S,T,k,B){this.a11=l,this.a21=h,this.a31=p,this.a12=y,this.a22=w,this.a32=S,this.a13=T,this.a23=k,this.a33=B}static quadrilateralToQuadrilateral(l,h,p,y,w,S,T,k,B,Q,oe,xe,De,We,$e,tt){const xt=ar.quadrilateralToSquare(l,h,p,y,w,S,T,k);return ar.squareToQuadrilateral(B,Q,oe,xe,De,We,$e,tt).times(xt)}transformPoints(l){const h=l.length,p=this.a11,y=this.a12,w=this.a13,S=this.a21,T=this.a22,k=this.a23,B=this.a31,Q=this.a32,oe=this.a33;for(let xe=0;xe<h;xe+=2){const De=l[xe],We=l[xe+1],$e=w*De+k*We+oe;l[xe]=(p*De+S*We+B)/$e,l[xe+1]=(y*De+T*We+Q)/$e}}transformPointsWithValues(l,h){const p=this.a11,y=this.a12,w=this.a13,S=this.a21,T=this.a22,k=this.a23,B=this.a31,Q=this.a32,oe=this.a33,xe=l.length;for(let De=0;De<xe;De++){const We=l[De],$e=h[De],tt=w*We+k*$e+oe;l[De]=(p*We+S*$e+B)/tt,h[De]=(y*We+T*$e+Q)/tt}}static squareToQuadrilateral(l,h,p,y,w,S,T,k){const B=l-p+w-T,Q=h-y+S-k;if(B===0&&Q===0)return new ar(p-l,w-p,l,y-h,S-y,h,0,0,1);{const oe=p-w,xe=T-w,De=y-S,We=k-S,$e=oe*We-xe*De,tt=(B*We-xe*Q)/$e,xt=(oe*Q-B*De)/$e;return new ar(p-l+tt*p,T-l+xt*T,l,y-h+tt*y,k-h+xt*k,h,tt,xt,1)}}static quadrilateralToSquare(l,h,p,y,w,S,T,k){return ar.squareToQuadrilateral(l,h,p,y,w,S,T,k).buildAdjoint()}buildAdjoint(){return new ar(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new ar(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class dr extends hr{sampleGrid(l,h,p,y,w,S,T,k,B,Q,oe,xe,De,We,$e,tt,xt,Pt,qt){const Ht=ar.quadrilateralToQuadrilateral(y,w,S,T,k,B,Q,oe,xe,De,We,$e,tt,xt,Pt,qt);return this.sampleGridWithTransform(l,h,p,Ht)}sampleGridWithTransform(l,h,p,y){if(h<=0||p<=0)throw new me;const w=new ve(h,p),S=new Float32Array(2*h);for(let T=0;T<p;T++){const k=S.length,B=T+.5;for(let Q=0;Q<k;Q+=2)S[Q]=Q/2+.5,S[Q+1]=B;y.transformPoints(S),hr.checkAndNudgePoints(l,S);try{for(let Q=0;Q<k;Q+=2)l.get(Math.floor(S[Q]),Math.floor(S[Q+1]))&&w.set(Q/2,T)}catch(Q){throw new me}}return w}}class mr{static setGridSampler(l){mr.gridSampler=l}static getInstance(){return mr.gridSampler}}mr.gridSampler=new dr;class Qt{constructor(l,h){this.x=l,this.y=h}toResultPoint(){return new et(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Br{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let h=this.getMatrixCenter(),p=this.getBullsEyeCorners(h);if(l){let S=p[0];p[0]=p[2],p[2]=S}this.extractParameters(p);let y=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),w=this.getMatrixCornerPoints(p);return new Mt(y,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new me;let h=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(l[0],l[1],h),this.sampleLine(l[1],l[2],h),this.sampleLine(l[2],l[3],h),this.sampleLine(l[3],l[0],h)]);this.shift=this.getRotation(p,h);let y=0;for(let S=0;S<4;S++){let T=p[(this.shift+S)%4];this.compact?(y<<=7,y+=T>>1&127):(y<<=10,y+=(T>>2&992)+(T>>1&31))}let w=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(l,h){let p=0;l.forEach((y,w,S)=>{let T=(y>>h-2<<1)+(y&1);p=(p<<3)+T}),p=((p&1)<<11)+(p>>1);for(let y=0;y<4;y++)if(P.bitCount(p^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new me}getCorrectedParameterData(l,h){let p,y;h?(p=7,y=2):(p=10,y=4);let w=p-y,S=new Int32Array(p);for(let k=p-1;k>=0;--k)S[k]=l&15,l>>=4;try{new fe(ct.AZTEC_PARAM).decode(S,w)}catch(k){throw new me}let T=0;for(let k=0;k<y;k++)T=(T<<4)+S[k];return T}getBullsEyeCorners(l){let h=l,p=l,y=l,w=l,S=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let oe=this.getFirstDifferent(h,S,1,-1),xe=this.getFirstDifferent(p,S,1,1),De=this.getFirstDifferent(y,S,-1,1),We=this.getFirstDifferent(w,S,-1,-1);if(this.nbCenterLayers>2){let $e=this.distancePoint(We,oe)*this.nbCenterLayers/(this.distancePoint(w,h)*(this.nbCenterLayers+2));if($e<.75||$e>1.25||!this.isWhiteOrBlackRectangle(oe,xe,De,We))break}h=oe,p=xe,y=De,w=We,S=!S}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new me;this.compact=this.nbCenterLayers===5;let T=new et(h.getX()+.5,h.getY()-.5),k=new et(p.getX()+.5,p.getY()+.5),B=new et(y.getX()-.5,y.getY()+.5),Q=new et(w.getX()-.5,w.getY()-.5);return this.expandSquare([T,k,B,Q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,h,p,y;try{let T=new Xt(this.image).detect();l=T[0],h=T[1],p=T[2],y=T[3]}catch(T){let k=this.image.getWidth()/2,B=this.image.getHeight()/2;l=this.getFirstDifferent(new Qt(k+7,B-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Qt(k+7,B+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Qt(k-7,B+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Qt(k-7,B-7),!1,-1,-1).toResultPoint()}let w=He.round((l.getX()+y.getX()+h.getX()+p.getX())/4),S=He.round((l.getY()+y.getY()+h.getY()+p.getY())/4);try{let T=new Xt(this.image,15,w,S).detect();l=T[0],h=T[1],p=T[2],y=T[3]}catch(T){l=this.getFirstDifferent(new Qt(w+7,S-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Qt(w+7,S+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Qt(w-7,S+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Qt(w-7,S-7),!1,-1,-1).toResultPoint()}return w=He.round((l.getX()+y.getX()+h.getX()+p.getX())/4),S=He.round((l.getY()+y.getY()+h.getY()+p.getY())/4),new Qt(w,S)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,h,p,y,w){let S=mr.getInstance(),T=this.getDimension(),k=T/2-this.nbCenterLayers,B=T/2+this.nbCenterLayers;return S.sampleGrid(l,T,T,k,k,B,k,B,B,k,B,h.getX(),h.getY(),p.getX(),p.getY(),y.getX(),y.getY(),w.getX(),w.getY())}sampleLine(l,h,p){let y=0,w=this.distanceResultPoint(l,h),S=w/p,T=l.getX(),k=l.getY(),B=S*(h.getX()-l.getX())/w,Q=S*(h.getY()-l.getY())/w;for(let oe=0;oe<p;oe++)this.image.get(He.round(T+oe*B),He.round(k+oe*Q))&&(y|=1<<p-oe-1);return y}isWhiteOrBlackRectangle(l,h,p,y){let w=3;l=new Qt(l.getX()-w,l.getY()+w),h=new Qt(h.getX()-w,h.getY()-w),p=new Qt(p.getX()+w,p.getY()-w),y=new Qt(y.getX()+w,y.getY()+w);let S=this.getColor(y,l);if(S===0)return!1;let T=this.getColor(l,h);return T!==S||(T=this.getColor(h,p),T!==S)?!1:(T=this.getColor(p,y),T===S)}getColor(l,h){let p=this.distancePoint(l,h),y=(h.getX()-l.getX())/p,w=(h.getY()-l.getY())/p,S=0,T=l.getX(),k=l.getY(),B=this.image.get(l.getX(),l.getY()),Q=Math.ceil(p);for(let xe=0;xe<Q;xe++)T+=y,k+=w,this.image.get(He.round(T),He.round(k))!==B&&S++;let oe=S/p;return oe>.1&&oe<.9?0:oe<=.1===B?1:-1}getFirstDifferent(l,h,p,y){let w=l.getX()+p,S=l.getY()+y;for(;this.isValid(w,S)&&this.image.get(w,S)===h;)w+=p,S+=y;for(w-=p,S-=y;this.isValid(w,S)&&this.image.get(w,S)===h;)w+=p;for(w-=p;this.isValid(w,S)&&this.image.get(w,S)===h;)S+=y;return S-=y,new Qt(w,S)}expandSquare(l,h,p){let y=p/(2*h),w=l[0].getX()-l[2].getX(),S=l[0].getY()-l[2].getY(),T=(l[0].getX()+l[2].getX())/2,k=(l[0].getY()+l[2].getY())/2,B=new et(T+y*w,k+y*S),Q=new et(T-y*w,k-y*S);w=l[1].getX()-l[3].getX(),S=l[1].getY()-l[3].getY(),T=(l[1].getX()+l[3].getX())/2,k=(l[1].getY()+l[3].getY())/2;let oe=new et(T+y*w,k+y*S),xe=new et(T-y*w,k-y*S);return[B,oe,Q,xe]}isValid(l,h){return l>=0&&l<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(l){let h=He.round(l.getX()),p=He.round(l.getY());return this.isValid(h,p)}distancePoint(l,h){return He.distance(l.getX(),l.getY(),h.getX(),h.getY())}distanceResultPoint(l,h){return He.distance(l.getX(),l.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class Kt{decode(l,h=null){let p=null,y=new Br(l.getBlackMatrix()),w=null,S=null;try{let Q=y.detectMirror(!1);w=Q.getPoints(),this.reportFoundResultPoints(h,w),S=new rt().decode(Q)}catch(Q){p=Q}if(S==null)try{let Q=y.detectMirror(!0);w=Q.getPoints(),this.reportFoundResultPoints(h,w),S=new rt().decode(Q)}catch(Q){throw p!=null?p:Q}let T=new J(S.getText(),S.getRawBytes(),S.getNumBits(),w,le.AZTEC,A.currentTimeMillis()),k=S.getByteSegments();k!=null&&T.putMetadata(Te.BYTE_SEGMENTS,k);let B=S.getECLevel();return B!=null&&T.putMetadata(Te.ERROR_CORRECTION_LEVEL,B),T}reportFoundResultPoints(l,h){if(l!=null){let p=l.get(K.NEED_RESULT_POINT_CALLBACK);p!=null&&h.forEach((y,w,S)=>{p.foundPossibleResultPoint(y)})}}reset(){}}class Lr extends q{constructor(l=500){super(new Kt,l)}}class fr{decode(l,h){try{return this.doDecode(l,h)}catch(p){if(h&&h.get(K.TRY_HARDER)===!0&&l.isRotateSupported()){const w=l.rotateCounterClockwise(),S=this.doDecode(w,h),T=S.getResultMetadata();let k=270;T!==null&&T.get(Te.ORIENTATION)===!0&&(k=k+T.get(Te.ORIENTATION)%360),S.putMetadata(Te.ORIENTATION,k);const B=S.getResultPoints();if(B!==null){const Q=w.getHeight();for(let oe=0;oe<B.length;oe++)B[oe]=new et(Q-B[oe].getY()-1,B[oe].getX())}return S}else throw new me}}reset(){}doDecode(l,h){const p=l.getWidth(),y=l.getHeight();let w=new X(p);const S=h&&h.get(K.TRY_HARDER)===!0,T=Math.max(1,y>>(S?8:5));let k;S?k=y:k=15;const B=Math.trunc(y/2);for(let Q=0;Q<k;Q++){const oe=Math.trunc((Q+1)/2),xe=(Q&1)===0,De=B+T*(xe?oe:-oe);if(De<0||De>=y)break;try{w=l.getBlackRow(De,w)}catch(We){continue}for(let We=0;We<2;We++){if(We===1&&(w.reverse(),h&&h.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const $e=new Map;h.forEach((tt,xt)=>$e.set(xt,tt)),$e.delete(K.NEED_RESULT_POINT_CALLBACK),h=$e}try{const $e=this.decodeRow(De,w,h);if(We===1){$e.putMetadata(Te.ORIENTATION,180);const tt=$e.getResultPoints();tt!==null&&(tt[0]=new et(p-tt[0].getX()-1,tt[0].getY()),tt[1]=new et(p-tt[1].getX()-1,tt[1].getY()))}return $e}catch($e){}}}throw new me}static recordPattern(l,h,p){const y=p.length;for(let B=0;B<y;B++)p[B]=0;const w=l.getSize();if(h>=w)throw new me;let S=!l.get(h),T=0,k=h;for(;k<w;){if(l.get(k)!==S)p[T]++;else{if(++T===y)break;p[T]=1,S=!S}k++}if(!(T===y||T===y-1&&k===w))throw new me}static recordPatternInReverse(l,h,p){let y=p.length,w=l.get(h);for(;h>0&&y>=0;)l.get(--h)!==w&&(y--,w=!w);if(y>=0)throw new me;fr.recordPattern(l,h+1,p)}static patternMatchVariance(l,h,p){const y=l.length;let w=0,S=0;for(let B=0;B<y;B++)w+=l[B],S+=h[B];if(w<S)return Number.POSITIVE_INFINITY;const T=w/S;p*=T;let k=0;for(let B=0;B<y;B++){const Q=l[B],oe=h[B]*T,xe=Q>oe?Q-oe:oe-Q;if(xe>p)return Number.POSITIVE_INFINITY;k+=xe}return k/w}}class Vt extends fr{static findStartPattern(l){const h=l.getSize(),p=l.getNextSet(0);let y=0,w=Int32Array.from([0,0,0,0,0,0]),S=p,T=!1;const k=6;for(let B=p;B<h;B++)if(l.get(B)!==T)w[y]++;else{if(y===k-1){let Q=Vt.MAX_AVG_VARIANCE,oe=-1;for(let xe=Vt.CODE_START_A;xe<=Vt.CODE_START_C;xe++){const De=fr.patternMatchVariance(w,Vt.CODE_PATTERNS[xe],Vt.MAX_INDIVIDUAL_VARIANCE);De<Q&&(Q=De,oe=xe)}if(oe>=0&&l.isRange(Math.max(0,S-(B-S)/2),S,!1))return Int32Array.from([S,B,oe]);S+=w[0]+w[1],w=w.slice(2,w.length-1),w[y-1]=0,w[y]=0,y--}else y++;w[y]=1,T=!T}throw new me}static decodeCode(l,h,p){fr.recordPattern(l,p,h);let y=Vt.MAX_AVG_VARIANCE,w=-1;for(let S=0;S<Vt.CODE_PATTERNS.length;S++){const T=Vt.CODE_PATTERNS[S],k=this.patternMatchVariance(h,T,Vt.MAX_INDIVIDUAL_VARIANCE);k<y&&(y=k,w=S)}if(w>=0)return w;throw new me}decodeRow(l,h,p){const y=p&&p.get(K.ASSUME_GS1)===!0,w=Vt.findStartPattern(h),S=w[2];let T=0;const k=new Uint8Array(20);k[T++]=S;let B;switch(S){case Vt.CODE_START_A:B=Vt.CODE_CODE_A;break;case Vt.CODE_START_B:B=Vt.CODE_CODE_B;break;case Vt.CODE_START_C:B=Vt.CODE_CODE_C;break;default:throw new G}let Q=!1,oe=!1,xe="",De=w[0],We=w[1];const $e=Int32Array.from([0,0,0,0,0,0]);let tt=0,xt=0,Pt=S,qt=0,Ht=!0,Wr=!1,Pr=!1;for(;!Q;){const hs=oe;switch(oe=!1,tt=xt,xt=Vt.decodeCode(h,$e,We),k[T++]=xt,xt!==Vt.CODE_STOP&&(Ht=!0),xt!==Vt.CODE_STOP&&(qt++,Pt+=qt*xt),De=We,We+=$e.reduce((vi,Xa)=>vi+Xa,0),xt){case Vt.CODE_START_A:case Vt.CODE_START_B:case Vt.CODE_START_C:throw new G}switch(B){case Vt.CODE_CODE_A:if(xt<64)Pr===Wr?xe+=String.fromCharCode(32+xt):xe+=String.fromCharCode(32+xt+128),Pr=!1;else if(xt<96)Pr===Wr?xe+=String.fromCharCode(xt-64):xe+=String.fromCharCode(xt+64),Pr=!1;else switch(xt!==Vt.CODE_STOP&&(Ht=!1),xt){case Vt.CODE_FNC_1:y&&(xe.length===0?xe+="]C1":xe+="");break;case Vt.CODE_FNC_2:case Vt.CODE_FNC_3:break;case Vt.CODE_FNC_4_A:!Wr&&Pr?(Wr=!0,Pr=!1):Wr&&Pr?(Wr=!1,Pr=!1):Pr=!0;break;case Vt.CODE_SHIFT:oe=!0,B=Vt.CODE_CODE_B;break;case Vt.CODE_CODE_B:B=Vt.CODE_CODE_B;break;case Vt.CODE_CODE_C:B=Vt.CODE_CODE_C;break;case Vt.CODE_STOP:Q=!0;break}break;case Vt.CODE_CODE_B:if(xt<96)Pr===Wr?xe+=String.fromCharCode(32+xt):xe+=String.fromCharCode(32+xt+128),Pr=!1;else switch(xt!==Vt.CODE_STOP&&(Ht=!1),xt){case Vt.CODE_FNC_1:y&&(xe.length===0?xe+="]C1":xe+="");break;case Vt.CODE_FNC_2:case Vt.CODE_FNC_3:break;case Vt.CODE_FNC_4_B:!Wr&&Pr?(Wr=!0,Pr=!1):Wr&&Pr?(Wr=!1,Pr=!1):Pr=!0;break;case Vt.CODE_SHIFT:oe=!0,B=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_A:B=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_C:B=Vt.CODE_CODE_C;break;case Vt.CODE_STOP:Q=!0;break}break;case Vt.CODE_CODE_C:if(xt<100)xt<10&&(xe+="0"),xe+=xt;else switch(xt!==Vt.CODE_STOP&&(Ht=!1),xt){case Vt.CODE_FNC_1:y&&(xe.length===0?xe+="]C1":xe+="");break;case Vt.CODE_CODE_A:B=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_B:B=Vt.CODE_CODE_B;break;case Vt.CODE_STOP:Q=!0;break}break}hs&&(B=B===Vt.CODE_CODE_A?Vt.CODE_CODE_B:Vt.CODE_CODE_A)}const Ci=We-De;if(We=h.getNextUnset(We),!h.isRange(We,Math.min(h.getSize(),We+(We-De)/2),!1))throw new me;if(Pt-=qt*tt,Pt%103!==tt)throw new _;const Yi=xe.length;if(Yi===0)throw new me;Yi>0&&Ht&&(B===Vt.CODE_CODE_C?xe=xe.substring(0,Yi-2):xe=xe.substring(0,Yi-1));const Ti=(w[1]+w[0])/2,wn=De+Ci/2,xi=k.length,Bi=new Uint8Array(xi);for(let hs=0;hs<xi;hs++)Bi[hs]=k[hs];const Da=[new et(Ti,l),new et(wn,l)];return new J(xe,Bi,0,Da,le.CODE_128,new Date().getTime())}}Vt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Vt.MAX_AVG_VARIANCE=.25,Vt.MAX_INDIVIDUAL_VARIANCE=.7,Vt.CODE_SHIFT=98,Vt.CODE_CODE_C=99,Vt.CODE_CODE_B=100,Vt.CODE_CODE_A=101,Vt.CODE_FNC_1=102,Vt.CODE_FNC_2=97,Vt.CODE_FNC_3=96,Vt.CODE_FNC_4_A=101,Vt.CODE_FNC_4_B=100,Vt.CODE_START_A=103,Vt.CODE_START_B=104,Vt.CODE_START_C=105,Vt.CODE_STOP=106;class wr extends fr{constructor(l=!1,h=!1){super(),this.usingCheckDigit=l,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,h,p){let y=this.counters;y.fill(0),this.decodeRowResult="";let w=wr.findAsteriskPattern(h,y),S=h.getNextSet(w[1]),T=h.getSize(),k,B;do{wr.recordPattern(h,S,y);let $e=wr.toNarrowWidePattern(y);if($e<0)throw new me;k=wr.patternToChar($e),this.decodeRowResult+=k,B=S;for(let tt of y)S+=tt;S=h.getNextSet(S)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let Q=0;for(let $e of y)Q+=$e;let oe=S-B-Q;if(S!==T&&oe*2<Q)throw new me;if(this.usingCheckDigit){let $e=this.decodeRowResult.length-1,tt=0;for(let xt=0;xt<$e;xt++)tt+=wr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(xt));if(this.decodeRowResult.charAt($e)!==wr.ALPHABET_STRING.charAt(tt%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,$e)}if(this.decodeRowResult.length===0)throw new me;let xe;this.extendedMode?xe=wr.decodeExtended(this.decodeRowResult):xe=this.decodeRowResult;let De=(w[1]+w[0])/2,We=B+Q/2;return new J(xe,null,0,[new et(De,l),new et(We,l)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(l,h){let p=l.getSize(),y=l.getNextSet(0),w=0,S=y,T=!1,k=h.length;for(let B=y;B<p;B++)if(l.get(B)!==T)h[w]++;else{if(w===k-1){if(this.toNarrowWidePattern(h)===wr.ASTERISK_ENCODING&&l.isRange(Math.max(0,S-Math.floor((B-S)/2)),S,!1))return[S,B];S+=h[0]+h[1],h.copyWithin(0,2,2+w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,T=!T}throw new me}static toNarrowWidePattern(l){let h=l.length,p=0,y;do{let w=2147483647;for(let k of l)k<w&&k>p&&(w=k);p=w,y=0;let S=0,T=0;for(let k=0;k<h;k++){let B=l[k];B>p&&(T|=1<<h-1-k,y++,S+=B)}if(y===3){for(let k=0;k<h&&y>0;k++){let B=l[k];if(B>p&&(y--,B*2>=S))return-1}return T}}while(y>3);return-1}static patternToChar(l){for(let h=0;h<wr.CHARACTER_ENCODINGS.length;h++)if(wr.CHARACTER_ENCODINGS[h]===l)return wr.ALPHABET_STRING.charAt(h);if(l===wr.ASTERISK_ENCODING)return"*";throw new me}static decodeExtended(l){let h=l.length,p="";for(let y=0;y<h;y++){let w=l.charAt(y);if(w==="+"||w==="$"||w==="%"||w==="/"){let S=l.charAt(y+1),T="\0";switch(w){case"+":if(S>="A"&&S<="Z")T=String.fromCharCode(S.charCodeAt(0)+32);else throw new G;break;case"$":if(S>="A"&&S<="Z")T=String.fromCharCode(S.charCodeAt(0)-64);else throw new G;break;case"%":if(S>="A"&&S<="E")T=String.fromCharCode(S.charCodeAt(0)-38);else if(S>="F"&&S<="J")T=String.fromCharCode(S.charCodeAt(0)-11);else if(S>="K"&&S<="O")T=String.fromCharCode(S.charCodeAt(0)+16);else if(S>="P"&&S<="T")T=String.fromCharCode(S.charCodeAt(0)+43);else if(S==="U")T="\0";else if(S==="V")T="@";else if(S==="W")T="`";else if(S==="X"||S==="Y"||S==="Z")T="";else throw new G;break;case"/":if(S>="A"&&S<="O")T=String.fromCharCode(S.charCodeAt(0)-32);else if(S==="Z")T=":";else throw new G;break}p+=T,y++}else p+=w}return p}}wr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",wr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],wr.ASTERISK_ENCODING=148;class gr extends fr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,h,p){let y=this.decodeStart(h),w=this.decodeEnd(h),S=new ne;gr.decodeMiddle(h,y[1],w[0],S);let T=S.toString(),k=null;p!=null&&(k=p.get(K.ALLOWED_LENGTHS)),k==null&&(k=gr.DEFAULT_ALLOWED_LENGTHS);let B=T.length,Q=!1,oe=0;for(let We of k){if(B===We){Q=!0;break}We>oe&&(oe=We)}if(!Q&&B>oe&&(Q=!0),!Q)throw new G;const xe=[new et(y[1],l),new et(w[0],l)];return new J(T,null,0,xe,le.ITF,new Date().getTime())}static decodeMiddle(l,h,p,y){let w=new Int32Array(10),S=new Int32Array(5),T=new Int32Array(5);for(w.fill(0),S.fill(0),T.fill(0);h<p;){fr.recordPattern(l,h,w);for(let B=0;B<5;B++){let Q=2*B;S[B]=w[Q],T[B]=w[Q+1]}let k=gr.decodeDigit(S);y.append(k.toString()),k=this.decodeDigit(T),y.append(k.toString()),w.forEach(function(B){h+=B})}}decodeStart(l){let h=gr.skipWhiteSpace(l),p=gr.findGuardPattern(l,h,gr.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(l,p[0]),p}validateQuietZone(l,h){let p=this.narrowLineWidth*10;p=p<h?p:h;for(let y=h-1;p>0&&y>=0&&!l.get(y);y--)p--;if(p!==0)throw new me}static skipWhiteSpace(l){const h=l.getSize(),p=l.getNextSet(0);if(p===h)throw new me;return p}decodeEnd(l){l.reverse();try{let h=gr.skipWhiteSpace(l),p;try{p=gr.findGuardPattern(l,h,gr.END_PATTERN_REVERSED[0])}catch(w){w instanceof me&&(p=gr.findGuardPattern(l,h,gr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,p[0]);let y=p[0];return p[0]=l.getSize()-p[1],p[1]=l.getSize()-y,p}finally{l.reverse()}}static findGuardPattern(l,h,p){let y=p.length,w=new Int32Array(y),S=l.getSize(),T=!1,k=0,B=h;w.fill(0);for(let Q=h;Q<S;Q++)if(l.get(Q)!==T)w[k]++;else{if(k===y-1){if(fr.patternMatchVariance(w,p,gr.MAX_INDIVIDUAL_VARIANCE)<gr.MAX_AVG_VARIANCE)return[B,Q];B+=w[0]+w[1],A.arraycopy(w,2,w,0,k-1),w[k-1]=0,w[k]=0,k--}else k++;w[k]=1,T=!T}throw new me}static decodeDigit(l){let h=gr.MAX_AVG_VARIANCE,p=-1,y=gr.PATTERNS.length;for(let w=0;w<y;w++){let S=gr.PATTERNS[w],T=fr.patternMatchVariance(l,S,gr.MAX_INDIVIDUAL_VARIANCE);T<h?(h=T,p=w):T===h&&(p=-1)}if(p>=0)return p%10;throw new me}}gr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gr.MAX_AVG_VARIANCE=.38,gr.MAX_INDIVIDUAL_VARIANCE=.5,gr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gr.START_PATTERN=Int32Array.from([1,1,1,1]),gr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kr extends fr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let h=!1,p,y=0,w=Int32Array.from([0,0,0]);for(;!h;){w=Int32Array.from([0,0,0]),p=Kr.findGuardPattern(l,y,!1,this.START_END_PATTERN,w);let S=p[0];y=p[1];let T=S-(y-S);T>=0&&(h=l.isRange(T,S,!1))}return p}static checkChecksum(l){return Kr.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let p=parseInt(l.charAt(h-1),10);return Kr.getStandardUPCEANChecksum(l.substring(0,h-1))===p}static getStandardUPCEANChecksum(l){let h=l.length,p=0;for(let y=h-1;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new G;p+=w}p*=3;for(let y=h-2;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new G;p+=w}return(1e3-p)%10}static decodeEnd(l,h){return Kr.findGuardPattern(l,h,!1,Kr.START_END_PATTERN,new Int32Array(Kr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,h,p,y){return this.findGuardPattern(l,h,p,y,new Int32Array(y.length))}static findGuardPattern(l,h,p,y,w){let S=l.getSize();h=p?l.getNextUnset(h):l.getNextSet(h);let T=0,k=h,B=y.length,Q=p;for(let oe=h;oe<S;oe++)if(l.get(oe)!==Q)w[T]++;else{if(T===B-1){if(fr.patternMatchVariance(w,y,Kr.MAX_INDIVIDUAL_VARIANCE)<Kr.MAX_AVG_VARIANCE)return Int32Array.from([k,oe]);k+=w[0]+w[1];let xe=w.slice(2,w.length-1);for(let De=0;De<T-1;De++)w[De]=xe[De];w[T-1]=0,w[T]=0,T--}else T++;w[T]=1,Q=!Q}throw new me}static decodeDigit(l,h,p,y){this.recordPattern(l,p,h);let w=this.MAX_AVG_VARIANCE,S=-1,T=y.length;for(let k=0;k<T;k++){let B=y[k],Q=fr.patternMatchVariance(h,B,Kr.MAX_INDIVIDUAL_VARIANCE);Q<w&&(w=Q,S=k)}if(S>=0)return S;throw new me}}Kr.MAX_AVG_VARIANCE=.48,Kr.MAX_INDIVIDUAL_VARIANCE=.7,Kr.START_END_PATTERN=Int32Array.from([1,1,1]),Kr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,p){let y=this.decodeRowStringBuffer,w=this.decodeMiddle(h,p,y),S=y.toString(),T=Qr.parseExtensionString(S),k=[new et((p[0]+p[1])/2,l),new et(w,l)],B=new J(S,null,0,k,le.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&B.putAllMetadata(T),B}decodeMiddle(l,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),S=h[1],T=0;for(let B=0;B<5&&S<w;B++){let Q=Kr.decodeDigit(l,y,S,Kr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+Q%10);for(let oe of y)S+=oe;Q>=10&&(T|=1<<4-B),B!==4&&(S=l.getNextSet(S),S=l.getNextUnset(S))}if(p.length!==5)throw new me;let k=this.determineCheckDigit(T);if(Qr.extensionChecksum(p.toString())!==k)throw new me;return S}static extensionChecksum(l){let h=l.length,p=0;for(let y=h-2;y>=0;y-=2)p+=l.charAt(y).charCodeAt(0)-48;p*=3;for(let y=h-1;y>=0;y-=2)p+=l.charAt(y).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(l){for(let h=0;h<10;h++)if(l===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new me}static parseExtensionString(l){if(l.length!==5)return null;let h=Qr.parseExtension5String(l);return h==null?null:new Map([[Te.SUGGESTED_PRICE,h]])}static parseExtension5String(l){let h;switch(l.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let p=parseInt(l.substring(1)),y=(p/100).toString(),w=p%100,S=w<10?"0"+w:w.toString();return h+y+"."+S}}class ia{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,p){let y=this.decodeRowStringBuffer,w=this.decodeMiddle(h,p,y),S=y.toString(),T=ia.parseExtensionString(S),k=[new et((p[0]+p[1])/2,l),new et(w,l)],B=new J(S,null,0,k,le.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&B.putAllMetadata(T),B}decodeMiddle(l,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),S=h[1],T=0;for(let k=0;k<2&&S<w;k++){let B=Kr.decodeDigit(l,y,S,Kr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+B%10);for(let Q of y)S+=Q;B>=10&&(T|=1<<1-k),k!==1&&(S=l.getNextSet(S),S=l.getNextUnset(S))}if(p.length!==2)throw new me;if(parseInt(p.toString())%4!==T)throw new me;return S}static parseExtensionString(l){return l.length!==2?null:new Map([[Te.ISSUE_NUMBER,parseInt(l)]])}}class Mn{static decodeRow(l,h,p){let y=Kr.findGuardPattern(h,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qr().decodeRow(l,h,y)}catch(w){return new ia().decodeRow(l,h,y)}}}Mn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ir extends Kr{constructor(){super(),this.decodeRowStringBuffer="",Ir.L_AND_G_PATTERNS=Ir.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let h=Ir.L_PATTERNS[l-10],p=new Int32Array(h.length);for(let y=0;y<h.length;y++)p[y]=h[h.length-y-1];Ir.L_AND_G_PATTERNS[l]=p}}decodeRow(l,h,p){let y=Ir.findStartGuardPattern(h),w=p==null?null:p.get(K.NEED_RESULT_POINT_CALLBACK);if(w!=null){const Ht=new et((y[0]+y[1])/2,l);w.foundPossibleResultPoint(Ht)}let S=this.decodeMiddle(h,y,this.decodeRowStringBuffer),T=S.rowOffset,k=S.resultString;if(w!=null){const Ht=new et(T,l);w.foundPossibleResultPoint(Ht)}let B=this.decodeEnd(h,T);if(w!=null){const Ht=new et((B[0]+B[1])/2,l);w.foundPossibleResultPoint(Ht)}let Q=B[1],oe=Q+(Q-B[0]);if(oe>=h.getSize()||!h.isRange(Q,oe,!1))throw new me;let xe=k.toString();if(xe.length<8)throw new G;if(!Ir.checkChecksum(xe))throw new _;let De=(y[1]+y[0])/2,We=(B[1]+B[0])/2,$e=this.getBarcodeFormat(),tt=[new et(De,l),new et(We,l)],xt=new J(xe,null,0,tt,$e,new Date().getTime()),Pt=0;try{let Ht=Mn.decodeRow(l,h,B[1]);xt.putMetadata(Te.UPC_EAN_EXTENSION,Ht.getText()),xt.putAllMetadata(Ht.getResultMetadata()),xt.addResultPoints(Ht.getResultPoints()),Pt=Ht.getText().length}catch(Ht){}let qt=p==null?null:p.get(K.ALLOWED_EAN_EXTENSIONS);if(qt!=null){let Ht=!1;for(let Wr in qt)if(Pt.toString()===Wr){Ht=!0;break}if(!Ht)throw new me}return xt}decodeEnd(l,h){return Ir.findGuardPattern(l,h,!1,Ir.START_END_PATTERN,new Int32Array(Ir.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Ir.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let p=parseInt(l.charAt(h-1),10);return Ir.getStandardUPCEANChecksum(l.substring(0,h-1))===p}static getStandardUPCEANChecksum(l){let h=l.length,p=0;for(let y=h-1;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new G;p+=w}p*=3;for(let y=h-2;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new G;p+=w}return(1e3-p)%10}}class Xn extends Ir{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),S=h[1],T=0;for(let B=0;B<6&&S<w;B++){let Q=Ir.decodeDigit(l,y,S,Ir.L_AND_G_PATTERNS);p+=String.fromCharCode(48+Q%10);for(let oe of y)S+=oe;Q>=10&&(T|=1<<5-B)}p=Xn.determineFirstDigit(p,T),S=Ir.findGuardPattern(l,S,!0,Ir.MIDDLE_PATTERN,new Int32Array(Ir.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&S<w;B++){let Q=Ir.decodeDigit(l,y,S,Ir.L_PATTERNS);p+=String.fromCharCode(48+Q);for(let oe of y)S+=oe}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(l,h){for(let p=0;p<10;p++)if(h===this.FIRST_DIGIT_ENCODINGS[p])return l=String.fromCharCode(48+p)+l,l;throw new me}}Xn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Tn extends Ir{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,p){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),S=h[1];for(let k=0;k<4&&S<w;k++){let B=Ir.decodeDigit(l,y,S,Ir.L_PATTERNS);p+=String.fromCharCode(48+B);for(let Q of y)S+=Q}S=Ir.findGuardPattern(l,S,!0,Ir.MIDDLE_PATTERN,new Int32Array(Ir.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&S<w;k++){let B=Ir.decodeDigit(l,y,S,Ir.L_PATTERNS);p+=String.fromCharCode(48+B);for(let Q of y)S+=Q}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return le.EAN_8}}class Or extends Ir{constructor(){super(...arguments),this.ean13Reader=new Xn}getBarcodeFormat(){return le.UPC_A}decode(l,h){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,h,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,h,p))}decodeMiddle(l,h,p){return this.ean13Reader.decodeMiddle(l,h,p)}maybeReturnResult(l){let h=l.getText();if(h.charAt(0)==="0"){let p=new J(h.substring(1),null,null,l.getResultPoints(),le.UPC_A);return l.getResultMetadata()!=null&&p.putAllMetadata(l.getResultMetadata()),p}else throw new me}reset(){this.ean13Reader.reset()}}class Dr extends Ir{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,h,p){const y=this.decodeMiddleCounters.map(B=>B);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const w=l.getSize();let S=h[1],T=0;for(let B=0;B<6&&S<w;B++){const Q=Dr.decodeDigit(l,y,S,Dr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+Q%10);for(let oe of y)S+=oe;Q>=10&&(T|=1<<5-B)}let k=Dr.determineNumSysAndCheckDigit(p,T);return{rowOffset:S,resultString:k}}decodeEnd(l,h){return Dr.findGuardPatternWithoutCounters(l,h,!0,Dr.MIDDLE_END_PATTERN)}checkChecksum(l){return Ir.checkChecksum(Dr.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,h){for(let p=0;p<=1;p++)for(let y=0;y<10;y++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][y]){let w=String.fromCharCode(48+p),S=String.fromCharCode(48+y);return w+l+S}throw me.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(l){const h=l.slice(1,7).split("").map(w=>w.charCodeAt(0)),p=new ne;p.append(l.charAt(0));let y=h[5];switch(y){case 0:case 1:case 2:p.appendChars(h,0,2),p.append(y),p.append("0000"),p.appendChars(h,2,3);break;case 3:p.appendChars(h,0,3),p.append("00000"),p.appendChars(h,3,2);break;case 4:p.appendChars(h,0,4),p.append("00000"),p.append(h[4]);break;default:p.appendChars(h,0,5),p.append("0000"),p.append(y);break}return l.length>=8&&p.append(l.charAt(7)),p.toString()}}Dr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ea extends fr{constructor(l){super();let h=l==null?null:l.get(K.POSSIBLE_FORMATS),p=[];n(h)?(p.push(new Xn),p.push(new Or),p.push(new Tn),p.push(new Dr)):(h.indexOf(le.EAN_13)>-1&&p.push(new Xn),h.indexOf(le.UPC_A)>-1&&p.push(new Or),h.indexOf(le.EAN_8)>-1&&p.push(new Tn),h.indexOf(le.UPC_E)>-1&&p.push(new Dr)),this.readers=p}decodeRow(l,h,p){for(let y of this.readers)try{const w=y.decodeRow(l,h,p),S=w.getBarcodeFormat()===le.EAN_13&&w.getText().charAt(0)==="0",T=p==null?null:p.get(K.POSSIBLE_FORMATS),k=T==null||T.includes(le.UPC_A);if(S&&k){const B=w.getRawBytes(),Q=new J(w.getText().substring(1),B,B?B.length:null,w.getResultPoints(),le.UPC_A);return Q.putAllMetadata(w.getResultMetadata()),Q}return w}catch(w){}throw new me}reset(){for(let l of this.readers)l.reset()}}class rn extends fr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,h){for(let p=0;p<h.length;p++)if(fr.patternMatchVariance(l,h[p],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return p;throw new me}static count(l){return He.sum(new Int32Array(l))}static increment(l,h){let p=0,y=h[0];for(let w=1;w<l.length;w++)h[w]>y&&(y=h[w],p=w);l[p]++}static decrement(l,h){let p=0,y=h[0];for(let w=1;w<l.length;w++)h[w]<y&&(y=h[w],p=w);l[p]--}static isFinderPattern(l){let h=l[0]+l[1],p=h+l[2]+l[3],y=h/p;if(y>=rn.MIN_FINDER_PATTERN_RATIO&&y<=rn.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;for(let T of l)T>S&&(S=T),T<w&&(w=T);return S<10*w}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ii{constructor(l,h){this.value=l,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Ii))return!1;const h=l;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Hi{constructor(l,h,p,y,w){this.value=l,this.startEnd=h,this.value=l,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new et(p,w)),this.resultPoints.push(new et(y,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Hi))return!1;const h=l;return this.value===h.value}hashCode(){return this.value}}class cr{constructor(){}static getRSSvalue(l,h,p){let y=0;for(let k of l)y+=k;let w=0,S=0,T=l.length;for(let k=0;k<T-1;k++){let B;for(B=1,S|=1<<k;B<l[k];B++,S&=~(1<<k)){let Q=cr.combins(y-B-1,T-k-2);if(p&&S===0&&y-B-(T-k-1)>=T-k-1&&(Q-=cr.combins(y-B-(T-k),T-k-2)),T-k-1>1){let oe=0;for(let xe=y-B-(T-k-2);xe>h;xe--)oe+=cr.combins(y-B-xe-1,T-k-3);Q-=oe*(T-1-k)}else y-B>h&&Q--;w+=Q}y-=B}return w}static combins(l,h){let p,y;l-h>h?(y=h,p=l-h):(y=l-h,p=h);let w=1,S=1;for(let T=l;T>p;T--)w*=T,S<=y&&(w/=S,S++);for(;S<=y;)w/=S,S++;return w}}class gn{static buildBitArray(l){let h=l.length*2-1;l[l.length-1].getRightChar()==null&&(h-=1);let p=12*h,y=new X(p),w=0,T=l[0].getRightChar().getValue();for(let k=11;k>=0;--k)(T&1<<k)!=0&&y.set(w),w++;for(let k=1;k<l.length;++k){let B=l[k],Q=B.getLeftChar().getValue();for(let oe=11;oe>=0;--oe)(Q&1<<oe)!=0&&y.set(w),w++;if(B.getRightChar()!=null){let oe=B.getRightChar().getValue();for(let xe=11;xe>=0;--xe)(oe&1<<xe)!=0&&y.set(w),w++}}return y}}class cn{constructor(l,h){h?this.decodedInformation=null:(this.finished=l,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class jn{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class en extends jn{constructor(l,h){super(l),this.value=h}getValue(){return this.value}isFNC1(){return this.value===en.FNC1}}en.FNC1="$";class On extends jn{constructor(l,h,p){super(l),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ge extends jn{constructor(l,h,p){if(super(l),h<0||h>10||p<0||p>10)throw new G;this.firstDigit=h,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ge.FNC1}isSecondDigitFNC1(){return this.secondDigit===ge.FNC1}isAnyFNC1(){return this.firstDigit===ge.FNC1||this.secondDigit===ge.FNC1}}ge.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new me;let h=l.substring(0,2);for(let w of Se.TWO_DIGIT_DATA_LENGTH)if(w[0]===h)return w[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,w[2],l):Se.processFixedAI(2,w[1],l);if(l.length<3)throw new me;let p=l.substring(0,3);for(let w of Se.THREE_DIGIT_DATA_LENGTH)if(w[0]===p)return w[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,w[2],l):Se.processFixedAI(3,w[1],l);for(let w of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===p)return w[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,w[2],l):Se.processFixedAI(4,w[1],l);if(l.length<4)throw new me;let y=l.substring(0,4);for(let w of Se.FOUR_DIGIT_DATA_LENGTH)if(w[0]===y)return w[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,w[2],l):Se.processFixedAI(4,w[1],l);throw new me}static processFixedAI(l,h,p){if(p.length<l)throw new me;let y=p.substring(0,l);if(p.length<l+h)throw new me;let w=p.substring(l,l+h),S=p.substring(l+h),T="("+y+")"+w,k=Se.parseFieldsInGeneralPurpose(S);return k==null?T:T+k}static processVariableAI(l,h,p){let y=p.substring(0,l),w;p.length<l+h?w=p.length:w=l+h;let S=p.substring(l,w),T=p.substring(w),k="("+y+")"+S,B=Se.parseFieldsInGeneralPurpose(T);return B==null?k:k+B}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class Ce{constructor(l){this.buffer=new ne,this.information=l}decodeAllCodes(l,h){let p=h,y=null;do{let w=this.decodeGeneralPurposeField(p,y),S=Se.parseFieldsInGeneralPurpose(w.getNewString());if(S!=null&&l.append(S),w.isRemaining()?y=""+w.getRemainingValue():y=null,p===w.getNewPosition())break;p=w.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let h=l;h<l+3;++h)if(this.information.get(h))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(l,4);return w===0?new ge(this.information.getSize(),ge.FNC1,ge.FNC1):new ge(this.information.getSize(),w-1,ge.FNC1)}let h=this.extractNumericValueFromBitArray(l,7),p=(h-8)/11,y=(h-8)%11;return new ge(l+7,p,y)}extractNumericValueFromBitArray(l,h){return Ce.extractNumericValueFromBitArray(this.information,l,h)}static extractNumericValueFromBitArray(l,h,p){let y=0;for(let w=0;w<p;++w)l.get(h+w)&&(y|=1<<p-w-1);return y}decodeGeneralPurposeField(l,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(l);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new On(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new On(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,h;do{let p=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),l=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),l=h.isFinished()):(h=this.parseNumericBlock(),l=h.isFinished()),!(p!==this.current.getPosition())&&!l)break}while(!l);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let h;return l.isSecondDigitFNC1()?h=new On(this.current.getPosition(),this.buffer.toString()):h=new On(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new cn(!0,h)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let h=new On(this.current.getPosition(),this.buffer.toString());return new cn(!0,h)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new cn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new On(this.current.getPosition(),this.buffer.toString());return new cn(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new cn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new On(this.current.getPosition(),this.buffer.toString());return new cn(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new cn(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new en(l+5,en.FNC1);if(h>=5&&h<15)return new en(l+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<90)return new en(l+7,""+(p+1));if(p>=90&&p<116)return new en(l+7,""+(p+7));let y=this.extractNumericValueFromBitArray(l,8),w;switch(y){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new G}return new en(l+8,w)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,6);return p>=16&&p<63}decodeAlphanumeric(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new en(l+5,en.FNC1);if(h>=5&&h<15)return new en(l+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(l,6);if(p>=32&&p<58)return new en(l+6,""+(p+33));let y;switch(p){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new it("Decoding invalid alphanumeric value: "+p)}return new en(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<5&&h+l<this.information.getSize();++h)if(h===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+h))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let h=l;h<l+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<4&&h+l<this.information.getSize();++h)if(this.information.get(l+h))return!1;return!0}}class je{constructor(l){this.information=l,this.generalDecoder=new Ce(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ke extends je{constructor(l){super(l)}encodeCompressedGtin(l,h){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,h,p)}encodeCompressedGtinWithoutAI(l,h,p){for(let y=0;y<4;++y){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*y,10);w/100===0&&l.append("0"),w/10===0&&l.append("0"),l.append(w)}ke.appendCheckDigit(l,p)}static appendCheckDigit(l,h){let p=0;for(let y=0;y<13;y++){let w=l.charAt(y+h).charCodeAt(0)-48;p+=(y&1)===0?3*w:w}p=10-p%10,p===10&&(p=0),l.append(p)}}ke.GTIN_SIZE=40;class Be extends ke{constructor(l){super(l)}parseInformation(){let l=new ne;l.append("(01)");let h=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(Be.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,Be.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(l,Be.HEADER_SIZE+44)}}Be.HEADER_SIZE=4;class lt extends je{constructor(l){super(l)}parseInformation(){let l=new ne;return this.getGeneralDecoder().decodeAllCodes(l,lt.HEADER_SIZE)}}lt.HEADER_SIZE=5;class wt extends ke{constructor(l){super(l)}encodeCompressedWeight(l,h,p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(h,p);this.addWeightCode(l,y);let w=this.checkWeight(y),S=1e5;for(let T=0;T<5;++T)w/S===0&&l.append("0"),S/=10;l.append(w)}}class Je extends wt{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Je.HEADER_SIZE+wt.GTIN_SIZE+Je.WEIGHT_SIZE)throw new me;let l=new ne;return this.encodeCompressedGtin(l,Je.HEADER_SIZE),this.encodeCompressedWeight(l,Je.HEADER_SIZE+wt.GTIN_SIZE,Je.WEIGHT_SIZE),l.toString()}}Je.HEADER_SIZE=5,Je.WEIGHT_SIZE=15;class ht extends Je{constructor(l){super(l)}addWeightCode(l,h){l.append("(3103)")}checkWeight(l){return l}}class mt extends Je{constructor(l){super(l)}addWeightCode(l,h){h<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class Ot extends ke{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ot.HEADER_SIZE+ke.GTIN_SIZE)throw new me;let l=new ne;this.encodeCompressedGtin(l,Ot.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+ke.GTIN_SIZE,Ot.LAST_DIGIT_SIZE);l.append("(392"),l.append(h),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(Ot.HEADER_SIZE+ke.GTIN_SIZE+Ot.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}Ot.HEADER_SIZE=8,Ot.LAST_DIGIT_SIZE=2;class zt extends ke{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<zt.HEADER_SIZE+ke.GTIN_SIZE)throw new me;let l=new ne;this.encodeCompressedGtin(l,zt.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+ke.GTIN_SIZE,zt.LAST_DIGIT_SIZE);l.append("(393"),l.append(h),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(zt.HEADER_SIZE+ke.GTIN_SIZE+zt.LAST_DIGIT_SIZE,zt.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let y=this.getGeneralDecoder().decodeGeneralPurposeField(zt.HEADER_SIZE+ke.GTIN_SIZE+zt.LAST_DIGIT_SIZE+zt.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}zt.HEADER_SIZE=8,zt.LAST_DIGIT_SIZE=2,zt.FIRST_THREE_DIGITS_SIZE=10;class Gt extends wt{constructor(l,h,p){super(l),this.dateCode=p,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE+Gt.DATE_SIZE)throw new me;let l=new ne;return this.encodeCompressedGtin(l,Gt.HEADER_SIZE),this.encodeCompressedWeight(l,Gt.HEADER_SIZE+Gt.GTIN_SIZE,Gt.WEIGHT_SIZE),this.encodeCompressedDate(l,Gt.HEADER_SIZE+Gt.GTIN_SIZE+Gt.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(h,Gt.DATE_SIZE);if(p==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=p%32;p/=32;let w=p%12+1;p/=12;let S=p;S/10==0&&l.append("0"),l.append(S),w/10==0&&l.append("0"),l.append(w),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,h){l.append("("),l.append(this.firstAIdigits),l.append(h/1e5),l.append(")")}checkWeight(l){return l%1e5}}Gt.HEADER_SIZE=8,Gt.WEIGHT_SIZE=20,Gt.DATE_SIZE=16;function $t(ce){try{if(ce.get(1))return new Be(ce);if(!ce.get(2))return new lt(ce);switch(Ce.extractNumericValueFromBitArray(ce,1,4)){case 4:return new ht(ce);case 5:return new mt(ce)}switch(Ce.extractNumericValueFromBitArray(ce,1,5)){case 12:return new Ot(ce);case 13:return new zt(ce)}switch(Ce.extractNumericValueFromBitArray(ce,1,7)){case 56:return new Gt(ce,"310","11");case 57:return new Gt(ce,"320","11");case 58:return new Gt(ce,"310","13");case 59:return new Gt(ce,"320","13");case 60:return new Gt(ce,"310","15");case 61:return new Gt(ce,"320","15");case 62:return new Gt(ce,"310","17");case 63:return new Gt(ce,"320","17")}}catch(l){throw console.log(l),new it("unknown decoder: "+ce)}}class Jt{constructor(l,h,p,y){this.leftchar=l,this.rightchar=h,this.finderpattern=p,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,h){return l instanceof Jt?Jt.equalsOrNull(l.leftchar,h.leftchar)&&Jt.equalsOrNull(l.rightchar,h.rightchar)&&Jt.equalsOrNull(l.finderpattern,h.finderpattern):!1}static equalsOrNull(l,h){return l===null?h===null:Jt.equals(l,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class jr{constructor(l,h,p){this.pairs=l,this.rowNumber=h,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,h){return l instanceof jr?this.checkEqualitity(l,h)&&l.wasReversed===h.wasReversed:!1}checkEqualitity(l,h){if(!l||!h)return;let p;return l.forEach((y,w)=>{h.forEach(S=>{y.getLeftChar().getValue()===S.getLeftChar().getValue()&&y.getRightChar().getValue()===S.getRightChar().getValue()&&y.getFinderPatter().getValue()===S.getFinderPatter().getValue()&&(p=!0)})}),p}}class te extends rn{constructor(l){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,h,p){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(l,h))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(l,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,h){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,l))}catch(w){if(w instanceof me){if(!this.pairs.length)throw new me;p=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new me}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return l&&(this.rows=this.rows.reverse()),h}checkRows(l,h){for(let p=h;p<this.rows.length;p++){let y=this.rows[p];this.pairs.length=0;for(let S of l)this.pairs.push(S.getPairs());if(this.pairs.push(y.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(l);w.push(y);try{return this.checkRows(w,p+1)}catch(S){this.verbose&&console.log(S)}}throw new me}static isValidSequence(l){for(let h of te.FINDER_PATTERN_SEQUENCES){if(l.length>h.length)continue;let p=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=h[y]){p=!1;break}if(p)return!0}return!1}storeRow(l,h){let p=0,y=!1,w=!1;for(;p<this.rows.length;){let S=this.rows[p];if(S.getRowNumber()>l){w=S.isEquivalent(this.pairs);break}y=S.isEquivalent(this.pairs),p++}w||y||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new jr(this.pairs,l,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,h){for(let p of h)if(p.getPairs().length!==l.length){for(let y of p.getPairs())for(let w of l)if(Jt.equals(y,w))break}}static isPartialRow(l,h){for(let p of h){let y=!0;for(let w of l){let S=!1;for(let T of p.getPairs())if(w.equals(T)){S=!0;break}if(!S){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let h=gn.buildBitArray(l),y=$t(h).parseInformation(),w=l[0].getFinderPattern().getResultPoints(),S=l[l.length-1].getFinderPattern().getResultPoints(),T=[w[0],w[1],S[0],S[1]];return new J(y,null,null,T,le.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),h=l.getLeftChar(),p=l.getRightChar();if(p==null)return!1;let y=p.getChecksumPortion(),w=2;for(let T=1;T<this.pairs.size();++T){let k=this.pairs.get(T);y+=k.getLeftChar().getChecksumPortion(),w++;let B=k.getRightChar();B!=null&&(y+=B.getChecksumPortion(),w++)}return y%=211,211*(w-4)+y==h.getValue()}static getNextSecondBar(l,h){let p;return l.get(h)?(p=l.getNextUnset(h),p=l.getNextSet(p)):(p=l.getNextSet(h),p=l.getNextUnset(p)),p}retrieveNextPair(l,h,p){let y=h.length%2==0;this.startFromEven&&(y=!y);let w,S=!0,T=-1;do this.findNextPair(l,h,T),w=this.parseFoundFinderPattern(l,p,y),w==null?T=te.getNextSecondBar(l,this.startEnd[0]):S=!1;while(S);let k=this.decodeDataCharacter(l,w,y,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new me;let B;try{B=this.decodeDataCharacter(l,w,y,!1)}catch(Q){B=null,this.verbose&&console.log(Q)}return new Jt(k,B,w,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,h,p){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),S;p>=0?S=p:this.isEmptyPair(h)?S=0:S=h[h.length-1].getFinderPattern().getStartEnd()[1];let T=h.length%2!=0;this.startFromEven&&(T=!T);let k=!1;for(;S<w&&(k=!l.get(S),!!k);)S++;let B=0,Q=S;for(let oe=S;oe<w;oe++)if(l.get(oe)!=k)y[B]++;else{if(B==3){if(T&&te.reverseCounters(y),te.isFinderPattern(y)){this.startEnd[0]=Q,this.startEnd[1]=oe;return}T&&te.reverseCounters(y),Q+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,B--}else B++;y[B]=1,k=!k}throw new me}static reverseCounters(l){let h=l.length;for(let p=0;p<h/2;++p){let y=l[p];l[p]=l[h-p-1],l[h-p-1]=y}}parseFoundFinderPattern(l,h,p){let y,w,S;if(p){let B=this.startEnd[0]-1;for(;B>=0&&!l.get(B);)B--;B++,y=this.startEnd[0]-B,w=B,S=this.startEnd[1]}else w=this.startEnd[0],S=l.getNextUnset(this.startEnd[1]+1),y=S-this.startEnd[1];let T=this.getDecodeFinderCounters();A.arraycopy(T,0,T,1,T.length-1),T[0]=y;let k;try{k=this.parseFinderValue(T,te.FINDER_PATTERNS)}catch(B){return null}return new Hi(k,[w,S],w,S,h)}decodeDataCharacter(l,h,p,y){let w=this.getDataCharacterCounters();for(let wn=0;wn<w.length;wn++)w[wn]=0;if(y)te.recordPatternInReverse(l,h.getStartEnd()[0],w);else{te.recordPattern(l,h.getStartEnd()[1],w);for(let wn=0,xi=w.length-1;wn<xi;wn++,xi--){let Bi=w[wn];w[wn]=w[xi],w[xi]=Bi}}let S=17,T=He.sum(new Int32Array(w))/S,k=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(T-k)/k>.3)throw new me;let B=this.getOddCounts(),Q=this.getEvenCounts(),oe=this.getOddRoundingErrors(),xe=this.getEvenRoundingErrors();for(let wn=0;wn<w.length;wn++){let xi=1*w[wn]/T,Bi=xi+.5;if(Bi<1){if(xi<.3)throw new me;Bi=1}else if(Bi>8){if(xi>8.7)throw new me;Bi=8}let Da=wn/2;(wn&1)==0?(B[Da]=Bi,oe[Da]=xi-Bi):(Q[Da]=Bi,xe[Da]=xi-Bi)}this.adjustOddEvenCounts(S);let De=4*h.getValue()+(p?0:2)+(y?0:1)-1,We=0,$e=0;for(let wn=B.length-1;wn>=0;wn--){if(te.isNotA1left(h,p,y)){let xi=te.WEIGHTS[De][2*wn];$e+=B[wn]*xi}We+=B[wn]}let tt=0;for(let wn=Q.length-1;wn>=0;wn--)if(te.isNotA1left(h,p,y)){let xi=te.WEIGHTS[De][2*wn+1];tt+=Q[wn]*xi}let xt=$e+tt;if((We&1)!=0||We>13||We<4)throw new me;let Pt=(13-We)/2,qt=te.SYMBOL_WIDEST[Pt],Ht=9-qt,Wr=cr.getRSSvalue(B,qt,!0),Pr=cr.getRSSvalue(Q,Ht,!1),Ci=te.EVEN_TOTAL_SUBSET[Pt],Yi=te.GSUM[Pt],Ti=Wr*Ci+Pr+Yi;return new Ii(Ti,xt)}static isNotA1left(l,h,p){return!(l.getValue()==0&&h&&p)}adjustOddEvenCounts(l){let h=He.sum(new Int32Array(this.getOddCounts())),p=He.sum(new Int32Array(this.getEvenCounts())),y=!1,w=!1;h>13?w=!0:h<4&&(y=!0);let S=!1,T=!1;p>13?T=!0:p<4&&(S=!0);let k=h+p-l,B=(h&1)==1,Q=(p&1)==0;if(k==1)if(B){if(Q)throw new me;w=!0}else{if(!Q)throw new me;T=!0}else if(k==-1)if(B){if(Q)throw new me;y=!0}else{if(!Q)throw new me;S=!0}else if(k==0){if(B){if(!Q)throw new me;h<p?(y=!0,T=!0):(w=!0,S=!0)}else if(Q)throw new me}else throw new me;if(y){if(w)throw new me;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(T)throw new me;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class Et extends Ii{constructor(l,h,p){super(l,h),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Yt extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,h,p){const y=this.decodePair(h,!1,l,p);Yt.addOrTally(this.possibleLeftPairs,y),h.reverse();let w=this.decodePair(h,!0,l,p);Yt.addOrTally(this.possibleRightPairs,w),h.reverse();for(let S of this.possibleLeftPairs)if(S.getCount()>1){for(let T of this.possibleRightPairs)if(T.getCount()>1&&Yt.checkChecksum(S,T))return Yt.constructResult(S,T)}throw new me}static addOrTally(l,h){if(h==null)return;let p=!1;for(let y of l)if(y.getValue()===h.getValue()){y.incrementCount(),p=!0;break}p||l.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,h){let p=4537077*l.getValue()+h.getValue(),y=new String(p).toString(),w=new ne;for(let B=13-y.length;B>0;B--)w.append("0");w.append(y);let S=0;for(let B=0;B<13;B++){let Q=w.charAt(B).charCodeAt(0)-48;S+=(B&1)===0?3*Q:Q}S=10-S%10,S===10&&(S=0),w.append(S.toString());let T=l.getFinderPattern().getResultPoints(),k=h.getFinderPattern().getResultPoints();return new J(w.toString(),null,0,[T[0],T[1],k[0],k[1]],le.RSS_14,new Date().getTime())}static checkChecksum(l,h){let p=(l.getChecksumPortion()+16*h.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+h.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,p===y}decodePair(l,h,p,y){try{let w=this.findFinderPattern(l,h),S=this.parseFoundFinderPattern(l,p,h,w),T=y==null?null:y.get(K.NEED_RESULT_POINT_CALLBACK);if(T!=null){let Q=(w[0]+w[1])/2;h&&(Q=l.getSize()-1-Q),T.foundPossibleResultPoint(new et(Q,p))}let k=this.decodeDataCharacter(l,S,!0),B=this.decodeDataCharacter(l,S,!1);return new Et(1597*k.getValue()+B.getValue(),k.getChecksumPortion()+4*B.getChecksumPortion(),S)}catch(w){return null}}decodeDataCharacter(l,h,p){let y=this.getDataCharacterCounters();for(let tt=0;tt<y.length;tt++)y[tt]=0;if(p)fr.recordPatternInReverse(l,h.getStartEnd()[0],y);else{fr.recordPattern(l,h.getStartEnd()[1]+1,y);for(let tt=0,xt=y.length-1;tt<xt;tt++,xt--){let Pt=y[tt];y[tt]=y[xt],y[xt]=Pt}}let w=p?16:15,S=He.sum(new Int32Array(y))/w,T=this.getOddCounts(),k=this.getEvenCounts(),B=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let tt=0;tt<y.length;tt++){let xt=y[tt]/S,Pt=Math.floor(xt+.5);Pt<1?Pt=1:Pt>8&&(Pt=8);let qt=Math.floor(tt/2);(tt&1)===0?(T[qt]=Pt,B[qt]=xt-Pt):(k[qt]=Pt,Q[qt]=xt-Pt)}this.adjustOddEvenCounts(p,w);let oe=0,xe=0;for(let tt=T.length-1;tt>=0;tt--)xe*=9,xe+=T[tt],oe+=T[tt];let De=0,We=0;for(let tt=k.length-1;tt>=0;tt--)De*=9,De+=k[tt],We+=k[tt];let $e=xe+3*De;if(p){if((oe&1)!==0||oe>12||oe<4)throw new me;let tt=(12-oe)/2,xt=Yt.OUTSIDE_ODD_WIDEST[tt],Pt=9-xt,qt=cr.getRSSvalue(T,xt,!1),Ht=cr.getRSSvalue(k,Pt,!0),Wr=Yt.OUTSIDE_EVEN_TOTAL_SUBSET[tt],Pr=Yt.OUTSIDE_GSUM[tt];return new Ii(qt*Wr+Ht+Pr,$e)}else{if((We&1)!==0||We>10||We<4)throw new me;let tt=(10-We)/2,xt=Yt.INSIDE_ODD_WIDEST[tt],Pt=9-xt,qt=cr.getRSSvalue(T,xt,!0),Ht=cr.getRSSvalue(k,Pt,!1),Wr=Yt.INSIDE_ODD_TOTAL_SUBSET[tt],Pr=Yt.INSIDE_GSUM[tt];return new Ii(Ht*Wr+qt+Pr,$e)}}findFinderPattern(l,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=l.getSize(),w=!1,S=0;for(;S<y&&(w=!l.get(S),h!==w);)S++;let T=0,k=S;for(let B=S;B<y;B++)if(l.get(B)!==w)p[T]++;else{if(T===3){if(rn.isFinderPattern(p))return[k,B];k+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,T--}else T++;p[T]=1,w=!w}throw new me}parseFoundFinderPattern(l,h,p,y){let w=l.get(y[0]),S=y[0]-1;for(;S>=0&&w!==l.get(S);)S--;S++;const T=y[0]-S,k=this.getDecodeFinderCounters(),B=new Int32Array(k.length);A.arraycopy(k,0,B,1,k.length-1),B[0]=T;const Q=this.parseFinderValue(B,Yt.FINDER_PATTERNS);let oe=S,xe=y[1];return p&&(oe=l.getSize()-1-oe,xe=l.getSize()-1-xe),new Hi(Q,[S,y[1]],oe,xe,h)}adjustOddEvenCounts(l,h){let p=He.sum(new Int32Array(this.getOddCounts())),y=He.sum(new Int32Array(this.getEvenCounts())),w=!1,S=!1,T=!1,k=!1;l?(p>12?S=!0:p<4&&(w=!0),y>12?k=!0:y<4&&(T=!0)):(p>11?S=!0:p<5&&(w=!0),y>10?k=!0:y<4&&(T=!0));let B=p+y-h,Q=(p&1)===(l?1:0),oe=(y&1)===1;if(B===1)if(Q){if(oe)throw new me;S=!0}else{if(!oe)throw new me;k=!0}else if(B===-1)if(Q){if(oe)throw new me;w=!0}else{if(!oe)throw new me;T=!0}else if(B===0){if(Q){if(!oe)throw new me;p<y?(w=!0,k=!0):(S=!0,T=!0)}else if(oe)throw new me}else throw new me;if(w){if(S)throw new me;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),T){if(k)throw new me;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Yt.OUTSIDE_GSUM=[0,161,961,2015,2715],Yt.INSIDE_GSUM=[0,336,1036,1516],Yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Yt.INSIDE_ODD_WIDEST=[2,4,6,8],Yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class tn extends fr{constructor(l,h){super(),this.readers=[],this.verbose=h===!0;const p=l?l.get(K.POSSIBLE_FORMATS):null,y=l&&l.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(le.EAN_13)||p.includes(le.UPC_A)||p.includes(le.EAN_8)||p.includes(le.UPC_E))&&this.readers.push(new Ea(l)),p.includes(le.CODE_39)&&this.readers.push(new wr(y)),p.includes(le.CODE_128)&&this.readers.push(new Vt),p.includes(le.ITF)&&this.readers.push(new gr),p.includes(le.RSS_14)&&this.readers.push(new Yt),p.includes(le.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))):(this.readers.push(new Ea(l)),this.readers.push(new wr),this.readers.push(new Ea(l)),this.readers.push(new Vt),this.readers.push(new gr),this.readers.push(new Yt),this.readers.push(new te(this.verbose)))}decodeRow(l,h,p){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,h,p)}catch(w){}throw new me}reset(){this.readers.forEach(l=>l.reset())}}class Rn extends q{constructor(l=500,h){super(new tn(h),l,h)}}class pr{constructor(l,h,p){this.ecCodewords=l,this.ecBlocks=[h],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class sr{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xr{constructor(l,h,p,y,w,S){this.versionNumber=l,this.symbolSizeRows=h,this.symbolSizeColumns=p,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=w,this.ecBlocks=S;let T=0;const k=S.getECCodewords(),B=S.getECBlocks();for(let Q of B)T+=Q.getCount()*(Q.getDataCodewords()+k);this.totalCodewords=T}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,h){if((l&1)!==0||(h&1)!==0)throw new G;for(let p of xr.VERSIONS)if(p.symbolSizeRows===l&&p.symbolSizeColumns===h)return p;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new xr(1,10,10,8,8,new pr(5,new sr(1,3))),new xr(2,12,12,10,10,new pr(7,new sr(1,5))),new xr(3,14,14,12,12,new pr(10,new sr(1,8))),new xr(4,16,16,14,14,new pr(12,new sr(1,12))),new xr(5,18,18,16,16,new pr(14,new sr(1,18))),new xr(6,20,20,18,18,new pr(18,new sr(1,22))),new xr(7,22,22,20,20,new pr(20,new sr(1,30))),new xr(8,24,24,22,22,new pr(24,new sr(1,36))),new xr(9,26,26,24,24,new pr(28,new sr(1,44))),new xr(10,32,32,14,14,new pr(36,new sr(1,62))),new xr(11,36,36,16,16,new pr(42,new sr(1,86))),new xr(12,40,40,18,18,new pr(48,new sr(1,114))),new xr(13,44,44,20,20,new pr(56,new sr(1,144))),new xr(14,48,48,22,22,new pr(68,new sr(1,174))),new xr(15,52,52,24,24,new pr(42,new sr(2,102))),new xr(16,64,64,14,14,new pr(56,new sr(2,140))),new xr(17,72,72,16,16,new pr(36,new sr(4,92))),new xr(18,80,80,18,18,new pr(48,new sr(4,114))),new xr(19,88,88,20,20,new pr(56,new sr(4,144))),new xr(20,96,96,22,22,new pr(68,new sr(4,174))),new xr(21,104,104,24,24,new pr(56,new sr(6,136))),new xr(22,120,120,18,18,new pr(68,new sr(6,175))),new xr(23,132,132,20,20,new pr(62,new sr(8,163))),new xr(24,144,144,22,22,new pr(62,new sr(8,156),new sr(2,155))),new xr(25,8,18,6,16,new pr(7,new sr(1,5))),new xr(26,8,32,6,14,new pr(11,new sr(1,10))),new xr(27,12,26,10,24,new pr(14,new sr(1,16))),new xr(28,12,36,10,16,new pr(18,new sr(1,22))),new xr(29,16,36,14,16,new pr(24,new sr(1,32))),new xr(30,16,48,14,22,new pr(28,new sr(1,49)))]}}xr.VERSIONS=xr.buildVersions();class Sr{constructor(l){const h=l.getHeight();if(h<8||h>144||(h&1)!==0)throw new G;this.version=Sr.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const h=l.getHeight(),p=l.getWidth();return xr.getVersionForDimensions(h,p)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let h=0,p=4,y=0;const w=this.mappingBitMatrix.getHeight(),S=this.mappingBitMatrix.getWidth();let T=!1,k=!1,B=!1,Q=!1;do if(p===w&&y===0&&!T)l[h++]=this.readCorner1(w,S)&255,p-=2,y+=2,T=!0;else if(p===w-2&&y===0&&(S&3)!==0&&!k)l[h++]=this.readCorner2(w,S)&255,p-=2,y+=2,k=!0;else if(p===w+4&&y===2&&(S&7)===0&&!B)l[h++]=this.readCorner3(w,S)&255,p-=2,y+=2,B=!0;else if(p===w-2&&y===0&&(S&7)===4&&!Q)l[h++]=this.readCorner4(w,S)&255,p-=2,y+=2,Q=!0;else{do p<w&&y>=0&&!this.readMappingMatrix.get(y,p)&&(l[h++]=this.readUtah(p,y,w,S)&255),p-=2,y+=2;while(p>=0&&y<S);p+=1,y+=3;do p>=0&&y<S&&!this.readMappingMatrix.get(y,p)&&(l[h++]=this.readUtah(p,y,w,S)&255),p+=2,y-=2;while(p<w&&y>=0);p+=3,y+=1}while(p<w||y<S);if(h!==this.version.getTotalCodewords())throw new G;return l}readModule(l,h,p,y){return l<0&&(l+=p,h+=4-(p+4&7)),h<0&&(h+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(h,l),this.mappingBitMatrix.get(h,l)}readUtah(l,h,p,y){let w=0;return this.readModule(l-2,h-2,p,y)&&(w|=1),w<<=1,this.readModule(l-2,h-1,p,y)&&(w|=1),w<<=1,this.readModule(l-1,h-2,p,y)&&(w|=1),w<<=1,this.readModule(l-1,h-1,p,y)&&(w|=1),w<<=1,this.readModule(l-1,h,p,y)&&(w|=1),w<<=1,this.readModule(l,h-2,p,y)&&(w|=1),w<<=1,this.readModule(l,h-1,p,y)&&(w|=1),w<<=1,this.readModule(l,h,p,y)&&(w|=1),w}readCorner1(l,h){let p=0;return this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,1,l,h)&&(p|=1),p<<=1,this.readModule(l-1,2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p<<=1,this.readModule(2,h-1,l,h)&&(p|=1),p<<=1,this.readModule(3,h-1,l,h)&&(p|=1),p}readCorner2(l,h){let p=0;return this.readModule(l-3,0,l,h)&&(p|=1),p<<=1,this.readModule(l-2,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(0,h-4,l,h)&&(p|=1),p<<=1,this.readModule(0,h-3,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p}readCorner3(l,h){let p=0;return this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,h-1,l,h)&&(p|=1),p<<=1,this.readModule(0,h-3,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-3,l,h)&&(p|=1),p<<=1,this.readModule(1,h-2,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p}readCorner4(l,h){let p=0;return this.readModule(l-3,0,l,h)&&(p|=1),p<<=1,this.readModule(l-2,0,l,h)&&(p|=1),p<<=1,this.readModule(l-1,0,l,h)&&(p|=1),p<<=1,this.readModule(0,h-2,l,h)&&(p|=1),p<<=1,this.readModule(0,h-1,l,h)&&(p|=1),p<<=1,this.readModule(1,h-1,l,h)&&(p|=1),p<<=1,this.readModule(2,h-1,l,h)&&(p|=1),p<<=1,this.readModule(3,h-1,l,h)&&(p|=1),p}extractDataRegion(l){const h=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(l.getHeight()!==h)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),S=h/y|0,T=p/w|0,k=S*y,B=T*w,Q=new ve(B,k);for(let oe=0;oe<S;++oe){const xe=oe*y;for(let De=0;De<T;++De){const We=De*w;for(let $e=0;$e<y;++$e){const tt=oe*(y+2)+1+$e,xt=xe+$e;for(let Pt=0;Pt<w;++Pt){const qt=De*(w+2)+1+Pt;if(l.get(qt,tt)){const Ht=We+Pt;Q.set(Ht,xt)}}}}}return Q}}class Rr{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h){const p=h.getECBlocks();let y=0;const w=p.getECBlocks();for(let $e of w)y+=$e.getCount();const S=new Array(y);let T=0;for(let $e of w)for(let tt=0;tt<$e.getCount();tt++){const xt=$e.getDataCodewords(),Pt=p.getECCodewords()+xt;S[T++]=new Rr(xt,new Uint8Array(Pt))}const B=S[0].codewords.length-p.getECCodewords(),Q=B-1;let oe=0;for(let $e=0;$e<Q;$e++)for(let tt=0;tt<T;tt++)S[tt].codewords[$e]=l[oe++];const xe=h.getVersionNumber()===24,De=xe?8:T;for(let $e=0;$e<De;$e++)S[$e].codewords[B-1]=l[oe++];const We=S[0].codewords.length;for(let $e=B;$e<We;$e++)for(let tt=0;tt<T;tt++){const xt=xe?(tt+8)%T:tt,Pt=xe&&xt>7?$e-1:$e;S[xt].codewords[Pt]=l[oe++]}if(oe!==l.length)throw new v;return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Pn{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new v(""+l);let h=0,p=this.bitOffset,y=this.byteOffset;const w=this.bytes;if(p>0){const S=8-p,T=l<S?l:S,k=S-T,B=255>>8-T<<k;h=(w[y]&B)>>k,l-=T,p+=T,p===8&&(p=0,y++)}if(l>0){for(;l>=8;)h=h<<8|w[y]&255,y++,l-=8;if(l>0){const S=8-l,T=255>>S<<S;h=h<<l|(w[y]&T)>>S,p+=l}}return this.bitOffset=p,this.byteOffset=y,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Fn;(function(ce){ce[ce.PAD_ENCODE=0]="PAD_ENCODE",ce[ce.ASCII_ENCODE=1]="ASCII_ENCODE",ce[ce.C40_ENCODE=2]="C40_ENCODE",ce[ce.TEXT_ENCODE=3]="TEXT_ENCODE",ce[ce.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ce[ce.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ce[ce.BASE256_ENCODE=6]="BASE256_ENCODE"})(Fn||(Fn={}));class As{static decode(l){const h=new Pn(l),p=new ne,y=new ne,w=new Array;let S=Fn.ASCII_ENCODE;do if(S===Fn.ASCII_ENCODE)S=this.decodeAsciiSegment(h,p,y);else{switch(S){case Fn.C40_ENCODE:this.decodeC40Segment(h,p);break;case Fn.TEXT_ENCODE:this.decodeTextSegment(h,p);break;case Fn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,p);break;case Fn.EDIFACT_ENCODE:this.decodeEdifactSegment(h,p);break;case Fn.BASE256_ENCODE:this.decodeBase256Segment(h,p,w);break;default:throw new G}S=Fn.ASCII_ENCODE}while(S!==Fn.PAD_ENCODE&&h.available()>0);return y.length()>0&&p.append(y.toString()),new Me(l,p.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(l,h,p){let y=!1;do{let w=l.readBits(8);if(w===0)throw new G;if(w<=128)return y&&(w+=128),h.append(String.fromCharCode(w-1)),Fn.ASCII_ENCODE;if(w===129)return Fn.PAD_ENCODE;if(w<=229){const S=w-130;S<10&&h.append("0"),h.append(""+S)}else switch(w){case 230:return Fn.C40_ENCODE;case 231:return Fn.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:h.append("[)>05"),p.insert(0,"");break;case 237:h.append("[)>06"),p.insert(0,"");break;case 238:return Fn.ANSIX12_ENCODE;case 239:return Fn.TEXT_ENCODE;case 240:return Fn.EDIFACT_ENCODE;case 241:break;default:if(w!==254||l.available()!==0)throw new G;break}}while(l.available()>0);return Fn.ASCII_ENCODE}static decodeC40Segment(l,h){let p=!1;const y=[];let w=0;do{if(l.available()===8)return;const S=l.readBits(8);if(S===254)return;this.parseTwoBytes(S,l.readBits(8),y);for(let T=0;T<3;T++){const k=y[T];switch(w){case 0:if(k<3)w=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[k];p?(h.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):h.append(B)}else throw new G;break;case 1:p?(h.append(String.fromCharCode(k+128)),p=!1):h.append(String.fromCharCode(k)),w=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[k];p?(h.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):h.append(B)}else switch(k){case 27:h.append("");break;case 30:p=!0;break;default:throw new G}w=0;break;case 3:p?(h.append(String.fromCharCode(k+224)),p=!1):h.append(String.fromCharCode(k+96)),w=0;break;default:throw new G}}}while(l.available()>0)}static decodeTextSegment(l,h){let p=!1,y=[],w=0;do{if(l.available()===8)return;const S=l.readBits(8);if(S===254)return;this.parseTwoBytes(S,l.readBits(8),y);for(let T=0;T<3;T++){const k=y[T];switch(w){case 0:if(k<3)w=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[k];p?(h.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):h.append(B)}else throw new G;break;case 1:p?(h.append(String.fromCharCode(k+128)),p=!1):h.append(String.fromCharCode(k)),w=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[k];p?(h.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):h.append(B)}else switch(k){case 27:h.append("");break;case 30:p=!0;break;default:throw new G}w=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[k];p?(h.append(String.fromCharCode(B.charCodeAt(0)+128)),p=!1):h.append(B),w=0}else throw new G;break;default:throw new G}}}while(l.available()>0)}static decodeAnsiX12Segment(l,h){const p=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),p);for(let w=0;w<3;w++){const S=p[w];switch(S){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(S<14)h.append(String.fromCharCode(S+44));else if(S<40)h.append(String.fromCharCode(S+51));else throw new G;break}}}while(l.available()>0)}static parseTwoBytes(l,h,p){let y=(l<<8)+h-1,w=Math.floor(y/1600);p[0]=w,y-=w*1600,w=Math.floor(y/40),p[1]=w,p[2]=y-w*40}static decodeEdifactSegment(l,h){do{if(l.available()<=16)return;for(let p=0;p<4;p++){let y=l.readBits(6);if(y===31){const w=8-l.getBitOffset();w!==8&&l.readBits(w);return}(y&32)===0&&(y|=64),h.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,h,p){let y=1+l.getByteOffset();const w=this.unrandomize255State(l.readBits(8),y++);let S;if(w===0?S=l.available()/8|0:w<250?S=w:S=250*(w-249)+this.unrandomize255State(l.readBits(8),y++),S<0)throw new G;const T=new Uint8Array(S);for(let k=0;k<S;k++){if(l.available()<8)throw new G;T[k]=this.unrandomize255State(l.readBits(8),y++)}p.push(T);try{h.append(W.decode(T,H.ISO88591))}catch(k){throw new it("Platform does not support required encoding: "+k.message)}}static unrandomize255State(l,h){const p=149*h%255+1,y=l-p;return y>=0?y:y+256}}As.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],As.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],As.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],As.TEXT_SHIFT2_SET_CHARS=As.C40_SHIFT2_SET_CHARS,As.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Oo{constructor(){this.rsDecoder=new fe(ct.DATA_MATRIX_FIELD_256)}decode(l){const h=new Sr(l),p=h.getVersion(),y=h.readCodewords(),w=Rr.getDataBlocks(y,p);let S=0;for(let B of w)S+=B.getNumDataCodewords();const T=new Uint8Array(S),k=w.length;for(let B=0;B<k;B++){const Q=w[B],oe=Q.getCodewords(),xe=Q.getNumDataCodewords();this.correctErrors(oe,xe);for(let De=0;De<xe;De++)T[De*k+B]=oe[De]}return As.decode(T)}correctErrors(l,h){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-h)}catch(y){throw new _}for(let y=0;y<h;y++)l[y]=p[y]}}class si{constructor(l){this.image=l,this.rectangleDetector=new Xt(this.image)}detect(){const l=this.rectangleDetector.detect();let h=this.detectSolid1(l);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new me;h=this.shiftToModuleCenter(h);const p=h[0],y=h[1],w=h[2],S=h[3];let T=this.transitionsBetween(p,S)+1,k=this.transitionsBetween(w,S)+1;(T&1)===1&&(T+=1),(k&1)===1&&(k+=1),4*T<7*k&&4*k<7*T&&(T=k=Math.max(T,k));let B=si.sampleGrid(this.image,p,y,w,S,T,k);return new Dt(B,[p,y,w,S])}static shiftPoint(l,h,p){let y=(h.getX()-l.getX())/(p+1),w=(h.getY()-l.getY())/(p+1);return new et(l.getX()+y,l.getY()+w)}static moveAway(l,h,p){let y=l.getX(),w=l.getY();return y<h?y-=1:y+=1,w<p?w-=1:w+=1,new et(y,w)}detectSolid1(l){let h=l[0],p=l[1],y=l[3],w=l[2],S=this.transitionsBetween(h,p),T=this.transitionsBetween(p,y),k=this.transitionsBetween(y,w),B=this.transitionsBetween(w,h),Q=S,oe=[w,h,p,y];return Q>T&&(Q=T,oe[0]=h,oe[1]=p,oe[2]=y,oe[3]=w),Q>k&&(Q=k,oe[0]=p,oe[1]=y,oe[2]=w,oe[3]=h),Q>B&&(oe[0]=y,oe[1]=w,oe[2]=h,oe[3]=p),oe}detectSolid2(l){let h=l[0],p=l[1],y=l[2],w=l[3],S=this.transitionsBetween(h,w),T=si.shiftPoint(p,y,(S+1)*4),k=si.shiftPoint(y,p,(S+1)*4),B=this.transitionsBetween(T,h),Q=this.transitionsBetween(k,w);return B<Q?(l[0]=h,l[1]=p,l[2]=y,l[3]=w):(l[0]=p,l[1]=y,l[2]=w,l[3]=h),l}correctTopRight(l){let h=l[0],p=l[1],y=l[2],w=l[3],S=this.transitionsBetween(h,w),T=this.transitionsBetween(p,w),k=si.shiftPoint(h,p,(T+1)*4),B=si.shiftPoint(y,p,(S+1)*4);S=this.transitionsBetween(k,w),T=this.transitionsBetween(B,w);let Q=new et(w.getX()+(y.getX()-p.getX())/(S+1),w.getY()+(y.getY()-p.getY())/(S+1)),oe=new et(w.getX()+(h.getX()-p.getX())/(T+1),w.getY()+(h.getY()-p.getY())/(T+1));if(!this.isValid(Q))return this.isValid(oe)?oe:null;if(!this.isValid(oe))return Q;let xe=this.transitionsBetween(k,Q)+this.transitionsBetween(B,Q),De=this.transitionsBetween(k,oe)+this.transitionsBetween(B,oe);return xe>De?Q:oe}shiftToModuleCenter(l){let h=l[0],p=l[1],y=l[2],w=l[3],S=this.transitionsBetween(h,w)+1,T=this.transitionsBetween(y,w)+1,k=si.shiftPoint(h,p,T*4),B=si.shiftPoint(y,p,S*4);S=this.transitionsBetween(k,w)+1,T=this.transitionsBetween(B,w)+1,(S&1)===1&&(S+=1),(T&1)===1&&(T+=1);let Q=(h.getX()+p.getX()+y.getX()+w.getX())/4,oe=(h.getY()+p.getY()+y.getY()+w.getY())/4;h=si.moveAway(h,Q,oe),p=si.moveAway(p,Q,oe),y=si.moveAway(y,Q,oe),w=si.moveAway(w,Q,oe);let xe,De;return k=si.shiftPoint(h,p,T*4),k=si.shiftPoint(k,w,S*4),xe=si.shiftPoint(p,h,T*4),xe=si.shiftPoint(xe,y,S*4),B=si.shiftPoint(y,w,T*4),B=si.shiftPoint(B,p,S*4),De=si.shiftPoint(w,y,T*4),De=si.shiftPoint(De,h,S*4),[k,xe,B,De]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,h,p,y,w,S,T){return mr.getInstance().sampleGrid(l,S,T,.5,.5,S-.5,.5,S-.5,T-.5,.5,T-.5,h.getX(),h.getY(),w.getX(),w.getY(),y.getX(),y.getY(),p.getX(),p.getY())}transitionsBetween(l,h){let p=Math.trunc(l.getX()),y=Math.trunc(l.getY()),w=Math.trunc(h.getX()),S=Math.trunc(h.getY()),T=Math.abs(S-y)>Math.abs(w-p);if(T){let $e=p;p=y,y=$e,$e=w,w=S,S=$e}let k=Math.abs(w-p),B=Math.abs(S-y),Q=-k/2,oe=y<S?1:-1,xe=p<w?1:-1,De=0,We=this.image.get(T?y:p,T?p:y);for(let $e=p,tt=y;$e!==w;$e+=xe){let xt=this.image.get(T?tt:$e,T?$e:tt);if(xt!==We&&(De++,We=xt),Q+=B,Q>0){if(tt===S)break;tt+=oe,Q-=k}}return De}}class _i{constructor(){this.decoder=new Oo}decode(l,h=null){let p,y;if(h!=null&&h.has(K.PURE_BARCODE)){const B=_i.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(B),y=_i.NO_POINTS}else{const B=new si(l.getBlackMatrix()).detect();p=this.decoder.decode(B.getBits()),y=B.getPoints()}const w=p.getRawBytes(),S=new J(p.getText(),w,8*w.length,y,le.DATA_MATRIX,A.currentTimeMillis()),T=p.getByteSegments();T!=null&&S.putMetadata(Te.BYTE_SEGMENTS,T);const k=p.getECLevel();return k!=null&&S.putMetadata(Te.ERROR_CORRECTION_LEVEL,k),S}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(h==null||p==null)throw new me;const y=this.moduleSize(h,l);let w=h[1];const S=p[1];let T=h[0];const B=(p[0]-T+1)/y,Q=(S-w+1)/y;if(B<=0||Q<=0)throw new me;const oe=y/2;w+=oe,T+=oe;const xe=new ve(B,Q);for(let De=0;De<Q;De++){const We=w+De*y;for(let $e=0;$e<B;$e++)l.get(T+$e*y,We)&&xe.set($e,De)}return xe}static moduleSize(l,h){const p=h.getWidth();let y=l[0];const w=l[1];for(;y<p&&h.get(y,w);)y++;if(y===p)throw new me;const S=y-l[0];if(S===0)throw new me;return S}}_i.NO_POINTS=[];class kl extends q{constructor(l=500){super(new _i,l)}}var kn;(function(ce){ce[ce.L=0]="L",ce[ce.M=1]="M",ce[ce.Q=2]="Q",ce[ce.H=3]="H"})(kn||(kn={}));class Sn{constructor(l,h,p){this.value=l,this.stringValue=h,this.bits=p,Sn.FOR_BITS.set(p,this),Sn.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return Sn.L;case"M":return Sn.M;case"Q":return Sn.Q;case"H":return Sn.H;default:throw new m(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof Sn))return!1;const h=l;return this.value===h.value}static forBits(l){if(l<0||l>=Sn.FOR_BITS.size)throw new v;return Sn.FOR_BITS.get(l)}}Sn.FOR_BITS=new Map,Sn.FOR_VALUE=new Map,Sn.L=new Sn(kn.L,"L",1),Sn.M=new Sn(kn.M,"M",0),Sn.Q=new Sn(kn.Q,"Q",3),Sn.H=new Sn(kn.H,"H",2);class Di{constructor(l){this.errorCorrectionLevel=Sn.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,h){return P.bitCount(l^h)}static decodeFormatInformation(l,h){const p=Di.doDecodeFormatInformation(l,h);return p!==null?p:Di.doDecodeFormatInformation(l^Di.FORMAT_INFO_MASK_QR,h^Di.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,h){let p=Number.MAX_SAFE_INTEGER,y=0;for(const w of Di.FORMAT_INFO_DECODE_LOOKUP){const S=w[0];if(S===l||S===h)return new Di(w[1]);let T=Di.numBitsDiffering(l,S);T<p&&(y=w[1],p=T),l!==h&&(T=Di.numBitsDiffering(h,S),T<p&&(y=w[1],p=T))}return p<=3?new Di(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Di))return!1;const h=l;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}Di.FORMAT_INFO_MASK_QR=21522,Di.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ut{constructor(l,...h){this.ecCodewordsPerBlock=l,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const h=this.ecBlocks;for(const p of h)l+=p.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Re{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nr{constructor(l,h,...p){this.versionNumber=l,this.alignmentPatternCenters=h,this.ecBlocks=p;let y=0;const w=p[0].getECCodewordsPerBlock(),S=p[0].getECBlocks();for(const T of S)y+=T.getCount()*(T.getDataCodewords()+w);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new G;try{return this.getVersionForNumber((l-17)/4)}catch(h){throw new G}}static getVersionForNumber(l){if(l<1||l>40)throw new v;return Nr.VERSIONS[l-1]}static decodeVersionInformation(l){let h=Number.MAX_SAFE_INTEGER,p=0;for(let y=0;y<Nr.VERSION_DECODE_INFO.length;y++){const w=Nr.VERSION_DECODE_INFO[y];if(w===l)return Nr.getVersionForNumber(y+7);const S=Di.numBitsDiffering(l,w);S<h&&(p=y+7,h=S)}return h<=3?Nr.getVersionForNumber(p):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),h=new ve(l);h.setRegion(0,0,9,9),h.setRegion(l-8,0,8,9),h.setRegion(0,l-8,9,8);const p=this.alignmentPatternCenters.length;for(let y=0;y<p;y++){const w=this.alignmentPatternCenters[y]-2;for(let S=0;S<p;S++)y===0&&(S===0||S===p-1)||y===p-1&&S===0||h.setRegion(this.alignmentPatternCenters[S]-2,w,5,5)}return h.setRegion(6,9,1,l-17),h.setRegion(9,6,l-17,1),this.versionNumber>6&&(h.setRegion(l-11,0,3,6),h.setRegion(0,l-11,6,3)),h}toString(){return""+this.versionNumber}}Nr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Nr.VERSIONS=[new Nr(1,new Int32Array(0),new ut(7,new Re(1,19)),new ut(10,new Re(1,16)),new ut(13,new Re(1,13)),new ut(17,new Re(1,9))),new Nr(2,Int32Array.from([6,18]),new ut(10,new Re(1,34)),new ut(16,new Re(1,28)),new ut(22,new Re(1,22)),new ut(28,new Re(1,16))),new Nr(3,Int32Array.from([6,22]),new ut(15,new Re(1,55)),new ut(26,new Re(1,44)),new ut(18,new Re(2,17)),new ut(22,new Re(2,13))),new Nr(4,Int32Array.from([6,26]),new ut(20,new Re(1,80)),new ut(18,new Re(2,32)),new ut(26,new Re(2,24)),new ut(16,new Re(4,9))),new Nr(5,Int32Array.from([6,30]),new ut(26,new Re(1,108)),new ut(24,new Re(2,43)),new ut(18,new Re(2,15),new Re(2,16)),new ut(22,new Re(2,11),new Re(2,12))),new Nr(6,Int32Array.from([6,34]),new ut(18,new Re(2,68)),new ut(16,new Re(4,27)),new ut(24,new Re(4,19)),new ut(28,new Re(4,15))),new Nr(7,Int32Array.from([6,22,38]),new ut(20,new Re(2,78)),new ut(18,new Re(4,31)),new ut(18,new Re(2,14),new Re(4,15)),new ut(26,new Re(4,13),new Re(1,14))),new Nr(8,Int32Array.from([6,24,42]),new ut(24,new Re(2,97)),new ut(22,new Re(2,38),new Re(2,39)),new ut(22,new Re(4,18),new Re(2,19)),new ut(26,new Re(4,14),new Re(2,15))),new Nr(9,Int32Array.from([6,26,46]),new ut(30,new Re(2,116)),new ut(22,new Re(3,36),new Re(2,37)),new ut(20,new Re(4,16),new Re(4,17)),new ut(24,new Re(4,12),new Re(4,13))),new Nr(10,Int32Array.from([6,28,50]),new ut(18,new Re(2,68),new Re(2,69)),new ut(26,new Re(4,43),new Re(1,44)),new ut(24,new Re(6,19),new Re(2,20)),new ut(28,new Re(6,15),new Re(2,16))),new Nr(11,Int32Array.from([6,30,54]),new ut(20,new Re(4,81)),new ut(30,new Re(1,50),new Re(4,51)),new ut(28,new Re(4,22),new Re(4,23)),new ut(24,new Re(3,12),new Re(8,13))),new Nr(12,Int32Array.from([6,32,58]),new ut(24,new Re(2,92),new Re(2,93)),new ut(22,new Re(6,36),new Re(2,37)),new ut(26,new Re(4,20),new Re(6,21)),new ut(28,new Re(7,14),new Re(4,15))),new Nr(13,Int32Array.from([6,34,62]),new ut(26,new Re(4,107)),new ut(22,new Re(8,37),new Re(1,38)),new ut(24,new Re(8,20),new Re(4,21)),new ut(22,new Re(12,11),new Re(4,12))),new Nr(14,Int32Array.from([6,26,46,66]),new ut(30,new Re(3,115),new Re(1,116)),new ut(24,new Re(4,40),new Re(5,41)),new ut(20,new Re(11,16),new Re(5,17)),new ut(24,new Re(11,12),new Re(5,13))),new Nr(15,Int32Array.from([6,26,48,70]),new ut(22,new Re(5,87),new Re(1,88)),new ut(24,new Re(5,41),new Re(5,42)),new ut(30,new Re(5,24),new Re(7,25)),new ut(24,new Re(11,12),new Re(7,13))),new Nr(16,Int32Array.from([6,26,50,74]),new ut(24,new Re(5,98),new Re(1,99)),new ut(28,new Re(7,45),new Re(3,46)),new ut(24,new Re(15,19),new Re(2,20)),new ut(30,new Re(3,15),new Re(13,16))),new Nr(17,Int32Array.from([6,30,54,78]),new ut(28,new Re(1,107),new Re(5,108)),new ut(28,new Re(10,46),new Re(1,47)),new ut(28,new Re(1,22),new Re(15,23)),new ut(28,new Re(2,14),new Re(17,15))),new Nr(18,Int32Array.from([6,30,56,82]),new ut(30,new Re(5,120),new Re(1,121)),new ut(26,new Re(9,43),new Re(4,44)),new ut(28,new Re(17,22),new Re(1,23)),new ut(28,new Re(2,14),new Re(19,15))),new Nr(19,Int32Array.from([6,30,58,86]),new ut(28,new Re(3,113),new Re(4,114)),new ut(26,new Re(3,44),new Re(11,45)),new ut(26,new Re(17,21),new Re(4,22)),new ut(26,new Re(9,13),new Re(16,14))),new Nr(20,Int32Array.from([6,34,62,90]),new ut(28,new Re(3,107),new Re(5,108)),new ut(26,new Re(3,41),new Re(13,42)),new ut(30,new Re(15,24),new Re(5,25)),new ut(28,new Re(15,15),new Re(10,16))),new Nr(21,Int32Array.from([6,28,50,72,94]),new ut(28,new Re(4,116),new Re(4,117)),new ut(26,new Re(17,42)),new ut(28,new Re(17,22),new Re(6,23)),new ut(30,new Re(19,16),new Re(6,17))),new Nr(22,Int32Array.from([6,26,50,74,98]),new ut(28,new Re(2,111),new Re(7,112)),new ut(28,new Re(17,46)),new ut(30,new Re(7,24),new Re(16,25)),new ut(24,new Re(34,13))),new Nr(23,Int32Array.from([6,30,54,78,102]),new ut(30,new Re(4,121),new Re(5,122)),new ut(28,new Re(4,47),new Re(14,48)),new ut(30,new Re(11,24),new Re(14,25)),new ut(30,new Re(16,15),new Re(14,16))),new Nr(24,Int32Array.from([6,28,54,80,106]),new ut(30,new Re(6,117),new Re(4,118)),new ut(28,new Re(6,45),new Re(14,46)),new ut(30,new Re(11,24),new Re(16,25)),new ut(30,new Re(30,16),new Re(2,17))),new Nr(25,Int32Array.from([6,32,58,84,110]),new ut(26,new Re(8,106),new Re(4,107)),new ut(28,new Re(8,47),new Re(13,48)),new ut(30,new Re(7,24),new Re(22,25)),new ut(30,new Re(22,15),new Re(13,16))),new Nr(26,Int32Array.from([6,30,58,86,114]),new ut(28,new Re(10,114),new Re(2,115)),new ut(28,new Re(19,46),new Re(4,47)),new ut(28,new Re(28,22),new Re(6,23)),new ut(30,new Re(33,16),new Re(4,17))),new Nr(27,Int32Array.from([6,34,62,90,118]),new ut(30,new Re(8,122),new Re(4,123)),new ut(28,new Re(22,45),new Re(3,46)),new ut(30,new Re(8,23),new Re(26,24)),new ut(30,new Re(12,15),new Re(28,16))),new Nr(28,Int32Array.from([6,26,50,74,98,122]),new ut(30,new Re(3,117),new Re(10,118)),new ut(28,new Re(3,45),new Re(23,46)),new ut(30,new Re(4,24),new Re(31,25)),new ut(30,new Re(11,15),new Re(31,16))),new Nr(29,Int32Array.from([6,30,54,78,102,126]),new ut(30,new Re(7,116),new Re(7,117)),new ut(28,new Re(21,45),new Re(7,46)),new ut(30,new Re(1,23),new Re(37,24)),new ut(30,new Re(19,15),new Re(26,16))),new Nr(30,Int32Array.from([6,26,52,78,104,130]),new ut(30,new Re(5,115),new Re(10,116)),new ut(28,new Re(19,47),new Re(10,48)),new ut(30,new Re(15,24),new Re(25,25)),new ut(30,new Re(23,15),new Re(25,16))),new Nr(31,Int32Array.from([6,30,56,82,108,134]),new ut(30,new Re(13,115),new Re(3,116)),new ut(28,new Re(2,46),new Re(29,47)),new ut(30,new Re(42,24),new Re(1,25)),new ut(30,new Re(23,15),new Re(28,16))),new Nr(32,Int32Array.from([6,34,60,86,112,138]),new ut(30,new Re(17,115)),new ut(28,new Re(10,46),new Re(23,47)),new ut(30,new Re(10,24),new Re(35,25)),new ut(30,new Re(19,15),new Re(35,16))),new Nr(33,Int32Array.from([6,30,58,86,114,142]),new ut(30,new Re(17,115),new Re(1,116)),new ut(28,new Re(14,46),new Re(21,47)),new ut(30,new Re(29,24),new Re(19,25)),new ut(30,new Re(11,15),new Re(46,16))),new Nr(34,Int32Array.from([6,34,62,90,118,146]),new ut(30,new Re(13,115),new Re(6,116)),new ut(28,new Re(14,46),new Re(23,47)),new ut(30,new Re(44,24),new Re(7,25)),new ut(30,new Re(59,16),new Re(1,17))),new Nr(35,Int32Array.from([6,30,54,78,102,126,150]),new ut(30,new Re(12,121),new Re(7,122)),new ut(28,new Re(12,47),new Re(26,48)),new ut(30,new Re(39,24),new Re(14,25)),new ut(30,new Re(22,15),new Re(41,16))),new Nr(36,Int32Array.from([6,24,50,76,102,128,154]),new ut(30,new Re(6,121),new Re(14,122)),new ut(28,new Re(6,47),new Re(34,48)),new ut(30,new Re(46,24),new Re(10,25)),new ut(30,new Re(2,15),new Re(64,16))),new Nr(37,Int32Array.from([6,28,54,80,106,132,158]),new ut(30,new Re(17,122),new Re(4,123)),new ut(28,new Re(29,46),new Re(14,47)),new ut(30,new Re(49,24),new Re(10,25)),new ut(30,new Re(24,15),new Re(46,16))),new Nr(38,Int32Array.from([6,32,58,84,110,136,162]),new ut(30,new Re(4,122),new Re(18,123)),new ut(28,new Re(13,46),new Re(32,47)),new ut(30,new Re(48,24),new Re(14,25)),new ut(30,new Re(42,15),new Re(32,16))),new Nr(39,Int32Array.from([6,26,54,82,110,138,166]),new ut(30,new Re(20,117),new Re(4,118)),new ut(28,new Re(40,47),new Re(7,48)),new ut(30,new Re(43,24),new Re(22,25)),new ut(30,new Re(10,15),new Re(67,16))),new Nr(40,Int32Array.from([6,30,58,86,114,142,170]),new ut(30,new Re(19,118),new Re(6,119)),new ut(28,new Re(18,47),new Re(31,48)),new ut(30,new Re(34,24),new Re(34,25)),new ut(30,new Re(20,15),new Re(61,16)))];var mi;(function(ce){ce[ce.DATA_MASK_000=0]="DATA_MASK_000",ce[ce.DATA_MASK_001=1]="DATA_MASK_001",ce[ce.DATA_MASK_010=2]="DATA_MASK_010",ce[ce.DATA_MASK_011=3]="DATA_MASK_011",ce[ce.DATA_MASK_100=4]="DATA_MASK_100",ce[ce.DATA_MASK_101=5]="DATA_MASK_101",ce[ce.DATA_MASK_110=6]="DATA_MASK_110",ce[ce.DATA_MASK_111=7]="DATA_MASK_111"})(mi||(mi={}));class qi{constructor(l,h){this.value=l,this.isMasked=h}unmaskBitMatrix(l,h){for(let p=0;p<h;p++)for(let y=0;y<h;y++)this.isMasked(p,y)&&l.flip(y,p)}}qi.values=new Map([[mi.DATA_MASK_000,new qi(mi.DATA_MASK_000,(ce,l)=>(ce+l&1)===0)],[mi.DATA_MASK_001,new qi(mi.DATA_MASK_001,(ce,l)=>(ce&1)===0)],[mi.DATA_MASK_010,new qi(mi.DATA_MASK_010,(ce,l)=>l%3===0)],[mi.DATA_MASK_011,new qi(mi.DATA_MASK_011,(ce,l)=>(ce+l)%3===0)],[mi.DATA_MASK_100,new qi(mi.DATA_MASK_100,(ce,l)=>(Math.floor(ce/2)+Math.floor(l/3)&1)===0)],[mi.DATA_MASK_101,new qi(mi.DATA_MASK_101,(ce,l)=>ce*l%6===0)],[mi.DATA_MASK_110,new qi(mi.DATA_MASK_110,(ce,l)=>ce*l%6<3)],[mi.DATA_MASK_111,new qi(mi.DATA_MASK_111,(ce,l)=>(ce+l+ce*l%3&1)===0)]]);class sc{constructor(l){const h=l.getHeight();if(h<21||(h&3)!==1)throw new G;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let w=0;w<6;w++)l=this.copyBit(w,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let w=5;w>=0;w--)l=this.copyBit(8,w,l);const h=this.bitMatrix.getHeight();let p=0;const y=h-7;for(let w=h-1;w>=y;w--)p=this.copyBit(8,w,p);for(let w=h-8;w<h;w++)p=this.copyBit(w,8,p);if(this.parsedFormatInfo=Di.decodeFormatInformation(l,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),h=Math.floor((l-17)/4);if(h<=6)return Nr.getVersionForNumber(h);let p=0;const y=l-11;for(let S=5;S>=0;S--)for(let T=l-9;T>=y;T--)p=this.copyBit(T,S,p);let w=Nr.decodeVersionInformation(p);if(w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;p=0;for(let S=5;S>=0;S--)for(let T=l-9;T>=y;T--)p=this.copyBit(S,T,p);if(w=Nr.decodeVersionInformation(p),w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;throw new G}copyBit(l,h,p){return(this.isMirror?this.bitMatrix.get(h,l):this.bitMatrix.get(l,h))?p<<1|1:p<<1}readCodewords(){const l=this.readFormatInformation(),h=this.readVersion(),p=qi.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y);const w=h.buildFunctionPattern();let S=!0;const T=new Uint8Array(h.getTotalCodewords());let k=0,B=0,Q=0;for(let oe=y-1;oe>0;oe-=2){oe===6&&oe--;for(let xe=0;xe<y;xe++){const De=S?y-1-xe:xe;for(let We=0;We<2;We++)w.get(oe-We,De)||(Q++,B<<=1,this.bitMatrix.get(oe-We,De)&&(B|=1),Q===8&&(T[k++]=B,Q=0,B=0))}S=!S}if(k!==h.getTotalCodewords())throw new G;return T}remask(){if(this.parsedFormatInfo===null)return;const l=qi.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let h=0,p=l.getWidth();h<p;h++)for(let y=h+1,w=l.getHeight();y<w;y++)l.get(h,y)!==l.get(y,h)&&(l.flip(y,h),l.flip(h,y))}}class Ll{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h,p){if(l.length!==h.getTotalCodewords())throw new v;const y=h.getECBlocksForLevel(p);let w=0;const S=y.getECBlocks();for(const We of S)w+=We.getCount();const T=new Array(w);let k=0;for(const We of S)for(let $e=0;$e<We.getCount();$e++){const tt=We.getDataCodewords(),xt=y.getECCodewordsPerBlock()+tt;T[k++]=new Ll(tt,new Uint8Array(xt))}const B=T[0].codewords.length;let Q=T.length-1;for(;Q>=0&&T[Q].codewords.length!==B;)Q--;Q++;const oe=B-y.getECCodewordsPerBlock();let xe=0;for(let We=0;We<oe;We++)for(let $e=0;$e<k;$e++)T[$e].codewords[We]=l[xe++];for(let We=Q;We<k;We++)T[We].codewords[oe]=l[xe++];const De=T[0].codewords.length;for(let We=oe;We<De;We++)for(let $e=0;$e<k;$e++){const tt=$e<Q?We:We+1;T[$e].codewords[tt]=l[xe++]}return T}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Sa;(function(ce){ce[ce.TERMINATOR=0]="TERMINATOR",ce[ce.NUMERIC=1]="NUMERIC",ce[ce.ALPHANUMERIC=2]="ALPHANUMERIC",ce[ce.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ce[ce.BYTE=4]="BYTE",ce[ce.ECI=5]="ECI",ce[ce.KANJI=6]="KANJI",ce[ce.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ce[ce.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ce[ce.HANZI=9]="HANZI"})(Sa||(Sa={}));class Ar{constructor(l,h,p,y){this.value=l,this.stringValue=h,this.characterCountBitsForVersions=p,this.bits=y,Ar.FOR_BITS.set(y,this),Ar.FOR_VALUE.set(l,this)}static forBits(l){const h=Ar.FOR_BITS.get(l);if(h===void 0)throw new v;return h}getCharacterCountBits(l){const h=l.getVersionNumber();let p;return h<=9?p=0:h<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof Ar))return!1;const h=l;return this.value===h.value}toString(){return this.stringValue}}Ar.FOR_BITS=new Map,Ar.FOR_VALUE=new Map,Ar.TERMINATOR=new Ar(Sa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ar.NUMERIC=new Ar(Sa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ar.ALPHANUMERIC=new Ar(Sa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ar.STRUCTURED_APPEND=new Ar(Sa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ar.BYTE=new Ar(Sa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ar.ECI=new Ar(Sa.ECI,"ECI",Int32Array.from([0,0,0]),7),Ar.KANJI=new Ar(Sa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ar.FNC1_FIRST_POSITION=new Ar(Sa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ar.FNC1_SECOND_POSITION=new Ar(Sa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ar.HANZI=new Ar(Sa.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Nn{static decode(l,h,p,y){const w=new Pn(l);let S=new ne;const T=new Array;let k=-1,B=-1;try{let Q=null,oe=!1,xe;do{if(w.available()<4)xe=Ar.TERMINATOR;else{const De=w.readBits(4);xe=Ar.forBits(De)}switch(xe){case Ar.TERMINATOR:break;case Ar.FNC1_FIRST_POSITION:case Ar.FNC1_SECOND_POSITION:oe=!0;break;case Ar.STRUCTURED_APPEND:if(w.available()<16)throw new G;k=w.readBits(8),B=w.readBits(8);break;case Ar.ECI:const De=Nn.parseECIValue(w);if(Q=z.getCharacterSetECIByValue(De),Q===null)throw new G;break;case Ar.HANZI:const We=w.readBits(4),$e=w.readBits(xe.getCharacterCountBits(h));We===Nn.GB2312_SUBSET&&Nn.decodeHanziSegment(w,S,$e);break;default:const tt=w.readBits(xe.getCharacterCountBits(h));switch(xe){case Ar.NUMERIC:Nn.decodeNumericSegment(w,S,tt);break;case Ar.ALPHANUMERIC:Nn.decodeAlphanumericSegment(w,S,tt,oe);break;case Ar.BYTE:Nn.decodeByteSegment(w,S,tt,Q,T,y);break;case Ar.KANJI:Nn.decodeKanjiSegment(w,S,tt);break;default:throw new G}break}}while(xe!==Ar.TERMINATOR)}catch(Q){throw new G}return new Me(l,S.toString(),T.length===0?null:T,p===null?null:p.toString(),k,B)}static decodeHanziSegment(l,h,p){if(p*13>l.available())throw new G;const y=new Uint8Array(2*p);let w=0;for(;p>0;){const S=l.readBits(13);let T=S/96<<8&4294967295|S%96;T<959?T+=41377:T+=42657,y[w]=T>>8&255,y[w+1]=T&255,w+=2,p--}try{h.append(W.decode(y,H.GB2312))}catch(S){throw new G(S)}}static decodeKanjiSegment(l,h,p){if(p*13>l.available())throw new G;const y=new Uint8Array(2*p);let w=0;for(;p>0;){const S=l.readBits(13);let T=S/192<<8&4294967295|S%192;T<7936?T+=33088:T+=49472,y[w]=T>>8,y[w+1]=T,w+=2,p--}try{h.append(W.decode(y,H.SHIFT_JIS))}catch(S){throw new G(S)}}static decodeByteSegment(l,h,p,y,w,S){if(8*p>l.available())throw new G;const T=new Uint8Array(p);for(let B=0;B<p;B++)T[B]=l.readBits(8);let k;y===null?k=H.guessEncoding(T,S):k=y.getName();try{h.append(W.decode(T,k))}catch(B){throw new G(B)}w.push(T)}static toAlphaNumericChar(l){if(l>=Nn.ALPHANUMERIC_CHARS.length)throw new G;return Nn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,h,p,y){const w=h.length();for(;p>1;){if(l.available()<11)throw new G;const S=l.readBits(11);h.append(Nn.toAlphaNumericChar(Math.floor(S/45))),h.append(Nn.toAlphaNumericChar(S%45)),p-=2}if(p===1){if(l.available()<6)throw new G;h.append(Nn.toAlphaNumericChar(l.readBits(6)))}if(y)for(let S=w;S<h.length();S++)h.charAt(S)==="%"&&(S<h.length()-1&&h.charAt(S+1)==="%"?h.deleteCharAt(S+1):h.setCharAt(S,""))}static decodeNumericSegment(l,h,p){for(;p>=3;){if(l.available()<10)throw new G;const y=l.readBits(10);if(y>=1e3)throw new G;h.append(Nn.toAlphaNumericChar(Math.floor(y/100))),h.append(Nn.toAlphaNumericChar(Math.floor(y/10)%10)),h.append(Nn.toAlphaNumericChar(y%10)),p-=3}if(p===2){if(l.available()<7)throw new G;const y=l.readBits(7);if(y>=100)throw new G;h.append(Nn.toAlphaNumericChar(Math.floor(y/10))),h.append(Nn.toAlphaNumericChar(y%10))}else if(p===1){if(l.available()<4)throw new G;const y=l.readBits(4);if(y>=10)throw new G;h.append(Nn.toAlphaNumericChar(y))}}static parseECIValue(l){const h=l.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const p=l.readBits(8);return(h&63)<<8&4294967295|p}if((h&224)===192){const p=l.readBits(16);return(h&31)<<16&4294967295|p}throw new G}}Nn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Nn.GB2312_SUBSET=1;class Jo{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const h=l[0];l[0]=l[2],l[2]=h}}class io{constructor(){this.rsDecoder=new fe(ct.QR_CODE_FIELD_256)}decodeBooleanArray(l,h){return this.decodeBitMatrix(ve.parseFromBooleanArray(l),h)}decodeBitMatrix(l,h){const p=new sc(l);let y=null;try{return this.decodeBitMatrixParser(p,h)}catch(w){y=w}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const w=this.decodeBitMatrixParser(p,h);return w.setOther(new Jo(!0)),w}catch(w){throw y!==null?y:w}}decodeBitMatrixParser(l,h){const p=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),w=l.readCodewords(),S=Ll.getDataBlocks(w,p,y);let T=0;for(const Q of S)T+=Q.getNumDataCodewords();const k=new Uint8Array(T);let B=0;for(const Q of S){const oe=Q.getCodewords(),xe=Q.getNumDataCodewords();this.correctErrors(oe,xe);for(let De=0;De<xe;De++)k[B++]=oe[De]}return Nn.decode(k,p,y,h)}correctErrors(l,h){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-h)}catch(y){throw new _}for(let y=0;y<h;y++)l[y]=p[y]}}class Ro extends et{constructor(l,h,p){super(l,h),this.estimatedModuleSize=p}aboutEquals(l,h,p){if(Math.abs(h-this.getY())<=l&&Math.abs(p-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,h,p){const y=(this.getX()+h)/2,w=(this.getY()+l)/2,S=(this.estimatedModuleSize+p)/2;return new Ro(y,w,S)}}class Ei{constructor(l,h,p,y,w,S,T){this.image=l,this.startX=h,this.startY=p,this.width=y,this.height=w,this.moduleSize=S,this.resultPointCallback=T,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,h=this.height,p=this.width,y=l+p,w=this.startY+h/2,S=new Int32Array(3),T=this.image;for(let k=0;k<h;k++){const B=w+((k&1)===0?Math.floor((k+1)/2):-Math.floor((k+1)/2));S[0]=0,S[1]=0,S[2]=0;let Q=l;for(;Q<y&&!T.get(Q,B);)Q++;let oe=0;for(;Q<y;){if(T.get(Q,B))if(oe===1)S[1]++;else if(oe===2){if(this.foundPatternCross(S)){const xe=this.handlePossibleCenter(S,B,Q);if(xe!==null)return xe}S[0]=S[2],S[1]=1,S[2]=0,oe=1}else S[++oe]++;else oe===1&&oe++,S[oe]++;Q++}if(this.foundPatternCross(S)){const xe=this.handlePossibleCenter(S,B,y);if(xe!==null)return xe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new me}static centerFromEnd(l,h){return h-l[2]-l[1]/2}foundPatternCross(l){const h=this.moduleSize,p=h/2;for(let y=0;y<3;y++)if(Math.abs(h-l[y])>=p)return!1;return!0}crossCheckVertical(l,h,p,y){const w=this.image,S=w.getHeight(),T=this.crossCheckStateCount;T[0]=0,T[1]=0,T[2]=0;let k=l;for(;k>=0&&w.get(h,k)&&T[1]<=p;)T[1]++,k--;if(k<0||T[1]>p)return NaN;for(;k>=0&&!w.get(h,k)&&T[0]<=p;)T[0]++,k--;if(T[0]>p)return NaN;for(k=l+1;k<S&&w.get(h,k)&&T[1]<=p;)T[1]++,k++;if(k===S||T[1]>p)return NaN;for(;k<S&&!w.get(h,k)&&T[2]<=p;)T[2]++,k++;if(T[2]>p)return NaN;const B=T[0]+T[1]+T[2];return 5*Math.abs(B-y)>=2*y?NaN:this.foundPatternCross(T)?Ei.centerFromEnd(T,k):NaN}handlePossibleCenter(l,h,p){const y=l[0]+l[1]+l[2],w=Ei.centerFromEnd(l,p),S=this.crossCheckVertical(h,w,2*l[1],y);if(!isNaN(S)){const T=(l[0]+l[1]+l[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(T,S,w))return B.combineEstimate(S,w,T);const k=new Ro(w,S,T);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class Fs extends et{constructor(l,h,p,y){super(l,h),this.estimatedModuleSize=p,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,h,p){if(Math.abs(h-this.getY())<=l&&Math.abs(p-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,h,p){const y=this.count+1,w=(this.count*this.getX()+h)/y,S=(this.count*this.getY()+l)/y,T=(this.count*this.estimatedModuleSize+p)/y;return new Fs(w,S,T,y)}}class ao{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class vr{constructor(l,h){this.image=l,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const h=l!=null&&l.get(K.TRY_HARDER)!==void 0,p=l!=null&&l.get(K.PURE_BARCODE)!==void 0,y=this.image,w=y.getHeight(),S=y.getWidth();let T=Math.floor(3*w/(4*vr.MAX_MODULES));(T<vr.MIN_SKIP||h)&&(T=vr.MIN_SKIP);let k=!1;const B=new Int32Array(5);for(let oe=T-1;oe<w&&!k;oe+=T){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let xe=0;for(let De=0;De<S;De++)if(y.get(De,oe))(xe&1)===1&&xe++,B[xe]++;else if((xe&1)===0)if(xe===4)if(vr.foundPatternCross(B)){if(this.handlePossibleCenter(B,oe,De,p)===!0)if(T=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const $e=this.findRowSkip();$e>B[2]&&(oe+=$e-B[2]-T,De=S-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,xe=3;continue}xe=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,xe=3;else B[++xe]++;else B[xe]++;vr.foundPatternCross(B)&&this.handlePossibleCenter(B,oe,S,p)===!0&&(T=B[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const Q=this.selectBestPatterns();return et.orderBestPatterns(Q),new ao(Q)}static centerFromEnd(l,h){return h-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let h=0;for(let w=0;w<5;w++){const S=l[w];if(S===0)return!1;h+=S}if(h<7)return!1;const p=h/7,y=p/2;return Math.abs(p-l[0])<y&&Math.abs(p-l[1])<y&&Math.abs(3*p-l[2])<3*y&&Math.abs(p-l[3])<y&&Math.abs(p-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,h,p,y){const w=this.getCrossCheckStateCount();let S=0;const T=this.image;for(;l>=S&&h>=S&&T.get(h-S,l-S);)w[2]++,S++;if(l<S||h<S)return!1;for(;l>=S&&h>=S&&!T.get(h-S,l-S)&&w[1]<=p;)w[1]++,S++;if(l<S||h<S||w[1]>p)return!1;for(;l>=S&&h>=S&&T.get(h-S,l-S)&&w[0]<=p;)w[0]++,S++;if(w[0]>p)return!1;const k=T.getHeight(),B=T.getWidth();for(S=1;l+S<k&&h+S<B&&T.get(h+S,l+S);)w[2]++,S++;if(l+S>=k||h+S>=B)return!1;for(;l+S<k&&h+S<B&&!T.get(h+S,l+S)&&w[3]<p;)w[3]++,S++;if(l+S>=k||h+S>=B||w[3]>=p)return!1;for(;l+S<k&&h+S<B&&T.get(h+S,l+S)&&w[4]<p;)w[4]++,S++;if(w[4]>=p)return!1;const Q=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(Q-y)<2*y&&vr.foundPatternCross(w)}crossCheckVertical(l,h,p,y){const w=this.image,S=w.getHeight(),T=this.getCrossCheckStateCount();let k=l;for(;k>=0&&w.get(h,k);)T[2]++,k--;if(k<0)return NaN;for(;k>=0&&!w.get(h,k)&&T[1]<=p;)T[1]++,k--;if(k<0||T[1]>p)return NaN;for(;k>=0&&w.get(h,k)&&T[0]<=p;)T[0]++,k--;if(T[0]>p)return NaN;for(k=l+1;k<S&&w.get(h,k);)T[2]++,k++;if(k===S)return NaN;for(;k<S&&!w.get(h,k)&&T[3]<p;)T[3]++,k++;if(k===S||T[3]>=p)return NaN;for(;k<S&&w.get(h,k)&&T[4]<p;)T[4]++,k++;if(T[4]>=p)return NaN;const B=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(B-y)>=2*y?NaN:vr.foundPatternCross(T)?vr.centerFromEnd(T,k):NaN}crossCheckHorizontal(l,h,p,y){const w=this.image,S=w.getWidth(),T=this.getCrossCheckStateCount();let k=l;for(;k>=0&&w.get(k,h);)T[2]++,k--;if(k<0)return NaN;for(;k>=0&&!w.get(k,h)&&T[1]<=p;)T[1]++,k--;if(k<0||T[1]>p)return NaN;for(;k>=0&&w.get(k,h)&&T[0]<=p;)T[0]++,k--;if(T[0]>p)return NaN;for(k=l+1;k<S&&w.get(k,h);)T[2]++,k++;if(k===S)return NaN;for(;k<S&&!w.get(k,h)&&T[3]<p;)T[3]++,k++;if(k===S||T[3]>=p)return NaN;for(;k<S&&w.get(k,h)&&T[4]<p;)T[4]++,k++;if(T[4]>=p)return NaN;const B=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(B-y)>=y?NaN:vr.foundPatternCross(T)?vr.centerFromEnd(T,k):NaN}handlePossibleCenter(l,h,p,y){const w=l[0]+l[1]+l[2]+l[3]+l[4];let S=vr.centerFromEnd(l,p),T=this.crossCheckVertical(h,Math.floor(S),l[2],w);if(!isNaN(T)&&(S=this.crossCheckHorizontal(Math.floor(S),Math.floor(T),l[2],w),!isNaN(S)&&(!y||this.crossCheckDiagonal(Math.floor(T),Math.floor(S),l[2],w)))){const k=w/7;let B=!1;const Q=this.possibleCenters;for(let oe=0,xe=Q.length;oe<xe;oe++){const De=Q[oe];if(De.aboutEquals(k,T,S)){Q[oe]=De.combineEstimate(T,S,k),B=!0;break}}if(!B){const oe=new Fs(S,T,k);Q.push(oe),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(oe)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const p of this.possibleCenters)if(p.getCount()>=vr.CENTER_QUORUM)if(h==null)h=p;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-p.getX())-Math.abs(h.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,h=0;const p=this.possibleCenters.length;for(const S of this.possibleCenters)S.getCount()>=vr.CENTER_QUORUM&&(l++,h+=S.getEstimatedModuleSize());if(l<3)return!1;const y=h/p;let w=0;for(const S of this.possibleCenters)w+=Math.abs(S.getEstimatedModuleSize()-y);return w<=.05*h}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new me;const h=this.possibleCenters;let p;if(l>3){let y=0,w=0;for(const k of this.possibleCenters){const B=k.getEstimatedModuleSize();y+=B,w+=B*B}p=y/l;let S=Math.sqrt(w/l-p*p);h.sort((k,B)=>{const Q=Math.abs(B.getEstimatedModuleSize()-p),oe=Math.abs(k.getEstimatedModuleSize()-p);return Q<oe?-1:Q>oe?1:0});const T=Math.max(.2*p,S);for(let k=0;k<h.length&&h.length>3;k++){const B=h[k];Math.abs(B.getEstimatedModuleSize()-p)>T&&(h.splice(k,1),k--)}}if(h.length>3){let y=0;for(const w of h)y+=w.getEstimatedModuleSize();p=y/h.length,h.sort((w,S)=>{if(S.getCount()===w.getCount()){const T=Math.abs(S.getEstimatedModuleSize()-p),k=Math.abs(w.getEstimatedModuleSize()-p);return T<k?1:T>k?-1:0}else return S.getCount()-w.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}vr.CENTER_QUORUM=2,vr.MIN_SKIP=3,vr.MAX_MODULES=57;class so{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(K.NEED_RESULT_POINT_CALLBACK);const p=new vr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(p)}processFinderPatternInfo(l){const h=l.getTopLeft(),p=l.getTopRight(),y=l.getBottomLeft(),w=this.calculateModuleSize(h,p,y);if(w<1)throw new me("No pattern found in proccess finder.");const S=so.computeDimension(h,p,y,w),T=Nr.getProvisionalVersionForDimension(S),k=T.getDimensionForVersion()-7;let B=null;if(T.getAlignmentPatternCenters().length>0){const De=p.getX()-h.getX()+y.getX(),We=p.getY()-h.getY()+y.getY(),$e=1-3/k,tt=Math.floor(h.getX()+$e*(De-h.getX())),xt=Math.floor(h.getY()+$e*(We-h.getY()));for(let Pt=4;Pt<=16;Pt<<=1)try{B=this.findAlignmentInRegion(w,tt,xt,Pt);break}catch(qt){if(!(qt instanceof me))throw qt}}const Q=so.createTransform(h,p,y,B,S),oe=so.sampleGrid(this.image,Q,S);let xe;return B===null?xe=[y,h,p]:xe=[y,h,p,B],new Dt(oe,xe)}static createTransform(l,h,p,y,w){const S=w-3.5;let T,k,B,Q;return y!==null?(T=y.getX(),k=y.getY(),B=S-3,Q=B):(T=h.getX()-l.getX()+p.getX(),k=h.getY()-l.getY()+p.getY(),B=S,Q=S),ar.quadrilateralToQuadrilateral(3.5,3.5,S,3.5,B,Q,3.5,S,l.getX(),l.getY(),h.getX(),h.getY(),T,k,p.getX(),p.getY())}static sampleGrid(l,h,p){return mr.getInstance().sampleGridWithTransform(l,p,p,h)}static computeDimension(l,h,p,y){const w=He.round(et.distance(l,h)/y),S=He.round(et.distance(l,p)/y);let T=Math.floor((w+S)/2)+7;switch(T&3){case 0:T++;break;case 2:T--;break;case 3:throw new me("Dimensions could be not found.")}return T}calculateModuleSize(l,h,p){return(this.calculateModuleSizeOneWay(l,h)+this.calculateModuleSizeOneWay(l,p))/2}calculateModuleSizeOneWay(l,h){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(h.getX()),Math.floor(h.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(p)?y/7:isNaN(y)?p/7:(p+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,h,p,y){let w=this.sizeOfBlackWhiteBlackRun(l,h,p,y),S=1,T=l-(p-l);T<0?(S=l/(l-T),T=0):T>=this.image.getWidth()&&(S=(this.image.getWidth()-1-l)/(T-l),T=this.image.getWidth()-1);let k=Math.floor(h-(y-h)*S);return S=1,k<0?(S=h/(h-k),k=0):k>=this.image.getHeight()&&(S=(this.image.getHeight()-1-h)/(k-h),k=this.image.getHeight()-1),T=Math.floor(l+(T-l)*S),w+=this.sizeOfBlackWhiteBlackRun(l,h,T,k),w-1}sizeOfBlackWhiteBlackRun(l,h,p,y){const w=Math.abs(y-h)>Math.abs(p-l);if(w){let De=l;l=h,h=De,De=p,p=y,y=De}const S=Math.abs(p-l),T=Math.abs(y-h);let k=-S/2;const B=l<p?1:-1,Q=h<y?1:-1;let oe=0;const xe=p+B;for(let De=l,We=h;De!==xe;De+=B){const $e=w?We:De,tt=w?De:We;if(oe===1===this.image.get($e,tt)){if(oe===2)return He.distance(De,We,l,h);oe++}if(k+=T,k>0){if(We===y)break;We+=Q,k-=S}}return oe===2?He.distance(p+B,y,l,h):NaN}findAlignmentInRegion(l,h,p,y){const w=Math.floor(y*l),S=Math.max(0,h-w),T=Math.min(this.image.getWidth()-1,h+w);if(T-S<l*3)throw new me("Alignment top exceeds estimated module size.");const k=Math.max(0,p-w),B=Math.min(this.image.getHeight()-1,p+w);if(B-k<l*3)throw new me("Alignment bottom exceeds estimated module size.");return new Ei(this.image,S,k,T-S,B-k,l,this.resultPointCallback).find()}}class Cs{constructor(){this.decoder=new io}getDecoder(){return this.decoder}decode(l,h){let p,y;if(h!=null&&h.get(K.PURE_BARCODE)!==void 0){const k=Cs.extractPureBits(l.getBlackMatrix());p=this.decoder.decodeBitMatrix(k,h),y=Cs.NO_POINTS}else{const k=new so(l.getBlackMatrix()).detect(h);p=this.decoder.decodeBitMatrix(k.getBits(),h),y=k.getPoints()}p.getOther()instanceof Jo&&p.getOther().applyMirroredCorrection(y);const w=new J(p.getText(),p.getRawBytes(),void 0,y,le.QR_CODE,void 0),S=p.getByteSegments();S!==null&&w.putMetadata(Te.BYTE_SEGMENTS,S);const T=p.getECLevel();return T!==null&&w.putMetadata(Te.ERROR_CORRECTION_LEVEL,T),p.hasStructuredAppend()&&(w.putMetadata(Te.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),w.putMetadata(Te.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),w}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(h===null||p===null)throw new me;const y=this.moduleSize(h,l);let w=h[1],S=p[1],T=h[0],k=p[0];if(T>=k||w>=S)throw new me;if(S-w!==k-T&&(k=T+(S-w),k>=l.getWidth()))throw new me;const B=Math.round((k-T+1)/y),Q=Math.round((S-w+1)/y);if(B<=0||Q<=0)throw new me;if(Q!==B)throw new me;const oe=Math.floor(y/2);w+=oe,T+=oe;const xe=T+Math.floor((B-1)*y)-k;if(xe>0){if(xe>oe)throw new me;T-=xe}const De=w+Math.floor((Q-1)*y)-S;if(De>0){if(De>oe)throw new me;w-=De}const We=new ve(B,Q);for(let $e=0;$e<Q;$e++){const tt=w+Math.floor($e*y);for(let xt=0;xt<B;xt++)l.get(T+Math.floor(xt*y),tt)&&We.set(xt,$e)}return We}static moduleSize(l,h){const p=h.getHeight(),y=h.getWidth();let w=l[0],S=l[1],T=!0,k=0;for(;w<y&&S<p;){if(T!==h.get(w,S)){if(++k===5)break;T=!T}w++,S++}if(w===y||S===p)throw new me;return(w-l[0])/7}}Cs.NO_POINTS=new Array;class yr{PDF417Common(){}static getBitCountSum(l){return He.sum(l)}static toIntArray(l){if(l==null||!l.length)return yr.EMPTY_INT_ARRAY;const h=new Int32Array(l.length);let p=0;for(const y of l)h[p++]=y;return h}static getCodeword(l){const h=I.binarySearch(yr.SYMBOL_TABLE,l&262143);return h<0?-1:(yr.CODEWORD_TABLE[h]-1)%yr.NUMBER_OF_CODEWORDS}}yr.NUMBER_OF_CODEWORDS=929,yr.MAX_CODEWORDS_IN_BARCODE=yr.NUMBER_OF_CODEWORDS-1,yr.MIN_ROWS_IN_BARCODE=3,yr.MAX_ROWS_IN_BARCODE=90,yr.MODULES_IN_CODEWORD=17,yr.MODULES_IN_STOP_PATTERN=18,yr.BARS_IN_MODULE=8,yr.EMPTY_INT_ARRAY=new Int32Array([]),yr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),yr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ls{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Hr{static detectMultiple(l,h,p){let y=l.getBlackMatrix(),w=Hr.detect(p,y);return w.length||(y=y.clone(),y.rotate180(),w=Hr.detect(p,y)),new ls(y,w)}static detect(l,h){const p=new Array;let y=0,w=0,S=!1;for(;y<h.getHeight();){const T=Hr.findVertices(h,y,w);if(T[0]==null&&T[3]==null){if(!S)break;S=!1,w=0;for(const k of p)k[1]!=null&&(y=Math.trunc(Math.max(y,k[1].getY()))),k[3]!=null&&(y=Math.max(y,Math.trunc(k[3].getY())));y+=Hr.ROW_STEP;continue}if(S=!0,p.push(T),!l)break;T[2]!=null?(w=Math.trunc(T[2].getX()),y=Math.trunc(T[2].getY())):(w=Math.trunc(T[4].getX()),y=Math.trunc(T[4].getY()))}return p}static findVertices(l,h,p){const y=l.getHeight(),w=l.getWidth(),S=new Array(8);return Hr.copyToResult(S,Hr.findRowsWithPattern(l,y,w,h,p,Hr.START_PATTERN),Hr.INDEXES_START_PATTERN),S[4]!=null&&(p=Math.trunc(S[4].getX()),h=Math.trunc(S[4].getY())),Hr.copyToResult(S,Hr.findRowsWithPattern(l,y,w,h,p,Hr.STOP_PATTERN),Hr.INDEXES_STOP_PATTERN),S}static copyToResult(l,h,p){for(let y=0;y<p.length;y++)l[p[y]]=h[y]}static findRowsWithPattern(l,h,p,y,w,S){const T=new Array(4);let k=!1;const B=new Int32Array(S.length);for(;y<h;y+=Hr.ROW_STEP){let oe=Hr.findGuardPattern(l,w,y,p,!1,S,B);if(oe!=null){for(;y>0;){const xe=Hr.findGuardPattern(l,w,--y,p,!1,S,B);if(xe!=null)oe=xe;else{y++;break}}T[0]=new et(oe[0],y),T[1]=new et(oe[1],y),k=!0;break}}let Q=y+1;if(k){let oe=0,xe=Int32Array.from([Math.trunc(T[0].getX()),Math.trunc(T[1].getX())]);for(;Q<h;Q++){const De=Hr.findGuardPattern(l,xe[0],Q,p,!1,S,B);if(De!=null&&Math.abs(xe[0]-De[0])<Hr.MAX_PATTERN_DRIFT&&Math.abs(xe[1]-De[1])<Hr.MAX_PATTERN_DRIFT)xe=De,oe=0;else{if(oe>Hr.SKIPPED_ROW_COUNT_MAX)break;oe++}}Q-=oe+1,T[2]=new et(xe[0],Q),T[3]=new et(xe[1],Q)}return Q-y<Hr.BARCODE_MIN_HEIGHT&&I.fill(T,null),T}static findGuardPattern(l,h,p,y,w,S,T){I.fillWithin(T,0,T.length,0);let k=h,B=0;for(;l.get(k,p)&&k>0&&B++<Hr.MAX_PIXEL_DRIFT;)k--;let Q=k,oe=0,xe=S.length;for(let De=w;Q<y;Q++)if(l.get(Q,p)!==De)T[oe]++;else{if(oe===xe-1){if(Hr.patternMatchVariance(T,S,Hr.MAX_INDIVIDUAL_VARIANCE)<Hr.MAX_AVG_VARIANCE)return new Int32Array([k,Q]);k+=T[0]+T[1],A.arraycopy(T,2,T,0,oe-1),T[oe-1]=0,T[oe]=0,oe--}else oe++;T[oe]=1,De=!De}return oe===xe-1&&Hr.patternMatchVariance(T,S,Hr.MAX_INDIVIDUAL_VARIANCE)<Hr.MAX_AVG_VARIANCE?new Int32Array([k,Q-1]):null}static patternMatchVariance(l,h,p){let y=l.length,w=0,S=0;for(let B=0;B<y;B++)w+=l[B],S+=h[B];if(w<S)return 1/0;let T=w/S;p*=T;let k=0;for(let B=0;B<y;B++){let Q=l[B],oe=h[B]*T,xe=Q>oe?Q-oe:oe-Q;if(xe>p)return 1/0;k+=xe}return k/w}}Hr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Hr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Hr.MAX_AVG_VARIANCE=.42,Hr.MAX_INDIVIDUAL_VARIANCE=.8,Hr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Hr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Hr.MAX_PIXEL_DRIFT=3,Hr.MAX_PATTERN_DRIFT=5,Hr.SKIPPED_ROW_COUNT_MAX=25,Hr.ROW_STEP=5,Hr.BARCODE_MIN_HEIGHT=10;class Kn{constructor(l,h){if(h.length===0)throw new v;this.field=l;let p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-y),A.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let w of this.coefficients)y=this.field.add(y,w);return y}let h=this.coefficients[0],p=this.coefficients.length;for(let y=1;y<p;y++)h=this.field.add(this.field.multiply(l,h),this.coefficients[y]);return h}add(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,p=l.coefficients;if(h.length>p.length){let S=h;h=p,p=S}let y=new Int32Array(p.length),w=p.length-h.length;A.arraycopy(p,0,y,0,w);for(let S=w;S<p.length;S++)y[S]=this.field.add(h[S-w],p[S]);return new Kn(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Kn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Kn(this.field,new Int32Array([0]));let h=this.coefficients,p=h.length,y=l.coefficients,w=y.length,S=new Int32Array(p+w-1);for(let T=0;T<p;T++){let k=h[T];for(let B=0;B<w;B++)S[T+B]=this.field.add(S[T+B],this.field.multiply(k,y[B]))}return new Kn(this.field,S)}negative(){let l=this.coefficients.length,h=new Int32Array(l);for(let p=0;p<l;p++)h[p]=this.field.subtract(0,this.coefficients[p]);return new Kn(this.field,h)}multiplyScalar(l){if(l===0)return new Kn(this.field,new Int32Array([0]));if(l===1)return this;let h=this.coefficients.length,p=new Int32Array(h);for(let y=0;y<h;y++)p[y]=this.field.multiply(this.coefficients[y],l);return new Kn(this.field,p)}multiplyByMonomial(l,h){if(l<0)throw new v;if(h===0)return new Kn(this.field,new Int32Array([0]));let p=this.coefficients.length,y=new Int32Array(p+l);for(let w=0;w<p;w++)y[w]=this.field.multiply(this.coefficients[w],h);return new Kn(this.field,y)}toString(){let l=new ne;for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);p!==0&&(p<0?(l.append(" - "),p=-p):l.length()>0&&l.append(" + "),(h===0||p!==1)&&l.append(p),h!==0&&(h===1?l.append("x"):(l.append("x^"),l.append(h))))}return l.toString()}}class cs{add(l,h){return(l+h)%this.modulus}subtract(l,h){return(this.modulus+l-h)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}inverse(l){if(l===0)throw new st;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Qo extends cs{constructor(l,h){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let p=1;for(let y=0;y<l;y++)this.expTable[y]=p,p=p*h%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new Kn(this,new Int32Array([0])),this.one=new Kn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new v;if(h===0)return this.zero;let p=new Int32Array(l+1);return p[0]=h,new Kn(this,p)}}Qo.PDF417_GF=new Qo(yr.NUMBER_OF_CODEWORDS,3);class el{constructor(){this.field=Qo.PDF417_GF}decode(l,h,p){let y=new Kn(this.field,l),w=new Int32Array(h),S=!1;for(let We=h;We>0;We--){let $e=y.evaluateAt(this.field.exp(We));w[h-We]=$e,$e!==0&&(S=!0)}if(!S)return 0;let T=this.field.getOne();if(p!=null)for(const We of p){let $e=this.field.exp(l.length-1-We),tt=new Kn(this.field,new Int32Array([this.field.subtract(0,$e),1]));T=T.multiply(tt)}let k=new Kn(this.field,w),B=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),k,h),Q=B[0],oe=B[1],xe=this.findErrorLocations(Q),De=this.findErrorMagnitudes(oe,Q,xe);for(let We=0;We<xe.length;We++){let $e=l.length-1-this.field.log(xe[We]);if($e<0)throw _.getChecksumInstance();l[$e]=this.field.subtract(l[$e],De[We])}return xe.length}runEuclideanAlgorithm(l,h,p){if(l.getDegree()<h.getDegree()){let xe=l;l=h,h=xe}let y=l,w=h,S=this.field.getZero(),T=this.field.getOne();for(;w.getDegree()>=Math.round(p/2);){let xe=y,De=S;if(y=w,S=T,y.isZero())throw _.getChecksumInstance();w=xe;let We=this.field.getZero(),$e=y.getCoefficient(y.getDegree()),tt=this.field.inverse($e);for(;w.getDegree()>=y.getDegree()&&!w.isZero();){let xt=w.getDegree()-y.getDegree(),Pt=this.field.multiply(w.getCoefficient(w.getDegree()),tt);We=We.add(this.field.buildMonomial(xt,Pt)),w=w.subtract(y.multiplyByMonomial(xt,Pt))}T=We.multiply(S).subtract(De).negative()}let k=T.getCoefficient(0);if(k===0)throw _.getChecksumInstance();let B=this.field.inverse(k),Q=T.multiply(B),oe=w.multiply(B);return[Q,oe]}findErrorLocations(l){let h=l.getDegree(),p=new Int32Array(h),y=0;for(let w=1;w<this.field.getSize()&&y<h;w++)l.evaluateAt(w)===0&&(p[y]=this.field.inverse(w),y++);if(y!==h)throw _.getChecksumInstance();return p}findErrorMagnitudes(l,h,p){let y=h.getDegree(),w=new Int32Array(y);for(let B=1;B<=y;B++)w[y-B]=this.field.multiply(B,h.getCoefficient(B));let S=new Kn(this.field,w),T=p.length,k=new Int32Array(T);for(let B=0;B<T;B++){let Q=this.field.inverse(p[B]),oe=this.field.subtract(0,l.evaluateAt(Q)),xe=this.field.inverse(S.evaluateAt(Q));k[B]=this.field.multiply(oe,xe)}return k}}class Bs{constructor(l,h,p,y,w){l instanceof Bs?this.constructor_2(l):this.constructor_1(l,h,p,y,w)}constructor_1(l,h,p,y,w){const S=h==null||p==null,T=y==null||w==null;if(S&&T)throw new me;S?(h=new et(0,y.getY()),p=new et(0,w.getY())):T&&(y=new et(l.getWidth()-1,h.getY()),w=new et(l.getWidth()-1,p.getY())),this.image=l,this.topLeft=h,this.bottomLeft=p,this.topRight=y,this.bottomRight=w,this.minX=Math.trunc(Math.min(h.getX(),p.getX())),this.maxX=Math.trunc(Math.max(y.getX(),w.getX())),this.minY=Math.trunc(Math.min(h.getY(),y.getY())),this.maxY=Math.trunc(Math.max(p.getY(),w.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,h){return l==null?h:h==null?l:new Bs(l.image,l.topLeft,l.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(l,h,p){let y=this.topLeft,w=this.bottomLeft,S=this.topRight,T=this.bottomRight;if(l>0){let k=p?this.topLeft:this.topRight,B=Math.trunc(k.getY()-l);B<0&&(B=0);let Q=new et(k.getX(),B);p?y=Q:S=Q}if(h>0){let k=p?this.bottomLeft:this.bottomRight,B=Math.trunc(k.getY()+h);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let Q=new et(k.getX(),B);p?w=Q:T=Q}return new Bs(this.image,y,w,S,T)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ko{constructor(l,h,p,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=h,this.rowCountLowerPart=p,this.rowCount=h+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ja{constructor(){this.buffer=""}static form(l,h){let p=-1;function y(S,T,k,B,Q,oe){if(S==="%%")return"%";if(h[++p]===void 0)return;S=B?parseInt(B.substr(1)):void 0;let xe=Q?parseInt(Q.substr(1)):void 0,De;switch(oe){case"s":De=h[p];break;case"c":De=h[p][0];break;case"f":De=parseFloat(h[p]).toFixed(S);break;case"p":De=parseFloat(h[p]).toPrecision(S);break;case"e":De=parseFloat(h[p]).toExponential(S);break;case"x":De=parseInt(h[p]).toString(xe||16);break;case"d":De=parseFloat(parseInt(h[p],xe||10).toPrecision(S)).toFixed(0);break}De=typeof De=="object"?JSON.stringify(De):(+De).toString(xe);let We=parseInt(k),$e=k&&k[0]+""=="0"?"0":" ";for(;De.length<We;)De=T!==void 0?De+$e:$e+De;return De}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,y)}format(l,...h){this.buffer+=ja.form(l,h)}toString(){return this.buffer}}class Ga{constructor(l){this.boundingBox=new Bs(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let h=this.getCodeword(l);if(h!=null)return h;for(let p=1;p<Ga.MAX_NEARBY_DISTANCE;p++){let y=this.imageRowToCodewordIndex(l)-p;if(y>=0&&(h=this.codewords[y],h!=null)||(y=this.imageRowToCodewordIndex(l)+p,y<this.codewords.length&&(h=this.codewords[y],h!=null)))return h}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,h){this.codewords[this.imageRowToCodewordIndex(l)]=h}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new ja;let h=0;for(const p of this.codewords){if(p==null){l.format("%3d:    |   %n",h++);continue}l.format("%3d: %3d|%3d%n",h++,p.getRowNumber(),p.getValue())}return l.toString()}}Ga.MAX_NEARBY_DISTANCE=5;class Pi{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let h=this.values.get(l);h==null&&(h=0),h++,this.values.set(l,h)}getValue(){let l=-1,h=new Array;for(const[p,y]of this.values.entries()){const w={getKey:()=>p,getValue:()=>y};w.getValue()>l?(l=w.getValue(),h=[],h.push(w.getKey())):w.getValue()===l&&h.push(w.getKey())}return yr.toIntArray(h)}getConfidence(l){return this.values.get(l)}}class Oa extends Ga{constructor(l,h){super(l),this._isLeft=h}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,l);let p=this.getBoundingBox(),y=this._isLeft?p.getTopLeft():p.getTopRight(),w=this._isLeft?p.getBottomLeft():p.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.imageRowToCodewordIndex(Math.trunc(w.getY())),k=-1,B=1,Q=0;for(let oe=S;oe<T;oe++){if(h[oe]==null)continue;let xe=h[oe],De=xe.getRowNumber()-k;if(De===0)Q++;else if(De===1)B=Math.max(B,Q),Q=1,k=xe.getRowNumber();else if(De<0||xe.getRowNumber()>=l.getRowCount()||De>oe)h[oe]=null;else{let We;B>2?We=(B-2)*De:We=De;let $e=We>=oe;for(let tt=1;tt<=We&&!$e;tt++)$e=h[oe-tt]!=null;$e?h[oe]=null:(k=xe.getRowNumber(),Q=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let h=new Int32Array(l.getRowCount());for(let p of this.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=h.length)continue;h[y]++}return h}adjustIncompleteIndicatorColumnRowNumbers(l){let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.getCodewords(),k=-1;for(let B=w;B<S;B++){if(T[B]==null)continue;let Q=T[B];Q.setRowNumberAsRowIndicatorColumn();let oe=Q.getRowNumber()-k;oe===0||(oe===1?k=Q.getRowNumber():Q.getRowNumber()>=l.getRowCount()?T[B]=null:k=Q.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),h=new Pi,p=new Pi,y=new Pi,w=new Pi;for(let T of l){if(T==null)continue;T.setRowNumberAsRowIndicatorColumn();let k=T.getValue()%30,B=T.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:p.setValue(k*3+1);break;case 1:w.setValue(k/3),y.setValue(k%3);break;case 2:h.setValue(k+1);break}}if(h.getValue().length===0||p.getValue().length===0||y.getValue().length===0||w.getValue().length===0||h.getValue()[0]<1||p.getValue()[0]+y.getValue()[0]<yr.MIN_ROWS_IN_BARCODE||p.getValue()[0]+y.getValue()[0]>yr.MAX_ROWS_IN_BARCODE)return null;let S=new ko(h.getValue()[0],p.getValue()[0],y.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(l,S),S}removeIncorrectCodewords(l,h){for(let p=0;p<l.length;p++){let y=l[p];if(l[p]==null)continue;let w=y.getValue()%30,S=y.getRowNumber();if(S>h.getRowCount()){l[p]=null;continue}switch(this._isLeft||(S+=2),S%3){case 0:w*3+1!==h.getRowCountUpperPart()&&(l[p]=null);break;case 1:(Math.trunc(w/3)!==h.getErrorCorrectionLevel()||w%3!==h.getRowCountLowerPart())&&(l[p]=null);break;case 2:w+1!==h.getColumnCount()&&(l[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class us{constructor(l,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=yr.MAX_CODEWORDS_IN_BARCODE,h;do h=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let p=this.detectionResultColumns[h].getCodewords();for(let y=0;y<p.length;y++)p[y]!=null&&(p[y].hasValidRowNumber()||this.adjustRowNumbers(h,y,p))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<l.length;p++)if(l[p]!=null&&h[p]!=null&&l[p].getRowNumber()===h[p].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let w=this.detectionResultColumns[y].getCodewords()[p];w!=null&&(w.setRowNumber(l[p].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),w=0;for(let S=this.barcodeColumnCount+1;S>0&&w<this.ADJUST_ROW_NUMBER_SKIP;S--){let T=this.detectionResultColumns[S].getCodewords()[p];T!=null&&(w=us.adjustRowNumberIfValid(y,w,T),T.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,h=this.detectionResultColumns[0].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),w=0;for(let S=1;S<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;S++){let T=this.detectionResultColumns[S].getCodewords()[p];T!=null&&(w=us.adjustRowNumberIfValid(y,w,T),T.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,h,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(l)?(p.setRowNumber(l),h=0):++h),h}adjustRowNumbers(l,h,p){if(!this.detectionResultColumns[l-1])return;let y=p[h],w=this.detectionResultColumns[l-1].getCodewords(),S=w;this.detectionResultColumns[l+1]!=null&&(S=this.detectionResultColumns[l+1].getCodewords());let T=new Array(14);T[2]=w[h],T[3]=S[h],h>0&&(T[0]=p[h-1],T[4]=w[h-1],T[5]=S[h-1]),h>1&&(T[8]=p[h-2],T[10]=w[h-2],T[11]=S[h-2]),h<p.length-1&&(T[1]=p[h+1],T[6]=w[h+1],T[7]=S[h+1]),h<p.length-2&&(T[9]=p[h+2],T[12]=w[h+2],T[13]=S[h+2]);for(let k of T)if(us.adjustRowNumber(y,k))return}static adjustRowNumber(l,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===l.getBucket()?(l.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,h){this.detectionResultColumns[l]=h}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new ja;for(let p=0;p<l.getCodewords().length;p++){h.format("CW %3d:",p);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){h.format("    |   ");continue}let w=this.detectionResultColumns[y].getCodewords()[p];if(w==null){h.format("    |   ");continue}h.format(" %3d|%3d",w.getRowNumber(),w.getValue())}h.format("%n")}return h.toString()}}class Ra{constructor(l,h,p,y){this.rowNumber=Ra.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(h),this.bucket=Math.trunc(p),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Ra.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Ra.BARCODE_ROW_UNKNOWN=-1;class aa{static initialize(){for(let l=0;l<yr.SYMBOL_TABLE.length;l++){let h=yr.SYMBOL_TABLE[l],p=h&1;for(let y=0;y<yr.BARS_IN_MODULE;y++){let w=0;for(;(h&1)===p;)w+=1,h>>=1;p=h&1,aa.RATIOS_TABLE[l]||(aa.RATIOS_TABLE[l]=new Array(yr.BARS_IN_MODULE)),aa.RATIOS_TABLE[l][yr.BARS_IN_MODULE-y-1]=Math.fround(w/yr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let h=aa.getDecodedCodewordValue(aa.sampleBitCounts(l));return h!==-1?h:aa.getClosestDecodedValue(l)}static sampleBitCounts(l){let h=He.sum(l),p=new Int32Array(yr.BARS_IN_MODULE),y=0,w=0;for(let S=0;S<yr.MODULES_IN_CODEWORD;S++){let T=h/(2*yr.MODULES_IN_CODEWORD)+S*h/yr.MODULES_IN_CODEWORD;w+l[y]<=T&&(w+=l[y],y++),p[y]++}return p}static getDecodedCodewordValue(l){let h=aa.getBitValue(l);return yr.getCodeword(h)===-1?-1:h}static getBitValue(l){let h=0;for(let p=0;p<l.length;p++)for(let y=0;y<l[p];y++)h=h<<1|(p%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(l){let h=He.sum(l),p=new Array(yr.BARS_IN_MODULE);if(h>1)for(let S=0;S<p.length;S++)p[S]=Math.fround(l[S]/h);let y=Ke.MAX_VALUE,w=-1;this.bSymbolTableReady||aa.initialize();for(let S=0;S<aa.RATIOS_TABLE.length;S++){let T=0,k=aa.RATIOS_TABLE[S];for(let B=0;B<yr.BARS_IN_MODULE;B++){let Q=Math.fround(k[B]-p[B]);if(T+=Math.fround(Q*Q),T>=y)break}T<y&&(y=T,w=yr.SYMBOL_TABLE[S])}return w}}aa.bSymbolTableReady=!1,aa.RATIOS_TABLE=new Array(yr.SYMBOL_TABLE.length).map(ce=>new Array(yr.BARS_IN_MODULE));class tl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class rl{static parseLong(l,h=void 0){return parseInt(l,h)}}class oo extends u{}oo.kind="NullPointerException";class $a{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,h,p){if(l==null)throw new oo;if(h<0||h>l.length||p<0||h+p>l.length||h+p<0)throw new j;if(p===0)return;for(let y=0;y<p;y++)this.write(l[h+y])}flush(){}close(){}}class Ms extends u{}class Iu extends $a{constructor(l=32){if(super(),this.count=0,l<0)throw new v("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let p=this.buf.length<<1;if(p-l<0&&(p=l),p<0){if(l<0)throw new Ms;p=P.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,p)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,h,p){if(h<0||h>l.length||p<0||h+p-l.length>0)throw new j;this.ensureCapacity(this.count+p),A.arraycopy(l,h,this.buf,this.count,p),this.count+=p}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var mn;(function(ce){ce[ce.ALPHA=0]="ALPHA",ce[ce.LOWER=1]="LOWER",ce[ce.MIXED=2]="MIXED",ce[ce.PUNCT=3]="PUNCT",ce[ce.ALPHA_SHIFT=4]="ALPHA_SHIFT",ce[ce.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(mn||(mn={}));function ds(){if(typeof window!="undefined")return window.BigInt||null;if(typeof V1!="undefined")return V1.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Us;function ka(ce){if(typeof Us=="undefined"&&(Us=ds()),Us===null)throw new Error("BigInt is not supported!");return Us(ce)}function Du(){let ce=[];ce[0]=ka(1);let l=ka(900);ce[1]=l;for(let h=2;h<16;h++)ce[h]=ce[h-1]*l;return ce}class vt{static decode(l,h){let p=new ne(""),y=z.ISO8859_1;p.enableDecoding(y);let w=1,S=l[w++],T=new tl;for(;w<l[0];){switch(S){case vt.TEXT_COMPACTION_MODE_LATCH:w=vt.textCompaction(l,w,p);break;case vt.BYTE_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH_6:w=vt.byteCompaction(S,l,y,w,p);break;case vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[w++]);break;case vt.NUMERIC_COMPACTION_MODE_LATCH:w=vt.numericCompaction(l,w,p);break;case vt.ECI_CHARSET:z.getCharacterSetECIByValue(l[w++]);break;case vt.ECI_GENERAL_PURPOSE:w+=2;break;case vt.ECI_USER_DEFINED:w++;break;case vt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=vt.decodeMacroBlock(l,w,T);break;case vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case vt.MACRO_PDF417_TERMINATOR:throw new G;default:w--,w=vt.textCompaction(l,w,p);break}if(w<l.length)S=l[w++];else throw G.getFormatInstance()}if(p.length()===0)throw G.getFormatInstance();let k=new Me(null,p.toString(),null,h);return k.setOther(T),k}static decodeMacroBlock(l,h,p){if(h+vt.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw G.getFormatInstance();let y=new Int32Array(vt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let T=0;T<vt.NUMBER_OF_SEQUENCE_CODEWORDS;T++,h++)y[T]=l[h];p.setSegmentIndex(P.parseInt(vt.decodeBase900toBase10(y,vt.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new ne;h=vt.textCompaction(l,h,w),p.setFileId(w.toString());let S=-1;for(l[h]===vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(S=h+1);h<l[0];)switch(l[h]){case vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,l[h]){case vt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let T=new ne;h=vt.textCompaction(l,h+1,T),p.setFileName(T.toString());break;case vt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new ne;h=vt.textCompaction(l,h+1,k),p.setSender(k.toString());break;case vt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new ne;h=vt.textCompaction(l,h+1,B),p.setAddressee(B.toString());break;case vt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let Q=new ne;h=vt.numericCompaction(l,h+1,Q),p.setSegmentCount(P.parseInt(Q.toString()));break;case vt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let oe=new ne;h=vt.numericCompaction(l,h+1,oe),p.setTimestamp(rl.parseLong(oe.toString()));break;case vt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let xe=new ne;h=vt.numericCompaction(l,h+1,xe),p.setChecksum(P.parseInt(xe.toString()));break;case vt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let De=new ne;h=vt.numericCompaction(l,h+1,De),p.setFileSize(rl.parseLong(De.toString()));break;default:throw G.getFormatInstance()}break;case vt.MACRO_PDF417_TERMINATOR:h++,p.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(S!==-1){let T=h-S;p.isLastSegment()&&T--,p.setOptionalData(I.copyOfRange(l,S,S+T))}return h}static textCompaction(l,h,p){let y=new Int32Array((l[0]-h)*2),w=new Int32Array((l[0]-h)*2),S=0,T=!1;for(;h<l[0]&&!T;){let k=l[h++];if(k<vt.TEXT_COMPACTION_MODE_LATCH)y[S]=k/30,y[S+1]=k%30,S+=2;else switch(k){case vt.TEXT_COMPACTION_MODE_LATCH:y[S++]=vt.TEXT_COMPACTION_MODE_LATCH;break;case vt.BYTE_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH_6:case vt.NUMERIC_COMPACTION_MODE_LATCH:case vt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case vt.MACRO_PDF417_TERMINATOR:h--,T=!0;break;case vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[S]=vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=l[h++],w[S]=k,S++;break}}return vt.decodeTextCompaction(y,w,S,p),h}static decodeTextCompaction(l,h,p,y){let w=mn.ALPHA,S=mn.ALPHA,T=0;for(;T<p;){let k=l[T],B="";switch(w){case mn.ALPHA:if(k<26)B=String.fromCharCode(65+k);else switch(k){case 26:B=" ";break;case vt.LL:w=mn.LOWER;break;case vt.ML:w=mn.MIXED;break;case vt.PS:S=w,w=mn.PUNCT_SHIFT;break;case vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case vt.TEXT_COMPACTION_MODE_LATCH:w=mn.ALPHA;break}break;case mn.LOWER:if(k<26)B=String.fromCharCode(97+k);else switch(k){case 26:B=" ";break;case vt.AS:S=w,w=mn.ALPHA_SHIFT;break;case vt.ML:w=mn.MIXED;break;case vt.PS:S=w,w=mn.PUNCT_SHIFT;break;case vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case vt.TEXT_COMPACTION_MODE_LATCH:w=mn.ALPHA;break}break;case mn.MIXED:if(k<vt.PL)B=vt.MIXED_CHARS[k];else switch(k){case vt.PL:w=mn.PUNCT;break;case 26:B=" ";break;case vt.LL:w=mn.LOWER;break;case vt.AL:w=mn.ALPHA;break;case vt.PS:S=w,w=mn.PUNCT_SHIFT;break;case vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case vt.TEXT_COMPACTION_MODE_LATCH:w=mn.ALPHA;break}break;case mn.PUNCT:if(k<vt.PAL)B=vt.PUNCT_CHARS[k];else switch(k){case vt.PAL:w=mn.ALPHA;break;case vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case vt.TEXT_COMPACTION_MODE_LATCH:w=mn.ALPHA;break}break;case mn.ALPHA_SHIFT:if(w=S,k<26)B=String.fromCharCode(65+k);else switch(k){case 26:B=" ";break;case vt.TEXT_COMPACTION_MODE_LATCH:w=mn.ALPHA;break}break;case mn.PUNCT_SHIFT:if(w=S,k<vt.PAL)B=vt.PUNCT_CHARS[k];else switch(k){case vt.PAL:w=mn.ALPHA;break;case vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[T]);break;case vt.TEXT_COMPACTION_MODE_LATCH:w=mn.ALPHA;break}break}B!==""&&y.append(B),T++}}static byteCompaction(l,h,p,y,w){let S=new Iu,T=0,k=0,B=!1;switch(l){case vt.BYTE_COMPACTION_MODE_LATCH:let Q=new Int32Array(6),oe=h[y++];for(;y<h[0]&&!B;)switch(Q[T++]=oe,k=900*k+oe,oe=h[y++],oe){case vt.TEXT_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH:case vt.NUMERIC_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH_6:case vt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case vt.MACRO_PDF417_TERMINATOR:y--,B=!0;break;default:if(T%5===0&&T>0){for(let xe=0;xe<6;++xe)S.write(Number(ka(k)>>ka(8*(5-xe))));k=0,T=0}break}y===h[0]&&oe<vt.TEXT_COMPACTION_MODE_LATCH&&(Q[T++]=oe);for(let xe=0;xe<T;xe++)S.write(Q[xe]);break;case vt.BYTE_COMPACTION_MODE_LATCH_6:for(;y<h[0]&&!B;){let xe=h[y++];if(xe<vt.TEXT_COMPACTION_MODE_LATCH)T++,k=900*k+xe;else switch(xe){case vt.TEXT_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH:case vt.NUMERIC_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH_6:case vt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case vt.MACRO_PDF417_TERMINATOR:y--,B=!0;break}if(T%5===0&&T>0){for(let De=0;De<6;++De)S.write(Number(ka(k)>>ka(8*(5-De))));k=0,T=0}}break}return w.append(W.decode(S.toByteArray(),p)),y}static numericCompaction(l,h,p){let y=0,w=!1,S=new Int32Array(vt.MAX_NUMERIC_CODEWORDS);for(;h<l[0]&&!w;){let T=l[h++];if(h===l[0]&&(w=!0),T<vt.TEXT_COMPACTION_MODE_LATCH)S[y]=T,y++;else switch(T){case vt.TEXT_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH:case vt.BYTE_COMPACTION_MODE_LATCH_6:case vt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case vt.MACRO_PDF417_TERMINATOR:h--,w=!0;break}(y%vt.MAX_NUMERIC_CODEWORDS===0||T===vt.NUMERIC_COMPACTION_MODE_LATCH||w)&&y>0&&(p.append(vt.decodeBase900toBase10(S,y)),y=0)}return h}static decodeBase900toBase10(l,h){let p=ka(0);for(let w=0;w<h;w++)p+=vt.EXP900[h-w-1]*ka(l[w]);let y=p.toString();if(y.charAt(0)!=="1")throw new G;return y.substring(1)}}vt.TEXT_COMPACTION_MODE_LATCH=900,vt.BYTE_COMPACTION_MODE_LATCH=901,vt.NUMERIC_COMPACTION_MODE_LATCH=902,vt.BYTE_COMPACTION_MODE_LATCH_6=924,vt.ECI_USER_DEFINED=925,vt.ECI_GENERAL_PURPOSE=926,vt.ECI_CHARSET=927,vt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,vt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,vt.MACRO_PDF417_TERMINATOR=922,vt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,vt.MAX_NUMERIC_CODEWORDS=15,vt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,vt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,vt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,vt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,vt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,vt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,vt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,vt.PL=25,vt.LL=27,vt.AS=27,vt.ML=28,vt.AL=28,vt.PS=29,vt.PAL=29,vt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,vt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",vt.EXP900=ds()?Du():[],vt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Zr{constructor(){}static decode(l,h,p,y,w,S,T){let k=new Bs(l,h,p,y,w),B=null,Q=null,oe;for(let We=!0;;We=!1){if(h!=null&&(B=Zr.getRowIndicatorColumn(l,k,h,!0,S,T)),y!=null&&(Q=Zr.getRowIndicatorColumn(l,k,y,!1,S,T)),oe=Zr.merge(B,Q),oe==null)throw me.getNotFoundInstance();let $e=oe.getBoundingBox();if(We&&$e!=null&&($e.getMinY()<k.getMinY()||$e.getMaxY()>k.getMaxY()))k=$e;else break}oe.setBoundingBox(k);let xe=oe.getBarcodeColumnCount()+1;oe.setDetectionResultColumn(0,B),oe.setDetectionResultColumn(xe,Q);let De=B!=null;for(let We=1;We<=xe;We++){let $e=De?We:xe-We;if(oe.getDetectionResultColumn($e)!==void 0)continue;let tt;$e===0||$e===xe?tt=new Oa(k,$e===0):tt=new Ga(k),oe.setDetectionResultColumn($e,tt);let xt=-1,Pt=xt;for(let qt=k.getMinY();qt<=k.getMaxY();qt++){if(xt=Zr.getStartColumn(oe,$e,qt,De),xt<0||xt>k.getMaxX()){if(Pt===-1)continue;xt=Pt}let Ht=Zr.detectCodeword(l,k.getMinX(),k.getMaxX(),De,xt,qt,S,T);Ht!=null&&(tt.setCodeword(qt,Ht),Pt=xt,S=Math.min(S,Ht.getWidth()),T=Math.max(T,Ht.getWidth()))}}return Zr.createDecoderResult(oe)}static merge(l,h){if(l==null&&h==null)return null;let p=Zr.getBarcodeMetadata(l,h);if(p==null)return null;let y=Bs.merge(Zr.adjustBoundingBox(l),Zr.adjustBoundingBox(h));return new us(p,y)}static adjustBoundingBox(l){if(l==null)return null;let h=l.getRowHeights();if(h==null)return null;let p=Zr.getMax(h),y=0;for(let T of h)if(y+=p-T,T>0)break;let w=l.getCodewords();for(let T=0;y>0&&w[T]==null;T++)y--;let S=0;for(let T=h.length-1;T>=0&&(S+=p-h[T],!(h[T]>0));T--);for(let T=w.length-1;S>0&&w[T]==null;T--)S--;return l.getBoundingBox().addMissingRows(y,S,l.isLeft())}static getMax(l){let h=-1;for(let p of l)h=Math.max(h,p);return h}static getBarcodeMetadata(l,h){let p;if(l==null||(p=l.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let y;return h==null||(y=h.getBarcodeMetadata())==null?p:p.getColumnCount()!==y.getColumnCount()&&p.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&p.getRowCount()!==y.getRowCount()?null:p}static getRowIndicatorColumn(l,h,p,y,w,S){let T=new Oa(h,y);for(let k=0;k<2;k++){let B=k===0?1:-1,Q=Math.trunc(Math.trunc(p.getX()));for(let oe=Math.trunc(Math.trunc(p.getY()));oe<=h.getMaxY()&&oe>=h.getMinY();oe+=B){let xe=Zr.detectCodeword(l,0,l.getWidth(),y,Q,oe,w,S);xe!=null&&(T.setCodeword(oe,xe),y?Q=xe.getStartX():Q=xe.getEndX())}}return T}static adjustCodewordCount(l,h){let p=h[0][1],y=p.getValue(),w=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Zr.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(w<1||w>yr.MAX_CODEWORDS_IN_BARCODE)throw me.getNotFoundInstance();p.setValue(w)}else y[0]!==w&&p.setValue(w)}static createDecoderResult(l){let h=Zr.createBarcodeMatrix(l);Zr.adjustCodewordCount(l,h);let p=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),w=[],S=new Array;for(let k=0;k<l.getBarcodeRowCount();k++)for(let B=0;B<l.getBarcodeColumnCount();B++){let Q=h[k][B+1].getValue(),oe=k*l.getBarcodeColumnCount()+B;Q.length===0?p.push(oe):Q.length===1?y[oe]=Q[0]:(S.push(oe),w.push(Q))}let T=new Array(w.length);for(let k=0;k<T.length;k++)T[k]=w[k];return Zr.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,yr.toIntArray(p),yr.toIntArray(S),T)}static createDecoderResultFromAmbiguousValues(l,h,p,y,w){let S=new Int32Array(y.length),T=100;for(;T-- >0;){for(let k=0;k<S.length;k++)h[y[k]]=w[k][S[k]];try{return Zr.decodeCodewords(h,l,p)}catch(k){if(!(k instanceof _))throw k}if(S.length===0)throw _.getChecksumInstance();for(let k=0;k<S.length;k++)if(S[k]<w[k].length-1){S[k]++;break}else if(S[k]=0,k===S.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(l){let h=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<h.length;y++)for(let w=0;w<h[y].length;w++)h[y][w]=new Pi;let p=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let w of y.getCodewords())if(w!=null){let S=w.getRowNumber();if(S>=0){if(S>=h.length)continue;h[S][p].setValue(w.getValue())}}}p++}return h}static isValidBarcodeColumn(l,h){return h>=0&&h<=l.getBarcodeColumnCount()+1}static getStartColumn(l,h,p,y){let w=y?1:-1,S=null;if(Zr.isValidBarcodeColumn(l,h-w)&&(S=l.getDetectionResultColumn(h-w).getCodeword(p)),S!=null)return y?S.getEndX():S.getStartX();if(S=l.getDetectionResultColumn(h).getCodewordNearby(p),S!=null)return y?S.getStartX():S.getEndX();if(Zr.isValidBarcodeColumn(l,h-w)&&(S=l.getDetectionResultColumn(h-w).getCodewordNearby(p)),S!=null)return y?S.getEndX():S.getStartX();let T=0;for(;Zr.isValidBarcodeColumn(l,h-w);){h-=w;for(let k of l.getDetectionResultColumn(h).getCodewords())if(k!=null)return(y?k.getEndX():k.getStartX())+w*T*(k.getEndX()-k.getStartX());T++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,h,p,y,w,S,T,k){w=Zr.adjustCodewordStartColumn(l,h,p,y,w,S);let B=Zr.getModuleBitCount(l,h,p,y,w,S);if(B==null)return null;let Q,oe=He.sum(B);if(y)Q=w+oe;else{for(let We=0;We<B.length/2;We++){let $e=B[We];B[We]=B[B.length-1-We],B[B.length-1-We]=$e}Q=w,w=Q-oe}if(!Zr.checkCodewordSkew(oe,T,k))return null;let xe=aa.getDecodedValue(B),De=yr.getCodeword(xe);return De===-1?null:new Ra(w,Q,Zr.getCodewordBucketNumber(xe),De)}static getModuleBitCount(l,h,p,y,w,S){let T=w,k=new Int32Array(8),B=0,Q=y?1:-1,oe=y;for(;(y?T<p:T>=h)&&B<k.length;)l.get(T,S)===oe?(k[B]++,T+=Q):(B++,oe=!oe);return B===k.length||T===(y?p:h)&&B===k.length-1?k:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,h,p,y,w,S){let T=w,k=y?-1:1;for(let B=0;B<2;B++){for(;(y?T>=h:T<p)&&y===l.get(T,S);){if(Math.abs(w-T)>Zr.CODEWORD_SKEW_SIZE)return w;T+=k}k=-k,y=!y}return T}static checkCodewordSkew(l,h,p){return h-Zr.CODEWORD_SKEW_SIZE<=l&&l<=p+Zr.CODEWORD_SKEW_SIZE}static decodeCodewords(l,h,p){if(l.length===0)throw G.getFormatInstance();let y=1<<h+1,w=Zr.correctErrors(l,p,y);Zr.verifyCodewordCount(l,y);let S=vt.decode(l,""+h);return S.setErrorsCorrected(w),S.setErasures(p.length),S}static correctErrors(l,h,p){if(h!=null&&h.length>p/2+Zr.MAX_ERRORS||p<0||p>Zr.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Zr.errorCorrection.decode(l,p,h)}static verifyCodewordCount(l,h){if(l.length<4)throw G.getFormatInstance();let p=l[0];if(p>l.length)throw G.getFormatInstance();if(p===0)if(h<l.length)l[0]=l.length-h;else throw G.getFormatInstance()}static getBitCountForCodeword(l){let h=new Int32Array(8),p=0,y=h.length-1;for(;!((l&1)!==p&&(p=l&1,y--,y<0));)h[y]++,l>>=1;return h}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Zr.getCodewordBucketNumber(Zr.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let h=new ja;for(let p=0;p<l.length;p++){h.format("Row %2d: ",p);for(let y=0;y<l[p].length;y++){let w=l[p][y];w.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}h.format("%n")}return h.toString()}}Zr.CODEWORD_SKEW_SIZE=2,Zr.MAX_ERRORS=3,Zr.MAX_EC_CODEWORDS=512,Zr.errorCorrection=new el;class Si{decode(l,h=null){let p=Si.decode(l,h,!1);if(p==null||p.length===0||p[0]==null)throw me.getNotFoundInstance();return p[0]}decodeMultiple(l,h=null){try{return Si.decode(l,h,!0)}catch(p){throw p instanceof G||p instanceof _?me.getNotFoundInstance():p}}static decode(l,h,p){const y=new Array,w=Hr.detectMultiple(l,h,p);for(const S of w.getPoints()){const T=Zr.decode(w.getBits(),S[4],S[5],S[6],S[7],Si.getMinCodewordWidth(S),Si.getMaxCodewordWidth(S)),k=new J(T.getText(),T.getRawBytes(),void 0,S,le.PDF_417);k.putMetadata(Te.ERROR_CORRECTION_LEVEL,T.getECLevel());const B=T.getOther();B!=null&&k.putMetadata(Te.PDF417_EXTRA_METADATA,B),y.push(k)}return y.map(S=>S)}static getMaxWidth(l,h){return l==null||h==null?0:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMinWidth(l,h){return l==null||h==null?P.MAX_VALUE:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(Si.getMaxWidth(l[0],l[4]),Si.getMaxWidth(l[6],l[2])*yr.MODULES_IN_CODEWORD/yr.MODULES_IN_STOP_PATTERN),Math.max(Si.getMaxWidth(l[1],l[5]),Si.getMaxWidth(l[7],l[3])*yr.MODULES_IN_CODEWORD/yr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(Si.getMinWidth(l[0],l[4]),Si.getMinWidth(l[6],l[2])*yr.MODULES_IN_CODEWORD/yr.MODULES_IN_STOP_PATTERN),Math.min(Si.getMinWidth(l[1],l[5]),Si.getMinWidth(l[7],l[3])*yr.MODULES_IN_CODEWORD/yr.MODULES_IN_STOP_PATTERN)))}reset(){}}class lo extends u{}lo.kind="ReaderException";class oc{constructor(l,h){this.verbose=l===!0,h&&this.setHints(h)}decode(l,h){return h&&this.setHints(h),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const h=!n(l)&&l.get(K.TRY_HARDER)===!0,p=n(l)?null:l.get(K.POSSIBLE_FORMATS),y=new Array;if(!n(p)){const w=p.some(S=>S===le.UPC_A||S===le.UPC_E||S===le.EAN_13||S===le.EAN_8||S===le.CODABAR||S===le.CODE_39||S===le.CODE_93||S===le.CODE_128||S===le.ITF||S===le.RSS_14||S===le.RSS_EXPANDED);w&&!h&&y.push(new tn(l,this.verbose)),p.includes(le.QR_CODE)&&y.push(new Cs),p.includes(le.DATA_MATRIX)&&y.push(new _i),p.includes(le.AZTEC)&&y.push(new Kt),p.includes(le.PDF_417)&&y.push(new Si),w&&h&&y.push(new tn(l,this.verbose))}y.length===0&&(h||y.push(new tn(l,this.verbose)),y.push(new Cs),y.push(new _i),y.push(new Kt),y.push(new Si),h&&y.push(new tn(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new lo("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(l,this.hints)}catch(p){if(p instanceof lo)continue}throw new me("No MultiFormat Readers were able to detect the code.")}}class Il extends q{constructor(l=null,h=500){const p=new oc;p.setHints(l),super(p,h)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class lc extends q{constructor(l=500){super(new Si,l)}}class cc extends q{constructor(l=500){super(new Cs,l)}}var Lo;(function(ce){ce[ce.ERROR_CORRECTION=0]="ERROR_CORRECTION",ce[ce.CHARACTER_SET=1]="CHARACTER_SET",ce[ce.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ce[ce.MIN_SIZE=3]="MIN_SIZE",ce[ce.MAX_SIZE=4]="MAX_SIZE",ce[ce.MARGIN=5]="MARGIN",ce[ce.PDF417_COMPACT=6]="PDF417_COMPACT",ce[ce.PDF417_COMPACTION=7]="PDF417_COMPACTION",ce[ce.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ce[ce.AZTEC_LAYERS=9]="AZTEC_LAYERS",ce[ce.QR_VERSION=10]="QR_VERSION"})(Lo||(Lo={}));var Ni=Lo;class Io{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new ze(l,Int32Array.from([1])))}buildGenerator(l){const h=this.cachedGenerators;if(l>=h.length){let p=h[h.length-1];const y=this.field;for(let w=h.length;w<=l;w++){const S=p.multiply(new ze(y,Int32Array.from([1,y.exp(w-1+y.getGeneratorBase())])));h.push(S),p=S}}return h[l]}encode(l,h){if(h===0)throw new v("No error correction bytes");const p=l.length-h;if(p<=0)throw new v("No data bytes provided");const y=this.buildGenerator(h),w=new Int32Array(p);A.arraycopy(l,0,w,0,p);let S=new ze(this.field,w);S=S.multiplyByMonomial(h,1);const k=S.divide(y)[1].getCoefficients(),B=h-k.length;for(let Q=0;Q<B;Q++)l[p+Q]=0;A.arraycopy(k,0,l,p+B,k.length)}}class Un{constructor(){}static applyMaskPenaltyRule1(l){return Un.applyMaskPenaltyRule1Internal(l,!0)+Un.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let h=0;const p=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let S=0;S<w-1;S++){const T=p[S];for(let k=0;k<y-1;k++){const B=T[k];B===T[k+1]&&B===p[S+1][k]&&B===p[S+1][k+1]&&h++}}return Un.N2*h}static applyMaskPenaltyRule3(l){let h=0;const p=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let S=0;S<w;S++)for(let T=0;T<y;T++){const k=p[S];T+6<y&&k[T]===1&&k[T+1]===0&&k[T+2]===1&&k[T+3]===1&&k[T+4]===1&&k[T+5]===0&&k[T+6]===1&&(Un.isWhiteHorizontal(k,T-4,T)||Un.isWhiteHorizontal(k,T+7,T+11))&&h++,S+6<w&&p[S][T]===1&&p[S+1][T]===0&&p[S+2][T]===1&&p[S+3][T]===1&&p[S+4][T]===1&&p[S+5][T]===0&&p[S+6][T]===1&&(Un.isWhiteVertical(p,T,S-4,S)||Un.isWhiteVertical(p,T,S+7,S+11))&&h++}return h*Un.N3}static isWhiteHorizontal(l,h,p){h=Math.max(h,0),p=Math.min(p,l.length);for(let y=h;y<p;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,h,p,y){p=Math.max(p,0),y=Math.min(y,l.length);for(let w=p;w<y;w++)if(l[w][h]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let h=0;const p=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let k=0;k<w;k++){const B=p[k];for(let Q=0;Q<y;Q++)B[Q]===1&&h++}const S=l.getHeight()*l.getWidth();return Math.floor(Math.abs(h*2-S)*10/S)*Un.N4}static getDataMaskBit(l,h,p){let y,w;switch(l){case 0:y=p+h&1;break;case 1:y=p&1;break;case 2:y=h%3;break;case 3:y=(p+h)%3;break;case 4:y=Math.floor(p/2)+Math.floor(h/3)&1;break;case 5:w=p*h,y=(w&1)+w%3;break;case 6:w=p*h,y=(w&1)+w%3&1;break;case 7:w=p*h,y=w%3+(p+h&1)&1;break;default:throw new v("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,h){let p=0;const y=h?l.getHeight():l.getWidth(),w=h?l.getWidth():l.getHeight(),S=l.getArray();for(let T=0;T<y;T++){let k=0,B=-1;for(let Q=0;Q<w;Q++){const oe=h?S[T][Q]:S[Q][T];oe===B?k++:(k>=5&&(p+=Un.N1+(k-5)),k=1,B=oe)}k>=5&&(p+=Un.N1+(k-5))}return p}}Un.N1=3,Un.N2=3,Un.N3=40,Un.N4=10;class co{constructor(l,h){this.width=l,this.height=h;const p=new Array(h);for(let y=0;y!==h;y++)p[y]=new Uint8Array(l);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(l,h){return this.bytes[h][l]}getArray(){return this.bytes}setNumber(l,h,p){this.bytes[h][l]=p}setBoolean(l,h,p){this.bytes[h][l]=p?1:0}clear(l){for(const h of this.bytes)I.fill(h,l)}equals(l){if(!(l instanceof co))return!1;const h=l;if(this.width!==h.width||this.height!==h.height)return!1;for(let p=0,y=this.height;p<y;++p){const w=this.bytes[p],S=h.bytes[p];for(let T=0,k=this.width;T<k;++T)if(w[T]!==S[T])return!1}return!0}toString(){const l=new ne;for(let h=0,p=this.height;h<p;++h){const y=this.bytes[h];for(let w=0,S=this.width;w<S;++w)switch(y[w]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class La{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new ne;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<La.NUM_MASK_PATTERNS}}La.NUM_MASK_PATTERNS=8;class An extends u{}An.kind="WriterException";class D{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,h,p,y,w){D.clearMatrix(w),D.embedBasicPatterns(p,w),D.embedTypeInfo(h,y,w),D.maybeEmbedVersionInfo(p,w),D.embedDataBits(l,y,w)}static embedBasicPatterns(l,h){D.embedPositionDetectionPatternsAndSeparators(h),D.embedDarkDotAtLeftBottomCorner(h),D.maybeEmbedPositionAdjustmentPatterns(l,h),D.embedTimingPatterns(h)}static embedTypeInfo(l,h,p){const y=new X;D.makeTypeInfoBits(l,h,y);for(let w=0,S=y.getSize();w<S;++w){const T=y.get(y.getSize()-1-w),k=D.TYPE_INFO_COORDINATES[w],B=k[0],Q=k[1];if(p.setBoolean(B,Q,T),w<8){const oe=p.getWidth()-w-1;p.setBoolean(oe,8,T)}else{const xe=p.getHeight()-7+(w-8);p.setBoolean(8,xe,T)}}}static maybeEmbedVersionInfo(l,h){if(l.getVersionNumber()<7)return;const p=new X;D.makeVersionInfoBits(l,p);let y=6*3-1;for(let w=0;w<6;++w)for(let S=0;S<3;++S){const T=p.get(y);y--,h.setBoolean(w,h.getHeight()-11+S,T),h.setBoolean(h.getHeight()-11+S,w,T)}}static embedDataBits(l,h,p){let y=0,w=-1,S=p.getWidth()-1,T=p.getHeight()-1;for(;S>0;){for(S===6&&(S-=1);T>=0&&T<p.getHeight();){for(let k=0;k<2;++k){const B=S-k;if(!D.isEmpty(p.get(B,T)))continue;let Q;y<l.getSize()?(Q=l.get(y),++y):Q=!1,h!==255&&Un.getDataMaskBit(h,B,T)&&(Q=!Q),p.setBoolean(B,T,Q)}T+=w}w=-w,T+=w,S-=2}if(y!==l.getSize())throw new An("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-P.numberOfLeadingZeros(l)}static calculateBCHCode(l,h){if(h===0)throw new v("0 polynomial");const p=D.findMSBSet(h);for(l<<=p-1;D.findMSBSet(l)>=p;)l^=h<<D.findMSBSet(l)-p;return l}static makeTypeInfoBits(l,h,p){if(!La.isValidMaskPattern(h))throw new An("Invalid mask pattern");const y=l.getBits()<<3|h;p.appendBits(y,5);const w=D.calculateBCHCode(y,D.TYPE_INFO_POLY);p.appendBits(w,10);const S=new X;if(S.appendBits(D.TYPE_INFO_MASK_PATTERN,15),p.xor(S),p.getSize()!==15)throw new An("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(l,h){h.appendBits(l.getVersionNumber(),6);const p=D.calculateBCHCode(l.getVersionNumber(),D.VERSION_INFO_POLY);if(h.appendBits(p,12),h.getSize()!==18)throw new An("should not happen but we got: "+h.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let h=8;h<l.getWidth()-8;++h){const p=(h+1)%2;D.isEmpty(l.get(h,6))&&l.setNumber(h,6,p),D.isEmpty(l.get(6,h))&&l.setNumber(6,h,p)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new An;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,h,p){for(let y=0;y<8;++y){if(!D.isEmpty(p.get(l+y,h)))throw new An;p.setNumber(l+y,h,0)}}static embedVerticalSeparationPattern(l,h,p){for(let y=0;y<7;++y){if(!D.isEmpty(p.get(l,h+y)))throw new An;p.setNumber(l,h+y,0)}}static embedPositionAdjustmentPattern(l,h,p){for(let y=0;y<5;++y){const w=D.POSITION_ADJUSTMENT_PATTERN[y];for(let S=0;S<5;++S)p.setNumber(l+S,h+y,w[S])}}static embedPositionDetectionPattern(l,h,p){for(let y=0;y<7;++y){const w=D.POSITION_DETECTION_PATTERN[y];for(let S=0;S<7;++S)p.setNumber(l+S,h+y,w[S])}}static embedPositionDetectionPatternsAndSeparators(l){const h=D.POSITION_DETECTION_PATTERN[0].length;D.embedPositionDetectionPattern(0,0,l),D.embedPositionDetectionPattern(l.getWidth()-h,0,l),D.embedPositionDetectionPattern(0,l.getWidth()-h,l);const p=8;D.embedHorizontalSeparationPattern(0,p-1,l),D.embedHorizontalSeparationPattern(l.getWidth()-p,p-1,l),D.embedHorizontalSeparationPattern(0,l.getWidth()-p,l);const y=7;D.embedVerticalSeparationPattern(y,0,l),D.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),D.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,h){if(l.getVersionNumber()<2)return;const p=l.getVersionNumber()-1,y=D.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let w=0,S=y.length;w!==S;w++){const T=y[w];if(T>=0)for(let k=0;k!==S;k++){const B=y[k];B>=0&&D.isEmpty(h.get(B,T))&&D.embedPositionAdjustmentPattern(B-2,T-2,h)}}}}D.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),D.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),D.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),D.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),D.VERSION_INFO_POLY=7973,D.TYPE_INFO_POLY=1335,D.TYPE_INFO_MASK_PATTERN=21522;class de{constructor(l,h){this.dataBytes=l,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ie{constructor(){}static calculateMaskPenalty(l){return Un.applyMaskPenaltyRule1(l)+Un.applyMaskPenaltyRule2(l)+Un.applyMaskPenaltyRule3(l)+Un.applyMaskPenaltyRule4(l)}static encode(l,h,p=null){let y=Ie.DEFAULT_BYTE_MODE_ENCODING;const w=p!==null&&p.get(Ni.CHARACTER_SET)!==void 0;w&&(y=p.get(Ni.CHARACTER_SET).toString());const S=this.chooseMode(l,y),T=new X;if(S===Ar.BYTE&&(w||Ie.DEFAULT_BYTE_MODE_ENCODING!==y)){const qt=z.getCharacterSetECIByName(y);qt!==void 0&&this.appendECI(qt,T)}this.appendModeInfo(S,T);const k=new X;this.appendBytes(l,S,k,y);let B;if(p!==null&&p.get(Ni.QR_VERSION)!==void 0){const qt=Number.parseInt(p.get(Ni.QR_VERSION).toString(),10);B=Nr.getVersionForNumber(qt);const Ht=this.calculateBitsNeeded(S,T,k,B);if(!this.willFit(Ht,B,h))throw new An("Data too big for requested version")}else B=this.recommendVersion(h,S,T,k);const Q=new X;Q.appendBitArray(T);const oe=S===Ar.BYTE?k.getSizeInBytes():l.length;this.appendLengthInfo(oe,B,S,Q),Q.appendBitArray(k);const xe=B.getECBlocksForLevel(h),De=B.getTotalCodewords()-xe.getTotalECCodewords();this.terminateBits(De,Q);const We=this.interleaveWithECBytes(Q,B.getTotalCodewords(),De,xe.getNumBlocks()),$e=new La;$e.setECLevel(h),$e.setMode(S),$e.setVersion(B);const tt=B.getDimensionForVersion(),xt=new co(tt,tt),Pt=this.chooseMaskPattern(We,h,B,xt);return $e.setMaskPattern(Pt),D.buildMatrix(We,h,B,Pt,xt),$e.setMatrix(xt),$e}static recommendVersion(l,h,p,y){const w=this.calculateBitsNeeded(h,p,y,Nr.getVersionForNumber(1)),S=this.chooseVersion(w,l),T=this.calculateBitsNeeded(h,p,y,S);return this.chooseVersion(T,l)}static calculateBitsNeeded(l,h,p,y){return h.getSize()+l.getCharacterCountBits(y)+p.getSize()}static getAlphanumericCode(l){return l<Ie.ALPHANUMERIC_TABLE.length?Ie.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,h=null){if(z.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(l))return Ar.KANJI;let p=!1,y=!1;for(let w=0,S=l.length;w<S;++w){const T=l.charAt(w);if(Ie.isDigit(T))p=!0;else if(this.getAlphanumericCode(T.charCodeAt(0))!==-1)y=!0;else return Ar.BYTE}return y?Ar.ALPHANUMERIC:p?Ar.NUMERIC:Ar.BYTE}static isOnlyDoubleByteKanji(l){let h;try{h=W.encode(l,z.SJIS)}catch(y){return!1}const p=h.length;if(p%2!==0)return!1;for(let y=0;y<p;y+=2){const w=h[y]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(l,h,p,y){let w=Number.MAX_SAFE_INTEGER,S=-1;for(let T=0;T<La.NUM_MASK_PATTERNS;T++){D.buildMatrix(l,h,p,T,y);let k=this.calculateMaskPenalty(y);k<w&&(w=k,S=T)}return S}static chooseVersion(l,h){for(let p=1;p<=40;p++){const y=Nr.getVersionForNumber(p);if(Ie.willFit(l,y,h))return y}throw new An("Data too big")}static willFit(l,h,p){const y=h.getTotalCodewords(),S=h.getECBlocksForLevel(p).getTotalECCodewords(),T=y-S,k=(l+7)/8;return T>=k}static terminateBits(l,h){const p=l*8;if(h.getSize()>p)throw new An("data bits cannot fit in the QR Code"+h.getSize()+" > "+p);for(let S=0;S<4&&h.getSize()<p;++S)h.appendBit(!1);const y=h.getSize()&7;if(y>0)for(let S=y;S<8;S++)h.appendBit(!1);const w=l-h.getSizeInBytes();for(let S=0;S<w;++S)h.appendBits((S&1)===0?236:17,8);if(h.getSize()!==p)throw new An("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,h,p,y,w,S){if(y>=p)throw new An("Block ID too large");const T=l%p,k=p-T,B=Math.floor(l/p),Q=B+1,oe=Math.floor(h/p),xe=oe+1,De=B-oe,We=Q-xe;if(De!==We)throw new An("EC bytes mismatch");if(p!==k+T)throw new An("RS blocks mismatch");if(l!==(oe+De)*k+(xe+We)*T)throw new An("Total bytes mismatch");y<k?(w[0]=oe,S[0]=De):(w[0]=xe,S[0]=We)}static interleaveWithECBytes(l,h,p,y){if(l.getSizeInBytes()!==p)throw new An("Number of bits and data bytes does not match");let w=0,S=0,T=0;const k=new Array;for(let Q=0;Q<y;++Q){const oe=new Int32Array(1),xe=new Int32Array(1);Ie.getNumDataBytesAndNumECBytesForBlockID(h,p,y,Q,oe,xe);const De=oe[0],We=new Uint8Array(De);l.toBytes(8*w,We,0,De);const $e=Ie.generateECBytes(We,xe[0]);k.push(new de(We,$e)),S=Math.max(S,De),T=Math.max(T,$e.length),w+=oe[0]}if(p!==w)throw new An("Data bytes does not match offset");const B=new X;for(let Q=0;Q<S;++Q)for(const oe of k){const xe=oe.getDataBytes();Q<xe.length&&B.appendBits(xe[Q],8)}for(let Q=0;Q<T;++Q)for(const oe of k){const xe=oe.getErrorCorrectionBytes();Q<xe.length&&B.appendBits(xe[Q],8)}if(h!==B.getSizeInBytes())throw new An("Interleaving error: "+h+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(l,h){const p=l.length,y=new Int32Array(p+h);for(let S=0;S<p;S++)y[S]=l[S]&255;new Io(ct.QR_CODE_FIELD_256).encode(y,h);const w=new Uint8Array(h);for(let S=0;S<h;S++)w[S]=y[p+S];return w}static appendModeInfo(l,h){h.appendBits(l.getBits(),4)}static appendLengthInfo(l,h,p,y){const w=p.getCharacterCountBits(h);if(l>=1<<w)throw new An(l+" is bigger than "+((1<<w)-1));y.appendBits(l,w)}static appendBytes(l,h,p,y){switch(h){case Ar.NUMERIC:Ie.appendNumericBytes(l,p);break;case Ar.ALPHANUMERIC:Ie.appendAlphanumericBytes(l,p);break;case Ar.BYTE:Ie.append8BitBytes(l,p,y);break;case Ar.KANJI:Ie.appendKanjiBytes(l,p);break;default:throw new An("Invalid mode: "+h)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const h=Ie.getDigit(l);return h>=0&&h<=9}static appendNumericBytes(l,h){const p=l.length;let y=0;for(;y<p;){const w=Ie.getDigit(l.charAt(y));if(y+2<p){const S=Ie.getDigit(l.charAt(y+1)),T=Ie.getDigit(l.charAt(y+2));h.appendBits(w*100+S*10+T,10),y+=3}else if(y+1<p){const S=Ie.getDigit(l.charAt(y+1));h.appendBits(w*10+S,7),y+=2}else h.appendBits(w,4),y++}}static appendAlphanumericBytes(l,h){const p=l.length;let y=0;for(;y<p;){const w=Ie.getAlphanumericCode(l.charCodeAt(y));if(w===-1)throw new An;if(y+1<p){const S=Ie.getAlphanumericCode(l.charCodeAt(y+1));if(S===-1)throw new An;h.appendBits(w*45+S,11),y+=2}else h.appendBits(w,6),y++}}static append8BitBytes(l,h,p){let y;try{y=W.encode(l,p)}catch(w){throw new An(w)}for(let w=0,S=y.length;w!==S;w++){const T=y[w];h.appendBits(T,8)}}static appendKanjiBytes(l,h){let p;try{p=W.encode(l,z.SJIS)}catch(w){throw new An(w)}const y=p.length;for(let w=0;w<y;w+=2){const S=p[w]&255,T=p[w+1]&255,k=S<<8&4294967295|T;let B=-1;if(k>=33088&&k<=40956?B=k-33088:k>=57408&&k<=60351&&(B=k-49472),B===-1)throw new An("Invalid byte sequence");const Q=(B>>8)*192+(B&255);h.appendBits(Q,13)}}static appendECI(l,h){h.appendBits(Ar.ECI.getBits(),4),h.appendBits(l.getValue(),8)}}Ie.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ie.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Ge{write(l,h,p,y=null){if(l.length===0)throw new v("Found empty contents");if(h<0||p<0)throw new v("Requested dimensions are too small: "+h+"x"+p);let w=Sn.L,S=Ge.QUIET_ZONE_SIZE;y!==null&&(y.get(Ni.ERROR_CORRECTION)!==void 0&&(w=Sn.fromString(y.get(Ni.ERROR_CORRECTION).toString())),y.get(Ni.MARGIN)!==void 0&&(S=Number.parseInt(y.get(Ni.MARGIN).toString(),10)));const T=Ie.encode(l,w,y);return this.renderResult(T,h,p,S)}writeToDom(l,h,p,y,w=null){typeof l=="string"&&(l=document.querySelector(l));const S=this.write(h,p,y,w);l&&l.appendChild(S)}renderResult(l,h,p,y){const w=l.getMatrix();if(w===null)throw new it;const S=w.getWidth(),T=w.getHeight(),k=S+y*2,B=T+y*2,Q=Math.max(h,k),oe=Math.max(p,B),xe=Math.min(Math.floor(Q/k),Math.floor(oe/B)),De=Math.floor((Q-S*xe)/2),We=Math.floor((oe-T*xe)/2),$e=this.createSVGElement(Q,oe);for(let tt=0,xt=We;tt<T;tt++,xt+=xe)for(let Pt=0,qt=De;Pt<S;Pt++,qt+=xe)if(w.get(Pt,tt)===1){const Ht=this.createSvgRectElement(qt,xt,xe,xe);$e.appendChild(Ht)}return $e}createSVGElement(l,h){const p=document.createElementNS(Ge.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",h.toString()),p}createSvgRectElement(l,h,p,y){const w=document.createElementNS(Ge.SVG_NS,"rect");return w.setAttributeNS(null,"x",l.toString()),w.setAttributeNS(null,"y",h.toString()),w.setAttributeNS(null,"height",p.toString()),w.setAttributeNS(null,"width",y.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Ge.QUIET_ZONE_SIZE=4,Ge.SVG_NS="http://www.w3.org/2000/svg";class at{encode(l,h,p,y,w){if(l.length===0)throw new v("Found empty contents");if(h!==le.QR_CODE)throw new v("Can only encode QR_CODE, but got "+h);if(p<0||y<0)throw new v(`Requested dimensions are too small: ${p}x${y}`);let S=Sn.L,T=at.QUIET_ZONE_SIZE;w!==null&&(w.get(Ni.ERROR_CORRECTION)!==void 0&&(S=Sn.fromString(w.get(Ni.ERROR_CORRECTION).toString())),w.get(Ni.MARGIN)!==void 0&&(T=Number.parseInt(w.get(Ni.MARGIN).toString(),10)));const k=Ie.encode(l,S,w);return at.renderResult(k,p,y,T)}static renderResult(l,h,p,y){const w=l.getMatrix();if(w===null)throw new it;const S=w.getWidth(),T=w.getHeight(),k=S+y*2,B=T+y*2,Q=Math.max(h,k),oe=Math.max(p,B),xe=Math.min(Math.floor(Q/k),Math.floor(oe/B)),De=Math.floor((Q-S*xe)/2),We=Math.floor((oe-T*xe)/2),$e=new ve(Q,oe);for(let tt=0,xt=We;tt<T;tt++,xt+=xe)for(let Pt=0,qt=De;Pt<S;Pt++,qt+=xe)w.get(Pt,tt)===1&&$e.setRegion(qt,xt,xe,xe);return $e}}at.QUIET_ZONE_SIZE=4;class At{encode(l,h,p,y,w){let S;switch(h){case le.QR_CODE:S=new at;break;default:throw new v("No encoder available for format "+h)}return S.encode(l,h,p,y,w)}}class Bt extends Pe{constructor(l,h,p,y,w,S,T,k){if(super(S,T),this.yuvData=l,this.dataWidth=h,this.dataHeight=p,this.left=y,this.top=w,y+S>h||w+T>p)throw new v("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(S,T)}getRow(l,h){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(l+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,y,h,0,p),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.yuvData;const p=l*h,y=new Uint8ClampedArray(p);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return A.arraycopy(this.yuvData,w,y,0,p),y;for(let S=0;S<h;S++){const T=S*l;A.arraycopy(this.yuvData,w,y,T,l),w+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,h,p,y){return new Bt(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+h,p,y,!1)}renderThumbnail(){const l=this.getWidth()/Bt.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/Bt.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*h),y=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let S=0;S<h;S++){const T=S*l;for(let k=0;k<l;k++){const B=y[w+k*Bt.THUMBNAIL_SCALE_FACTOR]&255;p[T+k]=4278190080|B*65793}w+=this.dataWidth*Bt.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/Bt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Bt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,h){const p=this.yuvData;for(let y=0,w=this.top*this.dataWidth+this.left;y<h;y++,w+=this.dataWidth){const S=w+l/2;for(let T=w,k=w+l-1;T<S;T++,k--){const B=p[T];p[T]=p[k],p[k]=B}}}invert(){return new Ae(this)}}Bt.THUMBNAIL_SCALE_FACTOR=2;class or extends Pe{constructor(l,h,p,y,w,S,T){if(super(h,p),this.dataWidth=y,this.dataHeight=w,this.left=S,this.top=T,l.BYTES_PER_ELEMENT===4){const k=h*p,B=new Uint8ClampedArray(k);for(let Q=0;Q<k;Q++){const oe=l[Q],xe=oe>>16&255,De=oe>>7&510,We=oe&255;B[Q]=(xe+De+We)/4&255}this.luminances=B}else this.luminances=l;if(y===void 0&&(this.dataWidth=h),w===void 0&&(this.dataHeight=p),S===void 0&&(this.left=0),T===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+p>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(l,h){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(l+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,y,h,0,p),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.luminances;const p=l*h,y=new Uint8ClampedArray(p);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return A.arraycopy(this.luminances,w,y,0,p),y;for(let S=0;S<h;S++){const T=S*l;A.arraycopy(this.luminances,w,y,T,l),w+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,h,p,y){return new or(this.luminances,p,y,this.dataWidth,this.dataHeight,this.left+l,this.top+h)}invert(){return new Ae(this)}}class br extends z{static forName(l){return this.getCharacterSetECIByName(l)}}class qr{}qr.ISO_8859_1=z.ISO8859_1;class Mr{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class un{static singletonList(l){return[l]}static min(l,h){return l.sort(h)[0]}}class oi{constructor(l){this.previous=l}getPrevious(){return this.previous}}class zn extends oi{constructor(l,h,p){super(l),this.value=h,this.bitCount=p}appendTo(l,h){l.appendBits(this.value,this.bitCount)}add(l,h){return new zn(this,l,h)}addBinaryShift(l,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zn(this,l,h)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+P.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class hi extends zn{constructor(l,h,p){super(l,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=p}appendTo(l,h){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):p===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(h[this.binaryShiftStart+p],8)}addBinaryShift(l,h){return new hi(this,l,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ai(ce,l,h){return new hi(ce,l,h)}function pi(ce,l,h){return new zn(ce,l,h)}const Ts=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Fi=0,Ia=1,pa=2,zs=3,Xi=4,Dl=new zn(null,0,0),Hs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Pl(ce){for(let l of ce)I.fill(l,-1);return ce[Fi][Xi]=0,ce[Ia][Xi]=0,ce[Ia][Fi]=28,ce[zs][Xi]=0,ce[pa][Xi]=0,ce[pa][Fi]=15,ce}const Do=Pl(I.createInt32Array(6,6));class Hn{constructor(l,h,p,y){this.token=l,this.mode=h,this.binaryShiftByteCount=p,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,h){let p=this.bitCount,y=this.token;if(l!==this.mode){let S=Hs[this.mode][l];y=pi(y,S&65535,S>>16),p+=S>>16}let w=l===pa?4:5;return y=pi(y,h,w),new Hn(y,l,0,p+w)}shiftAndAppend(l,h){let p=this.token,y=this.mode===pa?4:5;return p=pi(p,Do[this.mode][l],y),p=pi(p,h,5),new Hn(p,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let h=this.token,p=this.mode,y=this.bitCount;if(this.mode===Xi||this.mode===pa){let T=Hs[p][Fi];h=pi(h,T&65535,T>>16),y+=T>>16,p=Fi}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,S=new Hn(h,p,this.binaryShiftByteCount+1,y+w);return S.binaryShiftByteCount===2078&&(S=S.endBinaryShift(l+1)),S}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=Ai(h,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new Hn(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let h=this.bitCount+(Hs[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?h+=Hn.calculateBinaryShiftCost(l)-Hn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(h+=10),h<=l.bitCount}toBitArray(l){let h=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())h.unshift(y);let p=new X;for(const y of h)y.appendTo(p,l);return p}toString(){return H.format("%s bits=%d bytes=%d",Ts[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}Hn.INITIAL_STATE=new Hn(Dl,Fi,0,0);function Po(ce){const l=H.getCharCode(" "),h=H.getCharCode("."),p=H.getCharCode(",");ce[Fi][l]=1;const y=H.getCharCode("Z"),w=H.getCharCode("A");for(let xe=w;xe<=y;xe++)ce[Fi][xe]=xe-w+2;ce[Ia][l]=1;const S=H.getCharCode("z"),T=H.getCharCode("a");for(let xe=T;xe<=S;xe++)ce[Ia][xe]=xe-T+2;ce[pa][l]=1;const k=H.getCharCode("9"),B=H.getCharCode("0");for(let xe=B;xe<=k;xe++)ce[pa][xe]=xe-B+2;ce[pa][p]=12,ce[pa][h]=13;const Q=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let xe=0;xe<Q.length;xe++)ce[zs][H.getCharCode(Q[xe])]=xe;const oe=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let xe=0;xe<oe.length;xe++)H.getCharCode(oe[xe])>0&&(ce[Xi][H.getCharCode(oe[xe])]=xe);return ce}const uo=Po(I.createInt32Array(5,256));class js{constructor(l){this.text=l}encode(){const l=H.getCharCode(" "),h=H.getCharCode(`
`);let p=un.singletonList(Hn.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let S,T=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case H.getCharCode("\r"):S=T===h?2:0;break;case H.getCharCode("."):S=T===l?3:0;break;case H.getCharCode(","):S=T===l?4:0;break;case H.getCharCode(":"):S=T===l?5:0;break;default:S=0}S>0?(p=js.updateStateListForPair(p,w,S),w++):p=this.updateStateListForChar(p,w)}return un.min(p,(w,S)=>w.getBitCount()-S.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,h){const p=[];for(let y of l)this.updateStateForChar(y,h,p);return js.simplifyStates(p)}updateStateForChar(l,h,p){let y=this.text[h]&255,w=uo[l.getMode()][y]>0,S=null;for(let T=0;T<=Xi;T++){let k=uo[T][y];if(k>0){if(S==null&&(S=l.endBinaryShift(h)),!w||T===l.getMode()||T===pa){const B=S.latchAndAppend(T,k);p.push(B)}if(!w&&Do[l.getMode()][T]>=0){const B=S.shiftAndAppend(T,k);p.push(B)}}}if(l.getBinaryShiftByteCount()>0||uo[l.getMode()][y]===0){let T=l.addBinaryShiftChar(h);p.push(T)}}static updateStateListForPair(l,h,p){const y=[];for(let w of l)this.updateStateForPair(w,h,p,y);return this.simplifyStates(y)}static updateStateForPair(l,h,p,y){let w=l.endBinaryShift(h);if(y.push(w.latchAndAppend(Xi,p)),l.getMode()!==Xi&&y.push(w.shiftAndAppend(Xi,p)),p===3||p===4){let S=w.latchAndAppend(pa,16-p).latchAndAppend(pa,1);y.push(S)}if(l.getBinaryShiftByteCount()>0){let S=l.addBinaryShiftChar(h).addBinaryShiftChar(h+1);y.push(S)}}static simplifyStates(l){let h=[];for(const p of l){let y=!0;for(const w of h){if(w.isBetterThanOrEqualTo(p)){y=!1;break}p.isBetterThanOrEqualTo(w)&&(h=h.filter(S=>S!==w))}y&&h.push(p)}return h}}class nn{constructor(){}static encodeBytes(l){return nn.encode(l,nn.DEFAULT_EC_PERCENT,nn.DEFAULT_AZTEC_LAYERS)}static encode(l,h,p){let y=new js(l).encode(),w=P.truncDivision(y.getSize()*h,100)+11,S=y.getSize()+w,T,k,B,Q,oe;if(p!==nn.DEFAULT_AZTEC_LAYERS){if(T=p<0,k=Math.abs(p),k>(T?nn.MAX_NB_BITS_COMPACT:nn.MAX_NB_BITS))throw new v(H.format("Illegal value %s for layers",p));B=nn.totalBitsInLayer(k,T),Q=nn.WORD_SIZE[k];let Ht=B-B%Q;if(oe=nn.stuffBits(y,Q),oe.getSize()+w>Ht)throw new v("Data to large for user specified layer");if(T&&oe.getSize()>Q*64)throw new v("Data to large for user specified layer")}else{Q=0,oe=null;for(let Ht=0;;Ht++){if(Ht>nn.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(T=Ht<=3,k=T?Ht+1:Ht,B=nn.totalBitsInLayer(k,T),S>B)continue;(oe==null||Q!==nn.WORD_SIZE[k])&&(Q=nn.WORD_SIZE[k],oe=nn.stuffBits(y,Q));let Wr=B-B%Q;if(!(T&&oe.getSize()>Q*64)&&oe.getSize()+w<=Wr)break}}let xe=nn.generateCheckWords(oe,B,Q),De=oe.getSize()/Q,We=nn.generateModeMessage(T,k,De),$e=(T?11:14)+k*4,tt=new Int32Array($e),xt;if(T){xt=$e;for(let Ht=0;Ht<tt.length;Ht++)tt[Ht]=Ht}else{xt=$e+1+2*P.truncDivision(P.truncDivision($e,2)-1,15);let Ht=P.truncDivision($e,2),Wr=P.truncDivision(xt,2);for(let Pr=0;Pr<Ht;Pr++){let Ci=Pr+P.truncDivision(Pr,15);tt[Ht-Pr-1]=Wr-Ci-1,tt[Ht+Pr]=Wr+Ci+1}}let Pt=new ve(xt);for(let Ht=0,Wr=0;Ht<k;Ht++){let Pr=(k-Ht)*4+(T?9:12);for(let Ci=0;Ci<Pr;Ci++){let Yi=Ci*2;for(let Ti=0;Ti<2;Ti++)xe.get(Wr+Yi+Ti)&&Pt.set(tt[Ht*2+Ti],tt[Ht*2+Ci]),xe.get(Wr+Pr*2+Yi+Ti)&&Pt.set(tt[Ht*2+Ci],tt[$e-1-Ht*2-Ti]),xe.get(Wr+Pr*4+Yi+Ti)&&Pt.set(tt[$e-1-Ht*2-Ti],tt[$e-1-Ht*2-Ci]),xe.get(Wr+Pr*6+Yi+Ti)&&Pt.set(tt[$e-1-Ht*2-Ci],tt[Ht*2+Ti])}Wr+=Pr*8}if(nn.drawModeMessage(Pt,T,xt,We),T)nn.drawBullsEye(Pt,P.truncDivision(xt,2),5);else{nn.drawBullsEye(Pt,P.truncDivision(xt,2),7);for(let Ht=0,Wr=0;Ht<P.truncDivision($e,2)-1;Ht+=15,Wr+=16)for(let Pr=P.truncDivision(xt,2)&1;Pr<xt;Pr+=2)Pt.set(P.truncDivision(xt,2)-Wr,Pr),Pt.set(P.truncDivision(xt,2)+Wr,Pr),Pt.set(Pr,P.truncDivision(xt,2)-Wr),Pt.set(Pr,P.truncDivision(xt,2)+Wr)}let qt=new Mr;return qt.setCompact(T),qt.setSize(xt),qt.setLayers(k),qt.setCodeWords(De),qt.setMatrix(Pt),qt}static drawBullsEye(l,h,p){for(let y=0;y<p;y+=2)for(let w=h-y;w<=h+y;w++)l.set(w,h-y),l.set(w,h+y),l.set(h-y,w),l.set(h+y,w);l.set(h-p,h-p),l.set(h-p+1,h-p),l.set(h-p,h-p+1),l.set(h+p,h-p),l.set(h+p,h-p+1),l.set(h+p,h+p-1)}static generateModeMessage(l,h,p){let y=new X;return l?(y.appendBits(h-1,2),y.appendBits(p-1,6),y=nn.generateCheckWords(y,28,4)):(y.appendBits(h-1,5),y.appendBits(p-1,11),y=nn.generateCheckWords(y,40,4)),y}static drawModeMessage(l,h,p,y){let w=P.truncDivision(p,2);if(h)for(let S=0;S<7;S++){let T=w-3+S;y.get(S)&&l.set(T,w-5),y.get(S+7)&&l.set(w+5,T),y.get(20-S)&&l.set(T,w+5),y.get(27-S)&&l.set(w-5,T)}else for(let S=0;S<10;S++){let T=w-5+S+P.truncDivision(S,5);y.get(S)&&l.set(T,w-7),y.get(S+10)&&l.set(w+7,T),y.get(29-S)&&l.set(T,w+7),y.get(39-S)&&l.set(w-7,T)}}static generateCheckWords(l,h,p){let y=l.getSize()/p,w=new Io(nn.getGF(p)),S=P.truncDivision(h,p),T=nn.bitsToWords(l,p,S);w.encode(T,S-y);let k=h%p,B=new X;B.appendBits(0,k);for(const Q of Array.from(T))B.appendBits(Q,p);return B}static bitsToWords(l,h,p){let y=new Int32Array(p),w,S;for(w=0,S=l.getSize()/h;w<S;w++){let T=0;for(let k=0;k<h;k++)T|=l.get(w*h+k)?1<<h-k-1:0;y[w]=T}return y}static getGF(l){switch(l){case 4:return ct.AZTEC_PARAM;case 6:return ct.AZTEC_DATA_6;case 8:return ct.AZTEC_DATA_8;case 10:return ct.AZTEC_DATA_10;case 12:return ct.AZTEC_DATA_12;default:throw new v("Unsupported word size "+l)}}static stuffBits(l,h){let p=new X,y=l.getSize(),w=(1<<h)-2;for(let S=0;S<y;S+=h){let T=0;for(let k=0;k<h;k++)(S+k>=y||l.get(S+k))&&(T|=1<<h-1-k);(T&w)===w?(p.appendBits(T&w,h),S--):(T&w)===0?(p.appendBits(T|1,h),S--):p.appendBits(T,h)}return p}static totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}nn.DEFAULT_EC_PERCENT=33,nn.DEFAULT_AZTEC_LAYERS=0,nn.MAX_NB_BITS=32,nn.MAX_NB_BITS_COMPACT=4,nn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sa{encode(l,h,p,y){return this.encodeWithHints(l,h,p,y,null)}encodeWithHints(l,h,p,y,w){let S=qr.ISO_8859_1,T=nn.DEFAULT_EC_PERCENT,k=nn.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(Ni.CHARACTER_SET)&&(S=br.forName(w.get(Ni.CHARACTER_SET).toString())),w.has(Ni.ERROR_CORRECTION)&&(T=P.parseInt(w.get(Ni.ERROR_CORRECTION).toString())),w.has(Ni.AZTEC_LAYERS)&&(k=P.parseInt(w.get(Ni.AZTEC_LAYERS).toString()))),sa.encodeLayers(l,h,p,y,S,T,k)}static encodeLayers(l,h,p,y,w,S,T){if(h!==le.AZTEC)throw new v("Can only encode AZTEC, but got "+h);let k=nn.encode(H.getBytes(l,w),S,T);return sa.renderResult(k,p,y)}static renderResult(l,h,p){let y=l.getMatrix();if(y==null)throw new it;let w=y.getWidth(),S=y.getHeight(),T=Math.max(h,w),k=Math.max(p,S),B=Math.min(T/w,k/S),Q=(T-w*B)/2,oe=(k-S*B)/2,xe=new ve(T,k);for(let De=0,We=oe;De<S;De++,We+=B)for(let $e=0,tt=Q;$e<w;$e++,tt+=B)y.get($e,De)&&xe.setRegion(tt,We,B,B);return xe}}r.AbstractExpandedDecoder=je,r.ArgumentException=m,r.ArithmeticException=st,r.AztecCode=Mr,r.AztecCodeReader=Kt,r.AztecCodeWriter=sa,r.AztecDecoder=rt,r.AztecDetector=Br,r.AztecDetectorResult=Mt,r.AztecEncoder=nn,r.AztecHighLevelEncoder=js,r.AztecPoint=Qt,r.BarcodeFormat=le,r.Binarizer=C,r.BinaryBitmap=b,r.BitArray=X,r.BitMatrix=ve,r.BitSource=Pn,r.BrowserAztecCodeReader=Lr,r.BrowserBarcodeReader=Rn,r.BrowserCodeReader=q,r.BrowserDatamatrixCodeReader=kl,r.BrowserMultiFormatReader=Il,r.BrowserPDF417Reader=lc,r.BrowserQRCodeReader=cc,r.BrowserQRCodeSvgWriter=Ge,r.CharacterSetECI=z,r.ChecksumException=_,r.Code128Reader=Vt,r.Code39Reader=wr,r.DataMatrixDecodedBitStreamParser=As,r.DataMatrixReader=_i,r.DecodeHintType=K,r.DecoderResult=Me,r.DefaultGridSampler=dr,r.DetectorResult=Dt,r.EAN13Reader=Xn,r.EncodeHintType=Ni,r.Exception=u,r.FormatException=G,r.GenericGF=ct,r.GenericGFPoly=ze,r.GlobalHistogramBinarizer=he,r.GridSampler=hr,r.GridSamplerInstance=mr,r.HTMLCanvasElementLuminanceSource=se,r.HybridBinarizer=be,r.ITFReader=gr,r.IllegalArgumentException=v,r.IllegalStateException=it,r.InvertedLuminanceSource=Ae,r.LuminanceSource=Pe,r.MathUtils=He,r.MultiFormatOneDReader=tn,r.MultiFormatReader=oc,r.MultiFormatWriter=At,r.NotFoundException=me,r.OneDReader=fr,r.PDF417DecodedBitStreamParser=vt,r.PDF417DecoderErrorCorrection=el,r.PDF417Reader=Si,r.PDF417ResultMetadata=tl,r.PerspectiveTransform=ar,r.PlanarYUVLuminanceSource=Bt,r.QRCodeByteMatrix=co,r.QRCodeDataMask=qi,r.QRCodeDecodedBitStreamParser=Nn,r.QRCodeDecoderErrorCorrectionLevel=Sn,r.QRCodeDecoderFormatInformation=Di,r.QRCodeEncoder=Ie,r.QRCodeEncoderQRCode=La,r.QRCodeMaskUtil=Un,r.QRCodeMatrixUtil=D,r.QRCodeMode=Ar,r.QRCodeReader=Cs,r.QRCodeVersion=Nr,r.QRCodeWriter=at,r.RGBLuminanceSource=or,r.RSS14Reader=Yt,r.RSSExpandedReader=te,r.ReaderException=lo,r.ReedSolomonDecoder=fe,r.ReedSolomonEncoder=Io,r.ReedSolomonException=Nt,r.Result=J,r.ResultMetadataType=Te,r.ResultPoint=et,r.StringUtils=H,r.UnsupportedOperationException=ie,r.VideoInputDevice=Le,r.WhiteRectangleDetector=Xt,r.WriterException=An,r.ZXingArrays=I,r.ZXingCharset=br,r.ZXingInteger=P,r.ZXingStandardCharsets=qr,r.ZXingStringBuilder=ne,r.ZXingStringEncoding=W,r.ZXingSystem=A,r.createAbstractExpandedDecoder=$t,Object.defineProperty(r,"__esModule",{value:!0})})}(lf,lf.exports)),lf.exports}var Oi=gU();const mU=I2(Oi),pU=MS({__proto__:null,default:mU},[Oi]);var v3=function(){function t(e,r,n){if(this.formatMap=new Map([[lr.QR_CODE,Oi.BarcodeFormat.QR_CODE],[lr.AZTEC,Oi.BarcodeFormat.AZTEC],[lr.CODABAR,Oi.BarcodeFormat.CODABAR],[lr.CODE_39,Oi.BarcodeFormat.CODE_39],[lr.CODE_93,Oi.BarcodeFormat.CODE_93],[lr.CODE_128,Oi.BarcodeFormat.CODE_128],[lr.DATA_MATRIX,Oi.BarcodeFormat.DATA_MATRIX],[lr.MAXICODE,Oi.BarcodeFormat.MAXICODE],[lr.ITF,Oi.BarcodeFormat.ITF],[lr.EAN_13,Oi.BarcodeFormat.EAN_13],[lr.EAN_8,Oi.BarcodeFormat.EAN_8],[lr.PDF_417,Oi.BarcodeFormat.PDF_417],[lr.RSS_14,Oi.BarcodeFormat.RSS_14],[lr.RSS_EXPANDED,Oi.BarcodeFormat.RSS_EXPANDED],[lr.UPC_A,Oi.BarcodeFormat.UPC_A],[lr.UPC_E,Oi.BarcodeFormat.UPC_E],[lr.UPC_EAN_EXTENSION,Oi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!pU)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(Oi.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Oi.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new Oi.MultiFormatReader(this.verbose,this.hints),n=new Oi.HTMLCanvasElementLuminanceSource(e),i=new Oi.BinaryBitmap(new Oi.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:OE.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),xU=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})},vU=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},y3=function(){function t(e,r,n){if(this.formatMap=new Map([[lr.QR_CODE,"qr_code"],[lr.AZTEC,"aztec"],[lr.CODABAR,"codabar"],[lr.CODE_39,"code_39"],[lr.CODE_93,"code_93"],[lr.CODE_128,"code_128"],[lr.DATA_MATRIX,"data_matrix"],[lr.ITF,"itf"],[lr.EAN_13,"ean_13"],[lr.EAN_8,"ean_8"],[lr.PDF_417,"pdf417"],[lr.UPC_A,"upc_a"],[lr.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e!="undefined"},t.prototype.decodeAsync=function(e){return xU(this,void 0,void 0,function(){var r,n;return vU(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:OE.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var c=s[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),w3=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})},b3=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yU=function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&y3.isSupported()?(this.primaryDecoder=new y3(e,n,i),this.secondaryDecoder=new v3(e,n,i)):this.primaryDecoder=new v3(e,n,i)}return t.prototype.decodeAsync=function(e){return w3(this,void 0,void 0,function(){var r;return b3(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return w3(this,void 0,void 0,function(){var r,n;return b3(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Uv=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k2=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})},L2=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kE=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),wU=function(t){Uv(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(kE),bU=function(t){Uv(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(wU),_U=function(t){Uv(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(kE),EU=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new bU(this.track)},t.prototype.torchFeature=function(){return new _U(this.track)},t}(),SU=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return k2(this,void 0,void 0,function(){var s,c;return L2(this,function(f){switch(f.label){case 0:return s=new t(e,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return k2(this,void 0,void 0,function(){return L2(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,c=0;e.mediaStream.getVideoTracks().forEach(function(f){e.mediaStream.removeTrack(f),f.stop(),++c,c>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new EU(this.getFirstTrackOrFail())},t}(),NU=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return k2(this,void 0,void 0,function(){return L2(this,function(i){return[2,SU.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return k2(this,void 0,void 0,function(){var r,n;return L2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t}(),_3=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})},E3=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},AU=function(){function t(){}return t.failIfNotSupported=function(){return _3(this,void 0,void 0,function(){return E3(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return _3(this,void 0,void 0,function(){return E3(this,function(r){return[2,NU.create(e)]})})},t}(),CU=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):i(m.value).then(f,g)}u((n=n.apply(t,e||[])).next())})},TU=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jU=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=kd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=kd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return CU(this,void 0,void 0,function(){var e,r,n,i,s,c,f;return TU(this,function(g){switch(g.label){case 0:return e=function(u){for(var m=u.getVideoTracks(),v=0,b=m;v<b.length;v++){var _=b[v];_.enabled=!1,_.stop(),u.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),i=[],s=0,c=n;s<c.length;s++)f=c[s],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var c=[],f=0,g=s;f<g.length;f++){var u=g[f];u.kind==="video"&&c.push({id:u.id,label:u.label})}e(c)},i=MediaStreamTrack;i.getSources(n)})},t}(),ta;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ta||(ta={}));var OU=function(){function t(){this.state=ta.NOT_STARTED,this.onGoingTransactionNewState=ta.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ta.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ta.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ta.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ta.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ta.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ta.UNKNOWN:throw"Transition from unknown is not allowed";case ta.NOT_STARTED:this.failIfNewStateIs(e,[ta.PAUSED]);break;case ta.SCANNING:break;case ta.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),RU=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ta.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ta.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ta.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ta.PAUSED},t}(),kU=function(){function t(){}return t.create=function(){return new RU(new OU)},t}(),LU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bo=function(t){LU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(uU),IU=function(){function t(e,r){this.logger=r,this.fps=bo.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=bo.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?RE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Oc(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),S3=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new hU(this.verbose),this.qrcode=new yU(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=kU.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=IU.create(r,this.logger);this.clearElement();var g=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:bo.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var v=this,b=this.stateManagerProxy.startTransition(ta.SCANNING);return new Promise(function(_,C){var A=u?f.videoConstraints:v.createVideoConstraints(e);if(!A){b.cancel(),C("videoConstraints should be defined");return}var j={};(!u||f.aspectRatio)&&(j.aspectRatio=f.aspectRatio);var L={onRenderSurfaceReady:function(I,P){v.setupUi(I,P,f),v.isScanning=!0,v.foreverScan(f,n,c)}};AU.failIfNotSupported().then(function(I){I.create(A).then(function(P){return P.render(s.element,j,L).then(function(X){v.renderedCamera=X,b.execute(),_(null)}).catch(function(X){b.cancel(),C(X)})}).catch(function(P){b.cancel(),C(kd.errorGettingUserMedia(P))})}).catch(function(I){b.cancel(),C(kd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ta.PAUSED),this.showPausedState(),(Oc(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(ta.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ta.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(bo.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Oc(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var f=c.width,g=c.height,u=document.getElementById(n.elementId),m=u.clientWidth?u.clientWidth:bo.DEFAULT_WIDTH,v=Math.max(u.clientHeight?u.clientHeight:g,bo.FILE_SCAN_MIN_HEIGHT),b=n.computeCanvasDrawConfig(f,g,m,v);if(r){var _=n.createCanvasElement(m,v,"qr-canvas-visible");_.style.display="inline-block",u.appendChild(_);var C=_.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=m,C.canvas.height=v,C.drawImage(c,0,0,f,g,b.x,b.y,b.width,b.height)}var A=bo.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(c.width,b.width),L=Math.max(c.height,b.height),I=j+2*A,P=L+2*A,X=n.createCanvasElement(I,P);u.appendChild(X);var Y=X.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=I,Y.canvas.height=P,Y.drawImage(c,0,0,f,g,A,A,j,L);try{n.qrcode.decodeRobustlyAsync(X).then(function(K){i(p3.createFromQrcodeResult(K))}).catch(s)}catch(K){s("QR code parse error, error = ".concat(K))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return jU.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!RE.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[lr.QR_CODE,lr.AZTEC,lr.CODABAR,lr.CODE_39,lr.CODE_93,lr.CODE_128,lr.DATA_MATRIX,lr.MAXICODE,lr.ITF,lr.EAN_13,lr.EAN_8,lr.PDF_417,lr.RSS_14,lr.RSS_EXPANDED,lr.UPC_A,lr.UPC_E,lr.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var c=s[i];cU(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Oc(e))return!0;if(!Oc(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Oc(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Oc(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(e,r,s),f=function(u){if(u<bo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(bo.MIN_QR_BOX_SIZE,"px.")},g=function(u){return u>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};f(c.width),f(c.height),c.width=g(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Oc(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&s.height<=r,f={x:0,y:0,width:e,height:r},g=c?this.getShadedRegionBounds(e,r,s):f,u=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},v=u.getContext("2d",m);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(u),c&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=kd.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,p3.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=kd.codeParseError(i);return r(s,dU.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,u=this.qrRegion.height*f,m=this.qrRegion.x*c,v=this.qrRegion.y*f;this.context.drawImage(s,m,v,g,u,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(_){!_&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){b()})):b()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),b()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",c=function(C){if(C in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},f=Object.keys(e);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var g=Object.keys(e)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var u=e.facingMode;if(typeof u=="string"){if(c(u))return{facingMode:u}}else if(typeof u=="object")if(s in u){if(c(u["".concat(s)]))return{facingMode:{exact:u["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var m=typeof u;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var b=typeof v;throw"Invalid type of 'deviceId' = ".concat(b)}}}var _=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,c=(i-r)/2;return{x:s,y:c,width:e,height:r}}else{var f=e,g=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(g)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?bo.BORDER_SHADER_MATCH_COLOR:bo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=Oc(n)?"qr-canvas":n,c},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(bo.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var g=5,u=40;this.insertShaderBorders(s,u,g,-g,null,0,!0),this.insertShaderBorders(s,u,g,-g,null,0,!1),this.insertShaderBorders(s,u,g,null,-g,0,!0),this.insertShaderBorders(s,u,g,null,-g,0,!1),this.insertShaderBorders(s,g,u+g,-g,null,-g,!0),this.insertShaderBorders(s,g,u+g,null,-g,-g,!0),this.insertShaderBorders(s,g,u+g,-g,null,-g,!1),this.insertShaderBorders(s,g,u+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,c,f){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=bo.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),i!==null&&(g.style.top="".concat(i,"px")),s!==null&&(g.style.bottom="".concat(s,"px")),f?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),N3;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(N3||(N3={}));const A3=({onScan:t,onError:e,showPreview:r=!0,width:n=320,height:i=280,warehouseId:s=null})=>{const[c,f]=ee.useState(!1),[g,u]=ee.useState(null),[m,v]=ee.useState(""),[b,_]=ee.useState(!0),[C,A]=ee.useState([]),[j,L]=ee.useState(null),[I,P]=ee.useState([]),[X,Y]=ee.useState(!1),[K,G]=ee.useState(!1),[V,z]=ee.useState(""),[ie,W]=ee.useState(""),H=ee.useRef(null),ne=ee.useRef(null),ve=[lr.CODE_128,lr.CODE_39,lr.EAN_13,lr.EAN_8,lr.UPC_A,lr.UPC_E,lr.QR_CODE,lr.CODE_93,lr.CODABAR,lr.ITF];ee.useEffect(()=>(S3.getCameras().then(q=>{if(q&&q.length>0){A(q);const J=q.find(re=>re.label.toLowerCase().includes("back")||re.label.toLowerCase().includes("rear")||re.label.toLowerCase().includes("environment"));L((J==null?void 0:J.id)||q[0].id),_(!0),console.log(" Found cameras:",q.map(re=>re.label))}else _(!1),u("No camera found")}).catch(q=>{console.error("Camera detection error:",q),_(!1),u("Camera access denied. Please allow camera permission.")}),()=>{be()}),[]);const me=ee.useCallback((q,J)=>{var re,le;console.log(" Scanned barcode:",q),console.log(" Format:",((le=(re=J==null?void 0:J.result)==null?void 0:re.format)==null?void 0:le.formatName)||"Unknown"),q!==V&&(z(q),setTimeout(()=>z(""),2e3),navigator.vibrate&&navigator.vibrate([100,50,100]),v(q),u(null),W(` Scanned: ${q}`),be(),Pe(q))},[V]),he=()=>we(null,null,function*(){if(!j){u("No camera selected");return}u(null),W(" Initializing camera...");try{H.current=new S3("barcode-scanner-region",{formatsToSupport:ve,verbose:!1});const q={fps:15,qrbox:{width:280,height:80},aspectRatio:1.777778,disableFlip:!1,experimentalFeatures:{useBarCodeDetectorIfSupported:!0}};yield H.current.start(j,q,me,()=>{}),f(!0),W(" Scanning... Hold barcode steady in the box"),console.log(" Scanner started successfully")}catch(q){console.error("Failed to start scanner:",q),u(`Camera error: ${q.message||q}. Try refreshing the page.`),W(""),f(!1)}}),be=()=>we(null,null,function*(){if(H.current&&H.current.isScanning)try{yield H.current.stop()}catch(q){console.log("Stop scanner note:",q)}if(H.current){try{H.current.clear()}catch(q){console.log("Clear scanner note:",q)}H.current=null}f(!1),g||W("")}),Pe=q=>we(null,null,function*(){var J,re,le;if(q){W(` Searching for: ${q}...`);try{console.log(" Looking up:",q,"in warehouse:",s);const Ue={search:q,limit:10};s&&(Ue.warehouse_id=s);const Te=yield Nu(Ue);console.log(" API returned:",((J=Te.products)==null?void 0:J.length)||0,"products");const Oe=((re=Te.products)==null?void 0:re.find(ze=>{var st,ct;return ze.part_number===q||ze.barcode===q||((st=ze.part_number)==null?void 0:st.toLowerCase())===q.toLowerCase()||((ct=ze.barcode)==null?void 0:ct.toLowerCase())===q.toLowerCase()}))||((le=Te.products)==null?void 0:le[0]);Oe?(console.log(" Product found:",Oe.name),W(` Found: ${Oe.name}`),t&&t(q,Oe)):(console.log(" No product found for:",q),W(` No product found for: ${q}`),u(`No product matches "${q}". The product may not exist in the database.`),t&&t(q,null))}catch(Ue){console.error("Lookup error:",Ue),W(" Lookup failed"),u(`Search failed: ${Ue.message}`),e&&e(Ue)}}}),Ae=ee.useCallback(q=>we(null,null,function*(){if(!q||q.length<2){P([]),Y(!1);return}G(!0);try{const J={search:q,limit:10};s&&(J.warehouse_id=s);const le=(yield Nu(J)).products||[];console.log(" Search found:",le.length,"products for",q),P(le),Y(le.length>0)}catch(J){console.error("Search error:",J),P([])}G(!1)}),[]),se=q=>{const J=q.target.value;v(J),u(null),W(""),ne.current&&clearTimeout(ne.current),ne.current=setTimeout(()=>{Ae(J)},400)},Le=q=>{const J=q.part_number||q.barcode||q.name;v(J),Y(!1),P([]),u(null),W(` Selected: ${q.name}`),t&&t(J,q)},M=q=>{q.preventDefault(),m.trim()&&(Y(!1),Pe(m.trim()))};return a.jsxs("div",{className:"barcode-scanner",style:{textAlign:"center"},children:[r&&b&&a.jsx("div",{style:{marginBottom:"15px"},children:a.jsx("div",{id:"barcode-scanner-region",style:{width:`${n}px`,height:c?`${i}px`:"0px",margin:"0 auto",border:c?"3px solid #4CAF50":"none",borderRadius:"8px",overflow:"hidden",transition:"height 0.3s ease",backgroundColor:"#000"}})}),ie&&a.jsx("div",{style:{padding:"10px",marginBottom:"10px",background:ie.includes("")?"#e8f5e9":ie.includes("")?"#ffebee":"#e3f2fd",color:ie.includes("")?"#2e7d32":ie.includes("")?"#c62828":"#1565c0",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:ie}),g&&a.jsxs("div",{style:{color:"#c62828",padding:"12px",marginBottom:"10px",background:"#ffebee",borderRadius:"6px",fontSize:"14px",border:"1px solid #ef5350"},children:[" ",g]}),b&&C.length>1&&a.jsx("div",{style:{marginBottom:"10px"},children:a.jsx("select",{value:j||"",onChange:q=>{L(q.target.value),c&&be().then(()=>setTimeout(he,100))},style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"14px",backgroundColor:"white",color:"#333"},children:C.map(q=>a.jsxs("option",{value:q.id,children:[" ",q.label||`Camera ${q.id.substring(0,8)}`]},q.id))})}),b&&a.jsx("div",{style:{marginBottom:"15px"},children:c?a.jsx("button",{onClick:be,type:"button",style:{padding:"14px 28px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(244, 67, 54, 0.3)"},children:" Stop Scanning"}):a.jsx("button",{onClick:he,type:"button",style:{padding:"14px 28px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(33, 150, 243, 0.3)"},children:" Start Camera Scan"})}),!b&&a.jsx("div",{style:{padding:"15px",background:"#fff3e0",borderRadius:"6px",marginBottom:"15px",color:"#e65100"},children:" No camera detected. Use manual entry below."}),a.jsxs("form",{onSubmit:M,style:{marginTop:"10px",position:"relative"},children:[a.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[a.jsxs("div",{style:{position:"relative",width:"280px"},children:[a.jsx("input",{type:"text",placeholder:"Type part number or product name...",value:m,onChange:se,onFocus:()=>I.length>0&&Y(!0),onBlur:()=>setTimeout(()=>Y(!1),200),style:{padding:"14px 40px 14px 14px",fontSize:"16px",border:"2px solid #1976d2",borderRadius:"8px",width:"100%",boxSizing:"border-box",backgroundColor:"white",color:"#333"}}),K&&a.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"16px"},children:""}),X&&I.length>0&&a.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"0 0 8px 8px",maxHeight:"250px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",textAlign:"left"},children:I.map(q=>a.jsxs("div",{onClick:()=>Le(q),style:{padding:"12px 14px",cursor:"pointer",borderBottom:"1px solid #eee",backgroundColor:"white"},onMouseEnter:J=>J.currentTarget.style.backgroundColor="#e3f2fd",onMouseLeave:J=>J.currentTarget.style.backgroundColor="white",children:[a.jsx("div",{style:{fontWeight:"bold",color:"#333"},children:q.name}),a.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[a.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#e3f2fd",padding:"2px 8px",borderRadius:"4px",color:"#1976d2",fontWeight:"bold"},children:q.part_number||q.barcode||"No Part #"}),a.jsxs("span",{style:{marginLeft:"10px"},children:["$",parseFloat(q.price||0).toFixed(2)]})]})]},q.id))})]}),a.jsx("button",{type:"submit",style:{padding:"14px 24px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:"16px",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.3)"},children:" Look Up"})]}),a.jsx("div",{style:{fontSize:"12px",color:"#888",marginTop:"10px"},children:' Tip: Try searching for "piston", "gasket", or part numbers like "RE-PK-350-STD"'})]})]})},DU=({barcode:t,productName:e,partNumber:r,price:n,showPrice:i=!0,labelSize:s="medium",onPrint:c})=>{const f=ee.useRef(null),[g,u]=ee.useState(null);ee.useEffect(()=>{if(t&&f.current)try{_E(f.current,t,{format:"CODE128",width:s==="small"?1.5:s==="large"?2.5:2,height:s==="small"?40:s==="large"?80:60,displayValue:!0,fontSize:s==="small"?12:s==="large"?18:14,margin:10,background:"#ffffff",lineColor:"#000000"}),u(null)}catch(v){u("Invalid barcode format"),console.error("Barcode generation error:",v)}},[t,s]);const m=()=>{var b;const v=window.open("","_blank");v&&(v.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Barcode Label - ${t}</title>
          <style>
            @media print {
              body { margin: 0; padding: 10mm; }
              .label { 
                page-break-after: always;
                text-align: center;
                font-family: Arial, sans-serif;
              }
              .label:last-child { page-break-after: auto; }
            }
            body { font-family: Arial, sans-serif; }
            .label {
              border: 1px dashed #ccc;
              padding: 10px;
              margin: 10px;
              display: inline-block;
              text-align: center;
            }
            .product-name {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 5px;
              max-width: 200px;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            }
            .part-number {
              font-size: 12px;
              color: #666;
            }
            .price {
              font-size: 16px;
              font-weight: bold;
              margin-top: 5px;
            }
          </style>
        </head>
        <body>
          <div class="label">
            <div class="product-name">${e||""}</div>
            ${r?`<div class="part-number">P/N: ${r}</div>`:""}
            ${((b=f.current)==null?void 0:b.outerHTML)||""}
            ${i&&n?`<div class="price">$${parseFloat(n).toFixed(2)}</div>`:""}
          </div>
          <script>window.onload = function() { window.print(); window.close(); }<\/script>
        </body>
        </html>
      `),v.document.close()),c&&c()};return t?a.jsx("div",{className:"barcode-generator",style:{textAlign:"center"},children:g?a.jsx("div",{className:"error",style:{color:"red",padding:"10px"},children:g}):a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:e}),r&&a.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["P/N: ",r]}),a.jsx("svg",{ref:f,style:{maxWidth:"100%"}}),i&&n&&a.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"5px"},children:["$",parseFloat(n).toFixed(2)]}),a.jsx("button",{onClick:m,style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Print Label"})]})}):a.jsx("div",{className:"barcode-placeholder",style:{padding:"20px",background:"#f0f0f0",borderRadius:"8px",textAlign:"center"},children:a.jsx("p",{children:"No barcode assigned"})})},PU=({message:t,type:e="info",duration:r=4e3,onDismiss:n})=>{const[i,s]=ee.useState(!0),[c,f]=ee.useState(!1);if(ee.useEffect(()=>{if(!t)return;const m=setTimeout(()=>{f(!0),setTimeout(()=>{s(!1),n&&n()},300)},r);return()=>clearTimeout(m)},[t,r,n]),!i||!t)return null;const u=(()=>{switch(e){case"success":return{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #4caf50",iconColor:"#4caf50",icon:""};case"error":return{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #f44336",iconColor:"#f44336",icon:""};case"warning":return{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #B8860B",iconColor:"#B8860B",icon:""};default:return{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #2196f3",iconColor:"#2196f3",icon:""}}})();return a.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:`translateX(-50%) translateY(${c?"100px":"0"})`,zIndex:1e4,width:"calc(100% - 40px)",maxWidth:"400px",padding:"16px 20px",borderRadius:"12px",background:u.background,border:u.border,boxShadow:"0 8px 32px rgba(0,0,0,0.4)",display:"flex",alignItems:"center",gap:"12px",transition:"transform 0.3s ease-out, opacity 0.3s ease-out",opacity:c?0:1,fontFamily:"'Oswald', sans-serif"},onClick:()=>{f(!0),setTimeout(()=>{s(!1),n&&n()},300)},children:[a.jsx("span",{style:{fontSize:"24px"},children:u.icon}),a.jsx("span",{style:{color:"#F5F0E1",fontSize:"14px",flex:1,lineHeight:"1.4"},children:t}),a.jsx("button",{style:{background:"transparent",border:"none",color:"#888",fontSize:"18px",cursor:"pointer",padding:"4px"},onClick:m=>{m.stopPropagation(),f(!0),setTimeout(()=>{s(!1),n&&n()},300)},children:""})]})},FU=()=>{var Jt,jr;const{user:t}=Ta(),e=t==null?void 0:t.warehouse_id,[r,n]=ee.useState("scan-send"),[i,s]=ee.useState([]),[c,f]=ee.useState([]),[g,u]=ee.useState([]),[m,v]=ee.useState(null),[b,_]=ee.useState(null),[C,A]=ee.useState(""),[j,L]=ee.useState("send"),[I,P]=ee.useState(!1),[X,Y]=ee.useState({type:"",text:""}),[K,G]=ee.useState({bin_number:"",description:"",capacity:100}),[V,z]=ee.useState(!1),[ie,W]=ee.useState(null),[H,ne]=ee.useState({name:"",code:"",address:"",city:"",state:"",zip:"",phone:"",notes:"",status:"active",latitude:"",longitude:"",assigned_admin_id:""}),[ve,me]=ee.useState([]),[he,be]=ee.useState([]),[Pe,Ae]=ee.useState(""),[se,Le]=ee.useState(1),[M,q]=ee.useState(null),[J,re]=ee.useState(!1),[le,Ue]=ee.useState(1),[Te,Me]=ee.useState([]),[Oe,ze]=ee.useState(""),[st,ct]=ee.useState([]),[Nt,it]=ee.useState(""),[fe,Ve]=ee.useState(!1),[rt,He]=ee.useState("bin"),[Ke,et]=ee.useState(null),[Dt,Mt]=ee.useState([]),[Xt,hr]=ee.useState([]),[ar,dr]=ee.useState(!1),[mr,Qt]=ee.useState(""),[Br,Kt]=ee.useState(!1),[Lr,fr]=ee.useState({product:null,fromBin:"",toBin:"",quantity:1}),[Vt,wr]=ee.useState(!1),[gr,Kr]=ee.useState({id:null,bin_number:"",description:""}),[Qr,ia]=ee.useState(!1),[Mn,Ir]=ee.useState(null),[Xn,Tn]=ee.useState(null),[Or,Dr]=ee.useState(null),Ea=(te,Et,Yt,tn)=>{const pr=(Yt-te)*Math.PI/180,sr=(tn-Et)*Math.PI/180,xr=Math.sin(pr/2)*Math.sin(pr/2)+Math.cos(te*Math.PI/180)*Math.cos(Yt*Math.PI/180)*Math.sin(sr/2)*Math.sin(sr/2);return 6371*(2*Math.atan2(Math.sqrt(xr),Math.sqrt(1-xr)))},rn=(te,Et)=>{if(!te||!Et||Et.length===0)return null;let Yt=null,tn=1/0;return Et.forEach(Rn=>{if(Rn.latitude&&Rn.longitude){const pr=Ea(te.latitude,te.longitude,parseFloat(Rn.latitude),parseFloat(Rn.longitude));pr<tn&&(tn=pr,Yt=er(kt({},Rn),{distance:Math.round(pr)}))}}),Yt},Ii=()=>{if(!navigator.geolocation){Dr("Geolocation not supported by your browser");return}navigator.geolocation.getCurrentPosition(te=>{const Et={latitude:te.coords.latitude,longitude:te.coords.longitude};Ir(Et),Dr(null);const Yt=rn(Et,i);Yt&&(Tn(Yt),A(String(Yt.id)),Y({type:"success",text:` Detected nearest warehouse: ${Yt.name} (${Yt.distance} km away)`}))},te=>{console.error("Geolocation error:",te),Dr("Unable to get your location. Please select warehouse manually.")},{enableHighAccuracy:!0,timeout:1e4})};ee.useEffect(()=>{Hi(),cn(),cr()},[]),ee.useEffect(()=>{const te=C||e;te&&gn(te)},[C,e]),ee.useEffect(()=>{we(null,null,function*(){if(e)try{const Et=yield af.getAll(e);be(Et.bins||[])}catch(Et){console.error("Error fetching admin bins:",Et)}})},[e]),ee.useEffect(()=>{r==="warehouse-inventory"&&e&&Te.length===0&&!fe&&jn(e,"")},[r,e]),ee.useEffect(()=>{r==="bin-management"&&e&&gn(e)},[r,e]);const Hi=()=>we(null,null,function*(){var te;try{const Et=yield $g.getAll();s(Et.warehouses||[]),((te=Et.warehouses)==null?void 0:te.length)>0&&!C&&A(Et.warehouses[0].id)}catch(Et){console.error("Error fetching warehouses:",Et)}}),cr=()=>we(null,null,function*(){try{const te=localStorage.getItem("token"),Et=yield fetch("/api/users?role=admin",{headers:{Authorization:`Bearer ${te}`}});if(Et.ok){const Yt=yield Et.json();me(Yt.users||[])}}catch(te){console.error("Error fetching admin users:",te)}}),gn=te=>we(null,null,function*(){try{const Et=yield af.getAll(te);f(Et.bins||[])}catch(Et){console.error("Error fetching bins:",Et)}}),cn=()=>we(null,null,function*(){try{const te={status:"in_transit"};e&&(te.warehouse_id=e);const Et=yield Xg.getAll(te);u(Et.movements||[])}catch(te){console.error("Error fetching movements:",te)}}),jn=(te,Et="")=>we(null,null,function*(){if(!te){Me([]);return}Ve(!0);try{const Yt=yield lU.getByWarehouse(te,Et);Me(Yt.bins||[]),ct([])}catch(Yt){console.error("Error fetching bin inventory:",Yt),Me([])}Ve(!1)}),en=(te,Et="")=>we(null,null,function*(){if(!te){hr([]);return}dr(!0);try{const tn=yield(yield Es(()=>Promise.resolve().then(()=>$1),void 0)).getProducts({warehouse_id:te,search:Et,limit:500});hr(tn.products||tn||[])}catch(Yt){console.error("Error fetching product inventory:",Yt),hr([])}dr(!1)}),On=()=>{var xr;const te=st.length>0?Te.filter((Sr,Rr)=>st.includes(Rr)):Te;if(te.length===0){Y({type:"error",text:"No bins to export"});return}const Et=((xr=i.find(Sr=>String(Sr.id)===Nt))==null?void 0:xr.name)||"Warehouse",Yt=new Date().toLocaleString();let tn=`Bin Inventory Report
${Et}
Generated: ${Yt}

`;tn+=`Bin Number,Part Numbers,Product Names,Unique Products,Total Quantity
`,te.forEach(Sr=>{tn+=`"${Sr.bin_number}","${Sr.part_numbers||""}","${Sr.product_names||""}",${Sr.unique_products},${Sr.total_quantity}
`});const Rn=new Blob([tn],{type:"text/csv"}),pr=URL.createObjectURL(Rn),sr=document.createElement("a");sr.href=pr,sr.download=`bin-inventory-${Et.replace(/\s+/g,"-")}-${new Date().toISOString().slice(0,10)}.csv`,sr.click(),URL.revokeObjectURL(pr),Y({type:"success",text:`Exported ${te.length} bins to Excel/CSV`})},ge=()=>{var pr;const te=st.length>0?Te.filter((sr,xr)=>st.includes(xr)):Te;if(te.length===0){Y({type:"error",text:"No bins to export"});return}const Et=((pr=i.find(sr=>String(sr.id)===Nt))==null?void 0:pr.name)||"Warehouse",Yt=new Date().toLocaleString(),tn=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Bin Inventory - ${Et}</title>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; }
                    h1 { color: #8B2332; border-bottom: 2px solid #B8860B; padding-bottom: 10px; }
                    h2 { color: #666; font-size: 14px; }
                    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                    th { background: #8B2332; color: white; padding: 10px; text-align: left; }
                    td { padding: 8px; border-bottom: 1px solid #ddd; }
                    tr:nth-child(even) { background: #f9f9f9; }
                    .footer { margin-top: 30px; font-size: 12px; color: #666; }
                </style>
            </head>
            <body>
                <h1> Bin Inventory Report</h1>
                <h2>Warehouse: ${Et}</h2>
                <h2>Generated: ${Yt}</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Bin Number</th>
                            <th>Part Numbers</th>
                            <th>Unique Products</th>
                            <th>Total Qty</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${te.map(sr=>`
                            <tr>
                                <td><strong>${sr.bin_number}</strong></td>
                                <td>${sr.part_numbers||"-"}</td>
                                <td>${sr.unique_products}</td>
                                <td>${sr.total_quantity}</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
                <div class="footer">
                    <p>Total Bins: ${te.length}</p>
                    <p>Sardaarji Autoparts - Inventory Management System</p>
                </div>
            </body>
            </html>
        `,Rn=window.open("","_blank");Rn.document.write(tn),Rn.document.close(),Rn.print(),Y({type:"success",text:`Exported ${te.length} bins to PDF`})},Se=(te,Et=null)=>we(null,null,function*(){var Yt;P(!0),Y({type:"",text:""}),_(null);try{if(Et)r==="scan-send"&&e&&String(Et.warehouse_id)!==String(e)?(v(null),Y({type:"warning",text:`Cannot send: Product is in ${Et.warehouse_name||"another warehouse"}, not your warehouse.`})):(v(Et),Le(1),Y({type:"success",text:`Found: ${Et.name} (Qty: ${Et.quantity})`}));else{const tn=yield Es(()=>Promise.resolve().then(()=>$1),void 0),Rn={search:te,limit:20};e&&(Rn.warehouse_id=e),console.log(" SEARCH DEBUG:",{adminWarehouseId:e,searchParams:Rn,userWarehouseId:t==null?void 0:t.warehouse_id});const pr=yield tn.getProducts(Rn),sr=pr.products||pr;console.log(" SEARCH RESULTS:",sr==null?void 0:sr.length,"products found, first:",(Yt=sr==null?void 0:sr[0])==null?void 0:Yt.warehouse_id);let xr=(sr==null?void 0:sr.filter(Sr=>{var Rr,Pn;return Sr.part_number===te||Sr.barcode===te||((Rr=Sr.part_number)==null?void 0:Rr.toLowerCase().includes(te.toLowerCase()))||((Pn=Sr.name)==null?void 0:Pn.toLowerCase().includes(te.toLowerCase()))}))||[];if(xr.length===0&&(sr==null?void 0:sr.length)>0&&(xr=[sr[0]]),xr.length>0)if(r==="scan-send"){const Sr=xr.find(Rr=>String(Rr.warehouse_id)===String(e));if(Sr)v(Sr),Le(1),Y({type:"success",text:`Found: ${Sr.name} (Qty: ${Sr.quantity} in your warehouse)`});else{const Rr=xr.map(Pn=>Pn.warehouse_name||`Warehouse ${Pn.warehouse_id}`).join(", ");v(null),Y({type:"warning",text:`Product not in your warehouse. Found in: ${Rr}. Switch to RECEIVE mode to add copies.`})}}else{const Sr=g.find(Rr=>{var Pn,Fn;return(Rr.part_number===te||Rr.barcode===te||((Pn=Rr.part_number)==null?void 0:Pn.toLowerCase().includes(te.toLowerCase()))||((Fn=Rr.barcode)==null?void 0:Fn.toLowerCase().includes(te.toLowerCase())))&&String(Rr.to_warehouse_id)===String(e)&&Rr.status==="in_transit"});if(Sr)q(Sr),Ue(Sr.quantity||1),v({id:Sr.product_id,name:Sr.product_name||te,part_number:Sr.part_number,barcode:Sr.barcode,quantity:Sr.quantity}),re(!1),_(null),Y({type:"success",text:` EXPECTED: ${Sr.product_name||te} (${Sr.quantity} units from ${Sr.from_warehouse_name}). Click RECEIVE.`});else if(xr.length>0){const Rr=xr[0];v(Rr),q(null),re(!0),Ue(1),Y({type:"warning",text:` UNEXPECTED: ${Rr.name} was not expected. Confirm to add to inventory.`})}else _(te),v(null),q(null),re(!0),Y({type:"warning",text:` No pending shipment or product found for: ${te}. Confirm to add as new.`})}else if(r==="scan-receive"){const Sr=g.find(Rr=>{var Pn,Fn;return(Rr.part_number===te||Rr.barcode===te||((Pn=Rr.part_number)==null?void 0:Pn.toLowerCase().includes(te.toLowerCase()))||((Fn=Rr.barcode)==null?void 0:Fn.toLowerCase().includes(te.toLowerCase())))&&String(Rr.to_warehouse_id)===String(e)&&Rr.status==="in_transit"});Sr?(q(Sr),Ue(Sr.quantity||1),v({id:Sr.product_id,name:Sr.product_name||te,part_number:Sr.part_number,barcode:Sr.barcode,quantity:Sr.quantity}),re(!1),_(null),Y({type:"success",text:` EXPECTED: ${Sr.product_name||te} (${Sr.quantity} units from ${Sr.from_warehouse_name}). Click RECEIVE.`})):(_(te),v(null),q(null),re(!0),Y({type:"warning",text:` No pending shipment for: ${te}. Confirm to add as new product.`}))}else _(te),v(null),Y({type:"warning",text:`Product not found for barcode: ${te}`})}}catch(tn){Y({type:"error",text:"Error scanning barcode"}),console.error("Scan error:",tn)}P(!1)}),Ce=te=>we(null,null,function*(){te.preventDefault();const Et=e||C;if(!Et||!K.bin_number){Y({type:"error",text:"Warehouse not assigned or bin number missing"});return}P(!0);try{const Yt=yield af.create(kt({warehouse_id:Et},K));Yt.bin?(Y({type:"success",text:`Bin "${Yt.bin.bin_number}" created successfully`}),G({bin_number:"",description:"",capacity:100}),yield gn(Et)):Y({type:"error",text:Yt.message||"Failed to create bin"})}catch(Yt){console.error("Error creating bin:",Yt),Y({type:"error",text:"Error creating bin: "+(Yt.message||"Unknown error")})}P(!1)}),je=te=>we(null,null,function*(){et(te),Mt([]);try{const Yt=yield(yield Es(()=>Promise.resolve().then(()=>$1),void 0)).getProducts({warehouse_id:e,bin_number:te.bin_number,limit:100});Mt(Yt.products||Yt||[])}catch(Et){console.error("Error fetching bin products:",Et),Mt([])}}),ke=te=>{Kr({id:te.id,bin_number:te.bin_number,description:te.description||""}),wr(!0)},Be=()=>we(null,null,function*(){if(!(!gr.id||!gr.bin_number)){P(!0);try{const te=yield af.update(gr.id,{bin_number:gr.bin_number,description:gr.description});te.bin?(Y({type:"success",text:`Bin renamed to "${te.bin.bin_number}"`}),wr(!1),yield gn(e)):Y({type:"error",text:te.message||"Failed to update bin"})}catch(te){Y({type:"error",text:"Error updating bin: "+te.message})}P(!1)}}),lt=te=>we(null,null,function*(){if(window.confirm("Are you sure you want to delete this bin?")){P(!0);try{const Et=yield af.delete(te);Y({type:"success",text:"Bin deleted successfully"}),wr(!1),et(null),yield gn(e)}catch(Et){Y({type:"error",text:"Error deleting bin: "+Et.message})}P(!1)}}),wt=(te,Et)=>{fr({product:te,fromBin:Et,toBin:"",quantity:1}),Kt(!0)},Je=()=>we(null,null,function*(){if(!Lr.product||!Lr.toBin||Lr.quantity<1){Y({type:"error",text:"Please select target bin and quantity"});return}P(!0);try{const Et=yield(yield Es(()=>Promise.resolve().then(()=>$1),void 0)).updateProduct(Lr.product.id,{bin_number:Lr.toBin});Et.product||Et.id?(Y({type:"success",text:`Moved to bin ${Lr.toBin}`}),Kt(!1),Ke&&je(Ke),yield gn(e)):Y({type:"error",text:Et.message||"Failed to shift product"})}catch(te){Y({type:"error",text:"Error shifting product: "+te.message})}P(!1)}),ht=te=>{Qt(te),ia(!1)},mt=()=>{ne({name:"",code:"",address:"",city:"",state:"",zip:"",phone:"",notes:"",status:"active"}),W(null),z(!1)},Ot=te=>{W(te),ne({name:te.name||"",code:te.code||"",address:te.address||"",city:te.city||"",state:te.state||"",zip:te.zip||"",phone:te.phone||"",notes:te.notes||"",status:te.status||"active",latitude:te.latitude||"",longitude:te.longitude||"",assigned_admin_id:te.admin_id?String(te.admin_id):""}),z(!0)},zt=te=>we(null,null,function*(){if(te.preventDefault(),!H.name||!H.code){Y({type:"error",text:"Name and Code are required"});return}P(!0);try{ie?(yield $g.update(kt({id:ie.id},H)),Y({type:"success",text:"Warehouse updated successfully"})):(yield $g.create(H),Y({type:"success",text:"Warehouse created successfully"})),mt(),Hi()}catch(Et){Y({type:"error",text:`Error ${ie?"updating":"creating"} warehouse`})}P(!1)}),Gt=te=>we(null,null,function*(){if(confirm(`Are you sure you want to delete warehouse "${te.name}"?`)){P(!0);try{yield $g.delete(te.id),Y({type:"success",text:"Warehouse deleted successfully"}),Hi()}catch(Et){Y({type:"error",text:"Error deleting warehouse"})}P(!1)}}),$t=[{id:"scan-send",label:" Scan & Send",icon:""},{id:"scan-receive",label:" Scan & Receive",icon:""},{id:"movements",label:" Movements",icon:""},{id:"warehouse-inventory",label:" Warehouse Inventory",icon:""},{id:"bin-management",label:" Bin Management",icon:""},...(t==null?void 0:t.role)==="superadmin"?[{id:"warehouses",label:" Warehouses",icon:""}]:[]];return a.jsxs("div",{className:"inventory-page",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[a.jsx("h1",{style:{marginBottom:"20px"},children:" Inventory Management"}),a.jsx(PU,{message:X.text,type:X.type,onDismiss:()=>Y({type:"",text:""})}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"20px",borderBottom:"2px solid #e0e0e0",paddingBottom:"10px",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:$t.map(te=>a.jsx("button",{onClick:()=>n(te.id),style:{padding:"10px 16px",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"13px",fontWeight:r===te.id?"bold":"normal",backgroundColor:r===te.id?"#1976d2":"#f5f5f5",color:r===te.id?"white":"#333",transition:"all 0.2s",whiteSpace:"nowrap",flex:"0 0 auto",minWidth:"fit-content"},children:te.label},te.id))}),a.jsxs("div",{className:"tab-content",children:[(r==="scan-send"||r==="scan-receive")&&a.jsx("div",{className:r==="scan-send"?"scan-send-tab":"scan-receive-tab",children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"20px"},className:"md:grid-cols-2",children:[a.jsxs("div",{style:{padding:"20px",background:r==="scan-send"?"#fff3e0":"#e8f5e9",borderRadius:"8px",border:`2px solid ${r==="scan-send"?"#ff9800":"#4caf50"}`},children:[a.jsx("h3",{style:{marginBottom:"15px",color:r==="scan-send"?"#e65100":"#2e7d32"},children:r==="scan-send"?" Scan Product to SEND":" Scan Product to RECEIVE"}),a.jsx("p",{style:{marginBottom:"15px",color:"#666",fontSize:"14px"},children:r==="scan-send"?"Scan a product from YOUR warehouse to send to another warehouse.":"Scan a product to receive. Expected items will auto-match pending shipments."}),a.jsx(A3,{warehouseId:e,onScan:(te,Et)=>{L(r==="scan-send"?"send":"receive"),Se(te,Et)},autoStart:!1})]}),a.jsxs("div",{style:{padding:"20px",background:"#f5f5f5",borderRadius:"8px"},children:[a.jsx("h3",{style:{marginBottom:"15px"},children:"Scanned Product"}),I&&a.jsx("p",{children:"Loading..."}),m?a.jsxs("div",{children:[a.jsx(DU,{barcode:m.barcode,productName:m.name,partNumber:m.part_number,price:m.price,labelSize:"small"}),a.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"white",borderRadius:"4px"},children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Name:"})," ",m.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Part #:"})," ",m.part_number||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Price:"})," $",parseFloat(m.price).toFixed(2)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Quantity:"})," ",a.jsxs("span",{style:{color:m.quantity>0?"#4caf50":"#f44336",fontWeight:"bold"},children:[m.quantity," in stock"]})]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Current Location:"})," ",m.warehouse_name||"Not assigned"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Bin:"})," ",m.bin_number||"Not assigned"]})]}),a.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:r==="scan-send"?"#fff3e0":"#e8f5e9",borderRadius:"8px",border:`1px solid ${r==="scan-send"?"#ff9800":"#4caf50"}`},children:[a.jsx("h4",{style:{marginBottom:"15px",color:r==="scan-send"?"#e65100":"#2e7d32"},children:r==="scan-send"?" Send to Warehouse":" Receive at Your Warehouse"}),r==="scan-send"&&a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("button",{onClick:Ii,style:{padding:"10px 15px",backgroundColor:"#9c27b0",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",width:"100%",marginBottom:"10px"},children:" Detect My Location & Find Nearest Warehouse"}),Xn&&a.jsxs("div",{style:{padding:"10px",background:"#e8f5e9",borderRadius:"4px",marginBottom:"10px",border:"1px solid #4caf50"},children:[a.jsxs("strong",{style:{color:"#2e7d32"},children:[" Nearest: ",Xn.name]}),a.jsxs("span",{style:{marginLeft:"10px",color:"#666"},children:["(",Xn.distance," km away)"]})]}),Or&&a.jsxs("div",{style:{padding:"10px",background:"#ffebee",borderRadius:"4px",color:"#c62828",fontSize:"13px"},children:[" ",Or]})]}),r==="scan-send"?a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Destination Warehouse:"}),a.jsxs("select",{value:C,onChange:te=>A(te.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #ddd",background:"white"},children:[a.jsx("option",{value:"",children:"-- Select Warehouse --"}),i.filter(te=>te.id!==(m==null?void 0:m.warehouse_id)).map(te=>a.jsxs("option",{value:te.id,children:[te.name," ",te.location?`(${te.location})`:"",Xn&&Xn.id===te.id?"  NEAREST":""]},te.id))]}),a.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",borderRadius:"8px",border:"1px solid #B8860B"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[a.jsx("div",{children:a.jsx("span",{style:{color:"#B8860B",fontWeight:"bold",fontSize:"14px"},children:" Stock in Warehouse:"})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[a.jsx("span",{style:{color:"#4caf50",fontWeight:"bold",fontSize:"24px"},children:(m==null?void 0:m.quantity)||0}),a.jsx("span",{style:{color:"#F5F0E1",fontSize:"12px"},children:"remaining"})]})]}),a.jsx("div",{style:{marginTop:"10px",fontSize:"12px",color:"#888"},children:" Each scan sends 1 item. Scan same product again to send more."})]})]}):a.jsxs("div",{style:{marginBottom:"15px",padding:"15px",backgroundColor:"#e8f5e9",borderRadius:"8px",border:"1px solid #4caf50"},children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#2e7d32"},children:" Receiving at Your Warehouse:"}),e?a.jsx("p",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#1b5e20"},children:((Jt=i.find(te=>String(te.id)===String(e)))==null?void 0:Jt.name)||"Your assigned warehouse"}):a.jsx("p",{style:{margin:0,color:"#c62828"},children:" No warehouse assigned to your account. Contact administrator."}),e&&he.length>0&&a.jsxs("div",{style:{marginTop:"15px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#2e7d32"},children:" Assign to Bin:"}),a.jsxs("select",{value:Pe,onChange:te=>Ae(te.target.value),style:{width:"100%",padding:"10px",borderRadius:"4px",border:"1px solid #4caf50",backgroundColor:"white"},children:[a.jsx("option",{value:"",children:"-- Select Bin (Optional) --"}),he.map(te=>a.jsxs("option",{value:te.bin_number,children:[te.bin_number," ",te.description?`(${te.description})`:""]},te.id))]})]}),e&&he.length===0&&a.jsx("p",{style:{marginTop:"10px",fontSize:"12px",color:"#666",fontStyle:"italic"},children:"No bins configured for this warehouse. Product will be received without bin assignment."})]}),a.jsx("button",{onClick:()=>we(null,null,function*(){if(r==="scan-send"&&!C){Y({type:"error",text:"Please select a destination warehouse"});return}if(r==="scan-receive"&&!e){Y({type:"error",text:"No warehouse assigned to your account. Contact administrator."});return}P(!0);try{if(r==="scan-send"){if(m.quantity<1){Y({type:"error",text:"Cannot send - no stock available (0 remaining)."}),P(!1);return}yield Xg.ship([m.id],m.warehouse_id,C,"Shipped 1 via barcode scan",1);const te=i.find(Et=>String(Et.id)===C);Y({type:"success",text:` 1 unit shipped to ${(te==null?void 0:te.name)||"destination"}! (${m.quantity-1} remaining)`})}else{const te=i.find(Et=>String(Et.id)===String(e));M?(yield Xg.receive({movementId:M.id,binNumber:Pe||null,warehouseId:e}),Y({type:"success",text:` Received ${le} unit(s) from ${M.from_warehouse_name}${Pe?` (Bin: ${Pe})`:""}!`}),q(null)):J&&(yield Xg.addUnexpected({partNumber:m.part_number,warehouseId:e,binNumber:Pe||null,quantity:le}),Y({type:"success",text:` Added ${le} unexpected unit(s) to ${(te==null?void 0:te.name)||"your warehouse"}${Pe?` (Bin: ${Pe})`:""}!`}),re(!1)),Ae(""),Ue(1),cn()}v(null)}catch(te){Y({type:"error",text:`Failed to ${j} product`})}P(!1)}),disabled:I||r==="scan-send"&&!C||r==="scan-receive"&&!e,style:{width:"100%",padding:"15px",backgroundColor:r==="scan-send"?"#ff9800":J?"#f44336":"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:I?"not-allowed":"pointer",opacity:I||r==="scan-send"&&!C||r==="scan-receive"&&!e?.6:1,fontWeight:"bold",fontSize:"16px"},children:I?"Processing...":r==="scan-send"?" SEND TO WAREHOUSE":J?" CONFIRM & ADD UNEXPECTED":" RECEIVE EXPECTED SHIPMENT"})]})]}):b?a.jsxs("div",{style:{padding:"20px",background:"#fff3e0",border:"1px solid #ffb74d",borderRadius:"8px"},children:[a.jsx("h4",{style:{color:"#e65100",marginBottom:"15px"},children:" Product Not Found"}),a.jsxs("p",{style:{marginBottom:"10px",color:"#333"},children:[a.jsx("strong",{children:"Scanned Barcode:"}),a.jsx("span",{style:{fontFamily:"monospace",marginLeft:"10px",padding:"4px 8px",background:"#fff",borderRadius:"4px"},children:b})]}),a.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"This product is not in the inventory. Choose an action:"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[a.jsx("a",{href:`/admin/products/add?part_number=${encodeURIComponent(b)}`,style:{display:"flex",alignItems:"center",padding:"12px 20px",backgroundColor:"#4caf50",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"bold"},children:" Create New Product (with barcode pre-filled)"}),a.jsx("button",{onClick:()=>{_(null),Y({type:"",text:""})},style:{padding:"12px 20px",backgroundColor:"#e0e0e0",color:"#333",border:"none",borderRadius:"8px",cursor:"pointer"},children:" Cancel / Scan Another"})]}),a.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"white",borderRadius:"6px",fontSize:"14px",color:"#666"},children:[a.jsx("strong",{style:{color:"#1976d2"},children:" Tip:"})," If this is an existing product that should be in inventory, check if the part number or barcode is entered correctly in the product details."]})]}):a.jsx("p",{style:{color:"#666"},children:"Scan a barcode to see product details"})]})]})}),r==="movements"&&a.jsxs("div",{className:"movements-tab",children:[a.jsxs("h3",{children:["In-Transit Shipments (",g.length,")"]}),g.length===0?a.jsx("p",{style:{color:"#666",padding:"20px"},children:"No shipments in transit"}):a.jsx("div",{style:{overflowX:"auto",maxWidth:"100%"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"15px",minWidth:"800px"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"Product"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"Part#"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"From"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"To"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"Status"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"Shipped"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"Duration"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"Dispatcher"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #B8860B",color:"#B8860B"},children:"Receiver"})]})}),a.jsx("tbody",{children:g.map(te=>{const Et=te.shipped_at?new Date(te.shipped_at):new Date(te.created_at),Yt=new Date,Rn=(te.status==="completed"&&te.received_at?new Date(te.received_at):Yt)-Et,pr=Math.floor(Rn/(1e3*60*60*24)),sr=Math.floor(Rn%(1e3*60*60*24)/(1e3*60*60)),xr=pr>0?`${pr}d ${sr}h`:`${sr}h`;return a.jsxs("tr",{style:{borderBottom:"1px solid rgba(184, 134, 11, 0.3)",background:"#1a1a1a"},children:[a.jsx("td",{style:{padding:"12px",color:"#F5F0E1"},children:te.product_name}),a.jsx("td",{style:{padding:"12px",fontFamily:"monospace",color:"#B8860B"},children:te.part_number||te.barcode}),a.jsx("td",{style:{padding:"12px",color:"#F5F0E1"},children:te.from_warehouse_name}),a.jsx("td",{style:{padding:"12px",color:"#F5F0E1"},children:te.to_warehouse_name}),a.jsx("td",{style:{padding:"12px"},children:a.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:te.status==="in_transit"?"rgba(184, 134, 11, 0.3)":"rgba(76, 175, 80, 0.3)",color:te.status==="in_transit"?"#B8860B":"#4caf50",border:`1px solid ${te.status==="in_transit"?"#B8860B":"#4caf50"}`},children:te.status})}),a.jsx("td",{style:{padding:"12px",color:"#888",fontSize:"12px"},children:Et.toLocaleString()}),a.jsx("td",{style:{padding:"12px",fontSize:"12px"},children:a.jsx("span",{style:{color:te.status==="in_transit"?pr>3?"#f44336":"#B8860B":"#4caf50",fontWeight:"bold"},children:xr})}),a.jsx("td",{style:{padding:"12px",color:"#4caf50",fontSize:"12px"},children:te.created_by_name||"-"}),a.jsx("td",{style:{padding:"12px",color:"#4caf50",fontSize:"12px"},children:te.received_by_name||(te.status==="completed"?"Unknown":"-")})]},te.id)})})]})})]}),r==="warehouse-inventory"&&a.jsxs("div",{className:"warehouse-inventory-tab",children:[a.jsxs("div",{style:{marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",borderRadius:"12px",border:"1px solid #B8860B"},children:[a.jsx("strong",{style:{color:"#B8860B",fontFamily:"'Oswald', sans-serif",fontSize:"18px"},children:" Your Warehouse:"}),a.jsx("span",{style:{marginLeft:"10px",color:"#F5F0E1",fontSize:"18px"},children:((jr=i.find(te=>String(te.id)===String(e)))==null?void 0:jr.name)||"Not assigned"})]}),(t==null?void 0:t.role)==="superadmin"&&a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{marginRight:"10px",color:"#F5F0E1"},children:"View Other Warehouse:"}),a.jsx("select",{value:C||e||"",onChange:te=>A(te.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #B8860B",backgroundColor:"#1a1a1a",color:"#F5F0E1"},children:i.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))})]}),a.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",alignItems:"center"},children:[a.jsx("span",{style:{color:"#B8860B",fontWeight:"bold"},children:"View:"}),a.jsx("button",{onClick:()=>{He("bin"),e&&jn(e,Oe)},style:{padding:"10px 20px",borderRadius:"6px",border:rt==="bin"?"2px solid #B8860B":"1px solid #555",background:rt==="bin"?"linear-gradient(135deg, #B8860B, #8B6914)":"#1a1a1a",color:rt==="bin"?"#1a1a1a":"#888",cursor:"pointer",fontWeight:"bold",fontFamily:"'Oswald', sans-serif"},children:" By Bin"}),a.jsx("button",{onClick:()=>{He("product"),e&&en(e,Oe)},style:{padding:"10px 20px",borderRadius:"6px",border:rt==="product"?"2px solid #B8860B":"1px solid #555",background:rt==="product"?"linear-gradient(135deg, #B8860B, #8B6914)":"#1a1a1a",color:rt==="product"?"#1a1a1a":"#888",cursor:"pointer",fontWeight:"bold",fontFamily:"'Oswald', sans-serif"},children:" By Product"})]}),a.jsxs("div",{style:{marginBottom:"15px",padding:"12px",background:"rgba(184, 134, 11, 0.1)",borderRadius:"8px",border:"1px dashed #B8860B"},children:[a.jsx("span",{style:{color:"#888",fontSize:"12px"},children:" To create or manage bins, go to the "}),a.jsx("button",{onClick:()=>n("bin-management"),style:{background:"none",border:"none",color:"#B8860B",cursor:"pointer",textDecoration:"underline",fontSize:"12px"},children:"Bin Management"}),a.jsx("span",{style:{color:"#888",fontSize:"12px"},children:" tab"})]}),rt==="bin"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"15px"},children:c.map(te=>a.jsxs("div",{onClick:()=>je(te),style:{padding:"20px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #B8860B",borderRadius:"12px",textAlign:"center",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseOver:Et=>{Et.currentTarget.style.transform="scale(1.05)",Et.currentTarget.style.boxShadow="0 4px 20px rgba(184, 134, 11, 0.4)"},onMouseOut:Et=>{Et.currentTarget.style.transform="scale(1)",Et.currentTarget.style.boxShadow="none"},children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#B8860B",fontFamily:"'Oswald', sans-serif"},children:te.bin_number}),a.jsxs("div",{style:{fontSize:"14px",color:"#4caf50",marginTop:"8px",fontWeight:"bold"},children:[te.product_count||0," items"]}),te.description&&a.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"5px"},children:te.description}),a.jsx("div",{style:{fontSize:"10px",color:"#555",marginTop:"8px"},children:"Click to view products"})]},te.id))}),a.jsxs("div",{style:{marginTop:"30px",padding:"25px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",borderRadius:"12px",border:"1px solid #B8860B"},children:[a.jsx("h4",{style:{marginBottom:"20px",color:"#B8860B",fontFamily:"'Oswald', sans-serif",fontSize:"18px"},children:" Products by Bin"}),a.jsx("div",{style:{marginBottom:"15px"},children:a.jsx("input",{type:"text",placeholder:" Search by part number, name, or bin (live search)...",value:Oe,onChange:te=>{ze(te.target.value),e&&jn(e,te.target.value)},style:{width:"100%",padding:"12px 15px",borderRadius:"6px",border:"1px solid #B8860B",background:"#1a1a1a",color:"#F5F0E1",fontSize:"14px"}})}),Te.length===0&&!fe&&e&&a.jsx("div",{style:{textAlign:"center",padding:"30px",color:"#B8860B"},children:"Loading inventory..."}),Te.length>0&&a.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"rgba(184, 134, 11, 0.15)",borderRadius:"8px",border:"1px solid #B8860B",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[a.jsxs("div",{style:{color:"#F5F0E1"},children:[a.jsx("span",{style:{fontSize:"14px"},children:"Total Bins:"}),a.jsx("span",{style:{marginLeft:"10px",fontWeight:"bold",color:"#B8860B",fontSize:"18px"},children:Te.length})]}),a.jsxs("div",{style:{color:"#F5F0E1"},children:[a.jsx("span",{style:{fontSize:"14px"},children:"Gross Total Items:"}),a.jsx("span",{style:{marginLeft:"10px",fontWeight:"bold",color:"#4caf50",fontSize:"20px"},children:Te.reduce((te,Et)=>te+(parseInt(Et.total_quantity)||0),0)})]})]}),fe?a.jsx("p",{style:{textAlign:"center",padding:"30px",color:"#B8860B"},children:"Loading inventory..."}):Te.length>0?a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"rgba(184, 134, 11, 0.3)"},children:[a.jsx("th",{style:{padding:"14px",textAlign:"left",color:"#B8860B",fontFamily:"'Oswald', sans-serif",borderBottom:"2px solid #B8860B"},children:"Bin"}),a.jsx("th",{style:{padding:"14px",textAlign:"left",color:"#B8860B",fontFamily:"'Oswald', sans-serif",borderBottom:"2px solid #B8860B"},children:"Part Numbers"}),a.jsx("th",{style:{padding:"14px",textAlign:"right",color:"#B8860B",fontFamily:"'Oswald', sans-serif",borderBottom:"2px solid #B8860B"},children:"Total Items"})]})}),a.jsx("tbody",{children:Te.map((te,Et)=>a.jsxs("tr",{style:{borderBottom:"1px solid rgba(184, 134, 11, 0.3)",background:Et%2===0?"transparent":"rgba(0,0,0,0.2)"},children:[a.jsx("td",{style:{padding:"14px",fontWeight:"bold",color:"#B8860B"},children:te.bin_number||"No Bin"}),a.jsx("td",{style:{padding:"14px",maxWidth:"400px",wordBreak:"break-word",color:"#F5F0E1"},children:te.part_numbers}),a.jsx("td",{style:{padding:"14px",textAlign:"right",fontWeight:"bold",color:"#4caf50",fontSize:"16px"},children:te.total_quantity})]},Et))})]})}):null]})]}),rt==="product"&&a.jsxs("div",{style:{padding:"25px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",borderRadius:"12px",border:"1px solid #B8860B"},children:[a.jsx("h4",{style:{marginBottom:"20px",color:"#B8860B",fontFamily:"'Oswald', sans-serif",fontSize:"18px"},children:" Products in Warehouse"}),a.jsx("div",{style:{marginBottom:"15px"},children:a.jsx("input",{type:"text",placeholder:" Search products...",value:Oe,onChange:te=>{ze(te.target.value),e&&en(e,te.target.value)},style:{width:"100%",padding:"12px 15px",borderRadius:"6px",border:"1px solid #B8860B",background:"#1a1a1a",color:"#F5F0E1",fontSize:"14px"}})}),Xt.length>0&&a.jsxs("div",{style:{marginBottom:"20px",padding:"15px",background:"rgba(184, 134, 11, 0.15)",borderRadius:"8px",border:"1px solid #B8860B",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[a.jsxs("div",{style:{color:"#F5F0E1"},children:[a.jsx("span",{style:{fontSize:"14px"},children:"Total Products:"}),a.jsx("span",{style:{marginLeft:"10px",fontWeight:"bold",color:"#B8860B",fontSize:"18px"},children:Xt.length})]}),a.jsxs("div",{style:{color:"#F5F0E1"},children:[a.jsx("span",{style:{fontSize:"14px"},children:"Total Stock:"}),a.jsx("span",{style:{marginLeft:"10px",fontWeight:"bold",color:"#4caf50",fontSize:"20px"},children:Xt.reduce((te,Et)=>te+(parseInt(Et.quantity)||0),0)})]})]}),ar?a.jsx("p",{style:{textAlign:"center",padding:"30px",color:"#B8860B"},children:"Loading products..."}):Xt.length>0?a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"rgba(184, 134, 11, 0.3)"},children:[a.jsx("th",{style:{padding:"14px",textAlign:"left",color:"#B8860B",borderBottom:"2px solid #B8860B"},children:"Part Number"}),a.jsx("th",{style:{padding:"14px",textAlign:"left",color:"#B8860B",borderBottom:"2px solid #B8860B"},children:"Name"}),a.jsx("th",{style:{padding:"14px",textAlign:"left",color:"#B8860B",borderBottom:"2px solid #B8860B"},children:"Bin"}),a.jsx("th",{style:{padding:"14px",textAlign:"right",color:"#B8860B",borderBottom:"2px solid #B8860B"},children:"Qty"}),a.jsx("th",{style:{padding:"14px",textAlign:"right",color:"#B8860B",borderBottom:"2px solid #B8860B"},children:"Price"})]})}),a.jsx("tbody",{children:Xt.map((te,Et)=>a.jsxs("tr",{style:{borderBottom:"1px solid rgba(184, 134, 11, 0.3)",background:Et%2===0?"transparent":"rgba(0,0,0,0.2)"},children:[a.jsx("td",{style:{padding:"14px",fontWeight:"bold",color:"#B8860B"},children:te.part_number||"-"}),a.jsx("td",{style:{padding:"14px",color:"#F5F0E1"},children:te.name}),a.jsx("td",{style:{padding:"14px",color:"#888"},children:te.bin_number||"No Bin"}),a.jsx("td",{style:{padding:"14px",textAlign:"right",fontWeight:"bold",color:"#4caf50",fontSize:"16px"},children:te.quantity}),a.jsxs("td",{style:{padding:"14px",textAlign:"right",color:"#F5F0E1"},children:["$",parseFloat(te.price||0).toFixed(2)]})]},te.id))})]})}):a.jsx("p",{style:{textAlign:"center",padding:"30px",color:"#888"},children:'No products. Click "By Product" to load.'})]})]}),r==="bin-management"&&a.jsxs("div",{className:"bin-management-tab",children:[a.jsxs("div",{style:{marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",borderRadius:"12px",border:"1px solid #B8860B"},children:[a.jsx("h3",{style:{color:"#B8860B",fontFamily:"'Oswald', sans-serif",marginBottom:"15px"},children:" Create New Bin"}),a.jsxs("form",{onSubmit:Ce,style:{display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"flex-end"},children:[a.jsxs("div",{style:{flex:"1",minWidth:"150px"},children:[a.jsx("label",{style:{display:"block",color:"#F5F0E1",marginBottom:"5px",fontSize:"12px"},children:"Bin Number *"}),a.jsx("input",{type:"text",placeholder:"e.g., A-01",value:K.bin_number,onChange:te=>G(er(kt({},K),{bin_number:te.target.value})),style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #B8860B",backgroundColor:"#1a1a1a",color:"#F5F0E1"},required:!0})]}),a.jsxs("div",{style:{flex:"2",minWidth:"200px"},children:[a.jsx("label",{style:{display:"block",color:"#F5F0E1",marginBottom:"5px",fontSize:"12px"},children:"Description"}),a.jsx("input",{type:"text",placeholder:"Description (optional)",value:K.description,onChange:te=>G(er(kt({},K),{description:te.target.value})),style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #B8860B",backgroundColor:"#1a1a1a",color:"#F5F0E1"}})]}),a.jsx("button",{type:"submit",disabled:I,style:{padding:"12px 24px",background:"linear-gradient(135deg, #B8860B, #8B6914)",color:"#1a1a1a",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontFamily:"'Oswald', sans-serif"},children:"+ Create Bin"})]})]}),a.jsxs("div",{style:{padding:"20px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",borderRadius:"12px",border:"1px solid #B8860B"},children:[a.jsxs("h3",{style:{color:"#B8860B",fontFamily:"'Oswald', sans-serif",marginBottom:"15px"},children:[" Bin Rack Layout (",c.length," bins)"]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("input",{type:"text",placeholder:" Search by bin number...",value:mr,onChange:te=>Qt(te.target.value),style:{width:"100%",padding:"12px 15px",borderRadius:"6px",border:"1px solid #B8860B",background:"#1a1a1a",color:"#F5F0E1",fontSize:"14px"}}),a.jsx("button",{onClick:()=>ia(!0),style:{padding:"12px 20px",background:"linear-gradient(135deg, #B8860B, #8B6914)",color:"#1a1a1a",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"14px"},children:" Scan"})]}),Qr&&a.jsxs("div",{style:{marginBottom:"15px",padding:"15px",background:"rgba(184, 134, 11, 0.1)",borderRadius:"8px",border:"1px solid #B8860B"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[a.jsx("span",{style:{color:"#B8860B",fontWeight:"bold"},children:" Scanner Active"}),a.jsx("button",{onClick:()=>ia(!1),style:{background:"transparent",border:"none",color:"#888",cursor:"pointer"},children:""})]}),a.jsx(A3,{onScan:te=>ht(te),onError:te=>console.error("Scanner error:",te)})]}),a.jsx("p",{style:{color:"#888",fontSize:"12px",marginBottom:"15px"},children:"Click on a bin to view its contents"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"12px"},children:[c.filter(te=>!mr||te.bin_number.toLowerCase().includes(mr.toLowerCase())).map(te=>a.jsxs("div",{onClick:()=>je(te),style:{padding:"15px",background:"rgba(184, 134, 11, 0.1)",border:"2px solid #B8860B",borderRadius:"8px",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},onMouseOver:Et=>{Et.currentTarget.style.background="rgba(184, 134, 11, 0.3)",Et.currentTarget.style.transform="scale(1.02)"},onMouseOut:Et=>{Et.currentTarget.style.background="rgba(184, 134, 11, 0.1)",Et.currentTarget.style.transform="scale(1)"},children:[a.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#B8860B"},children:te.bin_number}),a.jsxs("div",{style:{fontSize:"12px",color:"#4caf50",marginTop:"5px"},children:[te.product_count||0," items"]})]},te.id)),c.length===0&&a.jsx("p",{style:{color:"#888",gridColumn:"1 / -1",textAlign:"center",padding:"30px"},children:"No bins created yet. Create your first bin above."})]})]})]}),Ke&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:()=>et(null),children:a.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #B8860B",borderRadius:"12px",padding:"25px",maxWidth:"650px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:te=>te.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsxs("h3",{style:{color:"#B8860B",fontFamily:"'Oswald', sans-serif",margin:0},children:[" Bin ",Ke.bin_number]}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsx("button",{onClick:()=>ke(Ke),style:{padding:"6px 12px",background:"#B8860B",color:"#1a1a1a",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px"},children:" Edit"}),a.jsx("button",{onClick:()=>lt(Ke.id),style:{padding:"6px 12px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"12px"},children:" Delete"}),a.jsx("button",{onClick:()=>et(null),style:{background:"transparent",border:"none",color:"#888",fontSize:"24px",cursor:"pointer"},children:""})]})]}),Ke.description&&a.jsx("p",{style:{color:"#888",fontSize:"14px",marginBottom:"15px"},children:Ke.description}),a.jsx("div",{style:{color:"#F5F0E1"},children:Dt.length===0?a.jsx("p",{style:{textAlign:"center",padding:"30px",color:"#888"},children:"Loading products... or this bin is empty"}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Dt.map(te=>a.jsxs("div",{style:{padding:"12px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",border:"1px solid rgba(184, 134, 11, 0.3)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"bold",color:"#F5F0E1"},children:te.name||te.part_number}),a.jsx("div",{style:{fontSize:"12px",color:"#B8860B"},children:te.part_number})]}),a.jsxs("div",{style:{textAlign:"center",marginRight:"15px"},children:[a.jsx("div",{style:{fontWeight:"bold",color:"#4caf50",fontSize:"18px"},children:te.quantity}),a.jsx("div",{style:{fontSize:"10px",color:"#888"},children:"in stock"})]}),a.jsx("button",{onClick:()=>wt(te,Ke.bin_number),style:{padding:"8px 12px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"bold"},children:" Shift"})]},te.id))})})]})}),Vt&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:()=>wr(!1),children:a.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #B8860B",borderRadius:"12px",padding:"25px",maxWidth:"400px",width:"100%"},onClick:te=>te.stopPropagation(),children:[a.jsx("h3",{style:{color:"#B8860B",fontFamily:"'Oswald', sans-serif",marginBottom:"20px"},children:" Edit Bin"}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("label",{style:{display:"block",color:"#F5F0E1",marginBottom:"5px",fontSize:"12px"},children:"Bin Number"}),a.jsx("input",{type:"text",value:gr.bin_number,onChange:te=>Kr(er(kt({},gr),{bin_number:te.target.value})),style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #B8860B",backgroundColor:"#1a1a1a",color:"#F5F0E1"}})]}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{display:"block",color:"#F5F0E1",marginBottom:"5px",fontSize:"12px"},children:"Description"}),a.jsx("input",{type:"text",value:gr.description,onChange:te=>Kr(er(kt({},gr),{description:te.target.value})),style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #B8860B",backgroundColor:"#1a1a1a",color:"#F5F0E1"}})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>wr(!1),style:{padding:"10px 20px",background:"#555",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:Be,disabled:I,style:{padding:"10px 20px",background:"#B8860B",color:"#1a1a1a",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:I?"Saving...":"Save Changes"})]})]})}),Br&&Lr.product&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:()=>Kt(!1),children:a.jsxs("div",{style:{background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",border:"2px solid #2196F3",borderRadius:"12px",padding:"25px",maxWidth:"450px",width:"100%"},onClick:te=>te.stopPropagation(),children:[a.jsx("h3",{style:{color:"#2196F3",fontFamily:"'Oswald', sans-serif",marginBottom:"20px"},children:" Shift Product"}),a.jsxs("div",{style:{padding:"15px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",marginBottom:"20px"},children:[a.jsx("div",{style:{fontWeight:"bold",color:"#F5F0E1"},children:Lr.product.name||Lr.product.part_number}),a.jsx("div",{style:{fontSize:"12px",color:"#B8860B"},children:Lr.product.part_number}),a.jsxs("div",{style:{fontSize:"12px",color:"#888",marginTop:"5px"},children:["Current stock: ",Lr.product.quantity]})]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("label",{style:{display:"block",color:"#F5F0E1",marginBottom:"5px",fontSize:"12px"},children:"From Bin"}),a.jsx("input",{type:"text",value:Lr.fromBin,disabled:!0,style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #555",backgroundColor:"#333",color:"#888"}})]}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("label",{style:{display:"block",color:"#F5F0E1",marginBottom:"5px",fontSize:"12px"},children:"To Bin *"}),a.jsxs("select",{value:Lr.toBin,onChange:te=>fr(er(kt({},Lr),{toBin:te.target.value})),style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #2196F3",backgroundColor:"#1a1a1a",color:"#F5F0E1"},children:[a.jsx("option",{value:"",children:"Select target bin..."}),c.filter(te=>te.bin_number!==Lr.fromBin).map(te=>a.jsx("option",{value:te.bin_number,children:te.bin_number},te.id))]})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>Kt(!1),style:{padding:"10px 20px",background:"#555",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:Je,disabled:I||!Lr.toBin,style:{padding:"10px 20px",background:"#2196F3",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"},children:I?"Moving...":"Move to Bin"})]})]})}),r==="warehouses"&&a.jsxs("div",{className:"warehouses-tab",children:[a.jsx("div",{style:{marginBottom:"20px"},children:a.jsx("button",{onClick:()=>z(!0),style:{padding:"12px 24px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"+ Add Warehouse"})}),V&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"12px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},children:[a.jsx("h2",{style:{marginBottom:"20px",color:"#333"},children:ie?"Edit Warehouse":"Add New Warehouse"}),a.jsxs("form",{onSubmit:zt,children:[a.jsxs("div",{style:{display:"grid",gap:"15px"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Name *"}),a.jsx("input",{type:"text",value:H.name,onChange:te=>ne(er(kt({},H),{name:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"},required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Code *"}),a.jsx("input",{type:"text",value:H.code,onChange:te=>ne(er(kt({},H),{code:te.target.value.toUpperCase()})),placeholder:"e.g., WH-01",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"},required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Address"}),a.jsx("input",{type:"text",value:H.address,onChange:te=>ne(er(kt({},H),{address:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"15px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"City"}),a.jsx("input",{type:"text",value:H.city,onChange:te=>ne(er(kt({},H),{city:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"State"}),a.jsx("input",{type:"text",value:H.state,onChange:te=>ne(er(kt({},H),{state:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"ZIP"}),a.jsx("input",{type:"text",value:H.zip,onChange:te=>ne(er(kt({},H),{zip:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Phone"}),a.jsx("input",{type:"tel",value:H.phone,onChange:te=>ne(er(kt({},H),{phone:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Status"}),a.jsxs("select",{value:H.status,onChange:te=>ne(er(kt({},H),{status:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"},children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{style:{padding:"15px",background:"#fff3e0",borderRadius:"8px",border:"1px solid #ff9800"},children:[a.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#e65100"},children:" Assign Warehouse Admin"}),a.jsxs("select",{value:H.assigned_admin_id,onChange:te=>ne(er(kt({},H),{assigned_admin_id:te.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"},children:[a.jsx("option",{value:"",children:"-- No Admin Assigned --"}),ve.filter(te=>!!(!te.warehouse_id||ie&&String(te.warehouse_id)===String(ie.id))).map(te=>a.jsxs("option",{value:te.id,children:[te.first_name||""," ",te.last_name||""," (",te.email,")"]},te.id))]}),a.jsx("p",{style:{margin:"8px 0 0",fontSize:"12px",color:"#666"},children:"This admin will be responsible for receiving inventory at this warehouse."})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Notes"}),a.jsx("textarea",{value:H.notes,onChange:te=>ne(er(kt({},H),{notes:te.target.value})),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",resize:"vertical",backgroundColor:"white",color:"#333"}})]}),a.jsxs("div",{style:{padding:"15px",background:"#f5f5f5",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[a.jsx("label",{style:{fontWeight:"bold",color:"#333"},children:" GPS Coordinates"}),a.jsx("button",{type:"button",onClick:()=>{if(!navigator.geolocation){Y({type:"error",text:"Geolocation not supported"});return}navigator.geolocation.getCurrentPosition(te=>{ne(Et=>er(kt({},Et),{latitude:te.coords.latitude.toFixed(6),longitude:te.coords.longitude.toFixed(6)})),Y({type:"success",text:"Location detected!"})},()=>Y({type:"error",text:"Could not get location"}),{enableHighAccuracy:!0})},style:{padding:"6px 12px",backgroundColor:"#9c27b0",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Auto-Detect"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px",color:"#666"},children:"Latitude"}),a.jsx("input",{type:"text",value:H.latitude,onChange:te=>ne(er(kt({},H),{latitude:te.target.value})),placeholder:"e.g., 43.7615",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"white",color:"#333"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px",color:"#666"},children:"Longitude"}),a.jsx("input",{type:"text",value:H.longitude,onChange:te=>ne(er(kt({},H),{longitude:te.target.value})),placeholder:"e.g., -79.2315",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"white",color:"#333"}})]})]}),H.latitude&&H.longitude&&a.jsxs("div",{style:{marginTop:"15px"},children:[a.jsx("div",{style:{borderRadius:"8px",overflow:"hidden",border:"1px solid #ddd",marginBottom:"10px"},children:a.jsx("iframe",{title:"Warehouse Location",width:"100%",height:"200",style:{border:0},loading:"lazy",src:`https://maps.google.com/maps?q=${H.latitude},${H.longitude}&z=15&output=embed`})}),a.jsx("a",{href:`https://www.google.com/maps?q=${H.latitude},${H.longitude}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"6px 12px",backgroundColor:"#4285f4",color:"white",borderRadius:"4px",textDecoration:"none",fontSize:"12px"},children:" Open in Google Maps"})]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[a.jsx("button",{type:"button",onClick:mt,style:{padding:"10px 20px",backgroundColor:"#e0e0e0",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{type:"submit",disabled:I,style:{padding:"10px 20px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:I?"Saving...":ie?"Update":"Create"})]})]})]})}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:i.map(te=>a.jsxs("div",{style:{padding:"20px",background:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("h3",{style:{margin:"0 0 5px 0",color:"#333"},children:[" ",te.name]}),a.jsx("span",{style:{padding:"2px 8px",fontSize:"11px",borderRadius:"4px",backgroundColor:te.status==="active"?"#e8f5e9":"#ffebee",color:te.status==="active"?"#2e7d32":"#c62828"},children:te.status||"active"})]}),te.code&&a.jsxs("p",{style:{color:"#1976d2",margin:"0 0 10px 0",fontWeight:"bold"},children:["Code: ",te.code]}),a.jsxs("p",{style:{color:"#666",margin:"5px 0",fontSize:"14px"},children:[" ",te.address||te.city||te.location||"No address",te.city&&te.state&&`, ${te.city}, ${te.state}`]}),te.phone&&a.jsxs("p",{style:{color:"#666",margin:"5px 0",fontSize:"14px"},children:[" ",te.phone]}),a.jsx("div",{style:{marginTop:"10px",padding:"8px",background:te.admin_email?"#fff3e0":"#ffebee",borderRadius:"4px",border:te.admin_email?"1px solid #ff9800":"1px solid #ef5350"},children:a.jsxs("p",{style:{margin:0,fontSize:"12px",fontWeight:"bold",color:te.admin_email?"#e65100":"#c62828"},children:[" ",te.admin_email?a.jsxs(a.Fragment,{children:["Admin: ",te.admin_first_name||""," ",te.admin_last_name||"",a.jsx("span",{style:{display:"block",fontWeight:"normal",color:"#666"},children:te.admin_email})]}):"No admin assigned"]})}),te.latitude&&te.longitude?a.jsxs("div",{style:{marginTop:"10px",padding:"8px",background:"#e3f2fd",borderRadius:"4px"},children:[a.jsxs("p",{style:{margin:0,fontSize:"12px",color:"#1565c0"},children:[" Lat: ",parseFloat(te.latitude).toFixed(4),", Lng: ",parseFloat(te.longitude).toFixed(4)]}),a.jsx("a",{href:`https://www.google.com/maps?q=${te.latitude},${te.longitude}`,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"11px",color:"#1976d2"},children:" Open in Google Maps"})]}):a.jsx("p",{style:{margin:"10px 0 0",fontSize:"12px",color:"#999",fontStyle:"italic"},children:" No GPS coordinates set"}),a.jsxs("div",{style:{display:"flex",gap:"20px",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #eee"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1976d2"},children:te.product_count||0}),a.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Products"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#4caf50"},children:te.bin_count||0}),a.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Bins"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[a.jsx("button",{onClick:()=>Ot(te),style:{flex:1,padding:"8px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:" Edit"}),a.jsx("button",{onClick:()=>Gt(te),style:{flex:1,padding:"8px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:" Delete"})]})]},te.id))}),a.jsxs("div",{style:{marginTop:"40px",padding:"25px",background:"linear-gradient(135deg, #1a1a1a, #2d2d2d)",borderRadius:"12px",border:"1px solid #B8860B"},children:[a.jsx("h3",{style:{color:"#F5F0E1",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px",fontFamily:"'Oswald', sans-serif"},children:" Bin Inventory View"}),a.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"20px",flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#B8860B",fontWeight:"bold"},children:"Select Warehouse:"}),a.jsxs("select",{value:Nt,onChange:te=>{it(te.target.value),jn(te.target.value,Oe)},style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #B8860B",backgroundColor:"#333",color:"#F5F0E1",fontSize:"14px"},children:[a.jsx("option",{value:"",children:"-- Select Warehouse --"}),i.map(te=>a.jsx("option",{value:te.id,children:te.name},te.id))]})]}),a.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"5px",color:"#B8860B",fontWeight:"bold"},children:"Search (Part No / Bin No):"}),a.jsx("input",{type:"text",value:Oe,onChange:te=>ze(te.target.value),onKeyDown:te=>{te.key==="Enter"&&Nt&&jn(Nt,Oe)},placeholder:"Enter part number or bin number...",style:{width:"100%",padding:"12px",borderRadius:"6px",border:"1px solid #666",backgroundColor:"#333",color:"#F5F0E1",fontSize:"14px"}})]}),a.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"10px"},children:a.jsx("button",{onClick:()=>jn(Nt,Oe),disabled:!Nt||fe,style:{padding:"12px 20px",backgroundColor:"#B8860B",color:"white",border:"none",borderRadius:"6px",cursor:Nt?"pointer":"not-allowed",opacity:Nt?1:.5},children:" Search"})})]}),Te.length>0&&a.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[a.jsx("button",{onClick:On,style:{padding:"10px 20px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:" Export Excel/CSV"}),a.jsx("button",{onClick:ge,style:{padding:"10px 20px",backgroundColor:"#8B2332",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:" Export PDF"}),st.length>0&&a.jsxs("span",{style:{color:"#B8860B",alignSelf:"center",marginLeft:"10px"},children:[st.length," bin(s) selected"]})]}),fe?a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#B8860B"},children:"Loading..."}):Te.length>0?a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#8B2332"},children:[a.jsx("th",{style:{padding:"12px",color:"white",textAlign:"center",width:"50px"},children:a.jsx("input",{type:"checkbox",checked:st.length===Te.length,onChange:te=>{te.target.checked?ct(Te.map((Et,Yt)=>Yt)):ct([])},style:{width:"18px",height:"18px"}})}),a.jsx("th",{style:{padding:"12px",color:"white",textAlign:"left"},children:"Bin Number"}),a.jsx("th",{style:{padding:"12px",color:"white",textAlign:"left"},children:"Part Numbers"}),a.jsx("th",{style:{padding:"12px",color:"white",textAlign:"center"},children:"Unique Products"}),a.jsx("th",{style:{padding:"12px",color:"white",textAlign:"center"},children:"Total Qty"})]})}),a.jsx("tbody",{children:Te.map((te,Et)=>a.jsxs("tr",{style:{background:st.includes(Et)?"#3d3d3d":Et%2===0?"#2a2a2a":"#333",borderBottom:"1px solid #444"},children:[a.jsx("td",{style:{padding:"12px",textAlign:"center"},children:a.jsx("input",{type:"checkbox",checked:st.includes(Et),onChange:Yt=>{Yt.target.checked?ct([...st,Et]):ct(st.filter(tn=>tn!==Et))},style:{width:"18px",height:"18px"}})}),a.jsx("td",{style:{padding:"12px",color:"#B8860B",fontWeight:"bold"},children:te.bin_number}),a.jsx("td",{style:{padding:"12px",color:"#F5F0E1",maxWidth:"300px",wordBreak:"break-word"},children:te.part_numbers||"-"}),a.jsx("td",{style:{padding:"12px",color:"#4caf50",textAlign:"center",fontWeight:"bold"},children:te.unique_products}),a.jsx("td",{style:{padding:"12px",color:"#F5F0E1",textAlign:"center",fontWeight:"bold"},children:te.total_quantity})]},te.bin_number))})]})}):Nt?a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"No products found in bins for this warehouse."}):a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"Select a warehouse to view bin inventory."})]}),i.length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[a.jsx("p",{style:{fontSize:"18px"},children:"No warehouses yet"}),a.jsx("p",{children:'Click "Add Warehouse" to create your first warehouse'})]})]})]})]})},BU=()=>{const[t,e]=ee.useState({site_title:"Sardaarji Autoparts",site_subtitle:"Vintage Motorcycle Parts & Accessories",tagline:"Quality Parts for Classic Bikes Since 1970",description:"Your trusted source for vintage Yamaha RD350 motorcycle parts and accessories. We specialize in rare and hard-to-find components for classic motorcycles.",contact_email:"",contact_phone:"",contact_address:"",copyright_text:" 2024 Sardaarji Autoparts. All rights reserved.",meta_keywords:"motorcycle parts, yamaha rd350, vintage parts, classic motorcycle, autoparts",meta_author:"Sardaarji Autoparts",social_facebook:"",social_instagram:"",social_twitter:""}),[r,n]=ee.useState(!1),[i,s]=ee.useState(!1),[c,f]=ee.useState({type:"",text:""});ee.useEffect(()=>{const m=localStorage.getItem("siteSettings");m&&e(JSON.parse(m))},[]);const g=m=>{const{name:v,value:b}=m.target;e(_=>er(kt({},_),{[v]:b}))},u=m=>we(null,null,function*(){m.preventDefault(),s(!0),f({type:"",text:""});try{localStorage.setItem("siteSettings",JSON.stringify(t)),f({type:"success",text:"Settings saved successfully!"})}catch(v){f({type:"error",text:"Failed to save settings."})}finally{s(!1)}});return r?a.jsx("div",{className:"text-center py-12",children:a.jsx(fn,{size:"xl",text:"Loading settings...",variant:"gear"})}):a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",style:{fontFamily:"'Oswald', sans-serif"},children:"Site Settings"}),c.text&&a.jsx("div",{className:`mb-6 p-4 rounded ${c.type==="success"?"bg-green-600/20 text-green-400 border border-green-600":"bg-red-600/20 text-red-400 border border-red-600"}`,children:c.text}),a.jsxs("form",{onSubmit:u,className:"space-y-8",children:[a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Site Identity"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Site Title"}),a.jsx("input",{type:"text",name:"site_title",value:t.site_title,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Subtitle"}),a.jsx("input",{type:"text",name:"site_subtitle",value:t.site_subtitle,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Tagline"}),a.jsx("input",{type:"text",name:"tagline",value:t.tagline,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Site Description"}),a.jsx("textarea",{name:"description",value:t.description,onChange:g,rows:3,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Contact Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"contact_email",value:t.contact_email,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"contact@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Phone"}),a.jsx("input",{type:"tel",name:"contact_phone",value:t.contact_phone,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"+1 (555) 123-4567"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Address"}),a.jsx("textarea",{name:"contact_address",value:t.contact_address,onChange:g,rows:2,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"123 Main Street, City, Country"})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"SEO & Meta Information"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Meta Keywords"}),a.jsx("input",{type:"text",name:"meta_keywords",value:t.meta_keywords,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"keyword1, keyword2, keyword3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Meta Author"}),a.jsx("input",{type:"text",name:"meta_author",value:t.meta_author,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Copyright Text"}),a.jsx("input",{type:"text",name:"copyright_text",value:t.copyright_text,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Social Media Links"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Facebook"}),a.jsx("input",{type:"url",name:"social_facebook",value:t.social_facebook,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://facebook.com/..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Instagram"}),a.jsx("input",{type:"url",name:"social_instagram",value:t.social_instagram,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://instagram.com/..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Twitter/X"}),a.jsx("input",{type:"url",name:"social_twitter",value:t.social_twitter,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://twitter.com/..."})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:i,className:"bg-[#8B2332] text-white px-8 py-3 rounded font-semibold hover:bg-[#a02a3d] transition-colors disabled:opacity-50 flex items-center",style:{fontFamily:"'Oswald', sans-serif"},children:i?a.jsxs(a.Fragment,{children:[a.jsx(fn,{size:"sm",showText:!1}),a.jsx("span",{className:"ml-2",children:"Saving..."})]}):"Save Settings"})})]})]})},MU=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState({total_queries:0,total_errors:0,avg_duration:0,last_hour:0,last_24h:0}),[i,s]=ee.useState(!0),[c,f]=ee.useState({status:"all",model:"all",time_range:"24h",search:""}),[g,u]=ee.useState(!1),[m,v]=ee.useState("7d"),[b,_]=ee.useState(!1),[C,A]=ee.useState(null),j=()=>we(null,null,function*(){s(!0);try{const K=new URLSearchParams(c),{data:G}=yield Xr.get(`/query-logs?${K.toString()}`);e(G.logs||[]),n(G.stats||{total_queries:0,total_errors:0,avg_duration:0,last_hour:0,last_24h:0})}catch(K){console.error("Failed to fetch logs:",K),e([])}finally{s(!1)}});ee.useEffect(()=>{j();const K=setInterval(j,3e4);return()=>clearInterval(K)},[c]);const L=(K,G)=>{f(V=>er(kt({},V),{[K]:G}))},I=()=>we(null,null,function*(){_(!0);try{yield Xr.delete("/query-logs",{data:{range:m}}),u(!1),j()}catch(K){console.error("Failed to clear logs:",K)}finally{_(!1)}}),P=K=>K<1?"<1ms":`${K}ms`,X=K=>{A(C===K?null:K)},Y=K=>{if(!K)return"null";try{if(typeof K=="string"){const G=JSON.parse(K);return JSON.stringify(G,null,2)}return JSON.stringify(K,null,2)}catch(G){return String(K)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Query Logs"}),a.jsx("p",{className:"text-[#A8A090] text-sm mt-1",children:"Monitor API performance and debug issues  Click a row to see details"})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:j,className:"px-4 py-2 bg-[#2a2a2a] text-[#F5F0E1] rounded hover:bg-[#3a3a3a] border border-[#444] transition-colors flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),a.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-red-900/40 text-red-200 rounded hover:bg-red-900/60 border border-red-800 transition-colors flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear Logs"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Yg,{label:"Total Queries",value:(r.total_queries||0).toLocaleString(),icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),a.jsx(Yg,{label:"Errors",value:r.total_errors||0,subtext:`${(r.total_errors/r.total_queries*100||0).toFixed(2)}% rate`,color:"text-red-400",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx(Yg,{label:"Last 24h",value:(r.last_24h||0).toLocaleString(),icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx(Yg,{label:"Avg Duration",value:`${r.avg_duration||0}ms`,color:(r.avg_duration||0)>500?"text-yellow-400":"text-green-400",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#333] flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#A8A090]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),a.jsxs("select",{value:c.status,onChange:K=>L("status",K.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"success",children:"Success (2xx)"}),a.jsx("option",{value:"error",children:"Error (4xx/5xx)"})]})]}),a.jsxs("select",{value:c.model,onChange:K=>L("model",K.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[a.jsx("option",{value:"all",children:"All Models"}),a.jsx("option",{value:"User",children:"User"}),a.jsx("option",{value:"Product",children:"Product"}),a.jsx("option",{value:"Order",children:"Order"}),a.jsx("option",{value:"Auth",children:"Auth"})]}),a.jsxs("select",{value:c.time_range,onChange:K=>L("time_range",K.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[a.jsx("option",{value:"1h",children:"Last Hour"}),a.jsx("option",{value:"24h",children:"Last 24 Hours"}),a.jsx("option",{value:"7d",children:"Last 7 Days"}),a.jsx("option",{value:"30d",children:"Last 30 Days"}),a.jsx("option",{value:"all",children:"All Time"})]}),a.jsx("div",{className:"flex-grow",children:a.jsx("input",{type:"text",placeholder:"Search query or error...",value:c.search,onChange:K=>L("search",K.target.value),className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]"})})]}),a.jsx("div",{className:"bg-[#1a1a1a] rounded-lg border border-[#333] overflow-hidden",children:i?a.jsx("div",{className:"p-12 flex justify-center",children:a.jsx(fn,{size:"lg",text:"Loading logs...",variant:"gear"})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[#333] bg-[#222] text-[#A8A090] text-sm uppercase tracking-wider",children:[a.jsx("th",{className:"p-4 font-medium w-8"}),a.jsx("th",{className:"p-4 font-medium",children:"Timestamp"}),a.jsx("th",{className:"p-4 font-medium",children:"Model"}),a.jsx("th",{className:"p-4 font-medium",children:"Action"}),a.jsx("th",{className:"p-4 font-medium",children:"Query"}),a.jsx("th",{className:"p-4 font-medium text-right",children:"Duration"}),a.jsx("th",{className:"p-4 font-medium text-center",children:"Status"})]})}),a.jsx("tbody",{children:t.length>0?t.map(K=>a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:`border-b border-[#333] hover:bg-[#242424] transition-colors cursor-pointer ${C===K.id?"bg-[#242424]":""}`,onClick:()=>X(K.id),children:[a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`text-[#888] transition-transform inline-block ${C===K.id?"rotate-90":""}`,children:""})}),a.jsx("td",{className:"p-4 text-[#F5F0E1] text-sm whitespace-nowrap",children:new Date(K.timestamp).toLocaleString()}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-1 bg-[#333] rounded text-xs text-[#ccc] border border-[#444]",children:K.model})}),a.jsx("td",{className:"p-4 text-[#bdc3c7] text-sm font-mono",children:K.action}),a.jsxs("td",{className:"p-4 text-[#bdc3c7] text-sm font-mono max-w-xs truncate",title:K.query,children:[K.query,K.error&&a.jsx("span",{className:"block text-red-400 text-xs mt-1 truncate",children:K.error})]}),a.jsx("td",{className:"p-4 text-right text-[#F5F0E1] text-sm font-mono",children:P(K.duration)}),a.jsx("td",{className:"p-4 text-center",children:K.status>=400||K.error?a.jsx("span",{className:"text-red-400 font-bold text-lg",title:`Error ${K.status}`,children:""}):a.jsx("span",{className:"text-green-400 font-bold text-lg",children:""})})]},K.id),C===K.id&&a.jsx("tr",{className:"bg-[#0d1117] border-b border-[#333]",children:a.jsx("td",{colSpan:"7",className:"p-0",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-bold text-blue-400 mb-2 flex items-center",children:[a.jsx("span",{className:"mr-2",children:""})," API Request Parameters"]}),a.jsx("pre",{className:"bg-[#161b22] text-[#c9d1d9] p-4 rounded-lg text-xs overflow-x-auto font-mono border border-[#30363d]",children:K.params?Y(K.params):K.query||"No parameters recorded"})]}),K.response&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-bold text-green-400 mb-2 flex items-center",children:[a.jsx("span",{className:"mr-2",children:""})," Response"]}),a.jsx("pre",{className:"bg-[#161b22] text-[#c9d1d9] p-4 rounded-lg text-xs overflow-x-auto font-mono border border-[#30363d] max-h-60 overflow-y-auto",children:Y(K.response)})]}),(K.error||K.error_details||K.status>=400)&&a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-bold text-red-400 mb-2 flex items-center",children:[a.jsx("span",{className:"mr-2",children:""})," Error Details"]}),a.jsxs("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-red-300",children:"Status Code:"}),a.jsx("span",{className:"ml-2 text-white font-mono",children:K.status||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-red-300",children:"Error Type:"}),a.jsx("span",{className:"ml-2 text-white font-mono",children:K.error_type||"Unknown"})]})]}),a.jsx("pre",{className:"bg-[#1a0a0a] text-red-300 p-4 rounded text-xs overflow-x-auto font-mono border border-red-900 max-h-40 overflow-y-auto whitespace-pre-wrap",children:K.error_details?Y(K.error_details):K.error||"No error details available"}),K.stack_trace&&a.jsxs("details",{className:"mt-3",children:[a.jsx("summary",{className:"cursor-pointer text-red-400 text-sm hover:text-red-300",children:"View Stack Trace"}),a.jsx("pre",{className:"mt-2 bg-[#1a0a0a] text-red-300/70 p-3 rounded text-xs overflow-x-auto font-mono max-h-40 overflow-y-auto",children:K.stack_trace})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-[#888] pt-2 border-t border-[#333]",children:[a.jsxs("span",{children:[a.jsx("strong",{children:"Log ID:"})," ",K.id]}),a.jsxs("span",{children:[a.jsx("strong",{children:"User ID:"})," ",K.user_id||"Anonymous"]}),a.jsxs("span",{children:[a.jsx("strong",{children:"IP:"})," ",K.ip_address||"N/A"]}),a.jsxs("span",{children:[a.jsx("strong",{children:"User Agent:"})," ",K.user_agent?K.user_agent.substring(0,50)+"...":"N/A"]})]})]})})},`${K.id}-details`)]})):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"p-12 text-center text-[#666]",children:"No logs found matching criteria"})})})]})})}),g&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6 w-full max-w-md shadow-2xl",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-red-900/40 rounded-lg text-red-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-[#F5F0E1]",children:"Clear Query Logs"}),a.jsx("p",{className:"text-[#A8A090] text-sm",children:"Select time range to delete"})]})]}),a.jsx("p",{className:"text-[#A8A090] mb-6 text-sm",children:"Choose the time period of logs you want to delete. This action cannot be undone."}),a.jsx("div",{className:"space-y-3 mb-6",children:["1h","24h","7d","all"].map(K=>a.jsxs("label",{className:`flex items-center p-3 rounded border cursor-pointer transition-all ${m===K?"border-red-500 bg-red-900/10":"border-[#444] hover:border-[#666]"}`,children:[a.jsx("input",{type:"radio",name:"range",value:K,checked:m===K,onChange:G=>v(G.target.value),className:"mr-3 accent-red-500"}),a.jsxs("span",{className:"text-[#F5F0E1]",children:[K==="1h"&&"Last hour",K==="24h"&&"Last 24 hours",K==="7d"&&"Last 7 days",K==="all"&&"All time"]}),K==="all"&&a.jsx("span",{className:"ml-2 text-red-400 text-xs uppercase font-bold tracking-wider",children:"Deletes everything"})]},K))}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-[#2a2a2a] text-[#F5F0E1] rounded hover:bg-[#3a3a3a] border border-[#444] transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:I,disabled:b,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center",children:[b&&a.jsx(fn,{size:"sm",showText:!1,className:"mr-2 text-white"}),"Delete Logs"]})]})]})})]})},Yg=({label:t,value:e,subtext:r,icon:n,color:i="text-[#F5F0E1]"})=>a.jsxs("div",{className:"bg-[#1a1a1a] p-5 rounded-lg border border-[#333] shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:`text-2xl font-bold ${i}`,style:{fontFamily:"'Oswald', sans-serif"},children:e}),a.jsx("div",{className:"text-[#A8A090] opacity-50",children:n})]}),a.jsx("div",{className:"text-[#A8A090] text-sm font-medium",children:t}),r&&a.jsx("div",{className:"text-xs text-[#666] mt-1",children:r})]}),s2=({size:t="md",text:e="Loading...",showText:r=!0,className:n="",variant:i="multi-gear"})=>{const s={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},c={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},f=({className:v})=>a.jsxs("div",{className:`relative ${v}`,children:[a.jsx("svg",{className:"absolute inset-0 w-full h-full text-emerald-500 animate-spin",style:{animationDuration:"3s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})}),a.jsx("svg",{className:"absolute top-0 right-0 w-1/3 h-1/3 text-slate-500 animate-spin",style:{animationDuration:"2s",animationDirection:"reverse"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})}),a.jsx("svg",{className:"absolute bottom-0 left-0 w-1/4 h-1/4 text-emerald-400 animate-spin",style:{animationDuration:"1.5s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})})]}),g=({className:v})=>a.jsx("div",{className:`${v} text-emerald-500`,children:a.jsxs("svg",{className:"w-full h-full animate-pulse",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M4 6h16v2H4V6zm0 4h16v8H4v-8zm2 2v4h12v-4H6zm-2 6h16v2H4v-2z",fill:"currentColor"}),a.jsx("circle",{cx:"7",cy:"14",r:"1",fill:"white"}),a.jsx("circle",{cx:"17",cy:"14",r:"1",fill:"white"})]})}),u=({className:v})=>a.jsx("div",{className:`${v} text-emerald-500`,children:a.jsx("svg",{className:"w-full h-full animate-spin",style:{animationDuration:"4s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z",fill:"currentColor"})})}),m=()=>{const v=s[t];switch(i){case"multi-gear":return a.jsx(f,{className:v});case"engine":return a.jsx(g,{className:v});case"wrench":return a.jsx(u,{className:v});default:return a.jsx(f,{className:v})}};return a.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${n}`,children:[m(),r&&a.jsx("p",{className:`text-gray-600 font-medium ${c[t]} text-center`,children:e})]})},UU=({isVisible:t,text:e="Processing your auto parts request...",variant:r="multi-gear",backdrop:n=!0})=>t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 backdrop-blur-sm"}),a.jsx("div",{className:"relative card-elevated p-8 max-w-sm mx-4",children:a.jsx(s2,{size:"lg",text:e,variant:r,className:"text-center"})})]}):null,zU=()=>{const[t,e]=ee.useState(!1),[r,n]=ee.useState(!1),i=()=>{e(!0),setTimeout(()=>e(!1),3e3)},s=()=>{n(!0),setTimeout(()=>n(!1),4e3)};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Auto Parts Loading Components Demo"}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Gear Loading Spinners"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Small Gear"}),a.jsx(fn,{size:"sm",text:"Loading parts...",variant:"gear"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Medium Gear"}),a.jsx(fn,{size:"md",text:"Searching inventory...",variant:"gear"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Large Gear"}),a.jsx(fn,{size:"lg",text:"Processing order...",variant:"gear"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Extra Large Gear"}),a.jsx(fn,{size:"xl",text:"Updating catalog...",variant:"gear"})]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Auto Parts Themed Loaders"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Multi-Gear System"}),a.jsx(s2,{size:"lg",text:"Processing parts...",variant:"multi-gear"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Engine Block"}),a.jsx(s2,{size:"lg",text:"Engine diagnostics...",variant:"engine"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Wrench Tool"}),a.jsx(s2,{size:"lg",text:"Maintenance mode...",variant:"wrench"})]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Alternative Loading Styles"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Simple Spinner"}),a.jsx(fn,{size:"lg",text:"Loading...",variant:"simple"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dots Animation"}),a.jsx(fn,{size:"lg",text:"Please wait...",variant:"dots"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"No Text"}),a.jsx(fn,{size:"lg",showText:!1,variant:"gear"})]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Inline Loading Components"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[a.jsx("span",{children:"Checking part availability..."}),a.jsx(rc,{text:"Checking...",variant:"gear",size:"sm"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[a.jsx("span",{children:"Updating cart..."}),a.jsx(rc,{text:"Updating...",variant:"simple",size:"sm"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[a.jsx("span",{children:"Processing payment..."}),a.jsx(rc,{text:"Processing...",variant:"dots",size:"sm"})]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Full Screen Loading Overlay"}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[a.jsx("p",{className:"mb-4 text-gray-600",children:"Click the button below to see a full-screen loading overlay with gear animation. Perfect for major operations like placing orders or loading large catalogs."}),a.jsxs("div",{className:"space-x-4",children:[a.jsx("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Show Basic Overlay"}),a.jsx("button",{onClick:s,className:"bg-orange-600 hover:bg-orange-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Show Auto Parts Overlay"})]})]})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Usage Examples"}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Code Examples:"}),a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("div",{className:"bg-white p-4 rounded border",children:[a.jsx("strong",{children:"Basic Gear Spinner:"}),a.jsx("code",{className:"block mt-2 text-blue-600",children:'<LoadingSpinner size="md" text="Loading parts..." variant="gear" />'})]}),a.jsxs("div",{className:"bg-white p-4 rounded border",children:[a.jsx("strong",{children:"Full Screen Overlay:"}),a.jsx("code",{className:"block mt-2 text-blue-600",children:'<LoadingOverlay isVisible={loading} text="Processing order..." variant="gear" />'})]}),a.jsxs("div",{className:"bg-white p-4 rounded border",children:[a.jsx("strong",{children:"Inline Loader:"}),a.jsx("code",{className:"block mt-2 text-blue-600",children:'<InlineLoader text="Updating..." variant="gear" size="sm" />'})]})]})]})]}),a.jsx(jC,{isVisible:t,text:"Processing your auto parts order...",variant:"gear"}),a.jsx(UU,{isVisible:r,text:"Analyzing engine components...",variant:"multi-gear"})]})},HU=()=>{const{wishlist:t,loading:e,error:r,removeItem:n,moveItemToCart:i}=iv(),{isAuthenticated:s}=Ta(),{addToCart:c}=Kd(),[f,g]=ee.useState({});if(!s())return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"My Wishlist"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your wishlist"}),a.jsx(Zt,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Login"})]})});const u=(v,b=1)=>we(null,null,function*(){g(_=>er(kt({},_),{[v.product_id]:!0}));try{yield c(v.products,b),yield n(v.product_id,v.products.name)}catch(_){console.error("Error moving to cart:",_)}finally{g(_=>er(kt({},_),{[v.product_id]:!1}))}}),m=v=>we(null,null,function*(){yield n(v.product_id,v.products.name)});return e?a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"text-center",children:a.jsx(fn,{size:"xl",text:"Loading your wishlist...",variant:"gear"})})}):a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Wishlist"}),a.jsxs("div",{className:"text-gray-600",children:[t.length," ",t.length===1?"item":"items"]})]}),r&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:r}),t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"mb-6",children:a.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"Your wishlist is empty"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Start adding items to your wishlist by clicking the heart icon on products you love!"}),a.jsx(Zt,{to:"/products",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Products"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.filter(v=>v&&v.id&&v.products&&v.products.name).map(v=>{var b,_,C;return a.jsxs("div",{className:"card-interactive overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zt,{to:`/products/${v.product_id}`,children:a.jsx(_0,{src:Ru((b=v.products)==null?void 0:b.image_url),alt:(_=v.products)==null?void 0:_.name,className:"w-full h-48 object-cover",placeholderText:"No Image Available"})}),a.jsx("button",{onClick:()=>m(v),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",title:"Remove from wishlist",children:a.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx(Zt,{to:`/products/${v.product_id}`,children:a.jsx("h3",{className:"font-semibold text-lg mb-2 hover:text-blue-600 transition-colors",children:v.products.name})}),a.jsx("p",{className:"text-gray-600 text-sm mb-2",children:(C=v.products.categories)==null?void 0:C.name}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",parseFloat(v.products.price).toFixed(2)]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v.products.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.products.quantity>0?"In Stock":"Out of Stock"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>u(v),disabled:v.products.quantity===0||f[v.product_id],className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${v.products.quantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:f[v.product_id]?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(fn,{size:"sm",showText:!1,variant:"gear"}),a.jsx("span",{className:"ml-2",children:"Moving to Cart..."})]}):"Move to Cart"}),a.jsx(Zt,{to:`/products/${v.product_id}`,className:"block w-full py-2 px-4 border border-gray-300 rounded-lg text-center text-gray-700 hover:bg-gray-50 transition-colors",children:"View Details"})]}),a.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Added ",new Date(v.created_at).toLocaleDateString()]})]})]},v.id)})})]})},qU=()=>a.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[a.jsx("h1",{className:"text-6xl font-bold text-blue-800 mb-4",children:"404"}),a.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"Page Not Found"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8 text-center max-w-md",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),a.jsx(Zt,{to:"/",className:"bg-blue-800 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700",children:"Return to Home"})]}),l0=({children:t})=>{const{isAuthenticated:e,loading:r}=Ta();return r?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):e()?t:a.jsx(Zx,{to:"/login",replace:!0})},WU=({children:t})=>{const{isAdmin:e,loading:r}=Ta(),[n,i]=ee.useState(!1),[s,c]=ee.useState(!1);return ee.useEffect(()=>{const f=localStorage.getItem("user");if(f)try{const g=JSON.parse(f);g&&g.role==="admin"&&(console.log("Admin bypass enabled via localStorage"),c(!0))}catch(g){console.error("Error parsing user from localStorage:",g)}i(!0)},[]),r||!n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):e()||s?t:a.jsx(Zx,{to:"/",replace:!0})};function VU(){return ee.useEffect(()=>{yC()},[]),a.jsx(lC,{children:a.jsx(hC,{children:a.jsx(xC,{children:a.jsx(uC,{children:a.jsx(mC,{children:a.jsx(gA,{children:a.jsxs("div",{className:"flex flex-col min-h-screen paper-texture-bg text-[#1a1a1a]",children:[a.jsx(_C,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs(qN,{children:[a.jsx(vn,{path:"/",element:a.jsx(OC,{})}),a.jsx(vn,{path:"/products",element:a.jsx(y5,{})}),a.jsx(vn,{path:"/products/category/:categoryId",element:a.jsx(y5,{})}),a.jsx(vn,{path:"/products/:id",element:a.jsx(qC,{})}),a.jsx(vn,{path:"/cart",element:a.jsx(WC,{})}),a.jsx(vn,{path:"/checkout",element:a.jsx(l0,{children:a.jsx(tj,{})})}),a.jsx(vn,{path:"/order-confirmation/:id",element:a.jsx(l0,{children:a.jsx(rj,{})})}),a.jsx(vn,{path:"/orders",element:a.jsx(l0,{children:a.jsx(nj,{})})}),a.jsx(vn,{path:"/orders/:id",element:a.jsx(l0,{children:a.jsx(X5,{})})}),a.jsx(vn,{path:"/order/:id",element:a.jsx(l0,{children:a.jsx(X5,{})})}),a.jsx(vn,{path:"/profile",element:a.jsx(l0,{children:a.jsx(ij,{})})}),a.jsx(vn,{path:"/wishlist",element:a.jsx(l0,{children:a.jsx(HU,{})})}),a.jsx(vn,{path:"/login",element:a.jsx(aj,{})}),a.jsx(vn,{path:"/register",element:a.jsx(oj,{})}),a.jsx(vn,{path:"/verify-email",element:a.jsx(lj,{})}),a.jsx(vn,{path:"/resend-verification",element:a.jsx(cj,{})}),a.jsx(vn,{path:"/auth/callback",element:a.jsx(uj,{})}),a.jsx(vn,{path:"/forgot-password",element:a.jsx(dj,{})}),a.jsx(vn,{path:"/reset-password",element:a.jsx(hj,{})}),a.jsx(vn,{path:"/loading-demo",element:a.jsx(zU,{})}),a.jsxs(vn,{path:"/admin",element:a.jsx(WU,{children:a.jsx(NC,{})}),children:[a.jsx(vn,{index:!0,element:a.jsx(gj,{})}),a.jsx(vn,{path:"products",element:a.jsx(kM,{})}),a.jsx(vn,{path:"products/add",element:a.jsx(h3,{})}),a.jsx(vn,{path:"products/edit/:id",element:a.jsx(h3,{})}),a.jsx(vn,{path:"products/view/:id",element:a.jsx(UM,{})}),a.jsx(vn,{path:"barcode-generator",element:a.jsx(zM,{})}),a.jsx(vn,{path:"orders",element:a.jsx(LM,{})}),a.jsx(vn,{path:"users",element:a.jsx(BM,{})}),a.jsx(vn,{path:"user-approval",element:a.jsx(MM,{})}),a.jsx(vn,{path:"analytics",element:a.jsx(rU,{})}),a.jsx(vn,{path:"logs",element:a.jsx(MU,{})}),a.jsx(vn,{path:"reviews",element:a.jsx(nU,{})}),a.jsx(vn,{path:"logo",element:a.jsx(sU,{})}),a.jsx(vn,{path:"inventory",element:a.jsx(FU,{})}),a.jsx(vn,{path:"settings",element:a.jsx(BU,{})})]}),a.jsx(vn,{path:"/404",element:a.jsx(qU,{})}),a.jsx(vn,{path:"*",element:a.jsx(Zx,{to:"/404",replace:!0})})]})}),a.jsx(EC,{})]})})})})})})})}KS.createRoot(document.getElementById("root")).render(a.jsx(ee.StrictMode,{children:a.jsx(VU,{})}));export{ni as _,V1 as c,I2 as g};
