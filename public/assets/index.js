var cC=Object.defineProperty,uC=Object.defineProperties;var fC=Object.getOwnPropertyDescriptors;var rg=Object.getOwnPropertySymbols;var kb=Object.prototype.hasOwnProperty,Lb=Object.prototype.propertyIsEnumerable;var nd=(r,e)=>(e=Symbol[r])?e:Symbol.for("Symbol."+r),dC=r=>{throw TypeError(r)};var Rb=(r,e,t)=>e in r?cC(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wt=(r,e)=>{for(var t in e||(e={}))kb.call(e,t)&&Rb(r,t,e[t]);if(rg)for(var t of rg(e))Lb.call(e,t)&&Rb(r,t,e[t]);return r},Ft=(r,e)=>uC(r,fC(e));var ku=(r,e)=>{var t={};for(var n in r)kb.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&rg)for(var n of rg(r))e.indexOf(n)<0&&Lb.call(r,n)&&(t[n]=r[n]);return t};var oe=(r,e,t)=>new Promise((n,a)=>{var i=c=>{try{o(t.next(c))}catch(u){a(u)}},s=c=>{try{o(t.throw(c))}catch(u){a(u)}},o=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,s);o((t=t.apply(r,e)).next())}),B0=function(r,e){this[0]=r,this[1]=e},Dx=(r,e,t)=>{var n=(s,o,c,u)=>{try{var d=t[s](o),p=(o=d.value)instanceof B0,g=d.done;Promise.resolve(p?o[0]:o).then(m=>p?n(s==="return"?s:"next",o[1]?{done:m.done,value:m.value}:m,c,u):c({value:m,done:g})).catch(m=>n("throw",m,c,u))}catch(m){u(m)}},a=s=>i[s]=o=>new Promise((c,u)=>n(s,o,c,u)),i={};return t=t.apply(r,e),i[nd("asyncIterator")]=()=>i,a("next"),a("throw"),a("return"),i},Ix=r=>{var e=r[nd("asyncIterator")],t=!1,n,a={};return e==null?(e=r[nd("iterator")](),n=i=>a[i]=s=>e[i](s)):(e=e.call(r),n=i=>a[i]=s=>{if(t){if(t=!1,i==="throw")throw s;return s}return t=!0,{done:!1,value:new B0(new Promise(o=>{var c=e[i](s);c instanceof Object||dC("Object expected"),o(c)}),1)}}),a[nd("iterator")]=()=>a,n("next"),"throw"in e?n("throw"):a.throw=i=>{throw i},"return"in e&&n("return"),a},Db=(r,e,t)=>(e=r[nd("asyncIterator")])?e.call(r):(r=r[nd("iterator")](),e={},t=(n,a)=>(a=r[n])&&(e[n]=i=>new Promise((s,o,c)=>(i=a.call(r,i),c=i.done,Promise.resolve(i.value).then(u=>s({value:u,done:c}),o)))),t("next"),t("return"),e);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var RG=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ry(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function hC(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Px={exports:{}},Kh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function pC(){if(Ib)return Kh;Ib=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:r,type:n,key:s,ref:a!==void 0?a:null,props:i}}return Kh.Fragment=e,Kh.jsx=t,Kh.jsxs=t,Kh}var Pb;function gC(){return Pb||(Pb=1,Px.exports=pC()),Px.exports}var l=gC(),Fx={exports:{}},mr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function mC(){if(Fb)return mr;Fb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function _(Y,xe,R){this.props=Y,this.context=xe,this.refs=w,this.updater=R||m}_.prototype.isReactComponent={},_.prototype.setState=function(Y,xe){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,xe,"setState")},_.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function S(){}S.prototype=_.prototype;function A(Y,xe,R){this.props=Y,this.context=xe,this.refs=w,this.updater=R||m}var C=A.prototype=new S;C.constructor=A,y(C,_.prototype),C.isPureReactComponent=!0;var L=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function F(Y,xe,R,P,H,G){return R=G.ref,{$$typeof:r,type:Y,key:xe,ref:R!==void 0?R:null,props:G}}function D(Y,xe){return F(Y.type,xe,void 0,void 0,void 0,Y.props)}function O(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function q(Y){var xe={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(R){return xe[R]})}var I=/\/+/g;function U(Y,xe){return typeof Y=="object"&&Y!==null&&Y.key!=null?q(""+Y.key):xe.toString(36)}function X(){}function ae(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(X,X):(Y.status="pending",Y.then(function(xe){Y.status==="pending"&&(Y.status="fulfilled",Y.value=xe)},function(xe){Y.status==="pending"&&(Y.status="rejected",Y.reason=xe)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function Se(Y,xe,R,P,H){var G=typeof Y;(G==="undefined"||G==="boolean")&&(Y=null);var J=!1;if(Y===null)J=!0;else switch(G){case"bigint":case"string":case"number":J=!0;break;case"object":switch(Y.$$typeof){case r:case e:J=!0;break;case d:return J=Y._init,Se(J(Y._payload),xe,R,P,H)}}if(J)return H=H(Y),J=P===""?"."+U(Y,0):P,L(H)?(R="",J!=null&&(R=J.replace(I,"$&/")+"/"),Se(H,xe,R,"",function(he){return he})):H!=null&&(O(H)&&(H=D(H,R+(H.key==null||Y&&Y.key===H.key?"":(""+H.key).replace(I,"$&/")+"/")+J)),xe.push(H)),1;J=0;var Ee=P===""?".":P+":";if(L(Y))for(var ve=0;ve<Y.length;ve++)P=Y[ve],G=Ee+U(P,ve),J+=Se(P,xe,R,G,H);else if(ve=g(Y),typeof ve=="function")for(Y=ve.call(Y),ve=0;!(P=Y.next()).done;)P=P.value,G=Ee+U(P,ve++),J+=Se(P,xe,R,G,H);else if(G==="object"){if(typeof Y.then=="function")return Se(ae(Y),xe,R,P,H);throw xe=String(Y),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return J}function Q(Y,xe,R){if(Y==null)return Y;var P=[],H=0;return Se(Y,P,"","",function(G){return xe.call(R,G,H++)}),P}function ce(Y){if(Y._status===-1){var xe=Y._result;xe=xe(),xe.then(function(R){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=R)},function(R){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=R)}),Y._status===-1&&(Y._status=0,Y._result=xe)}if(Y._status===1)return Y._result.default;throw Y._result}var we=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function ue(){}return mr.Children={map:Q,forEach:function(Y,xe,R){Q(Y,function(){xe.apply(this,arguments)},R)},count:function(Y){var xe=0;return Q(Y,function(){xe++}),xe},toArray:function(Y){return Q(Y,function(xe){return xe})||[]},only:function(Y){if(!O(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},mr.Component=_,mr.Fragment=t,mr.Profiler=a,mr.PureComponent=A,mr.StrictMode=n,mr.Suspense=c,mr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,mr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return B.H.useMemoCache(Y)}},mr.cache=function(Y){return function(){return Y.apply(null,arguments)}},mr.cloneElement=function(Y,xe,R){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var P=y({},Y.props),H=Y.key,G=void 0;if(xe!=null)for(J in xe.ref!==void 0&&(G=void 0),xe.key!==void 0&&(H=""+xe.key),xe)!M.call(xe,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&xe.ref===void 0||(P[J]=xe[J]);var J=arguments.length-2;if(J===1)P.children=R;else if(1<J){for(var Ee=Array(J),ve=0;ve<J;ve++)Ee[ve]=arguments[ve+2];P.children=Ee}return F(Y.type,H,void 0,void 0,G,P)},mr.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:i,_context:Y},Y},mr.createElement=function(Y,xe,R){var P,H={},G=null;if(xe!=null)for(P in xe.key!==void 0&&(G=""+xe.key),xe)M.call(xe,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(H[P]=xe[P]);var J=arguments.length-2;if(J===1)H.children=R;else if(1<J){for(var Ee=Array(J),ve=0;ve<J;ve++)Ee[ve]=arguments[ve+2];H.children=Ee}if(Y&&Y.defaultProps)for(P in J=Y.defaultProps,J)H[P]===void 0&&(H[P]=J[P]);return F(Y,G,void 0,void 0,null,H)},mr.createRef=function(){return{current:null}},mr.forwardRef=function(Y){return{$$typeof:o,render:Y}},mr.isValidElement=O,mr.lazy=function(Y){return{$$typeof:d,_payload:{_status:-1,_result:Y},_init:ce}},mr.memo=function(Y,xe){return{$$typeof:u,type:Y,compare:xe===void 0?null:xe}},mr.startTransition=function(Y){var xe=B.T,R={};B.T=R;try{var P=Y(),H=B.S;H!==null&&H(R,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ue,we)}catch(G){we(G)}finally{B.T=xe}},mr.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},mr.use=function(Y){return B.H.use(Y)},mr.useActionState=function(Y,xe,R){return B.H.useActionState(Y,xe,R)},mr.useCallback=function(Y,xe){return B.H.useCallback(Y,xe)},mr.useContext=function(Y){return B.H.useContext(Y)},mr.useDebugValue=function(){},mr.useDeferredValue=function(Y,xe){return B.H.useDeferredValue(Y,xe)},mr.useEffect=function(Y,xe,R){var P=B.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(Y,xe)},mr.useId=function(){return B.H.useId()},mr.useImperativeHandle=function(Y,xe,R){return B.H.useImperativeHandle(Y,xe,R)},mr.useInsertionEffect=function(Y,xe){return B.H.useInsertionEffect(Y,xe)},mr.useLayoutEffect=function(Y,xe){return B.H.useLayoutEffect(Y,xe)},mr.useMemo=function(Y,xe){return B.H.useMemo(Y,xe)},mr.useOptimistic=function(Y,xe){return B.H.useOptimistic(Y,xe)},mr.useReducer=function(Y,xe,R){return B.H.useReducer(Y,xe,R)},mr.useRef=function(Y){return B.H.useRef(Y)},mr.useState=function(Y){return B.H.useState(Y)},mr.useSyncExternalStore=function(Y,xe,R){return B.H.useSyncExternalStore(Y,xe,R)},mr.useTransition=function(){return B.H.useTransition()},mr.version="19.1.0",mr}var Mb;function ky(){return Mb||(Mb=1,Fx.exports=mC()),Fx.exports}var V=ky(),Mx={exports:{}},Zh={},Bx={exports:{}},Ux={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function xC(){return Bb||(Bb=1,function(r){function e(Q,ce){var we=Q.length;Q.push(ce);e:for(;0<we;){var ue=we-1>>>1,Y=Q[ue];if(0<a(Y,ce))Q[ue]=ce,Q[we]=Y,we=ue;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ce=Q[0],we=Q.pop();if(we!==ce){Q[0]=we;e:for(var ue=0,Y=Q.length,xe=Y>>>1;ue<xe;){var R=2*(ue+1)-1,P=Q[R],H=R+1,G=Q[H];if(0>a(P,we))H<Y&&0>a(G,P)?(Q[ue]=G,Q[H]=we,ue=H):(Q[ue]=P,Q[R]=we,ue=R);else if(H<Y&&0>a(G,we))Q[ue]=G,Q[H]=we,ue=H;else break e}}return ce}function a(Q,ce){var we=Q.sortIndex-ce.sortIndex;return we!==0?we:Q.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,p=null,g=3,m=!1,y=!1,w=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate!="undefined"?setImmediate:null;function L(Q){for(var ce=t(u);ce!==null;){if(ce.callback===null)n(u);else if(ce.startTime<=Q)n(u),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=t(u)}}function B(Q){if(w=!1,L(Q),!y)if(t(c)!==null)y=!0,M||(M=!0,U());else{var ce=t(u);ce!==null&&Se(B,ce.startTime-Q)}}var M=!1,F=-1,D=5,O=-1;function q(){return _?!0:!(r.unstable_now()-O<D)}function I(){if(_=!1,M){var Q=r.unstable_now();O=Q;var ce=!0;try{e:{y=!1,w&&(w=!1,A(F),F=-1),m=!0;var we=g;try{t:{for(L(Q),p=t(c);p!==null&&!(p.expirationTime>Q&&q());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var Y=ue(p.expirationTime<=Q);if(Q=r.unstable_now(),typeof Y=="function"){p.callback=Y,L(Q),ce=!0;break t}p===t(c)&&n(c),L(Q)}else n(c);p=t(c)}if(p!==null)ce=!0;else{var xe=t(u);xe!==null&&Se(B,xe.startTime-Q),ce=!1}}break e}finally{p=null,g=we,m=!1}ce=void 0}}finally{ce?U():M=!1}}}var U;if(typeof C=="function")U=function(){C(I)};else if(typeof MessageChannel!="undefined"){var X=new MessageChannel,ae=X.port2;X.port1.onmessage=I,U=function(){ae.postMessage(null)}}else U=function(){S(I,0)};function Se(Q,ce){F=S(function(){Q(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var ce=3;break;default:ce=g}var we=g;g=ce;try{return Q()}finally{g=we}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var we=g;g=Q;try{return ce()}finally{g=we}},r.unstable_scheduleCallback=function(Q,ce,we){var ue=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?ue+we:ue):we=ue,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=we+Y,Q={id:d++,callback:ce,priorityLevel:Q,startTime:we,expirationTime:Y,sortIndex:-1},we>ue?(Q.sortIndex=we,e(u,Q),t(c)===null&&Q===t(u)&&(w?(A(F),F=-1):w=!0,Se(B,we-ue))):(Q.sortIndex=Y,e(c,Q),y||m||(y=!0,M||(M=!0,U()))),Q},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(Q){var ce=g;return function(){var we=g;g=ce;try{return Q.apply(this,arguments)}finally{g=we}}}}(Ux)),Ux}var Ub;function vC(){return Ub||(Ub=1,Bx.exports=xC()),Bx.exports}var zx={exports:{}},Ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function yC(){if(zb)return Ni;zb=1;var r=ky();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:c,containerInfo:u,implementation:d}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ni.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(c,u,null,d)},Ni.flushSync=function(c){var u=s.T,d=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=u,n.p=d,n.d.f()}},Ni.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Ni.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ni.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:m}):d==="script"&&n.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ni.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Ni.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ni.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Ni.requestFormReset=function(c){n.d.r(c)},Ni.unstable_batchedUpdates=function(c,u){return c(u)},Ni.useFormState=function(c,u,d){return s.H.useFormState(c,u,d)},Ni.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ni.version="19.1.0",Ni}var Hb;function wC(){if(Hb)return zx.exports;Hb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zx.exports=yC(),zx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function bC(){if(qb)return Zh;qb=1;var r=vC(),e=ky(),t=wC();function n(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var h=f,x=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(x=h.return),f=h.return;while(f)}return h.tag===3?x:null}function s(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function o(f){if(i(f)!==f)throw Error(n(188))}function c(f){var h=f.alternate;if(!h){if(h=i(f),h===null)throw Error(n(188));return h!==f?null:f}for(var x=f,v=h;;){var E=x.return;if(E===null)break;var T=E.alternate;if(T===null){if(v=E.return,v!==null){x=v;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===x)return o(E),f;if(T===v)return o(E),h;T=T.sibling}throw Error(n(188))}if(x.return!==v.return)x=E,v=T;else{for(var W=!1,se=E.child;se;){if(se===x){W=!0,x=E,v=T;break}if(se===v){W=!0,v=E,x=T;break}se=se.sibling}if(!W){for(se=T.child;se;){if(se===x){W=!0,x=T,v=E;break}if(se===v){W=!0,v=T,x=E;break}se=se.sibling}if(!W)throw Error(n(189))}}if(x.alternate!==v)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?f:h}function u(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=u(f),h!==null)return h;f=f.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(f){return f===null||typeof f!="object"?null:(f=I&&f[I]||f["@@iterator"],typeof f=="function"?f:null)}var X=Symbol.for("react.client.reference");function ae(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===X?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case y:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case M:return"SuspenseList";case O:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case m:return"Portal";case C:return(f.displayName||"Context")+".Provider";case A:return(f._context.displayName||"Context")+".Consumer";case L:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case F:return h=f.displayName||null,h!==null?h:ae(f.type)||"Memo";case D:h=f._payload,f=f._init;try{return ae(f(h))}catch(x){}}return null}var Se=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},ue=[],Y=-1;function xe(f){return{current:f}}function R(f){0>Y||(f.current=ue[Y],ue[Y]=null,Y--)}function P(f,h){Y++,ue[Y]=f.current,f.current=h}var H=xe(null),G=xe(null),J=xe(null),Ee=xe(null);function ve(f,h){switch(P(J,h),P(G,f),P(H,null),h.nodeType){case 9:case 11:f=(f=h.documentElement)&&(f=f.namespaceURI)?ib(f):0;break;default:if(f=h.tagName,h=h.namespaceURI)h=ib(h),f=sb(h,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}R(H),P(H,f)}function he(){R(H),R(G),R(J)}function pe(f){f.memoizedState!==null&&P(Ee,f);var h=H.current,x=sb(h,f.type);h!==x&&(P(G,f),P(H,x))}function Ne(f){G.current===f&&(R(H),R(G)),Ee.current===f&&(R(Ee),Vh._currentValue=we)}var Be=Object.prototype.hasOwnProperty,rt=r.unstable_scheduleCallback,ft=r.unstable_cancelCallback,ze=r.unstable_shouldYield,te=r.unstable_requestPaint,ke=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Te=r.unstable_ImmediatePriority,Ie=r.unstable_UserBlockingPriority,ot=r.unstable_NormalPriority,mt=r.unstable_LowPriority,vt=r.unstable_IdlePriority,Tt=r.log,zt=r.unstable_setDisableYieldValue,It=null,Mt=null;function Xt(f){if(typeof Tt=="function"&&zt(f),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(It,f)}catch(h){}}var Pt=Math.clz32?Math.clz32:Hr,cr=Math.log,At=Math.LN2;function Hr(f){return f>>>=0,f===0?32:31-(cr(f)/At|0)|0}var or=256,ea=4194304;function Er(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function Yr(f,h,x){var v=f.pendingLanes;if(v===0)return 0;var E=0,T=f.suspendedLanes,W=f.pingedLanes;f=f.warmLanes;var se=v&134217727;return se!==0?(v=se&~T,v!==0?E=Er(v):(W&=se,W!==0?E=Er(W):x||(x=se&~f,x!==0&&(E=Er(x))))):(se=v&~T,se!==0?E=Er(se):W!==0?E=Er(W):x||(x=v&~f,x!==0&&(E=Er(x)))),E===0?0:h!==0&&h!==E&&(h&T)===0&&(T=E&-E,x=h&-h,T>=x||T===32&&(x&4194048)!==0)?h:E}function Ma(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function Rr(f,h){switch(f){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(){var f=or;return or<<=1,(or&4194048)===0&&(or=256),f}function mn(){var f=ea;return ea<<=1,(ea&62914560)===0&&(ea=4194304),f}function ei(f){for(var h=[],x=0;31>x;x++)h.push(f);return h}function ti(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function nn(f,h,x,v,E,T){var W=f.pendingLanes;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=x,f.entangledLanes&=x,f.errorRecoveryDisabledLanes&=x,f.shellSuspendCounter=0;var se=f.entanglements,Ce=f.expirationTimes,We=f.hiddenUpdates;for(x=W&~x;0<x;){var lt=31-Pt(x),pt=1<<lt;se[lt]=0,Ce[lt]=-1;var Ke=We[lt];if(Ke!==null)for(We[lt]=null,lt=0;lt<Ke.length;lt++){var Je=Ke[lt];Je!==null&&(Je.lane&=-536870913)}x&=~pt}v!==0&&er(f,v,0),T!==0&&E===0&&f.tag!==0&&(f.suspendedLanes|=T&~(W&~h))}function er(f,h,x){f.pendingLanes|=h,f.suspendedLanes&=~h;var v=31-Pt(h);f.entangledLanes|=h,f.entanglements[v]=f.entanglements[v]|1073741824|x&4194090}function kr(f,h){var x=f.entangledLanes|=h;for(f=f.entanglements;x;){var v=31-Pt(x),E=1<<v;E&h|f[v]&h&&(f[v]|=h),x&=~E}}function js(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function Gn(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Bi(){var f=ce.p;return f!==0?f:(f=window.event,f===void 0?32:Ab(f.type))}function is(f,h){var x=ce.p;try{return ce.p=f,h()}finally{ce.p=x}}var qt=Math.random().toString(36).slice(2),Qr="__reactFiber$"+qt,an="__reactProps$"+qt,Wn="__reactContainer$"+qt,Rn="__reactEvents$"+qt,Bn="__reactListeners$"+qt,re="__reactHandles$"+qt,be="__reactResources$"+qt,fe="__reactMarker$"+qt;function de(f){delete f[Qr],delete f[an],delete f[Rn],delete f[Bn],delete f[re]}function ye(f){var h=f[Qr];if(h)return h;for(var x=f.parentNode;x;){if(h=x[Wn]||x[Qr]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(f=ub(f);f!==null;){if(x=f[Qr])return x;f=ub(f)}return h}f=x,x=f.parentNode}return null}function _e(f){if(f=f[Qr]||f[Wn]){var h=f.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return f}return null}function He(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f.stateNode;throw Error(n(33))}function et(f){var h=f[be];return h||(h=f[be]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Fe(f){f[fe]=!0}var Ge=new Set,Ye={};function gt(f,h){St(f,h),St(f+"Capture",h)}function St(f,h){for(Ye[f]=h,f=0;f<h.length;f++)Ge.add(h[f])}var kt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bt={},Rt={};function tr(f){return Be.call(Rt,f)?!0:Be.call(bt,f)?!1:kt.test(f)?Rt[f]=!0:(bt[f]=!0,!1)}function Lr(f,h,x){if(tr(h))if(x===null)f.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":f.removeAttribute(h);return;case"boolean":var v=h.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){f.removeAttribute(h);return}}f.setAttribute(h,""+x)}}function Br(f,h,x){if(x===null)f.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(h);return}f.setAttribute(h,""+x)}}function en(f,h,x,v){if(v===null)f.removeAttribute(x);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(x);return}f.setAttributeNS(h,x,""+v)}}var Ui,eo;function ri(f){if(Ui===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Ui=h&&h[1]||"",eo=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+f+eo}var zi=!1;function ss(f,h){if(!f||zi)return"";zi=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(h){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(Je){var Ke=Je}Reflect.construct(f,[],pt)}else{try{pt.call()}catch(Je){Ke=Je}f.call(pt.prototype)}}else{try{throw Error()}catch(Je){Ke=Je}(pt=f())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(Je){if(Je&&Ke&&typeof Je.stack=="string")return[Je.stack,Ke.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),W=T[0],se=T[1];if(W&&se){var Ce=W.split(`
`),We=se.split(`
`);for(E=v=0;v<Ce.length&&!Ce[v].includes("DetermineComponentFrameRoot");)v++;for(;E<We.length&&!We[E].includes("DetermineComponentFrameRoot");)E++;if(v===Ce.length||E===We.length)for(v=Ce.length-1,E=We.length-1;1<=v&&0<=E&&Ce[v]!==We[E];)E--;for(;1<=v&&0<=E;v--,E--)if(Ce[v]!==We[E]){if(v!==1||E!==1)do if(v--,E--,0>E||Ce[v]!==We[E]){var lt=`
`+Ce[v].replace(" at new "," at ");return f.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",f.displayName)),lt}while(1<=v&&0<=E);break}}}finally{zi=!1,Error.prepareStackTrace=x}return(x=f?f.displayName||f.name:"")?ri(x):""}function Hi(f){switch(f.tag){case 26:case 27:case 5:return ri(f.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return ss(f.type,!1);case 11:return ss(f.type.render,!1);case 1:return ss(f.type,!0);case 31:return ri("Activity");default:return""}}function Un(f){try{var h="";do h+=Hi(f),f=f.return;while(f);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ni(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function a0(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function yf(f){var h=a0(f)?"checked":"value",x=Object.getOwnPropertyDescriptor(f.constructor.prototype,h),v=""+f[h];if(!f.hasOwnProperty(h)&&typeof x!="undefined"&&typeof x.get=="function"&&typeof x.set=="function"){var E=x.get,T=x.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return E.call(this)},set:function(W){v=""+W,T.call(this,W)}}),Object.defineProperty(f,h,{enumerable:x.enumerable}),{getValue:function(){return v},setValue:function(W){v=""+W},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function pl(f){f._valueTracker||(f._valueTracker=yf(f))}function wf(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var x=h.getValue(),v="";return f&&(v=a0(f)?f.checked?"true":"false":f.value),f=v,f!==x?(h.setValue(f),!0):!1}function yi(f){if(f=f||(typeof document!="undefined"?document:void 0),typeof f=="undefined")return null;try{return f.activeElement||f.body}catch(h){return f.body}}var qc=/[\n"\\]/g;function _n(f){return f.replace(qc,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function rc(f,h,x,v,E,T,W,se){f.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?f.type=W:f.removeAttribute("type"),h!=null?W==="number"?(h===0&&f.value===""||f.value!=h)&&(f.value=""+ni(h)):f.value!==""+ni(h)&&(f.value=""+ni(h)):W!=="submit"&&W!=="reset"||f.removeAttribute("value"),h!=null?s0(f,W,ni(h)):x!=null?s0(f,W,ni(x)):v!=null&&f.removeAttribute("value"),E==null&&T!=null&&(f.defaultChecked=!!T),E!=null&&(f.checked=E&&typeof E!="function"&&typeof E!="symbol"),se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"?f.name=""+ni(se):f.removeAttribute("name")}function i0(f,h,x,v,E,T,W,se){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(f.type=T),h!=null||x!=null){if(!(T!=="submit"&&T!=="reset"||h!=null))return;x=x!=null?""+ni(x):"",h=h!=null?""+ni(h):x,se||h===f.value||(f.value=h),f.defaultValue=h}v=v!=null?v:E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,f.checked=se?f.checked:!!v,f.defaultChecked=!!v,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(f.name=W)}function s0(f,h,x){h==="number"&&yi(f.ownerDocument)===f||f.defaultValue===""+x||(f.defaultValue=""+x)}function No(f,h,x,v){if(f=f.options,h){h={};for(var E=0;E<x.length;E++)h["$"+x[E]]=!0;for(x=0;x<f.length;x++)E=h.hasOwnProperty("$"+f[x].value),f[x].selected!==E&&(f[x].selected=E),E&&v&&(f[x].defaultSelected=!0)}else{for(x=""+ni(x),h=null,E=0;E<f.length;E++){if(f[E].value===x){f[E].selected=!0,v&&(f[E].defaultSelected=!0);return}h!==null||f[E].disabled||(h=f[E])}h!==null&&(h.selected=!0)}}function bf(f,h,x){if(h!=null&&(h=""+ni(h),h!==f.value&&(f.value=h),x==null)){f.defaultValue!==h&&(f.defaultValue=h);return}f.defaultValue=x!=null?""+ni(x):""}function o0(f,h,x,v){if(h==null){if(v!=null){if(x!=null)throw Error(n(92));if(Se(v)){if(1<v.length)throw Error(n(93));v=v[0]}x=v}x==null&&(x=""),h=x}x=ni(h),f.defaultValue=x,v=f.textContent,v===x&&v!==""&&v!==null&&(f.value=v)}function gl(f,h){if(h){var x=f.firstChild;if(x&&x===f.lastChild&&x.nodeType===3){x.nodeValue=h;return}}f.textContent=h}var l0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _f(f,h,x){var v=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?v?f.setProperty(h,""):h==="float"?f.cssFloat="":f[h]="":v?f.setProperty(h,x):typeof x!="number"||x===0||l0.has(h)?h==="float"?f.cssFloat=x:f[h]=(""+x).trim():f[h]=x+"px"}function Sf(f,h,x){if(h!=null&&typeof h!="object")throw Error(n(62));if(f=f.style,x!=null){for(var v in x)!x.hasOwnProperty(v)||h!=null&&h.hasOwnProperty(v)||(v.indexOf("--")===0?f.setProperty(v,""):v==="float"?f.cssFloat="":f[v]="");for(var E in h)v=h[E],h.hasOwnProperty(E)&&x[E]!==v&&_f(f,E,v)}else for(var T in h)h.hasOwnProperty(T)&&_f(f,T,h[T])}function c0(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(f){return $c.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var Vc=null;function ya(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var ml=null,jo=null;function ar(f){var h=_e(f);if(h&&(f=h.stateNode)){var x=f[an]||null;e:switch(f=h.stateNode,h.type){case"input":if(rc(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=f;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+_n(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var v=x[h];if(v!==f&&v.form===f.form){var E=v[an]||null;if(!E)throw Error(n(90));rc(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<x.length;h++)v=x[h],v.form===f.form&&wf(v)}break e;case"textarea":bf(f,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&No(f,!!x.multiple,h,!1)}}}var u0=!1;function Ef(f,h,x){if(u0)return f(h,x);u0=!0;try{var v=f(h);return v}finally{if(u0=!1,(ml!==null||jo!==null)&&(Ip(),ml&&(h=ml,f=jo,jo=ml=null,ar(h),f)))for(h=0;h<f.length;h++)ar(f[h])}}function wi(f,h){var x=f.stateNode;if(x===null)return null;var v=x[an]||null;if(v===null)return null;x=v[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(f=f.type,v=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!v;break e;default:f=!1}if(f)return null;if(x&&typeof x!="function")throw Error(n(231,h,typeof x));return x}var os=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Gc=!1;if(os)try{var to={};Object.defineProperty(to,"passive",{get:function(){Gc=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch(f){Gc=!1}var ls=null,f0=null,Wc=null;function Af(){if(Wc)return Wc;var f,h=f0,x=h.length,v,E="value"in ls?ls.value:ls.textContent,T=E.length;for(f=0;f<x&&h[f]===E[f];f++);var W=x-f;for(v=1;v<=W&&h[x-v]===E[T-v];v++);return Wc=E.slice(f,1<v?1-v:void 0)}function xl(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function ro(){return!0}function Oo(){return!1}function Ba(f){function h(x,v,E,T,W){this._reactName=x,this._targetInst=E,this.type=v,this.nativeEvent=T,this.target=W,this.currentTarget=null;for(var se in f)f.hasOwnProperty(se)&&(x=f[se],this[se]=x?x(T):T[se]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ro:Oo,this.isPropagationStopped=Oo,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),h}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Ba(qi),no=d({},qi,{view:0,detail:0}),Nf=Ba(no),Xc,Yc,yl,$i=d({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==yl&&(yl&&f.type==="mousemove"?(Xc=f.screenX-yl.screenX,Yc=f.screenY-yl.screenY):Yc=Xc=0,yl=f),Xc)},movementY:function(f){return"movementY"in f?f.movementY:Yc}}),ao=Ba($i),lh=d({},$i,{dataTransfer:0}),wl=Ba(lh),Os=d({},no,{relatedTarget:0}),nc=Ba(Os),ac=d({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),ch=Ba(ac),Kc=d({},qi,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),uh=Ba(Kc),d0=d({},qi,{data:0}),Zc=Ba(d0),Cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=h0[f])?!!h[f]:!1}function Qc(){return p0}var fh=d({},no,{key:function(f){if(f.key){var h=Cf[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=xl(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Jc[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(f){return f.type==="keypress"?xl(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?xl(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),eu=Ba(fh),ic=d({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=Ba(ic),bl=d({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),g0=Ba(bl),j=d({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z=Ba(j),Ae=d({},$i,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ba(Ae),Ue=d({},qi,{newState:0,oldState:0}),nt=Ba(Ue),yt=[9,13,27,32],Lt=os&&"CompositionEvent"in window,$t=null;os&&"documentMode"in document&&($t=document.documentMode);var ur=os&&"TextEvent"in window&&!$t,sr=os&&(!Lt||$t&&8<$t&&11>=$t),Cr=" ",An=!1;function kn(f,h){switch(f){case"keyup":return yt.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xn(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Yn=!1;function wa(f,h){switch(f){case"compositionend":return Xn(h);case"keypress":return h.which!==32?null:(An=!0,Cr);case"textInput":return f=h.data,f===Cr&&An?null:f;default:return null}}function Rs(f,h){if(Yn)return f==="compositionend"||!Lt&&kn(f,h)?(f=Af(),Wc=f0=ls=null,Yn=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return sr&&h.locale!=="ko"?null:h.data;default:return null}}var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ks(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!Vi[f.type]:h==="textarea"}function m0(f,h,x,v){ml?jo?jo.push(v):jo=[v]:ml=v,h=zp(h,"onChange"),0<h.length&&(x=new vl("onChange","change",null,x,v),f.push({event:x,listeners:h}))}var Ro=null,ko=null;function ru(f){eb(f,0)}function _l(f){var h=He(f);if(wf(h))return f}function nu(f,h){if(f==="change")return h}var sc=!1;if(os){var ca;if(os){var Sl="oninput"in document;if(!Sl){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),Sl=typeof oc.oninput=="function"}ca=Sl}else ca=!1;sc=ca&&(!document.documentMode||9<document.documentMode)}function lc(){Ro&&(Ro.detachEvent("onpropertychange",au),ko=Ro=null)}function au(f){if(f.propertyName==="value"&&_l(ko)){var h=[];m0(h,ko,f,ya(f)),Ef(ru,h)}}function bi(f,h,x){f==="focusin"?(lc(),Ro=h,ko=x,Ro.attachEvent("onpropertychange",au)):f==="focusout"&&lc()}function dh(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return _l(ko)}function x0(f,h){if(f==="click")return _l(h)}function Tf(f,h){if(f==="input"||f==="change")return _l(h)}function cs(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var ba=typeof Object.is=="function"?Object.is:cs;function El(f,h){if(ba(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var x=Object.keys(f),v=Object.keys(h);if(x.length!==v.length)return!1;for(v=0;v<x.length;v++){var E=x[v];if(!Be.call(h,E)||!ba(f[E],h[E]))return!1}return!0}function v0(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Lo(f,h){var x=v0(f);f=0;for(var v;x;){if(x.nodeType===3){if(v=f+x.textContent.length,f<=h&&v>=h)return{node:x,offset:h-f};f=v}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=v0(x)}}function Al(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?Al(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function ai(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var h=yi(f.document);h instanceof f.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch(v){x=!1}if(x)f=h.contentWindow;else break;h=yi(f.document)}return h}function Ta(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}var Nl=os&&"documentMode"in document&&11>=document.documentMode,_i=null,Ls=null,io=null,Ds=!1;function zn(f,h,x){var v=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ds||_i==null||_i!==yi(v)||(v=_i,"selectionStart"in v&&Ta(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),io&&El(io,v)||(io=v,v=zp(Ls,"onSelect"),0<v.length&&(h=new vl("onSelect","select",null,h,x),f.push({event:h,listeners:v}),h.target=_i)))}function Is(f,h){var x={};return x[f.toLowerCase()]=h.toLowerCase(),x["Webkit"+f]="webkit"+h,x["Moz"+f]="moz"+h,x}var ta={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Si={},cc={};os&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function so(f){if(Si[f])return Si[f];if(!ta[f])return f;var h=ta[f],x;for(x in h)if(h.hasOwnProperty(x)&&x in cc)return Si[f]=h[x];return f}var iu=so("animationend"),Cl=so("animationiteration"),Tl=so("animationstart"),jl=so("transitionrun"),uc=so("transitionstart"),su=so("transitioncancel"),Ol=so("transitionend"),Do=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function Hn(f,h){Do.set(f,h),gt(h,[f])}var Gi=new WeakMap;function wr(f,h){if(typeof f=="object"&&f!==null){var x=Gi.get(f);return x!==void 0?x:(h={value:f,source:h,stack:Un(h)},Gi.set(f,h),h)}return{value:f,source:h,stack:Un(h)}}var br=[],xn=0,Kn=0;function us(){for(var f=xn,h=Kn=xn=0;h<f;){var x=br[h];br[h++]=null;var v=br[h];br[h++]=null;var E=br[h];br[h++]=null;var T=br[h];if(br[h++]=null,v!==null&&E!==null){var W=v.pending;W===null?E.next=E:(E.next=W.next,W.next=E),v.pending=E}T!==0&&jf(x,E,T)}}function Rl(f,h,x,v){br[xn++]=f,br[xn++]=h,br[xn++]=x,br[xn++]=v,Kn|=v,f.lanes|=v,f=f.alternate,f!==null&&(f.lanes|=v)}function kl(f,h,x,v){return Rl(f,h,x,v),dc(f)}function Io(f,h){return Rl(f,null,null,h),dc(f)}function jf(f,h,x){f.lanes|=x;var v=f.alternate;v!==null&&(v.lanes|=x);for(var E=!1,T=f.return;T!==null;)T.childLanes|=x,v=T.alternate,v!==null&&(v.childLanes|=x),T.tag===22&&(f=T.stateNode,f===null||f._visibility&1||(E=!0)),f=T,T=T.return;return f.tag===3?(T=f.stateNode,E&&h!==null&&(E=31-Pt(x),f=T.hiddenUpdates,v=f[E],v===null?f[E]=[h]:v.push(h),h.lane=x|536870912),T):null}function dc(f){if(50<Fh)throw Fh=0,ax=null,Error(n(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}var _a={};function fs(f,h,x,v){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(f,h,x,v){return new fs(f,h,x,v)}function ou(f){return f=f.prototype,!(!f||!f.isReactComponent)}function oo(f,h){var x=f.alternate;return x===null?(x=Ua(f.tag,h,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=h,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&65011712,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,h=f.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x.refCleanup=f.refCleanup,x}function y0(f,h){f.flags&=65011714;var x=f.alternate;return x===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,h=x.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function hc(f,h,x,v,E,T){var W=0;if(v=f,typeof f=="function")ou(f)&&(W=1);else if(typeof f=="string")W=KN(f,x,H.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case O:return f=Ua(31,x,h,E),f.elementType=O,f.lanes=T,f;case y:return Po(x.children,E,T,h);case w:W=8,E|=24;break;case _:return f=Ua(12,x,h,E|2),f.elementType=_,f.lanes=T,f;case B:return f=Ua(13,x,h,E),f.elementType=B,f.lanes=T,f;case M:return f=Ua(19,x,h,E),f.elementType=M,f.lanes=T,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case S:case C:W=10;break e;case A:W=9;break e;case L:W=11;break e;case F:W=14;break e;case D:W=16,v=null;break e}W=29,x=Error(n(130,f===null?"null":typeof f,"")),v=null}return h=Ua(W,x,h,E),h.elementType=f,h.type=v,h.lanes=T,h}function Po(f,h,x,v){return f=Ua(7,f,v,h),f.lanes=x,f}function Of(f,h,x){return f=Ua(6,f,null,h),f.lanes=x,f}function w0(f,h,x){return h=Ua(4,f.children!==null?f.children:[],f.key,h),h.lanes=x,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}var Ll=[],Fo=0,lu=null,Rf=0,ds=[],Wi=0,pc=null,Mo=1,Bo="";function gc(f,h){Ll[Fo++]=Rf,Ll[Fo++]=lu,lu=f,Rf=h}function ip(f,h,x){ds[Wi++]=Mo,ds[Wi++]=Bo,ds[Wi++]=pc,pc=f;var v=Mo;f=Bo;var E=32-Pt(v)-1;v&=~(1<<E),x+=1;var T=32-Pt(h)+E;if(30<T){var W=E-E%5;T=(v&(1<<W)-1).toString(32),v>>=W,E-=W,Mo=1<<32-Pt(h)+E|x<<E|v,Bo=T+f}else Mo=1<<T|x<<E|v,Bo=f}function b0(f){f.return!==null&&(gc(f,1),ip(f,1,0))}function _0(f){for(;f===lu;)lu=Ll[--Fo],Ll[Fo]=null,Rf=Ll[--Fo],Ll[Fo]=null;for(;f===pc;)pc=ds[--Wi],ds[Wi]=null,Bo=ds[--Wi],ds[Wi]=null,Mo=ds[--Wi],ds[Wi]=null}var ua=null,qn=null,Ur=!1,Dl=null,lo=!1,hh=Error(n(519));function mc(f){var h=Error(n(418,""));throw cu(wr(h,f)),hh}function sp(f){var h=f.stateNode,x=f.type,v=f.memoizedProps;switch(h[Qr]=f,h[an]=v,x){case"dialog":jr("cancel",h),jr("close",h);break;case"iframe":case"object":case"embed":jr("load",h);break;case"video":case"audio":for(x=0;x<Bh.length;x++)jr(Bh[x],h);break;case"source":jr("error",h);break;case"img":case"image":case"link":jr("error",h),jr("load",h);break;case"details":jr("toggle",h);break;case"input":jr("invalid",h),i0(h,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),pl(h);break;case"select":jr("invalid",h);break;case"textarea":jr("invalid",h),o0(h,v.value,v.defaultValue,v.children),pl(h)}x=v.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||v.suppressHydrationWarning===!0||ab(h.textContent,x)?(v.popover!=null&&(jr("beforetoggle",h),jr("toggle",h)),v.onScroll!=null&&jr("scroll",h),v.onScrollEnd!=null&&jr("scrollend",h),v.onClick!=null&&(h.onclick=Hp),h=!0):h=!1,h||mc(f)}function Uo(f){for(ua=f.return;ua;)switch(ua.tag){case 5:case 13:lo=!1;return;case 27:case 3:lo=!0;return;default:ua=ua.return}}function ii(f){if(f!==ua)return!1;if(!Ur)return Uo(f),Ur=!0,!1;var h=f.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=f.type,x=!(x!=="form"&&x!=="button")||wx(f.type,f.memoizedProps)),x=!x),x&&qn&&mc(f),Uo(f),h===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,h=0;f;){if(f.nodeType===8)if(x=f.data,x==="/$"){if(h===0){qn=Xo(f.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++;f=f.nextSibling}qn=null}}else h===27?(h=qn,Nu(f.type)?(f=Ex,Ex=null,qn=f):qn=h):qn=ua?Xo(f.stateNode.nextSibling):null;return!0}function Xi(){qn=ua=null,Ur=!1}function op(){var f=Dl;return f!==null&&(gs===null?gs=f:gs.push.apply(gs,f),Dl=null),f}function cu(f){Dl===null?Dl=[f]:Dl.push(f)}var co=xe(null),Sa=null,zo=null;function Il(f,h,x){P(co,h._currentValue),h._currentValue=x}function uo(f){f._currentValue=co.current,R(co)}function kf(f,h,x){for(;f!==null;){var v=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,v!==null&&(v.childLanes|=h)):v!==null&&(v.childLanes&h)!==h&&(v.childLanes|=h),f===x)break;f=f.return}}function Lf(f,h,x,v){var E=f.child;for(E!==null&&(E.return=f);E!==null;){var T=E.dependencies;if(T!==null){var W=E.child;T=T.firstContext;e:for(;T!==null;){var se=T;T=E;for(var Ce=0;Ce<h.length;Ce++)if(se.context===h[Ce]){T.lanes|=x,se=T.alternate,se!==null&&(se.lanes|=x),kf(T.return,x,f),v||(W=null);break e}T=se.next}}else if(E.tag===18){if(W=E.return,W===null)throw Error(n(341));W.lanes|=x,T=W.alternate,T!==null&&(T.lanes|=x),kf(W,x,f),W=null}else W=E.child;if(W!==null)W.return=E;else for(W=E;W!==null;){if(W===f){W=null;break}if(E=W.sibling,E!==null){E.return=W.return,W=E;break}W=W.return}E=W}}function uu(f,h,x,v){f=null;for(var E=h,T=!1;E!==null;){if(!T){if((E.flags&524288)!==0)T=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var W=E.alternate;if(W===null)throw Error(n(387));if(W=W.memoizedProps,W!==null){var se=E.type;ba(E.pendingProps.value,W.value)||(f!==null?f.push(se):f=[se])}}else if(E===Ee.current){if(W=E.alternate,W===null)throw Error(n(387));W.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(f!==null?f.push(Vh):f=[Vh])}E=E.return}f!==null&&Lf(h,f,x,v),h.flags|=262144}function Df(f){for(f=f.firstContext;f!==null;){if(!ba(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function fo(f){Sa=f,zo=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function fa(f){return If(Sa,f)}function Pl(f,h){return Sa===null&&fo(f),If(f,h)}function If(f,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},zo===null){if(f===null)throw Error(n(308));zo=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else zo=zo.next=h;return x}var j2=typeof AbortController!="undefined"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(x,v){f.push(v)}};this.abort=function(){h.aborted=!0,f.forEach(function(x){return x()})}},lp=r.unstable_scheduleCallback,O2=r.unstable_NormalPriority,da={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new j2,data:new Map,refCount:0}}function S0(f){f.refCount--,f.refCount===0&&lp(O2,function(){f.controller.abort()})}var E0=null,gh=0,xc=0,Ho=null;function R2(f,h){if(E0===null){var x=E0=[];gh=0,xc=fx(),Ho={status:"pending",value:void 0,then:function(v){x.push(v)}}}return gh++,h.then(cp,cp),h}function cp(){if(--gh===0&&E0!==null){Ho!==null&&(Ho.status="fulfilled");var f=E0;E0=null,xc=0,Ho=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function up(f,h){var x=[],v={status:"pending",value:null,reason:null,then:function(E){x.push(E)}};return f.then(function(){v.status="fulfilled",v.value=h;for(var E=0;E<x.length;E++)(0,x[E])(h)},function(E){for(v.status="rejected",v.reason=E,E=0;E<x.length;E++)(0,x[E])(void 0)}),v}var b=Q.S;Q.S=function(f,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&R2(f,h),b!==null&&b(f,h)};var N=xe(null);function k(){var f=N.current;return f!==null?f:Cn.pooledCache}function z(f,h){h===null?P(N,N.current):P(N,h.pool)}function K(){var f=k();return f===null?null:{parent:da._currentValue,pool:f}}var ee=Error(n(460)),ne=Error(n(474)),ie=Error(n(542)),le={then:function(){}};function me(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Oe(){}function Ve(f,h,x){switch(x=f[x],x===void 0?f.push(h):x!==h&&(h.then(Oe,Oe),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,dt(f),f;default:if(typeof h.status=="string")h.then(Oe,Oe);else{if(f=Cn,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=h,f.status="pending",f.then(function(v){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=v}},function(v){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=v}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,dt(f),f}throw qe=h,ee}}var qe=null;function Pe(){if(qe===null)throw Error(n(459));var f=qe;return qe=null,f}function dt(f){if(f===ee||f===ie)throw Error(n(483))}var Qe=!1;function Re(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function De(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function st(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ht(f,h,x){var v=f.updateQueue;if(v===null)return null;if(v=v.shared,(on&2)!==0){var E=v.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),v.pending=h,h=dc(f),jf(f,null,x),h}return Rl(f,v,h,x),dc(f)}function ct(f,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var v=h.lanes;v&=f.pendingLanes,x|=v,h.lanes=x,kr(f,x)}}function Dt(f,h){var x=f.updateQueue,v=f.alternate;if(v!==null&&(v=v.updateQueue,x===v)){var E=null,T=null;if(x=x.firstBaseUpdate,x!==null){do{var W={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};T===null?E=T=W:T=T.next=W,x=x.next}while(x!==null);T===null?E=T=h:T=T.next=h}else E=T=h;x={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=h:f.next=h,x.lastBaseUpdate=h}var Ct=!1;function Gt(){if(Ct){var f=Ho;if(f!==null)throw f}}function jt(f,h,x,v){Ct=!1;var E=f.updateQueue;Qe=!1;var T=E.firstBaseUpdate,W=E.lastBaseUpdate,se=E.shared.pending;if(se!==null){E.shared.pending=null;var Ce=se,We=Ce.next;Ce.next=null,W===null?T=We:W.next=We,W=Ce;var lt=f.alternate;lt!==null&&(lt=lt.updateQueue,se=lt.lastBaseUpdate,se!==W&&(se===null?lt.firstBaseUpdate=We:se.next=We,lt.lastBaseUpdate=Ce))}if(T!==null){var pt=E.baseState;W=0,lt=We=Ce=null,se=T;do{var Ke=se.lane&-536870913,Je=Ke!==se.lane;if(Je?(Fr&Ke)===Ke:(v&Ke)===Ke){Ke!==0&&Ke===xc&&(Ct=!0),lt!==null&&(lt=lt.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var ir=f,Zt=se;Ke=h;var yn=x;switch(Zt.tag){case 1:if(ir=Zt.payload,typeof ir=="function"){pt=ir.call(yn,pt,Ke);break e}pt=ir;break e;case 3:ir.flags=ir.flags&-65537|128;case 0:if(ir=Zt.payload,Ke=typeof ir=="function"?ir.call(yn,pt,Ke):ir,Ke==null)break e;pt=d({},pt,Ke);break e;case 2:Qe=!0}}Ke=se.callback,Ke!==null&&(f.flags|=64,Je&&(f.flags|=8192),Je=E.callbacks,Je===null?E.callbacks=[Ke]:Je.push(Ke))}else Je={lane:Ke,tag:se.tag,payload:se.payload,callback:se.callback,next:null},lt===null?(We=lt=Je,Ce=pt):lt=lt.next=Je,W|=Ke;if(se=se.next,se===null){if(se=E.shared.pending,se===null)break;Je=se,se=Je.next,Je.next=null,E.lastBaseUpdate=Je,E.shared.pending=null}}while(!0);lt===null&&(Ce=pt),E.baseState=Ce,E.firstBaseUpdate=We,E.lastBaseUpdate=lt,T===null&&(E.shared.lanes=0),_u|=W,f.lanes=W,f.memoizedState=pt}}function Ir(f,h){if(typeof f!="function")throw Error(n(191,f));f.call(h)}function qr(f,h){var x=f.callbacks;if(x!==null)for(f.callbacks=null,f=0;f<x.length;f++)Ir(x[f],h)}var xr=xe(null),gr=xe(0);function tn(f,h){f=Cc,P(gr,f),P(xr,h),Cc=f|h.baseLanes}function $r(){P(gr,Cc),P(xr,xr.current)}function lr(){Cc=gr.current,R(xr),R(gr)}var sn=0,Yt=null,rr=null,Dr=null,Pr=!1,Ea=!1,ha=!1,Zn=0,Jn=0,ra=null,hs=0;function Vr(){throw Error(n(321))}function na(f,h){if(h===null)return!1;for(var x=0;x<h.length&&x<f.length;x++)if(!ba(f[x],h[x]))return!1;return!0}function Ps(f,h,x,v,E,T){return sn=T,Yt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Q.H=f===null||f.memoizedState===null?Mw:Bw,ha=!1,T=x(v,E),ha=!1,Ea&&(T=vc(h,x,v,E)),Fl(f),T}function Fl(f){Q.H=_p;var h=rr!==null&&rr.next!==null;if(sn=0,Dr=rr=Yt=null,Pr=!1,Jn=0,ra=null,h)throw Error(n(300));f===null||za||(f=f.dependencies,f!==null&&Df(f)&&(za=!0))}function vc(f,h,x,v){Yt=f;var E=0;do{if(Ea&&(ra=null),Jn=0,Ea=!1,25<=E)throw Error(n(301));if(E+=1,Dr=rr=null,f.updateQueue!=null){var T=f.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Q.H=oN,T=h(x,v)}while(Ea);return T}function Ml(){var f=Q.H,h=f.useState()[0];return h=typeof h.then=="function"?Bl(h):h,f=f.useState()[0],(rr!==null?rr.memoizedState:null)!==f&&(Yt.flags|=1024),h}function Nn(){var f=Zn!==0;return Zn=0,f}function A0(f,h,x){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~x}function Pf(f){if(Pr){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}Pr=!1}sn=0,Dr=rr=Yt=null,Ea=!1,Jn=Zn=0,ra=null}function si(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Yt.memoizedState=Dr=f:Dr=Dr.next=f,Dr}function Ln(){if(rr===null){var f=Yt.alternate;f=f!==null?f.memoizedState:null}else f=rr.next;var h=Dr===null?Yt.memoizedState:Dr.next;if(h!==null)Dr=h,rr=f;else{if(f===null)throw Yt.alternate===null?Error(n(467)):Error(n(310));rr=f,f={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},Dr===null?Yt.memoizedState=Dr=f:Dr=Dr.next=f}return Dr}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(f){var h=Jn;return Jn+=1,ra===null&&(ra=[]),f=Ve(ra,f,h),h=Yt,(Dr===null?h.memoizedState:Dr.next)===null&&(h=h.alternate,Q.H=h===null||h.memoizedState===null?Mw:Bw),f}function Ei(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Bl(f);if(f.$$typeof===C)return fa(f)}throw Error(n(438,String(f)))}function Ul(f){var h=null,x=Yt.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var v=Yt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(h={data:v.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=yc(),Yt.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(f),v=0;v<f;v++)x[v]=q;return h.index++,x}function Ai(f,h){return typeof h=="function"?h(f):h}function N0(f){var h=Ln();return fu(h,rr,f)}function fu(f,h,x){var v=f.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=x;var E=f.baseQueue,T=v.pending;if(T!==null){if(E!==null){var W=E.next;E.next=T.next,T.next=W}h.baseQueue=E=T,v.pending=null}if(T=f.baseState,E===null)f.memoizedState=T;else{h=E.next;var se=W=null,Ce=null,We=h,lt=!1;do{var pt=We.lane&-536870913;if(pt!==We.lane?(Fr&pt)===pt:(sn&pt)===pt){var Ke=We.revertLane;if(Ke===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),pt===xc&&(lt=!0);else if((sn&Ke)===Ke){We=We.next,Ke===xc&&(lt=!0);continue}else pt={lane:0,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(se=Ce=pt,W=T):Ce=Ce.next=pt,Yt.lanes|=Ke,_u|=Ke;pt=We.action,ha&&x(T,pt),T=We.hasEagerState?We.eagerState:x(T,pt)}else Ke={lane:pt,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},Ce===null?(se=Ce=Ke,W=T):Ce=Ce.next=Ke,Yt.lanes|=pt,_u|=pt;We=We.next}while(We!==null&&We!==h);if(Ce===null?W=T:Ce.next=se,!ba(T,f.memoizedState)&&(za=!0,lt&&(x=Ho,x!==null)))throw x;f.memoizedState=T,f.baseState=W,f.baseQueue=Ce,v.lastRenderedState=T}return E===null&&(v.lanes=0),[f.memoizedState,v.dispatch]}function Ff(f){var h=Ln(),x=h.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=f;var v=x.dispatch,E=x.pending,T=h.memoizedState;if(E!==null){x.pending=null;var W=E=E.next;do T=f(T,W.action),W=W.next;while(W!==E);ba(T,h.memoizedState)||(za=!0),h.memoizedState=T,h.baseQueue===null&&(h.baseState=T),x.lastRenderedState=T}return[T,v]}function C0(f,h,x){var v=Yt,E=Ln(),T=Ur;if(T){if(x===void 0)throw Error(n(407));x=x()}else x=h();var W=!ba((rr||E).memoizedState,x);W&&(E.memoizedState=x,za=!0),E=E.queue;var se=du.bind(null,v,E,f);if(gu(2048,8,se,[f]),E.getSnapshot!==h||W||Dr!==null&&Dr.memoizedState.tag&1){if(v.flags|=2048,$o(9,R0(),T0.bind(null,v,E,x,h),null),Cn===null)throw Error(n(349));T||(sn&124)!==0||Mf(v,h,x)}return x}function Mf(f,h,x){f.flags|=16384,f={getSnapshot:h,value:x},h=Yt.updateQueue,h===null?(h=yc(),Yt.updateQueue=h,h.stores=[f]):(x=h.stores,x===null?h.stores=[f]:x.push(f))}function T0(f,h,x,v){h.value=x,h.getSnapshot=v,fp(h)&&dp(f)}function du(f,h,x){return x(function(){fp(h)&&dp(f)})}function fp(f){var h=f.getSnapshot;f=f.value;try{var x=h();return!ba(f,x)}catch(v){return!0}}function dp(f){var h=Io(f,2);h!==null&&Hs(h,f,2)}function j0(f){var h=si();if(typeof f=="function"){var x=f;if(f=x(),ha){Xt(!0);try{x()}finally{Xt(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:f},h}function qo(f,h,x,v){return f.baseState=x,fu(f,rr,typeof v=="function"?v:Ai)}function k2(f,h,x,v,E){if(bp(f))throw Error(n(485));if(f=h.action,f!==null){var T={payload:E,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){T.listeners.push(W)}};Q.T!==null?x(!0):T.isTransition=!1,v(T),x=h.pending,x===null?(T.next=h.pending=T,hp(h,T)):(T.next=x.next,h.pending=x.next=T)}}function hp(f,h){var x=h.action,v=h.payload,E=f.state;if(h.isTransition){var T=Q.T,W={};Q.T=W;try{var se=x(E,v),Ce=Q.S;Ce!==null&&Ce(W,se),pp(f,h,se)}catch(We){hu(f,h,We)}finally{Q.T=T}}else try{T=x(E,v),pp(f,h,T)}catch(We){hu(f,h,We)}}function pp(f,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(v){mh(f,h,v)},function(v){return hu(f,h,v)}):mh(f,h,x)}function mh(f,h,x){h.status="fulfilled",h.value=x,xh(h),f.state=x,h=f.pending,h!==null&&(x=h.next,x===h?f.pending=null:(x=x.next,h.next=x,hp(f,x)))}function hu(f,h,x){var v=f.pending;if(f.pending=null,v!==null){v=v.next;do h.status="rejected",h.reason=x,xh(h),h=h.next;while(h!==v)}f.action=null}function xh(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function vh(f,h){return h}function O0(f,h){if(Ur){var x=Cn.formState;if(x!==null){e:{var v=Yt;if(Ur){if(qn){t:{for(var E=qn,T=lo;E.nodeType!==8;){if(!T){E=null;break t}if(E=Xo(E.nextSibling),E===null){E=null;break t}}T=E.data,E=T==="F!"||T==="F"?E:null}if(E){qn=Xo(E.nextSibling),v=E.data==="F!";break e}}mc(v)}v=!1}v&&(h=x[0])}}return x=si(),x.memoizedState=x.baseState=h,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:h},x.queue=v,x=Iw.bind(null,Yt,v),v.dispatch=x,v=j0(!1),T=L2.bind(null,Yt,!1,v.queue),v=si(),E={state:h,dispatch:null,action:f,pending:null},v.queue=E,x=k2.bind(null,Yt,E,T,x),E.dispatch=x,v.memoizedState=f,[h,x,!1]}function Bf(f){var h=Ln();return pu(h,rr,f)}function pu(f,h,x){if(h=fu(f,h,vh)[0],f=N0(Ai)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var v=Bl(h)}catch(W){throw W===ee?ie:W}else v=h;h=Ln();var E=h.queue,T=E.dispatch;return x!==h.memoizedState&&(Yt.flags|=2048,$o(9,R0(),gp.bind(null,E,x),null)),[v,T,f]}function gp(f,h){f.action=h}function mp(f){var h=Ln(),x=rr;if(x!==null)return pu(h,x,f);Ln(),h=h.memoizedState,x=Ln();var v=x.queue.dispatch;return x.memoizedState=f,[h,v,!1]}function $o(f,h,x,v){return f={tag:f,create:x,deps:v,inst:h,next:null},h=Yt.updateQueue,h===null&&(h=yc(),Yt.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=f.next=f:(v=x.next,x.next=f,f.next=v,h.lastEffect=f),f}function R0(){return{destroy:void 0,resource:void 0}}function Uf(){return Ln().memoizedState}function Fs(f,h,x,v){var E=si();v=v===void 0?null:v,Yt.flags|=f,E.memoizedState=$o(1|h,R0(),x,v)}function gu(f,h,x,v){var E=Ln();v=v===void 0?null:v;var T=E.memoizedState.inst;rr!==null&&v!==null&&na(v,rr.memoizedState.deps)?E.memoizedState=$o(h,T,x,v):(Yt.flags|=f,E.memoizedState=$o(1|h,T,x,v))}function yh(f,h){Fs(8390656,8,f,h)}function xp(f,h){gu(2048,8,f,h)}function wh(f,h){return gu(4,2,f,h)}function wc(f,h){return gu(4,4,f,h)}function vp(f,h){if(typeof h=="function"){f=f();var x=h(f);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function bh(f,h,x){x=x!=null?x.concat([f]):null,gu(4,4,vp.bind(null,h,f),x)}function _h(){}function Sh(f,h){var x=Ln();h=h===void 0?null:h;var v=x.memoizedState;return h!==null&&na(h,v[1])?v[0]:(x.memoizedState=[f,h],f)}function yp(f,h){var x=Ln();h=h===void 0?null:h;var v=x.memoizedState;if(h!==null&&na(h,v[1]))return v[0];if(v=f(),ha){Xt(!0);try{f()}finally{Xt(!1)}}return x.memoizedState=[v,h],v}function bc(f,h,x){return x===void 0||(sn&1073741824)!==0?f.memoizedState=h:(f.memoizedState=x,f=R4(),Yt.lanes|=f,_u|=f,x)}function zf(f,h,x,v){return ba(x,h)?x:xr.current!==null?(f=bc(f,x,v),ba(f,h)||(za=!0),f):(sn&42)===0?(za=!0,f.memoizedState=x):(f=R4(),Yt.lanes|=f,_u|=f,h)}function k0(f,h,x,v,E){var T=ce.p;ce.p=T!==0&&8>T?T:8;var W=Q.T,se={};Q.T=se,L2(f,!1,h,x);try{var Ce=E(),We=Q.S;if(We!==null&&We(se,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var lt=up(Ce,v);Ch(f,h,lt,zs(f))}else Ch(f,h,v,zs(f))}catch(pt){Ch(f,h,{then:function(){},status:"rejected",reason:pt},zs())}finally{ce.p=T,Q.T=W}}function Vo(){}function ho(f,h,x,v){if(f.tag!==5)throw Error(n(476));var E=Go(f).queue;k0(f,E,h,we,x===null?Vo:function(){return L0(f),x(v)})}function Go(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:we},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:x},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function L0(f){var h=Go(f).next.queue;Ch(f,h,{},zs())}function D0(){return fa(Vh)}function Eh(){return Ln().memoizedState}function wp(){return Ln().memoizedState}function Ah(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var x=zs();f=st(x);var v=ht(h,f,x);v!==null&&(Hs(v,h,x),ct(v,h,x)),h={cache:ph()},f.payload=h;return}h=h.return}}function Nh(f,h,x){var v=zs();x={lane:v,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},bp(f)?Pw(h,x):(x=kl(f,h,x,v),x!==null&&(Hs(x,f,v),Fw(x,h,v)))}function Iw(f,h,x){var v=zs();Ch(f,h,x,v)}function Ch(f,h,x,v){var E={lane:v,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(bp(f))Pw(h,E);else{var T=f.alternate;if(f.lanes===0&&(T===null||T.lanes===0)&&(T=h.lastRenderedReducer,T!==null))try{var W=h.lastRenderedState,se=T(W,x);if(E.hasEagerState=!0,E.eagerState=se,ba(se,W))return Rl(f,h,E,0),Cn===null&&us(),!1}catch(Ce){}finally{}if(x=kl(f,h,E,v),x!==null)return Hs(x,f,v),Fw(x,h,v),!0}return!1}function L2(f,h,x,v){if(v={lane:2,revertLane:fx(),action:v,hasEagerState:!1,eagerState:null,next:null},bp(f)){if(h)throw Error(n(479))}else h=kl(f,x,v,2),h!==null&&Hs(h,f,2)}function bp(f){var h=f.alternate;return f===Yt||h!==null&&h===Yt}function Pw(f,h){Ea=Pr=!0;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}function Fw(f,h,x){if((x&4194048)!==0){var v=h.lanes;v&=f.pendingLanes,x|=v,h.lanes=x,kr(f,x)}}var _p={readContext:fa,use:Ei,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useLayoutEffect:Vr,useInsertionEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useSyncExternalStore:Vr,useId:Vr,useHostTransitionStatus:Vr,useFormState:Vr,useActionState:Vr,useOptimistic:Vr,useMemoCache:Vr,useCacheRefresh:Vr},Mw={readContext:fa,use:Ei,useCallback:function(f,h){return si().memoizedState=[f,h===void 0?null:h],f},useContext:fa,useEffect:yh,useImperativeHandle:function(f,h,x){x=x!=null?x.concat([f]):null,Fs(4194308,4,vp.bind(null,h,f),x)},useLayoutEffect:function(f,h){return Fs(4194308,4,f,h)},useInsertionEffect:function(f,h){Fs(4,2,f,h)},useMemo:function(f,h){var x=si();h=h===void 0?null:h;var v=f();if(ha){Xt(!0);try{f()}finally{Xt(!1)}}return x.memoizedState=[v,h],v},useReducer:function(f,h,x){var v=si();if(x!==void 0){var E=x(h);if(ha){Xt(!0);try{x(h)}finally{Xt(!1)}}}else E=h;return v.memoizedState=v.baseState=E,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:E},v.queue=f,f=f.dispatch=Nh.bind(null,Yt,f),[v.memoizedState,f]},useRef:function(f){var h=si();return f={current:f},h.memoizedState=f},useState:function(f){f=j0(f);var h=f.queue,x=Iw.bind(null,Yt,h);return h.dispatch=x,[f.memoizedState,x]},useDebugValue:_h,useDeferredValue:function(f,h){var x=si();return bc(x,f,h)},useTransition:function(){var f=j0(!1);return f=k0.bind(null,Yt,f.queue,!0,!1),si().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,x){var v=Yt,E=si();if(Ur){if(x===void 0)throw Error(n(407));x=x()}else{if(x=h(),Cn===null)throw Error(n(349));(Fr&124)!==0||Mf(v,h,x)}E.memoizedState=x;var T={value:x,getSnapshot:h};return E.queue=T,yh(du.bind(null,v,T,f),[f]),v.flags|=2048,$o(9,R0(),T0.bind(null,v,T,x,h),null),x},useId:function(){var f=si(),h=Cn.identifierPrefix;if(Ur){var x=Bo,v=Mo;x=(v&~(1<<32-Pt(v)-1)).toString(32)+x,h=""+h+"R"+x,x=Zn++,0<x&&(h+="H"+x.toString(32)),h+=""}else x=hs++,h=""+h+"r"+x.toString(32)+"";return f.memoizedState=h},useHostTransitionStatus:D0,useFormState:O0,useActionState:O0,useOptimistic:function(f){var h=si();h.memoizedState=h.baseState=f;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=L2.bind(null,Yt,!0,x),x.dispatch=h,[f,h]},useMemoCache:Ul,useCacheRefresh:function(){return si().memoizedState=Ah.bind(null,Yt)}},Bw={readContext:fa,use:Ei,useCallback:Sh,useContext:fa,useEffect:xp,useImperativeHandle:bh,useInsertionEffect:wh,useLayoutEffect:wc,useMemo:yp,useReducer:N0,useRef:Uf,useState:function(){return N0(Ai)},useDebugValue:_h,useDeferredValue:function(f,h){var x=Ln();return zf(x,rr.memoizedState,f,h)},useTransition:function(){var f=N0(Ai)[0],h=Ln().memoizedState;return[typeof f=="boolean"?f:Bl(f),h]},useSyncExternalStore:C0,useId:Eh,useHostTransitionStatus:D0,useFormState:Bf,useActionState:Bf,useOptimistic:function(f,h){var x=Ln();return qo(x,rr,f,h)},useMemoCache:Ul,useCacheRefresh:wp},oN={readContext:fa,use:Ei,useCallback:Sh,useContext:fa,useEffect:xp,useImperativeHandle:bh,useInsertionEffect:wh,useLayoutEffect:wc,useMemo:yp,useReducer:Ff,useRef:Uf,useState:function(){return Ff(Ai)},useDebugValue:_h,useDeferredValue:function(f,h){var x=Ln();return rr===null?bc(x,f,h):zf(x,rr.memoizedState,f,h)},useTransition:function(){var f=Ff(Ai)[0],h=Ln().memoizedState;return[typeof f=="boolean"?f:Bl(f),h]},useSyncExternalStore:C0,useId:Eh,useHostTransitionStatus:D0,useFormState:mp,useActionState:mp,useOptimistic:function(f,h){var x=Ln();return rr!==null?qo(x,rr,f,h):(x.baseState=f,[f,x.queue.dispatch])},useMemoCache:Ul,useCacheRefresh:wp},Hf=null,Th=0;function Sp(f){var h=Th;return Th+=1,Hf===null&&(Hf=[]),Ve(Hf,f,h)}function jh(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function Ep(f,h){throw h.$$typeof===p?Error(n(525)):(f=Object.prototype.toString.call(h),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function Uw(f){var h=f._init;return h(f._payload)}function zw(f){function h(Me,Le){if(f){var $e=Me.deletions;$e===null?(Me.deletions=[Le],Me.flags|=16):$e.push(Le)}}function x(Me,Le){if(!f)return null;for(;Le!==null;)h(Me,Le),Le=Le.sibling;return null}function v(Me){for(var Le=new Map;Me!==null;)Me.key!==null?Le.set(Me.key,Me):Le.set(Me.index,Me),Me=Me.sibling;return Le}function E(Me,Le){return Me=oo(Me,Le),Me.index=0,Me.sibling=null,Me}function T(Me,Le,$e){return Me.index=$e,f?($e=Me.alternate,$e!==null?($e=$e.index,$e<Le?(Me.flags|=67108866,Le):$e):(Me.flags|=67108866,Le)):(Me.flags|=1048576,Le)}function W(Me){return f&&Me.alternate===null&&(Me.flags|=67108866),Me}function se(Me,Le,$e,ut){return Le===null||Le.tag!==6?(Le=Of($e,Me.mode,ut),Le.return=Me,Le):(Le=E(Le,$e),Le.return=Me,Le)}function Ce(Me,Le,$e,ut){var Bt=$e.type;return Bt===y?lt(Me,Le,$e.props.children,ut,$e.key):Le!==null&&(Le.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===D&&Uw(Bt)===Le.type)?(Le=E(Le,$e.props),jh(Le,$e),Le.return=Me,Le):(Le=hc($e.type,$e.key,$e.props,null,Me.mode,ut),jh(Le,$e),Le.return=Me,Le)}function We(Me,Le,$e,ut){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==$e.containerInfo||Le.stateNode.implementation!==$e.implementation?(Le=w0($e,Me.mode,ut),Le.return=Me,Le):(Le=E(Le,$e.children||[]),Le.return=Me,Le)}function lt(Me,Le,$e,ut,Bt){return Le===null||Le.tag!==7?(Le=Po($e,Me.mode,ut,Bt),Le.return=Me,Le):(Le=E(Le,$e),Le.return=Me,Le)}function pt(Me,Le,$e){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=Of(""+Le,Me.mode,$e),Le.return=Me,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return $e=hc(Le.type,Le.key,Le.props,null,Me.mode,$e),jh($e,Le),$e.return=Me,$e;case m:return Le=w0(Le,Me.mode,$e),Le.return=Me,Le;case D:var ut=Le._init;return Le=ut(Le._payload),pt(Me,Le,$e)}if(Se(Le)||U(Le))return Le=Po(Le,Me.mode,$e,null),Le.return=Me,Le;if(typeof Le.then=="function")return pt(Me,Sp(Le),$e);if(Le.$$typeof===C)return pt(Me,Pl(Me,Le),$e);Ep(Me,Le)}return null}function Ke(Me,Le,$e,ut){var Bt=Le!==null?Le.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Bt!==null?null:se(Me,Le,""+$e,ut);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case g:return $e.key===Bt?Ce(Me,Le,$e,ut):null;case m:return $e.key===Bt?We(Me,Le,$e,ut):null;case D:return Bt=$e._init,$e=Bt($e._payload),Ke(Me,Le,$e,ut)}if(Se($e)||U($e))return Bt!==null?null:lt(Me,Le,$e,ut,null);if(typeof $e.then=="function")return Ke(Me,Le,Sp($e),ut);if($e.$$typeof===C)return Ke(Me,Le,Pl(Me,$e),ut);Ep(Me,$e)}return null}function Je(Me,Le,$e,ut,Bt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Me=Me.get($e)||null,se(Le,Me,""+ut,Bt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case g:return Me=Me.get(ut.key===null?$e:ut.key)||null,Ce(Le,Me,ut,Bt);case m:return Me=Me.get(ut.key===null?$e:ut.key)||null,We(Le,Me,ut,Bt);case D:var Ar=ut._init;return ut=Ar(ut._payload),Je(Me,Le,$e,ut,Bt)}if(Se(ut)||U(ut))return Me=Me.get($e)||null,lt(Le,Me,ut,Bt,null);if(typeof ut.then=="function")return Je(Me,Le,$e,Sp(ut),Bt);if(ut.$$typeof===C)return Je(Me,Le,$e,Pl(Le,ut),Bt);Ep(Le,ut)}return null}function ir(Me,Le,$e,ut){for(var Bt=null,Ar=null,Wt=Le,Jt=Le=0,qa=null;Wt!==null&&Jt<$e.length;Jt++){Wt.index>Jt?(qa=Wt,Wt=null):qa=Wt.sibling;var Gr=Ke(Me,Wt,$e[Jt],ut);if(Gr===null){Wt===null&&(Wt=qa);break}f&&Wt&&Gr.alternate===null&&h(Me,Wt),Le=T(Gr,Le,Jt),Ar===null?Bt=Gr:Ar.sibling=Gr,Ar=Gr,Wt=qa}if(Jt===$e.length)return x(Me,Wt),Ur&&gc(Me,Jt),Bt;if(Wt===null){for(;Jt<$e.length;Jt++)Wt=pt(Me,$e[Jt],ut),Wt!==null&&(Le=T(Wt,Le,Jt),Ar===null?Bt=Wt:Ar.sibling=Wt,Ar=Wt);return Ur&&gc(Me,Jt),Bt}for(Wt=v(Wt);Jt<$e.length;Jt++)qa=Je(Wt,Me,Jt,$e[Jt],ut),qa!==null&&(f&&qa.alternate!==null&&Wt.delete(qa.key===null?Jt:qa.key),Le=T(qa,Le,Jt),Ar===null?Bt=qa:Ar.sibling=qa,Ar=qa);return f&&Wt.forEach(function(Ru){return h(Me,Ru)}),Ur&&gc(Me,Jt),Bt}function Zt(Me,Le,$e,ut){if($e==null)throw Error(n(151));for(var Bt=null,Ar=null,Wt=Le,Jt=Le=0,qa=null,Gr=$e.next();Wt!==null&&!Gr.done;Jt++,Gr=$e.next()){Wt.index>Jt?(qa=Wt,Wt=null):qa=Wt.sibling;var Ru=Ke(Me,Wt,Gr.value,ut);if(Ru===null){Wt===null&&(Wt=qa);break}f&&Wt&&Ru.alternate===null&&h(Me,Wt),Le=T(Ru,Le,Jt),Ar===null?Bt=Ru:Ar.sibling=Ru,Ar=Ru,Wt=qa}if(Gr.done)return x(Me,Wt),Ur&&gc(Me,Jt),Bt;if(Wt===null){for(;!Gr.done;Jt++,Gr=$e.next())Gr=pt(Me,Gr.value,ut),Gr!==null&&(Le=T(Gr,Le,Jt),Ar===null?Bt=Gr:Ar.sibling=Gr,Ar=Gr);return Ur&&gc(Me,Jt),Bt}for(Wt=v(Wt);!Gr.done;Jt++,Gr=$e.next())Gr=Je(Wt,Me,Jt,Gr.value,ut),Gr!==null&&(f&&Gr.alternate!==null&&Wt.delete(Gr.key===null?Jt:Gr.key),Le=T(Gr,Le,Jt),Ar===null?Bt=Gr:Ar.sibling=Gr,Ar=Gr);return f&&Wt.forEach(function(lC){return h(Me,lC)}),Ur&&gc(Me,Jt),Bt}function yn(Me,Le,$e,ut){if(typeof $e=="object"&&$e!==null&&$e.type===y&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case g:e:{for(var Bt=$e.key;Le!==null;){if(Le.key===Bt){if(Bt=$e.type,Bt===y){if(Le.tag===7){x(Me,Le.sibling),ut=E(Le,$e.props.children),ut.return=Me,Me=ut;break e}}else if(Le.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===D&&Uw(Bt)===Le.type){x(Me,Le.sibling),ut=E(Le,$e.props),jh(ut,$e),ut.return=Me,Me=ut;break e}x(Me,Le);break}else h(Me,Le);Le=Le.sibling}$e.type===y?(ut=Po($e.props.children,Me.mode,ut,$e.key),ut.return=Me,Me=ut):(ut=hc($e.type,$e.key,$e.props,null,Me.mode,ut),jh(ut,$e),ut.return=Me,Me=ut)}return W(Me);case m:e:{for(Bt=$e.key;Le!==null;){if(Le.key===Bt)if(Le.tag===4&&Le.stateNode.containerInfo===$e.containerInfo&&Le.stateNode.implementation===$e.implementation){x(Me,Le.sibling),ut=E(Le,$e.children||[]),ut.return=Me,Me=ut;break e}else{x(Me,Le);break}else h(Me,Le);Le=Le.sibling}ut=w0($e,Me.mode,ut),ut.return=Me,Me=ut}return W(Me);case D:return Bt=$e._init,$e=Bt($e._payload),yn(Me,Le,$e,ut)}if(Se($e))return ir(Me,Le,$e,ut);if(U($e)){if(Bt=U($e),typeof Bt!="function")throw Error(n(150));return $e=Bt.call($e),Zt(Me,Le,$e,ut)}if(typeof $e.then=="function")return yn(Me,Le,Sp($e),ut);if($e.$$typeof===C)return yn(Me,Le,Pl(Me,$e),ut);Ep(Me,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Le!==null&&Le.tag===6?(x(Me,Le.sibling),ut=E(Le,$e),ut.return=Me,Me=ut):(x(Me,Le),ut=Of($e,Me.mode,ut),ut.return=Me,Me=ut),W(Me)):x(Me,Le)}return function(Me,Le,$e,ut){try{Th=0;var Bt=yn(Me,Le,$e,ut);return Hf=null,Bt}catch(Wt){if(Wt===ee||Wt===ie)throw Wt;var Ar=Ua(29,Wt,null,Me.mode);return Ar.lanes=ut,Ar.return=Me,Ar}finally{}}}var qf=zw(!0),Hw=zw(!1),po=xe(null),zl=null;function mu(f){var h=f.alternate;P(ja,ja.current&1),P(po,f),zl===null&&(h===null||xr.current!==null||h.memoizedState!==null)&&(zl=f)}function qw(f){if(f.tag===22){if(P(ja,ja.current),P(po,f),zl===null){var h=f.alternate;h!==null&&h.memoizedState!==null&&(zl=f)}}else xu()}function xu(){P(ja,ja.current),P(po,po.current)}function _c(f){R(po),zl===f&&(zl=null),R(ja)}var ja=xe(0);function Ap(f){for(var h=f;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||Sx(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function D2(f,h,x,v){h=f.memoizedState,x=x(v,h),x=x==null?h:d({},h,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var I2={enqueueSetState:function(f,h,x){f=f._reactInternals;var v=zs(),E=st(v);E.payload=h,x!=null&&(E.callback=x),h=ht(f,E,v),h!==null&&(Hs(h,f,v),ct(h,f,v))},enqueueReplaceState:function(f,h,x){f=f._reactInternals;var v=zs(),E=st(v);E.tag=1,E.payload=h,x!=null&&(E.callback=x),h=ht(f,E,v),h!==null&&(Hs(h,f,v),ct(h,f,v))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var x=zs(),v=st(x);v.tag=2,h!=null&&(v.callback=h),h=ht(f,v,x),h!==null&&(Hs(h,f,x),ct(h,f,x))}};function $w(f,h,x,v,E,T,W){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(v,T,W):h.prototype&&h.prototype.isPureReactComponent?!El(x,v)||!El(E,T):!0}function Vw(f,h,x,v){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,v),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,v),h.state!==f&&I2.enqueueReplaceState(h,h.state,null)}function I0(f,h){var x=h;if("ref"in h){x={};for(var v in h)v!=="ref"&&(x[v]=h[v])}if(f=f.defaultProps){x===h&&(x=d({},x));for(var E in f)x[E]===void 0&&(x[E]=f[E])}return x}var Np=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function Gw(f){Np(f)}function Ww(f){console.error(f)}function Xw(f){Np(f)}function Cp(f,h){try{var x=f.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(v){setTimeout(function(){throw v})}}function Yw(f,h,x){try{var v=f.onCaughtError;v(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function P2(f,h,x){return x=st(x),x.tag=3,x.payload={element:null},x.callback=function(){Cp(f,h)},x}function Kw(f){return f=st(f),f.tag=3,f}function Zw(f,h,x,v){var E=x.type.getDerivedStateFromError;if(typeof E=="function"){var T=v.value;f.payload=function(){return E(T)},f.callback=function(){Yw(h,x,v)}}var W=x.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(f.callback=function(){Yw(h,x,v),typeof E!="function"&&(Su===null?Su=new Set([this]):Su.add(this));var se=v.stack;this.componentDidCatch(v.value,{componentStack:se!==null?se:""})})}function lN(f,h,x,v,E){if(x.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(h=x.alternate,h!==null&&uu(h,x,E,!0),x=po.current,x!==null){switch(x.tag){case 13:return zl===null?sx():x.alternate===null&&aa===0&&(aa=3),x.flags&=-257,x.flags|=65536,x.lanes=E,v===le?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([v]):h.add(v),lx(f,v,E)),!1;case 22:return x.flags|=65536,v===le?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([v])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([v]):x.add(v)),lx(f,v,E)),!1}throw Error(n(435,x.tag))}return lx(f,v,E),sx(),!1}if(Ur)return h=po.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,v!==hh&&(f=Error(n(422),{cause:v}),cu(wr(f,x)))):(v!==hh&&(h=Error(n(423),{cause:v}),cu(wr(h,x))),f=f.current.alternate,f.flags|=65536,E&=-E,f.lanes|=E,v=wr(v,x),E=P2(f.stateNode,v,E),Dt(f,E),aa!==4&&(aa=2)),!1;var T=Error(n(520),{cause:v});if(T=wr(T,x),Ph===null?Ph=[T]:Ph.push(T),aa!==4&&(aa=2),h===null)return!0;v=wr(v,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,f=E&-E,x.lanes|=f,f=P2(x.stateNode,v,f),Dt(x,f),!1;case 1:if(h=x.type,T=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Su===null||!Su.has(T))))return x.flags|=65536,E&=-E,x.lanes|=E,E=Kw(E),Zw(E,f,x,v),Dt(x,E),!1}x=x.return}while(x!==null);return!1}var Jw=Error(n(461)),za=!1;function oi(f,h,x,v){h.child=f===null?Hw(h,null,x,v):qf(h,f.child,x,v)}function Qw(f,h,x,v,E){x=x.render;var T=h.ref;if("ref"in v){var W={};for(var se in v)se!=="ref"&&(W[se]=v[se])}else W=v;return fo(h),v=Ps(f,h,x,W,T,E),se=Nn(),f!==null&&!za?(A0(f,h,E),Sc(f,h,E)):(Ur&&se&&b0(h),h.flags|=1,oi(f,h,v,E),h.child)}function e4(f,h,x,v,E){if(f===null){var T=x.type;return typeof T=="function"&&!ou(T)&&T.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=T,t4(f,h,T,v,E)):(f=hc(x.type,null,v,h,h.mode,E),f.ref=h.ref,f.return=h,h.child=f)}if(T=f.child,!$2(f,E)){var W=T.memoizedProps;if(x=x.compare,x=x!==null?x:El,x(W,v)&&f.ref===h.ref)return Sc(f,h,E)}return h.flags|=1,f=oo(T,v),f.ref=h.ref,f.return=h,h.child=f}function t4(f,h,x,v,E){if(f!==null){var T=f.memoizedProps;if(El(T,v)&&f.ref===h.ref)if(za=!1,h.pendingProps=v=T,$2(f,E))(f.flags&131072)!==0&&(za=!0);else return h.lanes=f.lanes,Sc(f,h,E)}return F2(f,h,x,v,E)}function r4(f,h,x){var v=h.pendingProps,E=v.children,T=f!==null?f.memoizedState:null;if(v.mode==="hidden"){if((h.flags&128)!==0){if(v=T!==null?T.baseLanes|x:x,f!==null){for(E=h.child=f.child,T=0;E!==null;)T=T|E.lanes|E.childLanes,E=E.sibling;h.childLanes=T&~v}else h.childLanes=0,h.child=null;return n4(f,h,v,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&z(h,T!==null?T.cachePool:null),T!==null?tn(h,T):$r(),qw(h);else return h.lanes=h.childLanes=536870912,n4(f,h,T!==null?T.baseLanes|x:x,x)}else T!==null?(z(h,T.cachePool),tn(h,T),xu(),h.memoizedState=null):(f!==null&&z(h,null),$r(),xu());return oi(f,h,E,x),h.child}function n4(f,h,x,v){var E=k();return E=E===null?null:{parent:da._currentValue,pool:E},h.memoizedState={baseLanes:x,cachePool:E},f!==null&&z(h,null),$r(),qw(h),f!==null&&uu(f,h,v,!0),null}function Tp(f,h){var x=h.ref;if(x===null)f!==null&&f.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(f===null||f.ref!==x)&&(h.flags|=4194816)}}function F2(f,h,x,v,E){return fo(h),x=Ps(f,h,x,v,void 0,E),v=Nn(),f!==null&&!za?(A0(f,h,E),Sc(f,h,E)):(Ur&&v&&b0(h),h.flags|=1,oi(f,h,x,E),h.child)}function a4(f,h,x,v,E,T){return fo(h),h.updateQueue=null,x=vc(h,v,x,E),Fl(f),v=Nn(),f!==null&&!za?(A0(f,h,T),Sc(f,h,T)):(Ur&&v&&b0(h),h.flags|=1,oi(f,h,x,T),h.child)}function i4(f,h,x,v,E){if(fo(h),h.stateNode===null){var T=_a,W=x.contextType;typeof W=="object"&&W!==null&&(T=fa(W)),T=new x(v,T),h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=I2,h.stateNode=T,T._reactInternals=h,T=h.stateNode,T.props=v,T.state=h.memoizedState,T.refs={},Re(h),W=x.contextType,T.context=typeof W=="object"&&W!==null?fa(W):_a,T.state=h.memoizedState,W=x.getDerivedStateFromProps,typeof W=="function"&&(D2(h,x,W,v),T.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(W=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),W!==T.state&&I2.enqueueReplaceState(T,T.state,null),jt(h,v,T,E),Gt(),T.state=h.memoizedState),typeof T.componentDidMount=="function"&&(h.flags|=4194308),v=!0}else if(f===null){T=h.stateNode;var se=h.memoizedProps,Ce=I0(x,se);T.props=Ce;var We=T.context,lt=x.contextType;W=_a,typeof lt=="object"&&lt!==null&&(W=fa(lt));var pt=x.getDerivedStateFromProps;lt=typeof pt=="function"||typeof T.getSnapshotBeforeUpdate=="function",se=h.pendingProps!==se,lt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(se||We!==W)&&Vw(h,T,v,W),Qe=!1;var Ke=h.memoizedState;T.state=Ke,jt(h,v,T,E),Gt(),We=h.memoizedState,se||Ke!==We||Qe?(typeof pt=="function"&&(D2(h,x,pt,v),We=h.memoizedState),(Ce=Qe||$w(h,x,Ce,v,Ke,We,W))?(lt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(h.flags|=4194308)):(typeof T.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=v,h.memoizedState=We),T.props=v,T.state=We,T.context=W,v=Ce):(typeof T.componentDidMount=="function"&&(h.flags|=4194308),v=!1)}else{T=h.stateNode,De(f,h),W=h.memoizedProps,lt=I0(x,W),T.props=lt,pt=h.pendingProps,Ke=T.context,We=x.contextType,Ce=_a,typeof We=="object"&&We!==null&&(Ce=fa(We)),se=x.getDerivedStateFromProps,(We=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(W!==pt||Ke!==Ce)&&Vw(h,T,v,Ce),Qe=!1,Ke=h.memoizedState,T.state=Ke,jt(h,v,T,E),Gt();var Je=h.memoizedState;W!==pt||Ke!==Je||Qe||f!==null&&f.dependencies!==null&&Df(f.dependencies)?(typeof se=="function"&&(D2(h,x,se,v),Je=h.memoizedState),(lt=Qe||$w(h,x,lt,v,Ke,Je,Ce)||f!==null&&f.dependencies!==null&&Df(f.dependencies))?(We||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,Je,Ce),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,Je,Ce)),typeof T.componentDidUpdate=="function"&&(h.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof T.componentDidUpdate!="function"||W===f.memoizedProps&&Ke===f.memoizedState||(h.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||W===f.memoizedProps&&Ke===f.memoizedState||(h.flags|=1024),h.memoizedProps=v,h.memoizedState=Je),T.props=v,T.state=Je,T.context=Ce,v=lt):(typeof T.componentDidUpdate!="function"||W===f.memoizedProps&&Ke===f.memoizedState||(h.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||W===f.memoizedProps&&Ke===f.memoizedState||(h.flags|=1024),v=!1)}return T=v,Tp(f,h),v=(h.flags&128)!==0,T||v?(T=h.stateNode,x=v&&typeof x.getDerivedStateFromError!="function"?null:T.render(),h.flags|=1,f!==null&&v?(h.child=qf(h,f.child,null,E),h.child=qf(h,null,x,E)):oi(f,h,x,E),h.memoizedState=T.state,f=h.child):f=Sc(f,h,E),f}function s4(f,h,x,v){return Xi(),h.flags|=256,oi(f,h,x,v),h.child}var M2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function B2(f){return{baseLanes:f,cachePool:K()}}function U2(f,h,x){return f=f!==null?f.childLanes&~x:0,h&&(f|=go),f}function o4(f,h,x){var v=h.pendingProps,E=!1,T=(h.flags&128)!==0,W;if((W=T)||(W=f!==null&&f.memoizedState===null?!1:(ja.current&2)!==0),W&&(E=!0,h.flags&=-129),W=(h.flags&32)!==0,h.flags&=-33,f===null){if(Ur){if(E?mu(h):xu(),Ur){var se=qn,Ce;if(Ce=se){e:{for(Ce=se,se=lo;Ce.nodeType!==8;){if(!se){se=null;break e}if(Ce=Xo(Ce.nextSibling),Ce===null){se=null;break e}}se=Ce}se!==null?(h.memoizedState={dehydrated:se,treeContext:pc!==null?{id:Mo,overflow:Bo}:null,retryLane:536870912,hydrationErrors:null},Ce=Ua(18,null,null,0),Ce.stateNode=se,Ce.return=h,h.child=Ce,ua=h,qn=null,Ce=!0):Ce=!1}Ce||mc(h)}if(se=h.memoizedState,se!==null&&(se=se.dehydrated,se!==null))return Sx(se)?h.lanes=32:h.lanes=536870912,null;_c(h)}return se=v.children,v=v.fallback,E?(xu(),E=h.mode,se=jp({mode:"hidden",children:se},E),v=Po(v,E,x,null),se.return=h,v.return=h,se.sibling=v,h.child=se,E=h.child,E.memoizedState=B2(x),E.childLanes=U2(f,W,x),h.memoizedState=M2,v):(mu(h),z2(h,se))}if(Ce=f.memoizedState,Ce!==null&&(se=Ce.dehydrated,se!==null)){if(T)h.flags&256?(mu(h),h.flags&=-257,h=H2(f,h,x)):h.memoizedState!==null?(xu(),h.child=f.child,h.flags|=128,h=null):(xu(),E=v.fallback,se=h.mode,v=jp({mode:"visible",children:v.children},se),E=Po(E,se,x,null),E.flags|=2,v.return=h,E.return=h,v.sibling=E,h.child=v,qf(h,f.child,null,x),v=h.child,v.memoizedState=B2(x),v.childLanes=U2(f,W,x),h.memoizedState=M2,h=E);else if(mu(h),Sx(se)){if(W=se.nextSibling&&se.nextSibling.dataset,W)var We=W.dgst;W=We,v=Error(n(419)),v.stack="",v.digest=W,cu({value:v,source:null,stack:null}),h=H2(f,h,x)}else if(za||uu(f,h,x,!1),W=(x&f.childLanes)!==0,za||W){if(W=Cn,W!==null&&(v=x&-x,v=(v&42)!==0?1:js(v),v=(v&(W.suspendedLanes|x))!==0?0:v,v!==0&&v!==Ce.retryLane))throw Ce.retryLane=v,Io(f,v),Hs(W,f,v),Jw;se.data==="$?"||sx(),h=H2(f,h,x)}else se.data==="$?"?(h.flags|=192,h.child=f.child,h=null):(f=Ce.treeContext,qn=Xo(se.nextSibling),ua=h,Ur=!0,Dl=null,lo=!1,f!==null&&(ds[Wi++]=Mo,ds[Wi++]=Bo,ds[Wi++]=pc,Mo=f.id,Bo=f.overflow,pc=h),h=z2(h,v.children),h.flags|=4096);return h}return E?(xu(),E=v.fallback,se=h.mode,Ce=f.child,We=Ce.sibling,v=oo(Ce,{mode:"hidden",children:v.children}),v.subtreeFlags=Ce.subtreeFlags&65011712,We!==null?E=oo(We,E):(E=Po(E,se,x,null),E.flags|=2),E.return=h,v.return=h,v.sibling=E,h.child=v,v=E,E=h.child,se=f.child.memoizedState,se===null?se=B2(x):(Ce=se.cachePool,Ce!==null?(We=da._currentValue,Ce=Ce.parent!==We?{parent:We,pool:We}:Ce):Ce=K(),se={baseLanes:se.baseLanes|x,cachePool:Ce}),E.memoizedState=se,E.childLanes=U2(f,W,x),h.memoizedState=M2,v):(mu(h),x=f.child,f=x.sibling,x=oo(x,{mode:"visible",children:v.children}),x.return=h,x.sibling=null,f!==null&&(W=h.deletions,W===null?(h.deletions=[f],h.flags|=16):W.push(f)),h.child=x,h.memoizedState=null,x)}function z2(f,h){return h=jp({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function jp(f,h){return f=Ua(22,f,null,h),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function H2(f,h,x){return qf(h,f.child,null,x),f=z2(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function l4(f,h,x){f.lanes|=h;var v=f.alternate;v!==null&&(v.lanes|=h),kf(f.return,h,x)}function q2(f,h,x,v,E){var T=f.memoizedState;T===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:v,tail:x,tailMode:E}:(T.isBackwards=h,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=x,T.tailMode=E)}function c4(f,h,x){var v=h.pendingProps,E=v.revealOrder,T=v.tail;if(oi(f,h,v.children,x),v=ja.current,(v&2)!==0)v=v&1|2,h.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&l4(f,x,h);else if(f.tag===19)l4(f,x,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}v&=1}switch(P(ja,v),E){case"forwards":for(x=h.child,E=null;x!==null;)f=x.alternate,f!==null&&Ap(f)===null&&(E=x),x=x.sibling;x=E,x===null?(E=h.child,h.child=null):(E=x.sibling,x.sibling=null),q2(h,!1,E,x,T);break;case"backwards":for(x=null,E=h.child,h.child=null;E!==null;){if(f=E.alternate,f!==null&&Ap(f)===null){h.child=E;break}f=E.sibling,E.sibling=x,x=E,E=f}q2(h,!0,x,null,T);break;case"together":q2(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Sc(f,h,x){if(f!==null&&(h.dependencies=f.dependencies),_u|=h.lanes,(x&h.childLanes)===0)if(f!==null){if(uu(f,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(n(153));if(h.child!==null){for(f=h.child,x=oo(f,f.pendingProps),h.child=x,x.return=h;f.sibling!==null;)f=f.sibling,x=x.sibling=oo(f,f.pendingProps),x.return=h;x.sibling=null}return h.child}function $2(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&Df(f)))}function cN(f,h,x){switch(h.tag){case 3:ve(h,h.stateNode.containerInfo),Il(h,da,f.memoizedState.cache),Xi();break;case 27:case 5:pe(h);break;case 4:ve(h,h.stateNode.containerInfo);break;case 10:Il(h,h.type,h.memoizedProps.value);break;case 13:var v=h.memoizedState;if(v!==null)return v.dehydrated!==null?(mu(h),h.flags|=128,null):(x&h.child.childLanes)!==0?o4(f,h,x):(mu(h),f=Sc(f,h,x),f!==null?f.sibling:null);mu(h);break;case 19:var E=(f.flags&128)!==0;if(v=(x&h.childLanes)!==0,v||(uu(f,h,x,!1),v=(x&h.childLanes)!==0),E){if(v)return c4(f,h,x);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),P(ja,ja.current),v)break;return null;case 22:case 23:return h.lanes=0,r4(f,h,x);case 24:Il(h,da,f.memoizedState.cache)}return Sc(f,h,x)}function u4(f,h,x){if(f!==null)if(f.memoizedProps!==h.pendingProps)za=!0;else{if(!$2(f,x)&&(h.flags&128)===0)return za=!1,cN(f,h,x);za=(f.flags&131072)!==0}else za=!1,Ur&&(h.flags&1048576)!==0&&ip(h,Rf,h.index);switch(h.lanes=0,h.tag){case 16:e:{f=h.pendingProps;var v=h.elementType,E=v._init;if(v=E(v._payload),h.type=v,typeof v=="function")ou(v)?(f=I0(v,f),h.tag=1,h=i4(null,h,v,f,x)):(h.tag=0,h=F2(null,h,v,f,x));else{if(v!=null){if(E=v.$$typeof,E===L){h.tag=11,h=Qw(null,h,v,f,x);break e}else if(E===F){h.tag=14,h=e4(null,h,v,f,x);break e}}throw h=ae(v)||v,Error(n(306,h,""))}}return h;case 0:return F2(f,h,h.type,h.pendingProps,x);case 1:return v=h.type,E=I0(v,h.pendingProps),i4(f,h,v,E,x);case 3:e:{if(ve(h,h.stateNode.containerInfo),f===null)throw Error(n(387));v=h.pendingProps;var T=h.memoizedState;E=T.element,De(f,h),jt(h,v,null,x);var W=h.memoizedState;if(v=W.cache,Il(h,da,v),v!==T.cache&&Lf(h,[da],x,!0),Gt(),v=W.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:W.cache},h.updateQueue.baseState=T,h.memoizedState=T,h.flags&256){h=s4(f,h,v,x);break e}else if(v!==E){E=wr(Error(n(424)),h),cu(E),h=s4(f,h,v,x);break e}else{switch(f=h.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(qn=Xo(f.firstChild),ua=h,Ur=!0,Dl=null,lo=!0,x=Hw(h,null,v,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Xi(),v===E){h=Sc(f,h,x);break e}oi(f,h,v,x)}h=h.child}return h;case 26:return Tp(f,h),f===null?(x=pb(h.type,null,h.pendingProps,null))?h.memoizedState=x:Ur||(x=h.type,f=h.pendingProps,v=qp(J.current).createElement(x),v[Qr]=h,v[an]=f,ci(v,x,f),Fe(v),h.stateNode=v):h.memoizedState=pb(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:return pe(h),f===null&&Ur&&(v=h.stateNode=fb(h.type,h.pendingProps,J.current),ua=h,lo=!0,E=qn,Nu(h.type)?(Ex=E,qn=Xo(v.firstChild)):qn=E),oi(f,h,h.pendingProps.children,x),Tp(f,h),f===null&&(h.flags|=4194304),h.child;case 5:return f===null&&Ur&&((E=v=qn)&&(v=FN(v,h.type,h.pendingProps,lo),v!==null?(h.stateNode=v,ua=h,qn=Xo(v.firstChild),lo=!1,E=!0):E=!1),E||mc(h)),pe(h),E=h.type,T=h.pendingProps,W=f!==null?f.memoizedProps:null,v=T.children,wx(E,T)?v=null:W!==null&&wx(E,W)&&(h.flags|=32),h.memoizedState!==null&&(E=Ps(f,h,Ml,null,null,x),Vh._currentValue=E),Tp(f,h),oi(f,h,v,x),h.child;case 6:return f===null&&Ur&&((f=x=qn)&&(x=MN(x,h.pendingProps,lo),x!==null?(h.stateNode=x,ua=h,qn=null,f=!0):f=!1),f||mc(h)),null;case 13:return o4(f,h,x);case 4:return ve(h,h.stateNode.containerInfo),v=h.pendingProps,f===null?h.child=qf(h,null,v,x):oi(f,h,v,x),h.child;case 11:return Qw(f,h,h.type,h.pendingProps,x);case 7:return oi(f,h,h.pendingProps,x),h.child;case 8:return oi(f,h,h.pendingProps.children,x),h.child;case 12:return oi(f,h,h.pendingProps.children,x),h.child;case 10:return v=h.pendingProps,Il(h,h.type,v.value),oi(f,h,v.children,x),h.child;case 9:return E=h.type._context,v=h.pendingProps.children,fo(h),E=fa(E),v=v(E),h.flags|=1,oi(f,h,v,x),h.child;case 14:return e4(f,h,h.type,h.pendingProps,x);case 15:return t4(f,h,h.type,h.pendingProps,x);case 19:return c4(f,h,x);case 31:return v=h.pendingProps,x=h.mode,v={mode:v.mode,children:v.children},f===null?(x=jp(v,x),x.ref=h.ref,h.child=x,x.return=h,h=x):(x=oo(f.child,v),x.ref=h.ref,h.child=x,x.return=h,h=x),h;case 22:return r4(f,h,x);case 24:return fo(h),v=fa(da),f===null?(E=k(),E===null&&(E=Cn,T=ph(),E.pooledCache=T,T.refCount++,T!==null&&(E.pooledCacheLanes|=x),E=T),h.memoizedState={parent:v,cache:E},Re(h),Il(h,da,E)):((f.lanes&x)!==0&&(De(f,h),jt(h,null,null,x),Gt()),E=f.memoizedState,T=h.memoizedState,E.parent!==v?(E={parent:v,cache:v},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),Il(h,da,v)):(v=T.cache,Il(h,da,v),v!==E.cache&&Lf(h,[da],x,!0))),oi(f,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Ec(f){f.flags|=4}function f4(f,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!yb(h)){if(h=po.current,h!==null&&((Fr&4194048)===Fr?zl!==null:(Fr&62914560)!==Fr&&(Fr&536870912)===0||h!==zl))throw qe=le,ne;f.flags|=8192}}function Op(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?mn():536870912,f.lanes|=h,Wf|=h)}function Oh(f,h){if(!Ur)switch(f.tailMode){case"hidden":h=f.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var v=null;x!==null;)x.alternate!==null&&(v=x),x=x.sibling;v===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:v.sibling=null}}function Qn(f){var h=f.alternate!==null&&f.alternate.child===f.child,x=0,v=0;if(h)for(var E=f.child;E!==null;)x|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=f,E=E.sibling;else for(E=f.child;E!==null;)x|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=f,E=E.sibling;return f.subtreeFlags|=v,f.childLanes=x,h}function uN(f,h,x){var v=h.pendingProps;switch(_0(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(h),null;case 1:return Qn(h),null;case 3:return x=h.stateNode,v=null,f!==null&&(v=f.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),uo(da),he(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(f===null||f.child===null)&&(ii(h)?Ec(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,op())),Qn(h),null;case 26:return x=h.memoizedState,f===null?(Ec(h),x!==null?(Qn(h),f4(h,x)):(Qn(h),h.flags&=-16777217)):x?x!==f.memoizedState?(Ec(h),Qn(h),f4(h,x)):(Qn(h),h.flags&=-16777217):(f.memoizedProps!==v&&Ec(h),Qn(h),h.flags&=-16777217),null;case 27:Ne(h),x=J.current;var E=h.type;if(f!==null&&h.stateNode!=null)f.memoizedProps!==v&&Ec(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return Qn(h),null}f=H.current,ii(h)?sp(h):(f=fb(E,v,x),h.stateNode=f,Ec(h))}return Qn(h),null;case 5:if(Ne(h),x=h.type,f!==null&&h.stateNode!=null)f.memoizedProps!==v&&Ec(h);else{if(!v){if(h.stateNode===null)throw Error(n(166));return Qn(h),null}if(f=H.current,ii(h))sp(h);else{switch(E=qp(J.current),f){case 1:f=E.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:f=E.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":f=E.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":f=E.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":f=E.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?f.multiple=!0:v.size&&(f.size=v.size);break;default:f=typeof v.is=="string"?E.createElement(x,{is:v.is}):E.createElement(x)}}f[Qr]=h,f[an]=v;e:for(E=h.child;E!==null;){if(E.tag===5||E.tag===6)f.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===h)break e;for(;E.sibling===null;){if(E.return===null||E.return===h)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}h.stateNode=f;e:switch(ci(f,x,v),x){case"button":case"input":case"select":case"textarea":f=!!v.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ec(h)}}return Qn(h),h.flags&=-16777217,null;case 6:if(f&&h.stateNode!=null)f.memoizedProps!==v&&Ec(h);else{if(typeof v!="string"&&h.stateNode===null)throw Error(n(166));if(f=J.current,ii(h)){if(f=h.stateNode,x=h.memoizedProps,v=null,E=ua,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}f[Qr]=h,f=!!(f.nodeValue===x||v!==null&&v.suppressHydrationWarning===!0||ab(f.nodeValue,x)),f||mc(h)}else f=qp(f).createTextNode(v),f[Qr]=h,h.stateNode=f}return Qn(h),null;case 13:if(v=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(E=ii(h),v!==null&&v.dehydrated!==null){if(f===null){if(!E)throw Error(n(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Qr]=h}else Xi(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Qn(h),E=!1}else E=op(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(_c(h),h):(_c(h),null)}if(_c(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=v!==null,f=f!==null&&f.memoizedState!==null,x){v=h.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var T=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==E&&(v.flags|=2048)}return x!==f&&x&&(h.child.flags|=8192),Op(h,h.updateQueue),Qn(h),null;case 4:return he(),f===null&&gx(h.stateNode.containerInfo),Qn(h),null;case 10:return uo(h.type),Qn(h),null;case 19:if(R(ja),E=h.memoizedState,E===null)return Qn(h),null;if(v=(h.flags&128)!==0,T=E.rendering,T===null)if(v)Oh(E,!1);else{if(aa!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(T=Ap(f),T!==null){for(h.flags|=128,Oh(E,!1),f=T.updateQueue,h.updateQueue=f,Op(h,f),h.subtreeFlags=0,f=x,x=h.child;x!==null;)y0(x,f),x=x.sibling;return P(ja,ja.current&1|2),h.child}f=f.sibling}E.tail!==null&&ke()>Lp&&(h.flags|=128,v=!0,Oh(E,!1),h.lanes=4194304)}else{if(!v)if(f=Ap(T),f!==null){if(h.flags|=128,v=!0,f=f.updateQueue,h.updateQueue=f,Op(h,f),Oh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!T.alternate&&!Ur)return Qn(h),null}else 2*ke()-E.renderingStartTime>Lp&&x!==536870912&&(h.flags|=128,v=!0,Oh(E,!1),h.lanes=4194304);E.isBackwards?(T.sibling=h.child,h.child=T):(f=E.last,f!==null?f.sibling=T:h.child=T,E.last=T)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=ke(),h.sibling=null,f=ja.current,P(ja,v?f&1|2:f&1),h):(Qn(h),null);case 22:case 23:return _c(h),lr(),v=h.memoizedState!==null,f!==null?f.memoizedState!==null!==v&&(h.flags|=8192):v&&(h.flags|=8192),v?(x&536870912)!==0&&(h.flags&128)===0&&(Qn(h),h.subtreeFlags&6&&(h.flags|=8192)):Qn(h),x=h.updateQueue,x!==null&&Op(h,x.retryQueue),x=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),v=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==x&&(h.flags|=2048),f!==null&&R(N),null;case 24:return x=null,f!==null&&(x=f.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),uo(da),Qn(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function fN(f,h){switch(_0(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return uo(da),he(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return Ne(h),null;case 13:if(_c(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Xi()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return R(ja),null;case 4:return he(),null;case 10:return uo(h.type),null;case 22:case 23:return _c(h),lr(),f!==null&&R(N),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return uo(da),null;case 25:return null;default:return null}}function d4(f,h){switch(_0(h),h.tag){case 3:uo(da),he();break;case 26:case 27:case 5:Ne(h);break;case 4:he();break;case 13:_c(h);break;case 19:R(ja);break;case 10:uo(h.type);break;case 22:case 23:_c(h),lr(),f!==null&&R(N);break;case 24:uo(da)}}function Rh(f,h){try{var x=h.updateQueue,v=x!==null?x.lastEffect:null;if(v!==null){var E=v.next;x=E;do{if((x.tag&f)===f){v=void 0;var T=x.create,W=x.inst;v=T(),W.destroy=v}x=x.next}while(x!==E)}}catch(se){Sn(h,h.return,se)}}function vu(f,h,x){try{var v=h.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var T=E.next;v=T;do{if((v.tag&f)===f){var W=v.inst,se=W.destroy;if(se!==void 0){W.destroy=void 0,E=h;var Ce=x,We=se;try{We()}catch(lt){Sn(E,Ce,lt)}}}v=v.next}while(v!==T)}}catch(lt){Sn(h,h.return,lt)}}function h4(f){var h=f.updateQueue;if(h!==null){var x=f.stateNode;try{qr(h,x)}catch(v){Sn(f,f.return,v)}}}function p4(f,h,x){x.props=I0(f.type,f.memoizedProps),x.state=f.memoizedState;try{x.componentWillUnmount()}catch(v){Sn(f,h,v)}}function kh(f,h){try{var x=f.ref;if(x!==null){switch(f.tag){case 26:case 27:case 5:var v=f.stateNode;break;case 30:v=f.stateNode;break;default:v=f.stateNode}typeof x=="function"?f.refCleanup=x(v):x.current=v}}catch(E){Sn(f,h,E)}}function Hl(f,h){var x=f.ref,v=f.refCleanup;if(x!==null)if(typeof v=="function")try{v()}catch(E){Sn(f,h,E)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(E){Sn(f,h,E)}else x.current=null}function g4(f){var h=f.type,x=f.memoizedProps,v=f.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&v.focus();break e;case"img":x.src?v.src=x.src:x.srcSet&&(v.srcset=x.srcSet)}}catch(E){Sn(f,f.return,E)}}function V2(f,h,x){try{var v=f.stateNode;kN(v,f.type,x,h),v[an]=h}catch(E){Sn(f,f.return,E)}}function m4(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Nu(f.type)||f.tag===4}function G2(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||m4(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Nu(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function W2(f,h,x){var v=f.tag;if(v===5||v===6)f=f.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(f,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(f),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Hp));else if(v!==4&&(v===27&&Nu(f.type)&&(x=f.stateNode,h=null),f=f.child,f!==null))for(W2(f,h,x),f=f.sibling;f!==null;)W2(f,h,x),f=f.sibling}function Rp(f,h,x){var v=f.tag;if(v===5||v===6)f=f.stateNode,h?x.insertBefore(f,h):x.appendChild(f);else if(v!==4&&(v===27&&Nu(f.type)&&(x=f.stateNode),f=f.child,f!==null))for(Rp(f,h,x),f=f.sibling;f!==null;)Rp(f,h,x),f=f.sibling}function x4(f){var h=f.stateNode,x=f.memoizedProps;try{for(var v=f.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);ci(h,v,x),h[Qr]=f,h[an]=x}catch(T){Sn(f,f.return,T)}}var Ac=!1,pa=!1,X2=!1,v4=typeof WeakSet=="function"?WeakSet:Set,Ha=null;function dN(f,h){if(f=f.containerInfo,vx=Yp,f=ai(f),Ta(f)){if("selectionStart"in f)var x={start:f.selectionStart,end:f.selectionEnd};else e:{x=(x=f.ownerDocument)&&x.defaultView||window;var v=x.getSelection&&x.getSelection();if(v&&v.rangeCount!==0){x=v.anchorNode;var E=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{x.nodeType,T.nodeType}catch(Zt){x=null;break e}var W=0,se=-1,Ce=-1,We=0,lt=0,pt=f,Ke=null;t:for(;;){for(var Je;pt!==x||E!==0&&pt.nodeType!==3||(se=W+E),pt!==T||v!==0&&pt.nodeType!==3||(Ce=W+v),pt.nodeType===3&&(W+=pt.nodeValue.length),(Je=pt.firstChild)!==null;)Ke=pt,pt=Je;for(;;){if(pt===f)break t;if(Ke===x&&++We===E&&(se=W),Ke===T&&++lt===v&&(Ce=W),(Je=pt.nextSibling)!==null)break;pt=Ke,Ke=pt.parentNode}pt=Je}x=se===-1||Ce===-1?null:{start:se,end:Ce}}else x=null}x=x||{start:0,end:0}}else x=null;for(yx={focusedElem:f,selectionRange:x},Yp=!1,Ha=h;Ha!==null;)if(h=Ha,f=h.child,(h.subtreeFlags&1024)!==0&&f!==null)f.return=h,Ha=f;else for(;Ha!==null;){switch(h=Ha,T=h.alternate,f=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&T!==null){f=void 0,x=h,E=T.memoizedProps,T=T.memoizedState,v=x.stateNode;try{var ir=I0(x.type,E,x.elementType===x.type);f=v.getSnapshotBeforeUpdate(ir,T),v.__reactInternalSnapshotBeforeUpdate=f}catch(Zt){Sn(x,x.return,Zt)}}break;case 3:if((f&1024)!==0){if(f=h.stateNode.containerInfo,x=f.nodeType,x===9)_x(f);else if(x===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":_x(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=h.sibling,f!==null){f.return=h.return,Ha=f;break}Ha=h.return}}function y4(f,h,x){var v=x.flags;switch(x.tag){case 0:case 11:case 15:yu(f,x),v&4&&Rh(5,x);break;case 1:if(yu(f,x),v&4)if(f=x.stateNode,h===null)try{f.componentDidMount()}catch(W){Sn(x,x.return,W)}else{var E=I0(x.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(E,h,f.__reactInternalSnapshotBeforeUpdate)}catch(W){Sn(x,x.return,W)}}v&64&&h4(x),v&512&&kh(x,x.return);break;case 3:if(yu(f,x),v&64&&(f=x.updateQueue,f!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{qr(f,h)}catch(W){Sn(x,x.return,W)}}break;case 27:h===null&&v&4&&x4(x);case 26:case 5:yu(f,x),h===null&&v&4&&g4(x),v&512&&kh(x,x.return);break;case 12:yu(f,x);break;case 13:yu(f,x),v&4&&_4(f,x),v&64&&(f=x.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(x=bN.bind(null,x),BN(f,x))));break;case 22:if(v=x.memoizedState!==null||Ac,!v){h=h!==null&&h.memoizedState!==null||pa,E=Ac;var T=pa;Ac=v,(pa=h)&&!T?wu(f,x,(x.subtreeFlags&8772)!==0):yu(f,x),Ac=E,pa=T}break;case 30:break;default:yu(f,x)}}function w4(f){var h=f.alternate;h!==null&&(f.alternate=null,w4(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&de(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var $n=null,ps=!1;function Nc(f,h,x){for(x=x.child;x!==null;)b4(f,h,x),x=x.sibling}function b4(f,h,x){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(It,x)}catch(T){}switch(x.tag){case 26:pa||Hl(x,h),Nc(f,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:pa||Hl(x,h);var v=$n,E=ps;Nu(x.type)&&($n=x.stateNode,ps=!1),Nc(f,h,x),zh(x.stateNode),$n=v,ps=E;break;case 5:pa||Hl(x,h);case 6:if(v=$n,E=ps,$n=null,Nc(f,h,x),$n=v,ps=E,$n!==null)if(ps)try{($n.nodeType===9?$n.body:$n.nodeName==="HTML"?$n.ownerDocument.body:$n).removeChild(x.stateNode)}catch(T){Sn(x,h,T)}else try{$n.removeChild(x.stateNode)}catch(T){Sn(x,h,T)}break;case 18:$n!==null&&(ps?(f=$n,cb(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,x.stateNode),Yh(f)):cb($n,x.stateNode));break;case 4:v=$n,E=ps,$n=x.stateNode.containerInfo,ps=!0,Nc(f,h,x),$n=v,ps=E;break;case 0:case 11:case 14:case 15:pa||vu(2,x,h),pa||vu(4,x,h),Nc(f,h,x);break;case 1:pa||(Hl(x,h),v=x.stateNode,typeof v.componentWillUnmount=="function"&&p4(x,h,v)),Nc(f,h,x);break;case 21:Nc(f,h,x);break;case 22:pa=(v=pa)||x.memoizedState!==null,Nc(f,h,x),pa=v;break;default:Nc(f,h,x)}}function _4(f,h){if(h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Yh(f)}catch(x){Sn(h,h.return,x)}}function hN(f){switch(f.tag){case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new v4),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new v4),h;default:throw Error(n(435,f.tag))}}function Y2(f,h){var x=hN(f);h.forEach(function(v){var E=_N.bind(null,f,v);x.has(v)||(x.add(v),v.then(E,E))})}function Ms(f,h){var x=h.deletions;if(x!==null)for(var v=0;v<x.length;v++){var E=x[v],T=f,W=h,se=W;e:for(;se!==null;){switch(se.tag){case 27:if(Nu(se.type)){$n=se.stateNode,ps=!1;break e}break;case 5:$n=se.stateNode,ps=!1;break e;case 3:case 4:$n=se.stateNode.containerInfo,ps=!0;break e}se=se.return}if($n===null)throw Error(n(160));b4(T,W,E),$n=null,ps=!1,T=E.alternate,T!==null&&(T.return=null),E.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)S4(h,f),h=h.sibling}var Wo=null;function S4(f,h){var x=f.alternate,v=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ms(h,f),Bs(f),v&4&&(vu(3,f,f.return),Rh(3,f),vu(5,f,f.return));break;case 1:Ms(h,f),Bs(f),v&512&&(pa||x===null||Hl(x,x.return)),v&64&&Ac&&(f=f.updateQueue,f!==null&&(v=f.callbacks,v!==null&&(x=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=x===null?v:x.concat(v))));break;case 26:var E=Wo;if(Ms(h,f),Bs(f),v&512&&(pa||x===null||Hl(x,x.return)),v&4){var T=x!==null?x.memoizedState:null;if(v=f.memoizedState,x===null)if(v===null)if(f.stateNode===null){e:{v=f.type,x=f.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":T=E.getElementsByTagName("title")[0],(!T||T[fe]||T[Qr]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=E.createElement(v),E.head.insertBefore(T,E.querySelector("head > title"))),ci(T,v,x),T[Qr]=f,Fe(T),v=T;break e;case"link":var W=xb("link","href",E).get(v+(x.href||""));if(W){for(var se=0;se<W.length;se++)if(T=W[se],T.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&T.getAttribute("rel")===(x.rel==null?null:x.rel)&&T.getAttribute("title")===(x.title==null?null:x.title)&&T.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){W.splice(se,1);break t}}T=E.createElement(v),ci(T,v,x),E.head.appendChild(T);break;case"meta":if(W=xb("meta","content",E).get(v+(x.content||""))){for(se=0;se<W.length;se++)if(T=W[se],T.getAttribute("content")===(x.content==null?null:""+x.content)&&T.getAttribute("name")===(x.name==null?null:x.name)&&T.getAttribute("property")===(x.property==null?null:x.property)&&T.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&T.getAttribute("charset")===(x.charSet==null?null:x.charSet)){W.splice(se,1);break t}}T=E.createElement(v),ci(T,v,x),E.head.appendChild(T);break;default:throw Error(n(468,v))}T[Qr]=f,Fe(T),v=T}f.stateNode=v}else vb(E,f.type,f.stateNode);else f.stateNode=mb(E,v,f.memoizedProps);else T!==v?(T===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):T.count--,v===null?vb(E,f.type,f.stateNode):mb(E,v,f.memoizedProps)):v===null&&f.stateNode!==null&&V2(f,f.memoizedProps,x.memoizedProps)}break;case 27:Ms(h,f),Bs(f),v&512&&(pa||x===null||Hl(x,x.return)),x!==null&&v&4&&V2(f,f.memoizedProps,x.memoizedProps);break;case 5:if(Ms(h,f),Bs(f),v&512&&(pa||x===null||Hl(x,x.return)),f.flags&32){E=f.stateNode;try{gl(E,"")}catch(Je){Sn(f,f.return,Je)}}v&4&&f.stateNode!=null&&(E=f.memoizedProps,V2(f,E,x!==null?x.memoizedProps:E)),v&1024&&(X2=!0);break;case 6:if(Ms(h,f),Bs(f),v&4){if(f.stateNode===null)throw Error(n(162));v=f.memoizedProps,x=f.stateNode;try{x.nodeValue=v}catch(Je){Sn(f,f.return,Je)}}break;case 3:if(Gp=null,E=Wo,Wo=$p(h.containerInfo),Ms(h,f),Wo=E,Bs(f),v&4&&x!==null&&x.memoizedState.isDehydrated)try{Yh(h.containerInfo)}catch(Je){Sn(f,f.return,Je)}X2&&(X2=!1,E4(f));break;case 4:v=Wo,Wo=$p(f.stateNode.containerInfo),Ms(h,f),Bs(f),Wo=v;break;case 12:Ms(h,f),Bs(f);break;case 13:Ms(h,f),Bs(f),f.child.flags&8192&&f.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(tx=ke()),v&4&&(v=f.updateQueue,v!==null&&(f.updateQueue=null,Y2(f,v)));break;case 22:E=f.memoizedState!==null;var Ce=x!==null&&x.memoizedState!==null,We=Ac,lt=pa;if(Ac=We||E,pa=lt||Ce,Ms(h,f),pa=lt,Ac=We,Bs(f),v&8192)e:for(h=f.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(x===null||Ce||Ac||pa||P0(f)),x=null,h=f;;){if(h.tag===5||h.tag===26){if(x===null){Ce=x=h;try{if(T=Ce.stateNode,E)W=T.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{se=Ce.stateNode;var pt=Ce.memoizedProps.style,Ke=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;se.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Je){Sn(Ce,Ce.return,Je)}}}else if(h.tag===6){if(x===null){Ce=h;try{Ce.stateNode.nodeValue=E?"":Ce.memoizedProps}catch(Je){Sn(Ce,Ce.return,Je)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}v&4&&(v=f.updateQueue,v!==null&&(x=v.retryQueue,x!==null&&(v.retryQueue=null,Y2(f,x))));break;case 19:Ms(h,f),Bs(f),v&4&&(v=f.updateQueue,v!==null&&(f.updateQueue=null,Y2(f,v)));break;case 30:break;case 21:break;default:Ms(h,f),Bs(f)}}function Bs(f){var h=f.flags;if(h&2){try{for(var x,v=f.return;v!==null;){if(m4(v)){x=v;break}v=v.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var E=x.stateNode,T=G2(f);Rp(f,T,E);break;case 5:var W=x.stateNode;x.flags&32&&(gl(W,""),x.flags&=-33);var se=G2(f);Rp(f,se,W);break;case 3:case 4:var Ce=x.stateNode.containerInfo,We=G2(f);W2(f,We,Ce);break;default:throw Error(n(161))}}catch(lt){Sn(f,f.return,lt)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function E4(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;E4(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),f=f.sibling}}function yu(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)y4(f,h.alternate,h),h=h.sibling}function P0(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:vu(4,h,h.return),P0(h);break;case 1:Hl(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&p4(h,h.return,x),P0(h);break;case 27:zh(h.stateNode);case 26:case 5:Hl(h,h.return),P0(h);break;case 22:h.memoizedState===null&&P0(h);break;case 30:P0(h);break;default:P0(h)}f=f.sibling}}function wu(f,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var v=h.alternate,E=f,T=h,W=T.flags;switch(T.tag){case 0:case 11:case 15:wu(E,T,x),Rh(4,T);break;case 1:if(wu(E,T,x),v=T,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(We){Sn(v,v.return,We)}if(v=T,E=v.updateQueue,E!==null){var se=v.stateNode;try{var Ce=E.shared.hiddenCallbacks;if(Ce!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ce.length;E++)Ir(Ce[E],se)}catch(We){Sn(v,v.return,We)}}x&&W&64&&h4(T),kh(T,T.return);break;case 27:x4(T);case 26:case 5:wu(E,T,x),x&&v===null&&W&4&&g4(T),kh(T,T.return);break;case 12:wu(E,T,x);break;case 13:wu(E,T,x),x&&W&4&&_4(E,T);break;case 22:T.memoizedState===null&&wu(E,T,x),kh(T,T.return);break;case 30:break;default:wu(E,T,x)}h=h.sibling}}function K2(f,h){var x=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==x&&(f!=null&&f.refCount++,x!=null&&S0(x))}function Z2(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&S0(f))}function ql(f,h,x,v){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)A4(f,h,x,v),h=h.sibling}function A4(f,h,x,v){var E=h.flags;switch(h.tag){case 0:case 11:case 15:ql(f,h,x,v),E&2048&&Rh(9,h);break;case 1:ql(f,h,x,v);break;case 3:ql(f,h,x,v),E&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&S0(f)));break;case 12:if(E&2048){ql(f,h,x,v),f=h.stateNode;try{var T=h.memoizedProps,W=T.id,se=T.onPostCommit;typeof se=="function"&&se(W,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Ce){Sn(h,h.return,Ce)}}else ql(f,h,x,v);break;case 13:ql(f,h,x,v);break;case 23:break;case 22:T=h.stateNode,W=h.alternate,h.memoizedState!==null?T._visibility&2?ql(f,h,x,v):Lh(f,h):T._visibility&2?ql(f,h,x,v):(T._visibility|=2,$f(f,h,x,v,(h.subtreeFlags&10256)!==0)),E&2048&&K2(W,h);break;case 24:ql(f,h,x,v),E&2048&&Z2(h.alternate,h);break;default:ql(f,h,x,v)}}function $f(f,h,x,v,E){for(E=E&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var T=f,W=h,se=x,Ce=v,We=W.flags;switch(W.tag){case 0:case 11:case 15:$f(T,W,se,Ce,E),Rh(8,W);break;case 23:break;case 22:var lt=W.stateNode;W.memoizedState!==null?lt._visibility&2?$f(T,W,se,Ce,E):Lh(T,W):(lt._visibility|=2,$f(T,W,se,Ce,E)),E&&We&2048&&K2(W.alternate,W);break;case 24:$f(T,W,se,Ce,E),E&&We&2048&&Z2(W.alternate,W);break;default:$f(T,W,se,Ce,E)}h=h.sibling}}function Lh(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=f,v=h,E=v.flags;switch(v.tag){case 22:Lh(x,v),E&2048&&K2(v.alternate,v);break;case 24:Lh(x,v),E&2048&&Z2(v.alternate,v);break;default:Lh(x,v)}h=h.sibling}}var Dh=8192;function Vf(f){if(f.subtreeFlags&Dh)for(f=f.child;f!==null;)N4(f),f=f.sibling}function N4(f){switch(f.tag){case 26:Vf(f),f.flags&Dh&&f.memoizedState!==null&&JN(Wo,f.memoizedState,f.memoizedProps);break;case 5:Vf(f);break;case 3:case 4:var h=Wo;Wo=$p(f.stateNode.containerInfo),Vf(f),Wo=h;break;case 22:f.memoizedState===null&&(h=f.alternate,h!==null&&h.memoizedState!==null?(h=Dh,Dh=16777216,Vf(f),Dh=h):Vf(f));break;default:Vf(f)}}function C4(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function Ih(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var v=h[x];Ha=v,j4(v,f)}C4(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)T4(f),f=f.sibling}function T4(f){switch(f.tag){case 0:case 11:case 15:Ih(f),f.flags&2048&&vu(9,f,f.return);break;case 3:Ih(f);break;case 12:Ih(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&2&&(f.return===null||f.return.tag!==13)?(h._visibility&=-3,kp(f)):Ih(f);break;default:Ih(f)}}function kp(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var v=h[x];Ha=v,j4(v,f)}C4(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:vu(8,h,h.return),kp(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,kp(h));break;default:kp(h)}f=f.sibling}}function j4(f,h){for(;Ha!==null;){var x=Ha;switch(x.tag){case 0:case 11:case 15:vu(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var v=x.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:S0(x.memoizedState.cache)}if(v=x.child,v!==null)v.return=x,Ha=v;else e:for(x=f;Ha!==null;){v=Ha;var E=v.sibling,T=v.return;if(w4(v),v===x){Ha=null;break e}if(E!==null){E.return=T,Ha=E;break e}Ha=T}}}var pN={getCacheForType:function(f){var h=fa(da),x=h.data.get(f);return x===void 0&&(x=f(),h.data.set(f,x)),x}},gN=typeof WeakMap=="function"?WeakMap:Map,on=0,Cn=null,Tr=null,Fr=0,ln=0,Us=null,bu=!1,Gf=!1,J2=!1,Cc=0,aa=0,_u=0,F0=0,Q2=0,go=0,Wf=0,Ph=null,gs=null,ex=!1,tx=0,Lp=1/0,Dp=null,Su=null,li=0,Eu=null,Xf=null,Yf=0,rx=0,nx=null,O4=null,Fh=0,ax=null;function zs(){if((on&2)!==0&&Fr!==0)return Fr&-Fr;if(Q.T!==null){var f=xc;return f!==0?f:fx()}return Bi()}function R4(){go===0&&(go=(Fr&536870912)===0||Ur?Ts():536870912);var f=po.current;return f!==null&&(f.flags|=32),go}function Hs(f,h,x){(f===Cn&&(ln===2||ln===9)||f.cancelPendingCommit!==null)&&(Kf(f,0),Au(f,Fr,go,!1)),ti(f,x),((on&2)===0||f!==Cn)&&(f===Cn&&((on&2)===0&&(F0|=x),aa===4&&Au(f,Fr,go,!1)),$l(f))}function k4(f,h,x){if((on&6)!==0)throw Error(n(327));var v=!x&&(h&124)===0&&(h&f.expiredLanes)===0||Ma(f,h),E=v?vN(f,h):ox(f,h,!0),T=v;do{if(E===0){Gf&&!v&&Au(f,h,0,!1);break}else{if(x=f.current.alternate,T&&!mN(x)){E=ox(f,h,!1),T=!1;continue}if(E===2){if(T=h,f.errorRecoveryDisabledLanes&T)var W=0;else W=f.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){h=W;e:{var se=f;E=Ph;var Ce=se.current.memoizedState.isDehydrated;if(Ce&&(Kf(se,W).flags|=256),W=ox(se,W,!1),W!==2){if(J2&&!Ce){se.errorRecoveryDisabledLanes|=T,F0|=T,E=4;break e}T=gs,gs=E,T!==null&&(gs===null?gs=T:gs.push.apply(gs,T))}E=W}if(T=!1,E!==2)continue}}if(E===1){Kf(f,0),Au(f,h,0,!0);break}e:{switch(v=f,T=E,T){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:Au(v,h,go,!bu);break e;case 2:gs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(E=tx+300-ke(),10<E)){if(Au(v,h,go,!bu),Yr(v,0,!0)!==0)break e;v.timeoutHandle=ob(L4.bind(null,v,x,gs,Dp,ex,h,go,F0,Wf,bu,T,2,-0,0),E);break e}L4(v,x,gs,Dp,ex,h,go,F0,Wf,bu,T,0,-0,0)}}break}while(!0);$l(f)}function L4(f,h,x,v,E,T,W,se,Ce,We,lt,pt,Ke,Je){if(f.timeoutHandle=-1,pt=h.subtreeFlags,(pt&8192||(pt&16785408)===16785408)&&($h={stylesheets:null,count:0,unsuspend:ZN},N4(h),pt=QN(),pt!==null)){f.cancelPendingCommit=pt(U4.bind(null,f,h,T,x,v,E,W,se,Ce,lt,1,Ke,Je)),Au(f,T,W,!We);return}U4(f,h,T,x,v,E,W,se,Ce)}function mN(f){for(var h=f;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var v=0;v<x.length;v++){var E=x[v],T=E.getSnapshot;E=E.value;try{if(!ba(T(),E))return!1}catch(W){return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Au(f,h,x,v){h&=~Q2,h&=~F0,f.suspendedLanes|=h,f.pingedLanes&=~h,v&&(f.warmLanes|=h),v=f.expirationTimes;for(var E=h;0<E;){var T=31-Pt(E),W=1<<T;v[T]=-1,E&=~W}x!==0&&er(f,x,h)}function Ip(){return(on&6)===0?(Mh(0),!1):!0}function ix(){if(Tr!==null){if(ln===0)var f=Tr.return;else f=Tr,zo=Sa=null,Pf(f),Hf=null,Th=0,f=Tr;for(;f!==null;)d4(f.alternate,f),f=f.return;Tr=null}}function Kf(f,h){var x=f.timeoutHandle;x!==-1&&(f.timeoutHandle=-1,DN(x)),x=f.cancelPendingCommit,x!==null&&(f.cancelPendingCommit=null,x()),ix(),Cn=f,Tr=x=oo(f.current,null),Fr=h,ln=0,Us=null,bu=!1,Gf=Ma(f,h),J2=!1,Wf=go=Q2=F0=_u=aa=0,gs=Ph=null,ex=!1,(h&8)!==0&&(h|=h&32);var v=f.entangledLanes;if(v!==0)for(f=f.entanglements,v&=h;0<v;){var E=31-Pt(v),T=1<<E;h|=f[E],v&=~T}return Cc=h,us(),x}function D4(f,h){Yt=null,Q.H=_p,h===ee||h===ie?(h=Pe(),ln=3):h===ne?(h=Pe(),ln=4):ln=h===Jw?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Us=h,Tr===null&&(aa=1,Cp(f,wr(h,f.current)))}function I4(){var f=Q.H;return Q.H=_p,f===null?_p:f}function P4(){var f=Q.A;return Q.A=pN,f}function sx(){aa=4,bu||(Fr&4194048)!==Fr&&po.current!==null||(Gf=!0),(_u&134217727)===0&&(F0&134217727)===0||Cn===null||Au(Cn,Fr,go,!1)}function ox(f,h,x){var v=on;on|=2;var E=I4(),T=P4();(Cn!==f||Fr!==h)&&(Dp=null,Kf(f,h)),h=!1;var W=aa;e:do try{if(ln!==0&&Tr!==null){var se=Tr,Ce=Us;switch(ln){case 8:ix(),W=6;break e;case 3:case 2:case 9:case 6:po.current===null&&(h=!0);var We=ln;if(ln=0,Us=null,Zf(f,se,Ce,We),x&&Gf){W=0;break e}break;default:We=ln,ln=0,Us=null,Zf(f,se,Ce,We)}}xN(),W=aa;break}catch(lt){D4(f,lt)}while(!0);return h&&f.shellSuspendCounter++,zo=Sa=null,on=v,Q.H=E,Q.A=T,Tr===null&&(Cn=null,Fr=0,us()),W}function xN(){for(;Tr!==null;)F4(Tr)}function vN(f,h){var x=on;on|=2;var v=I4(),E=P4();Cn!==f||Fr!==h?(Dp=null,Lp=ke()+500,Kf(f,h)):Gf=Ma(f,h);e:do try{if(ln!==0&&Tr!==null){h=Tr;var T=Us;t:switch(ln){case 1:ln=0,Us=null,Zf(f,h,T,1);break;case 2:case 9:if(me(T)){ln=0,Us=null,M4(h);break}h=function(){ln!==2&&ln!==9||Cn!==f||(ln=7),$l(f)},T.then(h,h);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:me(T)?(ln=0,Us=null,M4(h)):(ln=0,Us=null,Zf(f,h,T,7));break;case 5:var W=null;switch(Tr.tag){case 26:W=Tr.memoizedState;case 5:case 27:var se=Tr;if(!W||yb(W)){ln=0,Us=null;var Ce=se.sibling;if(Ce!==null)Tr=Ce;else{var We=se.return;We!==null?(Tr=We,Pp(We)):Tr=null}break t}}ln=0,Us=null,Zf(f,h,T,5);break;case 6:ln=0,Us=null,Zf(f,h,T,6);break;case 8:ix(),aa=6;break e;default:throw Error(n(462))}}yN();break}catch(lt){D4(f,lt)}while(!0);return zo=Sa=null,Q.H=v,Q.A=E,on=x,Tr!==null?0:(Cn=null,Fr=0,us(),aa)}function yN(){for(;Tr!==null&&!ze();)F4(Tr)}function F4(f){var h=u4(f.alternate,f,Cc);f.memoizedProps=f.pendingProps,h===null?Pp(f):Tr=h}function M4(f){var h=f,x=h.alternate;switch(h.tag){case 15:case 0:h=a4(x,h,h.pendingProps,h.type,void 0,Fr);break;case 11:h=a4(x,h,h.pendingProps,h.type.render,h.ref,Fr);break;case 5:Pf(h);default:d4(x,h),h=Tr=y0(h,Cc),h=u4(x,h,Cc)}f.memoizedProps=f.pendingProps,h===null?Pp(f):Tr=h}function Zf(f,h,x,v){zo=Sa=null,Pf(h),Hf=null,Th=0;var E=h.return;try{if(lN(f,E,h,x,Fr)){aa=1,Cp(f,wr(x,f.current)),Tr=null;return}}catch(T){if(E!==null)throw Tr=E,T;aa=1,Cp(f,wr(x,f.current)),Tr=null;return}h.flags&32768?(Ur||v===1?f=!0:Gf||(Fr&536870912)!==0?f=!1:(bu=f=!0,(v===2||v===9||v===3||v===6)&&(v=po.current,v!==null&&v.tag===13&&(v.flags|=16384))),B4(h,f)):Pp(h)}function Pp(f){var h=f;do{if((h.flags&32768)!==0){B4(h,bu);return}f=h.return;var x=uN(h.alternate,h,Cc);if(x!==null){Tr=x;return}if(h=h.sibling,h!==null){Tr=h;return}Tr=h=f}while(h!==null);aa===0&&(aa=5)}function B4(f,h){do{var x=fN(f.alternate,f);if(x!==null){x.flags&=32767,Tr=x;return}if(x=f.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(f=f.sibling,f!==null)){Tr=f;return}Tr=f=x}while(f!==null);aa=6,Tr=null}function U4(f,h,x,v,E,T,W,se,Ce){f.cancelPendingCommit=null;do Fp();while(li!==0);if((on&6)!==0)throw Error(n(327));if(h!==null){if(h===f.current)throw Error(n(177));if(T=h.lanes|h.childLanes,T|=Kn,nn(f,x,T,W,se,Ce),f===Cn&&(Tr=Cn=null,Fr=0),Xf=h,Eu=f,Yf=x,rx=T,nx=E,O4=v,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,SN(ot,function(){return V4(),null})):(f.callbackNode=null,f.callbackPriority=0),v=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||v){v=Q.T,Q.T=null,E=ce.p,ce.p=2,W=on,on|=4;try{dN(f,h,x)}finally{on=W,ce.p=E,Q.T=v}}li=1,z4(),H4(),q4()}}function z4(){if(li===1){li=0;var f=Eu,h=Xf,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=Q.T,Q.T=null;var v=ce.p;ce.p=2;var E=on;on|=4;try{S4(h,f);var T=yx,W=ai(f.containerInfo),se=T.focusedElem,Ce=T.selectionRange;if(W!==se&&se&&se.ownerDocument&&Al(se.ownerDocument.documentElement,se)){if(Ce!==null&&Ta(se)){var We=Ce.start,lt=Ce.end;if(lt===void 0&&(lt=We),"selectionStart"in se)se.selectionStart=We,se.selectionEnd=Math.min(lt,se.value.length);else{var pt=se.ownerDocument||document,Ke=pt&&pt.defaultView||window;if(Ke.getSelection){var Je=Ke.getSelection(),ir=se.textContent.length,Zt=Math.min(Ce.start,ir),yn=Ce.end===void 0?Zt:Math.min(Ce.end,ir);!Je.extend&&Zt>yn&&(W=yn,yn=Zt,Zt=W);var Me=Lo(se,Zt),Le=Lo(se,yn);if(Me&&Le&&(Je.rangeCount!==1||Je.anchorNode!==Me.node||Je.anchorOffset!==Me.offset||Je.focusNode!==Le.node||Je.focusOffset!==Le.offset)){var $e=pt.createRange();$e.setStart(Me.node,Me.offset),Je.removeAllRanges(),Zt>yn?(Je.addRange($e),Je.extend(Le.node,Le.offset)):($e.setEnd(Le.node,Le.offset),Je.addRange($e))}}}}for(pt=[],Je=se;Je=Je.parentNode;)Je.nodeType===1&&pt.push({element:Je,left:Je.scrollLeft,top:Je.scrollTop});for(typeof se.focus=="function"&&se.focus(),se=0;se<pt.length;se++){var ut=pt[se];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Yp=!!vx,yx=vx=null}finally{on=E,ce.p=v,Q.T=x}}f.current=h,li=2}}function H4(){if(li===2){li=0;var f=Eu,h=Xf,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=Q.T,Q.T=null;var v=ce.p;ce.p=2;var E=on;on|=4;try{y4(f,h.alternate,h)}finally{on=E,ce.p=v,Q.T=x}}li=3}}function q4(){if(li===4||li===3){li=0,te();var f=Eu,h=Xf,x=Yf,v=O4;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?li=5:(li=0,Xf=Eu=null,$4(f,f.pendingLanes));var E=f.pendingLanes;if(E===0&&(Su=null),Gn(x),h=h.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(It,h,void 0,(h.current.flags&128)===128)}catch(Ce){}if(v!==null){h=Q.T,E=ce.p,ce.p=2,Q.T=null;try{for(var T=f.onRecoverableError,W=0;W<v.length;W++){var se=v[W];T(se.value,{componentStack:se.stack})}}finally{Q.T=h,ce.p=E}}(Yf&3)!==0&&Fp(),$l(f),E=f.pendingLanes,(x&4194090)!==0&&(E&42)!==0?f===ax?Fh++:(Fh=0,ax=f):Fh=0,Mh(0)}}function $4(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,S0(h)))}function Fp(f){return z4(),H4(),q4(),V4()}function V4(){if(li!==5)return!1;var f=Eu,h=rx;rx=0;var x=Gn(Yf),v=Q.T,E=ce.p;try{ce.p=32>x?32:x,Q.T=null,x=nx,nx=null;var T=Eu,W=Yf;if(li=0,Xf=Eu=null,Yf=0,(on&6)!==0)throw Error(n(331));var se=on;if(on|=4,T4(T.current),A4(T,T.current,W,x),on=se,Mh(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(It,T)}catch(Ce){}return!0}finally{ce.p=E,Q.T=v,$4(f,h)}}function G4(f,h,x){h=wr(x,h),h=P2(f.stateNode,h,2),f=ht(f,h,2),f!==null&&(ti(f,2),$l(f))}function Sn(f,h,x){if(f.tag===3)G4(f,f,x);else for(;h!==null;){if(h.tag===3){G4(h,f,x);break}else if(h.tag===1){var v=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Su===null||!Su.has(v))){f=wr(x,f),x=Kw(2),v=ht(h,x,2),v!==null&&(Zw(x,v,h,f),ti(v,2),$l(v));break}}h=h.return}}function lx(f,h,x){var v=f.pingCache;if(v===null){v=f.pingCache=new gN;var E=new Set;v.set(h,E)}else E=v.get(h),E===void 0&&(E=new Set,v.set(h,E));E.has(x)||(J2=!0,E.add(x),f=wN.bind(null,f,h,x),h.then(f,f))}function wN(f,h,x){var v=f.pingCache;v!==null&&v.delete(h),f.pingedLanes|=f.suspendedLanes&x,f.warmLanes&=~x,Cn===f&&(Fr&x)===x&&(aa===4||aa===3&&(Fr&62914560)===Fr&&300>ke()-tx?(on&2)===0&&Kf(f,0):Q2|=x,Wf===Fr&&(Wf=0)),$l(f)}function W4(f,h){h===0&&(h=mn()),f=Io(f,h),f!==null&&(ti(f,h),$l(f))}function bN(f){var h=f.memoizedState,x=0;h!==null&&(x=h.retryLane),W4(f,x)}function _N(f,h){var x=0;switch(f.tag){case 13:var v=f.stateNode,E=f.memoizedState;E!==null&&(x=E.retryLane);break;case 19:v=f.stateNode;break;case 22:v=f.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(h),W4(f,x)}function SN(f,h){return rt(f,h)}var Mp=null,Jf=null,cx=!1,Bp=!1,ux=!1,M0=0;function $l(f){f!==Jf&&f.next===null&&(Jf===null?Mp=Jf=f:Jf=Jf.next=f),Bp=!0,cx||(cx=!0,AN())}function Mh(f,h){if(!ux&&Bp){ux=!0;do for(var x=!1,v=Mp;v!==null;){if(f!==0){var E=v.pendingLanes;if(E===0)var T=0;else{var W=v.suspendedLanes,se=v.pingedLanes;T=(1<<31-Pt(42|f)+1)-1,T&=E&~(W&~se),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(x=!0,Z4(v,T))}else T=Fr,T=Yr(v,v===Cn?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||Ma(v,T)||(x=!0,Z4(v,T));v=v.next}while(x);ux=!1}}function EN(){X4()}function X4(){Bp=cx=!1;var f=0;M0!==0&&(LN()&&(f=M0),M0=0);for(var h=ke(),x=null,v=Mp;v!==null;){var E=v.next,T=Y4(v,h);T===0?(v.next=null,x===null?Mp=E:x.next=E,E===null&&(Jf=x)):(x=v,(f!==0||(T&3)!==0)&&(Bp=!0)),v=E}Mh(f)}function Y4(f,h){for(var x=f.suspendedLanes,v=f.pingedLanes,E=f.expirationTimes,T=f.pendingLanes&-62914561;0<T;){var W=31-Pt(T),se=1<<W,Ce=E[W];Ce===-1?((se&x)===0||(se&v)!==0)&&(E[W]=Rr(se,h)):Ce<=h&&(f.expiredLanes|=se),T&=~se}if(h=Cn,x=Fr,x=Yr(f,f===h?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),v=f.callbackNode,x===0||f===h&&(ln===2||ln===9)||f.cancelPendingCommit!==null)return v!==null&&v!==null&&ft(v),f.callbackNode=null,f.callbackPriority=0;if((x&3)===0||Ma(f,x)){if(h=x&-x,h===f.callbackPriority)return h;switch(v!==null&&ft(v),Gn(x)){case 2:case 8:x=Ie;break;case 32:x=ot;break;case 268435456:x=vt;break;default:x=ot}return v=K4.bind(null,f),x=rt(x,v),f.callbackPriority=h,f.callbackNode=x,h}return v!==null&&v!==null&&ft(v),f.callbackPriority=2,f.callbackNode=null,2}function K4(f,h){if(li!==0&&li!==5)return f.callbackNode=null,f.callbackPriority=0,null;var x=f.callbackNode;if(Fp()&&f.callbackNode!==x)return null;var v=Fr;return v=Yr(f,f===Cn?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),v===0?null:(k4(f,v,h),Y4(f,ke()),f.callbackNode!=null&&f.callbackNode===x?K4.bind(null,f):null)}function Z4(f,h){if(Fp())return null;k4(f,h,!0)}function AN(){IN(function(){(on&6)!==0?rt(Te,EN):X4()})}function fx(){return M0===0&&(M0=Ts()),M0}function J4(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:To(""+f)}function Q4(f,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,f.id&&x.setAttribute("form",f.id),h.parentNode.insertBefore(x,h),f=new FormData(f),x.parentNode.removeChild(x),f}function NN(f,h,x,v,E){if(h==="submit"&&x&&x.stateNode===E){var T=J4((E[an]||null).action),W=v.submitter;W&&(h=(h=W[an]||null)?J4(h.formAction):W.getAttribute("formAction"),h!==null&&(T=h,W=null));var se=new vl("action","action",null,v,E);f.push({event:se,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(M0!==0){var Ce=W?Q4(E,W):new FormData(E);ho(x,{pending:!0,data:Ce,method:E.method,action:T},null,Ce)}}else typeof T=="function"&&(se.preventDefault(),Ce=W?Q4(E,W):new FormData(E),ho(x,{pending:!0,data:Ce,method:E.method,action:T},T,Ce))},currentTarget:E}]})}}for(var dx=0;dx<fc.length;dx++){var hx=fc[dx],CN=hx.toLowerCase(),TN=hx[0].toUpperCase()+hx.slice(1);Hn(CN,"on"+TN)}Hn(iu,"onAnimationEnd"),Hn(Cl,"onAnimationIteration"),Hn(Tl,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(jl,"onTransitionRun"),Hn(uc,"onTransitionStart"),Hn(su,"onTransitionCancel"),Hn(Ol,"onTransitionEnd"),St("onMouseEnter",["mouseout","mouseover"]),St("onMouseLeave",["mouseout","mouseover"]),St("onPointerEnter",["pointerout","pointerover"]),St("onPointerLeave",["pointerout","pointerover"]),gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function eb(f,h){h=(h&4)!==0;for(var x=0;x<f.length;x++){var v=f[x],E=v.event;v=v.listeners;e:{var T=void 0;if(h)for(var W=v.length-1;0<=W;W--){var se=v[W],Ce=se.instance,We=se.currentTarget;if(se=se.listener,Ce!==T&&E.isPropagationStopped())break e;T=se,E.currentTarget=We;try{T(E)}catch(lt){Np(lt)}E.currentTarget=null,T=Ce}else for(W=0;W<v.length;W++){if(se=v[W],Ce=se.instance,We=se.currentTarget,se=se.listener,Ce!==T&&E.isPropagationStopped())break e;T=se,E.currentTarget=We;try{T(E)}catch(lt){Np(lt)}E.currentTarget=null,T=Ce}}}}function jr(f,h){var x=h[Rn];x===void 0&&(x=h[Rn]=new Set);var v=f+"__bubble";x.has(v)||(tb(h,f,2,!1),x.add(v))}function px(f,h,x){var v=0;h&&(v|=4),tb(x,f,v,h)}var Up="_reactListening"+Math.random().toString(36).slice(2);function gx(f){if(!f[Up]){f[Up]=!0,Ge.forEach(function(x){x!=="selectionchange"&&(jN.has(x)||px(x,!1,f),px(x,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[Up]||(h[Up]=!0,px("selectionchange",!1,h))}}function tb(f,h,x,v){switch(Ab(h)){case 2:var E=rC;break;case 8:E=nC;break;default:E=jx}x=E.bind(null,h,x,f),E=void 0,!Gc||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),v?E!==void 0?f.addEventListener(h,x,{capture:!0,passive:E}):f.addEventListener(h,x,!0):E!==void 0?f.addEventListener(h,x,{passive:E}):f.addEventListener(h,x,!1)}function mx(f,h,x,v,E){var T=v;if((h&1)===0&&(h&2)===0&&v!==null)e:for(;;){if(v===null)return;var W=v.tag;if(W===3||W===4){var se=v.stateNode.containerInfo;if(se===E)break;if(W===4)for(W=v.return;W!==null;){var Ce=W.tag;if((Ce===3||Ce===4)&&W.stateNode.containerInfo===E)return;W=W.return}for(;se!==null;){if(W=ye(se),W===null)return;if(Ce=W.tag,Ce===5||Ce===6||Ce===26||Ce===27){v=T=W;continue e}se=se.parentNode}}v=v.return}Ef(function(){var We=T,lt=ya(x),pt=[];e:{var Ke=Do.get(f);if(Ke!==void 0){var Je=vl,ir=f;switch(f){case"keypress":if(xl(x)===0)break e;case"keydown":case"keyup":Je=eu;break;case"focusin":ir="focus",Je=nc;break;case"focusout":ir="blur",Je=nc;break;case"beforeblur":case"afterblur":Je=nc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=g0;break;case iu:case Cl:case Tl:Je=ch;break;case Ol:Je=Z;break;case"scroll":case"scrollend":Je=Nf;break;case"wheel":Je=je;break;case"copy":case"cut":case"paste":Je=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=tu;break;case"toggle":case"beforetoggle":Je=nt}var Zt=(h&4)!==0,yn=!Zt&&(f==="scroll"||f==="scrollend"),Me=Zt?Ke!==null?Ke+"Capture":null:Ke;Zt=[];for(var Le=We,$e;Le!==null;){var ut=Le;if($e=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||$e===null||Me===null||(ut=wi(Le,Me),ut!=null&&Zt.push(Uh(Le,ut,$e))),yn)break;Le=Le.return}0<Zt.length&&(Ke=new Je(Ke,ir,null,x,lt),pt.push({event:Ke,listeners:Zt}))}}if((h&7)===0){e:{if(Ke=f==="mouseover"||f==="pointerover",Je=f==="mouseout"||f==="pointerout",Ke&&x!==Vc&&(ir=x.relatedTarget||x.fromElement)&&(ye(ir)||ir[Wn]))break e;if((Je||Ke)&&(Ke=lt.window===lt?lt:(Ke=lt.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,Je?(ir=x.relatedTarget||x.toElement,Je=We,ir=ir?ye(ir):null,ir!==null&&(yn=i(ir),Zt=ir.tag,ir!==yn||Zt!==5&&Zt!==27&&Zt!==6)&&(ir=null)):(Je=null,ir=We),Je!==ir)){if(Zt=ao,ut="onMouseLeave",Me="onMouseEnter",Le="mouse",(f==="pointerout"||f==="pointerover")&&(Zt=tu,ut="onPointerLeave",Me="onPointerEnter",Le="pointer"),yn=Je==null?Ke:He(Je),$e=ir==null?Ke:He(ir),Ke=new Zt(ut,Le+"leave",Je,x,lt),Ke.target=yn,Ke.relatedTarget=$e,ut=null,ye(lt)===We&&(Zt=new Zt(Me,Le+"enter",ir,x,lt),Zt.target=$e,Zt.relatedTarget=yn,ut=Zt),yn=ut,Je&&ir)t:{for(Zt=Je,Me=ir,Le=0,$e=Zt;$e;$e=Qf($e))Le++;for($e=0,ut=Me;ut;ut=Qf(ut))$e++;for(;0<Le-$e;)Zt=Qf(Zt),Le--;for(;0<$e-Le;)Me=Qf(Me),$e--;for(;Le--;){if(Zt===Me||Me!==null&&Zt===Me.alternate)break t;Zt=Qf(Zt),Me=Qf(Me)}Zt=null}else Zt=null;Je!==null&&rb(pt,Ke,Je,Zt,!1),ir!==null&&yn!==null&&rb(pt,yn,ir,Zt,!0)}}e:{if(Ke=We?He(We):window,Je=Ke.nodeName&&Ke.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ke.type==="file")var Bt=nu;else if(ks(Ke))if(sc)Bt=Tf;else{Bt=dh;var Ar=bi}else Je=Ke.nodeName,!Je||Je.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?We&&c0(We.elementType)&&(Bt=nu):Bt=x0;if(Bt&&(Bt=Bt(f,We))){m0(pt,Bt,x,lt);break e}Ar&&Ar(f,Ke,We),f==="focusout"&&We&&Ke.type==="number"&&We.memoizedProps.value!=null&&s0(Ke,"number",Ke.value)}switch(Ar=We?He(We):window,f){case"focusin":(ks(Ar)||Ar.contentEditable==="true")&&(_i=Ar,Ls=We,io=null);break;case"focusout":io=Ls=_i=null;break;case"mousedown":Ds=!0;break;case"contextmenu":case"mouseup":case"dragend":Ds=!1,zn(pt,x,lt);break;case"selectionchange":if(Nl)break;case"keydown":case"keyup":zn(pt,x,lt)}var Wt;if(Lt)e:{switch(f){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else Yn?kn(f,x)&&(Jt="onCompositionEnd"):f==="keydown"&&x.keyCode===229&&(Jt="onCompositionStart");Jt&&(sr&&x.locale!=="ko"&&(Yn||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&Yn&&(Wt=Af()):(ls=lt,f0="value"in ls?ls.value:ls.textContent,Yn=!0)),Ar=zp(We,Jt),0<Ar.length&&(Jt=new Zc(Jt,f,null,x,lt),pt.push({event:Jt,listeners:Ar}),Wt?Jt.data=Wt:(Wt=Xn(x),Wt!==null&&(Jt.data=Wt)))),(Wt=ur?wa(f,x):Rs(f,x))&&(Jt=zp(We,"onBeforeInput"),0<Jt.length&&(Ar=new Zc("onBeforeInput","beforeinput",null,x,lt),pt.push({event:Ar,listeners:Jt}),Ar.data=Wt)),NN(pt,f,We,x,lt)}eb(pt,h)})}function Uh(f,h,x){return{instance:f,listener:h,currentTarget:x}}function zp(f,h){for(var x=h+"Capture",v=[];f!==null;){var E=f,T=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||T===null||(E=wi(f,x),E!=null&&v.unshift(Uh(f,E,T)),E=wi(f,h),E!=null&&v.push(Uh(f,E,T))),f.tag===3)return v;f=f.return}return[]}function Qf(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function rb(f,h,x,v,E){for(var T=h._reactName,W=[];x!==null&&x!==v;){var se=x,Ce=se.alternate,We=se.stateNode;if(se=se.tag,Ce!==null&&Ce===v)break;se!==5&&se!==26&&se!==27||We===null||(Ce=We,E?(We=wi(x,T),We!=null&&W.unshift(Uh(x,We,Ce))):E||(We=wi(x,T),We!=null&&W.push(Uh(x,We,Ce)))),x=x.return}W.length!==0&&f.push({event:h,listeners:W})}var ON=/\r\n?/g,RN=/\u0000|\uFFFD/g;function nb(f){return(typeof f=="string"?f:""+f).replace(ON,`
`).replace(RN,"")}function ab(f,h){return h=nb(h),nb(f)===h}function Hp(){}function vn(f,h,x,v,E,T){switch(x){case"children":typeof v=="string"?h==="body"||h==="textarea"&&v===""||gl(f,v):(typeof v=="number"||typeof v=="bigint")&&h!=="body"&&gl(f,""+v);break;case"className":Br(f,"class",v);break;case"tabIndex":Br(f,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Br(f,x,v);break;case"style":Sf(f,v,T);break;case"data":if(h!=="object"){Br(f,"data",v);break}case"src":case"href":if(v===""&&(h!=="a"||x!=="href")){f.removeAttribute(x);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){f.removeAttribute(x);break}v=To(""+v),f.setAttribute(x,v);break;case"action":case"formAction":if(typeof v=="function"){f.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(x==="formAction"?(h!=="input"&&vn(f,h,"name",E.name,E,null),vn(f,h,"formEncType",E.formEncType,E,null),vn(f,h,"formMethod",E.formMethod,E,null),vn(f,h,"formTarget",E.formTarget,E,null)):(vn(f,h,"encType",E.encType,E,null),vn(f,h,"method",E.method,E,null),vn(f,h,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){f.removeAttribute(x);break}v=To(""+v),f.setAttribute(x,v);break;case"onClick":v!=null&&(f.onclick=Hp);break;case"onScroll":v!=null&&jr("scroll",f);break;case"onScrollEnd":v!=null&&jr("scrollend",f);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(x=v.__html,x!=null){if(E.children!=null)throw Error(n(60));f.innerHTML=x}}break;case"multiple":f.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":f.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){f.removeAttribute("xlink:href");break}x=To(""+v),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?f.setAttribute(x,""+v):f.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?f.setAttribute(x,""):f.removeAttribute(x);break;case"capture":case"download":v===!0?f.setAttribute(x,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?f.setAttribute(x,v):f.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?f.setAttribute(x,v):f.removeAttribute(x);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?f.removeAttribute(x):f.setAttribute(x,v);break;case"popover":jr("beforetoggle",f),jr("toggle",f),Lr(f,"popover",v);break;case"xlinkActuate":en(f,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":en(f,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":en(f,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":en(f,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":en(f,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":en(f,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":en(f,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":en(f,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":en(f,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Lr(f,"is",v);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Co.get(x)||x,Lr(f,x,v))}}function xx(f,h,x,v,E,T){switch(x){case"style":Sf(f,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(x=v.__html,x!=null){if(E.children!=null)throw Error(n(60));f.innerHTML=x}}break;case"children":typeof v=="string"?gl(f,v):(typeof v=="number"||typeof v=="bigint")&&gl(f,""+v);break;case"onScroll":v!=null&&jr("scroll",f);break;case"onScrollEnd":v!=null&&jr("scrollend",f);break;case"onClick":v!=null&&(f.onclick=Hp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ye.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(E=x.endsWith("Capture"),h=x.slice(2,E?x.length-7:void 0),T=f[an]||null,T=T!=null?T[x]:null,typeof T=="function"&&f.removeEventListener(h,T,E),typeof v=="function")){typeof T!="function"&&T!==null&&(x in f?f[x]=null:f.hasAttribute(x)&&f.removeAttribute(x)),f.addEventListener(h,v,E);break e}x in f?f[x]=v:v===!0?f.setAttribute(x,""):Lr(f,x,v)}}}function ci(f,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jr("error",f),jr("load",f);var v=!1,E=!1,T;for(T in x)if(x.hasOwnProperty(T)){var W=x[T];if(W!=null)switch(T){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:vn(f,h,T,W,x,null)}}E&&vn(f,h,"srcSet",x.srcSet,x,null),v&&vn(f,h,"src",x.src,x,null);return;case"input":jr("invalid",f);var se=T=W=E=null,Ce=null,We=null;for(v in x)if(x.hasOwnProperty(v)){var lt=x[v];if(lt!=null)switch(v){case"name":E=lt;break;case"type":W=lt;break;case"checked":Ce=lt;break;case"defaultChecked":We=lt;break;case"value":T=lt;break;case"defaultValue":se=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(n(137,h));break;default:vn(f,h,v,lt,x,null)}}i0(f,T,se,Ce,We,W,E,!1),pl(f);return;case"select":jr("invalid",f),v=W=T=null;for(E in x)if(x.hasOwnProperty(E)&&(se=x[E],se!=null))switch(E){case"value":T=se;break;case"defaultValue":W=se;break;case"multiple":v=se;default:vn(f,h,E,se,x,null)}h=T,x=W,f.multiple=!!v,h!=null?No(f,!!v,h,!1):x!=null&&No(f,!!v,x,!0);return;case"textarea":jr("invalid",f),T=E=v=null;for(W in x)if(x.hasOwnProperty(W)&&(se=x[W],se!=null))switch(W){case"value":v=se;break;case"defaultValue":E=se;break;case"children":T=se;break;case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(91));break;default:vn(f,h,W,se,x,null)}o0(f,v,E,T),pl(f);return;case"option":for(Ce in x)if(x.hasOwnProperty(Ce)&&(v=x[Ce],v!=null))switch(Ce){case"selected":f.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:vn(f,h,Ce,v,x,null)}return;case"dialog":jr("beforetoggle",f),jr("toggle",f),jr("cancel",f),jr("close",f);break;case"iframe":case"object":jr("load",f);break;case"video":case"audio":for(v=0;v<Bh.length;v++)jr(Bh[v],f);break;case"image":jr("error",f),jr("load",f);break;case"details":jr("toggle",f);break;case"embed":case"source":case"link":jr("error",f),jr("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(We in x)if(x.hasOwnProperty(We)&&(v=x[We],v!=null))switch(We){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:vn(f,h,We,v,x,null)}return;default:if(c0(h)){for(lt in x)x.hasOwnProperty(lt)&&(v=x[lt],v!==void 0&&xx(f,h,lt,v,x,void 0));return}}for(se in x)x.hasOwnProperty(se)&&(v=x[se],v!=null&&vn(f,h,se,v,x,null))}function kN(f,h,x,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,T=null,W=null,se=null,Ce=null,We=null,lt=null;for(Je in x){var pt=x[Je];if(x.hasOwnProperty(Je)&&pt!=null)switch(Je){case"checked":break;case"value":break;case"defaultValue":Ce=pt;default:v.hasOwnProperty(Je)||vn(f,h,Je,null,v,pt)}}for(var Ke in v){var Je=v[Ke];if(pt=x[Ke],v.hasOwnProperty(Ke)&&(Je!=null||pt!=null))switch(Ke){case"type":T=Je;break;case"name":E=Je;break;case"checked":We=Je;break;case"defaultChecked":lt=Je;break;case"value":W=Je;break;case"defaultValue":se=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,h));break;default:Je!==pt&&vn(f,h,Ke,Je,v,pt)}}rc(f,W,se,Ce,We,lt,T,E);return;case"select":Je=W=se=Ke=null;for(T in x)if(Ce=x[T],x.hasOwnProperty(T)&&Ce!=null)switch(T){case"value":break;case"multiple":Je=Ce;default:v.hasOwnProperty(T)||vn(f,h,T,null,v,Ce)}for(E in v)if(T=v[E],Ce=x[E],v.hasOwnProperty(E)&&(T!=null||Ce!=null))switch(E){case"value":Ke=T;break;case"defaultValue":se=T;break;case"multiple":W=T;default:T!==Ce&&vn(f,h,E,T,v,Ce)}h=se,x=W,v=Je,Ke!=null?No(f,!!x,Ke,!1):!!v!=!!x&&(h!=null?No(f,!!x,h,!0):No(f,!!x,x?[]:"",!1));return;case"textarea":Je=Ke=null;for(se in x)if(E=x[se],x.hasOwnProperty(se)&&E!=null&&!v.hasOwnProperty(se))switch(se){case"value":break;case"children":break;default:vn(f,h,se,null,v,E)}for(W in v)if(E=v[W],T=x[W],v.hasOwnProperty(W)&&(E!=null||T!=null))switch(W){case"value":Ke=E;break;case"defaultValue":Je=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==T&&vn(f,h,W,E,v,T)}bf(f,Ke,Je);return;case"option":for(var ir in x)if(Ke=x[ir],x.hasOwnProperty(ir)&&Ke!=null&&!v.hasOwnProperty(ir))switch(ir){case"selected":f.selected=!1;break;default:vn(f,h,ir,null,v,Ke)}for(Ce in v)if(Ke=v[Ce],Je=x[Ce],v.hasOwnProperty(Ce)&&Ke!==Je&&(Ke!=null||Je!=null))switch(Ce){case"selected":f.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:vn(f,h,Ce,Ke,v,Je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in x)Ke=x[Zt],x.hasOwnProperty(Zt)&&Ke!=null&&!v.hasOwnProperty(Zt)&&vn(f,h,Zt,null,v,Ke);for(We in v)if(Ke=v[We],Je=x[We],v.hasOwnProperty(We)&&Ke!==Je&&(Ke!=null||Je!=null))switch(We){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,h));break;default:vn(f,h,We,Ke,v,Je)}return;default:if(c0(h)){for(var yn in x)Ke=x[yn],x.hasOwnProperty(yn)&&Ke!==void 0&&!v.hasOwnProperty(yn)&&xx(f,h,yn,void 0,v,Ke);for(lt in v)Ke=v[lt],Je=x[lt],!v.hasOwnProperty(lt)||Ke===Je||Ke===void 0&&Je===void 0||xx(f,h,lt,Ke,v,Je);return}}for(var Me in x)Ke=x[Me],x.hasOwnProperty(Me)&&Ke!=null&&!v.hasOwnProperty(Me)&&vn(f,h,Me,null,v,Ke);for(pt in v)Ke=v[pt],Je=x[pt],!v.hasOwnProperty(pt)||Ke===Je||Ke==null&&Je==null||vn(f,h,pt,Ke,v,Je)}var vx=null,yx=null;function qp(f){return f.nodeType===9?f:f.ownerDocument}function ib(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sb(f,h){if(f===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&h==="foreignObject"?0:f}function wx(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var bx=null;function LN(){var f=window.event;return f&&f.type==="popstate"?f===bx?!1:(bx=f,!0):(bx=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,DN=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,IN=typeof queueMicrotask=="function"?queueMicrotask:typeof lb!="undefined"?function(f){return lb.resolve(null).then(f).catch(PN)}:ob;function PN(f){setTimeout(function(){throw f})}function Nu(f){return f==="head"}function cb(f,h){var x=h,v=0,E=0;do{var T=x.nextSibling;if(f.removeChild(x),T&&T.nodeType===8)if(x=T.data,x==="/$"){if(0<v&&8>v){x=v;var W=f.ownerDocument;if(x&1&&zh(W.documentElement),x&2&&zh(W.body),x&4)for(x=W.head,zh(x),W=x.firstChild;W;){var se=W.nextSibling,Ce=W.nodeName;W[fe]||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&W.rel.toLowerCase()==="stylesheet"||x.removeChild(W),W=se}}if(E===0){f.removeChild(T),Yh(h);return}E--}else x==="$"||x==="$?"||x==="$!"?E++:v=x.charCodeAt(0)-48;else v=0;x=T}while(x);Yh(h)}function _x(f){var h=f.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":_x(x),de(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}f.removeChild(x)}}function FN(f,h,x,v){for(;f.nodeType===1;){var E=x;if(f.nodeName.toLowerCase()!==h.toLowerCase()){if(!v&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(v){if(!f[fe])switch(h){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(T=f.getAttribute("rel"),T==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(T!==E.rel||f.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||f.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||f.getAttribute("title")!==(E.title==null?null:E.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(T=f.getAttribute("src"),(T!==(E.src==null?null:E.src)||f.getAttribute("type")!==(E.type==null?null:E.type)||f.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&T&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(h==="input"&&f.type==="hidden"){var T=E.name==null?null:""+E.name;if(E.type==="hidden"&&f.getAttribute("name")===T)return f}else return f;if(f=Xo(f.nextSibling),f===null)break}return null}function MN(f,h,x){if(h==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!x||(f=Xo(f.nextSibling),f===null))return null;return f}function Sx(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function BN(f,h){var x=f.ownerDocument;if(f.data!=="$?"||x.readyState==="complete")h();else{var v=function(){h(),x.removeEventListener("DOMContentLoaded",v)};x.addEventListener("DOMContentLoaded",v),f._reactRetry=v}}function Xo(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return f}var Ex=null;function ub(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var x=f.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return f;h--}else x==="/$"&&h++}f=f.previousSibling}return null}function fb(f,h,x){switch(h=qp(x),f){case"html":if(f=h.documentElement,!f)throw Error(n(452));return f;case"head":if(f=h.head,!f)throw Error(n(453));return f;case"body":if(f=h.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}function zh(f){for(var h=f.attributes;h.length;)f.removeAttributeNode(h[0]);de(f)}var mo=new Map,db=new Set;function $p(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Tc=ce.d;ce.d={f:UN,r:zN,D:HN,C:qN,L:$N,m:VN,X:WN,S:GN,M:XN};function UN(){var f=Tc.f(),h=Ip();return f||h}function zN(f){var h=_e(f);h!==null&&h.tag===5&&h.type==="form"?L0(h):Tc.r(f)}var ed=typeof document=="undefined"?null:document;function hb(f,h,x){var v=ed;if(v&&typeof h=="string"&&h){var E=_n(h);E='link[rel="'+f+'"][href="'+E+'"]',typeof x=="string"&&(E+='[crossorigin="'+x+'"]'),db.has(E)||(db.add(E),f={rel:f,crossOrigin:x,href:h},v.querySelector(E)===null&&(h=v.createElement("link"),ci(h,"link",f),Fe(h),v.head.appendChild(h)))}}function HN(f){Tc.D(f),hb("dns-prefetch",f,null)}function qN(f,h){Tc.C(f,h),hb("preconnect",f,h)}function $N(f,h,x){Tc.L(f,h,x);var v=ed;if(v&&f&&h){var E='link[rel="preload"][as="'+_n(h)+'"]';h==="image"&&x&&x.imageSrcSet?(E+='[imagesrcset="'+_n(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(E+='[imagesizes="'+_n(x.imageSizes)+'"]')):E+='[href="'+_n(f)+'"]';var T=E;switch(h){case"style":T=td(f);break;case"script":T=rd(f)}mo.has(T)||(f=d({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:f,as:h},x),mo.set(T,f),v.querySelector(E)!==null||h==="style"&&v.querySelector(Hh(T))||h==="script"&&v.querySelector(qh(T))||(h=v.createElement("link"),ci(h,"link",f),Fe(h),v.head.appendChild(h)))}}function VN(f,h){Tc.m(f,h);var x=ed;if(x&&f){var v=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+_n(v)+'"][href="'+_n(f)+'"]',T=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=rd(f)}if(!mo.has(T)&&(f=d({rel:"modulepreload",href:f},h),mo.set(T,f),x.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(qh(T)))return}v=x.createElement("link"),ci(v,"link",f),Fe(v),x.head.appendChild(v)}}}function GN(f,h,x){Tc.S(f,h,x);var v=ed;if(v&&f){var E=et(v).hoistableStyles,T=td(f);h=h||"default";var W=E.get(T);if(!W){var se={loading:0,preload:null};if(W=v.querySelector(Hh(T)))se.loading=5;else{f=d({rel:"stylesheet",href:f,"data-precedence":h},x),(x=mo.get(T))&&Ax(f,x);var Ce=W=v.createElement("link");Fe(Ce),ci(Ce,"link",f),Ce._p=new Promise(function(We,lt){Ce.onload=We,Ce.onerror=lt}),Ce.addEventListener("load",function(){se.loading|=1}),Ce.addEventListener("error",function(){se.loading|=2}),se.loading|=4,Vp(W,h,v)}W={type:"stylesheet",instance:W,count:1,state:se},E.set(T,W)}}}function WN(f,h){Tc.X(f,h);var x=ed;if(x&&f){var v=et(x).hoistableScripts,E=rd(f),T=v.get(E);T||(T=x.querySelector(qh(E)),T||(f=d({src:f,async:!0},h),(h=mo.get(E))&&Nx(f,h),T=x.createElement("script"),Fe(T),ci(T,"link",f),x.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(E,T))}}function XN(f,h){Tc.M(f,h);var x=ed;if(x&&f){var v=et(x).hoistableScripts,E=rd(f),T=v.get(E);T||(T=x.querySelector(qh(E)),T||(f=d({src:f,async:!0,type:"module"},h),(h=mo.get(E))&&Nx(f,h),T=x.createElement("script"),Fe(T),ci(T,"link",f),x.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(E,T))}}function pb(f,h,x,v){var E=(E=J.current)?$p(E):null;if(!E)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=td(x.href),x=et(E).hoistableStyles,v=x.get(h),v||(v={type:"style",instance:null,count:0,state:null},x.set(h,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){f=td(x.href);var T=et(E).hoistableStyles,W=T.get(f);if(W||(E=E.ownerDocument||E,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(f,W),(T=E.querySelector(Hh(f)))&&!T._p&&(W.instance=T,W.state.loading=5),mo.has(f)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},mo.set(f,x),T||YN(E,f,x,W.state))),h&&v===null)throw Error(n(528,""));return W}if(h&&v!==null)throw Error(n(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=rd(x),x=et(E).hoistableScripts,v=x.get(h),v||(v={type:"script",instance:null,count:0,state:null},x.set(h,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function td(f){return'href="'+_n(f)+'"'}function Hh(f){return'link[rel="stylesheet"]['+f+"]"}function gb(f){return d({},f,{"data-precedence":f.precedence,precedence:null})}function YN(f,h,x,v){f.querySelector('link[rel="preload"][as="style"]['+h+"]")?v.loading=1:(h=f.createElement("link"),v.preload=h,h.addEventListener("load",function(){return v.loading|=1}),h.addEventListener("error",function(){return v.loading|=2}),ci(h,"link",x),Fe(h),f.head.appendChild(h))}function rd(f){return'[src="'+_n(f)+'"]'}function qh(f){return"script[async]"+f}function mb(f,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var v=f.querySelector('style[data-href~="'+_n(x.href)+'"]');if(v)return h.instance=v,Fe(v),v;var E=d({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return v=(f.ownerDocument||f).createElement("style"),Fe(v),ci(v,"style",E),Vp(v,x.precedence,f),h.instance=v;case"stylesheet":E=td(x.href);var T=f.querySelector(Hh(E));if(T)return h.state.loading|=4,h.instance=T,Fe(T),T;v=gb(x),(E=mo.get(E))&&Ax(v,E),T=(f.ownerDocument||f).createElement("link"),Fe(T);var W=T;return W._p=new Promise(function(se,Ce){W.onload=se,W.onerror=Ce}),ci(T,"link",v),h.state.loading|=4,Vp(T,x.precedence,f),h.instance=T;case"script":return T=rd(x.src),(E=f.querySelector(qh(T)))?(h.instance=E,Fe(E),E):(v=x,(E=mo.get(T))&&(v=d({},x),Nx(v,E)),f=f.ownerDocument||f,E=f.createElement("script"),Fe(E),ci(E,"link",v),f.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(v=h.instance,h.state.loading|=4,Vp(v,x.precedence,f));return h.instance}function Vp(f,h,x){for(var v=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,T=E,W=0;W<v.length;W++){var se=v[W];if(se.dataset.precedence===h)T=se;else if(T!==E)break}T?T.parentNode.insertBefore(f,T.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(f,h.firstChild))}function Ax(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.title==null&&(f.title=h.title)}function Nx(f,h){f.crossOrigin==null&&(f.crossOrigin=h.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=h.referrerPolicy),f.integrity==null&&(f.integrity=h.integrity)}var Gp=null;function xb(f,h,x){if(Gp===null){var v=new Map,E=Gp=new Map;E.set(x,v)}else E=Gp,v=E.get(x),v||(v=new Map,E.set(x,v));if(v.has(f))return v;for(v.set(f,null),x=x.getElementsByTagName(f),E=0;E<x.length;E++){var T=x[E];if(!(T[fe]||T[Qr]||f==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var W=T.getAttribute(h)||"";W=f+W;var se=v.get(W);se?se.push(T):v.set(W,[T])}}return v}function vb(f,h,x){f=f.ownerDocument||f,f.head.insertBefore(x,h==="title"?f.querySelector("head > title"):null)}function KN(f,h,x){if(x===1||h.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return f=h.disabled,typeof h.precedence=="string"&&f==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function yb(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var $h=null;function ZN(){}function JN(f,h,x){if($h===null)throw Error(n(475));var v=$h;if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var E=td(x.href),T=f.querySelector(Hh(E));if(T){f=T._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(v.count++,v=Wp.bind(v),f.then(v,v)),h.state.loading|=4,h.instance=T,Fe(T);return}T=f.ownerDocument||f,x=gb(x),(E=mo.get(E))&&Ax(x,E),T=T.createElement("link"),Fe(T);var W=T;W._p=new Promise(function(se,Ce){W.onload=se,W.onerror=Ce}),ci(T,"link",x),h.instance=T}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(h,f),(f=h.state.preload)&&(h.state.loading&3)===0&&(v.count++,h=Wp.bind(v),f.addEventListener("load",h),f.addEventListener("error",h))}}function QN(){if($h===null)throw Error(n(475));var f=$h;return f.stylesheets&&f.count===0&&Cx(f,f.stylesheets),0<f.count?function(h){var x=setTimeout(function(){if(f.stylesheets&&Cx(f,f.stylesheets),f.unsuspend){var v=f.unsuspend;f.unsuspend=null,v()}},6e4);return f.unsuspend=h,function(){f.unsuspend=null,clearTimeout(x)}}:null}function Wp(){if(this.count--,this.count===0){if(this.stylesheets)Cx(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Xp=null;function Cx(f,h){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Xp=new Map,h.forEach(eC,f),Xp=null,Wp.call(f))}function eC(f,h){if(!(h.state.loading&4)){var x=Xp.get(f);if(x)var v=x.get(null);else{x=new Map,Xp.set(f,x);for(var E=f.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<E.length;T++){var W=E[T];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(x.set(W.dataset.precedence,W),v=W)}v&&x.set(null,v)}E=h.instance,W=E.getAttribute("data-precedence"),T=x.get(W)||v,T===v&&x.set(null,E),x.set(W,E),this.count++,v=Wp.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),T?T.parentNode.insertBefore(E,T.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(E,f.firstChild)),h.state.loading|=4}}var Vh={$$typeof:C,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function tC(f,h,x,v,E,T,W,se){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=T,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function wb(f,h,x,v,E,T,W,se,Ce,We,lt,pt){return f=new tC(f,h,x,W,se,Ce,We,pt),h=1,T===!0&&(h|=24),T=Ua(3,null,null,h),f.current=T,T.stateNode=f,h=ph(),h.refCount++,f.pooledCache=h,h.refCount++,T.memoizedState={element:v,isDehydrated:x,cache:h},Re(T),f}function bb(f){return f?(f=_a,f):_a}function _b(f,h,x,v,E,T){E=bb(E),v.context===null?v.context=E:v.pendingContext=E,v=st(h),v.payload={element:x},T=T===void 0?null:T,T!==null&&(v.callback=T),x=ht(f,v,h),x!==null&&(Hs(x,f,h),ct(x,f,h))}function Sb(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<h?x:h}}function Tx(f,h){Sb(f,h),(f=f.alternate)&&Sb(f,h)}function Eb(f){if(f.tag===13){var h=Io(f,67108864);h!==null&&Hs(h,f,67108864),Tx(f,67108864)}}var Yp=!0;function rC(f,h,x,v){var E=Q.T;Q.T=null;var T=ce.p;try{ce.p=2,jx(f,h,x,v)}finally{ce.p=T,Q.T=E}}function nC(f,h,x,v){var E=Q.T;Q.T=null;var T=ce.p;try{ce.p=8,jx(f,h,x,v)}finally{ce.p=T,Q.T=E}}function jx(f,h,x,v){if(Yp){var E=Ox(v);if(E===null)mx(f,h,v,Kp,x),Nb(f,v);else if(iC(E,f,h,x,v))v.stopPropagation();else if(Nb(f,v),h&4&&-1<aC.indexOf(f)){for(;E!==null;){var T=_e(E);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var W=Er(T.pendingLanes);if(W!==0){var se=T;for(se.pendingLanes|=2,se.entangledLanes|=2;W;){var Ce=1<<31-Pt(W);se.entanglements[1]|=Ce,W&=~Ce}$l(T),(on&6)===0&&(Lp=ke()+500,Mh(0))}}break;case 13:se=Io(T,2),se!==null&&Hs(se,T,2),Ip(),Tx(T,2)}if(T=Ox(v),T===null&&mx(f,h,v,Kp,x),T===E)break;E=T}E!==null&&v.stopPropagation()}else mx(f,h,v,null,x)}}function Ox(f){return f=ya(f),Rx(f)}var Kp=null;function Rx(f){if(Kp=null,f=ye(f),f!==null){var h=i(f);if(h===null)f=null;else{var x=h.tag;if(x===13){if(f=s(h),f!==null)return f;f=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null)}}return Kp=f,null}function Ab(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Te:return 2;case Ie:return 8;case ot:case mt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var kx=!1,Cu=null,Tu=null,ju=null,Gh=new Map,Wh=new Map,Ou=[],aC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nb(f,h){switch(f){case"focusin":case"focusout":Cu=null;break;case"dragenter":case"dragleave":Tu=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":Gh.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(h.pointerId)}}function Xh(f,h,x,v,E,T){return f===null||f.nativeEvent!==T?(f={blockedOn:h,domEventName:x,eventSystemFlags:v,nativeEvent:T,targetContainers:[E]},h!==null&&(h=_e(h),h!==null&&Eb(h)),f):(f.eventSystemFlags|=v,h=f.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),f)}function iC(f,h,x,v,E){switch(h){case"focusin":return Cu=Xh(Cu,f,h,x,v,E),!0;case"dragenter":return Tu=Xh(Tu,f,h,x,v,E),!0;case"mouseover":return ju=Xh(ju,f,h,x,v,E),!0;case"pointerover":var T=E.pointerId;return Gh.set(T,Xh(Gh.get(T)||null,f,h,x,v,E)),!0;case"gotpointercapture":return T=E.pointerId,Wh.set(T,Xh(Wh.get(T)||null,f,h,x,v,E)),!0}return!1}function Cb(f){var h=ye(f.target);if(h!==null){var x=i(h);if(x!==null){if(h=x.tag,h===13){if(h=s(x),h!==null){f.blockedOn=h,is(f.priority,function(){if(x.tag===13){var v=zs();v=js(v);var E=Io(x,v);E!==null&&Hs(E,x,v),Tx(x,v)}});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){f.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Zp(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var x=Ox(f.nativeEvent);if(x===null){x=f.nativeEvent;var v=new x.constructor(x.type,x);Vc=v,x.target.dispatchEvent(v),Vc=null}else return h=_e(x),h!==null&&Eb(h),f.blockedOn=x,!1;h.shift()}return!0}function Tb(f,h,x){Zp(f)&&x.delete(h)}function sC(){kx=!1,Cu!==null&&Zp(Cu)&&(Cu=null),Tu!==null&&Zp(Tu)&&(Tu=null),ju!==null&&Zp(ju)&&(ju=null),Gh.forEach(Tb),Wh.forEach(Tb)}function Jp(f,h){f.blockedOn===h&&(f.blockedOn=null,kx||(kx=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sC)))}var Qp=null;function jb(f){Qp!==f&&(Qp=f,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qp===f&&(Qp=null);for(var h=0;h<f.length;h+=3){var x=f[h],v=f[h+1],E=f[h+2];if(typeof v!="function"){if(Rx(v||x)===null)continue;break}var T=_e(x);T!==null&&(f.splice(h,3),h-=3,ho(T,{pending:!0,data:E,method:x.method,action:v},v,E))}}))}function Yh(f){function h(Ce){return Jp(Ce,f)}Cu!==null&&Jp(Cu,f),Tu!==null&&Jp(Tu,f),ju!==null&&Jp(ju,f),Gh.forEach(h),Wh.forEach(h);for(var x=0;x<Ou.length;x++){var v=Ou[x];v.blockedOn===f&&(v.blockedOn=null)}for(;0<Ou.length&&(x=Ou[0],x.blockedOn===null);)Cb(x),x.blockedOn===null&&Ou.shift();if(x=(f.ownerDocument||f).$$reactFormReplay,x!=null)for(v=0;v<x.length;v+=3){var E=x[v],T=x[v+1],W=E[an]||null;if(typeof T=="function")W||jb(x);else if(W){var se=null;if(T&&T.hasAttribute("formAction")){if(E=T,W=T[an]||null)se=W.formAction;else if(Rx(E)!==null)continue}else se=W.action;typeof se=="function"?x[v+1]=se:(x.splice(v,3),v-=3),jb(x)}}}function Lx(f){this._internalRoot=f}eg.prototype.render=Lx.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(n(409));var x=h.current,v=zs();_b(x,v,f,h,null,null)},eg.prototype.unmount=Lx.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;_b(f.current,2,null,f,null,null),Ip(),h[Wn]=null}};function eg(f){this._internalRoot=f}eg.prototype.unstable_scheduleHydration=function(f){if(f){var h=Bi();f={blockedOn:null,target:f,priority:h};for(var x=0;x<Ou.length&&h!==0&&h<Ou[x].priority;x++);Ou.splice(x,0,f),x===0&&Cb(f)}};var Ob=e.version;if(Ob!=="19.1.0")throw Error(n(527,Ob,"19.1.0"));ce.findDOMNode=function(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=c(h),f=f!==null?u(f):null,f=f===null?null:f.stateNode,f};var oC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tg.isDisabled&&tg.supportsFiber)try{It=tg.inject(oC),Mt=tg}catch(f){}}return Zh.createRoot=function(f,h){if(!a(f))throw Error(n(299));var x=!1,v="",E=Gw,T=Ww,W=Xw,se=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(T=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(se=h.unstable_transitionCallbacks)),h=wb(f,1,!1,null,null,x,v,E,T,W,se,null),f[Wn]=h.current,gx(f),new Lx(h)},Zh.hydrateRoot=function(f,h,x){if(!a(f))throw Error(n(299));var v=!1,E="",T=Gw,W=Ww,se=Xw,Ce=null,We=null;return x!=null&&(x.unstable_strictMode===!0&&(v=!0),x.identifierPrefix!==void 0&&(E=x.identifierPrefix),x.onUncaughtError!==void 0&&(T=x.onUncaughtError),x.onCaughtError!==void 0&&(W=x.onCaughtError),x.onRecoverableError!==void 0&&(se=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(Ce=x.unstable_transitionCallbacks),x.formState!==void 0&&(We=x.formState)),h=wb(f,1,!0,h,x!=null?x:null,v,E,T,W,se,Ce,We),h.context=bb(null),x=h.current,v=zs(),v=js(v),E=st(v),E.callback=null,ht(x,E,v),x=v,h.current.lanes=x,ti(h,x),$l(h),f[Wn]=h.current,gx(f),new eg(h)},Zh.version="19.1.0",Zh}var $b;function _C(){if($b)return Mx.exports;$b=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mx.exports=bC(),Mx.exports}var SC=_C(),Jh={},Vb;function EC(){if(Vb)return Jh;Vb=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.parse=s,Jh.serialize=u;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function s(g,m){const y=new i,w=g.length;if(w<2)return y;const _=(m==null?void 0:m.decode)||d;let S=0;do{const A=g.indexOf("=",S);if(A===-1)break;const C=g.indexOf(";",S),L=C===-1?w:C;if(A>L){S=g.lastIndexOf(";",A-1)+1;continue}const B=o(g,S,A),M=c(g,A,B),F=g.slice(B,M);if(y[F]===void 0){let D=o(g,A+1,L),O=c(g,L,D);const q=_(g.slice(D,O));y[F]=q}S=L+1}while(S<w);return y}function o(g,m,y){do{const w=g.charCodeAt(m);if(w!==32&&w!==9)return m}while(++m<y);return y}function c(g,m,y){for(;m>y;){const w=g.charCodeAt(--m);if(w!==32&&w!==9)return m+1}return y}function u(g,m,y){const w=(y==null?void 0:y.encode)||encodeURIComponent;if(!r.test(g))throw new TypeError(`argument name is invalid: ${g}`);const _=w(m);if(!e.test(_))throw new TypeError(`argument val is invalid: ${m}`);let S=g+"="+_;if(!y)return S;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);S+="; Max-Age="+y.maxAge}if(y.domain){if(!t.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);S+="; Domain="+y.domain}if(y.path){if(!n.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);S+="; Path="+y.path}if(y.expires){if(!p(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.partitioned&&(S+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return S}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch(m){return g}}function p(g){return a.call(g)==="[object Date]"}return Jh}EC();var Gb="popstate";function AC(r={}){function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return Lv("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:R1(a)}return CC(e,t,null,r)}function Vn(r,e){if(r===!1||r===null||typeof r=="undefined")throw new Error(e)}function So(r,e){if(!r){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(t){}}}function NC(){return Math.random().toString(36).substring(2,10)}function Wb(r,e){return{usr:r.state,key:r.key,idx:e}}function Lv(r,e,t=null,n){return Ft(wt({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Gd(e):e),{state:t,key:e&&e.key||n||NC()})}function R1({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Gd(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function CC(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",c=null,u=d();u==null&&(u=0,s.replaceState(Ft(wt({},s.state),{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function p(){o="POP";let _=d(),S=_==null?null:_-u;u=_,c&&c({action:o,location:w.location,delta:S})}function g(_,S){o="PUSH";let A=Lv(w.location,_,S);u=d()+1;let C=Wb(A,u),L=w.createHref(A);try{s.pushState(C,"",L)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(L)}i&&c&&c({action:o,location:w.location,delta:1})}function m(_,S){o="REPLACE";let A=Lv(w.location,_,S);u=d();let C=Wb(A,u),L=w.createHref(A);s.replaceState(C,"",L),i&&c&&c({action:o,location:w.location,delta:0})}function y(_){let S=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof _=="string"?_:R1(_);return A=A.replace(/ $/,"%20"),Vn(S,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,S)}let w={get action(){return o},get location(){return r(a,s)},listen(_){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gb,p),c=_,()=>{a.removeEventListener(Gb,p),c=null}},createHref(_){return e(a,_)},createURL:y,encodeLocation(_){let S=y(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:m,go(_){return s.go(_)}};return w}function V6(r,e,t="/"){return TC(r,e,t,!1)}function TC(r,e,t,n){let a=typeof e=="string"?Gd(e):e,i=Mc(a.pathname||"/",t);if(i==null)return null;let s=G6(r);jC(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=UC(i);o=MC(s[c],u,n)}return o}function G6(r,e=[],t=[],n=""){let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Vn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=Dc([n,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(Vn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),G6(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:PC(u,i.index),routesMeta:d})};return r.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of W6(i.path))a(i,s,c)}),e}function W6(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=W6(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>r.startsWith("/")&&c===""?"/":c)}function jC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:FC(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var OC=/^:[\w-]+$/,RC=3,kC=2,LC=1,DC=10,IC=-2,Xb=r=>r==="*";function PC(r,e){let t=r.split("/"),n=t.length;return t.some(Xb)&&(n+=IC),e&&(n+=kC),t.filter(a=>!Xb(a)).reduce((a,i)=>a+(OC.test(i)?RC:i===""?LC:DC),n)}function FC(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function MC(r,e,t=!1){let{routesMeta:n}=r,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=Sm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!p&&u&&t&&!n[n.length-1].route.index&&(p=Sm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(a,p.params),s.push({params:a,pathname:Dc([i,p.pathname]),pathnameBase:$C(Dc([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Dc([i,p.pathnameBase]))}return s}function Sm(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=BC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:p},g)=>{if(d==="*"){let y=o[g]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[g];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:r}}function BC(r,e=!1,t=!0){So(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function UC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return So(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Mc(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function zC(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Gd(r):r;return{pathname:t?t.startsWith("/")?t:HC(t,e):e,search:VC(n),hash:GC(a)}}function HC(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hx(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qC(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ly(r){let e=qC(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Dy(r,e,t,n=!1){let a;typeof r=="string"?a=Gd(r):(a=wt({},r),Vn(!a.pathname||!a.pathname.includes("?"),Hx("?","pathname","search",a)),Vn(!a.pathname||!a.pathname.includes("#"),Hx("#","pathname","hash",a)),Vn(!a.search||!a.search.includes("#"),Hx("#","search","hash",a)));let i=r===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=t;else{let p=e.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}o=p>=0?e[p]:"/"}let c=zC(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Dc=r=>r.join("/").replace(/\/\/+/g,"/"),$C=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,GC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function WC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var X6=["POST","PUT","PATCH","DELETE"];new Set(X6);var XC=["GET",...X6];new Set(XC);var Wd=V.createContext(null);Wd.displayName="DataRouter";var Ym=V.createContext(null);Ym.displayName="DataRouterState";var Y6=V.createContext({isTransitioning:!1});Y6.displayName="ViewTransition";var YC=V.createContext(new Map);YC.displayName="Fetchers";var KC=V.createContext(null);KC.displayName="Await";var ul=V.createContext(null);ul.displayName="Navigation";var H1=V.createContext(null);H1.displayName="Location";var Eo=V.createContext({outlet:null,matches:[],isDataRoute:!1});Eo.displayName="Route";var Iy=V.createContext(null);Iy.displayName="RouteError";function ZC(r,{relative:e}={}){Vn(Xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=V.useContext(ul),{hash:a,pathname:i,search:s}=q1(r,{relative:e}),o=i;return t!=="/"&&(o=i==="/"?t:Dc([t,i])),n.createHref({pathname:o,search:s,hash:a})}function Xd(){return V.useContext(H1)!=null}function As(){return Vn(Xd(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(H1).location}var K6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z6(r){V.useContext(ul).static||V.useLayoutEffect(r)}function as(){let{isDataRoute:r}=V.useContext(Eo);return r?d7():JC()}function JC(){Vn(Xd(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(Wd),{basename:e,navigator:t}=V.useContext(ul),{matches:n}=V.useContext(Eo),{pathname:a}=As(),i=JSON.stringify(Ly(n)),s=V.useRef(!1);return Z6(()=>{s.current=!0}),V.useCallback((c,u={})=>{if(So(s.current,K6),!s.current)return;if(typeof c=="number"){t.go(c);return}let d=Dy(c,JSON.parse(i),a,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Dc([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,i,a,r])}var QC=V.createContext(null);function e7(r){let e=V.useContext(Eo).outlet;return e&&V.createElement(QC.Provider,{value:r},e)}function Yd(){let{matches:r}=V.useContext(Eo),e=r[r.length-1];return e?e.params:{}}function q1(r,{relative:e}={}){let{matches:t}=V.useContext(Eo),{pathname:n}=As(),a=JSON.stringify(Ly(t));return V.useMemo(()=>Dy(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function t7(r,e){return J6(r,e)}function J6(r,e,t,n){var A;Vn(Xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=V.useContext(ul),{matches:s}=V.useContext(Eo),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let C=p&&p.path||"";Q6(u,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=As(),m;if(e){let C=typeof e=="string"?Gd(e):e;Vn(d==="/"||((A=C.pathname)==null?void 0:A.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),m=C}else m=g;let y=m.pathname||"/",w=y;if(d!=="/"){let C=d.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=!i&&t&&t.matches&&t.matches.length>0?t.matches:V6(r,{pathname:w});So(p||_!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),So(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=s7(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Dc([d,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Dc([d,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,t,n);return e&&S?V.createElement(H1.Provider,{value:{location:wt({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},S):S}function r7(){let r=f7(),e=WC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",r),s=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:i},"ErrorBoundary")," or"," ",V.createElement("code",{style:i},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:a},t):null,s)}var n7=V.createElement(r7,null),a7=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?V.createElement(Eo.Provider,{value:this.props.routeContext},V.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i7({routeContext:r,match:e,children:t}){let n=V.useContext(Wd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Eo.Provider,{value:r},t)}function s7(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,i=t==null?void 0:t.errors;if(i!=null){let c=a.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id])!==void 0);Vn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,o=-1;if(t)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=c),u.route.id){let{loaderData:d,errors:p}=t,g=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){s=!0,o>=0?a=a.slice(0,o+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let p,g=!1,m=null,y=null;t&&(p=i&&u.route.id?i[u.route.id]:void 0,m=u.route.errorElement||n7,s&&(o<0&&d===0?(Q6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):o===d&&(g=!0,y=u.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,d+1)),_=()=>{let S;return p?S=m:g?S=y:u.route.Component?S=V.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=c,V.createElement(i7,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:t!=null},children:S})};return t&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?V.createElement(a7,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}function Py(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o7(r){let e=V.useContext(Wd);return Vn(e,Py(r)),e}function l7(r){let e=V.useContext(Ym);return Vn(e,Py(r)),e}function c7(r){let e=V.useContext(Eo);return Vn(e,Py(r)),e}function Fy(r){let e=c7(r),t=e.matches[e.matches.length-1];return Vn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function u7(){return Fy("useRouteId")}function f7(){var n;let r=V.useContext(Iy),e=l7("useRouteError"),t=Fy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function d7(){let{router:r}=o7("useNavigate"),e=Fy("useNavigate"),t=V.useRef(!1);return Z6(()=>{t.current=!0}),V.useCallback((s,...o)=>oe(null,[s,...o],function*(a,i={}){So(t.current,K6),t.current&&(typeof a=="number"?r.navigate(a):yield r.navigate(a,wt({fromRouteId:e},i)))}),[r,e])}var Yb={};function Q6(r,e,t){!e&&!Yb[r]&&(Yb[r]=!0,So(!1,t))}V.memo(h7);function h7({routes:r,future:e,state:t}){return J6(r,void 0,t,e)}function My({to:r,replace:e,state:t,relative:n}){Vn(Xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(ul);So(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=V.useContext(Eo),{pathname:s}=As(),o=as(),c=Dy(r,Ly(i),s,n==="path"),u=JSON.stringify(c);return V.useEffect(()=>{o(JSON.parse(u),{replace:e,state:t,relative:n})},[o,u,n,e,t]),null}function p7(r){return e7(r.context)}function _r(r){Vn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g7({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:i=!1}){Vn(!Xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=r.replace(/^\/*/,"/"),o=V.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof t=="string"&&(t=Gd(t));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:g="default"}=t,m=V.useMemo(()=>{let y=Mc(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:p,key:g},navigationType:n}},[s,c,u,d,p,g,n]);return So(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:V.createElement(ul.Provider,{value:o},V.createElement(H1.Provider,{children:e,value:m}))}function m7({children:r,location:e}){return t7(Dv(r),e)}function Dv(r,e=[]){let t=[];return V.Children.forEach(r,(n,a)=>{if(!V.isValidElement(n))return;let i=[...e,a];if(n.type===V.Fragment){t.push.apply(t,Dv(n.props.children,i));return}Vn(n.type===_r,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Dv(n.props.children,i)),t.push(s)}),t}var cm="get",um="application/x-www-form-urlencoded";function Km(r){return r!=null&&typeof r.tagName=="string"}function x7(r){return Km(r)&&r.tagName.toLowerCase()==="button"}function v7(r){return Km(r)&&r.tagName.toLowerCase()==="form"}function y7(r){return Km(r)&&r.tagName.toLowerCase()==="input"}function w7(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function b7(r,e){return r.button===0&&(!e||e==="_self")&&!w7(r)}function Iv(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(a=>[t,a]):[[t,n]])},[]))}function _7(r,e){let t=Iv(r);return e&&e.forEach((n,a)=>{t.has(a)||e.getAll(a).forEach(i=>{t.append(a,i)})}),t}var ng=null;function S7(){if(ng===null)try{new FormData(document.createElement("form"),0),ng=!1}catch(r){ng=!0}return ng}var E7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qx(r){return r!=null&&!E7.has(r)?(So(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${um}"`),null):r}function A7(r,e){let t,n,a,i,s;if(v7(r)){let o=r.getAttribute("action");n=o?Mc(o,e):null,t=r.getAttribute("method")||cm,a=qx(r.getAttribute("enctype"))||um,i=new FormData(r)}else if(x7(r)||y7(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=r.getAttribute("formaction")||o.getAttribute("action");if(n=c?Mc(c,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||cm,a=qx(r.getAttribute("formenctype"))||qx(o.getAttribute("enctype"))||um,i=new FormData(o,r),!S7()){let{name:u,type:d,value:p}=r;if(d==="image"){let g=u?`${u}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else u&&i.append(u,p)}}else{if(Km(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cm,n=null,a=um,s=r}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:i,body:s}}function By(r,e){if(r===!1||r===null||typeof r=="undefined")throw new Error(e)}function N7(r,e){return oe(this,null,function*(){if(r.id in e)return e[r.id];try{let t=yield import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function C7(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}function T7(r,e,t){return oe(this,null,function*(){let n=yield Promise.all(r.map(a=>oe(null,null,function*(){let i=e.routes[a.route.id];if(i){let s=yield N7(i,t);return s.links?s.links():[]}return[]})));return k7(n.flat(1).filter(C7).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?Ft(wt({},a),{rel:"prefetch",as:"style"}):Ft(wt({},a),{rel:"prefetch"})))})}function Kb(r,e,t,n,a,i){let s=(c,u)=>t[u]?c.route.id!==t[u].route.id:!0,o=(c,u)=>{var d;return t[u].pathname!==c.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>s(c,u)||o(c,u)):i==="data"?e.filter((c,u)=>{var p;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(r,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function j7(r,e,{includeHydrateFallback:t}={}){return O7(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function O7(r){return[...new Set(r)]}function R7(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function k7(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let i=JSON.stringify(R7(a));return t.has(i)||(t.add(i),n.push({key:i,link:a})),n},[])}var L7=new Set([100,101,204,205]);function D7(r,e){let t=typeof r=="string"?new URL(r,typeof window=="undefined"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Mc(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function e8(){let r=V.useContext(Wd);return By(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function I7(){let r=V.useContext(Ym);return By(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Uy=V.createContext(void 0);Uy.displayName="FrameworkContext";function t8(){let r=V.useContext(Uy);return By(r,"You must render this element inside a <HydratedRouter> element"),r}function P7(r,e){let t=V.useContext(Uy),[n,a]=V.useState(!1),[i,s]=V.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=e,g=V.useRef(null);V.useEffect(()=>{if(r==="render"&&s(!0),r==="viewport"){let w=S=>{S.forEach(A=>{s(A.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[r]),V.useEffect(()=>{if(n){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),s(!1)};return t?r!=="intent"?[i,g,{}]:[i,g,{onFocus:Qh(o,m),onBlur:Qh(c,y),onMouseEnter:Qh(u,m),onMouseLeave:Qh(d,y),onTouchStart:Qh(p,m)}]:[!1,g,{}]}function Qh(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function F7(t){var n=t,{page:r}=n,e=ku(n,["page"]);let{router:a}=e8(),i=V.useMemo(()=>V6(a.routes,r,a.basename),[a.routes,r,a.basename]);return i?V.createElement(B7,wt({page:r,matches:i},e)):null}function M7(r){let{manifest:e,routeModules:t}=t8(),[n,a]=V.useState([]);return V.useEffect(()=>{let i=!1;return T7(r,e,t).then(s=>{i||a(s)}),()=>{i=!0}},[r,e,t]),n}function B7(n){var a=n,{page:r,matches:e}=a,t=ku(a,["page","matches"]);let i=As(),{manifest:s,routeModules:o}=t8(),{basename:c}=e8(),{loaderData:u,matches:d}=I7(),p=V.useMemo(()=>Kb(r,e,d,s,i,"data"),[r,e,d,s,i]),g=V.useMemo(()=>Kb(r,e,d,s,i,"assets"),[r,e,d,s,i]),m=V.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(C=>{var B;let L=s.routes[C.route.id];!L||!L.hasLoader||(!p.some(M=>M.route.id===C.route.id)&&C.route.id in u&&((B=o[C.route.id])!=null&&B.shouldRevalidate)||L.hasClientLoader?S=!0:_.add(C.route.id))}),_.size===0)return[];let A=D7(r,c);return S&&_.size>0&&A.searchParams.set("_routes",e.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[A.pathname+A.search]},[c,u,i,s,p,e,r,o]),y=V.useMemo(()=>j7(g,s),[g,s]),w=M7(g);return V.createElement(V.Fragment,null,m.map(_=>V.createElement("link",wt({key:_,rel:"prefetch",as:"fetch",href:_},t))),y.map(_=>V.createElement("link",wt({key:_,rel:"modulepreload",href:_},t))),w.map(({key:_,link:S})=>V.createElement("link",wt({key:_},S))))}function U7(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var r8=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{r8&&(window.__reactRouterVersion="7.5.3")}catch(r){}function z7({basename:r,children:e,window:t}){let n=V.useRef();n.current==null&&(n.current=AC({window:t,v5Compat:!0}));let a=n.current,[i,s]=V.useState({action:a.action,location:a.location}),o=V.useCallback(c=>{V.startTransition(()=>s(c))},[s]);return V.useLayoutEffect(()=>a.listen(o),[a,o]),V.createElement(g7,{basename:r,children:e,location:i.location,navigationType:i.action,navigator:a})}var n8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=V.forwardRef(function(y,m){var w=y,{onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:p}=w,g=ku(w,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:_}=V.useContext(ul),S=typeof u=="string"&&n8.test(u),A,C=!1;if(typeof u=="string"&&S&&(A=u,r8))try{let I=new URL(window.location.href),U=u.startsWith("//")?new URL(I.protocol+u):new URL(u),X=Mc(U.pathname,_);U.origin===I.origin&&X!=null?u=X+U.search+U.hash:C=!0}catch(I){So(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=ZC(u,{relative:a}),[B,M,F]=P7(n,g),D=V7(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:p});function O(I){e&&e(I),I.defaultPrevented||D(I)}let q=V.createElement("a",Ft(wt(wt({},g),F),{href:A||L,onClick:C||i?e:O,ref:U7(m,M),target:c,"data-discover":!S&&t==="render"?"true":void 0}));return B&&!S?V.createElement(V.Fragment,null,q,V.createElement(F7,{page:L})):q});_t.displayName="Link";var H7=V.forwardRef(function(p,d){var g=p,{"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:c}=g,u=ku(g,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let m=q1(s,{relative:u.relative}),y=As(),w=V.useContext(Ym),{navigator:_,basename:S}=V.useContext(ul),A=w!=null&&K7(m)&&o===!0,C=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,L=y.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(L=L.toLowerCase(),B=B?B.toLowerCase():null,C=C.toLowerCase()),B&&S&&(B=Mc(B,S)||B);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=L===C||!a&&L.startsWith(C)&&L.charAt(M)==="/",D=B!=null&&(B===C||!a&&B.startsWith(C)&&B.charAt(C.length)==="/"),O={isActive:F,isPending:D,isTransitioning:A},q=F?e:void 0,I;typeof n=="function"?I=n(O):I=[n,F?"active":null,D?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(O):i;return V.createElement(_t,Ft(wt({},u),{"aria-current":q,className:I,ref:d,style:U,to:s,viewTransition:o}),typeof c=="function"?c(O):c)});H7.displayName="NavLink";var q7=V.forwardRef((y,m)=>{var w=y,{discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:i,method:s=cm,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:p}=w,g=ku(w,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let _=X7(),S=Y7(o,{relative:u}),A=s.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&n8.test(o),L=B=>{if(c&&c(B),B.defaultPrevented)return;B.preventDefault();let M=B.nativeEvent.submitter,F=(M==null?void 0:M.getAttribute("formmethod"))||s;_(M||B.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:p})};return V.createElement("form",Ft(wt({ref:m,method:A,action:S,onSubmit:n?c:L},g),{"data-discover":!C&&r==="render"?"true":void 0}))});q7.displayName="Form";function $7(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a8(r){let e=V.useContext(Wd);return Vn(e,$7(r)),e}function V7(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=as(),c=As(),u=q1(r,{relative:i});return V.useCallback(d=>{if(b7(d,e)){d.preventDefault();let p=t!==void 0?t:R1(c)===R1(u);o(r,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[c,o,u,t,n,e,r,a,i,s])}function Zm(r){So(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(Iv(r)),t=V.useRef(!1),n=As(),a=V.useMemo(()=>_7(n.search,t.current?null:e.current),[n.search]),i=as(),s=V.useCallback((o,c)=>{const u=Iv(typeof o=="function"?o(a):o);t.current=!0,i("?"+u,c)},[i,a]);return[a,s]}var G7=0,W7=()=>`__${String(++G7)}__`;function X7(){let{router:r}=a8("useSubmit"),{basename:e}=V.useContext(ul),t=u7();return V.useCallback((i,...s)=>oe(null,[i,...s],function*(n,a={}){let{action:o,method:c,encType:u,formData:d,body:p}=A7(n,e);if(a.navigate===!1){let g=a.fetcherKey||W7();yield r.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else yield r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[r,e,t])}function Y7(r,{relative:e}={}){let{basename:t}=V.useContext(ul),n=V.useContext(Eo);Vn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i=wt({},q1(r||".",{relative:e})),s=As();if(r==null){i.search=s.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let d=o.toString();i.search=d?`?${d}`:""}}return(!r||r===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Dc([t,i.pathname])),R1(i)}function K7(r,e={}){let t=V.useContext(Y6);Vn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=a8("useViewTransitionState"),a=q1(r,{relative:e.relative});if(!t.isTransitioning)return!1;let i=Mc(t.currentLocation.pathname,n)||t.currentLocation.pathname,s=Mc(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Sm(a.pathname,s)!=null||Sm(a.pathname,i)!=null}new TextEncoder;[...L7];const Z7="modulepreload",J7=function(r){return"/"+r},Zb={},Zs=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){let s=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=s(t.map(u=>{if(u=J7(u),u in Zb)return;Zb[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Z7,d||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),d)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function i8(r,e){return function(){return r.apply(e,arguments)}}const{toString:Q7}=Object.prototype,{getPrototypeOf:zy}=Object,{iterator:Jm,toStringTag:s8}=Symbol,Qm=(r=>e=>{const t=Q7.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),fl=r=>(r=r.toLowerCase(),e=>Qm(e)===r),e2=r=>e=>typeof e===r,{isArray:Kd}=Array,k1=e2("undefined");function eT(r){return r!==null&&!k1(r)&&r.constructor!==null&&!k1(r.constructor)&&ws(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const o8=fl("ArrayBuffer");function tT(r){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&o8(r.buffer),e}const rT=e2("string"),ws=e2("function"),l8=e2("number"),t2=r=>r!==null&&typeof r=="object",nT=r=>r===!0||r===!1,fm=r=>{if(Qm(r)!=="object")return!1;const e=zy(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(s8 in r)&&!(Jm in r)},aT=fl("Date"),iT=fl("File"),sT=fl("Blob"),oT=fl("FileList"),lT=r=>t2(r)&&ws(r.pipe),cT=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||ws(r.append)&&((e=Qm(r))==="formdata"||e==="object"&&ws(r.toString)&&r.toString()==="[object FormData]"))},uT=fl("URLSearchParams"),[fT,dT,hT,pT]=["ReadableStream","Request","Response","Headers"].map(fl),gT=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $1(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r=="undefined")return;let n,a;if(typeof r!="object"&&(r=[r]),Kd(r))for(n=0,a=r.length;n<a;n++)e.call(null,r[n],n,r);else{const i=t?Object.getOwnPropertyNames(r):Object.keys(r),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,r[o],o,r)}}function c8(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,a;for(;n-- >0;)if(a=t[n],e===a.toLowerCase())return a;return null}const ef=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,u8=r=>!k1(r)&&r!==ef;function Pv(){const{caseless:r}=u8(this)&&this||{},e={},t=(n,a)=>{const i=r&&c8(e,a)||a;fm(e[i])&&fm(n)?e[i]=Pv(e[i],n):fm(n)?e[i]=Pv({},n):Kd(n)?e[i]=n.slice():e[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&$1(arguments[n],t);return e}const mT=(r,e,t,{allOwnKeys:n}={})=>($1(e,(a,i)=>{t&&ws(a)?r[i]=i8(a,t):r[i]=a},{allOwnKeys:n}),r),xT=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),vT=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},yT=(r,e,t,n)=>{let a,i,s;const o={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),i=a.length;i-- >0;)s=a[i],(!n||n(s,r,e))&&!o[s]&&(e[s]=r[s],o[s]=!0);r=t!==!1&&zy(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},wT=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},bT=r=>{if(!r)return null;if(Kd(r))return r;let e=r.length;if(!l8(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},_T=(r=>e=>r&&e instanceof r)(typeof Uint8Array!="undefined"&&zy(Uint8Array)),ST=(r,e)=>{const n=(r&&r[Jm]).call(r);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(r,i[0],i[1])}},ET=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},AT=fl("HTMLFormElement"),NT=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),Jb=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),CT=fl("RegExp"),f8=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};$1(t,(a,i)=>{let s;(s=e(a,i,r))!==!1&&(n[i]=s||a)}),Object.defineProperties(r,n)},TT=r=>{f8(r,(e,t)=>{if(ws(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(ws(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},jT=(r,e)=>{const t={},n=a=>{a.forEach(i=>{t[i]=!0})};return Kd(r)?n(r):n(String(r).split(e)),t},OT=()=>{},RT=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function kT(r){return!!(r&&ws(r.append)&&r[s8]==="FormData"&&r[Jm])}const LT=r=>{const e=new Array(10),t=(n,a)=>{if(t2(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const i=Kd(n)?[]:{};return $1(n,(s,o)=>{const c=t(s,a+1);!k1(c)&&(i[o]=c)}),e[a]=void 0,i}}return n};return t(r,0)},DT=fl("AsyncFunction"),IT=r=>r&&(t2(r)||ws(r))&&ws(r.then)&&ws(r.catch),d8=((r,e)=>r?setImmediate:e?((t,n)=>(ef.addEventListener("message",({source:a,data:i})=>{a===ef&&i===t&&n.length&&n.shift()()},!1),a=>{n.push(a),ef.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ws(ef.postMessage)),PT=typeof queueMicrotask!="undefined"?queueMicrotask.bind(ef):typeof process!="undefined"&&process.nextTick||d8,FT=r=>r!=null&&ws(r[Jm]),tt={isArray:Kd,isArrayBuffer:o8,isBuffer:eT,isFormData:cT,isArrayBufferView:tT,isString:rT,isNumber:l8,isBoolean:nT,isObject:t2,isPlainObject:fm,isReadableStream:fT,isRequest:dT,isResponse:hT,isHeaders:pT,isUndefined:k1,isDate:aT,isFile:iT,isBlob:sT,isRegExp:CT,isFunction:ws,isStream:lT,isURLSearchParams:uT,isTypedArray:_T,isFileList:oT,forEach:$1,merge:Pv,extend:mT,trim:gT,stripBOM:xT,inherits:vT,toFlatObject:yT,kindOf:Qm,kindOfTest:fl,endsWith:wT,toArray:bT,forEachEntry:ST,matchAll:ET,isHTMLForm:AT,hasOwnProperty:Jb,hasOwnProp:Jb,reduceDescriptors:f8,freezeMethods:TT,toObjectSet:jT,toCamelCase:NT,noop:OT,toFiniteNumber:RT,findKey:c8,global:ef,isContextDefined:u8,isSpecCompliantForm:kT,toJSONObject:LT,isAsyncFn:DT,isThenable:IT,setImmediate:d8,asap:PT,isIterable:FT};function pr(r,e,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}tt.inherits(pr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.status}}});const h8=pr.prototype,p8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{p8[r]={value:r}});Object.defineProperties(pr,p8);Object.defineProperty(h8,"isAxiosError",{value:!0});pr.from=(r,e,t,n,a,i)=>{const s=Object.create(h8);return tt.toFlatObject(r,s,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),pr.call(s,r.message,e,t,n,a),s.cause=r,s.name=r.name,i&&Object.assign(s,i),s};const MT=null;function Fv(r){return tt.isPlainObject(r)||tt.isArray(r)}function g8(r){return tt.endsWith(r,"[]")?r.slice(0,-2):r}function Qb(r,e,t){return r?r.concat(e).map(function(a,i){return a=g8(a),!t&&i?"["+a+"]":a}).join(t?".":""):e}function BT(r){return tt.isArray(r)&&!r.some(Fv)}const UT=tt.toFlatObject(tt,{},null,function(e){return/^is[A-Z]/.test(e)});function r2(r,e,t){if(!tt.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=tt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!tt.isUndefined(_[w])});const n=t.metaTokens,a=t.visitor||d,i=t.dots,s=t.indexes,c=(t.Blob||typeof Blob!="undefined"&&Blob)&&tt.isSpecCompliantForm(e);if(!tt.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(tt.isDate(y))return y.toISOString();if(!c&&tt.isBlob(y))throw new pr("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(y)||tt.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,_){let S=y;if(y&&!_&&typeof y=="object"){if(tt.endsWith(w,"{}"))w=n?w:w.slice(0,-2),y=JSON.stringify(y);else if(tt.isArray(y)&&BT(y)||(tt.isFileList(y)||tt.endsWith(w,"[]"))&&(S=tt.toArray(y)))return w=g8(w),S.forEach(function(C,L){!(tt.isUndefined(C)||C===null)&&e.append(s===!0?Qb([w],L,i):s===null?w:w+"[]",u(C))}),!1}return Fv(y)?!0:(e.append(Qb(_,w,i),u(y)),!1)}const p=[],g=Object.assign(UT,{defaultVisitor:d,convertValue:u,isVisitable:Fv});function m(y,w){if(!tt.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(y),tt.forEach(y,function(S,A){(!(tt.isUndefined(S)||S===null)&&a.call(e,S,tt.isString(A)?A.trim():A,w,g))===!0&&m(S,w?w.concat(A):[A])}),p.pop()}}if(!tt.isObject(r))throw new TypeError("data must be an object");return m(r),e}function e5(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Hy(r,e){this._pairs=[],r&&r2(r,this,e)}const m8=Hy.prototype;m8.append=function(e,t){this._pairs.push([e,t])};m8.toString=function(e){const t=e?function(n){return e.call(this,n,e5)}:e5;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function zT(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function x8(r,e,t){if(!e)return r;const n=t&&t.encode||zT;tt.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let i;if(a?i=a(e,t):i=tt.isURLSearchParams(e)?e.toString():new Hy(e,t).toString(n),i){const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}class t5{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){tt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const v8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HT=typeof URLSearchParams!="undefined"?URLSearchParams:Hy,qT=typeof FormData!="undefined"?FormData:null,$T=typeof Blob!="undefined"?Blob:null,VT={isBrowser:!0,classes:{URLSearchParams:HT,FormData:qT,Blob:$T},protocols:["http","https","file","blob","url","data"]},qy=typeof window!="undefined"&&typeof document!="undefined",Mv=typeof navigator=="object"&&navigator||void 0,GT=qy&&(!Mv||["ReactNative","NativeScript","NS"].indexOf(Mv.product)<0),WT=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XT=qy&&window.location.href||"http://localhost",YT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qy,hasStandardBrowserEnv:GT,hasStandardBrowserWebWorkerEnv:WT,navigator:Mv,origin:XT},Symbol.toStringTag,{value:"Module"})),Li=wt(wt({},YT),VT);function KT(r,e){return r2(r,new Li.classes.URLSearchParams,Object.assign({visitor:function(t,n,a,i){return Li.isNode&&tt.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function ZT(r){return tt.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JT(r){const e={},t=Object.keys(r);let n;const a=t.length;let i;for(n=0;n<a;n++)i=t[n],e[i]=r[i];return e}function y8(r){function e(t,n,a,i){let s=t[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=i>=t.length;return s=!s&&tt.isArray(a)?a.length:s,c?(tt.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!tt.isObject(a[s]))&&(a[s]=[]),e(t,n,a[s],i)&&tt.isArray(a[s])&&(a[s]=JT(a[s])),!o)}if(tt.isFormData(r)&&tt.isFunction(r.entries)){const t={};return tt.forEachEntry(r,(n,a)=>{e(ZT(n),a,t,0)}),t}return null}function QT(r,e,t){if(tt.isString(r))try{return(e||JSON.parse)(r),tt.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const V1={transitional:v8,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,i=tt.isObject(e);if(i&&tt.isHTMLForm(e)&&(e=new FormData(e)),tt.isFormData(e))return a?JSON.stringify(y8(e)):e;if(tt.isArrayBuffer(e)||tt.isBuffer(e)||tt.isStream(e)||tt.isFile(e)||tt.isBlob(e)||tt.isReadableStream(e))return e;if(tt.isArrayBufferView(e))return e.buffer;if(tt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return KT(e,this.formSerializer).toString();if((o=tt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return r2(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(t.setContentType("application/json",!1),QT(e)):e}],transformResponse:[function(e){const t=this.transitional||V1.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(tt.isResponse(e)||tt.isReadableStream(e))return e;if(e&&tt.isString(e)&&(n&&!this.responseType||a)){const s=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?pr.from(o,pr.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Li.classes.FormData,Blob:Li.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],r=>{V1.headers[r]={}});const ej=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tj=r=>{const e={};let t,n,a;return r&&r.split(`
`).forEach(function(s){a=s.indexOf(":"),t=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!t||e[t]&&ej[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},r5=Symbol("internals");function e1(r){return r&&String(r).trim().toLowerCase()}function dm(r){return r===!1||r==null?r:tt.isArray(r)?r.map(dm):String(r)}function rj(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const nj=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function $x(r,e,t,n,a){if(tt.isFunction(n))return n.call(this,e,t);if(a&&(e=t),!!tt.isString(e)){if(tt.isString(n))return e.indexOf(n)!==-1;if(tt.isRegExp(n))return n.test(e)}}function aj(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function ij(r,e){const t=tt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(a,i,s){return this[n].call(this,e,a,i,s)},configurable:!0})})}let bs=class{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function i(o,c,u){const d=e1(c);if(!d)throw new Error("header name must be a non-empty string");const p=tt.findKey(a,d);(!p||a[p]===void 0||u===!0||u===void 0&&a[p]!==!1)&&(a[p||c]=dm(o))}const s=(o,c)=>tt.forEach(o,(u,d)=>i(u,d,c));if(tt.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(tt.isString(e)&&(e=e.trim())&&!nj(e))s(tj(e),t);else if(tt.isObject(e)&&tt.isIterable(e)){let o={},c,u;for(const d of e){if(!tt.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?tt.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(o,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=e1(e),e){const n=tt.findKey(this,e);if(n){const a=this[n];if(!t)return a;if(t===!0)return rj(a);if(tt.isFunction(t))return t.call(this,a,n);if(tt.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=e1(e),e){const n=tt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||$x(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let a=!1;function i(s){if(s=e1(s),s){const o=tt.findKey(n,s);o&&(!t||$x(n,n[o],o,t))&&(delete n[o],a=!0)}}return tt.isArray(e)?e.forEach(i):i(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const i=t[n];(!e||$x(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const t=this,n={};return tt.forEach(this,(a,i)=>{const s=tt.findKey(n,i);if(s){t[s]=dm(a),delete t[i];return}const o=e?aj(i):String(i).trim();o!==i&&delete t[i],t[o]=dm(a),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return tt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=e&&tt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[r5]=this[r5]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=e1(s);n[o]||(ij(a,s),n[o]=!0)}return tt.isArray(e)?e.forEach(i):i(e),this}};bs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tt.reduceDescriptors(bs.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});tt.freezeMethods(bs);function Vx(r,e){const t=this||V1,n=e||t,a=bs.from(n.headers);let i=n.data;return tt.forEach(r,function(o){i=o.call(t,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function w8(r){return!!(r&&r.__CANCEL__)}function Zd(r,e,t){pr.call(this,r==null?"canceled":r,pr.ERR_CANCELED,e,t),this.name="CanceledError"}tt.inherits(Zd,pr,{__CANCEL__:!0});function b8(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new pr("Request failed with status code "+t.status,[pr.ERR_BAD_REQUEST,pr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function sj(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function oj(r,e){r=r||10;const t=new Array(r),n=new Array(r);let a=0,i=0,s;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[i];s||(s=u),t[a]=c,n[a]=u;let p=i,g=0;for(;p!==a;)g+=t[p++],p=p%r;if(a=(a+1)%r,a===i&&(i=(i+1)%r),u-s<e)return;const m=d&&u-d;return m?Math.round(g*1e3/m):void 0}}function lj(r,e){let t=0,n=1e3/e,a,i;const s=(u,d=Date.now())=>{t=d,a=null,i&&(clearTimeout(i),i=null),r.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-t;p>=n?s(u,d):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-p)))},()=>a&&s(a)]}const Em=(r,e,t=3)=>{let n=0;const a=oj(50,250);return lj(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,c=s-n,u=a(c),d=s<=o;n=s;const p={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};r(p)},t)},n5=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},a5=r=>(...e)=>tt.asap(()=>r(...e)),cj=Li.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Li.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Li.origin),Li.navigator&&/(msie|trident)/i.test(Li.navigator.userAgent)):()=>!0,uj=Li.hasStandardBrowserEnv?{write(r,e,t,n,a,i){const s=[r+"="+encodeURIComponent(e)];tt.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),tt.isString(n)&&s.push("path="+n),tt.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fj(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function dj(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function _8(r,e,t){let n=!fj(e);return r&&(n||t==!1)?dj(r,e):e}const i5=r=>r instanceof bs?wt({},r):r;function of(r,e){e=e||{};const t={};function n(u,d,p,g){return tt.isPlainObject(u)&&tt.isPlainObject(d)?tt.merge.call({caseless:g},u,d):tt.isPlainObject(d)?tt.merge({},d):tt.isArray(d)?d.slice():d}function a(u,d,p,g){if(tt.isUndefined(d)){if(!tt.isUndefined(u))return n(void 0,u,p,g)}else return n(u,d,p,g)}function i(u,d){if(!tt.isUndefined(d))return n(void 0,d)}function s(u,d){if(tt.isUndefined(d)){if(!tt.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,p){if(p in e)return n(u,d);if(p in r)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,d,p)=>a(i5(u),i5(d),p,!0)};return tt.forEach(Object.keys(Object.assign({},r,e)),function(d){const p=c[d]||a,g=p(r[d],e[d],d);tt.isUndefined(g)&&p!==o||(t[d]=g)}),t}const S8=r=>{const e=of({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=e;e.headers=s=bs.from(s),e.url=x8(_8(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(tt.isFormData(t)){if(Li.hasStandardBrowserEnv||Li.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[u,...d]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Li.hasStandardBrowserEnv&&(n&&tt.isFunction(n)&&(n=n(e)),n||n!==!1&&cj(e.url))){const u=a&&i&&uj.read(i);u&&s.set(a,u)}return e},hj=typeof XMLHttpRequest!="undefined",pj=hj&&function(r){return new Promise(function(t,n){const a=S8(r);let i=a.data;const s=bs.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,p,g,m,y;function w(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function S(){if(!_)return;const C=bs.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),B={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:C,config:r,request:_};b8(function(F){t(F),w()},function(F){n(F),w()},B),_=null}"onloadend"in _?_.onloadend=S:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(S)},_.onabort=function(){_&&(n(new pr("Request aborted",pr.ECONNABORTED,r,_)),_=null)},_.onerror=function(){n(new pr("Network Error",pr.ERR_NETWORK,r,_)),_=null},_.ontimeout=function(){let L=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const B=a.transitional||v8;a.timeoutErrorMessage&&(L=a.timeoutErrorMessage),n(new pr(L,B.clarifyTimeoutError?pr.ETIMEDOUT:pr.ECONNABORTED,r,_)),_=null},i===void 0&&s.setContentType(null),"setRequestHeader"in _&&tt.forEach(s.toJSON(),function(L,B){_.setRequestHeader(B,L)}),tt.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),o&&o!=="json"&&(_.responseType=a.responseType),u&&([g,y]=Em(u,!0),_.addEventListener("progress",g)),c&&_.upload&&([p,m]=Em(c),_.upload.addEventListener("progress",p),_.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=C=>{_&&(n(!C||C.type?new Zd(null,r,_):C),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const A=sj(a.url);if(A&&Li.protocols.indexOf(A)===-1){n(new pr("Unsupported protocol "+A+":",pr.ERR_BAD_REQUEST,r));return}_.send(i||null)})},gj=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof pr?d:new Zd(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,i(new pr(`timeout ${e} of ms exceeded`,pr.ETIMEDOUT))},e);const o=()=>{r&&(s&&clearTimeout(s),s=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),r=null)};r.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>tt.asap(o),c}},mj=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,a;for(;n<t;)a=n+e,yield r.slice(n,a),n=a},xj=function(r,e){return Dx(this,null,function*(){try{for(var t=Db(vj(r)),n,a,i;n=!(a=yield new B0(t.next())).done;n=!1){const s=a.value;yield*Ix(mj(s,e))}}catch(a){i=[a]}finally{try{n&&(a=t.return)&&(yield new B0(a.call(t)))}finally{if(i)throw i[0]}}})},vj=function(r){return Dx(this,null,function*(){if(r[Symbol.asyncIterator]){yield*Ix(r);return}const e=r.getReader();try{for(;;){const{done:t,value:n}=yield new B0(e.read());if(t)break;yield n}}finally{yield new B0(e.cancel())}})},s5=(r,e,t,n)=>{const a=xj(r,e);let i=0,s,o=u=>{s||(s=!0,n&&n(u))};return new ReadableStream({pull(u){return oe(this,null,function*(){try{const{done:d,value:p}=yield a.next();if(d){o(),u.close();return}let g=p.byteLength;if(t){let m=i+=g;t(m)}u.enqueue(new Uint8Array(p))}catch(d){throw o(d),d}})},cancel(u){return o(u),a.return()}},{highWaterMark:2})},n2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",E8=n2&&typeof ReadableStream=="function",yj=n2&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):r=>oe(null,null,function*(){return new Uint8Array(yield new Response(r).arrayBuffer())})),A8=(r,...e)=>{try{return!!r(...e)}catch(t){return!1}},wj=E8&&A8(()=>{let r=!1;const e=new Request(Li.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),o5=64*1024,Bv=E8&&A8(()=>tt.isReadableStream(new Response("").body)),Am={stream:Bv&&(r=>r.body)};n2&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Am[e]&&(Am[e]=tt.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new pr(`Response type '${e}' is not supported`,pr.ERR_NOT_SUPPORT,n)})})})(new Response);const bj=r=>oe(null,null,function*(){if(r==null)return 0;if(tt.isBlob(r))return r.size;if(tt.isSpecCompliantForm(r))return(yield new Request(Li.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(tt.isArrayBufferView(r)||tt.isArrayBuffer(r))return r.byteLength;if(tt.isURLSearchParams(r)&&(r=r+""),tt.isString(r))return(yield yj(r)).byteLength}),_j=(r,e)=>oe(null,null,function*(){const t=tt.toFiniteNumber(r.getContentLength());return t==null?bj(e):t}),Sj=n2&&(r=>oe(null,null,function*(){let{url:e,method:t,data:n,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:g}=S8(r);u=u?(u+"").toLowerCase():"text";let m=gj([a,i&&i.toAbortSignal()],s),y;const w=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(c&&wj&&t!=="get"&&t!=="head"&&(_=yield _j(d,n))!==0){let B=new Request(e,{method:"POST",body:n,duplex:"half"}),M;if(tt.isFormData(n)&&(M=B.headers.get("content-type"))&&d.setContentType(M),B.body){const[F,D]=n5(_,Em(a5(c)));n=s5(B.body,o5,F,D)}}tt.isString(p)||(p=p?"include":"omit");const S="credentials"in Request.prototype;y=new Request(e,Ft(wt({},g),{signal:m,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:S?p:void 0}));let A=yield fetch(y);const C=Bv&&(u==="stream"||u==="response");if(Bv&&(o||C&&w)){const B={};["status","statusText","headers"].forEach(O=>{B[O]=A[O]});const M=tt.toFiniteNumber(A.headers.get("content-length")),[F,D]=o&&n5(M,Em(a5(o),!0))||[];A=new Response(s5(A.body,o5,F,()=>{D&&D(),w&&w()}),B)}u=u||"text";let L=yield Am[tt.findKey(Am,u)||"text"](A,r);return!C&&w&&w(),yield new Promise((B,M)=>{b8(B,M,{data:L,headers:bs.from(A.headers),status:A.status,statusText:A.statusText,config:r,request:y})})}catch(S){throw w&&w(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new pr("Network Error",pr.ERR_NETWORK,r,y),{cause:S.cause||S}):pr.from(S,S&&S.code,r,y)}})),Uv={http:MT,xhr:pj,fetch:Sj};tt.forEach(Uv,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch(t){}Object.defineProperty(r,"adapterName",{value:e})}});const l5=r=>`- ${r}`,Ej=r=>tt.isFunction(r)||r===null||r===!1,N8={getAdapter:r=>{r=tt.isArray(r)?r:[r];const{length:e}=r;let t,n;const a={};for(let i=0;i<e;i++){t=r[i];let s;if(n=t,!Ej(t)&&(n=Uv[(s=String(t)).toLowerCase()],n===void 0))throw new pr(`Unknown adapter '${s}'`);if(n)break;a[s||"#"+i]=n}if(!n){const i=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(l5).join(`
`):" "+l5(i[0]):"as no adapter specified";throw new pr("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:Uv};function Gx(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Zd(null,r)}function c5(r){return Gx(r),r.headers=bs.from(r.headers),r.data=Vx.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),N8.getAdapter(r.adapter||V1.adapter)(r).then(function(n){return Gx(r),n.data=Vx.call(r,r.transformResponse,n),n.headers=bs.from(n.headers),n},function(n){return w8(n)||(Gx(r),n&&n.response&&(n.response.data=Vx.call(r,r.transformResponse,n.response),n.response.headers=bs.from(n.response.headers))),Promise.reject(n)})}const C8="1.9.0",a2={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{a2[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const u5={};a2.transitional=function(e,t,n){function a(i,s){return"[Axios v"+C8+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(e===!1)throw new pr(a(s," has been removed"+(t?" in "+t:"")),pr.ERR_DEPRECATED);return t&&!u5[s]&&(u5[s]=!0,console.warn(a(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,o):!0}};a2.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Aj(r,e,t){if(typeof r!="object")throw new pr("options must be an object",pr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let a=n.length;for(;a-- >0;){const i=n[a],s=e[i];if(s){const o=r[i],c=o===void 0||s(o,i,r);if(c!==!0)throw new pr("option "+i+" must be "+c,pr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new pr("Unknown option "+i,pr.ERR_BAD_OPTION)}}const hm={assertOptions:Aj,validators:a2},Vl=hm.validators;let rf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new t5,response:new t5}}request(e,t){return oe(this,null,function*(){try{return yield this._request(e,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch(s){}}throw n}})}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=of(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:i}=t;n!==void 0&&hm.assertOptions(n,{silentJSONParsing:Vl.transitional(Vl.boolean),forcedJSONParsing:Vl.transitional(Vl.boolean),clarifyTimeoutError:Vl.transitional(Vl.boolean)},!1),a!=null&&(tt.isFunction(a)?t.paramsSerializer={serialize:a}:hm.assertOptions(a,{encode:Vl.function,serialize:Vl.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),hm.assertOptions(t,{baseUrl:Vl.spelling("baseURL"),withXsrfToken:Vl.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&tt.merge(i.common,i[t.method]);i&&tt.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),t.headers=bs.concat(s,i);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,p=0,g;if(!c){const y=[c5.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,u),g=y.length,d=Promise.resolve(t);p<g;)d=d.then(y[p++],y[p++]);return d}g=o.length;let m=t;for(p=0;p<g;){const y=o[p++],w=o[p++];try{m=y(m)}catch(_){w.call(this,_);break}}try{d=c5.call(this,m)}catch(y){return Promise.reject(y)}for(p=0,g=u.length;p<g;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=of(this.defaults,e);const t=_8(e.baseURL,e.url,e.allowAbsoluteUrls);return x8(t,e.params,e.paramsSerializer)}};tt.forEach(["delete","get","head","options"],function(e){rf.prototype[e]=function(t,n){return this.request(of(n||{},{method:e,url:t,data:(n||{}).data}))}});tt.forEach(["post","put","patch"],function(e){function t(n){return function(i,s,o){return this.request(of(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}rf.prototype[e]=t(),rf.prototype[e+"Form"]=t(!0)});let Nj=class T8{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},e(function(i,s,o){n.reason||(n.reason=new Zd(i,s,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new T8(function(a){e=a}),cancel:e}}};function Cj(r){return function(t){return r.apply(null,t)}}function Tj(r){return tt.isObject(r)&&r.isAxiosError===!0}const zv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zv).forEach(([r,e])=>{zv[e]=r});function j8(r){const e=new rf(r),t=i8(rf.prototype.request,e);return tt.extend(t,rf.prototype,e,{allOwnKeys:!0}),tt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return j8(of(r,a))},t}const va=j8(V1);va.Axios=rf;va.CanceledError=Zd;va.CancelToken=Nj;va.isCancel=w8;va.VERSION=C8;va.toFormData=r2;va.AxiosError=pr;va.Cancel=va.CanceledError;va.all=function(e){return Promise.all(e)};va.spread=Cj;va.isAxiosError=Tj;va.mergeConfig=of;va.AxiosHeaders=bs;va.formToJSON=r=>y8(tt.isHTMLForm(r)?new FormData(r):r);va.getAdapter=N8.getAdapter;va.HttpStatusCode=zv;va.default=va;const{Axios:DG,AxiosError:IG,CanceledError:PG,isCancel:FG,CancelToken:MG,VERSION:BG,all:UG,Cancel:zG,isAxiosError:HG,spread:qG,toFormData:$G,AxiosHeaders:VG,HttpStatusCode:GG,formToJSON:WG,getAdapter:XG,mergeConfig:YG}=va,jj=window.location.hostname==="localhost",$y=jj?"http://localhost:3000/api":"/api",Oj=null;console.log("=== API CONFIGURATION ===");console.log("API URL:",$y);console.log("API Version:",Oj);console.log("=== API CONFIGURATION END ===");const fr=va.create({baseURL:$y,headers:{"Content-Type":"application/json"},withCredentials:!0});fr.interceptors.request.use(r=>{const e=localStorage.getItem("token");return e&&(r.headers.Authorization=`Bearer ${e}`),console.log(`=== API REQUEST: ${r.method.toUpperCase()} ${r.url} ===`),console.log("Request headers:",r.headers),r.data&&console.log("Request payload:",r.data),r.params&&console.log("Request params:",r.params),r},r=>(console.error("=== API REQUEST ERROR ==="),console.error("Request error:",r),Promise.reject(r)));fr.interceptors.response.use(r=>(console.log(`=== API RESPONSE: ${r.status} ${r.statusText} ===`),console.log("Response URL:",r.config.url),console.log("Response headers:",r.headers),console.log("Response data:",r.data),console.log("=== API RESPONSE END ==="),r),r=>(console.error("=== API RESPONSE ERROR ==="),console.error("Error:",r),r.response?(console.error("Response status:",r.response.status),console.error("Response headers:",r.response.headers),console.error("Response data:",r.response.data)):r.request?(console.error("No response received:",r.request),console.error("No response received for request to:",r.config.url)):console.error("Request setup error:",r.message),console.error("Request config:",r.config),console.error("=== API RESPONSE ERROR END ==="),r.response&&r.response.status===401&&(console.log("Unauthorized access detected, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(r)));const Rj=(r,e)=>oe(null,null,function*(){var t,n;try{console.log("Attempting login with:",{email:r,password:e});const a=yield fr.post("/auth/login",{email:r,password:e});return console.log("Login response:",a.data),a.data}catch(a){throw console.error("Login error:",a),console.error("Error response:",a.response),new Error(((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||"Login failed")}}),kj=r=>oe(null,null,function*(){var e,t;try{console.log("Attempting registration with:",r);const n=yield fr.post("/auth/register",r);return console.log("Registration response:",n.data),n.data}catch(n){throw console.error("Register error:",n),console.error("Error response:",n.response),new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Registration failed")}}),Lj=()=>oe(null,null,function*(){try{return console.log("Attempting logout"),localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("Logout successful"),{message:"Logged out successfully"}}catch(r){throw console.error("Logout error:",r),new Error("Logout failed")}}),Dj=r=>oe(null,null,function*(){var e,t;try{console.log("Updating user profile with:",r);const n=yield fr.put("/users/profile",r);console.log("Update profile response:",n.data);const a=localStorage.getItem("user");if(a){const i=JSON.parse(a),s=wt(wt({},i),n.data.data);localStorage.setItem("user",JSON.stringify(s))}return n.data}catch(n){throw console.error("Update profile error:",n),console.error("Error response:",n.response),new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to update profile")}}),Hv=()=>oe(null,null,function*(){var r,e,t,n,a;try{console.log(" getUserProfile: Fetching user profile");const i=yield fr.get("/users/profile");console.log(" getUserProfile: Response received:",{status:i.status,statusText:i.statusText,hasData:!!i.data,dataKeys:Object.keys(i.data||{})}),console.log(" getUserProfile: Full response data:",i.data);const s=localStorage.getItem("user");if(s){const o=JSON.parse(s),c=wt(wt({},o),i.data.data);localStorage.setItem("user",JSON.stringify(c)),console.log(" getUserProfile: Updated stored user data")}return i.data}catch(i){throw console.error(" getUserProfile: Error fetching profile:",i),console.error(" getUserProfile: Error details:",{message:i.message,status:(r=i.response)==null?void 0:r.status,statusText:(e=i.response)==null?void 0:e.statusText,data:(t=i.response)==null?void 0:t.data}),new Error(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to fetch profile")}}),O8=V.createContext(),Fi=()=>V.useContext(O8),Ij=({children:r})=>{const[e,t]=V.useState(null),[n,a]=V.useState(!0),[i,s]=V.useState(null);V.useEffect(()=>{const y=localStorage.getItem("user"),w=localStorage.getItem("token");y&&w&&t(JSON.parse(y)),a(!1)},[]);const m={user:e,loading:n,error:i,login:(y,w)=>oe(null,null,function*(){a(!0),s(null);try{const _=yield Rj(y,w);if(_.token){localStorage.setItem("token",_.token),localStorage.setItem("user",JSON.stringify(_.user)),t(_.user);const S=localStorage.getItem("cart");if(S)try{const{importCart:A}=yield Zs(()=>oe(null,null,function*(){const{importCart:L}=yield Promise.resolve().then(()=>i2);return{importCart:L}}),[]),C=JSON.parse(S);console.log("Importing cart items to database:",C),yield A(C),localStorage.removeItem("cart"),console.log("Cart imported successfully and removed from localStorage")}catch(A){console.error("Failed to import cart:",A)}}return _}catch(_){throw s(_.message||"Failed to login"),_}finally{a(!1)}}),register:y=>oe(null,null,function*(){a(!0),s(null);try{const w=yield kj(y);return w.verification_required||w.token&&(localStorage.setItem("token",w.token),localStorage.setItem("user",JSON.stringify(w.user)),t(w.user)),w}catch(w){throw s(w.message||"Failed to register"),w}finally{a(!1)}}),logout:()=>oe(null,null,function*(){a(!0);try{yield Lj(),localStorage.removeItem("token"),localStorage.removeItem("user"),t(null)}catch(y){console.error("Logout error:",y)}finally{a(!1)}}),isAuthenticated:()=>!!e,isAdmin:()=>e&&e.role==="admin",updateUserData:y=>{if(e){const w=wt(wt({},e),y);t(w),localStorage.setItem("user",JSON.stringify(w))}}};return l.jsx(O8.Provider,{value:m,children:r})},Ed=()=>oe(null,null,function*(){var r,e,t,n;console.log("=== FRONTEND: GET CART REQUEST ===");try{console.log("Sending request to:","/cart");const a=yield fr.get("/cart");return console.log("Response data:",a.data),console.log("=== FRONTEND: GET CART RESPONSE SUCCESS ==="),a.data}catch(a){throw console.error("=== FRONTEND: GET CART ERROR ==="),console.error("Error fetching cart:",a),console.error("Error response:",a.response),console.error("Error message:",a.message),console.error("Error response data:",(r=a.response)==null?void 0:r.data),console.error("Error response status:",(e=a.response)==null?void 0:e.status),console.error("=== FRONTEND: GET CART ERROR END ==="),new Error(((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to fetch cart")}}),R8=(r,e=1)=>oe(null,null,function*(){var t,n,a,i;console.log("=== FRONTEND: ADD TO CART REQUEST ==="),console.log("Product ID:",r),console.log("Quantity:",e);try{console.log("Sending request to:","/cart"),console.log("Request payload:",{product_id:r,quantity:e});const s=yield fr.post("/cart",{product_id:r,quantity:e});return console.log("Response status:",s.status),console.log("Response data:",s.data),console.log("=== FRONTEND: ADD TO CART RESPONSE SUCCESS ==="),s.data}catch(s){throw console.error("=== FRONTEND: ADD TO CART ERROR ==="),console.error("Error adding to cart:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(t=s.response)==null?void 0:t.data),console.error("Error response status:",(n=s.response)==null?void 0:n.status),console.error("=== FRONTEND: ADD TO CART ERROR END ==="),new Error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to add item to cart")}}),k8=(r,e)=>oe(null,null,function*(){var t,n,a,i;console.log("=== FRONTEND: UPDATE CART ITEM REQUEST ==="),console.log("Item ID:",r),console.log("New quantity:",e);try{console.log(`Trying update cart item endpoint: /cart/${r}`);const s=yield fr.put(`/cart/${r}`,{quantity:e});return console.log("Update cart item endpoint successful"),console.log("Response data:",s.data),s.data}catch(s){throw console.error("=== FRONTEND: UPDATE CART ITEM ERROR ==="),console.error("Error updating cart item:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(t=s.response)==null?void 0:t.data),console.error("Error response status:",(n=s.response)==null?void 0:n.status),new Error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to update cart item")}}),L8=r=>oe(null,null,function*(){var e,t,n,a;console.log("=== FRONTEND: REMOVE FROM CART REQUEST ==="),console.log("Item ID:",r);try{console.log(`Trying remove from cart endpoint: /cart/${r}`);const i=yield fr.delete(`/cart/${r}`);return console.log("Remove from cart endpoint successful"),console.log("Response data:",i.data),i.data}catch(i){throw console.error("=== FRONTEND: REMOVE FROM CART ERROR ==="),console.error("Error removing from cart:",i),console.error("Error response:",i.response),console.error("Error message:",i.message),console.error("Error response data:",(e=i.response)==null?void 0:e.data),console.error("Error response status:",(t=i.response)==null?void 0:t.status),new Error(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to remove item from cart")}}),D8=()=>oe(null,null,function*(){var r,e,t,n;console.log("=== FRONTEND: CLEAR CART REQUEST ===");try{console.log("Trying clear cart endpoint: /cart");const a=yield fr.delete("/cart");return console.log("Clear cart endpoint successful"),console.log("Response data:",a.data),a.data}catch(a){throw console.error("=== FRONTEND: CLEAR CART ERROR ==="),console.error("Error clearing cart:",a),console.error("Error response:",a.response),console.error("Error message:",a.message),console.error("Error response data:",(r=a.response)==null?void 0:r.data),console.error("Error response status:",(e=a.response)==null?void 0:e.status),new Error(((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to clear cart")}}),Pj=r=>oe(null,null,function*(){var e,t,n,a;console.log("=== FRONTEND: IMPORT CART REQUEST ==="),console.log("Cart items:",r);try{const i=yield fr.put("/cart",{items:r,import_mode:"import"});return console.log("Import cart successful:",i.data),i.data}catch(i){throw console.error("=== FRONTEND: IMPORT CART ERROR ==="),console.error("Error importing cart:",i),console.error("Error response:",i.response),console.error("Error message:",i.message),console.error("Error response data:",(e=i.response)==null?void 0:e.data),console.error("Error response status:",(t=i.response)==null?void 0:t.status),new Error(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to import cart")}}),i2=Object.freeze(Object.defineProperty({__proto__:null,addToCart:R8,clearCart:D8,getCart:Ed,importCart:Pj,removeFromCart:L8,updateCartItem:k8},Symbol.toStringTag,{value:"Module"})),I8=V.createContext(),Jd=()=>V.useContext(I8),Fj=({children:r})=>{const{isAuthenticated:e}=Fi(),[t,n]=V.useState([]),[a,i]=V.useState(0),[s,o]=V.useState(0),[c,u]=V.useState(!1),[d,p]=V.useState(null);V.useEffect(()=>{oe(null,null,function*(){var C;if(u(!0),p(null),e())try{console.log("Fetching cart from database for authenticated user");const L=yield Ed();if(n(L.items||[]),i(L.total||0),o(L.count||0),(((C=L.items)==null?void 0:C.length)===0||!L.items)&&localStorage.getItem("cart"))try{const B=localStorage.getItem("cart"),M=JSON.parse(B);if(M&&M.length>0){console.log("Importing cart items from localStorage to database:",M);const{importCart:F}=yield Zs(()=>oe(null,null,function*(){const{importCart:O}=yield Promise.resolve().then(()=>i2);return{importCart:O}}),void 0);yield F(M);const D=yield Ed();n(D.items||[]),i(D.total||0),o(D.count||0),localStorage.removeItem("cart"),console.log("Cart imported successfully and removed from localStorage")}}catch(B){console.error("Failed to import cart from localStorage:",B)}}catch(L){console.error("Failed to fetch cart from database:",L),p("Failed to load cart data");const B=localStorage.getItem("cart");if(B){const M=JSON.parse(B);n(M);const F=M.reduce((D,O)=>D+O.price*O.quantity,0);i(F),o(M.length)}}finally{u(!1)}else{console.log("Using localStorage cart for non-authenticated user");const L=localStorage.getItem("cart");if(L)try{const B=JSON.parse(L);n(B);const M=B.reduce((F,D)=>F+D.price*D.quantity,0);i(M),o(B.length)}catch(B){console.error("Failed to parse cart from localStorage:",B),p("Failed to load cart data from localStorage"),localStorage.removeItem("cart")}else n([]),i(0),o(0);u(!1)}})},[e]),V.useEffect(()=>{if(!e()){localStorage.setItem("cart",JSON.stringify(t));const A=t.reduce((C,L)=>C+L.price*L.quantity,0);i(A),o(t.length)}},[t,e]);const S={cart:t,total:a,loading:c,error:d,addToCart:(A,C=1)=>oe(null,null,function*(){var L,B,M;console.log("=== CART CONTEXT: ADD TO CART ==="),console.log("Product:",A),console.log("Quantity:",C),console.log("Available stock:",A.quantity),console.log("Is authenticated:",e());try{if(!A.quantity||A.quantity<=0)throw p("This product is out of stock"),new Error("Product is out of stock");if(C>A.quantity)throw p(`Only ${A.quantity} items available in stock`),new Error(`Requested quantity (${C}) exceeds available stock (${A.quantity})`);const F=A.product_id||A.id,D=t.find(I=>(I.product_id||I.id)===F),O=D?D.quantity:0;if(O+C>A.quantity){const I=A.quantity-O;throw I<=0?(p("You already have the maximum available quantity in your cart"),new Error("Maximum quantity already in cart")):(p(`You can only add ${I} more of this item (${O} already in cart, ${A.quantity} total stock)`),new Error(`Can only add ${I} more items`))}console.log("Stock validation passed"),console.log("Using product_id:",F);try{console.log("Attempting to add to cart via API"),yield R8(F,C),console.log("API call successful"),console.log("Refreshing cart data");const I=yield Ed();console.log("Cart data received:",I),n(I.items||[]),i(I.total||0),o(I.count||0),console.log("Cart state updated from API")}catch(I){console.error("API call failed, falling back to localStorage:",I);const U=((B=(L=I.response)==null?void 0:L.data)==null?void 0:B.message)||I.message||"Failed to add item to cart";if(p(U),((M=I.response)==null?void 0:M.status)===400)throw console.log("Stock/inventory error - not using localStorage fallback"),new Error(U);if(!e())console.log("Using localStorage for non-authenticated user"),n(X=>{const ae=X.findIndex(Se=>(Se.product_id||Se.id)===F);if(console.log("Existing item index:",ae),ae>=0){console.log("Updating existing item");const Se=[...X];return Se[ae].quantity+=C,console.log("Updated cart:",Se),Se}else{console.log("Adding new item");const Se=[...X,{product_id:F,name:A.name,price:A.price,quantity:C,image_url:A.image_url,subtotal:A.price*C,stock_quantity:A.quantity}];return console.log("New cart:",Se),Se}});else throw console.error("API failed for authenticated user and localStorage fallback not available"),new Error(U)}console.log("=== CART CONTEXT: ADD TO CART SUCCESS ===")}catch(F){console.error("=== CART CONTEXT: ADD TO CART ERROR ==="),console.error("Failed to add to cart:",F),console.error("Error message:",F.message),console.error("=== CART CONTEXT: ADD TO CART ERROR END ==="),d||p("Failed to add item to cart")}}),updateQuantity:(A,C,L,B=null)=>oe(null,null,function*(){try{if(L<=0){p("Quantity must be at least 1");return}const M=t.find(D=>(D.product_id||D.id)===C),F=B||(M==null?void 0:M.stock_quantity);if(F&&L>F){p(`Only ${F} items available in stock`);return}if(e()){yield k8(A,L);const D=yield Ed();n(D.items||[]),i(D.total||0),o(D.count||0)}else n(D=>D.map(O=>O.product_id===C?Ft(wt({},O),{quantity:L,subtotal:O.price*L}):O))}catch(M){console.error("Failed to update cart item:",M),p("Failed to update cart item")}}),removeFromCart:(A,C)=>oe(null,null,function*(){try{if(e()){yield L8(A);const L=yield Ed();n(L.items||[]),i(L.total||0),o(L.count||0)}else n(L=>L.filter(B=>B.product_id!==C))}catch(L){console.error("Failed to remove from cart:",L),p("Failed to remove item from cart")}}),clearCart:()=>oe(null,null,function*(){try{e()?(yield D8(),n([]),i(0),o(0)):(n([]),i(0),o(0),localStorage.removeItem("cart"))}catch(A){console.error("Failed to clear cart:",A),p("Failed to clear cart")}}),getItemCount:()=>t.reduce((A,C)=>A+parseInt(C.quantity),0)};return l.jsx(I8.Provider,{value:S,children:r})},Mj=({id:r,message:e,type:t,onClose:n})=>{const[a,i]=V.useState(!1);V.useEffect(()=>{const u=setTimeout(()=>{i(!0)},10);return()=>clearTimeout(u)},[]);const s=()=>{i(!1),setTimeout(()=>{n()},300)},o=()=>{switch(t){case Gs.SUCCESS:return"bg-green-100 border-green-500 text-green-800";case Gs.ERROR:return"bg-red-100 border-red-500 text-red-800";case Gs.WARNING:return"bg-yellow-100 border-yellow-500 text-yellow-800";case Gs.INFO:default:return"bg-blue-100 border-blue-500 text-blue-800"}},c=()=>{switch(t){case Gs.SUCCESS:return l.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});case Gs.ERROR:return l.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})});case Gs.WARNING:return l.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case Gs.INFO:default:return l.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return l.jsx("div",{className:`transform transition-all duration-300 ease-in-out ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"} max-w-md w-full shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5 ${o()}`,role:"alert",children:l.jsx("div",{className:"flex-1 p-4",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:c()}),l.jsx("div",{className:"ml-3 flex-1",children:l.jsx("p",{className:"text-sm font-medium",children:e})}),l.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:l.jsxs("button",{className:"inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:s,children:[l.jsx("span",{className:"sr-only",children:"Close"}),l.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})})},P8=V.createContext(),Gs={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},Bj=({children:r})=>{const[e,t]=V.useState([]),n=V.useCallback((d,p=Gs.INFO,g=3e3)=>{const m=Date.now();return t(y=>[...y,{id:m,message:d,type:p,duration:g}]),setTimeout(()=>{a(m)},g),m},[]),a=V.useCallback(d=>{t(p=>p.filter(g=>g.id!==d))},[]),i=V.useCallback((d,p)=>n(d,Gs.SUCCESS,p),[n]),s=V.useCallback((d,p)=>n(d,Gs.ERROR,p),[n]),o=V.useCallback((d,p)=>n(d,Gs.INFO,p),[n]),c=V.useCallback((d,p)=>n(d,Gs.WARNING,p),[n]),u={toasts:e,addToast:n,removeToast:a,success:i,error:s,info:o,warning:c};return l.jsxs(P8.Provider,{value:u,children:[r,l.jsx("div",{className:"toast-container fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(d=>l.jsx(Mj,{id:d.id,message:d.message,type:d.type,onClose:()=>a(d.id)},d.id))})]})},Mn=()=>{const r=V.useContext(P8);if(!r)throw new Error("useToast must be used within a ToastProvider");return r},Wx=()=>oe(null,null,function*(){var r,e,t;console.log("=== GET WISHLIST API CALL ===");try{const n=yield fr.get("/wishlist");if(console.log("Wishlist fetched successfully:",n.data),n.data&&n.data.success){const i=(((r=n.data.data)==null?void 0:r.items)||[]).filter(s=>s&&s.id&&s.products&&s.products.name);return Ft(wt({},n.data.data),{items:i,count:i.length})}else return console.warn("Unexpected wishlist response format:",n.data),{items:[],count:0}}catch(n){return console.error("=== GET WISHLIST ERROR ==="),console.error("Error fetching wishlist:",n),console.error("Error response:",n.response),console.error("Error message:",n.message),console.error("Error response data:",(e=n.response)==null?void 0:e.data),console.error("Error response status:",(t=n.response)==null?void 0:t.status),{items:[],count:0}}}),Uj=r=>oe(null,null,function*(){var e,t,n,a,i;console.log("=== ADD TO WISHLIST API CALL ==="),console.log("Product ID:",r);try{const s=yield fr.post("/wishlist",{product_id:r});if(console.log("Added to wishlist successfully:",s.data),s.data&&s.data.success)return s.data;throw new Error(((e=s.data)==null?void 0:e.message)||"Failed to add to wishlist")}catch(s){throw console.error("=== ADD TO WISHLIST ERROR ==="),console.error("Error adding to wishlist:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(t=s.response)==null?void 0:t.data),console.error("Error response status:",(n=s.response)==null?void 0:n.status),new Error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to add to wishlist")}}),F8=r=>oe(null,null,function*(){var e,t,n,a,i;console.log("=== REMOVE FROM WISHLIST API CALL ==="),console.log("Product ID:",r);try{const s=yield fr.delete("/wishlist",{data:{product_id:r}});if(console.log("Removed from wishlist successfully:",s.data),s.data&&s.data.success)return s.data;throw new Error(((e=s.data)==null?void 0:e.message)||"Failed to remove from wishlist")}catch(s){throw console.error("=== REMOVE FROM WISHLIST ERROR ==="),console.error("Error removing from wishlist:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(t=s.response)==null?void 0:t.data),console.error("Error response status:",(n=s.response)==null?void 0:n.status),new Error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to remove from wishlist")}}),zj=(r,e=1)=>oe(null,null,function*(){console.log("=== MOVE TO CART API CALL ==="),console.log("Product ID:",r,"Quantity:",e);try{const{addToCart:t}=yield Zs(()=>oe(null,null,function*(){const{addToCart:n}=yield Promise.resolve().then(()=>i2);return{addToCart:n}}),void 0);return yield t(r,e),yield F8(r),console.log("Successfully moved from wishlist to cart"),{success:!0,message:"Item moved to cart"}}catch(t){throw console.error("Error moving to cart:",t),new Error(t.message||"Failed to move item to cart")}}),M8=V.createContext(),Vy=()=>V.useContext(M8),Hj=({children:r})=>{const[e,t]=V.useState([]),[n,a]=V.useState(!1),[i,s]=V.useState(null),{isAuthenticated:o}=Fi();let c,u;try{const A=Mn();c=A.success,u=A.error}catch(A){console.warn("Toast context not available, using console fallbacks"),c=C=>console.log("Success:",C),u=C=>console.error("Error:",C)}V.useEffect(()=>{oe(null,null,function*(){if(o()){a(!0),s(null);try{console.log("Fetching wishlist from database for authenticated user");const L=((yield Wx()).items||[]).filter(B=>B&&B.id&&B.products&&B.products.name);t(L)}catch(C){console.error("Failed to fetch wishlist:",C),s("Failed to load wishlist")}finally{a(!1)}}else t([])})},[o]);const S={wishlist:e,loading:n,error:i,addItem:A=>oe(null,null,function*(){if(!o())return u("Please login to add items to your wishlist"),!1;console.log("=== WISHLIST CONTEXT: ADD ITEM ==="),console.log("Product:",A);try{if(s(null),e.find(M=>M.product_id===A.id))return u("Item is already in your wishlist"),!1;yield Uj(A.id);const B=((yield Wx()).items||[]).filter(M=>M&&M.id&&M.products&&M.products.name);return t(B),c(`${A.name} added to wishlist`),!0}catch(C){console.error("Failed to add to wishlist:",C);const L=C.message||"Failed to add item to wishlist";return s(L),u(L),!1}}),removeItem:(A,C="Item")=>oe(null,null,function*(){if(!o())return!1;console.log("=== WISHLIST CONTEXT: REMOVE ITEM ==="),console.log("Product ID:",A);try{return s(null),yield F8(A),t(L=>L.filter(B=>B&&B.product_id!==A)),c(`${C} removed from wishlist`),!0}catch(L){console.error("Failed to remove from wishlist:",L);const B=L.message||"Failed to remove item from wishlist";return s(B),u(B),!1}}),moveItemToCart:(A,C=1)=>oe(null,null,function*(){var L;if(!o())return u("Please login to move items to cart"),!1;console.log("=== WISHLIST CONTEXT: MOVE TO CART ==="),console.log("Product ID:",A,"Quantity:",C);try{s(null);const B=e.find(F=>F.product_id===A),M=((L=B==null?void 0:B.products)==null?void 0:L.name)||"Item";return yield zj(A,C),t(F=>F.filter(D=>D.product_id!==A)),c(`${M} moved to cart`),!0}catch(B){console.error("Failed to move to cart:",B);const M=B.message||"Failed to move item to cart";return s(M),u(M),!1}}),isInWishlist:A=>{try{return Array.isArray(e)?e.some(C=>C.product_id===A):!1}catch(C){return console.error("Error checking wishlist:",C),!1}},getWishlistCount:()=>{try{return Array.isArray(e)?e.length:0}catch(A){return console.error("Error getting wishlist count:",A),0}},clearWishlist:()=>{t([]),s(null)},refreshWishlist:()=>oe(null,null,function*(){if(o()){a(!0);try{const A=yield Wx();t(A.items||[])}catch(A){console.error("Failed to refresh wishlist:",A),s("Failed to refresh wishlist")}finally{a(!1)}}})};return l.jsx(M8.Provider,{value:S,children:r})},qj=V.createContext(),$j=({children:r})=>{const[e,t]=V.useState(null),[n,a]=V.useState(!0);V.useEffect(()=>{i()},[]);const i=()=>oe(null,null,function*(){try{const u=yield(yield fetch("/api/admin/site-config")).json();u.success&&u.config.logo&&t(u.config.logo)}catch(c){console.error("Error fetching logo:",c)}finally{a(!1)}}),o={logo:e,loading:n,updateLogo:c=>{t(c)},refreshLogo:i};return l.jsx(qj.Provider,{value:o,children:r})},Vj=()=>{console.log("=== FORCE RELOADING ALL ASSETS ==="),"caches"in window&&caches.keys().then(t=>{t.forEach(n=>{caches.delete(n),console.log(`Cache ${n} deleted`)})});try{localStorage.clear(),sessionStorage.clear()}catch(t){console.error("Error clearing storage:",t)}const r=new Date().getTime(),e=Math.floor(Math.random()*1e6);window.location.href=`${window.location.pathname}?force_reload=${r}_${e}`},Gj=()=>{const r=new URLSearchParams(window.location.search),e=r.get("cache_bust"),t=r.get("force_reload");if(e||t){r.delete("cache_bust"),r.delete("force_reload");const n=window.location.pathname+(r.toString()?`?${r.toString()}`:"");return window.history.replaceState({},document.title,n),console.log(t?"=== PAGE FORCE RELOADED ===":"=== PAGE RELOADED WITH CACHE BUST ==="),!0}return!1},B8=r=>oe(null,null,function*(){var e,t,n,a;try{console.log("Uploading file:",r.name,"Size:",r.size,"Type:",r.type);const i=yield new Promise((p,g)=>{const m=new FileReader;m.onload=()=>{const w=m.result.split(",")[1];p(w)},m.onerror=g,m.readAsDataURL(r)});console.log("File converted to base64, length:",i.length);const o=JSON.parse(localStorage.getItem("user")||"{}").token||"";console.log("Using auth token:",o?"Token exists":"No token");const c={"Content-Type":"application/json"};o&&(c.Authorization=`Bearer ${o}`);const u={filename:r.name,mimetype:r.type,data:i};console.log("Making upload request to:","/upload"),console.log("Headers:",c),console.log("Payload size:",JSON.stringify(u).length,"bytes");const d=yield fr.post("/upload",u,{headers:c,timeout:3e4,maxContentLength:1/0,maxBodyLength:1/0});if(console.log("Upload response:",d.data),d.data.success){const p=d.data.file_url||((e=d.data.data)==null?void 0:e.url);if(p)return console.log("Upload successful:",p),p;throw console.error("No file URL found in response:",d.data),new Error("No file URL received from server")}else throw new Error(d.data.message||"Upload failed")}catch(i){throw console.error("Error uploading image:",i),console.error("Error details:",((t=i.response)==null?void 0:t.data)||"No response data"),new Error(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to upload image")}}),Wu=(...e)=>oe(null,[...e],function*(r={}){var t,n,a,i,s,o;try{console.log(" getProducts: Starting API call with params:",r);const{page:c=1,limit:u=12,search:d="",category:p="",categories:g="",sortBy:m="created_at",sortOrder:y="desc"}=r,w=new URLSearchParams({page:c.toString(),limit:u.toString(),sortBy:m,sortOrder:y});d&&w.append("search",d),p&&w.append("category",p),g&&w.append("categories",g);const _=`/products?${w}`;console.log(" getProducts: Making request to:",_);const S=yield fr.get(_);console.log(" getProducts: Raw API response:",{status:S.status,statusText:S.statusText,dataKeys:Object.keys(S.data||{}),dataType:typeof S.data,hasData:!!((t=S.data)!=null&&t.data),dataLength:(a=(n=S.data)==null?void 0:n.data)==null?void 0:a.length});const C=(S.data.data||[]).filter(L=>L&&L.id&&L.name).map(L=>Ft(wt({},L),{category_id:String(L.category_id)}));return console.log(` getProducts: Processed ${C.length} products (page ${c})`),console.log(" getProducts: Sample products:",C.slice(0,2)),{products:C,pagination:S.data.pagination,filters:S.data.filters}}catch(c){return console.error(" getProducts: Error fetching products:",c),console.error(" getProducts: Error details:",{message:c.message,status:(i=c.response)==null?void 0:i.status,statusText:(s=c.response)==null?void 0:s.statusText,data:(o=c.response)==null?void 0:o.data}),{products:[],pagination:null,filters:null}}}),s2=r=>oe(null,null,function*(){var e,t,n,a,i,s,o;try{console.log(" getProductById: Fetching product with ID:",r);const c=`/products/${r}`;console.log(" getProductById: Making request to:",c);const u=yield fr.get(c);return console.log(" getProductById: Response received:",{status:u.status,statusText:u.statusText,hasData:!!((e=u.data)!=null&&e.data),dataKeys:Object.keys(u.data||{})}),console.log(" getProductById: Product data:",u.data.data),u.data.data}catch(c){throw console.error(" getProductById: Error fetching product:",c),console.error(" getProductById: Error details:",{message:c.message,status:(t=c.response)==null?void 0:t.status,statusText:(n=c.response)==null?void 0:n.statusText,data:(a=c.response)==null?void 0:a.data,url:(i=c.config)==null?void 0:i.url}),new Error(((o=(s=c.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to fetch product")}}),Gy=r=>oe(null,null,function*(){try{const n=((yield fr.get(`/products?search=${r}`)).data.data||[]).map(a=>Ft(wt({},a),{category_id:String(a.category_id)}));return console.log(`Search found ${n.length} products for query "${r}"`),n}catch(e){return console.error("Error searching products:",e),[]}}),Wy=r=>oe(null,null,function*(){var e,t;try{return(yield fr.post("/products",r)).data}catch(n){throw console.error("Error creating product:",n),new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to create product")}}),U8=r=>oe(null,null,function*(){var e,t;try{return(yield fr.put(`/products/${r.id}`,r)).data}catch(n){throw console.error("Error updating product:",n),new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to update product")}}),Nm=r=>oe(null,null,function*(){var e,t;try{return(yield fr.delete(`/products/${r}`)).data}catch(n){throw console.error("Error deleting product:",n),new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to delete product")}}),z8=r=>oe(null,null,function*(){try{const e=[];for(const t of r)try{const n=yield Wy(t);e.push(n)}catch(n){console.error(`Error creating product ${t.name}:`,n)}return e}catch(e){throw console.error("Error in bulk product creation:",e),new Error(e.message||"Failed to import products")}}),Wj=Object.freeze(Object.defineProperty({__proto__:null,bulkCreateProducts:z8,createProduct:Wy,deleteProduct:Nm,getProductById:s2,getProducts:Wu,searchProducts:Gy,updateProduct:U8,uploadProductImage:B8},Symbol.toStringTag,{value:"Module"})),f5=({placeholder:r="Search products...",className:e="",onSearch:t,initialValue:n=""})=>{const[a,i]=V.useState(n),[s,o]=V.useState([]),[c,u]=V.useState(!1),[d,p]=V.useState(!1),[g,m]=V.useState(-1),y=as(),w=V.useRef(null),_=V.useRef(null),S=V.useRef(null),A=O=>oe(null,null,function*(){if(O.trim().length<2){o([]),p(!1);return}u(!0);try{const I=(yield Gy(O)).slice(0,8).map(U=>Ft(wt({},U),{searchKey:`${U.id}-${U.name}`}));o(I),p(!0),m(-1)}catch(q){console.error("Search error:",q),o([])}finally{u(!1)}}),C=O=>{const q=O.target.value;i(q),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{A(q)},300)},L=O=>{O.preventDefault(),a.trim()&&B(a.trim())},B=O=>{p(!1),t?t(O):y(`/products?search=${encodeURIComponent(O)}`)},M=O=>{i(O.name),p(!1),y(`/products/${O.id}`)},F=O=>{var q;if(!(!d||s.length===0))switch(O.key){case"ArrowDown":O.preventDefault(),m(I=>I<s.length-1?I+1:I);break;case"ArrowUp":O.preventDefault(),m(I=>I>0?I-1:-1);break;case"Enter":O.preventDefault(),g>=0&&g<s.length?M(s[g]):L(O);break;case"Escape":p(!1),m(-1),(q=w.current)==null||q.blur();break}},D=()=>{var O;i(""),o([]),p(!1),m(-1),(O=w.current)==null||O.focus()};return V.useEffect(()=>{const O=q=>{w.current&&!w.current.contains(q.target)&&_.current&&!_.current.contains(q.target)&&(p(!1),m(-1))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),V.useEffect(()=>()=>{S.current&&clearTimeout(S.current)},[]),l.jsxs("div",{className:`relative ${e}`,children:[l.jsxs("form",{onSubmit:L,className:"flex",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{ref:w,type:"text",placeholder:r,className:"w-full px-3 py-2 text-black rounded-l-md border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 pr-8",value:a,onChange:C,onKeyDown:F,onFocus:()=>{s.length>0&&p(!0)},autoComplete:"off"}),a&&l.jsx("button",{type:"button",onClick:D,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",title:"Clear search",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("button",{type:"submit",className:"bg-blue-600 px-3 py-2 rounded-r-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-300 flex items-center justify-center",disabled:c,children:c?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),d&&s.length>0&&l.jsx("div",{ref:_,className:"absolute top-full left-0 right-0 card border border-slate-600 shadow-lg z-50 max-h-80 overflow-y-auto",children:s.map((O,q)=>l.jsx("div",{className:`p-3 cursor-pointer border-b border-slate-600 last:border-b-0 hover:bg-slate-700 text-slate-100 ${q===g?"bg-emerald-600":""}`,onClick:()=>M(O),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex-shrink-0",children:O.image_url?l.jsx("img",{src:O.image_url,alt:O.name,className:"w-full h-full object-cover rounded",onError:I=>{I.target.style.display="none"}}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:O.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["$",parseFloat(O.price).toFixed(2)]}),O.quantity<=0&&l.jsx("p",{className:"text-xs text-red-500",children:"Out of stock"})]})]})},O.searchKey))})]})},Xj=()=>{const{user:r,isAuthenticated:e,isAdmin:t,logout:n}=Fi(),{getItemCount:a}=Jd(),{getWishlistCount:i}=Vy(),s=as(),o=As(),[c,u]=V.useState(!1),d=()=>oe(null,null,function*(){yield n(),s("/")});return l.jsx("header",{className:"bg-[#1a1a1a] text-[#F5F0E1] shadow-lg sticky top-0 z-50 border-b-2 border-[#8B2332]",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex justify-between items-center h-20",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsxs(_t,{to:"/",className:"flex items-center space-x-3 hover:opacity-90 transition-opacity group",children:[l.jsx("img",{src:"/images/sardaarji-autoparts-logo.png",alt:"Sardaarji Autoparts",className:"h-14 w-auto rounded"}),l.jsxs("div",{className:"hidden sm:block",children:[l.jsx("span",{className:"text-xl font-bold tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"SARDAARJI AUTOPARTS"}),l.jsx("span",{className:"block text-xs text-[#B8860B] tracking-widest",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"VINTAGE MOTORCYCLE PARTS"})]})]})}),l.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-6",children:[l.jsxs("nav",{className:"flex items-center space-x-2",children:[l.jsx(_t,{to:"/",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${o.pathname==="/"?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Home"}),l.jsx(_t,{to:"/products",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${o.pathname.startsWith("/products")?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Parts Catalog"}),e()&&l.jsx(_t,{to:"/orders",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${o.pathname.startsWith("/orders")?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"My Orders"}),t()&&l.jsx(_t,{to:"/admin",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${o.pathname.startsWith("/admin")?"bg-[#996f09] text-white":"bg-[#B8860B] hover:bg-[#996f09] text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Admin"})]}),l.jsx(f5,{placeholder:"Search parts...",className:"w-48"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[e()&&l.jsxs(_t,{to:"/wishlist",className:"relative p-2 hover:bg-[#333] rounded-lg transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),i()>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-[#8B2332] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:i()})]}),l.jsxs(_t,{to:"/cart",className:"relative p-2 hover:bg-[#333] rounded-lg transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),a()>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-[#8B2332] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a()})]}),e()?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(_t,{to:"/profile",className:"px-3 py-2 rounded-lg hover:bg-[#333] transition-colors text-sm",children:["Hi, ",r.first_name]}),l.jsx("button",{onClick:d,className:"px-3 py-2 rounded-lg hover:bg-[#8B2332] transition-colors text-sm",children:"Logout"})]}):l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(_t,{to:"/login",className:"btn-vintage-red px-4 py-2 text-sm",style:{fontFamily:"'Oswald', sans-serif"},children:"Login"})})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>u(!c),className:"p-2 rounded-lg hover:bg-[#333] transition-colors","aria-label":"Toggle menu",children:c?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),l.jsx("div",{className:`md:hidden ${c?"block":"hidden"} border-t border-[#333] pb-4`,children:l.jsxs("div",{className:"px-2 pt-2 space-y-1",children:[l.jsx(_t,{to:"/",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Home"}),l.jsx(_t,{to:"/products",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Parts Catalog"}),e()&&l.jsxs(l.Fragment,{children:[l.jsx(_t,{to:"/orders",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"My Orders"}),l.jsxs(_t,{to:"/wishlist",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:["Wishlist (",i(),")"]})]}),l.jsxs(_t,{to:"/cart",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:["Cart (",a(),")"]}),t()&&l.jsx(_t,{to:"/admin",className:"block px-4 py-3 rounded-lg bg-[#B8860B] hover:bg-[#996f09] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Admin Panel"}),l.jsx("div",{className:"pt-2",children:l.jsx(f5,{placeholder:"Search parts...",className:"w-full"})}),l.jsx("div",{className:"pt-2 border-t border-[#333]",children:e()?l.jsxs(l.Fragment,{children:[l.jsxs(_t,{to:"/profile",className:"block px-4 py-3 rounded-lg hover:bg-[#333]",onClick:()=>u(!1),children:["Profile (",r.first_name,")"]}),l.jsx("button",{onClick:()=>{d(),u(!1)},className:"block w-full text-left px-4 py-3 rounded-lg hover:bg-[#8B2332] text-[#F5F0E1]",children:"Logout"})]}):l.jsxs(l.Fragment,{children:[l.jsx(_t,{to:"/login",className:"block px-4 py-3 rounded-lg bg-[#8B2332] hover:bg-[#9B3342] font-semibold uppercase tracking-wide text-center",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Login"}),l.jsx(_t,{to:"/register",className:"block px-4 py-3 mt-2 rounded-lg border border-[#8B2332] hover:bg-[#8B2332] font-semibold uppercase tracking-wide text-center",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Register"})]})})]})})]})})},Yj=()=>{const r=new Date().getFullYear();return l.jsx("footer",{className:"bg-[#1a1a1a] text-[#F5F0E1] py-12 border-t-2 border-[#8B2332]",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-16 w-auto"}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xl font-bold tracking-wide block",style:{fontFamily:"'Oswald', sans-serif"},children:"VINTAGE YAMAHA"}),l.jsx("span",{className:"text-xs text-[#B8860B] tracking-widest",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"MOTORCYCLE PARTS"})]})]}),l.jsx("p",{className:"text-[#A8A090] leading-relaxed text-sm",style:{fontFamily:"'Roboto Slab', serif"},children:"Your premier source for vintage Yamaha motorcycle parts. Authentic parts for classic RD, DT, and more."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#B8860B] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Quick Links"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsx("li",{children:l.jsx(_t,{to:"/products",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Parts Catalog"})}),l.jsx("li",{children:l.jsx(_t,{to:"/products/category/1",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Engine Parts"})}),l.jsx("li",{children:l.jsx(_t,{to:"/products/category/2",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Electrical"})}),l.jsx("li",{children:l.jsx(_t,{to:"/products/category/3",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Bodywork"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#B8860B] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Contact Us"}),l.jsxs("address",{className:"not-italic text-[#A8A090] space-y-3 text-sm",children:[l.jsxs("p",{className:"flex items-center",children:[l.jsxs("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Motorcycle Lane, Bike City"]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"(555) 123-4567"]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@vintageyamahaparts.com"]})]})]})]}),l.jsxs("div",{className:"border-t border-[#333] mt-10 pt-6 text-center",children:[l.jsxs("p",{className:"text-[#A8A090] text-sm",style:{fontFamily:"'Roboto Slab', serif"},children:[" ",r," Vintage Yamaha Parts. All rights reserved."]}),l.jsx("p",{className:"text-[#B8860B] text-xs mt-2 uppercase tracking-widest",style:{fontFamily:"'Oswald', sans-serif"},children:"Authentic Parts  Expert Knowledge  Fast Shipping"})]})]})})},Kj=()=>{const r=As(),e=[{to:"/admin",label:"Dashboard",icon:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]})},{to:"/admin/products",label:"Products",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},{to:"/admin/orders",label:"Orders",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{to:"/admin/users",label:"Users",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{to:"/admin/user-approval",label:"Approval",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{to:"/admin/reviews",label:"Reviews",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{to:"/admin/analytics",label:"Analytics",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{to:"/admin/logs",label:"Logs",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{to:"/admin/logo",label:"Logo",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{to:"/admin/inventory",label:"Inventory",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})},{to:"/admin/settings",label:"Settings",icon:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];return l.jsx("div",{className:"bg-[#1a1a1a] border-b-2 border-[#333]",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("div",{className:"sm:hidden",children:l.jsx("select",{className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded-md py-2 px-3 text-sm",value:r.pathname,onChange:t=>window.location.href=t.target.value,children:e.map(t=>l.jsx("option",{value:t.to,children:t.label},t.to))})}),l.jsx("div",{className:"hidden sm:block",children:l.jsx("nav",{className:"flex space-x-1","aria-label":"Tabs",children:e.map(t=>{const n=r.pathname===t.to||t.to!=="/admin"&&r.pathname.startsWith(t.to);return l.jsxs(_t,{to:t.to,className:`flex items-center space-x-2 py-3 px-4 border-b-3 text-sm transition-all uppercase tracking-wide ${n?"border-[#8B2332] text-[#F5F0E1] bg-[#8B2332]/10":"border-transparent text-[#A8A090] hover:text-[#F5F0E1] hover:bg-[#333]/50"}`,style:{fontFamily:"'Oswald', sans-serif",fontWeight:500},children:[t.icon,l.jsx("span",{children:t.label})]},t.to)})})})]})})},Zj=()=>l.jsxs("div",{className:"min-h-screen",style:{background:"#D4C5A9"},children:[l.jsxs("div",{className:"bg-[#1a1a1a] border-b border-[#333]",children:[l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsx("h1",{className:"text-2xl font-bold text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Admin Panel"})}),l.jsx(Kj,{})]}),l.jsx("div",{className:"container mx-auto px-4 py-6",children:l.jsx(p7,{})})]}),o2=()=>oe(null,null,function*(){try{const t=((yield fr.get("/categories")).data.data||[]).filter(a=>a&&a.id&&a.name).map(a=>Ft(wt({},a),{id:String(a.id),name:a.name.trim()})),n=Array.from(new Map(t.map(a=>[a.name.toLowerCase(),a])).values());return n.sort((a,i)=>a.name.localeCompare(i.name)),console.log("API - Fetched distinct categories:",n),n}catch(r){return console.error("Error fetching categories:",r),[]}}),Jj=r=>{try{return new URL(r),!0}catch(e){return!1}},d5=()=>window.location.origin,Qj=r=>r&&r.includes("supabase.co/storage/v1/object/public/"),t0=(r,e=null)=>{if(!r||r.trim()===""||r==="nan"||r==="undefined"||r==="null")return null;if(console.log("Processing image URL:",r),Qj(r))return console.log("Using Supabase Storage URL as-is:",r),r;if(r.startsWith("http://")||r.startsWith("https://"))return console.log("Using external URL as-is:",r),r;if(Jj(r)){const n=window.location.origin,a=new URL(r);return a.hostname.includes("localhost")&&!n.includes("localhost")?(console.log("Converting localhost URL to current domain:",r),`${n}${a.pathname}`):(console.log("Using valid URL as-is:",r),r)}if(r.startsWith("/")){const n=`${d5()}${r}`;return console.log("Processed relative URL (with /):",n),n}const t=`${d5()}/${r}`;return console.log("Processed relative URL (without /):",t),t},eO=(r,e=null)=>{const t=r.target.src;if(console.error("Image failed to load:",t),t.includes("placeholder-image.svg")||r.target.hasAttribute("data-using-fallback")){console.log("Already using fallback image, preventing infinite loop"),r.target.removeAttribute("src"),r.target.classList.add("image-load-error");const a=document.createElement("div");a.className="w-full h-full flex items-center justify-center bg-gray-200",a.innerHTML='<span class="text-gray-500 text-sm">Image unavailable</span>',r.target.parentNode&&(r.target.parentNode.appendChild(a),r.target.style.display="none");return}const n="/Modparts/placeholder-image.svg";r.target.setAttribute("data-using-fallback","true"),r.target.src=e||n,r.target.classList.add("image-load-error")},yr=({size:r="md",text:e="Loading...",showText:t=!0,className:n="",variant:a="gear"})=>{const i={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},s={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},o=()=>{const p={sm:{large:32,small:24,offset:18},md:{large:48,small:36,offset:28},lg:{large:64,small:48,offset:38},xl:{large:80,small:60,offset:48}},g=p[r]||p.md;return l.jsxs("div",{className:"relative",style:{width:g.large+g.offset,height:g.large},children:[l.jsx("img",{src:"/images/gear-large.png",alt:"",className:"absolute animate-spin",style:{width:g.large,height:g.large,left:0,top:0,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.4))",animationDuration:"3s"}}),l.jsx("img",{src:"/images/gear-small.png",alt:"",className:"absolute",style:{width:g.small,height:g.small,right:0,top:(g.large-g.small)/2,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.4))",animation:"spin 2s linear infinite reverse"}})]})},c=({className:p})=>l.jsx("div",{className:`${p} border-4 border-slate-600 border-t-emerald-500 rounded-full animate-spin`}),u=({className:p})=>l.jsxs("div",{className:`flex space-x-1 ${p}`,children:[l.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),d=()=>{const p=`${i[r]} text-emerald-500`;switch(a){case"gear":case"rusted":return l.jsx(o,{});case"simple":return l.jsx(c,{className:p});case"dots":return l.jsx(u,{className:p});default:return l.jsx(o,{})}};return l.jsxs("div",{className:`flex flex-col items-center justify-center space-y-3 ${n}`,children:[d(),t&&l.jsx("p",{className:`text-gray-600 font-medium ${s[r]}`,children:e})]})},tO=({isVisible:r,text:e="Loading...",variant:t="gear",backdrop:n=!0})=>r?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 backdrop-blur-sm"}),l.jsx("div",{className:"relative card-elevated p-8",children:l.jsx(yr,{size:"lg",text:e,variant:t,className:"text-center"})})]}):null,Zl=({text:r="Loading...",variant:e="gear",size:t="sm"})=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(yr,{size:t,text:"",showText:!1,variant:e}),l.jsx("span",{className:"text-gray-600 text-sm",children:r})]}),Xy=({product:r,size:e="md",variant:t="icon",className:n=""})=>{const{isInWishlist:a,addItem:i,removeItem:s}=Vy(),{isAuthenticated:o}=Fi(),{error:c}=Mn(),[u,d]=V.useState(!1),p=o()?a(r.id):!1,g=A=>oe(null,null,function*(){if(A.preventDefault(),A.stopPropagation(),!o()){c("Please login to add items to your wishlist");return}d(!0);try{p?yield s(r.id,r.name):yield i(r)}catch(C){console.error("Error toggling wishlist:",C)}finally{d(!1)}}),m={sm:"w-6 h-6 p-1",md:"w-8 h-8 p-1.5",lg:"w-10 h-10 p-2",xl:"w-12 h-12 p-2.5"},y={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"},w={sm:"text-sm px-2 py-1",md:"text-base px-3 py-2",lg:"text-lg px-4 py-2",xl:"text-xl px-5 py-3"},_=({filled:A,className:C})=>l.jsx("svg",{className:C,fill:A?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:A?0:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),S=({className:A})=>l.jsxs("svg",{className:`${A} animate-spin`,fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return t==="icon"?l.jsx("button",{onClick:g,disabled:u,className:`
          ${m[e]}
          ${p?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          transition-colors duration-200 rounded-full hover:bg-gray-800/50
          ${n}
        `,title:p?"Remove from wishlist":"Add to wishlist",children:u?l.jsx(S,{className:y[e]}):l.jsx(_,{filled:p,className:y[e]})}):t==="button"?l.jsxs("button",{onClick:g,disabled:u,className:`
          ${w[e]}
          ${p?"bg-red-500 text-white hover:bg-red-600":"bg-gray-700 text-gray-200 hover:bg-gray-600"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2
          ${n}
        `,children:[u?l.jsx(S,{className:"w-4 h-4"}):l.jsx(_,{filled:p,className:"w-4 h-4"}),l.jsx("span",{children:u?"Processing...":p?"Remove from Wishlist":"Add to Wishlist"})]}):t==="text"?l.jsxs("button",{onClick:g,disabled:u,className:`
          ${w[e]}
          ${p?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          transition-colors duration-200 flex items-center space-x-1
          ${n}
        `,children:[u?l.jsx(S,{className:"w-4 h-4"}):l.jsx(_,{filled:p,className:"w-4 h-4"}),l.jsx("span",{children:u?"Processing...":p?"In Wishlist":"Add to Wishlist"})]}):null},ff=s=>{var o=s,{src:r,alt:e,className:t="",placeholderText:n="No Image Available",showIcon:a=!0}=o,i=ku(o,["src","alt","className","placeholderText","showIcon"]);const[c,u]=V.useState(!1),[d,p]=V.useState(!1),g=()=>{u(!0),p(!1)},m=()=>{p(!0),u(!1)};return!r||r==="nan"||r==="undefined"||r==="null"||r.includes("/nan")||c?l.jsxs("div",Ft(wt({className:`flex flex-col items-center justify-center bg-gray-100 text-gray-500 ${t}`},i),{children:[a&&l.jsx("svg",{className:"w-12 h-12 mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{className:"text-sm font-medium text-center px-2",children:n})]})):l.jsxs(l.Fragment,{children:[!d&&l.jsx("div",Ft(wt({className:`flex items-center justify-center bg-gray-200 ${t}`},i),{children:l.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mb-2"}),l.jsx("div",{className:"w-16 h-3 bg-gray-300 rounded"})]})})),l.jsx("img",wt({src:r,alt:e,className:`${t} ${d?"":"hidden"}`,onError:g,onLoad:m},i))]})},rO=()=>{const[r,e]=V.useState([]),[t,n]=V.useState([]),[a,i]=V.useState(!0),s=c=>c?`/images/categories/${c.toLowerCase().replace(/\s+/g,"-")}.jpg`:null,o=c=>{c.target.style.display="none"};return V.useEffect(()=>{oe(null,null,function*(){try{const u=yield Wu({limit:100}),p=(u.products||u).sort(()=>.5-Math.random()).slice(0,4);e(p);const g=yield o2();n(g)}catch(u){console.error("Error fetching data:",u)}finally{i(!1)}})},[]),l.jsxs("div",{className:"bg-[#1a1a1a]",children:[l.jsx("section",{className:"relative py-24 mb-12 overflow-hidden",style:{backgroundImage:"linear-gradient(rgba(26,26,26,0.6), rgba(26,26,26,0.9)), url(/images/login-motorcycle.jpg)",backgroundSize:"cover",backgroundPosition:"center"},children:l.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[l.jsx("div",{className:"mb-8",children:l.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-40 md:h-52 w-auto mx-auto drop-shadow-2xl"})}),l.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"Vintage Yamaha Parts"}),l.jsx("p",{className:"text-xl mb-10 text-[#D4CFC0] max-w-2xl mx-auto",style:{fontFamily:"'Roboto Slab', serif"},children:"Authentic parts for classic Yamaha motorcycles. RD, DT, and more."}),l.jsxs(_t,{to:"/products",className:"btn-vintage-red inline-flex items-center space-x-3 text-lg px-10 py-5",children:[l.jsx("span",{style:{fontFamily:"'Oswald', sans-serif"},children:"Browse Parts Catalog"}),l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),l.jsxs("section",{className:"mb-16 px-4",children:[l.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Shop by Category"}),a?l.jsx("div",{className:"text-center py-8",children:l.jsx(yr,{size:"lg",text:"Loading categories...",variant:"gear"})}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:t.filter(c=>c&&c.id&&c.name).map(c=>l.jsxs(_t,{to:`/products/category/${c.id}`,className:"relative overflow-hidden rounded-lg text-center hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group min-h-[200px] flex flex-col border border-[#333]",children:[l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2d2d2d] to-[#1a1a1a]",children:[l.jsx("img",{src:s(c.name),alt:`${c.name} category`,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity duration-300",onError:o}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1a1a1a]/90 via-[#1a1a1a]/50 to-transparent group-hover:from-[#1a1a1a]/80 transition-all duration-300"})]}),l.jsx("div",{className:"relative z-10 p-6 flex flex-col justify-end h-full",children:l.jsxs("div",{className:"transform group-hover:translate-y-[-4px] transition-transform duration-300",children:[l.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:c.name}),l.jsx("p",{className:"text-[#A8A090] text-xs md:text-sm line-clamp-2",children:c.description})]})})]},c.id))})]}),l.jsxs("section",{className:"mb-16 px-4",children:[l.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Featured Parts"}),a?l.jsx("div",{className:"text-center py-8",children:l.jsx(yr,{size:"lg",text:"Loading featured products...",variant:"gear"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.filter(c=>c&&c.id&&c.name).map(c=>l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden group hover:border-[#8B2332] transition-all duration-300",children:[l.jsxs("div",{className:"h-48 relative",children:[l.jsx(ff,{src:t0(c.image_url),alt:c.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",placeholderText:"No Image"}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(Xy,{product:c,size:"md",variant:"icon"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2 text-[#F5F0E1] group-hover:text-[#B8860B] transition-colors uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:c.name}),l.jsx("p",{className:"text-[#A8A090] mb-4 text-sm",children:c.category_name}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-[#8B2332] font-bold text-xl",children:["$",parseFloat(c.price).toFixed(2)]}),l.jsx(_t,{to:`/products/${c.id}`,className:"btn-vintage-gray px-4 py-2 text-sm",children:"View Details"})]})]})]},c.id))}),l.jsx("div",{className:"text-center mt-12",children:l.jsxs(_t,{to:"/products",className:"btn-vintage-gray inline-flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),l.jsx("span",{style:{fontFamily:"'Oswald', sans-serif"},children:"View All Parts"})]})})]}),l.jsx("section",{className:"bg-[#242424] py-16 px-4 border-t border-b border-[#333]",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"About Vintage Yamaha Parts"}),l.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[l.jsx("p",{className:"text-lg mb-6 text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"We specialize in providing authentic parts for classic Yamaha motorcycles. Whether you're restoring a vintage RD350 or maintaining your classic DT, we have the parts you need."}),l.jsx("p",{className:"text-lg mb-6 text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"Our inventory includes genuine OEM parts and quality aftermarket alternatives, ensuring you can find exactly what you need at competitive prices."}),l.jsx("p",{className:"text-lg text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"With over 15 years of experience in the vintage motorcycle parts industry, we pride ourselves on our knowledge, customer service, and fast worldwide shipping."})]})]})})]})},nO=({min:r,max:e,minValue:t,maxValue:n,onChange:a,onAfterChange:i})=>{const[s,o]=V.useState(null),c=V.useRef(null),u=e-r,d=_=>(_-r)/u*100,p=d(t),g=d(n),m=(_,S)=>{_.preventDefault(),o(S)},y=()=>{s&&(o(null),i&&i({min:t,max:n}))},w=_=>{if(!s||!c.current)return;const S=c.current.getBoundingClientRect(),A=S.width,L=(_.type.includes("touch")?_.touches[0].clientX:_.clientX)-S.left,B=Math.min(Math.max(L/A,0),1);let M=Math.round(B*u+r);if(M=Math.max(r,Math.min(e,M)),s==="min"){const F=Math.min(M,n-1);a({min:F,max:n})}else if(s==="max"){const F=Math.max(M,t+1);a({min:t,max:F})}};return V.useEffect(()=>{const _=()=>{y()},S=A=>{w(A)};return s&&(document.addEventListener("mousemove",S),document.addEventListener("mouseup",_),document.addEventListener("touchmove",S),document.addEventListener("touchend",_)),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",S),document.removeEventListener("touchend",_)}},[s]),l.jsxs("div",{className:"relative w-full h-6 mt-8 mb-4",children:[l.jsx("div",{ref:c,className:"absolute h-2 w-full bg-gray-300 rounded-full top-1/2 transform -translate-y-1/2",children:l.jsx("div",{className:"absolute h-full bg-blue-600 rounded-full",style:{left:`${p}%`,width:`${g-p}%`}})}),l.jsx("div",{className:`absolute w-5 h-5 bg-white border-2 border-blue-600 rounded-full top-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-grab ${s==="min"?"cursor-grabbing":""}`,style:{left:`${p}%`},onMouseDown:_=>m(_,"min"),onTouchStart:_=>m(_,"min"),role:"slider","aria-valuemin":r,"aria-valuemax":e,"aria-valuenow":t,tabIndex:0}),l.jsx("div",{className:`absolute w-5 h-5 bg-white border-2 border-blue-600 rounded-full top-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-grab ${s==="max"?"cursor-grabbing":""}`,style:{left:`${g}%`},onMouseDown:_=>m(_,"max"),onTouchStart:_=>m(_,"max"),role:"slider","aria-valuemin":r,"aria-valuemax":e,"aria-valuenow":n,tabIndex:0})]})},l2=({totalItems:r,itemsPerPage:e,currentPage:t,onPageChange:n,onItemsPerPageChange:a})=>{const[i,s]=V.useState(""),o=e===-1?1:Math.ceil(r/e),c=()=>{const m=[];if(o<=5)for(let w=1;w<=o;w++)m.push(w);else{m.push(1);let w=Math.max(2,t-1),_=Math.min(o-1,t+1);t<=2&&(_=Math.min(o-1,4)),t>=o-1&&(w=Math.max(2,o-3)),w>2&&m.push("...");for(let S=w;S<=_;S++)m.push(S);_<o-1&&m.push("..."),o>1&&m.push(o)}return m},u=()=>{t>1&&n(t-1)},d=()=>{t<o&&n(t+1)},p=m=>{m.preventDefault();const y=parseInt(i,10);!isNaN(y)&&y>=1&&y<=o&&(n(y),s(""))},g=m=>{const y=m.target.value==="all"?-1:parseInt(m.target.value,10);a(y),n(1)};return o<=1?null:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-6 space-y-4 md:space-y-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Show"}),l.jsxs("select",{className:"border rounded p-1 text-sm",value:e===-1?"all":e,onChange:g,children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:25,children:"25"}),l.jsx("option",{value:50,children:"50"}),l.jsx("option",{value:100,children:"100"}),l.jsx("option",{value:"all",children:"All"})]}),l.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:u,disabled:t===1,className:`px-3 py-1 rounded border ${t===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-slate-700 text-emerald-400 hover:bg-slate-600"}`,children:"Previous"}),c().map((m,y)=>l.jsx("button",{onClick:()=>typeof m=="number"&&n(m),className:`px-3 py-1 rounded border ${m===t?"bg-emerald-600 text-white":m==="..."?"bg-slate-600 text-slate-400 cursor-default":"bg-slate-700 text-emerald-400 hover:bg-slate-600"}`,disabled:m==="...",children:m},y)),l.jsx("button",{onClick:d,disabled:t===o,className:`px-3 py-1 rounded border ${t===o?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-600 hover:bg-blue-50"}`,children:"Next"})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("form",{onSubmit:p,className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Go to"}),l.jsx("input",{type:"text",value:i,onChange:m=>s(m.target.value),className:"border rounded p-1 w-12 text-center text-sm","aria-label":"Jump to page"}),l.jsx("button",{type:"submit",className:"px-2 py-1 bg-gray-200 rounded text-sm hover:bg-gray-300",children:"Go"})]})})]})},h5=()=>{var he;const{categoryId:r}=Yd(),e=As(),{addToCart:t}=Jd(),{success:n}=Mn(),[a,i]=V.useState([]),[s,o]=V.useState([]),[c,u]=V.useState(!0),[d,p]=V.useState(null),[g,m]=V.useState(1),[y,w]=V.useState(12),[_,S]=V.useState({min:0,max:99999}),[A,C]=V.useState({min:0,max:99999}),[L,B]=V.useState([]),[M,F]=V.useState({inStock:!1,outOfStock:!1}),[D,O]=V.useState({}),[q,I]=V.useState("name-asc"),[U,X]=V.useState({categories:!0,priceRange:!0,availability:!0,sortOptions:!0}),[ae,Se]=V.useState(!1),[Q,ce]=V.useState(r?String(r):"all"),we=V.useRef(!1),ue=new URLSearchParams(e.search).get("search");V.useEffect(()=>{if(we.current=!0,r){const pe=String(r);ce(pe),B(Ne=>Ne.length===0?[pe]:Ne)}else ce("all"),B([]);setTimeout(()=>{we.current=!1},0)},[r]),V.useEffect(()=>{oe(null,null,function*(){try{const Be=(yield o2()).map(rt=>Ft(wt({},rt),{id:String(rt.id)}));o(Be)}catch(Ne){console.error("Error fetching categories:",Ne)}})},[]),V.useEffect(()=>{if(we.current)return;oe(null,null,function*(){u(!0);try{let Ne;if(ue)console.log(" Using search API for query:",ue),Ne={products:yield Gy(ue),pagination:null};else{console.log(" Using paginated API for product listing");let Be=[];if(r&&L.length===0?(Be=[String(r)],console.log(" Using URL category:",r)):L.length>0&&(Be=L,console.log(" Using selected categories:",L)),Ne=yield Wu({page:g,limit:y,sortBy:"created_at",sortOrder:"desc",categories:Be.length>0?Be.join(","):void 0,minPrice:_.min>0?_.min:void 0,maxPrice:_.max<99999?_.max:void 0}),r&&L.length===0){const rt=String(r);ce(rt)}}i(Ne.products||[]),p(Ne.pagination)}catch(Ne){console.error("Error fetching products:",Ne),i([]),p(null)}finally{u(!1)}})},[r,ue,g,y,L,_]);const Y=()=>{B([]);const pe={min:0,max:99999};S(pe),C(pe),F({inStock:!1,outOfStock:!1}),ce("all")},xe=pe=>{X(Ne=>Ft(wt({},Ne),{[pe]:!Ne[pe]}))},R=pe=>{B(Ne=>Ne.includes(pe)?Ne.filter(Be=>Be!==pe):[...Ne,pe])},P=pe=>{C(pe)},H=pe=>{S(pe)},G=pe=>{F(Ne=>Ft(wt({},Ne),{[pe]:!Ne[pe]}))},J=pe=>{I(pe.target.value)},Ee=[...a].filter(pe=>{let Ne=!0;return M.inStock&&!M.outOfStock?Ne=pe.quantity>0:!M.inStock&&M.outOfStock&&(Ne=pe.quantity<=0),Ne}).sort((pe,Ne)=>{switch(q){case"name-asc":return pe.name.localeCompare(Ne.name);case"name-desc":return Ne.name.localeCompare(pe.name);case"price-asc":return parseFloat(pe.price)-parseFloat(Ne.price);case"price-desc":return parseFloat(Ne.price)-parseFloat(pe.price);default:return 0}});console.log(" ProductList: After filtering:",{originalCount:a.length,filteredCount:Ee.length,sampleFiltered:Ee.slice(0,2).map(pe=>({id:pe.id,name:pe.name}))});const ve=pe=>oe(null,null,function*(){if(!D[pe.id]){O(Ne=>Ft(wt({},Ne),{[pe.id]:!0}));try{yield t(pe),n(`${pe.name} added to cart!`)}catch(Ne){console.error("Failed to add to cart:",Ne)}finally{O(Ne=>Ft(wt({},Ne),{[pe.id]:!1}))}}});return l.jsx("div",{className:"min-h-screen bg-[#1a1a1a]",children:l.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:ue?`Search Results for "${ue}"`:r?`${((he=s.find(pe=>pe.id===r))==null?void 0:he.name)||"Category"} Parts`:"Parts Catalog"}),l.jsxs("div",{className:"flex flex-col md:flex-row mb-8",children:[l.jsxs("div",{className:"w-full md:w-1/4 mb-4 md:mb-0 md:mr-6",children:[l.jsx("div",{className:"md:hidden mb-4",children:l.jsxs("button",{onClick:()=>Se(pe=>!pe),className:"btn-primary w-full py-2 px-4 flex items-center justify-center",children:[l.jsx("span",{className:"mr-2",children:ae?"Hide Filters":"Show Filters"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})]})}),l.jsxs("div",{className:`bg-[#242424] border border-[#333] rounded-lg p-4 ${!ae&&"hidden md:block"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Filters"}),l.jsx("button",{onClick:Y,className:"text-sm text-[#B8860B] hover:text-[#d4a50d]",children:"Clear All"})]}),l.jsxs("div",{className:"mb-6 border-b border-[#444] pb-4",children:[l.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-[#D4CFC0] mb-2",onClick:()=>xe("categories"),children:[l.jsx("span",{children:"Categories"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${U.categories?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),U.categories&&l.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#333] border border-[#444] rounded p-2 mt-2",children:s.map(pe=>{const Ne=String(pe.id);return l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",id:`category-${Ne}`,checked:L.includes(Ne),onChange:()=>R(Ne),className:"mr-2 accent-[#8B2332]"}),l.jsx("label",{htmlFor:`category-${Ne}`,className:"text-sm text-[#D4CFC0]",children:pe.name})]},Ne)})})]}),l.jsxs("div",{className:"mb-6 border-b pb-4",children:[l.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>xe("priceRange"),children:[l.jsx("span",{children:"Price Range"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${U.priceRange?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),U.priceRange&&l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-medium",children:["$",A.min]}),l.jsxs("span",{className:"text-sm font-medium",children:["$",A.max===99999?"99999+":A.max]})]}),l.jsx(nO,{min:0,max:1e3,minValue:Math.min(A.min,1e3),maxValue:Math.min(A.max,1e3),onChange:pe=>{const Ne={min:pe.min,max:pe.max===1e3?99999:pe.max};P(Ne)},onAfterChange:pe=>{const Ne={min:pe.min,max:pe.max===1e3?99999:pe.max};H(Ne)}}),l.jsxs("div",{className:"flex space-x-2 mt-4",children:[l.jsx("div",{className:"w-1/2",children:l.jsx("input",{type:"number",placeholder:"Min",value:A.min,onChange:pe=>{const Ne=parseInt(pe.target.value,10);if(!isNaN(Ne)){const Be=Math.max(0,Math.min(Ne,A.max-1));P({min:Be,max:A.max})}},onBlur:()=>H(A),className:"w-full p-2 border rounded text-sm",min:0,max:A.max-1})}),l.jsx("div",{className:"w-1/2",children:l.jsx("input",{type:"number",placeholder:"Max",value:A.max,onChange:pe=>{const Ne=parseInt(pe.target.value,10);if(!isNaN(Ne)){const Be=Math.min(99999,Math.max(Ne,A.min+1));P({min:A.min,max:Be})}},onBlur:()=>H(A),className:"w-full p-2 border rounded text-sm",min:A.min+1,max:99999})})]})]})]}),l.jsxs("div",{className:"mb-6 border-b pb-4",children:[l.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>xe("availability"),children:[l.jsx("span",{children:"Availability"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${U.availability?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),U.availability&&l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"availability-in-stock",checked:M.inStock,onChange:()=>G("inStock"),className:"mr-2"}),l.jsx("label",{htmlFor:"availability-in-stock",className:"text-sm",children:"In Stock"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"availability-out-of-stock",checked:M.outOfStock,onChange:()=>G("outOfStock"),className:"mr-2"}),l.jsx("label",{htmlFor:"availability-out-of-stock",className:"text-sm",children:"Out of Stock"})]})]})]}),l.jsxs("div",{children:[l.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>xe("sortOptions"),children:[l.jsx("span",{children:"Sort By"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${U.sortOptions?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),U.sortOptions&&l.jsxs("select",{className:"w-full p-2 border rounded mt-2",value:q,onChange:J,children:[l.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),l.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),l.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),l.jsx("option",{value:"price-desc",children:"Price (High to Low)"})]})]})]})]}),l.jsxs("div",{className:"w-full md:w-3/4",children:[(L.length>0||_.min!==0||_.max!==1e3||M.inStock||M.outOfStock)&&l.jsx("div",{className:"bg-gray-100 p-3 rounded mb-4",children:l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Active Filters:"}),L.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1",children:L.map(pe=>{const Ne=String(pe);console.log(`Looking for category with ID: ${Ne}`);const Be=s.find(rt=>String(rt.id)===Ne);return console.log("Found category:",Be),Be?l.jsxs("span",{className:"bg-emerald-600 text-emerald-100 text-xs px-2 py-1 rounded-full flex items-center",children:[Be.name,l.jsx("button",{onClick:()=>R(Ne),className:"ml-1 text-emerald-100 hover:text-white",children:""})]},Ne):null})}),(_.min>0||_.max<99999)&&l.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center",children:["Price: $",_.min," - $",_.max===99999?"Any":_.max,l.jsx("button",{onClick:()=>{const pe={min:0,max:99999};S(pe),C(pe)},className:"ml-1 text-green-800 hover:text-green-900",title:"Clear price filter",children:""})]}),(M.inStock||M.outOfStock)&&l.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.inStock&&l.jsxs("span",{className:"bg-emerald-600 text-emerald-100 text-xs px-2 py-1 rounded-full flex items-center",children:["In Stock",l.jsx("button",{onClick:()=>G("inStock"),className:"ml-1 text-emerald-100 hover:text-white",children:""})]}),M.outOfStock&&l.jsxs("span",{className:"bg-slate-600 text-slate-100 text-xs px-2 py-1 rounded-full flex items-center",children:["Out of Stock",l.jsx("button",{onClick:()=>G("outOfStock"),className:"ml-1 text-slate-100 hover:text-white",children:""})]})]}),l.jsx("button",{onClick:Y,className:"text-xs text-red-600 hover:text-red-800 ml-auto",children:"Clear All Filters"})]})}),c?l.jsx("div",{className:"text-center py-8",children:l.jsx(yr,{size:"xl",text:"Loading products...",variant:"gear"})}):a.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-xl text-gray-600",children:"No products available."}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Check your internet connection or try refreshing the page."})]}):Ee.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-xl text-gray-600",children:"No products match your filters."}),l.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Found ",a.length," total products, but none match your current filters."]}),(L.length>0||_.min>0||_.max<99999||M.inStock||M.outOfStock)&&l.jsxs("button",{onClick:Y,className:"mt-4 text-blue-600 hover:text-blue-800",children:["Clear all filters to see all ",a.length," products"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",Ee.length," ",Ee.length===1?"product":"products",a.length>Ee.length&&` (filtered from ${a.length})`]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ee.filter(pe=>pe&&pe.id&&pe.name).map(pe=>l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden group hover:border-[#8B2332] transition-all duration-300",children:[l.jsxs("div",{className:"h-48 relative bg-slate-700",children:[l.jsx(ff,{src:t0(pe.image_url),alt:pe.name,className:"w-full h-full object-contain",placeholderText:"No Image Available",loading:"lazy"}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(Xy,{product:pe,size:"md",variant:"icon"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-1 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:pe.name}),l.jsx("p",{className:"text-sm text-[#A8A090] mb-2",children:pe.category_name}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("span",{className:"text-sm bg-emerald-600 text-emerald-100 px-2 py-1 rounded",children:pe.condition_status}),l.jsx("span",{className:"ml-2 text-sm text-slate-400",children:pe.quantity>0?`${pe.quantity} in stock`:"Out of stock"})]}),l.jsxs("p",{className:"text-[#8B2332] font-bold text-xl mb-3",children:["$",parseFloat(pe.price).toFixed(2)]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(_t,{to:`/products/${pe.id}`,className:"btn-vintage-gray px-4 py-2 text-sm",children:"Details"}),l.jsx("button",{onClick:()=>ve(pe),className:`btn-primary flex items-center justify-center px-4 py-2 text-sm ${pe.quantity<=0||D[pe.id]?"opacity-50 cursor-not-allowed":""}`,disabled:pe.quantity<=0||D[pe.id],children:D[pe.id]?l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Adding..."]}):"Add to Cart"})]})]})]},pe.id))}),!ue&&d&&l.jsxs("div",{className:"mt-8",children:[l.jsx(l2,{totalItems:d.totalItems,itemsPerPage:y,currentPage:g,onPageChange:m,onItemsPerPageChange:w}),l.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:["Showing ",(g-1)*y+1," to ",Math.min(g*y,d.totalItems)," of ",d.totalItems," products"]})]})]})]})]})]})})},aO=(t,...n)=>oe(null,[t,...n],function*(r,e={}){try{const{page:a=1,limit:i=10,sort:s="newest"}=e;console.log(` Fetching reviews for product ${r}`);const o=new URLSearchParams({product_id:r,page:a.toString(),limit:i.toString(),sort:s}),c=yield fr.get(`/reviews?${o}`);if(c.data.success)return c.data.data;throw new Error(c.data.message||"Failed to fetch product reviews")}catch(a){throw console.error("Error fetching product reviews:",a),a}}),iO=r=>oe(null,null,function*(){try{const{productId:e,rating:t,title:n,text:a}=r;if(console.log(` Creating review for product ${e}`),!e||!t||t<1||t>5)throw new Error("Product ID and valid rating (1-5) are required");const i=yield fr.post("/reviews",{product_id:e,rating:parseInt(t),title:n||null,comment:a||null});if(i.data.success)return i.data.data;throw new Error(i.data.message||"Failed to create review")}catch(e){throw console.error("Error creating review:",e),e}}),H8=r=>oe(null,null,function*(){try{console.log(` Deleting review ${r}`);const e=yield fr.delete(`/reviews?review_id=${r}`);if(e.data.success)return!0;throw new Error(e.data.message||"Failed to delete review")}catch(e){throw console.error("Error deleting review:",e),e}}),sO=(r,e)=>oe(null,null,function*(){try{console.log(` Voting on review ${r}: ${e?"helpful":"not helpful"}`);const t=yield fr.post("/reviews/helpful",{review_id:r,is_helpful:e});if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to vote on review helpfulness")}catch(t){throw console.error("Error voting on review helpfulness:",t),t}}),oO=(...e)=>oe(null,[...e],function*(r={}){try{const{page:t=1,limit:n=20,status:a="all"}=r;console.log(" Fetching all reviews (admin)");const i=new URLSearchParams({page:t.toString(),limit:n.toString(),status:a}),s=yield fr.get(`/reviews?${i}`);if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to fetch all reviews")}catch(t){throw console.error("Error fetching all reviews:",t),t}}),lO=(r,e)=>oe(null,null,function*(){try{console.log(` Moderating review ${r}: ${e?"approved":"rejected"}`);const t=yield fr.put(`/reviews?review_id=${r}`,{is_approved:e});if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to moderate review")}catch(t){throw console.error("Error moderating review:",t),t}}),q8=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),cO=r=>{const e=new Date(r),n=Math.floor((new Date-e)/1e3);if(n<60)return"Just now";if(n<3600){const a=Math.floor(n/60);return`${a} minute${a>1?"s":""} ago`}else if(n<86400){const a=Math.floor(n/3600);return`${a} hour${a>1?"s":""} ago`}else if(n<2592e3){const a=Math.floor(n/86400);return`${a} day${a>1?"s":""} ago`}else return q8(r)},c2=({rating:r=0,maxRating:e=5,size:t="md",interactive:n=!1,onChange:a=null,showValue:i=!1,className:s="",precision:o=1})=>{const[c,u]=V.useState(0),[d,p]=V.useState(r),g={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"},m={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},y=g[t]||g.md,w=m[t]||m.md,_=M=>{!n||!a||(p(M),a(M))},S=M=>{n&&u(M)},A=()=>{n&&u(0)},C=M=>{const F=n&&c>0?c:d||r,D=M+1;if(F>=D)return 100;if(F>M&&F<D){const O=(F-M)*100;return Math.min(100,Math.max(0,O))}else return 0},L=M=>{const F=C(M),D=M+1,O=n&&a;return l.jsxs("div",{className:`relative inline-block ${O?"cursor-pointer":""}`,onClick:()=>_(D),onMouseEnter:()=>S(D),onMouseLeave:A,children:[l.jsx("svg",{className:`${y} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),F>0&&l.jsx("div",{className:"absolute top-0 left-0 overflow-hidden",style:{width:`${F}%`},children:l.jsx("svg",{className:`${y} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},M)},B=n&&c>0?c:d||r;return l.jsxs("div",{className:`flex items-center space-x-1 ${s}`,children:[l.jsx("div",{className:"flex items-center space-x-0.5",children:Array.from({length:e},(M,F)=>L(F))}),i&&l.jsx("span",{className:`ml-2 font-medium text-gray-700 ${w}`,children:B>0?B.toFixed(1):"0.0"})]})},$8=({rating:r=0,reviewCount:e=0,size:t="md",showCount:n=!0,className:a=""})=>{const i={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},s=i[t]||i.md;return l.jsxs("div",{className:`flex items-center space-x-2 ${a}`,children:[l.jsx(c2,{rating:r,size:t,interactive:!1,showValue:!0}),n&&l.jsxs("span",{className:`text-gray-500 ${s}`,children:["(",e," ",e===1?"review":"reviews",")"]})]})},uO=({value:r=0,onChange:e,size:t="lg",required:n=!1,error:a=null,label:i="Rating",className:s=""})=>{const[o,c]=V.useState(r),u=d=>{c(d),e&&e(d)};return l.jsxs("div",{className:`space-y-2 ${s}`,children:[i&&l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[i," ",n&&l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(c2,{rating:o,size:t,interactive:!0,onChange:u,showValue:!1}),l.jsx("span",{className:"text-sm text-gray-600",children:o>0?`${o} star${o>1?"s":""}`:"Click to rate"})]}),a&&l.jsx("p",{className:"text-sm text-red-600",children:a})]})},fO=({distribution:r={},totalReviews:e=0,className:t=""})=>(Math.max(...Object.values(r)),l.jsx("div",{className:`space-y-2 ${t}`,children:[5,4,3,2,1].map(n=>{const a=r[n]||0,i=e>0?a/e*100:0;return l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-1 w-12",children:[l.jsx("span",{className:"text-sm font-medium",children:n}),l.jsx("svg",{className:"w-3 h-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),l.jsx("span",{className:"text-sm text-gray-600 w-8 text-right",children:a})]},n)})})),Qd=({isOpen:r,onClose:e,onConfirm:t,title:n="Confirm Action",message:a="Are you sure you want to proceed?",confirmText:i="Confirm",cancelText:s="Cancel",confirmButtonClass:o="bg-red-600 hover:bg-red-700"})=>{const[c,u]=V.useState(!1);V.useEffect(()=>{u(!!r)},[r]);const d=()=>{t(),e()};return r?l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${c?"opacity-50":"opacity-0"}`,onClick:e}),l.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-6 text-center sm:p-0",children:l.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[l.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:l.jsxs("div",{className:"sm:flex sm:items-start",children:[l.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:l.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[l.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n}),l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-sm text-gray-500",children:a})})]})]})}),l.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm ${o}`,onClick:d,children:i}),l.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:e,children:s})]})]})})]}):null},eh=()=>{const[r,e]=V.useState(!1),[t,n]=V.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),[a,i]=V.useState([]),s=V.useCallback(()=>{e(!1),a[1]&&a[1]()},[a]),o=V.useCallback(()=>{e(!1),a[0]&&a[0]()},[a]),c=V.useCallback((u={})=>new Promise((d,p)=>{n(wt(wt({},t),u)),i([d,p]),e(!0)}),[t]);return{isOpen:r,confirm:c,handleClose:s,handleConfirm:o,dialogProps:t}},dO=({productId:r,productName:e})=>{const[t,n]=V.useState([]),[a,i]=V.useState({averageRating:0,totalReviews:0,ratingDistribution:{}}),[s,o]=V.useState(!0),[c,u]=V.useState(null),[d,p]=V.useState(!1),[g,m]=V.useState("newest"),[y,w]=V.useState(1),[_,S]=V.useState({}),{user:A,isAuthenticated:C}=Fi(),{success:L,error:B}=Mn(),{isOpen:M,confirm:F,handleClose:D,handleConfirm:O,dialogProps:q}=eh();V.useEffect(()=>{I()},[r,g,y]);const I=()=>oe(null,null,function*(){try{o(!0),u(null);const Q=yield aO(r,{page:y,limit:10,sort:g});n(Q.reviews||[]),i(Q.statistics||{averageRating:0,totalReviews:0,ratingDistribution:{}}),S(Q.pagination||{})}catch(Q){u(Q.message),B("Failed to load reviews: "+Q.message)}finally{o(!1)}}),U=Q=>oe(null,null,function*(){try{const ce=yield iO(wt({productId:r},Q));L("Review submitted successfully!"),p(!1),I()}catch(ce){B("Failed to submit review: "+ce.message)}}),X=Q=>oe(null,null,function*(){try{yield F({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield H8(Q),L("Review deleted successfully"),I()}catch(ce){B("Failed to delete review: "+ce.message)}}catch(ce){console.log("Review deletion cancelled")}}),ae=(Q,ce)=>oe(null,null,function*(){if(!C){B("Please log in to vote on reviews");return}try{yield sO(Q,ce),L("Vote recorded successfully"),I()}catch(we){B("Failed to record vote: "+we.message)}}),Se=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"highest_rating",label:"Highest Rating"},{value:"lowest_rating",label:"Lowest Rating"},{value:"most_helpful",label:"Most Helpful"}];return s&&t.length===0?l.jsx("div",{className:"text-center py-8",children:l.jsx(yr,{size:"lg",text:"Loading reviews..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"text-4xl font-bold text-gray-900",children:a.averageRating.toFixed(1)}),l.jsx("div",{children:l.jsx($8,{rating:a.averageRating,reviewCount:a.totalReviews,size:"lg"})})]}),C&&l.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Write a Review"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Rating Breakdown"}),l.jsx(fO,{distribution:a.ratingDistribution,totalReviews:a.totalReviews})]})]})]}),d&&l.jsx(pO,{productName:e,onSubmit:U,onCancel:()=>p(!1)}),l.jsxs("div",{className:"space-y-6",children:[t.length>0&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[a.totalReviews," Review",a.totalReviews!==1?"s":""]}),l.jsx("select",{value:g,onChange:Q=>m(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Se.map(Q=>l.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),c?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-600 mb-4",children:c}),l.jsx("button",{onClick:I,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-500 mb-4",children:"No reviews yet"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Be the first to review this product!"}),C&&l.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Write the First Review"})]}):l.jsx("div",{className:"space-y-6",children:t.map(Q=>l.jsx(hO,{review:Q,currentUser:A,onDelete:X,onHelpfulVote:ae},Q.id))}),_.totalPages>1&&l.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[l.jsx("button",{onClick:()=>w(Q=>Math.max(1,Q-1)),disabled:y===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:_.totalPages},(Q,ce)=>ce+1).map(Q=>l.jsx("button",{onClick:()=>w(Q),className:`px-3 py-2 border rounded-lg ${y===Q?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:Q},Q)),l.jsx("button",{onClick:()=>w(Q=>Math.min(_.totalPages,Q+1)),disabled:y===_.totalPages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),l.jsx(Qd,{isOpen:M,onClose:D,onConfirm:O,title:q.title,message:q.message,confirmText:q.confirmText,cancelText:q.cancelText,confirmButtonClass:q.confirmButtonClass})]})},hO=({review:r,currentUser:e,onDelete:t,onHelpfulVote:n})=>{const a=e&&e.id===r.user.id;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(c2,{rating:r.rating,size:"sm"}),l.jsx("span",{className:"font-semibold text-gray-900",children:r.user.name}),r.isVerifiedPurchase&&l.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:cO(r.createdAt)})]}),a&&l.jsx("button",{onClick:()=>t(r.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]}),l.jsxs("div",{className:"space-y-3",children:[r.title&&l.jsx("h4",{className:"font-semibold text-gray-900",children:r.title}),r.text&&l.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.text})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>n(r.id,!0),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L9 7m5 3v10M9 7H6a2 2 0 00-2 2v8a2 2 0 002 2h8.5"})}),l.jsxs("span",{children:["Helpful (",r.helpfulCount,")"]})]}),l.jsxs("button",{onClick:()=>n(r.id,!1),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L15 17m-5-3v-10M15 17h4a2 2 0 002-2V7a2 2 0 00-2-2H6.5"})}),l.jsxs("span",{children:["Not Helpful (",r.notHelpfulCount||0,")"]})]})]}),l.jsx("div",{className:"text-sm text-gray-500",children:q8(r.createdAt)})]})]})},pO=({productName:r,onSubmit:e,onCancel:t})=>{const[n,a]=V.useState({rating:0,title:"",text:""}),[i,s]=V.useState(!1),[o,c]=V.useState({}),u=()=>{const p={};return(!n.rating||n.rating<1||n.rating>5)&&(p.rating="Please select a rating"),n.title&&n.title.length>255&&(p.title="Title must be 255 characters or less"),n.text&&n.text.length>5e3&&(p.text="Review must be 5000 characters or less"),c(p),Object.keys(p).length===0},d=p=>oe(null,null,function*(){if(p.preventDefault(),!!u()){s(!0);try{yield e(n)}finally{s(!1)}}});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Write a Review"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"mb-6",children:l.jsx("h4",{className:"font-semibold text-gray-900",children:r})}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsx(uO,{value:n.rating,onChange:p=>a(g=>Ft(wt({},g),{rating:p})),required:!0,error:o.rating,label:"Overall Rating"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title (Optional)"}),l.jsx("input",{type:"text",value:n.title,onChange:p=>a(g=>Ft(wt({},g),{title:p.target.value})),placeholder:"Summarize your review",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:255}),o.title&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:o.title})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review (Optional)"}),l.jsx("textarea",{value:n.text,onChange:p=>a(g=>Ft(wt({},g),{text:p.target.value})),placeholder:"Share your experience with this product",rows:6,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:5e3}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[o.text&&l.jsx("p",{className:"text-sm text-red-600",children:o.text}),l.jsxs("p",{className:"text-sm text-gray-500 ml-auto",children:[n.text.length,"/5000 characters"]})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-6",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Submitting...":"Submit Review"})]})]})]})})})},gO=()=>{const{id:r}=Yd(),e=as(),{addToCart:t,error:n}=Jd(),{success:a,error:i}=Mn(),[s,o]=V.useState(null),[c,u]=V.useState(!0),[d,p]=V.useState(null),[g,m]=V.useState(1),[y,w]=V.useState(!1),[_,S]=V.useState(!1);V.useEffect(()=>{n&&i(n)},[n,i]),V.useEffect(()=>{oe(null,null,function*(){u(!0);try{const M=yield s2(r);o(M)}catch(M){console.error("Error fetching product:",M),p(M.message||"Failed to load product")}finally{u(!1)}})},[r]);const A=B=>{const M=parseInt(B.target.value);M>0&&M<=s.quantity&&m(M)},C=()=>oe(null,null,function*(){if(!y){w(!0);try{yield t(s,g),a(`${g} ${s.name} added to cart!`)}catch(B){const M=n||B.message||"Failed to add item to cart";i(M),console.error("Failed to add to cart:",B)}finally{w(!1)}}}),L=()=>oe(null,null,function*(){if(!_){S(!0);try{yield t(s,g),e("/cart")}catch(B){const M=n||B.message||"Failed to add item to cart";i(M),console.error("Failed to add to cart for buy now:",B)}finally{S(!1)}}});return c?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading product details...",variant:"gear"})}):d?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-red-600 mb-4",children:d}),l.jsx(_t,{to:"/products",className:"text-blue-600 hover:underline",children:"Back to Products"})]}):s?l.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(_t,{to:"/products",className:"text-[#B8860B] hover:text-[#d4a50d] flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Parts Catalog"]})}),l.jsx("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden",children:l.jsxs("div",{className:"md:flex",children:[l.jsx("div",{className:"md:w-1/2 h-64 md:h-auto bg-[#333]",children:l.jsx(ff,{src:t0(s.image_url),alt:s.name,className:"w-full h-full object-contain",placeholderText:"No Image Available"})}),l.jsxs("div",{className:"md:w-1/2 p-6",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:s.name}),l.jsx("div",{className:"mb-2",children:l.jsx($8,{rating:4.5,reviewCount:0,size:"md"})}),l.jsxs("p",{className:"text-[#A8A090]",children:["Category: ",s.category_name]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("span",{className:"bg-[#8B2332] text-[#F5F0E1] px-3 py-1 rounded-full text-sm font-semibold mr-3",children:s.condition_status}),l.jsx("span",{className:`text-sm font-semibold ${s.quantity>0?"text-[#B8860B]":"text-red-400"}`,children:s.quantity>0?`${s.quantity} in stock`:"Out of stock"})]}),l.jsxs("p",{className:"text-3xl font-bold text-[#8B2332]",children:["$",parseFloat(s.price).toFixed(2)]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-2 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Description"}),l.jsx("p",{className:"text-[#D4CFC0]",style:{fontFamily:"'Roboto Slab', serif"},children:s.description})]}),s.quantity>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-[#D4CFC0] mb-2",children:"Quantity"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{className:"bg-[#333] text-[#F5F0E1] px-3 py-1 rounded-l hover:bg-[#444] transition-colors",onClick:()=>g>1&&m(g-1),children:"-"}),l.jsx("input",{type:"number",min:"1",max:s.quantity,value:g,onChange:A,className:"form-input-vintage w-16 text-center border-t border-b border-[#444] py-1 rounded-none"}),l.jsx("button",{className:"bg-[#333] text-[#F5F0E1] px-3 py-1 rounded-r hover:bg-[#444] transition-colors",onClick:()=>g<s.quantity&&m(g+1),children:"+"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[l.jsx("button",{onClick:C,className:`btn-vintage-red flex items-center justify-center ${s.quantity<=0||y?"opacity-50 cursor-not-allowed":""}`,disabled:s.quantity<=0||y,children:y?l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Adding..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to Cart"]})}),l.jsx(Xy,{product:s,size:"lg",variant:"button",className:"flex-shrink-0"}),l.jsx("button",{onClick:L,className:`btn-vintage-gray flex items-center justify-center ${s.quantity<=0||_?"opacity-50 cursor-not-allowed":""}`,disabled:s.quantity<=0||_,children:_?l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Buy Now"]})})]})]})]})}),l.jsx("div",{className:"mt-12",children:l.jsx(dO,{productId:s.id,productName:s.name})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-xl mb-4",children:"Product not found"}),l.jsx(_t,{to:"/products",className:"text-blue-600 hover:underline",children:"Back to Products"})]})},mO=()=>{const{cart:r,total:e,loading:t,error:n,updateQuantity:a,removeFromCart:i,clearCart:s}=Jd(),{isAuthenticated:o}=Fi(),c=as(),{isOpen:u,confirm:d,handleClose:p,handleConfirm:g,dialogProps:m}=eh(),[y,w]=V.useState(new Set),_=(L,B,M,F=null)=>{M>0&&a(L,B,M,F)},S=(L,B)=>oe(null,null,function*(){try{yield d({title:"Remove Item",message:"Are you sure you want to remove this item from your cart?",confirmText:"Remove",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});const M=`${L}-${B}`;w(F=>new Set([...F,M]));try{yield i(L,B)}finally{w(F=>{const D=new Set(F);return D.delete(M),D})}}catch(M){console.log("Item removal cancelled")}}),A=()=>oe(null,null,function*(){try{yield d({title:"Clear Cart",message:"Are you sure you want to clear your entire cart? This action cannot be undone.",confirmText:"Clear Cart",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),s()}catch(L){console.log("Clear cart cancelled")}}),C=()=>{o()?c("/checkout"):c("/login",{state:{from:"/checkout"}})};return l.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[l.jsx(Qd,{isOpen:u,onClose:p,onConfirm:g,title:m.title,message:m.message,confirmText:m.confirmText,cancelText:m.cancelText,confirmButtonClass:m.confirmButtonClass}),l.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Your Cart"}),t?l.jsx("div",{className:"text-center py-12 card",children:l.jsx(yr,{size:"xl",text:"Loading your cart...",variant:"gear"})}):n?l.jsxs("div",{className:"text-center py-12 card",children:[l.jsx("p",{className:"text-xl text-red-600 mb-6",children:n}),l.jsx(_t,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Browse Products"})]}):r.length===0?l.jsxs("div",{className:"text-center py-12 bg-[#242424] border border-[#333] rounded-lg",children:[l.jsx("p",{className:"text-xl text-[#A8A090] mb-6",children:"Your cart is empty"}),l.jsx(_t,{to:"/products",className:"btn-vintage-red inline-block",children:"Continue Shopping"})]}):l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"lg:w-2/3",children:[l.jsx("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-[#333]",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-4 text-[#F5F0E1]",children:"Product"}),l.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Price"}),l.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Quantity"}),l.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Total"}),l.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-[#444]",children:r.map(L=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 mb-2 sm:mb-0 sm:mr-4",children:L.image_url?l.jsx("img",{src:t0(L.image_url),alt:L.name,className:"w-full h-full object-cover",onError:B=>eO(B)}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-xs",children:"No image"})}),l.jsxs("div",{children:[l.jsx(_t,{to:`/products/${L.product_id}`,className:"font-semibold text-[#F5F0E1] hover:text-[#B8860B]",children:L.name}),L.stock_quantity&&L.stock_quantity<5&&l.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Only ",L.stock_quantity," left in stock!"]})]})]})}),l.jsxs("td",{className:"p-4 text-center text-[#D4CFC0]",children:["$",parseFloat(L.price).toFixed(2)]}),l.jsxs("td",{className:"p-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("button",{className:"bg-gray-200 px-2 py-1 rounded-l hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed",onClick:()=>_(L.id,L.product_id,L.quantity-1,L.stock_quantity),disabled:L.quantity<=1,children:"-"}),l.jsx("input",{type:"number",min:"1",max:L.stock_quantity||999,value:L.quantity,onChange:B=>{const M=parseInt(B.target.value);isNaN(M)||_(L.id,L.product_id,M,L.stock_quantity)},className:"w-16 text-center border-t border-b py-1"}),l.jsx("button",{className:"bg-gray-200 px-2 py-1 rounded-r hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed",onClick:()=>_(L.id,L.product_id,L.quantity+1,L.stock_quantity),disabled:L.stock_quantity&&L.quantity>=L.stock_quantity,children:"+"})]}),L.stock_quantity&&L.quantity>=L.stock_quantity&&l.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Maximum stock reached"})]}),l.jsxs("td",{className:"p-4 text-center font-semibold text-[#8B2332]",children:["$",L.subtotal?parseFloat(L.subtotal).toFixed(2):(parseFloat(L.price)*L.quantity).toFixed(2)]}),l.jsx("td",{className:"p-4 text-center",children:(()=>{const B=`${L.id}-${L.product_id}`,M=y.has(B);return l.jsx("button",{onClick:()=>S(L.id,L.product_id),className:`${M?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800"}`,"aria-label":"Remove item",disabled:M,children:M?l.jsx("svg",{className:"animate-spin h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})})()})]},L.id))})]})}),l.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between gap-4",children:[l.jsxs(_t,{to:"/products",className:"text-blue-800 hover:underline flex items-center justify-center sm:justify-start",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Continue Shopping"]}),l.jsxs("button",{onClick:A,className:"text-red-600 hover:underline flex items-center justify-center sm:justify-end",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Clear Cart"]})]})]}),l.jsx("div",{className:"lg:w-1/3",children:l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mt-6 lg:mt-0",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),l.jsxs("div",{className:"border-t border-b border-[#444] py-4 mb-4",children:[l.jsxs("div",{className:"flex justify-between mb-2 text-[#D4CFC0]",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["$",e.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:"Calculated at checkout"})]}),l.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[l.jsx("span",{children:"Tax"}),l.jsx("span",{children:"Calculated at checkout"})]})]}),l.jsxs("div",{className:"flex justify-between font-bold text-lg mb-6 text-[#F5F0E1]",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-[#8B2332]",children:["$",e.toFixed(2)]})]}),l.jsx("button",{onClick:C,className:"btn-vintage-red w-full",disabled:t||r.length===0,children:t?"Loading...":"Proceed to Checkout"})]})})]})]})},V8=()=>oe(null,null,function*(){console.log("=== FETCHING MY ORDERS ===");try{const r=yield fr.get("/orders");console.log("Orders fetched successfully:",r.data);let e=[];if(r.data&&r.data.data)e=r.data.data;else if(Array.isArray(r.data))e=r.data;else return console.warn("Unexpected response format:",r.data),[];return e.map(n=>Ft(wt({},n),{items:(n.order_items||[]).map(a=>{var i;return console.log("Transforming order item:",a),wt({id:a.id,product_id:a.product_id,quantity:a.quantity||0,price:a.price||0,product_name:((i=a.product)==null?void 0:i.name)||"Unknown Product"},a)})}))}catch(r){return console.error("Error fetching orders:",r),r.response&&(console.error("Response status:",r.response.status),console.error("Response data:",r.response.data)),[]}}),xO=()=>oe(null,null,function*(){console.log("=== CREATING TEST ORDER ===");try{const r={shipping_address:"Test Address, Test City, Test State 12345",payment_method:"test",items:[{product_id:1,quantity:1,price:10}],payment_status:"completed",transaction_id:"test_"+Date.now(),reference_number:"TEST_"+Date.now(),order_number:"ORD_"+Date.now(),first_name:"Test",last_name:"User",email:"test@example.com",city:"Test City",state:"Test State",zip_code:"12345",phone:"555-0123"},e=yield fr.post("/orders",r);return console.log("Test order created successfully:",e.data),e.data.data?[e.data.data]:[]}catch(r){return console.error("Error creating test order:",r),r.response&&(console.error("Response status:",r.response.status),console.error("Response data:",r.response.data)),[]}}),G8=r=>oe(null,null,function*(){console.log("=== FETCHING ORDER BY ID ===",r);try{const e=yield fr.get("/orders");console.log("Orders fetched successfully:",e.data);let t=[];e.data&&e.data.data?t=e.data.data:Array.isArray(e.data)&&(t=e.data);const n=t.find(a=>a.id==r);if(n){console.log("Order found:",n);const a=Ft(wt({},n),{items:(n.order_items||[]).map(i=>{var s;return console.log("Transforming order item for single order:",i),wt({id:i.id,product_id:i.product_id,quantity:i.quantity||0,price:i.price||0,product_name:((s=i.product)==null?void 0:s.name)||"Unknown Product"},i)})});return console.log("Transformed order:",a),a}else return console.log("Order not found with ID:",r),null}catch(e){return console.error("Error fetching order:",e),e.response&&(console.error("Response status:",e.response.status),console.error("Response data:",e.response.data)),null}}),vO=r=>oe(null,null,function*(){var e,t,n,a;console.log("=== CREATE ORDER API CALL ==="),console.log("Order data:",r);try{console.log("Sending request to: /orders");const i=yield fr.post("/orders",r);return console.log("Order creation response:",i.data),console.log("=== CREATE ORDER API CALL SUCCESS ==="),i.data}catch(i){throw console.error("=== CREATE ORDER API CALL ERROR ==="),console.error("Error creating order:",i),console.error("Error response:",i.response),console.error("Error message:",i.message),console.error("Error response data:",(e=i.response)==null?void 0:e.data),console.error("Error response status:",(t=i.response)==null?void 0:t.status),new Error(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to create order")}}),yO=r=>oe(null,null,function*(){return console.log("=== GET ORDER BY ID API CALL (WRAPPER) ==="),console.log("Order ID:",r),G8(r)}),wO=()=>oe(null,null,function*(){var r,e;console.log("=== GET ALL ORDERS API CALL ===");try{console.log("Fetching all orders from admin endpoint: /admin/orders");const t=yield fr.get("/admin/orders");return console.log("All orders fetched successfully:",t.data),t.data&&t.data.success?t.data.data||[]:(console.warn("Unexpected response format:",t.data),[])}catch(t){return console.error("=== GET ALL ORDERS API CALL ERROR ==="),console.error("Error fetching all orders:",t),console.error("Error response:",t.response),console.error("Error message:",t.message),console.error("Error response data:",(r=t.response)==null?void 0:r.data),console.error("Error response status:",(e=t.response)==null?void 0:e.status),[]}}),bO=(r,e)=>oe(null,null,function*(){var t,n,a,i,s;console.log("=== UPDATE ORDER STATUS API CALL ==="),console.log("Order ID:",r),console.log("New status:",e);try{console.log("Updating order status via admin endpoint: /admin/orders");const o=yield fr.put("/admin/orders",{id:r,status:e});if(console.log("Order status updated successfully:",o.data),o.data&&o.data.success)return o.data;throw new Error(((t=o.data)==null?void 0:t.message)||"Failed to update order status")}catch(o){throw console.error("=== UPDATE ORDER STATUS API CALL ERROR ==="),console.error("Error updating order status:",o),console.error("Error response:",o.response),console.error("Error message:",o.message),console.error("Error response data:",(n=o.response)==null?void 0:n.data),console.error("Error response status:",(a=o.response)==null?void 0:a.status),new Error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to update order status")}}),_O=({amount:r,onSuccess:e,customerInfo:t})=>{const[n,a]=V.useState(!1),[i,s]=V.useState(!1),{success:o}=Mn(),c=()=>oe(null,null,function*(){s(!0),setTimeout(()=>{a(!0),o("Order confirmed! You will pay cash on delivery."),e({payment_method:"cash_on_delivery",payment_status:"pending",amount:r,currency:"USD",transaction_id:`COD_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}),s(!1)},1500)});return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Cash on Delivery"}),l.jsx("p",{className:"text-green-700",children:"Pay when your order is delivered to your doorstep"})]})]})}),l.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Total Amount:"}),l.jsxs("span",{className:"font-bold text-lg",children:["$",r.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsx("span",{children:"Payment Method:"}),l.jsx("span",{children:"Cash on Delivery"})]}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsx("span",{children:"Delivery Address:"}),l.jsxs("span",{className:"text-right max-w-xs",children:[t.firstName," ",t.lastName,l.jsx("br",{}),t.address,l.jsx("br",{}),t.city,", ",t.state," ",t.zipCode]})]})]})]}),l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Notes:"}),l.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[l.jsx("li",{children:" Please keep the exact amount ready"}),l.jsx("li",{children:" Our delivery person will collect payment"}),l.jsx("li",{children:" You can inspect the product before payment"}),l.jsx("li",{children:" Delivery usually takes 2-5 business days"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"cod-terms",checked:n,onChange:u=>a(u.target.checked),className:"h-4 w-4 text-blue-600"}),l.jsxs("label",{htmlFor:"cod-terms",className:"text-sm text-gray-700",children:["I agree to pay $",r.toFixed(2)," in cash upon delivery"]})]}),l.jsx("button",{onClick:c,disabled:!n||i,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:i?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Confirm Order - Pay $${r.toFixed(2)} on Delivery`})]})},SO=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>Zs(()=>oe(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>th);return{default:n}}),void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Yy extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class EO extends Yy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p5 extends Yy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g5 extends Yy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qv;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qv||(qv={}));var AO=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};class NO{constructor(e,{headers:t={},customFetch:n,region:a=qv.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=SO(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return AO(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=t;let o={},{region:c}=t;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob!="undefined"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData!="undefined"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const p=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(w=>{throw new EO(w)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new p5(p);if(!p.ok)throw new g5(p);let m=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield p.json():m==="application/octet-stream"?y=yield p.blob():m==="text/event-stream"?y=p:m==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof g5||a instanceof p5?a.context:void 0}}})}}var $a={},ad={},id={},sd={},od={},ld={},CO=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},qd=CO();const TO=qd.fetch,W8=qd.fetch.bind(qd),X8=qd.Headers,jO=qd.Request,OO=qd.Response,th=Object.freeze(Object.defineProperty({__proto__:null,Headers:X8,Request:jO,Response:OO,default:W8,fetch:TO},Symbol.toStringTag,{value:"Module"})),RO=hC(th);var ag={},m5;function Y8(){if(m5)return ag;m5=1,Object.defineProperty(ag,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ag.default=r,ag}var x5;function K8(){if(x5)return ld;x5=1;var r=ld&&ld.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ld,"__esModule",{value:!0});const e=r(RO),t=r(Y8());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch=="undefined"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(u=>oe(this,null,function*(){var d,p,g;let m=null,y=null,w=null,_=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const B=yield u.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=B:y=JSON.parse(B))}const C=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),L=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&L&&L.length>1&&(w=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,_=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const C=yield u.text();try{m=JSON.parse(C),Array.isArray(m)&&u.status===404&&(y=[],m=null,_=200,S="OK")}catch(L){u.status===404&&C===""?(_=204,S="No Content"):m={message:C}}if(m&&this.isMaybeSingle&&(!((g=m==null?void 0:m.details)===null||g===void 0)&&g.includes("0 rows"))&&(m=null,_=200,S="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:y,count:w,status:_,statusText:S}}));return this.shouldThrowOnError||(c=c.catch(u=>{var d,p,g;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(p=u==null?void 0:u.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=u==null?void 0:u.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}}return ld.default=n,ld}var v5;function Z8(){if(v5)return od;v5=1;var r=od&&od.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(od,"__esModule",{value:!0});const e=r(K8());class t extends e.default{select(a){let i=!1;const s=(a!=null?a:"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s=="undefined"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o=="undefined"?"offset":`${o}.offset`,u=typeof o=="undefined"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const p=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return od.default=t,od}var y5;function Ky(){if(y5)return sd;y5=1;var r=sd&&sd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sd,"__esModule",{value:!0});const e=r(Z8());class t extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${u}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return sd.default=t,sd}var w5;function J8(){if(w5)return id;w5=1;var r=id&&id.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(id,"__esModule",{value:!0});const e=r(Ky());class t{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=i,this.schema=s,this.fetch=o}select(a,{head:i=!1,count:s}={}){const o=i?"HEAD":"GET";let c=!1;const u=(a!=null?a:"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&(this.headers.Prefer=`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const o="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),s||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const u=a.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(u.length>0){const d=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){const u="POST",d=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const p=a.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return id.default=t,id}var t1={},r1={},b5;function kO(){return b5||(b5=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.version=void 0,r1.version="0.0.0-automated"),r1}var _5;function LO(){if(_5)return t1;_5=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.DEFAULT_HEADERS=void 0;const r=kO();return t1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},t1}var S5;function DO(){if(S5)return ad;S5=1;var r=ad&&ad.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ad,"__esModule",{value:!0});const e=r(J8()),t=r(Ky()),n=LO();class a{constructor(s,{headers:o={},schema:c,fetch:u}={}){this.url=s,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=c,this.fetch=u}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:c=!1,get:u=!1,count:d}={}){let p;const g=new URL(`${this.url}/rpc/${s}`);let m;c||u?(p=c?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{g.searchParams.append(w,_)})):(p="POST",m=o);const y=Object.assign({},this.headers);return d&&(y.Prefer=`count=${d}`),new t.default({method:p,url:g,headers:y,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}}return ad.default=a,ad}var E5;function IO(){if(E5)return $a;E5=1;var r=$a&&$a.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($a,"__esModule",{value:!0}),$a.PostgrestError=$a.PostgrestBuilder=$a.PostgrestTransformBuilder=$a.PostgrestFilterBuilder=$a.PostgrestQueryBuilder=$a.PostgrestClient=void 0;const e=r(DO());$a.PostgrestClient=e.default;const t=r(J8());$a.PostgrestQueryBuilder=t.default;const n=r(Ky());$a.PostgrestFilterBuilder=n.default;const a=r(Z8());$a.PostgrestTransformBuilder=a.default;const i=r(K8());$a.PostgrestBuilder=i.default;const s=r(Y8());return $a.PostgrestError=s.default,$a.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},$a}var PO=IO();const FO=Ry(PO),{PostgrestClient:MO,PostgrestQueryBuilder:KG,PostgrestFilterBuilder:ZG,PostgrestTransformBuilder:JG,PostgrestBuilder:QG,PostgrestError:eW}=FO;function BO(){if(typeof WebSocket!="undefined")return WebSocket;if(typeof global.WebSocket!="undefined")return global.WebSocket;if(typeof window.WebSocket!="undefined")return window.WebSocket;if(typeof self.WebSocket!="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const UO=BO(),zO="2.11.15",HO=`realtime-js/${zO}`,qO="1.0.0",Q8=1e4,$O=1e3;var b1;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(b1||(b1={}));var Ri;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ri||(Ri={}));var al;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(al||(al={}));var $v;(function(r){r.websocket="websocket"})($v||($v={}));var Z0;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Z0||(Z0={}));class VO{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const a=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const c=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class eS{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Tn||(Tn={}));const A5=(r,e,t={})=>{var n;const a=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=GO(s,r,e,a),i),{})},GO=(r,e,t,n)=>{const a=e.find(o=>o.name===r),i=a==null?void 0:a.type,s=t[r];return i&&!n.includes(i)?tS(i,s):Vv(s)},tS=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return KO(e,t)}switch(r){case Tn.bool:return WO(e);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return XO(e);case Tn.json:case Tn.jsonb:return YO(e);case Tn.timestamp:return ZO(e);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return Vv(e);default:return Vv(e)}},Vv=r=>r,WO=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},XO=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},YO=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},KO=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const s=r.slice(1,t);try{i=JSON.parse("["+s+"]")}catch(o){i=s?s.split(","):[]}return i.map(o=>tS(e,o))}return r},ZO=r=>typeof r=="string"?r.replace(" ","T"):r,rS=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Xx{constructor(e,t,n={},a=Q8){this.channel=e,this.event=t,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var N5;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(N5||(N5={}));class _1{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_1.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=_1.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_1.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,a){const i=this.cloneDeep(e),s=this.transformState(t),o={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const p=i[u];if(p){const g=d.map(_=>_.presence_ref),m=p.map(_=>_.presence_ref),y=d.filter(_=>m.indexOf(_.presence_ref)<0),w=p.filter(_=>g.indexOf(_.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(c[u]=w)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(e,t,n,a){const{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const p=e[o].map(m=>m.presence_ref),g=d.filter(m=>p.indexOf(m.presence_ref)<0);e[o].unshift(...g)}n(o,d,c)}),this.map(s,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[o]=u,a(o,u,c),u.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const a=e[n];return"metas"in a?t[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C5;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(C5||(C5={}));var T5;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(T5||(T5={}));var kc;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(kc||(kc={}));class Zy{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Xx(this,al.join,this.params,this.timeout),this.rejoinTimer=new eS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ri.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(al.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new _1(this),this.broadcastEndpointURL=rS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ri.closed){const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(kc.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(kc.CLOSED));const c={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",p=>oe(this,[p],function*({postgres_changes:d}){var g;if(this.socket.setAuth(),d===void 0){e==null||e(kc.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,w=[];for(let _=0;_<y;_++){const S=m[_],{filter:{event:A,schema:C,table:L,filter:B}}=S,M=d&&d[_];if(M&&M.event===A&&M.schema===C&&M.table===L&&M.filter===B)w.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),this.state=Ri.errored,e==null||e(kc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(kc.SUBSCRIBED);return}})).receive("error",d=>{this.state=Ri.errored,e==null||e(kc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return oe(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return oe(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,n){return this._on(e,t,n)}send(n){return oe(this,arguments,function*(e,t={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return yield(i=d.body)===null||i===void 0?void 0:i.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,u;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ri.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(al.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Xx(this,al.leave,{},e),n.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,n){return oe(this,null,function*(){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(i),s})}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xx(this,e,t,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=al;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let g=this._onMessage(s,t,n);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,w,_;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(m=>m.callback(g,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var y,w,_,S,A,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const L=m.id,B=(y=m.filter)===null||y===void 0?void 0:y.event;return L&&((w=t.ids)===null||w===void 0?void 0:w.includes(L))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const L=(A=(S=m==null?void 0:m.filter)===null||S===void 0?void 0:S.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return L==="*"||L===((C=t==null?void 0:t.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:w,table:_,commit_timestamp:S,type:A,errors:C}=y;g=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:S,eventType:A,new:{},old:{},errors:C}),this._getPayloadRecords(y))}m.callback(g,n)})}_isClosed(){return this.state===Ri.closed}_isJoined(){return this.state===Ri.joined}_isJoining(){return this.state===Ri.joining}_isLeaving(){return this.state===Ri.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const a=e.toLocaleLowerCase(),i={type:a,filter:t,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zy.isEqual(a.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(al.close,{},e)}_onError(e){this._on(al.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ri.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=A5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=A5(e.columns,e.old_record)),t}}const j5=()=>{},JO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QO{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Q8,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=j5,this.ref=0,this.logger=j5,this.conn=null,this.sendBuffer=[],this.serializer=new VO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch=="undefined"?s=(...o)=>Zs(()=>oe(this,null,function*(){const{default:c}=yield Promise.resolve().then(()=>th);return{default:c}}),void 0).then(({default:c})=>c(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${$v.websocket}`,this.httpEndpoint=rS(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,s)=>s(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eS(()=>oe(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=UO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qO}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}removeChannel(e){return oe(this,null,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return oe(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case b1.connecting:return Z0.Connecting;case b1.open:return Z0.Open;case b1.closing:return Z0.Closing;default:return Z0.Closed}}isConnected(){return this.connectionState()===Z0.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Zy(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${t} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return oe(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const a={access_token:t,version:HO};t&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(al.access_token,{access_token:t})}))})}sendHeartbeat(){return oe(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close($O,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:a,payload:i,ref:s}=t;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(al.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${n}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([JO],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class Jy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wa(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class e9 extends Jy{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gv extends Jy{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var t9=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};const nS=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>Zs(()=>oe(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>th);return{default:n}}),void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},r9=()=>t9(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Zs(()=>Promise.resolve().then(()=>th),void 0)).Response:Response}),Wv=r=>{if(Array.isArray(r))return r.map(t=>Wv(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const a=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Wv(n)}),e};var df=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};const Yx=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),n9=(r,e,t)=>df(void 0,void 0,void 0,function*(){const n=yield r9();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{e(new e9(Yx(a),r.status||500))}).catch(a=>{e(new Gv(Yx(a),a))}):e(new Gv(Yx(r),r))}),a9=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),t))};function G1(r,e,t,n,a,i){return df(this,void 0,void 0,function*(){return new Promise((s,o)=>{r(t,a9(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>n9(c,o,n))})})}function Cm(r,e,t,n){return df(this,void 0,void 0,function*(){return G1(r,"GET",e,t,n)})}function zu(r,e,t,n,a){return df(this,void 0,void 0,function*(){return G1(r,"POST",e,n,a,t)})}function i9(r,e,t,n,a){return df(this,void 0,void 0,function*(){return G1(r,"PUT",e,n,a,t)})}function s9(r,e,t,n){return df(this,void 0,void 0,function*(){return G1(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function aS(r,e,t,n,a){return df(this,void 0,void 0,function*(){return G1(r,"DELETE",e,n,a,t)})}var ms=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};const o9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l9{constructor(e,t={},n,a){this.url=e,this.headers=t,this.bucketId=n,this.fetch=nS(a)}uploadOrUpdate(e,t,n,a){return ms(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},O5),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob!="undefined"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(t),d=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),g=yield p.json();return p.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(Wa(i))return{data:null,error:i};throw i}})}upload(e,t,n){return ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,a){return ms(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:O5.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),g=yield p.json();return p.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(Wa(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return ms(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=yield zu(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Jy("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(Wa(n))return{data:null,error:n};throw n}})}update(e,t,n){return ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return ms(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Wa(a))return{data:null,error:a};throw a}})}copy(e,t,n){return ms(this,void 0,void 0,function*(){try{return{data:{path:(yield zu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Wa(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,n){return ms(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield zu(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(Wa(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,n){return ms(this,void 0,void 0,function*(){try{const a=yield zu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(Wa(a))return{data:null,error:a};throw a}})}download(e,t){return ms(this,void 0,void 0,function*(){const a=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Cm(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Wa(o))return{data:null,error:o};throw o}})}info(e){return ms(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Cm(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Wv(n),error:null}}catch(n){if(Wa(n))return{data:null,error:n};throw n}})}exists(e){return ms(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield s9(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Wa(n)&&n instanceof Gv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&a.push(i);const o=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return ms(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Wa(t))return{data:null,error:t};throw t}})}list(e,t,n){return ms(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},o9),t),{prefix:e||""});return{data:yield zu(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Wa(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const c9="2.7.1",u9={"X-Client-Info":`storage-js/${c9}`};var cd=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};class f9{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},u9),t),this.fetch=nS(n)}listBuckets(){return cd(this,void 0,void 0,function*(){try{return{data:yield Cm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Wa(e))return{data:null,error:e};throw e}})}getBucket(e){return cd(this,void 0,void 0,function*(){try{return{data:yield Cm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Wa(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return cd(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wa(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return cd(this,void 0,void 0,function*(){try{return{data:yield i9(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Wa(n))return{data:null,error:n};throw n}})}emptyBucket(e){return cd(this,void 0,void 0,function*(){try{return{data:yield zu(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Wa(t))return{data:null,error:t};throw t}})}deleteBucket(e){return cd(this,void 0,void 0,function*(){try{return{data:yield aS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Wa(t))return{data:null,error:t};throw t}})}}class d9 extends f9{constructor(e,t={},n){super(e,t,n)}from(e){return new l9(this.url,this.headers,e,this.fetch)}}const h9="2.52.0";let g1="";typeof Deno!="undefined"?g1="deno":typeof document!="undefined"?g1="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?g1="react-native":g1="node";const p9={"X-Client-Info":`supabase-js-${g1}/${h9}`},g9={headers:p9},m9={schema:"public"},x9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v9={};var y9=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};const w9=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=W8:e=fetch,(...t)=>e(...t)},b9=()=>typeof Headers=="undefined"?X8:Headers,_9=(r,e,t)=>{const n=w9(t),a=b9();return(i,s)=>y9(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:r;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var S9=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};function E9(r){return r.endsWith("/")?r:r+"/"}function A9(r,e){var t,n;const{db:a,auth:i,realtime:s,global:o}=r,{db:c,auth:u,realtime:d,global:p}=e,g={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(t=p==null?void 0:p.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>S9(this,void 0,void 0,function*(){return""})};return r.accessToken?g.accessToken=r.accessToken:delete g.accessToken,g}const iS="2.71.1",Ad=30*1e3,Xv=3,Kx=Xv*Ad,N9="http://localhost:9999",C9="supabase.auth.token",T9={"X-Client-Info":`gotrue-js/${iS}`},Yv="X-Supabase-Api-Version",sS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O9=10*60*1e3;class Qy extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function hr(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class R9 extends Qy{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function k9(r){return hr(r)&&r.name==="AuthApiError"}class oS extends Qy{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class r0 extends Qy{constructor(e,t,n,a){super(e,n,a),this.name=t,this.status=n}}class Uu extends r0{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L9(r){return hr(r)&&r.name==="AuthSessionMissingError"}class ig extends r0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sg extends r0{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class og extends r0{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D9(r){return hr(r)&&r.name==="AuthImplicitGrantRedirectError"}class R5 extends r0{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kv extends r0{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Zx(r){return hr(r)&&r.name==="AuthRetryableFetchError"}class k5 extends r0{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Zv extends r0{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L5=` 	
\r=`.split(""),I9=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<L5.length;e+=1)r[L5[e].charCodeAt(0)]=-2;for(let e=0;e<Tm.length;e+=1)r[Tm[e].charCodeAt(0)]=e;return r})();function D5(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Tm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Tm[n]),e.queuedBits-=6}}function lS(r,e,t){const n=I9[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function I5(r){const e=[],t=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{M9(s,n,t)};for(let s=0;s<r.length;s+=1)lS(r.charCodeAt(s),a,i);return e.join("")}function P9(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function F9(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}P9(n,e)}}function M9(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function B9(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)lS(r.charCodeAt(a),t,n);return new Uint8Array(e)}function U9(r){const e=[];return F9(r,t=>e.push(t)),new Uint8Array(e)}function z9(r){const e=[],t={queue:0,queuedBits:0},n=a=>{e.push(a)};return r.forEach(a=>D5(a,t,n)),D5(null,t,n),e.join("")}function H9(r){return Math.round(Date.now()/1e3)+r}function q9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const tl=()=>typeof window!="undefined"&&typeof document!="undefined",U0={tested:!1,writable:!1},cS=()=>{if(!tl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(U0.tested)return U0.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),U0.tested=!0,U0.writable=!0}catch(e){U0.tested=!0,U0.writable=!1}return U0.writable};function $9(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch(n){}return t.searchParams.forEach((n,a)=>{e[a]=n}),e}const uS=r=>{let e;return r?e=r:typeof fetch=="undefined"?e=(...t)=>Zs(()=>oe(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>th);return{default:n}}),void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},V9=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Nd=(r,e,t)=>oe(null,null,function*(){yield r.setItem(e,JSON.stringify(t))}),z0=(r,e)=>oe(null,null,function*(){const t=yield r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(n){return t}}),Lu=(r,e)=>oe(null,null,function*(){yield r.removeItem(e)});class u2{constructor(){this.promise=new u2.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}u2.promiseConstructor=Promise;function Jx(r){const e=r.split(".");if(e.length!==3)throw new Zv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!j9.test(e[n]))throw new Zv("JWT not in base64url format");return{header:JSON.parse(I5(e[0])),payload:JSON.parse(I5(e[1])),signature:B9(e[2]),raw:{header:e[0],payload:e[1]}}}function G9(r){return oe(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),r)})})}function W9(r,e){return new Promise((n,a)=>{oe(null,null,function*(){for(let i=0;i<1/0;i++)try{const s=yield r(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})})}function X9(r){return("0"+r.toString(16)).substr(-2)}function Y9(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let a="";for(let i=0;i<56;i++)a+=t.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,X9).join("")}function K9(r){return oe(this,null,function*(){const t=new TextEncoder().encode(r),n=yield crypto.subtle.digest("SHA-256",t),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")})}function Z9(r){return oe(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=yield K9(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ud(r,e,t=!1){return oe(this,null,function*(){const n=Y9();let a=n;t&&(a+="/PASSWORD_RECOVERY"),yield Nd(r,`${e}-code-verifier`,a);const i=yield Z9(n);return[i,n===i?"plain":"s256"]})}const J9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q9(r){const e=r.headers.get(Yv);if(!e||!e.match(J9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}function eR(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function tR(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fd(r){if(!rR.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qx(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P5(r){return JSON.parse(JSON.stringify(r))}var nR=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};const X0=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),aR=[502,503,504];function F5(r){return oe(this,null,function*(){var e;if(!V9(r))throw new Kv(X0(r),0);if(aR.includes(r.status))throw new Kv(X0(r),r.status);let t;try{t=yield r.json()}catch(i){throw new oS(X0(i),i)}let n;const a=Q9(r);if(a&&a.getTime()>=sS["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new k5(X0(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Uu}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new k5(X0(t),r.status,t.weak_password.reasons);throw new R9(X0(t),r.status||500,n)})}const iR=(r,e,t,n)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),t))};function Or(r,e,t,n){return oe(this,null,function*(){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Yv]||(i[Yv]=sS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield sR(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}})}function sR(r,e,t,n,a,i){return oe(this,null,function*(){const s=iR(e,n,a,i);let o;try{o=yield r(t,Object.assign({},s))}catch(c){throw console.error(c),new Kv(X0(c),0)}if(o.ok||(yield F5(o)),n!=null&&n.noResolveJson)return o;try{return yield o.json()}catch(c){yield F5(c)}})}function Rc(r){var e;let t=null;uR(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=H9(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function M5(r){const e=Rc(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function qu(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function oR(r){return{data:r,error:null}}function lR(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i}=r,s=nR(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function cR(r){return r}function uR(r){return r.access_token&&r.refresh_token&&r.expires_in}const ev=["global","local","others"];var fR=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t};class dR{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=uS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n){return oe(this,arguments,function*(e,t=ev[0]){if(ev.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ev.join(", ")}`);try{return yield Or(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(hr(a))return{data:null,error:a};throw a}})}inviteUserByEmail(n){return oe(this,arguments,function*(e,t={}){try{return yield Or(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:qu})}catch(a){if(hr(a))return{data:{user:null},error:a};throw a}})}generateLink(e){return oe(this,null,function*(){try{const{options:t}=e,n=fR(e,["options"]),a=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),yield Or(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:lR,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(hr(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return oe(this,null,function*(){try{return yield Or(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qu})}catch(t){if(hr(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return oe(this,null,function*(){var t,n,a,i,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=yield Or(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:cR});if(d.error)throw d.error;const p=yield d.json(),g=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(hr(u))return{data:{users:[]},error:u};throw u}})}getUserById(e){return oe(this,null,function*(){fd(e);try{return yield Or(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qu})}catch(t){if(hr(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return oe(this,null,function*(){fd(e);try{return yield Or(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:qu})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,t=!1){return oe(this,null,function*(){fd(e);try{return yield Or(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:qu})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return oe(this,null,function*(){fd(e.userId);try{const{data:t,error:n}=yield Or(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:n}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return oe(this,null,function*(){fd(e.userId),fd(e.id);try{return{data:yield Or(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}}function B5(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function hR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(r){typeof self!="undefined"&&(self.globalThis=self)}}const dd={debug:!!(globalThis&&cS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pR extends fS{}function gR(r,e,t){return oe(this,null,function*(){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),dd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},a=>oe(null,null,function*(){if(a){dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return yield t()}finally{dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new pR(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(dd.debug)try{const i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}hR();const mR={url:N9,storageKey:C9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function U5(r,e,t){return oe(this,null,function*(){return yield t()})}const hd={};class L1{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=L1.nextInstanceID,L1.nextInstanceID+=1,this.instanceID>0&&tl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},mR),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dR({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=uS(a.fetch),this.lock=a.lock||U5,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:tl()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=gR:this.lock=U5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:cS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=B5(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=B5(this.memoryStorage)),tl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",i=>oe(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}get jwks(){var e,t;return(t=(e=hd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=hd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hd[this.storageKey]=Object.assign(Object.assign({},hd[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iS}) ${new Date().toISOString()}`,...e),this}initialize(){return oe(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=oe(this,null,function*(){return yield this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return oe(this,null,function*(){var e;try{const t=$9(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":(yield this._isPKCECallback(t))&&(n="pkce"),tl()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=yield this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),D9(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return yield this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),yield this._saveSession(s),setTimeout(()=>oe(this,null,function*(){o==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return hr(t)?{error:t}:{error:new oS("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return oe(this,null,function*(){var t,n,a;try{const i=yield Or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Rc}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(hr(i))return{data:{user:null,session:null},error:i};throw i}})}signUp(e){return oe(this,null,function*(){var t,n,a;try{let i;if("email"in e){const{email:d,password:p,options:g}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=yield ud(this.storage,this.storageKey)),i=yield Or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:y},xform:Rc})}else if("phone"in e){const{phone:d,password:p,options:g}=e;i=yield Or(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Rc})}else throw new sg("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(hr(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){return oe(this,null,function*(){try{let t;if("email"in e){const{email:i,password:s,options:o}=e;t=yield Or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:M5})}else if("phone"in e){const{phone:i,password:s,options:o}=e;t=yield Or(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:M5})}else throw new sg("You must provide either an email or phone number and a password");const{data:n,error:a}=t;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ig}:(n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return oe(this,null,function*(){var t,n,a,i;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(e){return oe(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>oe(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return oe(this,null,function*(){const{chain:t}=e;if(t==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)})}signInWithSolana(e){return oe(this,null,function*(){var t,n,a,i,s,o,c,u,d,p,g,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:_,wallet:S,statement:A,options:C}=e;let L;if(tl())if(typeof S=="object")L=S;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))L=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=S}const B=new URL((t=C==null?void 0:C.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in L&&L.signIn){const M=yield L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),A?{statement:A}:null));let F;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")F=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)F=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)y=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),w=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${B.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(a=(n=C==null?void 0:C.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=C==null?void 0:C.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((s=C==null?void 0:C.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(d=C==null?void 0:C.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const M=yield L.signMessage(new TextEncoder().encode(y),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=M}}try{const{data:_,error:S}=yield Or(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:z9(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Rc});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ig}:(_.session&&(yield this._saveSession(_.session),yield this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(hr(_))return{data:{user:null,session:null},error:_};throw _}})}_exchangeCodeForSession(e){return oe(this,null,function*(){const t=yield z0(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(t!=null?t:"").split("/");try{const{data:i,error:s}=yield Or(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Rc});if(yield Lu(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ig}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a!=null?a:null}),error:s})}catch(i){if(hr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}})}signInWithIdToken(e){return oe(this,null,function*(){try{const{options:t,provider:n,token:a,access_token:i,nonce:s}=e,o=yield Or(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Rc}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ig}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return oe(this,null,function*(){var t,n,a,i,s;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=yield ud(this.storage,this.storageKey));const{error:p}=yield Or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=yield Or(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new sg("You must provide either an email or phone number.")}catch(o){if(hr(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){return oe(this,null,function*(){var t,n;try{let a,i;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=yield Or(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Rc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(hr(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithSSO(e){return oe(this,null,function*(){var t,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=yield ud(this.storage,this.storageKey)),yield Or(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:oR})}catch(i){if(hr(i))return{data:null,error:i};throw i}})}reauthenticate(){return oe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return oe(this,null,function*(){try{return yield this._useSession(e=>oe(this,null,function*(){const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Uu;const{error:a}=yield Or(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}}))}catch(e){if(hr(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return oe(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=yield Or(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=yield Or(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new sg("You must provide either an email or phone number and a type")}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return oe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){return this._useSession(t=>oe(this,null,function*(){return t}))}))})}_acquireLock(e,t){return oe(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=oe(this,null,function*(){return yield n,yield t()});return this.pendingInLock.push(oe(this,null,function*(){try{yield a}catch(i){}})),a}return yield this.lock(`lock:${this.storageKey}`,e,()=>oe(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push(oe(this,null,function*(){try{yield n}catch(a){}})),yield n;this.pendingInLock.length;){const a=[...this.pendingInLock];yield Promise.all(a),this.pendingInLock.splice(0,a.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return oe(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return oe(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield z0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Kx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=yield z0(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Qx()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return oe(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return oe(this,null,function*(){try{return e?yield Or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qu}):yield this._useSession(t=>oe(this,null,function*(){var n,a,i;const{data:s,error:o}=t;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Uu}:yield Or(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:qu})}))}catch(t){if(hr(t))return L9(t)&&(yield this._removeSession(),yield Lu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(n){return oe(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(n){return oe(this,arguments,function*(e,t={}){try{return yield this._useSession(a=>oe(this,null,function*(){const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Uu;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield ud(this.storage,this.storageKey));const{data:d,error:p}=yield Or(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:qu});if(p)throw p;return o.user=d.user,yield this._saveSession(o),yield this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(a){if(hr(a))return{data:{user:null},error:a};throw a}})}setSession(e){return oe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return oe(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new Uu;const t=Date.now()/1e3;let n=t,a=!0,i=null;const{payload:s}=Jx(e.access_token);if(s.exp&&(n=s.exp,a=n<=t),a){const{session:o,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=yield this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(hr(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return oe(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return oe(this,null,function*(){try{return yield this._useSession(t=>oe(this,null,function*(){var n;if(!e){const{data:s,error:o}=t;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Uu;const{session:a,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return oe(this,null,function*(){try{if(!tl())throw new og("No browser detected.");if(e.error||e.error_description||e.error_code)throw new og(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new R5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new og("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new R5("No code detected.");const{data:A,error:C}=yield this._exchangeCodeForSession(e.code);if(C)throw C;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!s||!u)throw new og("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(o);let g=d+p;c&&(g=parseInt(c));const m=g-d;m*1e3<=Ad&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const y=g-p;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:w,error:_}=yield this._getUser(i);if(_)throw _;const S={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:g,refresh_token:s,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(hr(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return oe(this,null,function*(){const t=yield z0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return oe(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return oe(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>oe(this,null,function*(){var n;const{data:a,error:i}=t;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=yield this.admin.signOut(s,e);if(o&&!(k9(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(yield this._removeSession(),yield Lu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t=q9(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),oe(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:n}}}_emitInitialSession(e){return oe(this,null,function*(){return yield this._useSession(t=>oe(this,null,function*(){var n,a;try{const{data:{session:i},error:s}=t;if(s)throw s;yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){yield(a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))})}resetPasswordForEmail(n){return oe(this,arguments,function*(e,t={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=yield ud(this.storage,this.storageKey,!0));try{return yield Or(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(hr(s))return{data:null,error:s};throw s}})}getUserIdentities(){return oe(this,null,function*(){var e;try{const{data:t,error:n}=yield this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}})}linkIdentity(e){return oe(this,null,function*(){var t;try{const{data:n,error:a}=yield this._useSession(i=>oe(this,null,function*(){var s,o,c,u,d;const{data:p,error:g}=i;if(g)throw g;const m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield Or(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(a)throw a;return tl()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(hr(n))return{data:{provider:e.provider,url:null},error:n};throw n}})}unlinkIdentity(e){return oe(this,null,function*(){try{return yield this._useSession(t=>oe(this,null,function*(){var n,a;const{data:i,error:s}=t;if(s)throw s;return yield Or(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})}))}catch(t){if(hr(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return oe(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return yield W9(a=>oe(this,null,function*(){return a>0&&(yield G9(200*Math.pow(2,a-1))),this._debug(t,"refreshing attempt",a),yield Or(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rc})}),(a,i)=>{const s=200*Math.pow(2,a);return i&&Zx(i)&&Date.now()+s-n<Ad})}catch(n){if(this._debug(t,"error",n),hr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return oe(this,null,function*(){const n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),tl()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return oe(this,null,function*(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=yield z0(this.storage,this.storageKey);if(a&&this.userStorage){let s=yield z0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},yield Nd(this.userStorage,this.storageKey+"-user",s)),a.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Qx()}else if(a&&!a.user&&!a.user){const s=yield z0(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,yield Lu(this.storage,this.storageKey+"-user"),yield Nd(this.storage,this.storageKey,a)):a.user=Qx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&(yield this._removeSession());return}const i=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Kx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Kx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=yield this._callRefreshToken(a.refresh_token);s&&(console.error(s),Zx(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=yield this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else yield this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}})}_callRefreshToken(e){return oe(this,null,function*(){var t,n;if(!e)throw new Uu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new u2;const{data:i,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Uu;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),hr(i)){const s={session:null,error:i};return Zx(i)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}})}_notifyAllSubscribers(e,t,n=!0){return oe(this,null,function*(){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(o=>oe(this,null,function*(){try{yield o.callback(e,t)}catch(c){i.push(c)}}));if(yield Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}})}_saveSession(e){return oe(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&(yield Nd(this.userStorage,this.storageKey+"-user",{user:t.user}));const a=Object.assign({},t);delete a.user;const i=P5(a);yield Nd(this.storage,this.storageKey,i)}else{const a=P5(t);yield Nd(this.storage,this.storageKey,a)}})}_removeSession(){return oe(this,null,function*(){this._debug("#_removeSession()"),yield Lu(this.storage,this.storageKey),yield Lu(this.storage,this.storageKey+"-code-verifier"),yield Lu(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Lu(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return oe(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ad);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>oe(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return oe(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return oe(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return oe(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return oe(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>oe(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>oe(this,null,function*(){const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Ad);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ad}ms, refresh threshold is ${Xv} ticks`),a<=Xv&&(yield this._callRefreshToken(n.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof fS)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return oe(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!tl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>oe(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return oe(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>oe(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,n){return oe(this,null,function*(){const a=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=yield ud(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`})}_unenroll(e){return oe(this,null,function*(){try{return yield this._useSession(t=>oe(this,null,function*(){var n;const{data:a,error:i}=t;return i?{data:null,error:i}:yield Or(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})}))}catch(t){if(hr(t))return{data:null,error:t};throw t}})}_enroll(e){return oe(this,null,function*(){try{return yield this._useSession(t=>oe(this,null,function*(){var n,a;const{data:i,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield Or(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(t){if(hr(t))return{data:null,error:t};throw t}})}_verify(e){return oe(this,null,function*(){return this._acquireLock(-1,()=>oe(this,null,function*(){try{return yield this._useSession(t=>oe(this,null,function*(){var n;const{data:a,error:i}=t;if(i)return{data:null,error:i};const{data:s,error:o}=yield Or(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}))}catch(t){if(hr(t))return{data:null,error:t};throw t}}))})}_challenge(e){return oe(this,null,function*(){return this._acquireLock(-1,()=>oe(this,null,function*(){try{return yield this._useSession(t=>oe(this,null,function*(){var n;const{data:a,error:i}=t;return i?{data:null,error:i}:yield Or(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})}))}catch(t){if(hr(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return oe(this,null,function*(){const{data:t,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return oe(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}})}_getAuthenticatorAssuranceLevel(){return oe(this,null,function*(){return this._acquireLock(-1,()=>oe(this,null,function*(){return yield this._useSession(e=>oe(this,null,function*(){var t,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Jx(a.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(n){return oe(this,arguments,function*(e,t={keys:[]}){let a=t.keys.find(c=>c.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(c=>c.kid===e),a&&this.jwks_cached_at+O9>i)return a;const{data:s,error:o}=yield Or(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(c=>c.kid===e),!a)?null:a})}getClaims(n){return oe(this,arguments,function*(e,t={}){try{let a=e;if(!a){const{data:y,error:w}=yield this.getSession();if(w||!y.session)return{data:null,error:w};a=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:c,payload:u}}=Jx(a);t!=null&&t.allowExpired||eR(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:y}=yield this.getUser(a);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const p=tR(i.alg),g=yield crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!(yield crypto.subtle.verify(p,g,o,U9(`${c}.${u}`))))throw new Zv("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(a){if(hr(a))return{data:null,error:a};throw a}})}}L1.nextInstanceID=0;const xR=L1;class vR extends xR{constructor(e){super(e)}}var yR=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})};class wR{constructor(e,t,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=E9(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:m9,realtime:v9,auth:Object.assign(Object.assign({},x9),{storageKey:u}),global:g9},p=A9(n!=null?n:{},d);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=_9(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new MO(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new NO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new d9(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return yR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:c},u,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vR({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new QO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bR=(r,e,t)=>new wR(r,e,t),_R="https://uwizdypmlvfvegklnogq.supabase.co",SR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3aXpkeXBtbHZmdmVna2xub2dxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5Mzk3MDUsImV4cCI6MjA2NjUxNTcwNX0.KQ3_XiXJERD7mA4iZOaon82hcR7g6PBigelW_rie7Ew",Du=bR(_R,SR,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});class ER{constructor(){this.supabaseUrl=void 0}sendOrderConfirmation(e){return oe(this,null,function*(){try{console.log(" Sending order confirmation email for order:",e.id);const t=yield this.prepareOrderEmailData(e,"order_confirmation"),{data:n,error:a}=yield Du.functions.invoke("send-order-email",{body:{type:"order_confirmation",data:t}});if(a)throw console.error(" Failed to send order confirmation email:",a),a;return console.log(" Order confirmation email sent successfully:",n),n}catch(t){throw console.error(" Email service error:",t),new Error(`Failed to send order confirmation email: ${t.message}`)}})}sendOrderStatusUpdate(e,t){return oe(this,null,function*(){try{console.log(` Sending order status update email: ${t} for order:`,e.id);const n=this.getEmailTypeFromStatus(t),a=yield this.prepareOrderEmailData(e,n),{data:i,error:s}=yield Du.functions.invoke("send-order-email",{body:{type:n,data:a}});if(s)throw console.error(" Failed to send order status email:",s),s;return console.log(" Order status email sent successfully:",i),i}catch(n){throw console.error(" Email service error:",n),new Error(`Failed to send order status email: ${n.message}`)}})}sendWelcomeEmail(e){return oe(this,null,function*(){try{console.log(" Sending welcome email to:",e.email);const{data:t,error:n}=yield Du.functions.invoke("send-order-email",{body:{type:"welcome",data:{userEmail:e.email,userName:`${e.first_name} ${e.last_name}`,userId:e.id}}});if(n)throw console.error(" Failed to send welcome email:",n),n;return console.log(" Welcome email sent successfully:",t),t}catch(t){console.error(" Email service error:",t),console.warn(" Welcome email failed, but continuing...")}})}prepareOrderEmailData(e,t){return oe(this,null,function*(){try{const{data:n,error:a}=yield Du.from("users").select("first_name, last_name, email").eq("id",e.user_id).single();if(a)throw new Error(`Failed to fetch user data: ${a.message}`);const{data:i,error:s}=yield Du.from("order_items").select(`
          quantity,
          price,
          products (
            name,
            description
          )
        `).eq("order_id",e.id);if(s)throw new Error(`Failed to fetch order items: ${s.message}`);const o=i.map(u=>({name:u.products.name,quantity:u.quantity,price:parseFloat(u.price),total:u.quantity*parseFloat(u.price)}));return{orderId:e.id,userEmail:n.email,userName:`${n.first_name} ${n.last_name}`,orderTotal:parseFloat(e.total_amount),orderItems:o,orderStatus:e.status,shippingAddress:{address:e.shipping_address||"",city:e.shipping_city||"",state:e.shipping_state||"",zipCode:e.shipping_zip_code||""},billingAddress:{address:e.billing_address||e.shipping_address||"",city:e.billing_city||e.shipping_city||"",state:e.billing_state||e.shipping_state||"",zipCode:e.billing_zip_code||e.shipping_zip_code||""},paymentMethod:e.payment_method||"Not specified",orderDate:new Date(e.created_at).toLocaleDateString(),estimatedDelivery:this.calculateEstimatedDelivery(e.created_at)}}catch(n){throw console.error(" Error preparing email data:",n),n}})}getEmailTypeFromStatus(e){return{pending:"order_confirmation",processing:"order_processing",shipped:"order_shipped",delivered:"order_delivered",cancelled:"order_cancelled"}[e]||"order_status_update"}calculateEstimatedDelivery(e){const t=new Date(e),n=new Date(t);return n.setDate(n.getDate()+7),n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getEmailLogs(e){return oe(this,null,function*(){try{const{data:t,error:n}=yield Du.from("email_logs").select("*").eq("order_id",e).order("created_at",{ascending:!1});if(n)throw n;return t}catch(t){throw console.error(" Error fetching email logs:",t),t}})}resendOrderEmail(e,t){return oe(this,null,function*(){try{const{data:n,error:a}=yield Du.from("orders").select("*").eq("id",e).single();if(a)throw new Error(`Failed to fetch order: ${a.message}`);return t==="order_confirmation"?yield this.sendOrderConfirmation(n):yield this.sendOrderStatusUpdate(n,n.status)}catch(n){throw console.error(" Error resending email:",n),n}})}testEmailConfiguration(){return oe(this,null,function*(){try{console.log(" Testing email configuration...");const{data:e,error:t}=yield Du.functions.invoke("send-order-email",{body:{type:"test",data:{userEmail:"test@example.com",userName:"Test User",orderId:"TEST-"+Date.now(),orderTotal:99.99,orderItems:[{name:"Test Product",quantity:1,price:99.99}],orderStatus:"pending",shippingAddress:{address:"123 Test St",city:"Test City",state:"TS",zipCode:"12345"}}}});if(t)throw console.error(" Email test error:",t),t;return console.log(" Email test successful:",e),{success:!0,message:"Email configuration is working correctly",data:e}}catch(e){console.error(" Email configuration test failed:",e);let t=e.message;return e.message.includes("domain")?t=`Domain verification issue. Try using a default email provider domain like 'onboarding@resend.dev' instead of a custom domain. Original error: ${e.message}`:e.message.includes("API key")?t=`API key issue. Check that your email provider API key is correctly set in Supabase environment variables. Original error: ${e.message}`:e.message.includes("Function not found")&&(t=`Edge function not deployed. Run 'supabase functions deploy send-order-email' to deploy the email function. Original error: ${e.message}`),{success:!1,error:t}}})}}const dS=new ER,AR=({amount:r,onSuccess:e,customerInfo:t})=>{const[n,a]=V.useState(!1),[i,s]=V.useState(!1),{success:o}=Mn(),c=`YRD${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`,u={bankName:"First National Bank",accountName:"Yamaha RD Parts Ltd",accountNumber:"1234567890",routingNumber:"021000021",reference:c},d=()=>oe(null,null,function*(){s(!0),setTimeout(()=>{o("Order confirmed! Please complete the bank transfer to process your order."),e({payment_method:"bank_transfer",payment_status:"pending_payment",amount:r,currency:"USD",reference_number:c,transaction_id:`BT_${c}`}),s(!1)},1e3)}),p=g=>{navigator.clipboard.writeText(g),o("Copied to clipboard!")};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"h-6 w-6 text-blue-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Bank Transfer"}),l.jsx("p",{className:"text-blue-700",children:"Transfer money directly to our bank account"})]})]})}),l.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Bank Transfer Details"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Bank Name:"}),l.jsx("p",{className:"font-medium",children:u.bankName})]}),l.jsx("button",{onClick:()=>p(u.bankName),className:"text-blue-600 hover:text-blue-800",children:""})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Account Name:"}),l.jsx("p",{className:"font-medium",children:u.accountName})]}),l.jsx("button",{onClick:()=>p(u.accountName),className:"text-blue-600 hover:text-blue-800",children:""})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Account Number:"}),l.jsx("p",{className:"font-medium",children:u.accountNumber})]}),l.jsx("button",{onClick:()=>p(u.accountNumber),className:"text-blue-600 hover:text-blue-800",children:""})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Routing Number:"}),l.jsx("p",{className:"font-medium",children:u.routingNumber})]}),l.jsx("button",{onClick:()=>p(u.routingNumber),className:"text-blue-600 hover:text-blue-800",children:""})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-yellow-50 rounded border border-yellow-200",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-yellow-700",children:"Reference Number:"}),l.jsx("p",{className:"font-bold text-yellow-800",children:u.reference}),l.jsx("p",{className:"text-xs text-yellow-600",children:" Include this in transfer description"})]}),l.jsx("button",{onClick:()=>p(u.reference),className:"text-yellow-700 hover:text-yellow-900",children:""})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded border border-green-200",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-green-700",children:"Amount to Transfer:"}),l.jsxs("p",{className:"font-bold text-green-800 text-lg",children:["$",r.toFixed(2)," USD"]})]}),l.jsx("button",{onClick:()=>p(r.toFixed(2)),className:"text-green-700 hover:text-green-900",children:""})]})]})]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Transfer Instructions:"}),l.jsxs("ol",{className:"text-sm text-orange-700 space-y-1 list-decimal list-inside",children:[l.jsx("li",{children:"Log into your online banking or visit your bank"}),l.jsx("li",{children:"Set up a new transfer to the account details above"}),l.jsxs("li",{children:["Enter the exact amount: ",l.jsxs("strong",{children:["$",r.toFixed(2)]})]}),l.jsxs("li",{children:["Include reference number: ",l.jsx("strong",{children:u.reference})]}),l.jsx("li",{children:"Complete the transfer"}),l.jsx("li",{children:"Your order will be processed within 1-2 business days"})]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Important:"}),l.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[l.jsx("li",{children:" Transfer fees may apply from your bank"}),l.jsx("li",{children:" International transfers may take 3-5 business days"}),l.jsx("li",{children:" Always include the reference number"}),l.jsx("li",{children:" Keep your transfer receipt for records"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"transfer-terms",checked:n,onChange:g=>a(g.target.checked),className:"h-4 w-4 text-blue-600"}),l.jsx("label",{htmlFor:"transfer-terms",className:"text-sm text-gray-700",children:"I understand the transfer instructions and will complete the payment"})]}),l.jsx("button",{onClick:d,disabled:!n||i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:i?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Confirm Order - I Will Transfer the Money"})]})},NR=({amount:r,onSuccess:e,customerInfo:t})=>{const[n,a]=V.useState(!1),[i,s]=V.useState(!1),{success:o}=Mn(),c=`YRD-${Date.now()}`,u={company:"Yamaha RD Parts",address:"123 Motorcycle Lane",city:"Bike City",state:"BC",zipCode:"12345",country:"USA"},d=()=>oe(null,null,function*(){s(!0),setTimeout(()=>{o("Order confirmed! Please mail your check to complete the purchase."),e({payment_method:"check",payment_status:"pending_payment",amount:r,currency:"USD",order_number:c,transaction_id:`CHECK_${c}`}),s(!1)},1e3)}),p=()=>{const g=`${u.company}
${u.address}
${u.city}, ${u.state} ${u.zipCode}
${u.country}`;navigator.clipboard.writeText(g),o("Address copied to clipboard!")};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"card p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"h-6 w-6 text-emerald-400 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Check / Money Order"}),l.jsx("p",{className:"text-slate-300",children:"Mail us a check or money order"})]})]})}),l.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold mb-3",children:"Payment Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Order Number:"}),l.jsx("span",{className:"font-bold",children:c})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Amount to Pay:"}),l.jsxs("span",{className:"font-bold text-lg",children:["$",r.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Make Check Payable To:"}),l.jsx("span",{className:"font-medium",children:u.company})]})]})]}),l.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("h4",{className:"font-semibold",children:"Mailing Address"}),l.jsx("button",{onClick:p,className:"text-blue-600 hover:text-blue-800 text-sm",children:" Copy Address"})]}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-blue-500",children:[l.jsx("p",{className:"font-medium",children:u.company}),l.jsx("p",{children:u.address}),l.jsxs("p",{children:[u.city,", ",u.state," ",u.zipCode]}),l.jsx("p",{children:u.country})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Check Writing Instructions:"}),l.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:["Write check for exactly ",l.jsxs("strong",{children:["$",r.toFixed(2)]})]}),l.jsxs("li",{children:["Make payable to: ",l.jsx("strong",{children:u.company})]}),l.jsxs("li",{children:["Write order number ",l.jsx("strong",{children:c})," in memo line"]}),l.jsx("li",{children:"Include your name and order details in the envelope"}),l.jsx("li",{children:"Mail to the address above"})]})]}),l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Notes:"}),l.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[l.jsx("li",{children:" Processing begins when check is received and clears"}),l.jsx("li",{children:" Allow 7-10 business days for check processing"}),l.jsx("li",{children:" Returned checks incur a $25 fee"}),l.jsx("li",{children:" Money orders are processed faster than personal checks"}),l.jsx("li",{children:" Keep a copy of your check for records"})]})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"What to Include in Envelope:"}),l.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[l.jsxs("li",{children:[" Check or money order for $",r.toFixed(2)]}),l.jsxs("li",{children:[" Order number: ",c]}),l.jsxs("li",{children:[" Your name: ",t.firstName," ",t.lastName]}),l.jsxs("li",{children:[" Your email: ",t.email]}),l.jsx("li",{children:" Shipping address (if different from check address)"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"check-terms",checked:n,onChange:g=>a(g.target.checked),className:"h-4 w-4 text-emerald-400"}),l.jsxs("label",{htmlFor:"check-terms",className:"text-sm text-gray-700",children:["I will mail a check/money order for $",r.toFixed(2)," to the address above"]})]}),l.jsx("button",{onClick:d,disabled:!n||i,className:"btn-primary w-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:i?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Confirm Order - I Will Mail Payment"})]})},CR=()=>{var L;const{cart:r,total:e,clearCart:t}=Jd(),{user:n}=Fi(),{success:a,error:i}=Mn(),s=as(),[o,c]=V.useState({firstName:(n==null?void 0:n.first_name)||"",lastName:(n==null?void 0:n.last_name)||"",email:(n==null?void 0:n.email)||"",address:(n==null?void 0:n.address)||"",city:(n==null?void 0:n.city)||"",state:(n==null?void 0:n.state)||"",zipCode:(n==null?void 0:n.zip_code)||"",phone:(n==null?void 0:n.phone)||"",paymentMethod:"cash_on_delivery"}),[u,d]=V.useState(1),[p,g]=V.useState(!1),[m,y]=V.useState(null),w=[{id:"cash_on_delivery",name:"Cash on Delivery",description:"Pay when your order is delivered",icon:"",popular:!0},{id:"bank_transfer",name:"Bank Transfer",description:"Transfer money directly to our bank",icon:"",popular:!1},{id:"check",name:"Check / Money Order",description:"Mail us a check or money order",icon:"",popular:!1}];V.useEffect(()=>{oe(null,null,function*(){if(n)try{const M=yield Hv(),F=M.data||M;console.log(" Checkout: Profile data for pre-population:",F),c(D=>Ft(wt({},D),{firstName:F.first_name||n.first_name||"",lastName:F.last_name||n.last_name||"",email:F.email||n.email||"",address:F.address||n.address||"",city:F.city||n.city||"",state:F.state||n.state||"",zipCode:F.zip_code||n.zip_code||"",phone:F.phone||n.phone||""})),console.log(" Checkout: Form data updated with profile data")}catch(M){console.error("Error fetching user profile:",M)}})},[n]);const _=B=>{const{name:M,value:F}=B.target;c(D=>Ft(wt({},D),{[M]:F}))},S=B=>{B.preventDefault(),d(2)},A=B=>{c(M=>Ft(wt({},M),{paymentMethod:B})),d(3)},C=B=>oe(null,null,function*(){g(!0);try{const M=r.map(q=>({product_id:q.product_id||q.id,quantity:q.quantity,price:q.price})),F=`${o.firstName} ${o.lastName}, ${o.address}, ${o.city}, ${o.state} ${o.zipCode}, Phone: ${o.phone}`,D={items:M,total_amount:e,shipping_address:F,payment_method:B.payment_method,payment_status:B.payment_status,transaction_id:B.transaction_id,reference_number:B.reference_number||null,order_number:B.order_number||null,first_name:o.firstName,last_name:o.lastName,email:o.email,city:o.city,state:o.state,zip_code:o.zipCode,phone:o.phone},O=yield vO(D);if(!O||!O.order_id)throw new Error("Invalid response from server");try{console.log(" Sending order confirmation email for order:",O.order_id),yield dS.sendOrderConfirmation(O.order),console.log(" Order confirmation email sent successfully")}catch(q){console.error(" Failed to send order confirmation email:",q)}yield t(),a("Order placed successfully! Check your email for confirmation."),s(`/order-confirmation/${O.order_id}`)}catch(M){console.error("Error creating order:",M),i("Order creation failed. Please contact support.")}finally{g(!1)}});return r.length===0?(s("/cart"),null):l.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Checkout"}),l.jsxs("div",{className:"flex items-center mb-8",children:[l.jsxs("div",{className:`flex items-center ${u>=1?"text-[#B8860B]":"text-gray-500"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=1?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"1"}),l.jsx("span",{className:"ml-2",children:"Shipping"})]}),l.jsx("div",{className:`w-16 h-1 mx-4 ${u>=2?"bg-[#8B2332]":"bg-gray-600"}`}),l.jsxs("div",{className:`flex items-center ${u>=2?"text-[#B8860B]":"text-gray-500"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=2?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"2"}),l.jsx("span",{className:"ml-2",children:"Payment Method"})]}),l.jsx("div",{className:`w-16 h-1 mx-4 ${u>=3?"bg-[#8B2332]":"bg-gray-600"}`}),l.jsxs("div",{className:`flex items-center ${u>=3?"text-[#B8860B]":"text-gray-500"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=3?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"3"}),l.jsx("span",{className:"ml-2",children:"Payment"})]})]}),m&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:m}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsxs("div",{className:"lg:w-2/3",children:[u===1&&l.jsx("form",{onSubmit:S,children:l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Shipping Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"First Name"}),l.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:_,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Last Name"}),l.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:_,className:"form-input-vintage",required:!0})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"form-label-vintage",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:o.email,onChange:_,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"form-label-vintage",children:"Address"}),l.jsx("input",{type:"text",name:"address",value:o.address,onChange:_,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"City"}),l.jsx("input",{type:"text",name:"city",value:o.city,onChange:_,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"State"}),l.jsx("input",{type:"text",name:"state",value:o.state,onChange:_,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Zip Code"}),l.jsx("input",{type:"text",name:"zipCode",value:o.zipCode,onChange:_,className:"form-input-vintage",required:!0})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"form-label-vintage",children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:_,className:"form-input-vintage",required:!0})]}),l.jsx("button",{type:"submit",className:"btn-vintage-red w-full",children:"Continue to Payment Method"})]})}),u===2&&l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("button",{onClick:()=>d(1),className:"text-[#B8860B] hover:text-[#d4a50d] mr-4",children:" Back to Shipping"}),l.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Choose Payment Method"})]}),l.jsx("div",{className:"space-y-4",children:w.map(B=>l.jsxs("div",{onClick:()=>A(B.id),className:"border border-[#444] rounded-lg p-4 cursor-pointer hover:border-[#8B2332] hover:bg-[#333] transition-colors relative",children:[B.popular&&l.jsx("span",{className:"absolute top-2 right-2 bg-[#8B2332] text-white text-xs px-2 py-1 rounded",children:"Popular"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-2xl mr-4",children:B.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-[#F5F0E1]",children:B.name}),l.jsx("p",{className:"text-[#A8A090] text-sm",children:B.description})]})]})]},B.id))})]}),u===3&&l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("button",{onClick:()=>d(2),className:"text-[#B8860B] hover:text-[#d4a50d] mr-4",children:" Back to Payment Method"}),l.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Payment Details"})]}),o.paymentMethod==="cash_on_delivery"&&l.jsx(_O,{amount:e,onSuccess:C,customerInfo:o}),o.paymentMethod==="bank_transfer"&&l.jsx(AR,{amount:e,onSuccess:C,customerInfo:o}),o.paymentMethod==="check"&&l.jsx(NR,{amount:e,onSuccess:C,customerInfo:o})]})]}),l.jsx("div",{className:"lg:w-1/3",children:l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 sticky top-4",children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),l.jsx("div",{className:"mb-4",children:r.map(B=>l.jsxs("div",{className:"flex justify-between py-2 border-b border-[#444]",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-[#F5F0E1]",children:B.name}),l.jsxs("p",{className:"text-sm text-[#A8A090]",children:["Qty: ",B.quantity]})]}),l.jsxs("p",{className:"font-semibold text-[#D4CFC0]",children:["$",(parseFloat(B.price)*B.quantity).toFixed(2)]})]},B.id))}),l.jsxs("div",{className:"border-t border-[#444] pt-4 mb-4",children:[l.jsxs("div",{className:"flex justify-between mb-2 text-[#D4CFC0]",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["$",e.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[l.jsx("span",{children:"Shipping"}),l.jsx("span",{children:"$0.00"})]}),l.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[l.jsx("span",{children:"Tax"}),l.jsx("span",{children:"$0.00"})]})]}),l.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-[#444] pt-4 text-[#F5F0E1]",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-[#8B2332]",children:["$",e.toFixed(2)]})]}),u>=2&&l.jsxs("div",{className:"mt-4 p-3 bg-[#333] rounded",children:[l.jsx("p",{className:"text-sm text-[#A8A090]",children:"Payment Method:"}),l.jsx("p",{className:"font-semibold text-[#F5F0E1]",children:(L=w.find(B=>B.id===o.paymentMethod))==null?void 0:L.name})]})]})})]})]})},TR=()=>{const{id:r}=Yd(),[e,t]=V.useState(null),[n,a]=V.useState(!0),[i,s]=V.useState(null);return V.useEffect(()=>{oe(null,null,function*(){a(!0);try{const c=yield yO(r);t(c)}catch(c){s(c.message||"Failed to load order details")}finally{a(!1)}})},[r]),n?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading order details...",variant:"gear"})}):i?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-red-600 mb-4",children:i}),l.jsx(_t,{to:"/orders",className:"text-blue-600 hover:underline",children:"View All Orders"})]}):e?l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-6 py-8 rounded-lg mb-8 text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Order Confirmed!"}),l.jsx("p",{className:"text-lg",children:"Thank you for your purchase."}),l.jsxs("p",{className:"text-lg",children:["Your order number is: ",l.jsxs("span",{className:"font-semibold",children:["#",e.id||"N/A"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Order Information"}),l.jsxs("p",{children:["Order Date & Time: ",new Date(e.created_at||Date.now()).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})]}),l.jsxs("p",{children:["Status: ",l.jsx("span",{className:"capitalize",children:e.status||"pending"})]}),l.jsxs("p",{children:["Payment Method: ",e.payment_method?e.payment_method.replace("_"," "):"Not specified"]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Shipping Address"}),l.jsx("p",{children:e.shipping_address||"No shipping address provided"})]})]}),l.jsx("h3",{className:"font-semibold mb-2",children:"Order Items"}),l.jsx("div",{className:"border rounded overflow-hidden mb-4",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-3",children:"Product"}),l.jsx("th",{className:"text-center p-3",children:"Price"}),l.jsx("th",{className:"text-center p-3",children:"Quantity"}),l.jsx("th",{className:"text-right p-3",children:"Total"})]})}),l.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map(o=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-3",children:o.product_name||"Unknown Product"}),l.jsxs("td",{className:"p-3 text-center",children:["$",parseFloat(o.price||0).toFixed(2)]}),l.jsx("td",{className:"p-3 text-center",children:o.quantity||1}),l.jsxs("td",{className:"p-3 text-right",children:["$",(parseFloat(o.price||0)*(o.quantity||1)).toFixed(2)]})]},o.id)):l.jsx("tr",{className:"border-t",children:l.jsx("td",{colSpan:"4",className:"p-3 text-center text-gray-500",children:"No items found for this order"})})}),l.jsx("tfoot",{className:"bg-gray-50",children:l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{colSpan:"3",className:"p-3 text-right font-semibold",children:"Total:"}),l.jsxs("td",{className:"p-3 text-right font-bold",children:["$",parseFloat(e.total_amount||0).toFixed(2)]})]})})]})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(_t,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Continue Shopping"}),l.jsx(_t,{to:"/orders",className:"bg-gray-200 text-gray-800 px-6 py-3 rounded font-semibold hover:bg-gray-300",children:"View All Orders"})]})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-xl mb-4",children:"Order not found"}),l.jsx(_t,{to:"/orders",className:"text-blue-600 hover:underline",children:"View All Orders"})]})},z5=r=>{const e=new Date(r),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getDate().toString().padStart(2,"0"),a=t[e.getMonth()],i=e.getFullYear();return`${n}-${a}-${i}`},H0=r=>{const e=new Date(r),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getDate().toString().padStart(2,"0"),a=t[e.getMonth()],i=e.getFullYear(),s=e.getHours(),o=e.getMinutes().toString().padStart(2,"0"),c=s>=12?"PM":"AM",u=s%12||12;return`${n}-${a}-${i} ${u}:${o} ${c}`},H5=()=>{const{id:r}=Yd(),[e,t]=V.useState(null),[n,a]=V.useState(!0),[i,s]=V.useState(null),o=As(),c=new URLSearchParams(o.search).get("print")==="true";V.useEffect(()=>{oe(null,null,function*(){a(!0);try{console.log("Fetching order details for ID:",r);const p=yield G8(r);console.log("Successfully fetched order:",p),t(p)}catch(p){console.error("Error fetching order:",p),s(p.message||"Failed to load order details")}finally{a(!1)}})},[r]),V.useEffect(()=>{if(c&&e&&!n){const d=setTimeout(()=>{window.print()},1e3);return()=>clearTimeout(d)}},[c,e,n]);const u=d=>{switch(d){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-slate-600 text-slate-100"}};return n?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading order details...",variant:"gear"})}):i?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-red-600 mb-4",children:i}),l.jsx(_t,{to:"/orders",className:"text-blue-600 hover:underline",children:"Back to My Orders"})]}):e?l.jsxs("div",{className:"container mx-auto px-4 single-page",children:[l.jsx("div",{className:"mb-6 back-button",children:l.jsxs(_t,{to:"/orders",className:"text-blue-600 hover:underline flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to My Orders"]})}),l.jsxs("div",{className:"invoice-header hidden print:block",children:[l.jsx("h1",{children:"INVOICE"}),l.jsx("p",{children:"Yamaha RD Parts Shop"}),l.jsxs("p",{children:["Invoice #: ",e.id]}),l.jsxs("p",{children:["Date: ",z5(e.created_at||Date.now())]})]}),l.jsxs("div",{className:"card p-6 mb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold mb-1",children:["Order #",e.id||"N/A"]}),l.jsxs("p",{className:"text-gray-600",children:["Placed on ",H0(e.created_at||Date.now())]})]}),l.jsx("div",{className:"mt-2 md:mt-0",children:l.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${u(e.status&&typeof e.status=="string"?e.status:"pending")}`,children:e.status&&typeof e.status=="string"&&e.status.length>0?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Pending"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 order-details-grid no-break",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Shipping Information"}),l.jsx("p",{className:"text-gray-700",children:e.shipping_address||"No shipping address provided"})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Payment Information"}),l.jsxs("p",{className:"text-gray-700",children:["Method: ",e.payment_method?e.payment_method.replace("_"," "):"Not specified"]}),l.jsxs("p",{className:"text-gray-700",children:["Total: $",parseFloat(e.total_amount||0).toFixed(2)]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 order-details-grid no-break",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Billing Information"}),e.billing_info?l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-gray-700",children:e.billing_info.name}),l.jsx("p",{className:"text-gray-700",children:e.billing_info.email}),e.billing_info.phone&&l.jsx("p",{className:"text-gray-700",children:e.billing_info.phone}),e.billing_info.address&&l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-700",children:e.billing_info.address}),l.jsx("p",{className:"text-gray-700",children:[e.billing_info.city,e.billing_info.state,e.billing_info.zip_code].filter(Boolean).join(", ")})]})]}):l.jsx("p",{className:"text-gray-700",children:"No billing information available"})]}),l.jsx("div",{className:"flex justify-end items-start no-print",children:l.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 inline-flex items-center text-sm font-medium",style:{width:"auto",minWidth:"auto"},children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Invoice"]})})]}),l.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Order Items"}),l.jsx("div",{className:"border rounded overflow-hidden no-break",children:l.jsxs("table",{className:"w-full order-items",children:[l.jsx("thead",{className:"bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-3",children:"Product"}),l.jsx("th",{className:"text-center p-3",children:"Price"}),l.jsx("th",{className:"text-center p-3",children:"Quantity"}),l.jsx("th",{className:"text-right p-3",children:"Total"})]})}),l.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map(d=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-3",children:d.product_name||"Unknown Product"}),l.jsxs("td",{className:"p-3 text-center",children:["$",parseFloat(d.price||0).toFixed(2)]}),l.jsx("td",{className:"p-3 text-center",children:d.quantity||1}),l.jsxs("td",{className:"p-3 text-right",children:["$",(parseFloat(d.price||0)*(d.quantity||1)).toFixed(2)]})]},d.id)):l.jsx("tr",{className:"border-t",children:l.jsx("td",{colSpan:"4",className:"p-3 text-center text-gray-500",children:"No items found for this order"})})}),l.jsx("tfoot",{className:"bg-gray-50",children:l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{colSpan:"3",className:"p-3 text-right font-semibold",children:"Total:"}),l.jsxs("td",{className:"p-3 text-right font-bold",children:["$",parseFloat(e.total_amount||0).toFixed(2)]})]})})]})})]}),l.jsxs("div",{className:"card p-6 order-timeline",children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Order Timeline"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"mr-4",children:l.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Order Placed"}),l.jsx("p",{className:"text-sm text-gray-600",children:H0(e.created_at||Date.now())})]})]}),e.status_history&&e.status_history.length>0&&e.status_history.filter(d=>d.status!=="pending").map((d,p)=>{let g="bg-blue-500",m=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});d.status==="processing"?g="bg-blue-500":d.status==="shipped"?(g="bg-emerald-500",m=l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),l.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2a1 1 0 00.9-.5l3-5A1 1 0 0016 3H4a1 1 0 00-1 1z"})]})):d.status==="delivered"?(g="bg-green-500",m=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})})):d.status==="cancelled"&&(g="bg-red-500",m=l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}));const y=d.status.charAt(0).toUpperCase()+d.status.slice(1);return l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"mr-4",children:l.jsx("div",{className:`w-8 h-8 ${g} rounded-full flex items-center justify-center text-white`,children:m})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:y}),l.jsx("p",{className:"text-sm text-gray-600",children:H0(d.timestamp)})]})]},`status-${p}`)}),(!e.status_history||e.status_history.length<=1)&&l.jsxs(l.Fragment,{children:[e.status&&e.status!=="pending"&&l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"mr-4",children:l.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Processing"}),l.jsx("p",{className:"text-sm text-gray-600",children:H0(e.updated_at||e.created_at)})]})]}),e.status&&(e.status==="shipped"||e.status==="delivered")&&l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"mr-4",children:l.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center text-white",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),l.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2a1 1 0 00.9-.5l3-5A1 1 0 0016 3H4a1 1 0 00-1 1z"})]})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Shipped"}),l.jsx("p",{className:"text-sm text-gray-600",children:H0(e.updated_at||e.created_at)})]})]}),e.status&&e.status==="delivered"&&l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"mr-4",children:l.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Delivered"}),l.jsx("p",{className:"text-sm text-gray-600",children:H0(e.updated_at||e.created_at)})]})]}),e.status&&e.status==="cancelled"&&l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"mr-4",children:l.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Cancelled"}),l.jsx("p",{className:"text-sm text-gray-600",children:H0(e.updated_at||e.created_at)})]})]})]})]})]}),l.jsxs("div",{className:"invoice-footer hidden print:block no-break",children:[l.jsx("p",{children:"Thank you for your business!"}),l.jsxs("p",{children:["For questions: support@yamahaparts.com | Generated: ",z5(new Date)]})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-xl mb-4",children:"Order not found"}),l.jsx(_t,{to:"/orders",className:"text-blue-600 hover:underline",children:"Back to My Orders"})]})},jR=()=>{const[r,e]=V.useState([]),[t,n]=V.useState(!0),[a,i]=V.useState(null),[s,o]=V.useState(!1),c=()=>oe(null,null,function*(){n(!0),i(null);try{console.log("Fetching orders...");const g=yield V8();console.log("Orders fetched:",g),Array.isArray(g)?e(g):(console.error("Invalid data format received:",g),i("Received invalid data format from server."))}catch(g){console.error("Error in loadOrders:",g),i("Failed to load orders. Please try again.")}finally{n(!1)}}),u=()=>oe(null,null,function*(){o(!0),i(null);try{const g=yield xO();e(g)}catch(g){console.error("Error in handleCreateTestOrder:",g),i("Failed to create test order. Please try again.")}finally{o(!1)}});V.useEffect(()=>{c()},[]);const d=g=>{switch(g){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-slate-600 text-slate-100"}},p=g=>{const m={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(g).toLocaleString(void 0,m)};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"My Orders"}),t?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(yr,{size:"xl",text:"Loading your orders...",variant:"gear"})}):a?l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[l.jsx("p",{children:a}),l.jsx("button",{onClick:c,className:"mt-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Try Again"})]}):r.length===0?l.jsxs("div",{className:"text-center py-12 card",children:[l.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"You don't have any orders yet"}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[l.jsx(_t,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Browse Products"}),l.jsx("button",{onClick:u,disabled:s,className:`${s?"bg-gray-400":"bg-green-600 hover:bg-green-700"} text-white px-6 py-3 rounded font-semibold flex items-center space-x-2`,children:s?l.jsx(Zl,{text:"Creating...",variant:"gear",size:"sm"}):"Create Test Order"})]})]}):l.jsx("div",{className:"card overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-600",children:r.map(g=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",g.id]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"text-sm text-gray-500",children:p(g.created_at)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(g.total_amount).toFixed(2)]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d(g.status)}`,children:g.status.charAt(0).toUpperCase()+g.status.slice(1)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.payment_method.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsx(_t,{to:`/order/${g.id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},g.id))})]})})}),l.jsx("div",{className:"mt-8 text-center",children:l.jsx(_t,{to:"/products",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-800 hover:bg-blue-700",children:"Continue Shopping"})})]})},OR=()=>{const{user:r,isAuthenticated:e,updateUserData:t}=Fi(),{success:n,error:a}=Mn(),[i,s]=V.useState([]),[o,c]=V.useState(!0),[u,d]=V.useState(!0),[p,g]=V.useState(null),[m,y]=V.useState(!1),[w,_]=V.useState(!1),[S,A]=V.useState(!0),[C,L]=V.useState(!0),[B,M]=V.useState({first_name:"",last_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",shipping_address:"",shipping_city:"",shipping_state:"",shipping_zip_code:"",billing_address:"",billing_city:"",billing_state:"",billing_zip_code:"",preferred_address:"shipping",preferred_payment_method:"credit_card"});V.useEffect(()=>{oe(null,null,function*(){if(!e()){c(!1);return}try{c(!0),console.log(" Profile: Fetching user profile data...");const U=yield Hv();console.log(" Profile: Fetched profile data:",U);const X=U.data||U;M({first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",phone:X.phone||"",address:X.address||"",city:X.city||"",state:X.state||"",zip_code:X.zip_code||"",shipping_address:X.shipping_address||"",shipping_city:X.shipping_city||"",shipping_state:X.shipping_state||"",shipping_zip_code:X.shipping_zip_code||"",billing_address:X.billing_address||"",billing_city:X.billing_city||"",billing_state:X.billing_state||"",billing_zip_code:X.billing_zip_code||"",preferred_address:X.preferred_address||"shipping",preferred_payment_method:X.preferred_payment_method||"credit_card"}),A(!X.shipping_address),L(!X.billing_address),console.log(" Profile: Form data updated with profile data")}catch(U){console.error(" Profile: Error fetching profile:",U),a("Failed to load profile data"),r&&(console.log(" Profile: Falling back to user context data"),M({first_name:r.first_name||"",last_name:r.last_name||"",email:r.email||"",phone:r.phone||"",address:r.address||"",city:r.city||"",state:r.state||"",zip_code:r.zip_code||"",shipping_address:r.shipping_address||"",shipping_city:r.shipping_city||"",shipping_state:r.shipping_state||"",shipping_zip_code:r.shipping_zip_code||"",billing_address:r.billing_address||"",billing_city:r.billing_city||"",billing_state:r.billing_state||"",billing_zip_code:r.billing_zip_code||"",preferred_address:r.preferred_address||"shipping",preferred_payment_method:r.preferred_payment_method||"credit_card"}),A(!r.shipping_address),L(!r.billing_address))}finally{c(!1)}})},[e,a]),V.useEffect(()=>{oe(null,null,function*(){if(!e()){d(!1);return}d(!0);try{console.log(" Profile: Fetching recent orders...");const X=(yield V8()).sort((ae,Se)=>new Date(Se.created_at)-new Date(ae.created_at)).slice(0,5);s(X),console.log(" Profile: Recent orders loaded:",X.length)}catch(U){console.error(" Profile: Error loading orders:",U),g("Failed to load recent orders")}finally{d(!1)}})},[e]);const F=I=>{const{name:U,value:X}=I.target;M(ae=>Ft(wt({},ae),{[U]:X}))},D=I=>oe(null,null,function*(){I.preventDefault(),_(!0);try{const U=yield Dj(B);console.log("Profile update response:",U),t(B);const X=yield Hv(),ae=X.data||X;console.log("Fresh profile data after update:",ae),t(ae),M({first_name:ae.first_name||"",last_name:ae.last_name||"",email:ae.email||"",phone:ae.phone||"",address:ae.address||"",city:ae.city||"",state:ae.state||"",zip_code:ae.zip_code||"",shipping_address:ae.shipping_address||"",shipping_city:ae.shipping_city||"",shipping_state:ae.shipping_state||"",shipping_zip_code:ae.shipping_zip_code||"",billing_address:ae.billing_address||"",billing_city:ae.billing_city||"",billing_state:ae.billing_state||"",billing_zip_code:ae.billing_zip_code||"",preferred_address:ae.preferred_address||"shipping",preferred_payment_method:ae.preferred_payment_method||"credit_card"}),A(!ae.shipping_address),L(!ae.billing_address),n("Profile updated successfully"),y(!1)}catch(U){console.error("Error updating profile:",U),a(U.message||"Failed to update profile")}finally{_(!1)}}),O=I=>{const U={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(I).toLocaleString(void 0,U)},q=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e()?l.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"My Profile"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Personal Information"}),!m&&!o&&l.jsx("button",{onClick:()=>y(!0),className:"btn-vintage-red",children:"Edit Profile"})]}),o?l.jsx("div",{className:"text-center py-8",children:l.jsx(yr,{size:"lg",text:"Loading profile...",variant:"gear"})}):m?l.jsxs("form",{onSubmit:D,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"First Name"}),l.jsx("input",{type:"text",name:"first_name",value:B.first_name,onChange:F,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Name cannot be changed"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Last Name"}),l.jsx("input",{type:"text",name:"last_name",value:B.last_name,onChange:F,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Name cannot be changed"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:B.email,onChange:F,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Email cannot be changed"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:B.phone,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Primary Address"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),l.jsx("input",{type:"text",name:"address",value:B.address,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),l.jsx("input",{type:"text",name:"city",value:B.city,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),l.jsx("input",{type:"text",name:"state",value:B.state,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),l.jsx("input",{type:"text",name:"zip_code",value:B.zip_code,onChange:F,className:"w-full p-2 border rounded"})]})]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Shipping Address"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",id:"same-as-primary-shipping",checked:S,onChange:I=>{const U=I.target.checked;A(U),M(U?X=>Ft(wt({},X),{shipping_address:"",shipping_city:"",shipping_state:"",shipping_zip_code:""}):X=>Ft(wt({},X),{shipping_address:X.address||"",shipping_city:X.city||"",shipping_state:X.state||"",shipping_zip_code:X.zip_code||""}))},className:"mr-2"}),l.jsx("label",{htmlFor:"same-as-primary-shipping",className:"text-gray-700",children:"Same as primary address"})]}),S?l.jsx("p",{className:"text-sm text-gray-600 italic",children:"Using primary address for shipping"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),l.jsx("input",{type:"text",name:"shipping_address",value:B.shipping_address,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),l.jsx("input",{type:"text",name:"shipping_city",value:B.shipping_city,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),l.jsx("input",{type:"text",name:"shipping_state",value:B.shipping_state,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),l.jsx("input",{type:"text",name:"shipping_zip_code",value:B.shipping_zip_code,onChange:F,className:"w-full p-2 border rounded"})]})]})]})]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Billing Address"}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("input",{type:"checkbox",id:"same-as-primary-billing",checked:C,onChange:I=>{const U=I.target.checked;L(U),M(U?X=>Ft(wt({},X),{billing_address:"",billing_city:"",billing_state:"",billing_zip_code:""}):X=>Ft(wt({},X),{billing_address:X.address||"",billing_city:X.city||"",billing_state:X.state||"",billing_zip_code:X.zip_code||""}))},className:"mr-2"}),l.jsx("label",{htmlFor:"same-as-primary-billing",className:"text-gray-700",children:"Same as primary address"})]}),C?l.jsx("p",{className:"text-sm text-gray-600 italic",children:"Using primary address for billing"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),l.jsx("input",{type:"text",name:"billing_address",value:B.billing_address,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),l.jsx("input",{type:"text",name:"billing_city",value:B.billing_city,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),l.jsx("input",{type:"text",name:"billing_state",value:B.billing_state,onChange:F,className:"w-full p-2 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),l.jsx("input",{type:"text",name:"billing_zip_code",value:B.billing_zip_code,onChange:F,className:"w-full p-2 border rounded"})]})]})]})]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Address Preferences"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Preferred Address for Checkout"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"radio",id:"shipping",name:"preferred_address",value:"shipping",checked:B.preferred_address==="shipping",onChange:F,className:"mr-2"}),l.jsx("label",{htmlFor:"shipping",children:"Shipping Address"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"radio",id:"billing",name:"preferred_address",value:"billing",checked:B.preferred_address==="billing",onChange:F,className:"mr-2"}),l.jsx("label",{htmlFor:"billing",children:"Billing Address"})]})]})]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Payment Preferences"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Preferred Payment Method"}),l.jsxs("select",{name:"preferred_payment_method",value:B.preferred_payment_method,onChange:F,className:"w-full p-2 border rounded",children:[l.jsx("option",{value:"credit_card",children:"Credit Card"}),l.jsx("option",{value:"paypal",children:"PayPal"}),l.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),l.jsxs("div",{className:"flex justify-end mt-6",children:[l.jsx("button",{type:"button",onClick:()=>y(!1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded mr-2 hover:bg-gray-400",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-blue-800 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",disabled:w,children:w?l.jsx(Zl,{text:"Saving...",variant:"gear",size:"sm"}):"Save Changes"})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Name"}),l.jsxs("p",{children:[r.first_name," ",r.last_name]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Email"}),l.jsx("p",{children:r.email})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Phone"}),l.jsx("p",{children:r.phone||"Not provided"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Member Since"}),l.jsx("p",{children:r.created_at?new Date(r.created_at).toLocaleDateString():"N/A"})]})]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Primary Address"}),l.jsx("p",{children:r.address||"No address provided"}),r.city&&r.state&&l.jsxs("p",{children:[r.city,", ",r.state," ",r.zip_code]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Shipping Address"}),r.shipping_address?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:r.shipping_address}),r.shipping_city&&r.shipping_state&&l.jsxs("p",{children:[r.shipping_city,", ",r.shipping_state," ",r.shipping_zip_code]})]}):l.jsx("p",{className:"text-gray-600 italic",children:"Using primary address for shipping"}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Billing Address"}),r.billing_address?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:r.billing_address}),r.billing_city&&r.billing_state&&l.jsxs("p",{children:[r.billing_city,", ",r.billing_state," ",r.billing_zip_code]})]}):l.jsx("p",{className:"text-gray-600 italic",children:"Using primary address for billing"}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Address Preferences"}),l.jsxs("p",{children:["Preferred Address for Checkout: ",B.preferred_address==="billing"?"Billing Address":"Shipping Address"]}),l.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Payment Preferences"}),l.jsxs("p",{children:["Preferred Payment Method: ",B.preferred_payment_method?B.preferred_payment_method.replace("_"," ").replace(/\b\w/g,I=>I.toUpperCase()):"Not set"]})]})]})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Recent Orders"}),l.jsx(_t,{to:"/orders",className:"text-[#B8860B] hover:text-[#d4a50d] text-sm",children:"View All"})]}),u?l.jsx("div",{className:"text-center py-4",children:l.jsx(yr,{size:"md",text:"Loading orders...",variant:"gear"})}):p?l.jsx("div",{className:"text-center py-4 text-red-600",children:p}):i.length===0?l.jsx("div",{className:"text-center py-4 text-gray-600",children:"No orders found"}):l.jsx("div",{className:"space-y-4",children:i.map(I=>l.jsxs("div",{className:"border rounded p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold",children:["Order #",I.id]}),l.jsx("p",{className:"text-sm text-gray-600",children:O(I.created_at)})]}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${q(I.status)}`,children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})]}),l.jsxs("p",{className:"font-medium",children:["$",parseFloat(I.total_amount).toFixed(2)]}),l.jsx("div",{className:"mt-2",children:l.jsx(_t,{to:`/order/${I.id}`,className:"text-blue-600 hover:underline text-sm",children:"View Details"})})]},I.id))})]})})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-xl mb-4",children:"Please log in to view your profile"}),l.jsx(_t,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"})]})},hS=({text:r="Continue with Google",className:e="",disabled:t=!1,variant:n="primary"})=>{const[a,i]=V.useState(!1),s=()=>{if(t||a)return;i(!0),console.log(" Initiating Google OAuth...");const p="https://www.partsformyrd350.com";window.location.href=`${p}/auth/google`},d=`
    w-full flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 
    ${{primary:"bg-slate-800 border border-slate-600 text-slate-200 hover:bg-slate-700 focus:ring-emerald-500 shadow-sm",outline:"border-2 border-slate-600 text-slate-300 hover:border-slate-500 hover:bg-slate-800 focus:ring-emerald-500"}[n]} 
    ${t||a?"opacity-50 cursor-not-allowed":""} 
    ${e}
  `.trim();return l.jsx("button",{type:"button",onClick:s,disabled:t||a,className:d,children:a?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r]})})},pS=V.forwardRef(({onVerify:r,className:e=""},t)=>{const[n,a]=V.useState(""),[i,s]=V.useState(!1),o=V.useRef(Date.now());return V.useImperativeHandle(t,()=>({verify:()=>{const c=Date.now()-o.current;return n!==""||c<2e3?(console.log(" Bot detected:",{honeypotFilled:n!=="",tooFast:c<2e3}),r&&r(!1),!1):(s(!0),r&&r(!0),!0)},reset:()=>{a(""),s(!1),o.current=Date.now()},isVerified:()=>i})),l.jsxs("div",{className:`honeypot-protection ${e}`,children:[l.jsx("input",{type:"text",name:"website",value:n,onChange:c=>a(c.target.value),style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none",tabIndex:-1},tabIndex:"-1",autoComplete:"off"}),l.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),l.jsx("span",{children:"Protected by advanced security"})]})]})});pS.displayName="HoneypotProtection";const RR=()=>{var S;const{login:r,loading:e}=Fi(),t=as(),n=As(),[a]=Zm(),[i,s]=V.useState({email:"",password:""}),[o,c]=V.useState(null),[u,d]=V.useState(!1),p=V.useRef(null),g=((S=n.state)==null?void 0:S.from)||"/";V.useEffect(()=>{const A=a.get("status"),C=a.get("email"),L=a.get("error");if(A==="pending_verification"&&C)c(`Please verify your email address (${C}) to complete your registration.`);else if(A==="pending_approval"&&C)c(`Your account (${C}) is pending admin approval.`);else if(L)switch(L){case"oauth_failed":case"oauth_error":case"oauth_no_user":case"callback_error":c("Google authentication failed. Please try again.");break;case"account_rejected":c("Your account has been rejected. Please contact support.");break;case"account_suspended":c("Your account has been suspended. Please contact support.");break;default:c("Authentication failed. Please try again.")}},[a]);const m=A=>{const{name:C,value:L}=A.target;s(B=>Ft(wt({},B),{[C]:L}))},y=A=>oe(null,null,function*(){if(A.preventDefault(),c(null),p.current&&!p.current.verify()){c("Security verification failed. Please try again.");return}try{const C=yield r(i.email,i.password);setTimeout(()=>{t(g,{replace:!0})},500)}catch(C){c(C.message||"Login failed"),p.current&&p.current.reset()}}),w=A=>{d(A),o&&o.includes("security verification")&&c(null)},_=()=>l.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M19,7H18V6A1,1,0,0,0,17,5H7A1,1,0,0,0,6,6V7H5A1,1,0,0,0,4,8V19a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V8A1,1,0,0,0,19,7ZM8,7h8V8H8ZM18,19a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V10H18ZM14,3V4H10V3a1,1,0,0,1,2,0h0a1,1,0,0,1,2,0Z"})});return l.jsxs("div",{className:"min-h-screen flex",children:[l.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/login-motorcycle.jpg)",filter:"grayscale(100%)"},children:l.jsx("div",{className:"w-full h-full bg-black/20"})}),l.jsx("div",{className:"w-full lg:w-1/2 backdrop-vintage-paper flex items-center justify-center p-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-32 w-auto drop-shadow-lg"})}),l.jsx("h1",{className:"heading-vintage text-center",children:"Login to Your Garage"}),o&&l.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:o}),l.jsxs("form",{onSubmit:y,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:i.email,onChange:m,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Password"}),l.jsx("input",{type:"password",name:"password",value:i.password,onChange:m,className:"form-input-vintage",required:!0})]}),l.jsx("div",{className:"text-right",children:l.jsx(_t,{to:"/forgot-password",className:"link-vintage",children:"Forgot Password?"})}),l.jsx("div",{className:"hidden",children:l.jsx(pS,{ref:p,onVerify:w})}),l.jsx("button",{type:"submit",className:"btn-vintage-red w-full",disabled:e,children:e?l.jsx(Zl,{text:"Logging in...",variant:"gear",size:"sm"}):l.jsxs(l.Fragment,{children:[l.jsx(_,{}),l.jsx("span",{children:"Log In"})]})}),l.jsx(_t,{to:"/register",className:"btn-vintage-gray w-full block text-center",children:"Create Account"})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t-2 border-[#C0B8A8]"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-[#F5F0E1] text-[#666] font-medium uppercase tracking-wide",children:"Or continue with"})})]}),l.jsx(hS,{text:"Sign in with Google",disabled:e})]})})]})},kR=({password:r,userInfo:e={}})=>{const[t,n]=V.useState("none"),[a,i]=V.useState([]),[s,o]=V.useState([]),[c,u]=V.useState([]),d=[{id:"length",text:"At least 8 characters long",regex:/.{8,}/},{id:"uppercase",text:"At least one uppercase letter (A-Z)",regex:/[A-Z]/},{id:"lowercase",text:"At least one lowercase letter (a-z)",regex:/[a-z]/},{id:"number",text:"At least one number (0-9)",regex:/[0-9]/},{id:"special",text:"At least one special character (!@#$%^&*)",regex:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/}],p=["password","password123","123456","123456789","qwerty","abc123","password1","admin","letmein","welcome","monkey","1234567890"];V.useEffect(()=>{if(!r){n("none"),i([]),o([]),u([]);return}g(r)},[r,e]);const g=_=>{var B;const S=[],A=[],C=[];if(d.forEach(M=>{const F=M.regex.test(_);C.push(Ft(wt({},M),{met:F})),F||S.push(M.text)}),p.includes(_.toLowerCase())&&S.push("This password is too common. Please choose a more unique password"),/^(.)\1+$/.test(_)&&S.push("Password cannot be all the same character"),/^(012|123|234|345|456|567|678|789|890|abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz)/i.test(_)&&S.push("Password cannot contain simple sequences"),/^(qwerty|asdfgh|zxcvbn|qwertyui|asdfghjk|zxcvbnm)/i.test(_)&&S.push("Password cannot be based on keyboard patterns"),e){const M=[e.firstName,e.lastName,(B=e.email)==null?void 0:B.split("@")[0],e.phone].filter(Boolean);for(const F of M)if(F&&_.toLowerCase().includes(F.toLowerCase())){S.push("Password cannot contain your personal information");break}}const L=m(_);L==="weak"?A.push("Consider using a longer password with more variety"):L==="medium"&&A.push("Good password! Consider adding more special characters for extra security"),i(S),o(A),u(C),n(L)},m=_=>{let S=0;return _.length>=8&&(S+=1),_.length>=12&&(S+=1),_.length>=16&&(S+=1),/[a-z]/.test(_)&&(S+=1),/[A-Z]/.test(_)&&(S+=1),/[0-9]/.test(_)&&(S+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(_)&&(S+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?].*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(_)&&(S+=1),/(.)\1{2,}/.test(_)||(S+=1),_.length>=20&&(S+=1),S<=3?"weak":S<=5?"medium":S<=7?"strong":"very-strong"},y=()=>{switch(t){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-blue-500";case"very-strong":return"bg-green-500";default:return"bg-gray-300"}},w=()=>{switch(t){case"weak":return"w-1/4";case"medium":return"w-2/4";case"strong":return"w-3/4";case"very-strong":return"w-full";default:return"w-0"}};return r?l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Strength"}),l.jsx("span",{className:`text-sm font-medium capitalize ${t==="weak"?"text-red-600":t==="medium"?"text-yellow-600":t==="strong"?"text-blue-600":t==="very-strong"?"text-green-600":"text-gray-500"}`,children:t==="very-strong"?"Very Strong":t})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${y()} ${w()}`})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Requirements"}),l.jsx("div",{className:"space-y-1",children:c.map(_=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${_.met?"bg-green-500":"bg-gray-300"}`,children:_.met&&l.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l.jsx("span",{className:`text-sm ${_.met?"text-green-700":"text-gray-600"}`,children:_.text})]},_.id))})]}),a.length>0&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"Password Issues"}),l.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:a.map((_,S)=>l.jsxs("li",{className:"flex items-start space-x-1",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsx("span",{children:_})]},S))})]}),s.length>0&&a.length===0&&l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Suggestions"}),l.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:s.map((_,S)=>l.jsxs("li",{className:"flex items-start space-x-1",children:[l.jsx("span",{className:"text-yellow-500 mt-0.5",children:""}),l.jsx("span",{children:_})]},S))})]}),t==="very-strong"&&a.length===0&&l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Excellent! Your password is very strong."})]})})]}):null},LR=()=>{const{register:r,loading:e}=Fi(),t=as(),[n,a]=V.useState({email:"",password:"",confirmPassword:"",first_name:"",last_name:"",address:"",phone:""}),[i,s]=V.useState(null),[o,c]=V.useState(!1),[u,d]=V.useState(!1),[p,g]=V.useState(""),m=w=>{const{name:_,value:S}=w.target;a(A=>Ft(wt({},A),{[_]:S}))},y=w=>oe(null,null,function*(){if(w.preventDefault(),s(null),n.password!==n.confirmPassword){s("Passwords do not match");return}try{const _=n,{confirmPassword:S}=_,A=ku(_,["confirmPassword"]),C=yield r(A);C!=null&&C.verification_required?(d(!0),g(A.email),c(!1)):(c(!0),setTimeout(()=>{t("/login")},2e3))}catch(S){s(S.message||"Registration failed")}});return l.jsxs("div",{className:"min-h-screen flex",children:[l.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/login-motorcycle.jpg)",filter:"grayscale(100%)"},children:l.jsx("div",{className:"w-full h-full bg-black/20"})}),l.jsx("div",{className:"w-full lg:w-1/2 backdrop-vintage-paper flex items-center justify-center p-8 overflow-y-auto",children:l.jsxs("div",{className:"w-full max-w-lg",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-24 w-auto drop-shadow-lg"})}),l.jsx("h1",{className:"heading-vintage text-center text-2xl",children:"Create Your Account"}),i&&l.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:i}),o&&l.jsx("div",{className:"bg-green-100 border-2 border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:"Registration successful! Redirecting to login..."}),u&&l.jsxs("div",{className:"bg-yellow-100 border-2 border-yellow-400 text-yellow-800 px-4 py-3 rounded-lg mb-6",children:[l.jsx("strong",{children:"Email Verification Required"}),l.jsxs("p",{className:"mt-2",children:["We've sent a verification link to ",l.jsx("strong",{children:p}),"."]}),l.jsx("p",{className:"mt-2",children:"Please check your email to activate your account."}),l.jsx(_t,{to:"/login",className:"link-vintage mt-3 inline-block",children:"Back to Login"})]}),l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"First Name"}),l.jsx("input",{type:"text",name:"first_name",value:n.first_name,onChange:m,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Last Name"}),l.jsx("input",{type:"text",name:"last_name",value:n.last_name,onChange:m,className:"form-input-vintage",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:n.email,onChange:m,className:"form-input-vintage",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:m,className:"form-input-vintage"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Address"}),l.jsx("textarea",{name:"address",value:n.address,onChange:m,className:"form-input-vintage",rows:"2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Password"}),l.jsx("input",{type:"password",name:"password",value:n.password,onChange:m,className:"form-input-vintage",required:!0,minLength:"8",placeholder:"Enter a strong password"}),l.jsx(kR,{password:n.password,userInfo:{firstName:n.first_name,lastName:n.last_name,email:n.email,phone:n.phone}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label-vintage",children:"Confirm Password"}),l.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:m,className:"form-input-vintage",required:!0})]}),l.jsx("button",{type:"submit",className:"btn-vintage-red w-full",disabled:e||o,children:e?l.jsx(Zl,{text:"Creating Account...",variant:"gear",size:"sm"}):"Create Account"})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t-2 border-[#C0B8A8]"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-[#F5F0E1] text-[#666] font-medium uppercase tracking-wide",children:"Or continue with"})})]}),l.jsx(hS,{text:"Sign up with Google",disabled:e||o}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-[#3D3D3D]",children:["Already have an account?"," ",l.jsx(_t,{to:"/login",className:"link-vintage",children:"Sign In"})]})})]})})]})},DR=()=>{const[r]=Zm(),e=as(),{login:t}=Fi(),{success:n,error:a}=Mn(),[i,s]=V.useState(!0),[o,c]=V.useState(!1),[u,d]=V.useState(null),[p,g]=V.useState(!1),[m,y]=V.useState(!1);return V.useEffect(()=>{oe(null,null,function*(){var S;const _=r.get("token");if(!_){d("Invalid verification link. No token provided."),s(!1);return}try{const A=yield fr.get(`/auth/verify-email?token=${_}`);if(A.data.already_verified)g(!0),n("Email already verified! You can now login.");else if(c(!0),n("Email verified successfully! Welcome to Sardaarji Auto Parts!"),A.data.token){const C={user:A.data.user,token:A.data.token};t(C),setTimeout(()=>{e("/products")},2e3)}}catch(A){console.error("Email verification error:",A);const C=(S=A.response)==null?void 0:S.data;C!=null&&C.expired?(y(!0),d("Verification link has expired. Please request a new verification email.")):d((C==null?void 0:C.message)||"Email verification failed. Please try again."),a((C==null?void 0:C.message)||"Email verification failed")}finally{s(!1)}})},[r,t,e,n,a]),i?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"text-center",children:l.jsx(yr,{size:"xl",text:"Verifying your email...",variant:"gear"})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsx("div",{className:"text-center",children:l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Email Verification"})}),l.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[o&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Verified Successfully! "}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to Sardaarji Auto Parts! Your account is now active and you're being logged in."}),l.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to products page..."})]}),p&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Already Verified "}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Your email is already verified. You can login to your account."}),l.jsx(_t,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Go to Login"})]}),u&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Failed"}),l.jsx("p",{className:"text-gray-600 mb-4",children:u}),m&&l.jsx("div",{className:"space-y-3",children:l.jsx(_t,{to:"/resend-verification",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Request New Verification Email"})}),l.jsx("div",{className:"mt-4",children:l.jsx(_t,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})]})})},IR=()=>{const{success:r,error:e}=Mn(),[t,n]=V.useState(""),[a,i]=V.useState(!1),[s,o]=V.useState(!1),[c,u]=V.useState(0),d=p=>oe(null,null,function*(){var g,m;if(p.preventDefault(),!t){e("Please enter your email address");return}i(!0);try{const y=yield fr.post("/auth/resend-verification",{email:t});o(!0),r("Verification email sent! Please check your inbox.")}catch(y){console.error("Resend verification error:",y);const w=(g=y.response)==null?void 0:g.data;((m=y.response)==null?void 0:m.status)===429?(u((w==null?void 0:w.retry_after)||60),e((w==null?void 0:w.message)||"Please wait before requesting another email")):e((w==null?void 0:w.message)||"Failed to send verification email")}finally{i(!1)}});return V.useState(()=>{if(c>0){const p=setInterval(()=>{u(g=>g<=1?(clearInterval(p),0):g-1)},1e3);return()=>clearInterval(p)}},[c]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Resend Verification Email"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address to receive a new verification link"})]}),l.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[s?l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Email Sent! "}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a new verification email to ",l.jsx("strong",{children:t}),". Please check your inbox and click the verification link."]}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Don't see the email? Check your spam folder."}),l.jsx("button",{onClick:()=>{o(!1),n("")},className:"text-blue-600 hover:text-blue-500 text-sm",children:"Send to a different email"})]}):l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:p=>n(p.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",disabled:a||c>0})]}),c>0&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:["Please wait ",c," seconds before requesting another email."]})}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:a||c>0,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?l.jsx(yr,{size:"sm",text:"Sending..."}):c>0?`Wait ${c}s`:"Send Verification Email"})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx(_t,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})})},PR=()=>{const r=as(),[e]=Zm(),{setUser:t}=Fi(),[n,a]=V.useState("processing"),[i,s]=V.useState("Processing authentication...");return V.useEffect(()=>{oe(null,null,function*(){try{console.log(" Processing OAuth callback...");const c=e.get("token"),u=e.get("user"),d=e.get("oauth_success"),p=e.get("error");if(p){switch(console.error(" OAuth error:",p),a("error"),p){case"oauth_failed":s("Google authentication failed. Please try again.");break;case"oauth_error":s("An error occurred during authentication. Please try again.");break;case"oauth_no_user":s("Unable to retrieve user information from Google. Please try again.");break;case"account_rejected":s("Your account has been rejected. Please contact support.");break;case"account_suspended":s("Your account has been suspended. Please contact support.");break;case"account_inactive":s("Your account is not active. Please contact support.");break;case"callback_error":s("An error occurred processing your authentication. Please try again.");break;default:s("Authentication failed. Please try again.")}setTimeout(()=>{r("/login",{replace:!0})},3e3);return}if(d==="true"&&c&&u){console.log(" OAuth success, processing user data...");try{const g=JSON.parse(u);localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(g)),t&&t(g),console.log(" User authenticated successfully:",g.email),a("success"),s(`Welcome, ${g.first_name||g.email}! Redirecting...`);const m=localStorage.getItem("cart");if(m)try{console.log(" Migrating cart from localStorage...");const{importCart:y}=yield Zs(()=>oe(null,null,function*(){const{importCart:_}=yield Promise.resolve().then(()=>i2);return{importCart:_}}),void 0),w=JSON.parse(m);yield y(w),localStorage.removeItem("cart"),console.log(" Cart migrated successfully")}catch(y){console.error(" Failed to migrate cart:",y)}setTimeout(()=>{r("/",{replace:!0})},2e3)}catch(g){console.error(" Error parsing user data:",g),a("error"),s("Error processing authentication data. Please try logging in again."),setTimeout(()=>{r("/login",{replace:!0})},3e3)}}else console.error(" Missing required OAuth parameters"),a("error"),s("Invalid authentication response. Please try again."),setTimeout(()=>{r("/login",{replace:!0})},3e3)}catch(c){console.error(" OAuth callback error:",c),a("error"),s("An unexpected error occurred. Please try again."),setTimeout(()=>{r("/login",{replace:!0})},3e3)}})},[e,r,t]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[n==="processing"&&l.jsxs(l.Fragment,{children:[l.jsx(yr,{size:"lg"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mt-4",children:"Authenticating..."}),l.jsx("p",{className:"text-gray-600 mt-2",children:i})]}),n==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-xl font-semibold text-green-900",children:"Authentication Successful!"}),l.jsx("p",{className:"text-green-700 mt-2",children:i})]}),n==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-xl font-semibold text-red-900",children:"Authentication Failed"}),l.jsx("p",{className:"text-red-700 mt-2",children:i}),l.jsx("p",{className:"text-gray-600 text-sm mt-4",children:"Redirecting to login page..."})]})]})})},FR=()=>{const[r,e]=V.useState(""),[t,n]=V.useState(!1),[a,i]=V.useState(null),[s,o]=V.useState(!1),c=p=>{e(p.target.value),a&&i(null)},u=p=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p),d=p=>oe(null,null,function*(){if(p.preventDefault(),!r){i("Email is required");return}if(!u(r)){i("Please enter a valid email address");return}n(!0),i(null);try{console.log(" Requesting password reset for:",r);const m=yield(yield fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})})).json();m.success?(console.log(" Password reset request successful"),o(!0)):(console.error(" Password reset request failed:",m.message),i(m.message||"Failed to send reset email"))}catch(g){console.error(" Password reset request error:",g),i("An error occurred. Please try again.")}finally{n(!1)}});return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-green-900 mb-4",children:"Check Your Email"}),l.jsx("p",{className:"text-green-700 mb-6",children:"If an account with that email exists, we've sent you a password reset link."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-4 text-left",children:[l.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"What's next?"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Check your email inbox (and spam folder)"}),l.jsx("li",{children:" Click the reset link in the email"}),l.jsx("li",{children:" The link expires in 1 hour"}),l.jsx("li",{children:" Create your new password"})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx(_t,{to:"/login",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-200 text-center",children:"Back to Login"}),l.jsx("button",{onClick:()=>{o(!1),e("")},className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50 transition duration-200",children:"Try Again"})]})]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password?"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"No worries! Enter your email address and we'll send you a reset link."})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("form",{onSubmit:d,children:[a&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",id:"email",name:"email",value:r,onChange:c,required:!0,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email address",disabled:t})]}),l.jsx("button",{type:"submit",disabled:t||!r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:t?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsx(Zl,{}),l.jsx("span",{className:"ml-2",children:"Sending Reset Link..."})]}):"Send Reset Link"})]}),l.jsxs("div",{className:"mt-6 text-center space-y-2",children:[l.jsx(_t,{to:"/login",className:"block text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"}),l.jsxs("div",{className:"text-gray-500 text-sm",children:["Don't have an account?"," ",l.jsx(_t,{to:"/register",className:"text-blue-600 hover:text-blue-500",children:"Sign up here"})]})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Need Help?"}),l.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("p",{children:" Make sure you enter the email address you used to register"}),l.jsx("p",{children:" Check your spam/junk folder if you don't see the email"}),l.jsx("p",{children:" The reset link expires in 1 hour for security"}),l.jsx("p",{children:" If you signed up with Google, you can still set a password"})]})]})]})})},MR=()=>{const r=as(),[e]=Zm(),t=e.get("token"),[n,a]=V.useState({newPassword:"",confirmPassword:""}),[i,s]=V.useState(!1),[o,c]=V.useState(null),[u,d]=V.useState(!1),[p,g]=V.useState(null);V.useEffect(()=>{t?g(!0):(g(!1),c("Invalid reset link. Please request a new password reset."))},[t]);const m=_=>{const{name:S,value:A}=_.target;a(C=>Ft(wt({},C),{[S]:A})),o&&c(null)},y=()=>n.newPassword?n.newPassword.length<6?(c("Password must be at least 6 characters long"),!1):n.newPassword!==n.confirmPassword?(c("Passwords do not match"),!1):!0:(c("New password is required"),!1),w=_=>oe(null,null,function*(){if(_.preventDefault(),!!y()){s(!0),c(null);try{console.log(" Submitting password reset...");const A=yield(yield fetch("/api/auth/reset-password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,newPassword:n.newPassword})})).json();A.success?(console.log(" Password reset successful"),d(!0),setTimeout(()=>{r("/login",{state:{message:"Password reset successful! Please log in with your new password."}})},3e3)):(console.error(" Password reset failed:",A.message),c(A.message||"Failed to reset password"))}catch(S){console.error(" Password reset error:",S),c("An error occurred. Please try again.")}finally{s(!1)}}});return p===!1?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-4",children:"Invalid Reset Link"}),l.jsx("p",{className:"text-red-700 mb-6",children:"This password reset link is invalid or has expired. Please request a new password reset."}),l.jsx(_t,{to:"/login",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition duration-200",children:"Back to Login"})]})}):u?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-xl font-semibold text-green-900 mb-4",children:"Password Reset Successful!"}),l.jsx("p",{className:"text-green-700 mb-6",children:"Your password has been reset successfully. You can now log in with your new password."}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Redirecting to login page..."})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Your Password"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("form",{onSubmit:w,children:[o&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:o}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),l.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:n.newPassword,onChange:m,required:!0,minLength:6,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your new password",disabled:i}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),l.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:m,required:!0,minLength:6,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your new password",disabled:i})]})]}),l.jsx("button",{type:"submit",disabled:i,className:"w-full mt-6 bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:i?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsx(Zl,{}),l.jsx("span",{className:"ml-2",children:"Resetting Password..."})]}):"Reset Password"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx(_t,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})})},BR=()=>oe(null,null,function*(){try{const r=localStorage.getItem("token");if(!r)throw new Error("No authentication token found");console.log("Fetching dashboard data from Node.js API...");const e=yield fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=yield e.json();if(t.success)return console.log("Dashboard data fetched successfully"),t.data;throw new Error(t.message||"Failed to fetch dashboard data")}catch(r){return console.error("Error fetching dashboard data:",r),console.log("API failed, using fallback data"),{total_products:87,total_orders:0,orders_by_status:{pending:0,processing:0,shipped:0,delivered:0,cancelled:0},total_customers:0,total_revenue:0,recent_orders:[],low_stock:[]}}});console.log("Dashboard component loaded - version with all links - updated with cache control");const UR=()=>{const[r,e]=V.useState(null),[t,n]=V.useState(!0),[a,i]=V.useState(null);return V.useEffect(()=>{oe(null,null,function*(){n(!0);try{const o=yield BR();e(o)}catch(o){i(o.message||"Failed to load dashboard data")}finally{n(!1)}})},[]),t?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading dashboard data...",variant:"gear"})}):a?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-red-600 mb-4",children:a}),l.jsx(_t,{to:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]}):l.jsxs("div",{children:[l.jsx("div",{className:"flex flex-col space-y-4 mb-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dashboard Overview"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("a",{href:"/Modparts/restart.php",target:"_blank",rel:"noopener noreferrer",className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Restart Server"]}),l.jsxs("button",{onClick:Vj,className:"flex items-center bg-midnight-600 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-500 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})}),"Clear Cache & Reload"]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-300 text-sm",children:"Total Products"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:r.total_products})]})]})}),l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-300 text-sm",children:"Total Orders"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:r.total_orders}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-x-2 gap-y-1 text-xs",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-1"}),l.jsx("span",{className:"text-gray-300",children:"Pending: "}),l.jsx("span",{className:"ml-1 font-semibold text-white",children:r.orders_by_status.pending})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 mr-1"}),l.jsx("span",{className:"text-gray-300",children:"Processing: "}),l.jsx("span",{className:"ml-1 font-semibold text-white",children:r.orders_by_status.processing})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 mr-1"}),l.jsx("span",{className:"text-gray-300",children:"Shipped: "}),l.jsx("span",{className:"ml-1 font-semibold text-white",children:r.orders_by_status.shipped})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 mr-1"}),l.jsx("span",{className:"text-gray-300",children:"Delivered: "}),l.jsx("span",{className:"ml-1 font-semibold text-white",children:r.orders_by_status.delivered})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400 mr-1"}),l.jsx("span",{className:"text-gray-300",children:"Cancelled: "}),l.jsx("span",{className:"ml-1 font-semibold text-white",children:r.orders_by_status.cancelled})]})]}),l.jsx("div",{className:"mt-3 space-y-1.5",children:r.total_orders>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx("div",{className:"w-16 text-gray-300",children:"Pending"}),l.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${r.orders_by_status.pending/r.total_orders*100}%`}})})]}),l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx("div",{className:"w-16 text-gray-300",children:"Processing"}),l.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-400",style:{width:`${r.orders_by_status.processing/r.total_orders*100}%`}})})]}),l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx("div",{className:"w-16 text-midnight-300",children:"Shipped"}),l.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-emerald-400",style:{width:`${r.orders_by_status.shipped/r.total_orders*100}%`}})})]}),l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx("div",{className:"w-16 text-midnight-300",children:"Delivered"}),l.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-green-400",style:{width:`${r.orders_by_status.delivered/r.total_orders*100}%`}})})]}),l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx("div",{className:"w-16 text-midnight-300",children:"Cancelled"}),l.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-red-400",style:{width:`${r.orders_by_status.cancelled/r.total_orders*100}%`}})})]})]}):l.jsx("p",{className:"text-xs text-midnight-400",children:"No orders to display"})})]})]})}),l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-midnight-300 text-sm",children:"Total Customers"}),l.jsx("p",{className:"text-2xl font-bold text-midnight-50",children:r.total_customers})]})]})}),l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",parseFloat(r.total_revenue||0).toFixed(2)]})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[l.jsx("div",{className:"px-6 py-4 border-b border-midnight-700",children:l.jsx("h2",{className:"text-xl font-semibold text-midnight-50",children:"Recent Orders"})}),l.jsxs("div",{className:"p-6",children:[r.recent_orders.length===0?l.jsx("p",{className:"text-midnight-400",children:"No recent orders"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[500px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-midnight-800",children:[l.jsx("th",{className:"text-left p-2 text-white min-w-[100px]",children:"Order #"}),l.jsx("th",{className:"text-left p-2 text-white min-w-[150px]",children:"Customer"}),l.jsx("th",{className:"text-left p-2 text-white min-w-[120px]",children:"Status"}),l.jsx("th",{className:"text-right p-2 text-white min-w-[100px]",children:"Amount"})]})}),l.jsx("tbody",{children:r.recent_orders.map(s=>l.jsxs("tr",{className:"border-t border-midnight-700",children:[l.jsx("td",{className:"p-2",children:l.jsxs(_t,{to:`/admin/orders/${s.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:["#",s.id]})}),l.jsxs("td",{className:"p-2 text-white",children:[s.first_name," ",s.last_name]}),l.jsx("td",{className:"p-2",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${!s.status||typeof s.status!="string"?"bg-gray-600 text-gray-100":s.status==="pending"?"bg-yellow-600 text-yellow-100":s.status==="processing"?"bg-blue-600 text-blue-100":s.status==="shipped"?"bg-emerald-600 text-emerald-100":s.status==="delivered"?"bg-green-600 text-green-100":"bg-red-600 text-red-100"}`,children:s.status&&typeof s.status=="string"&&s.status.length>0?s.status.charAt(0).toUpperCase()+s.status.slice(1):"Pending"})}),l.jsxs("td",{className:"p-2 text-right text-white",children:["$",parseFloat(s.total_amount||0).toFixed(2)]})]},s.id))})]})}),l.jsx("div",{className:"mt-4 text-right",children:l.jsx(_t,{to:"/admin/orders",className:"text-midnight-300 hover:text-midnight-100 hover:underline",children:"View All Orders"})})]})]}),l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[l.jsx("div",{className:"px-6 py-4 border-b border-midnight-700",children:l.jsx("h2",{className:"text-xl font-semibold text-midnight-50",children:"Low Stock Products"})}),l.jsxs("div",{className:"p-6",children:[r.low_stock.length===0?l.jsx("p",{className:"text-midnight-400",children:"No low stock products"}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[400px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-midnight-800",children:[l.jsx("th",{className:"text-left p-2 text-white min-w-[200px]",children:"Product"}),l.jsx("th",{className:"text-right p-2 text-white min-w-[80px]",children:"Stock"}),l.jsx("th",{className:"text-center p-2 text-white min-w-[120px]",children:"Action"})]})}),l.jsx("tbody",{children:r.low_stock.map(s=>l.jsxs("tr",{className:"border-t border-midnight-700",children:[l.jsx("td",{className:"p-2",children:l.jsx(_t,{to:`/admin/products/edit/${s.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:s.name})}),l.jsx("td",{className:"p-2 text-right",children:l.jsx("span",{className:`font-semibold ${s.quantity<=0?"text-red-400":"text-yellow-400"}`,children:s.quantity})}),l.jsx("td",{className:"p-2 text-center",children:l.jsx(_t,{to:`/admin/products/edit/${s.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:"Update Stock"})})]},s.id))})]})}),l.jsx("div",{className:"mt-4 text-right",children:l.jsx(_t,{to:"/admin/products",className:"text-midnight-300 hover:text-midnight-100 hover:underline",children:"View All Products"})})]})]})]})]})};var pm={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var zR=pm.exports,q5;function HR(){return q5||(q5=1,function(r,e){((t,n)=>{r.exports=n()})(zR,function t(){var n=typeof self!="undefined"?self:typeof window!="undefined"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},c=0,u={};function d(D){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(O){var q=B(O);q.chunkSize=parseInt(q.chunkSize),O.step||O.chunk||(q.chunkSize=null),this._handle=new w(q),(this._handle.streamer=this)._config=q}.call(this,D),this.parseChunk=function(O,q){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let X=this._config.newline;X||(U=this._config.quoteChar||'"',X=this._handle.guessLineEndings(O,U)),O=[...O.split(X).slice(I)].join(X)}this.isFirstChunk&&F(this._config.beforeFirstChunk)&&(U=this._config.beforeFirstChunk(O))!==void 0&&(O=U),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+O,U=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=U.meta.cursor,I=(this._finished||(this._partialLine=I.substring(O-this._baseIndex),this._baseIndex=O),U&&U.data&&(this._rowCount+=U.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:U,workerId:u.WORKER_ID,finished:I});else if(F(this._config.chunk)&&!q){if(this._config.chunk(U,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=U=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(U.data),this._completeResults.errors=this._completeResults.errors.concat(U.errors),this._completeResults.meta=U.meta),this._completed||!I||!F(this._config.complete)||U&&U.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||U&&U.meta.paused||this._nextChunk(),U}this._halted=!0},this._sendError=function(O){F(this._config.error)?this._config.error(O):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:O,finished:!1})}}function p(D){var O;(D=D||{}).chunkSize||(D.chunkSize=u.RemoteChunkSize),d.call(this,D),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(q){this._input=q,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),i||(O.onload=M(this._chunkLoaded,this),O.onerror=M(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var q,I=this._config.downloadRequestHeaders;for(q in I)O.setRequestHeader(q,I[q])}var U;this._config.chunkSize&&(U=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+U));try{O.send(this._config.downloadRequestBody)}catch(X){this._chunkError(X.message)}i&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(q=>(q=q.getResponseHeader("Content-Range"))!==null?parseInt(q.substring(q.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(q){q=O.statusText||q,this._sendError(new Error(q))}}function g(D){(D=D||{}).chunkSize||(D.chunkSize=u.LocalChunkSize),d.call(this,D);var O,q,I=typeof FileReader!="undefined";this.stream=function(U){this._input=U,q=U.slice||U.webkitSlice||U.mozSlice,I?((O=new FileReader).onload=M(this._chunkLoaded,this),O.onerror=M(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var U=this._input,X=(this._config.chunkSize&&(X=Math.min(this._start+this._config.chunkSize,this._input.size),U=q.call(U,this._start,X)),O.readAsText(U,this._config.encoding));I||this._chunkLoaded({target:{result:X}})},this._chunkLoaded=function(U){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(U.target.result)},this._chunkError=function(){this._sendError(O.error)}}function m(D){var O;d.call(this,D=D||{}),this.stream=function(q){return O=q,this._nextChunk()},this._nextChunk=function(){var q,I;if(!this._finished)return q=this._config.chunkSize,O=q?(I=O.substring(0,q),O.substring(q)):(I=O,""),this._finished=!O,this.parseChunk(I)}}function y(D){d.call(this,D=D||{});var O=[],q=!0,I=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(U){this._input=U,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):q=!0},this._streamData=M(function(U){try{O.push(typeof U=="string"?U:U.toString(this._config.encoding)),q&&(q=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(X){this._streamError(X)}},this),this._streamError=M(function(U){this._streamCleanUp(),this._sendError(U)},this),this._streamEnd=M(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(D){var O,q,I,U,X=Math.pow(2,53),ae=-X,Se=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ce=this,we=0,ue=0,Y=!1,xe=!1,R=[],P={data:[],errors:[],meta:{}};function H(ve){return D.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function G(){if(P&&I&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),I=!1),D.skipEmptyLines&&(P.data=P.data.filter(function(Ne){return!H(Ne)})),J()){let Ne=function(Be,rt){F(D.transformHeader)&&(Be=D.transformHeader(Be,rt)),R.push(Be)};if(P)if(Array.isArray(P.data[0])){for(var ve=0;J()&&ve<P.data.length;ve++)P.data[ve].forEach(Ne);P.data.splice(0,1)}else P.data.forEach(Ne)}function he(Ne,Be){for(var rt=D.header?{}:[],ft=0;ft<Ne.length;ft++){var ze=ft,te=Ne[ft],te=((ke,Ze)=>(Te=>(D.dynamicTypingFunction&&D.dynamicTyping[Te]===void 0&&(D.dynamicTyping[Te]=D.dynamicTypingFunction(Te)),(D.dynamicTyping[Te]||D.dynamicTyping)===!0))(ke)?Ze==="true"||Ze==="TRUE"||Ze!=="false"&&Ze!=="FALSE"&&((Te=>{if(Se.test(Te)&&(Te=parseFloat(Te),ae<Te&&Te<X))return 1})(Ze)?parseFloat(Ze):Q.test(Ze)?new Date(Ze):Ze===""?null:Ze):Ze)(ze=D.header?ft>=R.length?"__parsed_extra":R[ft]:ze,te=D.transform?D.transform(te,ze):te);ze==="__parsed_extra"?(rt[ze]=rt[ze]||[],rt[ze].push(te)):rt[ze]=te}return D.header&&(ft>R.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+ft,ue+Be):ft<R.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+ft,ue+Be)),rt}var pe;P&&(D.header||D.dynamicTyping||D.transform)&&(pe=1,!P.data.length||Array.isArray(P.data[0])?(P.data=P.data.map(he),pe=P.data.length):P.data=he(P.data,0),D.header&&P.meta&&(P.meta.fields=R),ue+=pe)}function J(){return D.header&&R.length===0}function Ee(ve,he,pe,Ne){ve={type:ve,code:he,message:pe},Ne!==void 0&&(ve.row=Ne),P.errors.push(ve)}F(D.step)&&(U=D.step,D.step=function(ve){P=ve,J()?G():(G(),P.data.length!==0&&(we+=ve.data.length,D.preview&&we>D.preview?q.abort():(P.data=P.data[0],U(P,ce))))}),this.parse=function(ve,he,pe){var Ne=D.quoteChar||'"',Ne=(D.newline||(D.newline=this.guessLineEndings(ve,Ne)),I=!1,D.delimiter?F(D.delimiter)&&(D.delimiter=D.delimiter(ve),P.meta.delimiter=D.delimiter):((Ne=((Be,rt,ft,ze,te)=>{var ke,Ze,Te,Ie;te=te||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var ot=0;ot<te.length;ot++){for(var mt,vt=te[ot],Tt=0,zt=0,It=0,Mt=(Te=void 0,new S({comments:ze,delimiter:vt,newline:rt,preview:10}).parse(Be)),Xt=0;Xt<Mt.data.length;Xt++)ft&&H(Mt.data[Xt])?It++:(mt=Mt.data[Xt].length,zt+=mt,Te===void 0?Te=mt:0<mt&&(Tt+=Math.abs(mt-Te),Te=mt));0<Mt.data.length&&(zt/=Mt.data.length-It),(Ze===void 0||Tt<=Ze)&&(Ie===void 0||Ie<zt)&&1.99<zt&&(Ze=Tt,ke=vt,Ie=zt)}return{successful:!!(D.delimiter=ke),bestDelimiter:ke}})(ve,D.newline,D.skipEmptyLines,D.comments,D.delimitersToGuess)).successful?D.delimiter=Ne.bestDelimiter:(I=!0,D.delimiter=u.DefaultDelimiter),P.meta.delimiter=D.delimiter),B(D));return D.preview&&D.header&&Ne.preview++,O=ve,q=new S(Ne),P=q.parse(O,he,pe),G(),Y?{meta:{paused:!0}}:P||{meta:{paused:!1}}},this.paused=function(){return Y},this.pause=function(){Y=!0,q.abort(),O=F(D.chunk)?"":O.substring(q.getCharIndex())},this.resume=function(){ce.streamer._halted?(Y=!1,ce.streamer.parseChunk(O,!0)):setTimeout(ce.resume,3)},this.aborted=function(){return xe},this.abort=function(){xe=!0,q.abort(),P.meta.aborted=!0,F(D.complete)&&D.complete(P),O=""},this.guessLineEndings=function(Be,Ne){Be=Be.substring(0,1048576);var Ne=new RegExp(_(Ne)+"([^]*?)"+_(Ne),"gm"),pe=(Be=Be.replace(Ne,"")).split("\r"),Ne=Be.split(`
`),Be=1<Ne.length&&Ne[0].length<pe[0].length;if(pe.length===1||Be)return`
`;for(var rt=0,ft=0;ft<pe.length;ft++)pe[ft][0]===`
`&&rt++;return rt>=pe.length/2?`\r
`:"\r"}}function _(D){return D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(D){var O=(D=D||{}).delimiter,q=D.newline,I=D.comments,U=D.step,X=D.preview,ae=D.fastMode,Se=null,Q=!1,ce=D.quoteChar==null?'"':D.quoteChar,we=ce;if(D.escapeChar!==void 0&&(we=D.escapeChar),(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=","),I===O)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<u.BAD_DELIMITERS.indexOf(I))&&(I=!1),q!==`
`&&q!=="\r"&&q!==`\r
`&&(q=`
`);var ue=0,Y=!1;this.parse=function(xe,R,P){if(typeof xe!="string")throw new Error("Input must be a string");var H=xe.length,G=O.length,J=q.length,Ee=I.length,ve=F(U),he=[],pe=[],Ne=[],Be=ue=0;if(!xe)return Tt();if(ae||ae!==!1&&xe.indexOf(ce)===-1){for(var rt=xe.split(q),ft=0;ft<rt.length;ft++){if(Ne=rt[ft],ue+=Ne.length,ft!==rt.length-1)ue+=q.length;else if(P)return Tt();if(!I||Ne.substring(0,Ee)!==I){if(ve){if(he=[],Ie(Ne.split(O)),zt(),Y)return Tt()}else Ie(Ne.split(O));if(X&&X<=ft)return he=he.slice(0,X),Tt(!0)}}return Tt()}for(var ze=xe.indexOf(O,ue),te=xe.indexOf(q,ue),ke=new RegExp(_(we)+_(ce),"g"),Ze=xe.indexOf(ce,ue);;)if(xe[ue]===ce)for(Ze=ue,ue++;;){if((Ze=xe.indexOf(ce,Ze+1))===-1)return P||pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:he.length,index:ue}),mt();if(Ze===H-1)return mt(xe.substring(ue,Ze).replace(ke,ce));if(ce===we&&xe[Ze+1]===we)Ze++;else if(ce===we||Ze===0||xe[Ze-1]!==we){ze!==-1&&ze<Ze+1&&(ze=xe.indexOf(O,Ze+1));var Te=ot((te=te!==-1&&te<Ze+1?xe.indexOf(q,Ze+1):te)===-1?ze:Math.min(ze,te));if(xe.substr(Ze+1+Te,G)===O){Ne.push(xe.substring(ue,Ze).replace(ke,ce)),xe[ue=Ze+1+Te+G]!==ce&&(Ze=xe.indexOf(ce,ue)),ze=xe.indexOf(O,ue),te=xe.indexOf(q,ue);break}if(Te=ot(te),xe.substring(Ze+1+Te,Ze+1+Te+J)===q){if(Ne.push(xe.substring(ue,Ze).replace(ke,ce)),vt(Ze+1+Te+J),ze=xe.indexOf(O,ue),Ze=xe.indexOf(ce,ue),ve&&(zt(),Y))return Tt();if(X&&he.length>=X)return Tt(!0);break}pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:he.length,index:ue}),Ze++}}else if(I&&Ne.length===0&&xe.substring(ue,ue+Ee)===I){if(te===-1)return Tt();ue=te+J,te=xe.indexOf(q,ue),ze=xe.indexOf(O,ue)}else if(ze!==-1&&(ze<te||te===-1))Ne.push(xe.substring(ue,ze)),ue=ze+G,ze=xe.indexOf(O,ue);else{if(te===-1)break;if(Ne.push(xe.substring(ue,te)),vt(te+J),ve&&(zt(),Y))return Tt();if(X&&he.length>=X)return Tt(!0)}return mt();function Ie(It){he.push(It),Be=ue}function ot(It){var Mt=0;return Mt=It!==-1&&(It=xe.substring(Ze+1,It))&&It.trim()===""?It.length:Mt}function mt(It){return P||(It===void 0&&(It=xe.substring(ue)),Ne.push(It),ue=H,Ie(Ne),ve&&zt()),Tt()}function vt(It){ue=It,Ie(Ne),Ne=[],te=xe.indexOf(q,ue)}function Tt(It){if(D.header&&!R&&he.length&&!Q){var Mt=he[0],Xt={},Pt=new Set(Mt);let cr=!1;for(let At=0;At<Mt.length;At++){let Hr=Mt[At];if(Xt[Hr=F(D.transformHeader)?D.transformHeader(Hr,At):Hr]){let or,ea=Xt[Hr];for(;or=Hr+"_"+ea,ea++,Pt.has(or););Pt.add(or),Mt[At]=or,Xt[Hr]++,cr=!0,(Se=Se===null?{}:Se)[or]=Hr}else Xt[Hr]=1,Mt[At]=Hr;Pt.add(Hr)}cr&&console.warn("Duplicate headers found and renamed."),Q=!0}return{data:he,errors:pe,meta:{delimiter:O,linebreak:q,aborted:Y,truncated:!!It,cursor:Be+(R||0),renamedHeaders:Se}}}function zt(){U(Tt()),he=[],pe=[]}},this.abort=function(){Y=!0},this.getCharIndex=function(){return ue}}function A(D){var O=D.data,q=o[O.workerId],I=!1;if(O.error)q.userError(O.error,O.file);else if(O.results&&O.results.data){var U={abort:function(){I=!0,C(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:L,resume:L};if(F(q.userStep)){for(var X=0;X<O.results.data.length&&(q.userStep({data:O.results.data[X],errors:O.results.errors,meta:O.results.meta},U),!I);X++);delete O.results}else F(q.userChunk)&&(q.userChunk(O.results,U,O.file),delete O.results)}O.finished&&!I&&C(O.workerId,O.results)}function C(D,O){var q=o[D];F(q.userComplete)&&q.userComplete(O),q.terminate(),delete o[D]}function L(){throw new Error("Not implemented.")}function B(D){if(typeof D!="object"||D===null)return D;var O,q=Array.isArray(D)?[]:{};for(O in D)q[O]=B(D[O]);return q}function M(D,O){return function(){D.apply(O,arguments)}}function F(D){return typeof D=="function"}return u.parse=function(D,O){var q=(O=O||{}).dynamicTyping||!1;if(F(q)&&(O.dynamicTypingFunction=q,q={}),O.dynamicTyping=q,O.transform=!!F(O.transform)&&O.transform,!O.worker||!u.WORKERS_SUPPORTED)return q=null,u.NODE_STREAM_INPUT,typeof D=="string"?(D=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(D),q=new(O.download?p:m)(O)):D.readable===!0&&F(D.read)&&F(D.on)?q=new y(O):(n.File&&D instanceof File||D instanceof Object)&&(q=new g(O)),q.stream(D);(q=(()=>{var I;return!!u.WORKERS_SUPPORTED&&(I=(()=>{var U=n.URL||n.webkitURL||null,X=t.toString();return u.BLOB_URL||(u.BLOB_URL=U.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",X,")();"],{type:"text/javascript"})))})(),(I=new n.Worker(I)).onmessage=A,I.id=c++,o[I.id]=I)})()).userStep=O.step,q.userChunk=O.chunk,q.userComplete=O.complete,q.userError=O.error,O.step=F(O.step),O.chunk=F(O.chunk),O.complete=F(O.complete),O.error=F(O.error),delete O.worker,q.postMessage({input:D,config:O,workerId:q.id})},u.unparse=function(D,O){var q=!1,I=!0,U=",",X=`\r
`,ae='"',Se=ae+ae,Q=!1,ce=null,we=!1,ue=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||u.BAD_DELIMITERS.filter(function(R){return O.delimiter.indexOf(R)!==-1}).length||(U=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(q=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(Q=O.skipEmptyLines),typeof O.newline=="string"&&(X=O.newline),typeof O.quoteChar=="string"&&(ae=O.quoteChar),typeof O.header=="boolean"&&(I=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");ce=O.columns}O.escapeChar!==void 0&&(Se=O.escapeChar+ae),O.escapeFormulae instanceof RegExp?we=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(we=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(ae),"g"));if(typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(D)){if(!D.length||Array.isArray(D[0]))return Y(null,D,Q);if(typeof D[0]=="object")return Y(ce||Object.keys(D[0]),D,Q)}else if(typeof D=="object")return typeof D.data=="string"&&(D.data=JSON.parse(D.data)),Array.isArray(D.data)&&(D.fields||(D.fields=D.meta&&D.meta.fields||ce),D.fields||(D.fields=Array.isArray(D.data[0])?D.fields:typeof D.data[0]=="object"?Object.keys(D.data[0]):[]),Array.isArray(D.data[0])||typeof D.data[0]=="object"||(D.data=[D.data])),Y(D.fields||[],D.data||[],Q);throw new Error("Unable to serialize unrecognized input");function Y(R,P,H){var G="",J=(typeof R=="string"&&(R=JSON.parse(R)),typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(R)&&0<R.length),Ee=!Array.isArray(P[0]);if(J&&I){for(var ve=0;ve<R.length;ve++)0<ve&&(G+=U),G+=xe(R[ve],ve);0<P.length&&(G+=X)}for(var he=0;he<P.length;he++){var pe=(J?R:P[he]).length,Ne=!1,Be=J?Object.keys(P[he]).length===0:P[he].length===0;if(H&&!J&&(Ne=H==="greedy"?P[he].join("").trim()==="":P[he].length===1&&P[he][0].length===0),H==="greedy"&&J){for(var rt=[],ft=0;ft<pe;ft++){var ze=Ee?R[ft]:ft;rt.push(P[he][ze])}Ne=rt.join("").trim()===""}if(!Ne){for(var te=0;te<pe;te++){0<te&&!Be&&(G+=U);var ke=J&&Ee?R[te]:te;G+=xe(P[he][ke],te)}he<P.length-1&&(!H||0<pe&&!Be)&&(G+=X)}}return G}function xe(R,P){var H,G;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(G=!1,we&&typeof R=="string"&&we.test(R)&&(R="'"+R,G=!0),H=R.toString().replace(ue,Se),(G=G||q===!0||typeof q=="function"&&q(R,P)||Array.isArray(q)&&q[P]||((J,Ee)=>{for(var ve=0;ve<Ee.length;ve++)if(-1<J.indexOf(Ee[ve]))return!0;return!1})(H,u.BAD_DELIMITERS)||-1<H.indexOf(U)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?ae+H+ae:H)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=S,u.ParserHandle=w,u.NetworkStreamer=p,u.FileStreamer=g,u.StringStreamer=m,u.ReadableStreamStreamer=y,n.jQuery&&((a=n.jQuery).fn.parse=function(D){var O=D.config||{},q=[];return this.each(function(X){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ae=0;ae<this.files.length;ae++)q.push({file:this.files[ae],inputElem:this,instanceConfig:a.extend({},O)})}),I(),this;function I(){if(q.length===0)F(D.complete)&&D.complete();else{var X,ae,Se,Q,ce=q[0];if(F(D.before)){var we=D.before(ce.file,ce.inputElem);if(typeof we=="object"){if(we.action==="abort")return X="AbortError",ae=ce.file,Se=ce.inputElem,Q=we.reason,void(F(D.error)&&D.error({name:X},ae,Se,Q));if(we.action==="skip")return void U();typeof we.config=="object"&&(ce.instanceConfig=a.extend(ce.instanceConfig,we.config))}else if(we==="skip")return void U()}var ue=ce.instanceConfig.complete;ce.instanceConfig.complete=function(Y){F(ue)&&ue(Y,ce.file,ce.inputElem),U()},u.parse(ce.file,ce.instanceConfig)}}function U(){q.splice(0,1),I()}}),s&&(n.onmessage=function(D){D=D.data,u.WORKER_ID===void 0&&D&&(u.WORKER_ID=D.workerId),typeof D.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(D.input,D.config),finished:!0}):(n.File&&D.input instanceof File||D.input instanceof Object)&&(D=u.parse(D.input,D.config))&&n.postMessage({workerId:u.WORKER_ID,results:D,finished:!0})}),(p.prototype=Object.create(d.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(d.prototype)).constructor=y,u})}(pm)),pm.exports}var qR=HR();const $R=Ry(qR),VR=[["name","price","category_id","quantity","description","condition_status","part_number","barcode","warehouse_id","bin_number"],["Universal Piston Kit","149.99","Engine Parts","10","High-quality universal piston kit.","New","PK-001","123456789","1","A-01"],["Front Brake Caliper","89.95","Brakes","5","Refurbished front brake caliper.","Refurbished","BC-102","","1","B-05"],["Electrical Wiring Harness","75.50","Electrical","8","Complete wiring harness.","New","WH-200","","2","C-10"],["Carburetor Rebuild Kit","45.00","Engine Parts","15","Complete rebuild kit.","New","CRK-55","","1","A-02"],["Headlight Assembly","65.75","Bodywork","3","Chrome headlight assembly.","Used","HL-88","","2","D-03"]],GR=()=>{let r="";VR.forEach(a=>{const i=a.map(s=>typeof s=="string"&&(s.includes(",")||s.includes('"')||s.includes(`
`))?`"${s.replace(/"/g,'""')}"`:s);r+=i.join(",")+`
`});const e=new Blob([r],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.setAttribute("download","sample-products.csv"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)},WR=({isOpen:r,onClose:e,onImport:t,categories:n})=>{const[a,i]=V.useState(null),[s,o]=V.useState(""),[c,u]=V.useState([]),[d,p]=V.useState([]),[g,m]=V.useState([]),[y,w]=V.useState(!1),[_,S]=V.useState(""),[A,C]=V.useState(1),[L,B]=V.useState({}),[M]=V.useState(["name","price","category_id","quantity"]),F=V.useRef(null),{error:D,success:O}=Mn();V.useEffect(()=>{r||(i(null),o(""),u([]),p([]),m([]),w(!1),S(""),C(1),B({}))},[r]);const q=Q=>{const ce=Q.target.files[0];if(ce){if(ce.type!=="text/csv"&&!ce.name.endsWith(".csv")){S("Please select a valid CSV file"),i(null),o("");return}i(ce),o(ce.name),S(""),I(ce)}},I=Q=>{w(!0),$R.parse(Q,{header:!0,skipEmptyLines:!0,complete:ce=>{if(ce.data.length===0){S("The CSV file is empty"),w(!1);return}const we=Object.keys(ce.data[0]);p(we);const ue={};we.forEach(Y=>{const xe=Y.toLowerCase().trim().replace(/\s+/g,"_");M.includes(xe)&&(ue[xe]=Y)}),B(ue),u(ce.data),m(ce.data.slice(0,5)),w(!1),C(2)},error:ce=>{S(`Error parsing CSV: ${ce.message}`),w(!1)}})},U=()=>{const Q=M.filter(ce=>!L[ce]);return Q.length>0?(S(`Missing required field mappings: ${Q.join(", ")}`),!1):!0},X=()=>{if(U())try{const Q=c.map((ce,we)=>{const ue={};return Object.entries(L).forEach(([Y,xe])=>{let R=ce[xe];if(Y==="price"&&(R=parseFloat(R.replace(/[^0-9.-]+/g,"")),isNaN(R)))throw new Error(`Invalid price in row ${we+1}: ${ce[xe]}`);if(Y==="quantity"&&(R=parseInt(R,10),isNaN(R)))throw new Error(`Invalid quantity in row ${we+1}: ${ce[xe]}`);if(Y==="category_id"){let P=null;if(isNaN(parseInt(R))||(P=n.find(H=>String(H.id)===String(R))),P||(P=n.find(H=>H.name.toLowerCase()===String(R).toLowerCase())),!P){const H=n.map(G=>`${G.id}: ${G.name}`).join(", ");throw new Error(`Invalid category in row ${we+1}: "${R}". Available categories are: ${H}`)}R=P.id,console.log(`Mapped category "${R}" to ID: ${P.id} (${P.name})`)}ue[Y]=R}),ue.description=ue.description||"",ue.image_url="",ue.condition_status=ue.condition_status||"New",ue.part_number=ue.part_number||"",ue.barcode=ue.barcode||"",ue.warehouse_id=ue.warehouse_id||"",ue.bin_number=ue.bin_number||"",ue});t(Q),O(`Successfully processed ${Q.length} products for import`),e()}catch(Q){S(Q.message)}},ae=Q=>{Q.preventDefault(),Q.stopPropagation()},Se=Q=>{if(Q.preventDefault(),Q.stopPropagation(),Q.dataTransfer.files&&Q.dataTransfer.files.length>0){const ce=Q.dataTransfer.files[0];ce.type==="text/csv"||ce.name.endsWith(".csv")?(i(ce),o(ce.name),S(""),I(ce)):S("Please drop a valid CSV file")}};return r?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"bg-blue-800 text-white px-6 py-4 flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Import Products from CSV"}),l.jsx("button",{onClick:e,className:"text-white hover:text-gray-200",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[A===1&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-4 text-gray-700",children:"Upload a CSV file containing product data. The file should have columns for product name, price, category, and quantity."}),l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 text-blue-700 rounded-md",children:[l.jsxs("p",{className:"text-sm",children:[l.jsx("strong",{children:"Tip:"})," You can ",l.jsx("button",{onClick:GR,className:"text-blue-600 underline hover:text-blue-800 bg-transparent border-none p-0 cursor-pointer font-normal",type:"button",children:"download a sample CSV file"})," to see the expected format."]}),l.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-100",children:[l.jsx("p",{className:"text-sm font-semibold",children:"Available Categories:"}),l.jsx("div",{className:"mt-1 text-xs grid grid-cols-2 md:grid-cols-3 gap-1",children:n.map(Q=>l.jsxs("div",{className:"flex items-center",children:[l.jsxs("span",{className:"font-medium",children:[Q.id,":"]})," ",Q.name]},Q.id))})]})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{var Q;return(Q=F.current)==null?void 0:Q.click()},onDragOver:ae,onDrop:Se,children:[l.jsx("input",{type:"file",ref:F,onChange:q,accept:".csv",className:"hidden"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Drag and drop a CSV file here, or click to select a file"}),s&&l.jsx("p",{className:"mt-2 text-blue-600",children:s})]})]}),A===2&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preview Data"}),l.jsx("p",{className:"mb-4 text-gray-700",children:"Review the first 5 rows of your CSV file and map the columns to product fields."}),g.length>0&&l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsx("tr",{children:d.map((Q,ce)=>{var we;return l.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[Q,l.jsxs("select",{className:"block w-full mt-1 text-sm border-gray-300 rounded-md",value:((we=Object.entries(L).find(([ue,Y])=>Y===Q))==null?void 0:we[0])||"",onChange:ue=>{const Y=Object.entries(L).find(([xe,R])=>R===Q);if(Y){const xe=wt({},L);delete xe[Y[0]],ue.target.value&&(xe[ue.target.value]=Q),B(xe)}else ue.target.value&&B(Ft(wt({},L),{[ue.target.value]:Q}))},children:[l.jsx("option",{value:"",children:"-- Map to field --"}),l.jsx("option",{value:"name",children:"Product Name"}),l.jsx("option",{value:"price",children:"Price"}),l.jsx("option",{value:"category_id",children:"Category"}),l.jsx("option",{value:"quantity",children:"Quantity"}),l.jsx("option",{value:"description",children:"Description"}),l.jsx("option",{value:"condition_status",children:"Condition"}),l.jsx("option",{value:"part_number",children:"Part Number"}),l.jsx("option",{value:"barcode",children:"Barcode"}),l.jsx("option",{value:"warehouse_id",children:"Warehouse ID"}),l.jsx("option",{value:"bin_number",children:"Bin Number"})]})]},ce)})})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((Q,ce)=>l.jsx("tr",{children:d.map((we,ue)=>l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Q[we]},ue))},ce))})]})})]}),_&&l.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-md",children:_})]}),l.jsxs("div",{className:"bg-gray-100 px-6 py-4 flex justify-between",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),l.jsxs("div",{children:[A===2&&l.jsx("button",{onClick:()=>C(1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 mr-2",children:"Back"}),A===1&&l.jsx("button",{onClick:()=>{var Q;return(Q=F.current)==null?void 0:Q.click()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",disabled:y,children:y?"Processing...":"Select File"}),A===2&&l.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",disabled:y||Object.keys(L).length===0,children:"Import Products"})]})]})]})}):null},ew=({progress:r,isVisible:e,onComplete:t})=>{const[n,a]=V.useState(0);return V.useEffect(()=>{if(e){a(0);const i=setTimeout(()=>{a(r)},100);return()=>clearTimeout(i)}},[e,r]),V.useEffect(()=>{if(n>=100&&t){const i=setTimeout(()=>{t()},500);return()=>clearTimeout(i)}},[n,t]),e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Exporting Data"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-2",children:l.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300 ease-out",style:{width:`${n}%`}})}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[Math.round(n),"%"]})]}),l.jsx("p",{className:"mt-3 text-sm text-gray-600",children:n<100?"Please wait while your file is being prepared...":"Export complete! Your download will begin shortly."})]})}):null};function hn(r){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(r)}var Di=Uint8Array,Ks=Uint16Array,tw=Int32Array,f2=new Di([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d2=new Di([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jv=new Di([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gS=function(r,e){for(var t=new Ks(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new tw(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)a[i]=i-t[n]<<5|n;return{b:t,r:a}},mS=gS(f2,2),xS=mS.b,Qv=mS.r;xS[28]=258,Qv[258]=28;var vS=gS(d2,0),XR=vS.b,$5=vS.r,ey=new Ks(32768);for(var Pn=0;Pn<32768;++Pn){var Iu=(Pn&43690)>>1|(Pn&21845)<<1;Iu=(Iu&52428)>>2|(Iu&13107)<<2,Iu=(Iu&61680)>>4|(Iu&3855)<<4,ey[Pn]=((Iu&65280)>>8|(Iu&255)<<8)>>1}var Jl=function(r,e,t){for(var n=r.length,a=0,i=new Ks(e);a<n;++a)r[a]&&++i[r[a]-1];var s=new Ks(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(t){o=new Ks(1<<e);var c=15-e;for(a=0;a<n;++a)if(r[a])for(var u=a<<4|r[a],d=e-r[a],p=s[r[a]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)o[ey[p]>>c]=u}else for(o=new Ks(n),a=0;a<n;++a)r[a]&&(o[a]=ey[s[r[a]-1]++]>>15-r[a]);return o},Ku=new Di(288);for(var Pn=0;Pn<144;++Pn)Ku[Pn]=8;for(var Pn=144;Pn<256;++Pn)Ku[Pn]=9;for(var Pn=256;Pn<280;++Pn)Ku[Pn]=7;for(var Pn=280;Pn<288;++Pn)Ku[Pn]=8;var D1=new Di(32);for(var Pn=0;Pn<32;++Pn)D1[Pn]=5;var YR=Jl(Ku,9,0),KR=Jl(Ku,9,1),ZR=Jl(D1,5,0),JR=Jl(D1,5,1),tv=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Yo=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},rv=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},rw=function(r){return(r+7)/8|0},yS=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Di(r.subarray(e,t))},QR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],nl=function(r,e,t){var n=new Error(e||QR[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,nl),!t)throw n;return n},ek=function(r,e,t,n){var a=r.length,i=0;if(!a||e.f&&!e.l)return t||new Di(0);var s=!t,o=s||e.i!=2,c=e.i;s&&(t=new Di(a*3));var u=function(Ne){var Be=t.length;if(Ne>Be){var rt=new Di(Math.max(Be*2,Ne));rt.set(t),t=rt}},d=e.f||0,p=e.p||0,g=e.b||0,m=e.l,y=e.d,w=e.m,_=e.n,S=a*8;do{if(!m){d=Yo(r,p,1);var A=Yo(r,p+1,3);if(p+=3,A)if(A==1)m=KR,y=JR,w=9,_=5;else if(A==2){var M=Yo(r,p,31)+257,F=Yo(r,p+10,15)+4,D=M+Yo(r,p+5,31)+1;p+=14;for(var O=new Di(D),q=new Di(19),I=0;I<F;++I)q[Jv[I]]=Yo(r,p+I*3,7);p+=F*3;for(var U=tv(q),X=(1<<U)-1,ae=Jl(q,U,1),I=0;I<D;){var Se=ae[Yo(r,p,X)];p+=Se&15;var C=Se>>4;if(C<16)O[I++]=C;else{var Q=0,ce=0;for(C==16?(ce=3+Yo(r,p,3),p+=2,Q=O[I-1]):C==17?(ce=3+Yo(r,p,7),p+=3):C==18&&(ce=11+Yo(r,p,127),p+=7);ce--;)O[I++]=Q}}var we=O.subarray(0,M),ue=O.subarray(M);w=tv(we),_=tv(ue),m=Jl(we,w,1),y=Jl(ue,_,1)}else nl(1);else{var C=rw(p)+4,L=r[C-4]|r[C-3]<<8,B=C+L;if(B>a){c&&nl(0);break}o&&u(g+L),t.set(r.subarray(C,B),g),e.b=g+=L,e.p=p=B*8,e.f=d;continue}if(p>S){c&&nl(0);break}}o&&u(g+131072);for(var Y=(1<<w)-1,xe=(1<<_)-1,R=p;;R=p){var Q=m[rv(r,p)&Y],P=Q>>4;if(p+=Q&15,p>S){c&&nl(0);break}if(Q||nl(2),P<256)t[g++]=P;else if(P==256){R=p,m=null;break}else{var H=P-254;if(P>264){var I=P-257,G=f2[I];H=Yo(r,p,(1<<G)-1)+xS[I],p+=G}var J=y[rv(r,p)&xe],Ee=J>>4;J||nl(3),p+=J&15;var ue=XR[Ee];if(Ee>3){var G=d2[Ee];ue+=rv(r,p)&(1<<G)-1,p+=G}if(p>S){c&&nl(0);break}o&&u(g+131072);var ve=g+H;if(g<ue){var he=i-ue,pe=Math.min(ue,ve);for(he+g<0&&nl(3);g<pe;++g)t[g]=n[he+g]}for(;g<ve;++g)t[g]=t[g-ue]}}e.l=m,e.p=R,e.b=g,e.f=d,m&&(d=1,e.m=w,e.d=y,e.n=_)}while(!d);return g!=t.length&&s?yS(t,0,g):t.subarray(0,g)},jc=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},n1=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},nv=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,i=t.slice();if(!a)return{t:bS,l:0};if(a==1){var s=new Di(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(B,M){return B.f-M.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],u=0,d=1,p=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=a-1;)o=t[t[u].f<t[p].f?u++:p++],c=t[u!=d&&t[u].f<t[p].f?u++:p++],t[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=i[0].s,n=1;n<a;++n)i[n].s>g&&(g=i[n].s);var m=new Ks(g+1),y=ty(t[d-1],m,0);if(y>e){var n=0,w=0,_=y-e,S=1<<_;for(i.sort(function(M,F){return m[F.s]-m[M.s]||M.f-F.f});n<a;++n){var A=i[n].s;if(m[A]>e)w+=S-(1<<y-m[A]),m[A]=e;else break}for(w>>=_;w>0;){var C=i[n].s;m[C]<e?w-=1<<e-m[C]++-1:++n}for(;n>=0&&w;--n){var L=i[n].s;m[L]==e&&(--m[L],++w)}y=e}return{t:new Di(m),l:y}},ty=function(r,e,t){return r.s==-1?Math.max(ty(r.l,e,t+1),ty(r.r,e,t+1)):e[r.s]=t},V5=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ks(++e),n=0,a=r[0],i=1,s=function(c){t[n++]=c},o=1;o<=e;++o)if(r[o]==a&&o!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=r[o]}return{c:t.subarray(0,n),n:e}},a1=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},wS=function(r,e,t){var n=t.length,a=rw(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var i=0;i<n;++i)r[a+i+4]=t[i];return(a+4+n)*8},G5=function(r,e,t,n,a,i,s,o,c,u,d){jc(e,d++,t),++a[256];for(var p=nv(a,15),g=p.t,m=p.l,y=nv(i,15),w=y.t,_=y.l,S=V5(g),A=S.c,C=S.n,L=V5(w),B=L.c,M=L.n,F=new Ks(19),D=0;D<A.length;++D)++F[A[D]&31];for(var D=0;D<B.length;++D)++F[B[D]&31];for(var O=nv(F,7),q=O.t,I=O.l,U=19;U>4&&!q[Jv[U-1]];--U);var X=u+5<<3,ae=a1(a,Ku)+a1(i,D1)+s,Se=a1(a,g)+a1(i,w)+s+14+3*U+a1(F,q)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&X<=ae&&X<=Se)return wS(e,d,r.subarray(c,c+u));var Q,ce,we,ue;if(jc(e,d,1+(Se<ae)),d+=2,Se<ae){Q=Jl(g,m,0),ce=g,we=Jl(w,_,0),ue=w;var Y=Jl(q,I,0);jc(e,d,C-257),jc(e,d+5,M-1),jc(e,d+10,U-4),d+=14;for(var D=0;D<U;++D)jc(e,d+3*D,q[Jv[D]]);d+=3*U;for(var xe=[A,B],R=0;R<2;++R)for(var P=xe[R],D=0;D<P.length;++D){var H=P[D]&31;jc(e,d,Y[H]),d+=q[H],H>15&&(jc(e,d,P[D]>>5&127),d+=P[D]>>12)}}else Q=YR,ce=Ku,we=ZR,ue=D1;for(var D=0;D<o;++D){var G=n[D];if(G>255){var H=G>>18&31;n1(e,d,Q[H+257]),d+=ce[H+257],H>7&&(jc(e,d,G>>23&31),d+=f2[H]);var J=G&31;n1(e,d,we[J]),d+=ue[J],J>3&&(n1(e,d,G>>5&8191),d+=d2[J])}else n1(e,d,Q[G]),d+=ce[G]}return n1(e,d,Q[256]),d+ce[256]},tk=new tw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bS=new Di(0),rk=function(r,e,t,n,a,i){var s=i.z||r.length,o=new Di(n+s+5*(1+Math.ceil(s/7e3))+a),c=o.subarray(n,o.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var p=tk[e-1],g=p>>13,m=p&8191,y=(1<<t)-1,w=i.p||new Ks(32768),_=i.h||new Ks(y+1),S=Math.ceil(t/3),A=2*S,C=function(ft){return(r[ft]^r[ft+1]<<S^r[ft+2]<<A)&y},L=new tw(25e3),B=new Ks(288),M=new Ks(32),F=0,D=0,O=i.i||0,q=0,I=i.w||0,U=0;O+2<s;++O){var X=C(O),ae=O&32767,Se=_[X];if(w[ae]=Se,_[X]=ae,I<=O){var Q=s-O;if((F>7e3||q>24576)&&(Q>423||!u)){d=G5(r,c,0,L,B,M,D,q,U,O-U,d),q=F=D=0,U=O;for(var ce=0;ce<286;++ce)B[ce]=0;for(var ce=0;ce<30;++ce)M[ce]=0}var we=2,ue=0,Y=m,xe=ae-Se&32767;if(Q>2&&X==C(O-xe))for(var R=Math.min(g,Q)-1,P=Math.min(32767,O),H=Math.min(258,Q);xe<=P&&--Y&&ae!=Se;){if(r[O+we]==r[O+we-xe]){for(var G=0;G<H&&r[O+G]==r[O+G-xe];++G);if(G>we){if(we=G,ue=xe,G>R)break;for(var J=Math.min(xe,G-2),Ee=0,ce=0;ce<J;++ce){var ve=O-xe+ce&32767,he=w[ve],pe=ve-he&32767;pe>Ee&&(Ee=pe,Se=ve)}}}ae=Se,Se=w[ae],xe+=ae-Se&32767}if(ue){L[q++]=268435456|Qv[we]<<18|$5[ue];var Ne=Qv[we]&31,Be=$5[ue]&31;D+=f2[Ne]+d2[Be],++B[257+Ne],++M[Be],I=O+we,++F}else L[q++]=r[O],++B[r[O]]}}for(O=Math.max(O,I);O<s;++O)L[q++]=r[O],++B[r[O]];d=G5(r,c,u,L,B,M,D,q,U,O-U,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=_,i.p=w,i.i=O,i.w=I)}else{for(var O=i.w||0;O<s+u;O+=65535){var rt=O+65535;rt>=s&&(c[d/8|0]=u,rt=s),d=wS(c,d+1,r.subarray(O,rt))}i.i=s}return yS(o,0,n+rw(d)+a)},_S=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,i=t.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=t[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},nk=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Di(i.length+r.length);s.set(i),s.set(r,i.length),r=s,a.w=i.length}return rk(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},SS=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},ak=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=_S();a.p(e.dictionary),SS(r,2,a.d())}},ik=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&nl(6,"invalid zlib data"),(r[1]>>5&1)==1&&nl(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function ry(r,e){e||(e={});var t=_S();t.p(r);var n=nk(r,e,e.dictionary?6:2,4);return ak(n,e),SS(n,n.length-4,t.d()),n}function sk(r,e){return ek(r.subarray(ik(r),-4),{i:2},e,e)}var ok=typeof TextDecoder!="undefined"&&new TextDecoder,lk=0;try{ok.decode(bS,{stream:!0}),lk=1}catch(r){}var nr=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function av(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var En={log:av,warn:function(r){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):av.call(null,arguments))},error:function(r){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):av(r))}};function iv(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Y0(n.response,e,t)},n.onerror=function(){En.error("could not download file")},n.send()}function W5(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function lg(r){try{r.dispatchEvent(new MouseEvent("click"))}catch(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var S1,ny,Y0=nr.saveAs||((typeof window=="undefined"?"undefined":hn(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=nr.URL||nr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?W5(a.href)?iv(r,e,t):lg(a,a.target="_blank"):lg(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){lg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(W5(r))iv(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){lg(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:hn(i)!=="object"&&(En.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return iv(r,e,t);var a=r.type==="application/octet-stream",i=/constructor/i.test(nr.HTMLElement)||nr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader=="undefined"?"undefined":hn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(r)}else{var c=nr.URL||nr.webkitURL,u=c.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ES(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,i=t[n].process,s=a.exec(r);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function sv(r,e){var t=r[0],n=r[1],a=r[2],i=r[3];t=Ci(t,n,a,i,e[0],7,-680876936),i=Ci(i,t,n,a,e[1],12,-389564586),a=Ci(a,i,t,n,e[2],17,606105819),n=Ci(n,a,i,t,e[3],22,-1044525330),t=Ci(t,n,a,i,e[4],7,-176418897),i=Ci(i,t,n,a,e[5],12,1200080426),a=Ci(a,i,t,n,e[6],17,-1473231341),n=Ci(n,a,i,t,e[7],22,-45705983),t=Ci(t,n,a,i,e[8],7,1770035416),i=Ci(i,t,n,a,e[9],12,-1958414417),a=Ci(a,i,t,n,e[10],17,-42063),n=Ci(n,a,i,t,e[11],22,-1990404162),t=Ci(t,n,a,i,e[12],7,1804603682),i=Ci(i,t,n,a,e[13],12,-40341101),a=Ci(a,i,t,n,e[14],17,-1502002290),t=Ti(t,n=Ci(n,a,i,t,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Ti(i,t,n,a,e[6],9,-1069501632),a=Ti(a,i,t,n,e[11],14,643717713),n=Ti(n,a,i,t,e[0],20,-373897302),t=Ti(t,n,a,i,e[5],5,-701558691),i=Ti(i,t,n,a,e[10],9,38016083),a=Ti(a,i,t,n,e[15],14,-660478335),n=Ti(n,a,i,t,e[4],20,-405537848),t=Ti(t,n,a,i,e[9],5,568446438),i=Ti(i,t,n,a,e[14],9,-1019803690),a=Ti(a,i,t,n,e[3],14,-187363961),n=Ti(n,a,i,t,e[8],20,1163531501),t=Ti(t,n,a,i,e[13],5,-1444681467),i=Ti(i,t,n,a,e[2],9,-51403784),a=Ti(a,i,t,n,e[7],14,1735328473),t=ji(t,n=Ti(n,a,i,t,e[12],20,-1926607734),a,i,e[5],4,-378558),i=ji(i,t,n,a,e[8],11,-2022574463),a=ji(a,i,t,n,e[11],16,1839030562),n=ji(n,a,i,t,e[14],23,-35309556),t=ji(t,n,a,i,e[1],4,-1530992060),i=ji(i,t,n,a,e[4],11,1272893353),a=ji(a,i,t,n,e[7],16,-155497632),n=ji(n,a,i,t,e[10],23,-1094730640),t=ji(t,n,a,i,e[13],4,681279174),i=ji(i,t,n,a,e[0],11,-358537222),a=ji(a,i,t,n,e[3],16,-722521979),n=ji(n,a,i,t,e[6],23,76029189),t=ji(t,n,a,i,e[9],4,-640364487),i=ji(i,t,n,a,e[12],11,-421815835),a=ji(a,i,t,n,e[15],16,530742520),t=Oi(t,n=ji(n,a,i,t,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Oi(i,t,n,a,e[7],10,1126891415),a=Oi(a,i,t,n,e[14],15,-1416354905),n=Oi(n,a,i,t,e[5],21,-57434055),t=Oi(t,n,a,i,e[12],6,1700485571),i=Oi(i,t,n,a,e[3],10,-1894986606),a=Oi(a,i,t,n,e[10],15,-1051523),n=Oi(n,a,i,t,e[1],21,-2054922799),t=Oi(t,n,a,i,e[8],6,1873313359),i=Oi(i,t,n,a,e[15],10,-30611744),a=Oi(a,i,t,n,e[6],15,-1560198380),n=Oi(n,a,i,t,e[13],21,1309151649),t=Oi(t,n,a,i,e[4],6,-145523070),i=Oi(i,t,n,a,e[11],10,-1120210379),a=Oi(a,i,t,n,e[2],15,718787259),n=Oi(n,a,i,t,e[9],21,-343485551),r[0]=$u(t,r[0]),r[1]=$u(n,r[1]),r[2]=$u(a,r[2]),r[3]=$u(i,r[3])}function h2(r,e,t,n,a,i){return e=$u($u(e,r),$u(n,i)),$u(e<<a|e>>>32-a,t)}function Ci(r,e,t,n,a,i,s){return h2(e&t|~e&n,r,e,a,i,s)}function Ti(r,e,t,n,a,i,s){return h2(e&n|t&~n,r,e,a,i,s)}function ji(r,e,t,n,a,i,s){return h2(e^t^n,r,e,a,i,s)}function Oi(r,e,t,n,a,i,s){return h2(t^(e|~n),r,e,a,i,s)}function AS(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)sv(n,ck(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(sv(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,sv(n,a),n}function ck(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}S1=nr.atob.bind(nr),ny=nr.btoa.bind(nr);var X5="0123456789abcdef".split("");function uk(r){for(var e="",t=0;t<4;t++)e+=X5[r>>8*t+4&15]+X5[r>>8*t&15];return e}function fk(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function ay(r){return AS(r).map(fk).join("")}var dk=function(r){for(var e=0;e<r.length;e++)r[e]=uk(r[e]);return r.join("")}(AS("hello"))!="5d41402abc4b2a76b9719d911017c592";function $u(r,e){if(dk){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function iy(r,e){var t,n,a,i;if(r!==t){for(var s=(a=r,i=1+(256/r.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+s.charCodeAt(c))%256,o[c]=o[u],o[u]=d}t=r,n=o}else o=n;var p=e.length,g=0,m=0,y="";for(c=0;c<p;c++)m=(m+(d=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=d,s=o[(o[g]+o[m])%256],y+=String.fromCharCode(e.charCodeAt(c)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Y5={print:4,modify:8,copy:16,"annot-forms":32};function Cd(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(o){if(Y5.perm!==void 0)throw new Error("Invalid permission: "+o);a+=Y5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=ay(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=iy(this.encryptionKey,this.padding)}function Td(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=r[n]}return e}function K5(r){if(hn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!a],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[t]){var s=e[t][i];try{s[0].apply(r,n)}catch(o){nr.console&&En.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function jm(r){if(!(this instanceof jm))return new jm(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function NS(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function J0(r,e,t,n,a){if(!(this instanceof J0))return new J0(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,NS.call(this,n,a)}function Od(r,e,t,n,a){if(!(this instanceof Od))return new Od(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,NS.call(this,n,a)}function Qt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,c=16,u="S",d=null;hn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,i=r.compress||r.compressPdf||i,(d=r.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),u=r.defaultPathOperation||"S"),s=r.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",t=(""+(t||"P")).toLowerCase();var p=r.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=K5;var y="1.3",w=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(j){y=j};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return _};var S=m.__private__.getPageFormat=function(j){return _[j]};a=a||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},C=A.COMPAT;function L(){this.saveGraphicsState(),te(new qt(At,0,0,-At,0,bl()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),u="n",C=A.ADVANCED}function B(){this.restoreGraphicsState(),u="S",C=A.COMPAT}var M=m.__private__.combineFontStyleAndFontWeight=function(j,Z){if(j=="bold"&&Z=="normal"||j=="bold"&&Z==400||j=="normal"&&Z=="italic"||j=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(j=Z==400||Z==="normal"?j==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||j!=="normal"?(Z==700?"bold":Z)+""+j:"bold"),j};m.advancedAPI=function(j){var Z=C===A.COMPAT;return Z&&L.call(this),typeof j!="function"||(j(this),Z&&B.call(this)),this},m.compatAPI=function(j){var Z=C===A.ADVANCED;return Z&&B.call(this),typeof j!="function"||(j(this),Z&&L.call(this)),this},m.isAdvancedAPI=function(){return C===A.ADVANCED};var F,D=function(j){if(C!==A.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=m.roundToPrecision=m.__private__.roundToPrecision=function(j,Z){var Ae=e||Z;if(isNaN(j)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Ae).replace(/0+$/,"")};F=m.hpf=m.__private__.hpf=typeof c=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return O(j,c)}:c==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return O(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return O(j,16)};var q=m.f2=m.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return O(j,2)},I=m.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return O(j,3)},U=m.scale=m.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return C===A.COMPAT?j*At:C===A.ADVANCED?j:void 0},X=function(j){return C===A.COMPAT?bl()-j:C===A.ADVANCED?j:void 0},ae=function(j){return U(X(j))};m.__private__.setPrecision=m.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var Se,Q="00000000000000000000000000000000",ce=m.__private__.getFileId=function(){return Q},we=m.__private__.setFileId=function(j){return Q=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ya=new Cd(d.userPermissions,d.userPassword,d.ownerPassword,Q)),Q};m.setFileId=function(j){return we(j),this},m.getFileId=function(){return ce()};var ue=m.__private__.convertDateToPDFDate=function(j){var Z=j.getTimezoneOffset(),Ae=Z<0?"+":"-",je=Math.floor(Math.abs(Z/60)),Ue=Math.abs(Z%60),nt=[Ae,H(je),"'",H(Ue),"'"].join("");return["D:",j.getFullYear(),H(j.getMonth()+1),H(j.getDate()),H(j.getHours()),H(j.getMinutes()),H(j.getSeconds()),nt].join("")},Y=m.__private__.convertPDFDateToDate=function(j){var Z=parseInt(j.substr(2,4),10),Ae=parseInt(j.substr(6,2),10)-1,je=parseInt(j.substr(8,2),10),Ue=parseInt(j.substr(10,2),10),nt=parseInt(j.substr(12,2),10),yt=parseInt(j.substr(14,2),10);return new Date(Z,Ae,je,Ue,nt,yt,0)},xe=m.__private__.setCreationDate=function(j){var Z;if(j===void 0&&(j=new Date),j instanceof Date)Z=ue(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=j}return Se=Z},R=m.__private__.getCreationDate=function(j){var Z=Se;return j==="jsDate"&&(Z=Y(Se)),Z};m.setCreationDate=function(j){return xe(j),this},m.getCreationDate=function(j){return R(j)};var P,H=m.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},G=m.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},J=0,Ee=[],ve=[],he=0,pe=[],Ne=[],Be=!1,rt=ve,ft=function(){J=0,he=0,ve=[],Ee=[],pe=[],fe=Bn(),de=Bn()};m.__private__.setCustomOutputDestination=function(j){Be=!0,rt=j};var ze=function(j){Be||(rt=j)};m.__private__.resetCustomOutputDestination=function(){Be=!1,rt=ve};var te=m.__private__.out=function(j){return j=j.toString(),he+=j.length+1,rt.push(j),rt},ke=m.__private__.write=function(j){return te(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Ze=m.__private__.getArrayBuffer=function(j){for(var Z=j.length,Ae=new ArrayBuffer(Z),je=new Uint8Array(Ae);Z--;)je[Z]=j.charCodeAt(Z);return Ae},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Te};var Ie=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(j){return Ie=C===A.ADVANCED?j/At:j,this};var ot,mt=m.__private__.getFontSize=m.getFontSize=function(){return C===A.COMPAT?Ie:Ie*At},vt=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(j){return vt=j,this},m.__private__.getR2L=m.getR2L=function(){return vt};var Tt,zt=m.__private__.setZoomMode=function(j){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))ot=j;else if(isNaN(j)){if(Z.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');ot=j}else ot=parseInt(j,10)};m.__private__.getZoomMode=function(){return ot};var It,Mt=m.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Tt=j};m.__private__.getPageMode=function(){return Tt};var Xt=m.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');It=j};m.__private__.getLayoutMode=function(){return It},m.__private__.setDisplayMode=m.setDisplayMode=function(j,Z,Ae){return zt(j),Xt(Z),Mt(Ae),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(j){if(Object.keys(Pt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[j]},m.__private__.getDocumentProperties=function(){return Pt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(j){for(var Z in Pt)Pt.hasOwnProperty(Z)&&j[Z]&&(Pt[Z]=j[Z]);return this},m.__private__.setDocumentProperty=function(j,Z){if(Object.keys(Pt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[j]=Z};var cr,At,Hr,or,ea,Er={},Yr={},Ma=[],Rr={},Ts={},mn={},ei={},ti=null,nn=0,er=[],kr=new K5(m),js=r.hotfixes||[],Gn={},Bi={},is=[],qt=function j(Z,Ae,je,Ue,nt,yt){if(!(this instanceof j))return new j(Z,Ae,je,Ue,nt,yt);isNaN(Z)&&(Z=1),isNaN(Ae)&&(Ae=0),isNaN(je)&&(je=0),isNaN(Ue)&&(Ue=1),isNaN(nt)&&(nt=0),isNaN(yt)&&(yt=0),this._matrix=[Z,Ae,je,Ue,nt,yt]};Object.defineProperty(qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(j)},qt.prototype.multiply=function(j){var Z=j.sx*this.sx+j.shy*this.shx,Ae=j.sx*this.shy+j.shy*this.sy,je=j.shx*this.sx+j.sy*this.shx,Ue=j.shx*this.shy+j.sy*this.sy,nt=j.tx*this.sx+j.ty*this.shx+this.tx,yt=j.tx*this.shy+j.ty*this.sy+this.ty;return new qt(Z,Ae,je,Ue,nt,yt)},qt.prototype.decompose=function(){var j=this.sx,Z=this.shy,Ae=this.shx,je=this.sy,Ue=this.tx,nt=this.ty,yt=Math.sqrt(j*j+Z*Z),Lt=(j/=yt)*Ae+(Z/=yt)*je;Ae-=j*Lt,je-=Z*Lt;var $t=Math.sqrt(Ae*Ae+je*je);return Lt/=$t,j*(je/=$t)<Z*(Ae/=$t)&&(j=-j,Z=-Z,Lt=-Lt,yt=-yt),{scale:new qt(yt,0,0,$t,0,0),translate:new qt(1,0,0,1,Ue,nt),rotate:new qt(j,Z,-Z,j,0,0),skew:new qt(1,0,Lt,1,0,0)}},qt.prototype.toString=function(j){return this.join(" ")},qt.prototype.inversed=function(){var j=this.sx,Z=this.shy,Ae=this.shx,je=this.sy,Ue=this.tx,nt=this.ty,yt=1/(j*je-Z*Ae),Lt=je*yt,$t=-Z*yt,ur=-Ae*yt,sr=j*yt;return new qt(Lt,$t,ur,sr,-Lt*Ue-ur*nt,-$t*Ue-sr*nt)},qt.prototype.applyToPoint=function(j){var Z=j.x*this.sx+j.y*this.shx+this.tx,Ae=j.x*this.shy+j.y*this.sy+this.ty;return new Jc(Z,Ae)},qt.prototype.applyToRectangle=function(j){var Z=this.applyToPoint(j),Ae=this.applyToPoint(new Jc(j.x+j.w,j.y+j.h));return new h0(Z.x,Z.y,Ae.x-Z.x,Ae.y-Z.y)},qt.prototype.clone=function(){var j=this.sx,Z=this.shy,Ae=this.shx,je=this.sy,Ue=this.tx,nt=this.ty;return new qt(j,Z,Ae,je,Ue,nt)},m.Matrix=qt;var Qr=m.matrixMult=function(j,Z){return Z.multiply(j)},an=new qt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=an;var Wn=function(j,Z){if(!Ts[j]){var Ae=(Z instanceof J0?"Sh":"P")+(Object.keys(Rr).length+1).toString(10);Z.id=Ae,Ts[j]=Ae,Rr[Ae]=Z,kr.publish("addPattern",Z)}};m.ShadingPattern=J0,m.TilingPattern=Od,m.addShadingPattern=function(j,Z){return D("addShadingPattern()"),Wn(j,Z),this},m.beginTilingPattern=function(j){D("beginTilingPattern()"),Qc(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},m.endTilingPattern=function(j,Z){D("endTilingPattern()"),Z.stream=Ne[P].join(`
`),Wn(j,Z),kr.publish("endTilingPattern",Z),is.pop().restore()};var Rn=m.__private__.newObject=function(){var j=Bn();return re(j,!0),j},Bn=m.__private__.newObjectDeferred=function(){return J++,Ee[J]=function(){return he},J},re=function(j,Z){return Z=typeof Z=="boolean"&&Z,Ee[j]=he,Z&&te(j+" 0 obj"),j},be=m.__private__.newAdditionalObject=function(){var j={objId:Bn(),content:""};return pe.push(j),j},fe=Bn(),de=Bn(),ye=m.__private__.decodeColorString=function(j){var Z=j.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var Ae=parseFloat(Z[0]);Z=[Ae,Ae,Ae,"r"]}for(var je="#",Ue=0;Ue<3;Ue++)je+=("0"+Math.floor(255*parseFloat(Z[Ue])).toString(16)).slice(-2);return je},_e=m.__private__.encodeColorString=function(j){var Z;typeof j=="string"&&(j={ch1:j});var Ae=j.ch1,je=j.ch2,Ue=j.ch3,nt=j.ch4,yt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Lt=new ES(Ae);if(Lt.ok)Ae=Lt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var $t=parseInt(Ae.substr(1),16);Ae=$t>>16&255,je=$t>>8&255,Ue=255&$t}if(je===void 0||nt===void 0&&Ae===je&&je===Ue)if(typeof Ae=="string")Z=Ae+" "+yt[0];else switch(j.precision){case 2:Z=q(Ae/255)+" "+yt[0];break;case 3:default:Z=I(Ae/255)+" "+yt[0]}else if(nt===void 0||hn(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return Z=["1.","1.","1.",yt[1]].join(" ");if(typeof Ae=="string")Z=[Ae,je,Ue,yt[1]].join(" ");else switch(j.precision){case 2:Z=[q(Ae/255),q(je/255),q(Ue/255),yt[1]].join(" ");break;default:case 3:Z=[I(Ae/255),I(je/255),I(Ue/255),yt[1]].join(" ")}}else if(typeof Ae=="string")Z=[Ae,je,Ue,nt,yt[2]].join(" ");else switch(j.precision){case 2:Z=[q(Ae),q(je),q(Ue),q(nt),yt[2]].join(" ");break;case 3:default:Z=[I(Ae),I(je),I(Ue),I(nt),yt[2]].join(" ")}return Z},He=m.__private__.getFilters=function(){return s},et=m.__private__.putStream=function(j){var Z=(j=j||{}).data||"",Ae=j.filters||He(),je=j.alreadyAppliedFilters||[],Ue=j.addLength1||!1,nt=Z.length,yt=j.objectId,Lt=function(Yn){return Yn};if(d!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Lt=ya.encryptor(yt,0));var $t={};Ae===!0&&(Ae=["FlateEncode"]);var ur=j.additionalKeyValues||[],sr=($t=Qt.API.processDataByFilters!==void 0?Qt.API.processDataByFilters(Z,Ae):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if($t.data.length!==0&&(ur.push({key:"Length",value:$t.data.length}),Ue===!0&&ur.push({key:"Length1",value:nt})),sr.length!=0)if(sr.split("/").length-1==1)ur.push({key:"Filter",value:sr});else{ur.push({key:"Filter",value:"["+sr+"]"});for(var Cr=0;Cr<ur.length;Cr+=1)if(ur[Cr].key==="DecodeParms"){for(var An=[],kn=0;kn<$t.reverseChain.split("/").length-1;kn+=1)An.push("null");An.push(ur[Cr].value),ur[Cr].value="["+An.join(" ")+"]"}}te("<<");for(var Xn=0;Xn<ur.length;Xn++)te("/"+ur[Xn].key+" "+ur[Xn].value);te(">>"),$t.data.length!==0&&(te("stream"),te(Lt($t.data)),te("endstream"))},Fe=m.__private__.putPage=function(j){var Z=j.number,Ae=j.data,je=j.objId,Ue=j.contentsObjId;re(je,!0),te("<</Type /Page"),te("/Parent "+j.rootDictionaryObjId+" 0 R"),te("/Resources "+j.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(F(j.mediaBox.bottomLeftX))+" "+parseFloat(F(j.mediaBox.bottomLeftY))+" "+F(j.mediaBox.topRightX)+" "+F(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&te("/CropBox ["+F(j.cropBox.bottomLeftX)+" "+F(j.cropBox.bottomLeftY)+" "+F(j.cropBox.topRightX)+" "+F(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&te("/BleedBox ["+F(j.bleedBox.bottomLeftX)+" "+F(j.bleedBox.bottomLeftY)+" "+F(j.bleedBox.topRightX)+" "+F(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&te("/TrimBox ["+F(j.trimBox.bottomLeftX)+" "+F(j.trimBox.bottomLeftY)+" "+F(j.trimBox.topRightX)+" "+F(j.trimBox.topRightY)+"]"),j.artBox!==null&&te("/ArtBox ["+F(j.artBox.bottomLeftX)+" "+F(j.artBox.bottomLeftY)+" "+F(j.artBox.topRightX)+" "+F(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&te("/UserUnit "+j.userUnit),kr.publish("putPage",{objId:je,pageContext:er[Z],pageNumber:Z,page:Ae}),te("/Contents "+Ue+" 0 R"),te(">>"),te("endobj");var nt=Ae.join(`
`);return C===A.ADVANCED&&(nt+=`
Q`),re(Ue,!0),et({data:nt,filters:He(),objectId:Ue}),te("endobj"),je},Ge=m.__private__.putPages=function(){var j,Z,Ae=[];for(j=1;j<=nn;j++)er[j].objId=Bn(),er[j].contentsObjId=Bn();for(j=1;j<=nn;j++)Ae.push(Fe({number:j,data:Ne[j],objId:er[j].objId,contentsObjId:er[j].contentsObjId,mediaBox:er[j].mediaBox,cropBox:er[j].cropBox,bleedBox:er[j].bleedBox,trimBox:er[j].trimBox,artBox:er[j].artBox,userUnit:er[j].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:de}));re(fe,!0),te("<</Type /Pages");var je="/Kids [";for(Z=0;Z<nn;Z++)je+=Ae[Z]+" 0 R ";te(je+"]"),te("/Count "+nn),te(">>"),te("endobj"),kr.publish("postPutPages")},Ye=function(j){kr.publish("putFont",{font:j,out:te,newObject:Rn,putStream:et}),j.isAlreadyPutted!==!0&&(j.objectNumber=Rn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Td(j.postScriptName)),te("/Subtype /Type1"),typeof j.encoding=="string"&&te("/Encoding /"+j.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},gt=function(){for(var j in Er)Er.hasOwnProperty(j)&&(p===!1||p===!0&&g.hasOwnProperty(j))&&Ye(Er[j])},St=function(j){j.objectNumber=Rn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[F(j.x),F(j.y),F(j.x+j.width),F(j.y+j.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Ae=j.pages[1].join(`
`);et({data:Ae,additionalKeyValues:Z,objectId:j.objectNumber}),te("endobj")},kt=function(){for(var j in Gn)Gn.hasOwnProperty(j)&&St(Gn[j])},bt=function(j,Z){var Ae,je=[],Ue=1/(Z-1);for(Ae=0;Ae<1;Ae+=Ue)je.push(Ae);if(je.push(1),j[0].offset!=0){var nt={offset:0,color:j[0].color};j.unshift(nt)}if(j[j.length-1].offset!=1){var yt={offset:1,color:j[j.length-1].color};j.push(yt)}for(var Lt="",$t=0,ur=0;ur<je.length;ur++){for(Ae=je[ur];Ae>j[$t+1].offset;)$t++;var sr=j[$t].offset,Cr=(Ae-sr)/(j[$t+1].offset-sr),An=j[$t].color,kn=j[$t+1].color;Lt+=G(Math.round((1-Cr)*An[0]+Cr*kn[0]).toString(16))+G(Math.round((1-Cr)*An[1]+Cr*kn[1]).toString(16))+G(Math.round((1-Cr)*An[2]+Cr*kn[2]).toString(16))}return Lt.trim()},Rt=function(j,Z){Z||(Z=21);var Ae=Rn(),je=bt(j.colors,Z),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+Z+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et({data:je,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),te("endobj"),j.objectNumber=Rn(),te("<< /ShadingType "+j.type),te("/ColorSpace /DeviceRGB");var nt="/Coords ["+F(parseFloat(j.coords[0]))+" "+F(parseFloat(j.coords[1]))+" ";j.type===2?nt+=F(parseFloat(j.coords[2]))+" "+F(parseFloat(j.coords[3])):nt+=F(parseFloat(j.coords[2]))+" "+F(parseFloat(j.coords[3]))+" "+F(parseFloat(j.coords[4]))+" "+F(parseFloat(j.coords[5])),te(nt+="]"),j.matrix&&te("/Matrix ["+j.matrix.toString()+"]"),te("/Function "+Ae+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},tr=function(j,Z){var Ae=Bn(),je=Rn();Z.push({resourcesOid:Ae,objectOid:je}),j.objectNumber=je;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+j.boundingBox.map(F).join(" ")+"]"}),Ue.push({key:"XStep",value:F(j.xStep)}),Ue.push({key:"YStep",value:F(j.yStep)}),Ue.push({key:"Resources",value:Ae+" 0 R"}),j.matrix&&Ue.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),et({data:j.stream,additionalKeyValues:Ue,objectId:j.objectNumber}),te("endobj")},Lr=function(j){var Z;for(Z in Rr)Rr.hasOwnProperty(Z)&&(Rr[Z]instanceof J0?Rt(Rr[Z]):Rr[Z]instanceof Od&&tr(Rr[Z],j))},Br=function(j){for(var Z in j.objectNumber=Rn(),te("<<"),j)switch(Z){case"opacity":te("/ca "+q(j[Z]));break;case"stroke-opacity":te("/CA "+q(j[Z]))}te(">>"),te("endobj")},en=function(){var j;for(j in mn)mn.hasOwnProperty(j)&&Br(mn[j])},Ui=function(){for(var j in te("/XObject <<"),Gn)Gn.hasOwnProperty(j)&&Gn[j].objectNumber>=0&&te("/"+j+" "+Gn[j].objectNumber+" 0 R");kr.publish("putXobjectDict"),te(">>")},eo=function(){ya.oid=Rn(),te("<<"),te("/Filter /Standard"),te("/V "+ya.v),te("/R "+ya.r),te("/U <"+ya.toHexString(ya.U)+">"),te("/O <"+ya.toHexString(ya.O)+">"),te("/P "+ya.P),te(">>"),te("endobj")},ri=function(){for(var j in te("/Font <<"),Er)Er.hasOwnProperty(j)&&(p===!1||p===!0&&g.hasOwnProperty(j))&&te("/"+j+" "+Er[j].objectNumber+" 0 R");te(">>")},zi=function(){if(Object.keys(Rr).length>0){for(var j in te("/Shading <<"),Rr)Rr.hasOwnProperty(j)&&Rr[j]instanceof J0&&Rr[j].objectNumber>=0&&te("/"+j+" "+Rr[j].objectNumber+" 0 R");kr.publish("putShadingPatternDict"),te(">>")}},ss=function(j){if(Object.keys(Rr).length>0){for(var Z in te("/Pattern <<"),Rr)Rr.hasOwnProperty(Z)&&Rr[Z]instanceof m.TilingPattern&&Rr[Z].objectNumber>=0&&Rr[Z].objectNumber<j&&te("/"+Z+" "+Rr[Z].objectNumber+" 0 R");kr.publish("putTilingPatternDict"),te(">>")}},Hi=function(){if(Object.keys(mn).length>0){var j;for(j in te("/ExtGState <<"),mn)mn.hasOwnProperty(j)&&mn[j].objectNumber>=0&&te("/"+j+" "+mn[j].objectNumber+" 0 R");kr.publish("putGStateDict"),te(">>")}},Un=function(j){re(j.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ri(),zi(),ss(j.objectOid),Hi(),Ui(),te(">>"),te("endobj")},ni=function(){var j=[];gt(),en(),kt(),Lr(j),kr.publish("putResources"),j.forEach(Un),Un({resourcesOid:de,objectOid:Number.MAX_SAFE_INTEGER}),kr.publish("postPutResources")},a0=function(){kr.publish("putAdditionalObjects");for(var j=0;j<pe.length;j++){var Z=pe[j];re(Z.objId,!0),te(Z.content),te("endobj")}kr.publish("postPutAdditionalObjects")},yf=function(j){Yr[j.fontName]=Yr[j.fontName]||{},Yr[j.fontName][j.fontStyle]=j.id},pl=function(j,Z,Ae,je,Ue){var nt={id:"F"+(Object.keys(Er).length+1).toString(10),postScriptName:j,fontName:Z,fontStyle:Ae,encoding:je,isStandardFont:Ue||!1,metadata:{}};return kr.publish("addFont",{font:nt,instance:this}),Er[nt.id]=nt,yf(nt),nt.id},wf=function(j){for(var Z=0,Ae=Te.length;Z<Ae;Z++){var je=pl.call(this,j[Z][0],j[Z][1],j[Z][2],Te[Z][3],!0);p===!1&&(g[je]=!0);var Ue=j[Z][0].split("-");yf({id:je,fontName:Ue[0],fontStyle:Ue[1]||""})}kr.publish("addFonts",{fonts:Er,dictionary:Yr})},yi=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(je){var Z=je.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var Ae="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+je.message;if(!nr.console)throw new Error(Ae);nr.console.error(Ae,je),nr.alert&&alert(Ae)}},j.foo.bar=j,j.foo},qc=function(j,Z){var Ae,je,Ue,nt,yt,Lt,$t,ur,sr;if(Ue=(Z=Z||{}).sourceEncoding||"Unicode",yt=Z.outputEncoding,(Z.autoencode||yt)&&Er[cr].metadata&&Er[cr].metadata[Ue]&&Er[cr].metadata[Ue].encoding&&(nt=Er[cr].metadata[Ue].encoding,!yt&&Er[cr].encoding&&(yt=Er[cr].encoding),!yt&&nt.codePages&&(yt=nt.codePages[0]),typeof yt=="string"&&(yt=nt[yt]),yt)){for($t=!1,Lt=[],Ae=0,je=j.length;Ae<je;Ae++)(ur=yt[j.charCodeAt(Ae)])?Lt.push(String.fromCharCode(ur)):Lt.push(j[Ae]),Lt[Ae].charCodeAt(0)>>8&&($t=!0);j=Lt.join("")}for(Ae=j.length;$t===void 0&&Ae!==0;)j.charCodeAt(Ae-1)>>8&&($t=!0),Ae--;if(!$t)return j;for(Lt=Z.noBOM?[]:[254,255],Ae=0,je=j.length;Ae<je;Ae++){if((sr=(ur=j.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(sr),Lt.push(ur-(sr<<8))}return String.fromCharCode.apply(void 0,Lt)},_n=m.__private__.pdfEscape=m.pdfEscape=function(j,Z){return qc(j,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rc=m.__private__.beginPage=function(j){Ne[++nn]=[],er[nn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},No(nn),ze(Ne[P])},i0=function(j,Z){var Ae,je,Ue;switch(t=Z||t,typeof j=="string"&&(Ae=S(j.toLowerCase()),Array.isArray(Ae)&&(je=Ae[0],Ue=Ae[1])),Array.isArray(j)&&(je=j[0]*At,Ue=j[1]*At),isNaN(je)&&(je=a[0],Ue=a[1]),(je>14400||Ue>14400)&&(En.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Ue=Math.min(14400,Ue)),a=[je,Ue],t.substr(0,1)){case"l":Ue>je&&(a=[Ue,je]);break;case"p":je>Ue&&(a=[Ue,je])}rc(a),Nf(vl),te(Os),d0!==0&&te(d0+" J"),Zc!==0&&te(Zc+" j"),kr.publish("addPage",{pageNumber:nn})},s0=function(j){j>0&&j<=nn&&(Ne.splice(j,1),er.splice(j,1),nn--,P>nn&&(P=nn),this.setPage(P))},No=function(j){j>0&&j<=nn&&(P=j)},bf=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ne.length-1},o0=function(j,Z,Ae){var je,Ue=void 0;return Ae=Ae||{},j=j!==void 0?j:Er[cr].fontName,Z=Z!==void 0?Z:Er[cr].fontStyle,je=j.toLowerCase(),Yr[je]!==void 0&&Yr[je][Z]!==void 0?Ue=Yr[je][Z]:Yr[j]!==void 0&&Yr[j][Z]!==void 0?Ue=Yr[j][Z]:Ae.disableWarning===!1&&En.warn("Unable to look up font label for font '"+j+"', '"+Z+"'. Refer to getFontList() for available fonts."),Ue||Ae.noFallback||(Ue=Yr.times[Z])==null&&(Ue=Yr.times.normal),Ue},gl=m.__private__.putInfo=function(){var j=Rn(),Z=function(je){return je};for(var Ae in d!==null&&(Z=ya.encryptor(j,0)),te("<<"),te("/Producer ("+_n(Z("jsPDF "+Qt.version))+")"),Pt)Pt.hasOwnProperty(Ae)&&Pt[Ae]&&te("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+_n(Z(Pt[Ae]))+")");te("/CreationDate ("+_n(Z(Se))+")"),te(">>"),te("endobj")},l0=m.__private__.putCatalog=function(j){var Z=(j=j||{}).rootDictionaryObjId||fe;switch(Rn(),te("<<"),te("/Type /Catalog"),te("/Pages "+Z+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+ot;Ae.substr(Ae.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&te("/OpenAction [3 0 R /XYZ null null "+q(ot)+"]")}switch(It||(It="continuous"),It){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Tt&&te("/PageMode /"+Tt),kr.publish("putCatalog"),te(">>"),te("endobj")},_f=m.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(J+1)),te("/Root "+J+" 0 R"),te("/Info "+(J-1)+" 0 R"),d!==null&&te("/Encrypt "+ya.oid+" 0 R"),te("/ID [ <"+Q+"> <"+Q+"> ]"),te(">>")},Sf=m.__private__.putHeader=function(){te("%PDF-"+y),te("%")},c0=m.__private__.putXRef=function(){var j="0000000000";te("xref"),te("0 "+(J+1)),te("0000000000 65535 f ");for(var Z=1;Z<=J;Z++)typeof Ee[Z]=="function"?te((j+Ee[Z]()).slice(-10)+" 00000 n "):Ee[Z]!==void 0?te((j+Ee[Z]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Co=m.__private__.buildDocument=function(){ft(),ze(ve),kr.publish("buildDocument"),Sf(),Ge(),a0(),ni(),d!==null&&eo(),gl(),l0();var j=he;return c0(),_f(),te("startxref"),te(""+j),te("%%EOF"),ze(Ne[P]),ve.join(`
`)},$c=m.__private__.getBlob=function(j){return new Blob([Ze(j)],{type:"application/pdf"})},To=m.output=m.__private__.output=yi(function(j,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",j){case void 0:return Co();case"save":m.save(Z.filename);break;case"arraybuffer":return Ze(Co());case"blob":return $c(Co());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL($c(Co()))||void 0;En.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",je=Co();try{Ae=ny(je)}catch(kn){Ae=ny(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+Z.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Ue=Z.pdfObjectUrl,nt="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Lt=nr.open();return Lt!==null&&Lt.document.write(yt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',ur=nr.open();if(ur!==null){ur.document.write($t);var sr=this;ur.document.documentElement.querySelector("#pdfViewer").onload=function(){ur.document.title=Z.filename,ur.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return ur}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',An=nr.open();if(An!==null&&(An.document.write(Cr),An.document.title=Z.filename),An||typeof safari=="undefined")return An;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",Z);default:return null}}),Vc=function(j){return Array.isArray(js)===!0&&js.indexOf(j)>-1};switch(n){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Vc("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);At=n}var ya=null;xe(),we();var ml=function(j){return d!==null?ya.encryptor(j,0):function(Z){return Z}},jo=m.__private__.getPageInfo=m.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:er[j].objId,pageNumber:j,pageContext:er[j]}},ar=m.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in er)if(er[Z].objId===j)break;return jo(Z)},u0=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:er[P].objId,pageNumber:P,pageContext:er[P]}};m.addPage=function(){return i0.apply(this,arguments),this},m.setPage=function(){return No.apply(this,arguments),ze.call(this,Ne[P]),this},m.insertPage=function(j){return this.addPage(),this.movePage(P,j),this},m.movePage=function(j,Z){var Ae,je;if(j>Z){Ae=Ne[j],je=er[j];for(var Ue=j;Ue>Z;Ue--)Ne[Ue]=Ne[Ue-1],er[Ue]=er[Ue-1];Ne[Z]=Ae,er[Z]=je,this.setPage(Z)}else if(j<Z){Ae=Ne[j],je=er[j];for(var nt=j;nt<Z;nt++)Ne[nt]=Ne[nt+1],er[nt]=er[nt+1];Ne[Z]=Ae,er[Z]=je,this.setPage(Z)}return this},m.deletePage=function(){return s0.apply(this,arguments),this},m.__private__.text=m.text=function(j,Z,Ae,je,Ue){var nt,yt,Lt,$t,ur,sr,Cr,An,kn,Xn=(je=je||{}).scope||this;if(typeof j=="number"&&typeof Z=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Yn=Ae;Ae=Z,Z=j,j=Yn}if(arguments[3]instanceof qt?(D("The transform parameter of text() with a Matrix value"),kn=Ue):(Lt=arguments[4],$t=arguments[5],hn(Cr=arguments[3])==="object"&&Cr!==null||(typeof Lt=="string"&&($t=Lt,Lt=null),typeof Cr=="string"&&($t=Cr,Cr=null),typeof Cr=="number"&&(Lt=Cr,Cr=null),je={flags:Cr,angle:Lt,align:$t})),isNaN(Z)||isNaN(Ae)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Xn;var wa="",Rs=!1,Vi=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:qi,ks=Xn.internal.scaleFactor;function m0(wr){return wr=wr.split("	").join(Array(je.TabLen||9).join(" ")),_n(wr,Cr)}function Ro(wr){for(var br,xn=wr.concat(),Kn=[],us=xn.length;us--;)typeof(br=xn.shift())=="string"?Kn.push(br):Array.isArray(wr)&&(br.length===1||br[1]===void 0&&br[2]===void 0)?Kn.push(br[0]):Kn.push([br[0],br[1],br[2]]);return Kn}function ko(wr,br){var xn;if(typeof wr=="string")xn=br(wr)[0];else if(Array.isArray(wr)){for(var Kn,us,Rl=wr.concat(),kl=[],Io=Rl.length;Io--;)typeof(Kn=Rl.shift())=="string"?kl.push(br(Kn)[0]):Array.isArray(Kn)&&typeof Kn[0]=="string"&&(us=br(Kn[0],Kn[1],Kn[2]),kl.push([us[0],us[1],us[2]]));xn=kl}return xn}var ru=!1,_l=!0;if(typeof j=="string")ru=!0;else if(Array.isArray(j)){var nu=j.concat();yt=[];for(var sc,ca=nu.length;ca--;)(typeof(sc=nu.shift())!="string"||Array.isArray(sc)&&typeof sc[0]!="string")&&(_l=!1);ru=_l}if(ru===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Sl=Ie/Xn.internal.scaleFactor,oc=Sl*(Vi-1);switch(je.baseline){case"bottom":Ae-=oc;break;case"top":Ae+=Sl-oc;break;case"hanging":Ae+=Sl-2*oc;break;case"middle":Ae+=Sl/2-oc}if((sr=je.maxWidth||0)>0&&(typeof j=="string"?j=Xn.splitTextToSize(j,sr):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(wr,br){return wr.concat(Xn.splitTextToSize(br,sr))},[]))),nt={text:j,x:Z,y:Ae,options:je,mutex:{pdfEscape:_n,activeFontKey:cr,fonts:Er,activeFontSize:Ie}},kr.publish("preProcessText",nt),j=nt.text,Lt=(je=nt.options).angle,!(kn instanceof qt)&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,je.rotationDirection===0&&(Lt=-Lt),C===A.ADVANCED&&(Lt=-Lt);var lc=Math.cos(Lt),au=Math.sin(Lt);kn=new qt(lc,au,-au,lc,0,0)}else Lt&&Lt instanceof qt&&(kn=Lt);C!==A.ADVANCED||kn||(kn=an),(ur=je.charSpace||Kc)!==void 0&&(wa+=F(U(ur))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=je.horizontalScale)!==void 0&&(wa+=F(100*An)+` Tz
`),je.lang;var bi=-1,dh=je.renderingMode!==void 0?je.renderingMode:je.stroke,x0=Xn.internal.getCurrentPageInfo().pageContext;switch(dh){case 0:case!1:case"fill":bi=0;break;case 1:case!0:case"stroke":bi=1;break;case 2:case"fillThenStroke":bi=2;break;case 3:case"invisible":bi=3;break;case 4:case"fillAndAddForClipping":bi=4;break;case 5:case"strokeAndAddPathForClipping":bi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bi=6;break;case 7:case"addToPathForClipping":bi=7}var Tf=x0.usedRenderingMode!==void 0?x0.usedRenderingMode:-1;bi!==-1?wa+=bi+` Tr
`:Tf!==-1&&(wa+=`0 Tr
`),bi!==-1&&(x0.usedRenderingMode=bi),$t=je.align||"left";var cs,ba=Ie*Vi,El=Xn.internal.pageSize.getWidth(),v0=Er[cr];ur=je.charSpace||Kc,sr=je.maxWidth||0,Cr=Object.assign({autoencode:!0,noBOM:!0},je.flags);var Lo=[],Al=function(wr){return Xn.getStringUnitWidth(wr,{font:v0,charSpace:ur,fontSize:Ie,doKerning:!1})*Ie/ks};if(Object.prototype.toString.call(j)==="[object Array]"){var ai;yt=Ro(j),$t!=="left"&&(cs=yt.map(Al));var Ta,Nl=0;if($t==="right"){Z-=cs[0],j=[],ca=yt.length;for(var _i=0;_i<ca;_i++)_i===0?(Ta=$i(Z),ai=ao(Ae)):(Ta=U(Nl-cs[_i]),ai=-ba),j.push([yt[_i],Ta,ai]),Nl=cs[_i]}else if($t==="center"){Z-=cs[0]/2,j=[],ca=yt.length;for(var Ls=0;Ls<ca;Ls++)Ls===0?(Ta=$i(Z),ai=ao(Ae)):(Ta=U((Nl-cs[Ls])/2),ai=-ba),j.push([yt[Ls],Ta,ai]),Nl=cs[Ls]}else if($t==="left"){j=[],ca=yt.length;for(var io=0;io<ca;io++)j.push(yt[io])}else if($t==="justify"&&v0.encoding==="Identity-H"){j=[],ca=yt.length,sr=sr!==0?sr:El;for(var Ds=0,zn=0;zn<ca;zn++)if(ai=zn===0?ao(Ae):-ba,Ta=zn===0?$i(Z):Ds,zn<ca-1){var Is=U((sr-cs[zn])/(yt[zn].split(" ").length-1)),ta=yt[zn].split(" ");j.push([ta[0]+" ",Ta,ai]),Ds=0;for(var Si=1;Si<ta.length;Si++){var cc=(Al(ta[Si-1]+" "+ta[Si])-Al(ta[Si]))*ks+Is;Si==ta.length-1?j.push([ta[Si],cc,0]):j.push([ta[Si]+" ",cc,0]),Ds-=cc}}else j.push([yt[zn],Ta,ai]);j.push(["",Ds,0])}else{if($t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],ca=yt.length,sr=sr!==0?sr:El,zn=0;zn<ca;zn++)ai=zn===0?ao(Ae):-ba,Ta=zn===0?$i(Z):0,zn<ca-1?Lo.push(F(U((sr-cs[zn])/(yt[zn].split(" ").length-1)))):Lo.push(0),j.push([yt[zn],Ta,ai])}}var so=typeof je.R2L=="boolean"?je.R2L:vt;so===!0&&(j=ko(j,function(wr,br,xn){return[wr.split("").reverse().join(""),br,xn]})),nt={text:j,x:Z,y:Ae,options:je,mutex:{pdfEscape:_n,activeFontKey:cr,fonts:Er,activeFontSize:Ie}},kr.publish("postProcessText",nt),j=nt.text,Rs=nt.mutex.isHex||!1;var iu=Er[cr].encoding;iu!=="WinAnsiEncoding"&&iu!=="StandardEncoding"||(j=ko(j,function(wr,br,xn){return[m0(wr),br,xn]})),yt=Ro(j),j=[];for(var Cl,Tl,jl,uc=0,su=1,Ol=Array.isArray(yt[0])?su:uc,Do="",fc=function(wr,br,xn){var Kn="";return xn instanceof qt?(xn=typeof je.angle=="number"?Qr(xn,new qt(1,0,0,1,wr,br)):Qr(new qt(1,0,0,1,wr,br),xn),C===A.ADVANCED&&(xn=Qr(new qt(1,0,0,-1,0,0),xn)),Kn=xn.join(" ")+` Tm
`):Kn=F(wr)+" "+F(br)+` Td
`,Kn},Hn=0;Hn<yt.length;Hn++){switch(Do="",Ol){case su:jl=(Rs?"<":"(")+yt[Hn][0]+(Rs?">":")"),Cl=parseFloat(yt[Hn][1]),Tl=parseFloat(yt[Hn][2]);break;case uc:jl=(Rs?"<":"(")+yt[Hn]+(Rs?">":")"),Cl=$i(Z),Tl=ao(Ae)}Lo!==void 0&&Lo[Hn]!==void 0&&(Do=Lo[Hn]+` Tw
`),Hn===0?j.push(Do+fc(Cl,Tl,kn)+jl):Ol===uc?j.push(Do+jl):Ol===su&&j.push(Do+fc(Cl,Tl,kn)+jl)}j=Ol===uc?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var Gi=`BT
/`;return Gi+=cr+" "+Ie+` Tf
`,Gi+=F(Ie*Vi)+` TL
`,Gi+=ac+`
`,Gi+=wa,Gi+=j,te(Gi+="ET"),g[cr]=!0,Xn};var Ef=m.__private__.clip=m.clip=function(j){return te(j==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ef("evenodd")},m.__private__.discardPath=m.discardPath=function(){return te("n"),this};var wi=m.__private__.isValidStyle=function(j){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(Z=!0),Z};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(j){return wi(j)&&(u=j),this};var os=m.__private__.getStyle=m.getStyle=function(j){var Z=u;switch(j){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=j}return Z},Gc=m.close=function(){return te("h"),this};m.stroke=function(){return te("S"),this},m.fill=function(j){return to("f",j),this},m.fillEvenOdd=function(j){return to("f*",j),this},m.fillStroke=function(j){return to("B",j),this},m.fillStrokeEvenOdd=function(j){return to("B*",j),this};var to=function(j,Z){hn(Z)==="object"?Wc(Z,j):te(j)},ls=function(j){j===null||C===A.ADVANCED&&j===void 0||(j=os(j),te(j))};function f0(j,Z,Ae,je,Ue){var nt=new Od(Z||this.boundingBox,Ae||this.xStep,je||this.yStep,this.gState,Ue||this.matrix);nt.stream=this.stream;var yt=j+"$$"+this.cloneIndex+++"$$";return Wn(yt,nt),nt}var Wc=function(j,Z){var Ae=Ts[j.key],je=Rr[Ae];if(je instanceof J0)te("q"),te(Af(Z)),je.gState&&m.setGState(je.gState),te(j.matrix.toString()+" cm"),te("/"+Ae+" sh"),te("Q");else if(je instanceof Od){var Ue=new qt(1,0,0,-1,0,bl());j.matrix&&(Ue=Ue.multiply(j.matrix||an),Ae=f0.call(je,j.key,j.boundingBox,j.xStep,j.yStep,Ue).id),te("q"),te("/Pattern cs"),te("/"+Ae+" scn"),je.gState&&m.setGState(je.gState),te(Z),te("Q")}},Af=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xl=m.moveTo=function(j,Z){return te(F(U(j))+" "+F(ae(Z))+" m"),this},ro=m.lineTo=function(j,Z){return te(F(U(j))+" "+F(ae(Z))+" l"),this},Oo=m.curveTo=function(j,Z,Ae,je,Ue,nt){return te([F(U(j)),F(ae(Z)),F(U(Ae)),F(ae(je)),F(U(Ue)),F(ae(nt)),"c"].join(" ")),this};m.__private__.line=m.line=function(j,Z,Ae,je,Ue){if(isNaN(j)||isNaN(Z)||isNaN(Ae)||isNaN(je)||!wi(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return C===A.COMPAT?this.lines([[Ae-j,je-Z]],j,Z,[1,1],Ue||"S"):this.lines([[Ae-j,je-Z]],j,Z,[1,1]).stroke()},m.__private__.lines=m.lines=function(j,Z,Ae,je,Ue,nt){var yt,Lt,$t,ur,sr,Cr,An,kn,Xn,Yn,wa,Rs;if(typeof j=="number"&&(Rs=Ae,Ae=Z,Z=j,j=Rs),je=je||[1,1],nt=nt||!1,isNaN(Z)||isNaN(Ae)||!Array.isArray(j)||!Array.isArray(je)||!wi(Ue)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(Z,Ae),yt=je[0],Lt=je[1],ur=j.length,Yn=Z,wa=Ae,$t=0;$t<ur;$t++)(sr=j[$t]).length===2?(Yn=sr[0]*yt+Yn,wa=sr[1]*Lt+wa,ro(Yn,wa)):(Cr=sr[0]*yt+Yn,An=sr[1]*Lt+wa,kn=sr[2]*yt+Yn,Xn=sr[3]*Lt+wa,Yn=sr[4]*yt+Yn,wa=sr[5]*Lt+wa,Oo(Cr,An,kn,Xn,Yn,wa));return nt&&Gc(),ls(Ue),this},m.path=function(j){for(var Z=0;Z<j.length;Z++){var Ae=j[Z],je=Ae.c;switch(Ae.op){case"m":xl(je[0],je[1]);break;case"l":ro(je[0],je[1]);break;case"c":Oo.apply(this,je);break;case"h":Gc()}}return this},m.__private__.rect=m.rect=function(j,Z,Ae,je,Ue){if(isNaN(j)||isNaN(Z)||isNaN(Ae)||isNaN(je)||!wi(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return C===A.COMPAT&&(je=-je),te([F(U(j)),F(ae(Z)),F(U(Ae)),F(U(je)),"re"].join(" ")),ls(Ue),this},m.__private__.triangle=m.triangle=function(j,Z,Ae,je,Ue,nt,yt){if(isNaN(j)||isNaN(Z)||isNaN(Ae)||isNaN(je)||isNaN(Ue)||isNaN(nt)||!wi(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-j,je-Z],[Ue-Ae,nt-je],[j-Ue,Z-nt]],j,Z,[1,1],yt,!0),this},m.__private__.roundedRect=m.roundedRect=function(j,Z,Ae,je,Ue,nt,yt){if(isNaN(j)||isNaN(Z)||isNaN(Ae)||isNaN(je)||isNaN(Ue)||isNaN(nt)||!wi(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*Ae),nt=Math.min(nt,.5*je),this.lines([[Ae-2*Ue,0],[Ue*Lt,0,Ue,nt-nt*Lt,Ue,nt],[0,je-2*nt],[0,nt*Lt,-Ue*Lt,nt,-Ue,nt],[2*Ue-Ae,0],[-Ue*Lt,0,-Ue,-nt*Lt,-Ue,-nt],[0,2*nt-je],[0,-nt*Lt,Ue*Lt,-nt,Ue,-nt]],j+Ue,Z,[1,1],yt,!0),this},m.__private__.ellipse=m.ellipse=function(j,Z,Ae,je,Ue){if(isNaN(j)||isNaN(Z)||isNaN(Ae)||isNaN(je)||!wi(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*Ae,yt=4/3*(Math.SQRT2-1)*je;return xl(j+Ae,Z),Oo(j+Ae,Z-yt,j+nt,Z-je,j,Z-je),Oo(j-nt,Z-je,j-Ae,Z-yt,j-Ae,Z),Oo(j-Ae,Z+yt,j-nt,Z+je,j,Z+je),Oo(j+nt,Z+je,j+Ae,Z+yt,j+Ae,Z),ls(Ue),this},m.__private__.circle=m.circle=function(j,Z,Ae,je){if(isNaN(j)||isNaN(Z)||isNaN(Ae)||!wi(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,Z,Ae,Ae,je)},m.setFont=function(j,Z,Ae){return Ae&&(Z=M(Z,Ae)),cr=o0(j,Z,{disableWarning:!1}),this};var Ba=m.__private__.getFont=m.getFont=function(){return Er[o0.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var j,Z,Ae={};for(j in Yr)if(Yr.hasOwnProperty(j))for(Z in Ae[j]=[],Yr[j])Yr[j].hasOwnProperty(Z)&&Ae[j].push(Z);return Ae},m.addFont=function(j,Z,Ae,je,Ue){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(Ae=M(Ae,je)),Ue=Ue||"Identity-H",pl.call(this,j,Z,Ae,Ue)};var qi,vl=r.lineWidth||.200025,no=m.__private__.getLineWidth=m.getLineWidth=function(){return vl},Nf=m.__private__.setLineWidth=m.setLineWidth=function(j){return vl=j,te(F(U(j))+" w"),this};m.__private__.setLineDash=Qt.API.setLineDash=Qt.API.setLineDashPattern=function(j,Z){if(j=j||[],Z=Z||0,isNaN(Z)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(Ae){return F(U(Ae))}).join(" "),Z=F(U(Z)),te("["+j+"] "+Z+" d"),this};var Xc=m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*qi};m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*qi};var Yc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(qi=j),this},yl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return qi};Yc(r.lineHeight);var $i=m.__private__.getHorizontalCoordinate=function(j){return U(j)},ao=m.__private__.getVerticalCoordinate=function(j){return C===A.ADVANCED?j:er[P].mediaBox.topRightY-er[P].mediaBox.bottomLeftY-U(j)},lh=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(j){return F($i(j))},wl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(j){return F(ao(j))},Os=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ye(Os)},m.__private__.setStrokeColor=m.setDrawColor=function(j,Z,Ae,je){return Os=_e({ch1:j,ch2:Z,ch3:Ae,ch4:je,pdfColorType:"draw",precision:2}),te(Os),this};var nc=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ye(nc)},m.__private__.setFillColor=m.setFillColor=function(j,Z,Ae,je){return nc=_e({ch1:j,ch2:Z,ch3:Ae,ch4:je,pdfColorType:"fill",precision:2}),te(nc),this};var ac=r.textColor||"0 g",ch=m.__private__.getTextColor=m.getTextColor=function(){return ye(ac)};m.__private__.setTextColor=m.setTextColor=function(j,Z,Ae,je){return ac=_e({ch1:j,ch2:Z,ch3:Ae,ch4:je,pdfColorType:"text",precision:3}),this};var Kc=r.charSpace,uh=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Kc||0)};m.__private__.setCharSpace=m.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kc=j,this};var d0=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(j){var Z=m.CapJoinStyles[j];if(Z===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return d0=Z,te(Z+" J"),this};var Zc=0;m.__private__.setLineJoin=m.setLineJoin=function(j){var Z=m.CapJoinStyles[j];if(Z===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zc=Z,te(Z+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(F(U(j))+" M"),this},m.GState=jm,m.setGState=function(j){(j=typeof j=="string"?mn[ei[j]]:Cf(null,j)).equals(ti)||(te("/"+j.id+" gs"),ti=j)};var Cf=function(j,Z){if(!j||!ei[j]){var Ae=!1;for(var je in mn)if(mn.hasOwnProperty(je)&&mn[je].equals(Z)){Ae=!0;break}if(Ae)Z=mn[je];else{var Ue="GS"+(Object.keys(mn).length+1).toString(10);mn[Ue]=Z,Z.id=Ue}return j&&(ei[j]=Z.id),kr.publish("addGState",Z),Z}};m.addGState=function(j,Z){return Cf(j,Z),this},m.saveGraphicsState=function(){return te("q"),Ma.push({key:cr,size:Ie,color:ac}),this},m.restoreGraphicsState=function(){te("Q");var j=Ma.pop();return cr=j.key,Ie=j.size,ac=j.color,ti=null,this},m.setCurrentTransformationMatrix=function(j){return te(j.toString()+" cm"),this},m.comment=function(j){return te("#"+j),this};var Jc=function(j,Z){var Ae=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(nt){isNaN(nt)||(Ae=parseFloat(nt))}});var je=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(nt){isNaN(nt)||(je=parseFloat(nt))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(nt){Ue=nt.toString()}}),this},h0=function(j,Z,Ae,je){Jc.call(this,j,Z),this.type="rect";var Ue=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(yt){isNaN(yt)||(Ue=parseFloat(yt))}});var nt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(yt){isNaN(yt)||(nt=parseFloat(yt))}}),this},p0=function(){this.page=nn,this.currentPage=P,this.pages=Ne.slice(0),this.pagesContext=er.slice(0),this.x=Hr,this.y=or,this.matrix=ea,this.width=ic(P),this.height=bl(P),this.outputDestination=rt,this.id="",this.objectNumber=-1};p0.prototype.restore=function(){nn=this.page,P=this.currentPage,er=this.pagesContext,Ne=this.pages,Hr=this.x,or=this.y,ea=this.matrix,tu(P,this.width),g0(P,this.height),rt=this.outputDestination};var Qc=function(j,Z,Ae,je,Ue){is.push(new p0),nn=P=0,Ne=[],Hr=j,or=Z,ea=Ue,rc([Ae,je])},fh=function(j){if(Bi[j])is.pop().restore();else{var Z=new p0,Ae="Xo"+(Object.keys(Gn).length+1).toString(10);Z.id=Ae,Bi[j]=Ae,Gn[Ae]=Z,kr.publish("addFormObject",Z),is.pop().restore()}};for(var eu in m.beginFormObject=function(j,Z,Ae,je,Ue){return Qc(j,Z,Ae,je,Ue),this},m.endFormObject=function(j){return fh(j),this},m.doFormObject=function(j,Z){var Ae=Gn[Bi[j]];return te("q"),te(Z.toString()+" cm"),te("/"+Ae.id+" Do"),te("Q"),this},m.getFormObject=function(j){var Z=Gn[Bi[j]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},m.save=function(j,Z){return j=j||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Y0($c(Co()),j),typeof Y0.unload=="function"&&nr.setTimeout&&setTimeout(Y0.unload,911),this):new Promise(function(Ae,je){try{var Ue=Y0($c(Co()),j);typeof Y0.unload=="function"&&nr.setTimeout&&setTimeout(Y0.unload,911),Ae(Ue)}catch(nt){je(nt.message)}})},Qt.API)Qt.API.hasOwnProperty(eu)&&(eu==="events"&&Qt.API.events.length?function(j,Z){var Ae,je,Ue;for(Ue=Z.length-1;Ue!==-1;Ue--)Ae=Z[Ue][0],je=Z[Ue][1],j.subscribe.apply(j,[Ae].concat(typeof je=="function"?[je]:je))}(kr,Qt.API.events):m[eu]=Qt.API[eu]);var ic=m.getPageWidth=function(j){return(er[j=j||P].mediaBox.topRightX-er[j].mediaBox.bottomLeftX)/At},tu=m.setPageWidth=function(j,Z){er[j].mediaBox.topRightX=Z*At+er[j].mediaBox.bottomLeftX},bl=m.getPageHeight=function(j){return(er[j=j||P].mediaBox.topRightY-er[j].mediaBox.bottomLeftY)/At},g0=m.setPageHeight=function(j,Z){er[j].mediaBox.topRightY=Z*At+er[j].mediaBox.bottomLeftY};return m.internal={pdfEscape:_n,getStyle:os,getFont:Ba,getFontSize:mt,getCharSpace:uh,getTextColor:ch,getLineHeight:Xc,getLineHeightFactor:yl,getLineWidth:no,write:ke,getHorizontalCoordinate:$i,getVerticalCoordinate:ao,getCoordinateString:lh,getVerticalCoordinateString:wl,collections:{},newObject:Rn,newAdditionalObject:be,newObjectDeferred:Bn,newObjectDeferredBegin:re,getFilters:He,putStream:et,events:kr,scaleFactor:At,pageSize:{getWidth:function(){return ic(P)},setWidth:function(j){tu(P,j)},getHeight:function(){return bl(P)},setHeight:function(j){g0(P,j)}},encryptionOptions:d,encryption:ya,getEncryptor:ml,output:To,getNumberOfPages:bf,pages:Ne,out:te,f2:q,f3:I,getPageInfo:jo,getPageInfoByObjId:ar,getCurrentPageInfo:u0,getPDFVersion:w,Point:Jc,Rectangle:h0,Matrix:qt,hasHotfix:Vc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ic(P)},set:function(j){tu(P,j)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return bl(P)},set:function(j){g0(P,j)},enumerable:!0,configurable:!0}),wf.call(m,Te),cr="F1",i0(a,t),kr.publish("initialized"),m}Cd.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Cd.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cd.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Cd.prototype.processOwnerPassword=function(r,e){return iy(ay(e).substr(0,5),r)},Cd.prototype.encryptor=function(r,e){var t=ay(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return iy(t,n)}},jm.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||hn(r)!==hn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Qt.API={events:[]},Qt.version="3.0.1";var sa=Qt.API,nw=1,hf=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pd=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dr=function(r){return r.toFixed(2)},Pu=function(r){return r.toFixed(5)};sa.__acroform__={};var Ns=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Z5=function(r){return r*nw},Gl=function(r){var e=new TS,t=Ut.internal.getHeight(r)||0,n=Ut.internal.getWidth(r)||0;return e.BBox=[0,0,Number(dr(n)),Number(dr(t))],e},hk=sa.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},pk=sa.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},gk=sa.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},ga=sa.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gk(r,e-1)},ma=sa.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hk(r,e-1)},xa=sa.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pk(r,e-1)},mk=sa.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],i=r[1],s=r[2],o=r[3],c={};return c.lowerLeft_X=t(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=t(a+s)||0,c.upperRight_Y=n(i)||0,[Number(dr(c.lowerLeft_X)),Number(dr(c.lowerLeft_Y)),Number(dr(c.upperRight_X)),Number(dr(c.upperRight_Y))]},xk=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=sy(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+dr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Gl(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},sy=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=t,s=Ut.internal.getHeight(r)||0;s=s<0?-s:s;var o=Ut.internal.getWidth(r)||0;o=o<0?-o:o;var c=function(I,U,X){if(I+1<a.length){var ae=U+" "+a[I+1][0];return cg(ae,r,X).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,p=cg("3",r,i).height,g=r.multiline?s-i:(s-p)/2,m=g+=2,y=0,w=0,_=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+cg(e,r,i=12).width+", FieldWidth:"+o+`
`;break}for(var S="",A=0,C=0;C<a.length;C++)if(a.hasOwnProperty(C)){var L=!1;if(a[C].length!==1&&_!==a[C].length-1){if((p+2)*(A+2)+2>s)continue e;S+=a[C][_],L=!0,w=C,C--}else{S=(S+=a[C][_]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var B=parseInt(C),M=c(B,S,i),F=C>=a.length-1;if(M&&!F){S+=" ",_=0;continue}if(M||F){if(F)w=B;else if(r.multiline&&(p+2)*(A+2)+2>s)continue e}else{if(!r.multiline||(p+2)*(A+2)+2>s)continue e;w=B}}for(var D="",O=y;O<=w;O++){var q=a[O];if(r.multiline){if(O===w){D+=q[_]+" ",_=(_+1)%q.length;continue}if(O===y){D+=q[q.length-1]+" ";continue}}D+=q[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=cg(D,r,i).width,r.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}e+=dr(u)+" "+dr(m)+` Td
`,e+="("+hf(D)+`) Tj
`,e+=-dr(u)+` 0 Td
`,m=-(i+2),d=0,y=L?w:w+1,A++,S=""}break}return n.text=e,n.fontSize=i,n},cg=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},vk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yk=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},wk=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,a=r[t];e.internal.newObjectDeferredBegin(a.objId,!0),hn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete r[n]}},bk=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(dl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(vk)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nw=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new jS,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&yk(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=mk(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ut.createDefaultAppearanceStream(o),hn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=xk(o);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var y=m[s];typeof y=="function"&&(y=y.call(a,o)),p+="/"+s+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,o)),p+="/"+s+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&wk(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},CS=sa.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(s){return s};if(Array.isArray(r)){for(var a="[",i=0;i<r.length;i++)switch(i!==0&&(a+=" "),hn(r[i])){case"boolean":case"number":case"object":a+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+hf(n(r[i].toString()))+")"):a+=r[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ov=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+hf(n(r))+")"},Yl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yl.prototype.toString=function(){return this.objId+" 0 R"},Yl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Yl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:CS(a,this.objId,this.scope)}):a instanceof Yl?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};var TS=function(){Yl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ns(TS,Yl);var jS=function(){Yl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hf(t(r))+")"}},set:function(t){r=t}})};Ns(jS,Yl);var dl=function r(){Yl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ga(e,3)},set:function(S){S?this.F=ma(e,3):this.F=xa(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Om)return;i="FieldObject"+r.FieldNum++}var S=function(A){return A};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+hf(S(i))+")"},set:function(S){i=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(S){i=S}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(S){s=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/nw:u},set:function(S){u=S}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Om||this instanceof nf))return ov(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Xa?g:ov(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=this instanceof Xa?S:S.substr(0,1)==="("?pd(S.substr(1,S.length-2)):pd(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xa?pd(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof Xa?"/"+S:S}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Xa?m:ov(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=this instanceof Xa?S:S.substr(0,1)==="("?pd(S.substr(1,S.length-2)):pd(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xa?pd(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof Xa?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){S=!!S,w=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(S){y=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,1)},set:function(S){S?this.Ff=ma(this.Ff,1):this.Ff=xa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,2)},set:function(S){S?this.Ff=ma(this.Ff,2):this.Ff=xa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,3)},set:function(S){S?this.Ff=ma(this.Ff,3):this.Ff=xa(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');_=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(_){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Ns(dl,Yl);var Dd=function(){dl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CS(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=function(i,s,o){o||(o=1);for(var c,u=[];c=s.exec(i);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,18)},set:function(t){t?this.Ff=ma(this.Ff,18):this.Ff=xa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ma(this.Ff,19):this.Ff=xa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,20)},set:function(t){t?(this.Ff=ma(this.Ff,20),e.sort()):this.Ff=xa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,22)},set:function(t){t?this.Ff=ma(this.Ff,22):this.Ff=xa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,23)},set:function(t){t?this.Ff=ma(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,27)},set:function(t){t?this.Ff=ma(this.Ff,27):this.Ff=xa(this.Ff,27)}}),this.hasAppearanceStream=!1};Ns(Dd,dl);var Id=function(){Dd.call(this),this.fontName="helvetica",this.combo=!1};Ns(Id,Dd);var Pd=function(){Id.call(this),this.combo=!0};Ns(Pd,Id);var gm=function(){Pd.call(this),this.edit=!0};Ns(gm,Pd);var Xa=function(){dl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,15)},set:function(t){t?this.Ff=ma(this.Ff,15):this.Ff=xa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,16)},set:function(t){t?this.Ff=ma(this.Ff,16):this.Ff=xa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,17)},set:function(t){t?this.Ff=ma(this.Ff,17):this.Ff=xa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,26)},set:function(t){t?this.Ff=ma(this.Ff,26):this.Ff=xa(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+hf(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){hn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ns(Xa,dl);var mm=function(){Xa.call(this),this.pushButton=!0};Ns(mm,Xa);var Fd=function(){Xa.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ns(Fd,Xa);var Om=function(){var r,e;dl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+hf(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){hn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ns(Om,dl),Fd.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Fd.prototype.createOption=function(r){var e=new Om;return e.Parent=this,e.optionName=r,this.Kids.push(e),_k.call(this.scope,e),e};var xm=function(){Xa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};Ns(xm,Xa);var nf=function(){dl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,13)},set:function(e){e?this.Ff=ma(this.Ff,13):this.Ff=xa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,21)},set:function(e){e?this.Ff=ma(this.Ff,21):this.Ff=xa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,23)},set:function(e){e?this.Ff=ma(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,24)},set:function(e){e?this.Ff=ma(this.Ff,24):this.Ff=xa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,25)},set:function(e){e?this.Ff=ma(this.Ff,25):this.Ff=xa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,26)},set:function(e){e?this.Ff=ma(this.Ff,26):this.Ff=xa(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ns(nf,dl);var vm=function(){nf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ga(this.Ff,14)},set:function(r){r?this.Ff=ma(this.Ff,14):this.Ff=xa(this.Ff,14)}}),this.password=!0};Ns(vm,nf);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Gl(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),i=sy(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+dr(Ut.internal.getWidth(r))+" "+dr(Ut.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+dr(i.fontSize)+" Tf "+a),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Gl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],i=Ut.internal.getHeight(r),s=Ut.internal.getWidth(r),o=sy(r,r.caption);return a.push("1 g"),a.push("0 0 "+dr(s)+" "+dr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+dr(s-1)+" "+dr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+dr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Gl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dr(Ut.internal.getWidth(r))+" "+dr(Ut.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Ut.RadioButton.Circle.YesNormal,e.D[r]=Ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Gl(r);e.scope=r.scope;var t=[],n=Ut.internal.getWidth(r)<=Ut.internal.getHeight(r)?Ut.internal.getWidth(r)/4:Ut.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Ut.internal.Bezier_C,i=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Pu(Ut.internal.getWidth(r)/2)+" "+Pu(Ut.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Gl(r);e.scope=r.scope;var t=[],n=Ut.internal.getWidth(r)<=Ut.internal.getHeight(r)?Ut.internal.getWidth(r)/4:Ut.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ut.internal.Bezier_C).toFixed(5)),s=Number((n*Ut.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Pu(Ut.internal.getWidth(r)/2)+" "+Pu(Ut.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Pu(Ut.internal.getWidth(r)/2)+" "+Pu(Ut.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Gl(r);e.scope=r.scope;var t=[],n=Ut.internal.getWidth(r)<=Ut.internal.getHeight(r)?Ut.internal.getWidth(r)/4:Ut.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ut.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Pu(Ut.internal.getWidth(r)/2)+" "+Pu(Ut.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Ut.RadioButton.Cross.YesNormal,e.D[r]=Ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Gl(r);e.scope=r.scope;var t=[],n=Ut.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+dr(Ut.internal.getWidth(r)-2)+" "+dr(Ut.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(dr(n.x1.x)+" "+dr(n.x1.y)+" m"),t.push(dr(n.x2.x)+" "+dr(n.x2.y)+" l"),t.push(dr(n.x4.x)+" "+dr(n.x4.y)+" m"),t.push(dr(n.x3.x)+" "+dr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Gl(r);e.scope=r.scope;var t=Ut.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+dr(Ut.internal.getWidth(r))+" "+dr(Ut.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+dr(Ut.internal.getWidth(r)-2)+" "+dr(Ut.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(dr(t.x1.x)+" "+dr(t.x1.y)+" m"),n.push(dr(t.x2.x)+" "+dr(t.x2.y)+" l"),n.push(dr(t.x4.x)+" "+dr(t.x4.y)+" m"),n.push(dr(t.x3.x)+" "+dr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Gl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+dr(Ut.internal.getWidth(r))+" "+dr(Ut.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Ut.internal.getWidth(r),t=Ut.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Ut.internal.getWidth=function(r){var e=0;return hn(r)==="object"&&(e=Z5(r.Rect[2])),e},Ut.internal.getHeight=function(r){var e=0;return hn(r)==="object"&&(e=Z5(r.Rect[3])),e};var _k=sa.addField=function(r){if(bk(this,r),!(r instanceof dl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};sa.AcroFormChoiceField=Dd,sa.AcroFormListBox=Id,sa.AcroFormComboBox=Pd,sa.AcroFormEditBox=gm,sa.AcroFormButton=Xa,sa.AcroFormPushButton=mm,sa.AcroFormRadioButton=Fd,sa.AcroFormCheckBox=xm,sa.AcroFormTextField=nf,sa.AcroFormPasswordField=vm,sa.AcroFormAppearance=Ut,sa.AcroForm={ChoiceField:Dd,ListBox:Id,ComboBox:Pd,EditBox:gm,Button:Xa,PushButton:mm,RadioButton:Fd,CheckBox:xm,TextField:nf,PasswordField:vm,Appearance:Ut},Qt.AcroForm={ChoiceField:Dd,ListBox:Id,ComboBox:Pd,EditBox:gm,Button:Xa,PushButton:mm,RadioButton:Fd,CheckBox:xm,TextField:nf,PasswordField:vm,Appearance:Ut};Qt.AcroForm;function OS(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(I,U){var X,ae,Se,Q,ce,we=e;if((U=U||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(M(I))for(ce in t)for(Se=t[ce],X=0;X<Se.length;X+=1){for(Q=!0,ae=0;ae<Se[X].length;ae+=1)if(Se[X][ae]!==void 0&&Se[X][ae]!==I[ae]){Q=!1;break}if(Q===!0){we=ce;break}}else for(ce in t)for(Se=t[ce],X=0;X<Se.length;X+=1){for(Q=!0,ae=0;ae<Se[X].length;ae+=1)if(Se[X][ae]!==void 0&&Se[X][ae]!==I.charCodeAt(ae)){Q=!1;break}if(Q===!0){we=ce;break}}return we===e&&U!==e&&(we=U),we},a=function I(U){for(var X=this.internal.write,ae=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:U.width}),Q.push({key:"Height",value:U.height}),U.colorSpace===_.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===_.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var ce="",we=0,ue=U.transparency.length;we<ue;we++)ce+=U.transparency[we]+" "+U.transparency[we]+" ";Q.push({key:"Mask",value:"["+ce+"]"})}U.sMask!==void 0&&Q.push({key:"SMask",value:U.objectId+1+" 0 R"});var Y=U.filter!==void 0?["/"+U.filter]:void 0;if(ae({data:U.data,additionalKeyValues:Q,alreadyAppliedFilters:Y,objectId:U.objectId}),X("endobj"),"sMask"in U&&U.sMask!==void 0){var xe="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,R={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:xe,data:U.sMask};"filter"in U&&(R.filter=U.filter),I.call(this,R)}if(U.colorSpace===_.INDEXED){var P=this.internal.newObject();ae({data:D(new Uint8Array(U.palette)),objectId:P}),X("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var U in I)a.call(this,I[U])},s=function(){var I,U=this.internal.collections.addImage_images,X=this.internal.write;for(var ae in U)X("/I"+(I=U[ae]).index,I.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var I=this.internal.collections.addImage_images;return o.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(I){return typeof r["process"+I.toUpperCase()]=="function"},p=function(I){return hn(I)==="object"&&I.nodeType===1},g=function(I,U){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var X=""+I.getAttribute("src");if(X.indexOf("data:image/")===0)return S1(unescape(X).split("base64,").pop());var ae=r.loadFile(X,!0);if(ae!==void 0)return ae}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Se;switch(U){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;case"JPEG":case"JPG":default:Se="image/jpeg"}return S1(I.toDataURL(Se,1).split("base64,").pop())}},m=function(I){var U=this.internal.collections.addImage_images;if(U){for(var X in U)if(I===U[X].alias)return U[X]}},y=function(I,U,X){return I||U||(I=-96,U=-96),I<0&&(I=-1*X.width*72/I/this.internal.scaleFactor),U<0&&(U=-1*X.height*72/U/this.internal.scaleFactor),I===0&&(I=U*X.width/X.height),U===0&&(U=I*X.height/X.width),[I,U]},w=function(I,U,X,ae,Se,Q){var ce=y.call(this,X,ae,Se),we=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,Y=c.call(this);if(X=ce[0],ae=ce[1],Y[Se.index]=Se,Q){Q*=Math.PI/180;var xe=Math.cos(Q),R=Math.sin(Q),P=function(G){return G.toFixed(4)},H=[P(xe),P(R),P(-1*R),P(xe),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,we(I),ue(U+ae),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([we(X),"0","0",we(ae),"0","0","cm"].join(" "))):this.internal.write([we(X),"0","0",we(ae),we(I),ue(U+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},_=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=r.__addimage__.sHashCode=function(I){var U,X,ae=0;if(typeof I=="string")for(X=I.length,U=0;U<X;U++)ae=(ae<<5)-ae+I.charCodeAt(U),ae|=0;else if(M(I))for(X=I.byteLength/2,U=0;U<X;U++)ae=(ae<<5)-ae+I[U],ae|=0;return ae},C=r.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var U=!0;return I.length===0&&(U=!1),I.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(U=!1),U},L=r.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var U=I.indexOf(",");return U<0?null:I.substring(0,U).trim().endsWith("base64")?I.substring(U+1):null},B=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};r.__addimage__.isArrayBuffer=function(I){return B()&&I instanceof ArrayBuffer};var M=r.__addimage__.isArrayBufferView=function(I){return B()&&typeof Uint32Array!="undefined"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},F=r.__addimage__.binaryStringToUint8Array=function(I){for(var U=I.length,X=new Uint8Array(U),ae=0;ae<U;ae++)X[ae]=I.charCodeAt(ae);return X},D=r.__addimage__.arrayBufferToBinaryString=function(I){for(var U="",X=M(I)?I:new Uint8Array(I),ae=0;ae<X.length;ae+=8192)U+=String.fromCharCode.apply(null,X.subarray(ae,ae+8192));return U};r.addImage=function(){var I,U,X,ae,Se,Q,ce,we,ue;if(typeof arguments[1]=="number"?(U=e,X=arguments[1],ae=arguments[2],Se=arguments[3],Q=arguments[4],ce=arguments[5],we=arguments[6],ue=arguments[7]):(U=arguments[1],X=arguments[2],ae=arguments[3],Se=arguments[4],Q=arguments[5],ce=arguments[6],we=arguments[7],ue=arguments[8]),hn(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var Y=I;I=Y.imageData,U=Y.format||U||e,X=Y.x||X||0,ae=Y.y||ae||0,Se=Y.w||Y.width||Se,Q=Y.h||Y.height||Q,ce=Y.alias||ce,we=Y.compression||we,ue=Y.rotation||Y.angle||ue}var xe=this.internal.getFilters();if(we===void 0&&xe.indexOf("FlateEncode")!==-1&&(we="SLOW"),isNaN(X)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var R=O.call(this,I,U,ce,we);return w.call(this,X,ae,Se,Q,R,ue),this};var O=function(I,U,X,ae){var Se,Q,ce;if(typeof I=="string"&&n(I)===e){I=unescape(I);var we=q(I,!1);(we!==""||(we=r.loadFile(I,!0))!==void 0)&&(I=we)}if(p(I)&&(I=g(I,U)),U=n(I,U),!d(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ce=X)==null||ce.length===0)&&(X=function(ue){return typeof ue=="string"||M(ue)?A(ue):M(ue.data)?A(ue.data):null}(I)),(Se=m.call(this,X))||(B()&&(I instanceof Uint8Array||U==="RGBA"||(Q=I,I=F(I))),Se=this["process"+U.toUpperCase()](I,u.call(this),X,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in r.image_compression?ue:S.NONE}(ae),Q)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},q=r.__addimage__.convertBase64ToBinaryString=function(I,U){U=typeof U!="boolean"||U;var X,ae="";if(typeof I=="string"){var Se;X=(Se=L(I))!==null&&Se!==void 0?Se:I;try{ae=S1(X)}catch(Q){if(U)throw C(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};r.getImageProperties=function(I){var U,X,ae="";if(p(I)&&(I=g(I)),typeof I=="string"&&n(I)===e&&((ae=q(I,!1))===""&&(ae=r.loadFile(I)||""),I=ae),X=n(I),!d(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!B()||I instanceof Uint8Array||(I=F(I)),!(U=this["process"+X.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=X,U}})(Qt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Qt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,d=!1,p=0;p<u.length&&!d;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(w.objId),A=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(S(n.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(S(A))+") >>",w.content=i;var C=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(w.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var M=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:u(n),w:c(t+a),h:u(n+i)},options:s,type:"link"})},r.textWithLink=function(t,n,a,i){var s,o,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(t,o).length;s=Math.ceil(u*d)}else o=c,s=u;return this.text(t,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,o,s,i),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Qt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=r.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&a.indexOf(w.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var d=r.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&i(w)&&e[w.charCodeAt(0)].length==4},p=r.__arabicParser__.resolveLigatures=function(w){var _=0,S=t,A="",C=0;for(_=0;_<w.length;_+=1)S[w.charCodeAt(_)]!==void 0?(C++,typeof(S=S[w.charCodeAt(_)])=="number"&&(A+=String.fromCharCode(S),S=t,C=0),_===w.length-1&&(S=t,A+=w.charAt(_-(C-1)),_-=C-1,C=0)):(S=t,A+=w.charAt(_-C),_-=C,C=0);return A};r.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=r.__arabicParser__.getCorrectForm=function(w,_,S){return s(w)?i(w)===!1?-1:!u(w)||!s(_)&&!s(S)||!s(S)&&o(_)||o(w)&&!s(_)||o(w)&&c(_)||o(w)&&o(_)?0:d(w)&&s(_)&&!o(_)&&s(S)&&u(S)?3:o(w)||!s(S)?1:2:-1},m=function(w){var _=0,S=0,A=0,C="",L="",B="",M=(w=w||"").split("\\s+"),F=[];for(_=0;_<M.length;_+=1){for(F.push(""),S=0;S<M[_].length;S+=1)C=M[_][S],L=M[_][S-1],B=M[_][S+1],s(C)?(A=g(C,L,B),F[_]+=A!==-1?String.fromCharCode(e[C.charCodeAt(0)][A]):C):F[_]+=C;F[_]=p(F[_])}return F.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var w,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(_)){var A=0;for(S=[],A=0;A<_.length;A+=1)Array.isArray(_[A])?S.push([m(_[A][0]),_[A][1],_[A][2]]):S.push([m(_[A])]);w=S}else w=m(_);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};r.events.push(["preProcessText",y])}(Qt.API),Qt.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Qt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,w=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=u.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,L){return C.concat(_.splitTextToSize(L,S))},[])):c=Array.isArray(c)?c:[c];for(var A=0;A<c.length;A++)m<(w=this.getStringUnitWidth(c[A],{font:p})*d)&&(m=w);return m!==0&&(y=c.length),{w:m/=g,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,m&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};r.table=function(c,u,d,p,g){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,y,w,_,S=[],A=[],C=[],L={},B={},M=[],F=[],D=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,I=g.margins||Object.assign({width:this.getPageWidth()},e),U=typeof g.padding=="number"?g.padding:3,X=g.headerBackgroundColor||"#c8c8c8",ae=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=ae,this.setFontSize(q),p==null)A=S=Object.keys(d[0]),C=S.map(function(){return"left"});else if(Array.isArray(p)&&hn(p[0])==="object")for(S=p.map(function(Y){return Y.name}),A=p.map(function(Y){return Y.prompt||Y.name||""}),C=p.map(function(Y){return Y.align||"left"}),m=0;m<p.length;m+=1)B[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(A=S=p,C=S.map(function(){return"left"}));if(D||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<S.length;m+=1){for(L[_=S[m]]=d.map(function(Y){return Y[_]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(A[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=L[_],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)M.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[_]=Math.max.apply(null,M)+U+U,M=[]}if(O){var Se={};for(m=0;m<S.length;m+=1)Se[S[m]]={},Se[S[m]].text=A[m],Se[S[m]].align=C[m];var Q=o.call(this,Se,B);F=S.map(function(Y){return new i(c,u,B[Y],Q,Se[Y].text,void 0,Se[Y].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ce=p.reduce(function(Y,xe){return Y[xe.name]=xe.align,Y},{});for(m=0;m<d.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:d[m]},this);var we=o.call(this,d[m],B);for(w=0;w<S.length;w+=1){var ue=d[m][S[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:w,data:ue},this),s.call(this,new i(c,u,B[S[w]],we,ue,m+2,ce[S[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+d+d},this).reduce(function(m,y){return Math.max(m,y)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(Qt.API);var RS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],oy=OS(kS),LS=[100,200,300,400,500,600,700,800,900],Sk=OS(LS);function ly(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return RS[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),a=function(i){return typeof oy[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function J5(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}var Ek={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e3(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Ak(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",a=Object.assign({},Ek,t.genericFontFamilies||{}),i=null,s=null,o=0;o<e.length;++o)if(a[(i=ly(e[o])).family]&&(i.family=a[i.family]),r.hasOwnProperty(i.family)){s=r[i.family];break}if(!(s=s||r[n]))throw new Error("Could not find a font-family for the rule '"+e3(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var d=oy[c],p=d<=oy.normal?-1:1,g=J5(u,kS,d,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var d=RS[c],p=0;p<d.length;++p)if(u[d[p]])return u[d[p]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Sk[c],p=J5(u,LS,d,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+e3(i)+"'.");return s}function t3(r){return r.trimLeft()}function Nk(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Ck(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var ug,r3,n3,lv=["times"];(function(r){var e,t,n,a,i,s,o,c,u,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var p=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=R;Object.defineProperty(this,"pdf",{get:function(){return P}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(ze){H=!!ze}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(ze){G=!!ze}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ze){isNaN(ze)||(J=ze)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(ze){isNaN(ze)||(Ee=ze)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ze){var te;typeof ze=="number"?te=[ze,ze,ze,ze]:((te=new Array(4))[0]=ze[0],te[1]=ze.length>=2?ze[1]:te[0],te[2]=ze.length>=3?ze[2]:te[0],te[3]=ze.length>=4?ze[3]:te[1]),u.margin=te}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(ze){ve=ze}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ze){he=ze}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(ze){pe=ze}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ze){ze instanceof d&&(u=ze)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ze){u.path=ze}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(ze){Ne=ze}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ze){var te;te=g(ze),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ze){var te=g(ze);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ze){["butt","round","square"].indexOf(ze)!==-1&&(this.ctx.lineCap=ze,this.pdf.setLineCap(ze))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ze){isNaN(ze)||(this.ctx.lineWidth=ze,this.pdf.setLineWidth(ze))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ze){["bevel","round","miter"].indexOf(ze)!==-1&&(this.ctx.lineJoin=ze,this.pdf.setLineJoin(ze))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ze){isNaN(ze)||(this.ctx.miterLimit=ze,this.pdf.setMiterLimit(ze))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ze){this.ctx.textBaseline=ze}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ze){["right","end","center","left","start"].indexOf(ze)!==-1&&(this.ctx.textAlign=ze)}});var Be=null;function rt(ze,te){if(Be===null){var ke=function(Ze){var Te=[];return Object.keys(Ze).forEach(function(Ie){Ze[Ie].forEach(function(ot){var mt=null;switch(ot){case"bold":mt={family:Ie,weight:"bold"};break;case"italic":mt={family:Ie,style:"italic"};break;case"bolditalic":mt={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:Ie}}mt!==null&&(mt.ref={name:Ie,style:ot},Te.push(mt))})}),Te}(ze.getFontList());Be=function(Ze){for(var Te={},Ie=0;Ie<Ze.length;++Ie){var ot=ly(Ze[Ie]),mt=ot.family,vt=ot.stretch,Tt=ot.style,zt=ot.weight;Te[mt]=Te[mt]||{},Te[mt][vt]=Te[mt][vt]||{},Te[mt][vt][Tt]=Te[mt][vt][Tt]||{},Te[mt][vt][Tt][zt]=ot}return Te}(ke.concat(te))}return Be}var ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(ze){Be=null,ft=ze}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ze){var te;if(this.ctx.font=ze,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ze))!==null){var ke=te[1];te[2];var Ze=te[3],Te=te[4];te[5];var Ie=te[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(ot==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var mt=function(Pt){var cr,At,Hr=[],or=Pt.trim();if(or==="")return lv;if(or in Q5)return[Q5[or]];for(;or!=="";){switch(At=null,cr=(or=t3(or)).charAt(0)){case'"':case"'":At=Nk(or.substring(1),cr);break;default:At=Ck(or)}if(At===null||(Hr.push(At[0]),(or=t3(At[1]))!==""&&or.charAt(0)!==","))return lv;or=or.replace(/^,/,"")}return Hr}(Ie);if(this.fontFaces){var vt=Ak(rt(this.pdf,this.fontFaces),mt.map(function(Pt){return{family:Pt,stretch:"normal",weight:Ze,style:ke}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var Tt="";(Ze==="bold"||parseInt(Ze,10)>=700||ke==="bold")&&(Tt="bold"),ke==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var zt="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<mt.length;Mt++){if(this.pdf.internal.getFont(mt[Mt],Tt,{noFallback:!0,disableWarning:!0})!==void 0){zt=mt[Mt];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(mt[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zt=mt[Mt],Tt="bold";else if(this.pdf.internal.getFont(mt[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zt=mt[Mt],Tt="normal";break}}if(zt===""){for(var Xt=0;Xt<mt.length;Xt++)if(It[mt[Xt]]){zt=It[mt[Xt]];break}}zt=zt===""?"Times":zt,this.pdf.setFont(zt,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ze){this.ctx.globalCompositeOperation=ze}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ze){this.ctx.globalAlpha=ze}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ze){this.ctx.lineDashOffset=ze,xe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ze){this.ctx.lineDash=ze,xe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ze){this.ctx.ignoreClearRect=!!ze}})};p.prototype.setLineDash=function(R){this.lineDash=R},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){L.call(this,"fill",!1)},p.prototype.stroke=function(){L.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(R,P){if(isNaN(R)||isNaN(P))throw En.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new s(R,P));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(R,P)},p.prototype.closePath=function(){var R=new s(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&hn(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){R=new s(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},p.prototype.lineTo=function(R,P){if(isNaN(R)||isNaN(P))throw En.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new s(R,P));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new s(H.x,H.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},p.prototype.quadraticCurveTo=function(R,P,H,G){if(isNaN(H)||isNaN(G)||isNaN(R)||isNaN(P))throw En.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new s(H,G)),Ee=this.ctx.transform.applyToPoint(new s(R,P));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},p.prototype.bezierCurveTo=function(R,P,H,G,J,Ee){if(isNaN(J)||isNaN(Ee)||isNaN(R)||isNaN(P)||isNaN(H)||isNaN(G))throw En.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new s(J,Ee)),he=this.ctx.transform.applyToPoint(new s(R,P)),pe=this.ctx.transform.applyToPoint(new s(H,G));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:pe.x,y2:pe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new s(ve.x,ve.y)},p.prototype.arc=function(R,P,H,G,J,Ee){if(isNaN(R)||isNaN(P)||isNaN(H)||isNaN(G)||isNaN(J))throw En.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new s(R,P));R=ve.x,P=ve.y;var he=this.ctx.transform.applyToPoint(new s(0,H)),pe=this.ctx.transform.applyToPoint(new s(0,0));H=Math.sqrt(Math.pow(he.x-pe.x,2)+Math.pow(he.y-pe.y,2))}Math.abs(J-G)>=2*Math.PI&&(G=0,J=2*Math.PI),this.path.push({type:"arc",x:R,y:P,radius:H,startAngle:G,endAngle:J,counterclockwise:Ee})},p.prototype.arcTo=function(R,P,H,G,J){throw new Error("arcTo not implemented.")},p.prototype.rect=function(R,P,H,G){if(isNaN(R)||isNaN(P)||isNaN(H)||isNaN(G))throw En.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,P),this.lineTo(R+H,P),this.lineTo(R+H,P+G),this.lineTo(R,P+G),this.lineTo(R,P),this.lineTo(R+H,P),this.lineTo(R,P)},p.prototype.fillRect=function(R,P,H,G){if(isNaN(R)||isNaN(P)||isNaN(H)||isNaN(G))throw En.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,P,H,G),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},p.prototype.strokeRect=function(R,P,H,G){if(isNaN(R)||isNaN(P)||isNaN(H)||isNaN(G))throw En.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(R,P,H,G),this.stroke())},p.prototype.clearRect=function(R,P,H,G){if(isNaN(R)||isNaN(P)||isNaN(H)||isNaN(G))throw En.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,P,H,G))},p.prototype.save=function(R){R=typeof R!="boolean"||R;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},p.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(P),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(R){var P,H,G,J;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))P=0,H=0,G=0,J=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Ee!==null)P=parseInt(Ee[1]),H=parseInt(Ee[2]),G=parseInt(Ee[3]),J=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)P=parseInt(Ee[1]),H=parseInt(Ee[2]),G=parseInt(Ee[3]),J=parseFloat(Ee[4]);else{if(J=1,typeof R=="string"&&R.charAt(0)!=="#"){var ve=new ES(R);R=ve.ok?ve.toHex():"#000000"}R.length===4?(P=R.substring(1,2),P+=P,H=R.substring(2,3),H+=H,G=R.substring(3,4),G+=G):(P=R.substring(1,3),H=R.substring(3,5),G=R.substring(5,7)),P=parseInt(P,16),H=parseInt(H,16),G=parseInt(G,16)}}return{r:P,g:H,b:G,a:J,style:R}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(R,P,H,G){if(isNaN(P)||isNaN(H)||typeof R!="string")throw En.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!m.call(this)){var J=we(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;U.call(this,{text:R,x:P,y:H,scale:Ee,angle:J,align:this.textAlign,maxWidth:G})}},p.prototype.strokeText=function(R,P,H,G){if(isNaN(P)||isNaN(H)||typeof R!="string")throw En.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){G=isNaN(G)?void 0:G;var J=we(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;U.call(this,{text:R,x:P,y:H,scale:Ee,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:G})}},p.prototype.measureText=function(R){if(typeof R!="string")throw En.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,H=this.pdf.internal.scaleFactor,G=P.internal.getFontSize(),J=P.getStringUnitWidth(R)*G/P.internal.scaleFactor,Ee=function(ve){var he=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new Ee({width:J*=Math.round(96*H/72*1e4)/1e4})},p.prototype.scale=function(R,P){if(isNaN(R)||isNaN(P))throw En.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(R,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.rotate=function(R){if(isNaN(R))throw En.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},p.prototype.translate=function(R,P){if(isNaN(R)||isNaN(P))throw En.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,R,P);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.transform=function(R,P,H,G,J,Ee){if(isNaN(R)||isNaN(P)||isNaN(H)||isNaN(G)||isNaN(J)||isNaN(Ee))throw En.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new c(R,P,H,G,J,Ee);this.ctx.transform=this.ctx.transform.multiply(ve)},p.prototype.setTransform=function(R,P,H,G,J,Ee){R=isNaN(R)?1:R,P=isNaN(P)?0:P,H=isNaN(H)?0:H,G=isNaN(G)?1:G,J=isNaN(J)?0:J,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new c(R,P,H,G,J,Ee)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(R,P,H,G,J,Ee,ve,he,pe){var Ne=this.pdf.getImageProperties(R),Be=1,rt=1,ft=1,ze=1;G!==void 0&&he!==void 0&&(ft=he/G,ze=pe/J,Be=Ne.width/G*he/G,rt=Ne.height/J*pe/J),Ee===void 0&&(Ee=P,ve=H,P=0,H=0),G!==void 0&&he===void 0&&(he=G,pe=J),G===void 0&&he===void 0&&(he=Ne.width,pe=Ne.height);for(var te,ke=this.ctx.transform.decompose(),Ze=we(ke.rotate.shx),Te=new c,Ie=(Te=(Te=(Te=Te.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new o(Ee-P*ft,ve-H*ze,G*Be,J*rt)),ot=_.call(this,Ie),mt=[],vt=0;vt<ot.length;vt+=1)mt.indexOf(ot[vt])===-1&&mt.push(ot[vt]);if(C(mt),this.autoPaging)for(var Tt=mt[0],zt=mt[mt.length-1],It=Tt;It<zt+1;It++){this.pdf.setPage(It);var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=It===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],cr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=It===1?0:Pt+(It-2)*cr;if(this.ctx.clip_path.length!==0){var Hr=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(te,this.posX+this.margin[3],-At+Xt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Hr}var or=JSON.parse(JSON.stringify(Ie));or=A([or],this.posX+this.margin[3],-At+Xt+this.ctx.prevPageLastElemOffset)[0];var ea=(It>Tt||It<zt)&&w.call(this);ea&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,cr,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",or.x,or.y,or.w,or.h,null,null,Ze),ea&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Ze)};var _=function(R,P,H){var G=[];P=P||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":G.push(Math.floor((R.y+J)/H)+1);break;case"arc":G.push(Math.floor((R.y+J-R.radius)/H)+1),G.push(Math.floor((R.y+J+R.radius)/H)+1);break;case"qct":var Ee=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);G.push(Math.floor((Ee.y+J)/H)+1),G.push(Math.floor((Ee.y+Ee.h+J)/H)+1);break;case"bct":var ve=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);G.push(Math.floor((ve.y+J)/H)+1),G.push(Math.floor((ve.y+ve.h+J)/H)+1);break;case"rect":G.push(Math.floor((R.y+J)/H)+1),G.push(Math.floor((R.y+R.h+J)/H)+1)}for(var he=0;he<G.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<G[he];)S.call(this);return G},S=function(){var R=this.fillStyle,P=this.strokeStyle,H=this.font,G=this.lineCap,J=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=P,this.font=H,this.lineCap=G,this.lineWidth=J,this.lineJoin=Ee},A=function(R,P,H){for(var G=0;G<R.length;G++)switch(R[G].type){case"bct":R[G].x2+=P,R[G].y2+=H;case"qct":R[G].x1+=P,R[G].y1+=H;case"mt":case"lt":case"arc":default:R[G].x+=P,R[G].y+=H}return R},C=function(R){return R.sort(function(P,H){return P-H})},L=function(R,P){for(var H,G,J=this.fillStyle,Ee=this.strokeStyle,ve=this.lineCap,he=this.lineWidth,pe=Math.abs(he*this.ctx.transform.scaleX),Ne=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),ft=[],ze=0;ze<rt.length;ze++)if(rt[ze].x!==void 0)for(var te=_.call(this,rt[ze]),ke=0;ke<te.length;ke+=1)ft.indexOf(te[ke])===-1&&ft.push(te[ke]);for(var Ze=0;Ze<ft.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<ft[Ze];)S.call(this);if(C(ft),this.autoPaging)for(var Te=ft[0],Ie=ft[ft.length-1],ot=Te;ot<Ie+1;ot++){this.pdf.setPage(ot),this.fillStyle=J,this.strokeStyle=Ee,this.lineCap=ve,this.lineWidth=pe,this.lineJoin=Ne;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=ot===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=ot===1?0:Tt+(ot-2)*zt;if(this.ctx.clip_path.length!==0){var Mt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(H,this.posX+this.margin[3],-It+vt+this.ctx.prevPageLastElemOffset),B.call(this,R,!0),this.path=Mt}if(G=JSON.parse(JSON.stringify(Be)),this.path=A(G,this.posX+this.margin[3],-It+vt+this.ctx.prevPageLastElemOffset),P===!1||ot===0){var Xt=(ot>Te||ot<Ie)&&w.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,zt,null).clip().discardPath()),B.call(this,R,P),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=pe,B.call(this,R,P),this.lineWidth=he;this.path=Be},B=function(R,P){if((R!=="stroke"||P||!y.call(this))&&(R==="stroke"||P||!m.call(this))){for(var H,G,J=[],Ee=this.path,ve=0;ve<Ee.length;ve++){var he=Ee[ve];switch(he.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:he,deltas:[],abs:[]});break;case"lt":var pe=J.length;if(Ee[ve-1]&&!isNaN(Ee[ve-1].x)&&(H=[he.x-Ee[ve-1].x,he.y-Ee[ve-1].y],pe>0)){for(;pe>=0;pe--)if(J[pe-1].close!==!0&&J[pe-1].begin!==!0){J[pe-1].deltas.push(H),J[pe-1].abs.push(he);break}}break;case"bct":H=[he.x1-Ee[ve-1].x,he.y1-Ee[ve-1].y,he.x2-Ee[ve-1].x,he.y2-Ee[ve-1].y,he.x-Ee[ve-1].x,he.y-Ee[ve-1].y],J[J.length-1].deltas.push(H);break;case"qct":var Ne=Ee[ve-1].x+2/3*(he.x1-Ee[ve-1].x),Be=Ee[ve-1].y+2/3*(he.y1-Ee[ve-1].y),rt=he.x+2/3*(he.x1-he.x),ft=he.y+2/3*(he.y1-he.y),ze=he.x,te=he.y;H=[Ne-Ee[ve-1].x,Be-Ee[ve-1].y,rt-Ee[ve-1].x,ft-Ee[ve-1].y,ze-Ee[ve-1].x,te-Ee[ve-1].y],J[J.length-1].deltas.push(H);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(he)}}G=P?null:R==="stroke"?"stroke":"fill";for(var ke=!1,Ze=0;Ze<J.length;Ze++)if(J[Ze].arc)for(var Te=J[Ze].abs,Ie=0;Ie<Te.length;Ie++){var ot=Te[Ie];ot.type==="arc"?D.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,P,!ke):X.call(this,ot.x,ot.y),ke=!0}else if(J[Ze].close===!0)this.pdf.internal.out("h"),ke=!1;else if(J[Ze].begin!==!0){var mt=J[Ze].start.x,vt=J[Ze].start.y;ae.call(this,J[Ze].deltas,mt,vt),ke=!0}G&&O.call(this,G),P&&q.call(this)}},M=function(R){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-H;case"top":return R+P-H;case"hanging":return R+P-2*H;case"middle":return R+P/2-H;case"ideographic":return R;case"alphabetic":default:return R}},F=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(P,H){this.colorStops.push([P,H])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(R,P,H,G,J,Ee,ve,he,pe){for(var Ne=Q.call(this,H,G,J,Ee),Be=0;Be<Ne.length;Be++){var rt=Ne[Be];Be===0&&(pe?I.call(this,rt.x1+R,rt.y1+P):X.call(this,rt.x1+R,rt.y1+P)),Se.call(this,R,P,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}he?q.call(this):O.call(this,ve)},O=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(R,P){this.pdf.internal.out(t(R)+" "+n(P)+" m")},U=function(R){var P;switch(R.align){case"right":case"end":P="right";break;case"center":P="center";break;case"left":case"start":default:P="left"}var H=this.pdf.getTextDimensions(R.text),G=M.call(this,R.y),J=F.call(this,G)-H.h,Ee=this.ctx.transform.applyToPoint(new s(R.x,G)),ve=this.ctx.transform.decompose(),he=new c;he=(he=(he=he.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var pe,Ne,Be,rt=this.ctx.transform.applyToRectangle(new o(R.x,G,H.w,H.h)),ft=he.applyToRectangle(new o(R.x,J,H.w,H.h)),ze=_.call(this,ft),te=[],ke=0;ke<ze.length;ke+=1)te.indexOf(ze[ke])===-1&&te.push(ze[ke]);if(C(te),this.autoPaging)for(var Ze=te[0],Te=te[te.length-1],Ie=Ze;Ie<Te+1;Ie++){this.pdf.setPage(Ie);var ot=Ie===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],Tt=vt-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],It=zt-this.margin[3],Mt=Ie===1?0:mt+(Ie-2)*Tt;if(this.ctx.clip_path.length!==0){var Xt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(pe,this.posX+this.margin[3],-1*Mt+ot),B.call(this,"fill",!0),this.path=Xt}var Pt=A([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-Mt+ot+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale);var cr=this.autoPaging!=="text";if(cr||Pt.y+Pt.h<=vt){if(cr||Pt.y>=ot&&Pt.x<=zt){var At=cr?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||zt-Pt.x)[0],Hr=A([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Mt+ot+this.ctx.prevPageLastElemOffset)[0],or=cr&&(Ie>Ze||Ie<Te)&&w.call(this);or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,Tt,null).clip().discardPath()),this.pdf.text(At,Hr.x,Hr.y,{angle:R.angle,align:P,renderingMode:R.renderingMode}),or&&this.pdf.restoreGraphicsState()}}else Pt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-Pt.y);R.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Be)}else R.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*R.scale),Be=this.lineWidth,this.lineWidth=Be*R.scale),this.pdf.text(R.text,Ee.x+this.posX,Ee.y+this.posY,{angle:R.angle,align:P,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Be)},X=function(R,P,H,G){H=H||0,G=G||0,this.pdf.internal.out(t(R+H)+" "+n(P+G)+" l")},ae=function(R,P,H){return this.pdf.lines(R,P,H,null,null)},Se=function(R,P,H,G,J,Ee,ve,he){this.pdf.internal.out([e(a(H+R)),e(i(G+P)),e(a(J+R)),e(i(Ee+P)),e(a(ve+R)),e(i(he+P)),"c"].join(" "))},Q=function(R,P,H,G){for(var J=2*Math.PI,Ee=Math.PI/2;P>H;)P-=J;var ve=Math.abs(H-P);ve<J&&G&&(ve=J-ve);for(var he=[],pe=G?-1:1,Ne=P;ve>1e-5;){var Be=Ne+pe*Math.min(ve,Ee);he.push(ce.call(this,R,Ne,Be)),ve-=Math.abs(Be-Ne),Ne=Be}return he},ce=function(R,P,H){var G=(H-P)/2,J=R*Math.cos(G),Ee=R*Math.sin(G),ve=J,he=-Ee,pe=ve*ve+he*he,Ne=pe+ve*J+he*Ee,Be=4/3*(Math.sqrt(2*pe*Ne)-Ne)/(ve*Ee-he*J),rt=ve-Be*he,ft=he+Be*ve,ze=rt,te=-ft,ke=G+P,Ze=Math.cos(ke),Te=Math.sin(ke);return{x1:R*Math.cos(P),y1:R*Math.sin(P),x2:rt*Ze-ft*Te,y2:rt*Te+ft*Ze,x3:ze*Ze-te*Te,y3:ze*Te+te*Ze,x4:R*Math.cos(H),y4:R*Math.sin(H)}},we=function(R){return 180*R/Math.PI},ue=function(R,P,H,G,J,Ee){var ve=R+.5*(H-R),he=P+.5*(G-P),pe=J+.5*(H-J),Ne=Ee+.5*(G-Ee),Be=Math.min(R,J,ve,pe),rt=Math.max(R,J,ve,pe),ft=Math.min(P,Ee,he,Ne),ze=Math.max(P,Ee,he,Ne);return new o(Be,ft,rt-Be,ze-ft)},Y=function(R,P,H,G,J,Ee,ve,he){var pe,Ne,Be,rt,ft,ze,te,ke,Ze,Te,Ie,ot,mt,vt,Tt=H-R,zt=G-P,It=J-H,Mt=Ee-G,Xt=ve-J,Pt=he-Ee;for(Ne=0;Ne<41;Ne++)Ze=(te=(Be=R+(pe=Ne/40)*Tt)+pe*((ft=H+pe*It)-Be))+pe*(ft+pe*(J+pe*Xt-ft)-te),Te=(ke=(rt=P+pe*zt)+pe*((ze=G+pe*Mt)-rt))+pe*(ze+pe*(Ee+pe*Pt-ze)-ke),Ne==0?(Ie=Ze,ot=Te,mt=Ze,vt=Te):(Ie=Math.min(Ie,Ze),ot=Math.min(ot,Te),mt=Math.max(mt,Ze),vt=Math.max(vt,Te));return new o(Math.round(Ie),Math.round(ot),Math.round(mt-Ie),Math.round(vt-ot))},xe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,P,H=(R=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:P}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Qt.API),function(r){var e=function(i){var s,o,c,u,d,p,g,m,y,w;for(o=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(p=(d=((d=((d=((d=(d-(w=d%85))/85)-(y=d%85))/85)-(m=d%85))/85)-(g=d%85))/85)%85,o.push(p+33,g+33,m+33,y+33,w+33)):o.push(122);return function(_,S){for(var A=S;A>0;A--)_.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},t=function(i){var s,o,c,u,d,p=String,g="length",m=255,y="charCodeAt",w="slice",_="replace";for(i[w](-2),i=i[w](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),c=[],u=0,d=(i+=s="uuuuu"[w](i[g]%5||5))[g];d>u;u+=5)o=52200625*(i[y](u)-33)+614125*(i[y](u+1)-33)+7225*(i[y](u+2)-33)+85*(i[y](u+3)-33)+(i[y](u+4)-33),c.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(S,A){for(var C=A;C>0;C--)S.pop()}(c,s[g]),p.fromCharCode.apply(p,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=ry(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};r.processDataByFilters=function(i,s){var o=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Qt.API),function(r){r.loadFile=function(e,t,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,d){var p=new XMLHttpRequest,g=0,m=function(y){var w=y.length,_=[],S=String.fromCharCode;for(g=0;g<w;g+=1)_.push(S(255&y.charCodeAt(g)));return _.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?d(m(this.responseText)):d(void 0)}),p.send(null),u&&p.status===200)return m(p.responseText)}(a,i,s)}catch(c){}return o}(e,t,n)},r.loadImageFile=r.loadFile}(Qt.API),function(r){function e(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):Zs(()=>import("./html2canvas.esm-CiaFdv3w.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):Zs(()=>import("./purify.es-BDD-b7lE.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=hn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var c=document.createElement(s);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},i=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(c(g,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var m=u[g],y=m.src.find(function(w){return w.format==="truetype"});y&&c.addFont(y.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),o(this.prop.container,p)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||Qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,c,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,c,u){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,d).then(function(p){return c.updateProgress(1),p})})},i.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,s,o);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Qt.getPageSize=function(s,o,c){if(hn(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var d,p=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var m,y=0,w=0;if(g.hasOwnProperty(p))y=g[p][1]/d,w=g[p][0]/d;else try{y=c[1],w=c[0]}catch(_){throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",w>y&&(m=w,w=y,y=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>w&&(m=w,w=y,y=m)}return{width:w,height:y,unit:o,k:d,orientation:s}},r.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(ly):null;var c=new i(o);return o.worker?c:c.from(s).doCallback()}}(Qt.API),Qt.API.addJS=function(r){return n3=r,this.internal.events.subscribe("postPutResources",function(){ug=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ug+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ug!==void 0&&r3!==void 0&&this.internal.out("/Names <</JavaScript "+ug+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var p=t.internal.newObject();d.push(p);var g=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<d.length;i++)t.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Qt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,i,s,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,w={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=m,e.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),w={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}m=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Qt.API);var gd,fg,a3,i3,s3,Tk=function(){var r,e,t;function n(i){var s,o,c,u,d,p,g,m,y,w,_,S,A,C;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(s=this.readUInt32(),y=function(){var L,B;for(B=[],L=0;L<4;++L)B.push(String.fromCharCode(this.data[this.pos++]));return B}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,p.delay=1e3*d/u,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),i=(p!=null?p.data:void 0)||this.imgData,S=0;0<=s?S<s:S>s;0<=s?++S:--S)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(A=0;0<=w?A<w:A>w;0<=w?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(_=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,_.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,_.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(p,g,m,y){var w,_,S,A,C,L,B,M,F,D,O,q,I,U,X,ae,Se,Q,ce,we,ue,Y=Math.ceil((u.width-p)/m),xe=Math.ceil((u.height-g)/y),R=u.width==Y&&u.height==xe;for(U=s*Y,q=R?o:new Uint8Array(U*xe),L=i.length,I=0,_=0;I<xe&&c<L;){switch(i[c++]){case 0:for(A=Se=0;Se<U;A=Se+=1)q[_++]=i[c++];break;case 1:for(A=Q=0;Q<U;A=Q+=1)w=i[c++],C=A<s?0:q[_-s],q[_++]=(w+C)%256;break;case 2:for(A=ce=0;ce<U;A=ce+=1)w=i[c++],S=(A-A%s)/s,X=I&&q[(I-1)*U+S*s+A%s],q[_++]=(X+w)%256;break;case 3:for(A=we=0;we<U;A=we+=1)w=i[c++],S=(A-A%s)/s,C=A<s?0:q[_-s],X=I&&q[(I-1)*U+S*s+A%s],q[_++]=(w+Math.floor((C+X)/2))%256;break;case 4:for(A=ue=0;ue<U;A=ue+=1)w=i[c++],S=(A-A%s)/s,C=A<s?0:q[_-s],I===0?X=ae=0:(X=q[(I-1)*U+S*s+A%s],ae=S&&q[(I-1)*U+(S-1)*s+A%s]),B=C+X-ae,M=Math.abs(B-C),D=Math.abs(B-X),O=Math.abs(B-ae),F=M<=D&&M<=O?C:D<=O?X:ae,q[_++]=(w+F)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!R){var P=((g+I*y)*u.width+p)*s,H=I*U;for(A=0;A<Y;A+=1){for(var G=0;G<s;G+=1)o[P++]=q[H++];P+=(m-1)*s}}I++}}return i=sk(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,c,u,d,p,g,m;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,i=0,s=p=0,g=o.length;p<g;s=p+=3)u[c++]=o[s],u[c++]=o[s+1],u[c++]=o[s+2],u[c++]=(m=d[i++])!=null?m:255;return u},n.prototype.copyToImageData=function(i,s){var o,c,u,d,p,g,m,y,w,_,S;if(c=this.colors,w=null,o=this.hasAlphaChannel,this.palette.length&&(w=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),c=4,o=!0),y=(u=i.data||i).length,p=w||s,d=g=0,c===1)for(;d<y;)m=w?4*s[d/4]:g,_=p[m++],u[d++]=_,u[d++]=_,u[d++]=_,u[d++]=o?p[m++]:255,g=m;else for(;d<y;)m=w?4*s[d/4]:g,u[d++]=p[m++],u[d++]=p[m++],u[d++]=p[m++],u[d++]=o?p[m++]:255,g=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(nr)==="[object Window]"){try{e=nr.document.createElement("canvas"),t=e.getContext("2d")}catch(i){return!1}return!0}return!1};return a(),r=function(i){var s;if(a()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,c,u,d,p,g,m;if(this.animation){for(m=[],o=d=0,p=(g=this.animation.frames).length;d<p;o=++d)s=g[o],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,m.push(s.image=r(c));return m}},n.prototype.renderFrame=function(i,s){var o,c,u;return o=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,c,u,d,p,g=this;return o=0,p=this.animation,u=p.numFrames,c=p.frames,d=p.numPlays,(s=function(){var m,y;if(m=o++%u,y=c[m],g.renderFrame(i,m),u>1&&o/u<d)return g.animation._timeout=setTimeout(s,y.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function jk(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],i=a>>7,s=1<<(7&a)+1;r[e++],r[e++];var o=null,c=null;i&&(o=e,c=s,e+=3*s);var u=!0,d=[],p=0,g=null,m=0,y=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,y=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=r[e++];p=r[e++]|r[e++]<<8,g=r[e++],(1&w)==0&&(g=null),m=w>>2&7,e++;break;case 254:for(;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var _=r[e++]|r[e++]<<8,S=r[e++]|r[e++]<<8,A=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,L=r[e++],B=L>>6&1,M=1<<(7&L)+1,F=o,D=c,O=!1;L>>7&&(O=!0,F=e,D=M,e+=3*M);var q=e;for(e++;;){var I;if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:_,y:S,width:A,height:C,has_local_palette:O,palette_offset:F,palette_size:D,data_offset:q,data_length:e-q,transparent_index:g,interlaced:!!B,delay:p,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(U){if(U<0||U>=d.length)throw new Error("Frame index out of range.");return d[U]},this.decodeAndBlitFrameBGRA=function(U,X){var ae=this.frameInfo(U),Se=ae.width*ae.height,Q=new Uint8Array(Se);o3(r,ae.data_offset,Q,Se);var ce=ae.palette_offset,we=ae.transparent_index;we===null&&(we=256);var ue=ae.width,Y=t-ue,xe=ue,R=4*(ae.y*t+ae.x),P=4*((ae.y+ae.height)*t+ae.x),H=R,G=4*Y;ae.interlaced===!0&&(G+=4*t*7);for(var J=8,Ee=0,ve=Q.length;Ee<ve;++Ee){var he=Q[Ee];if(xe===0&&(xe=ue,(H+=G)>=P&&(G=4*Y+4*t*(J-1),H=R+(ue+Y)*(J<<1),J>>=1)),he===we)H+=4;else{var pe=r[ce+3*he],Ne=r[ce+3*he+1],Be=r[ce+3*he+2];X[H++]=Be,X[H++]=Ne,X[H++]=pe,X[H++]=255}--xe}},this.decodeAndBlitFrameRGBA=function(U,X){var ae=this.frameInfo(U),Se=ae.width*ae.height,Q=new Uint8Array(Se);o3(r,ae.data_offset,Q,Se);var ce=ae.palette_offset,we=ae.transparent_index;we===null&&(we=256);var ue=ae.width,Y=t-ue,xe=ue,R=4*(ae.y*t+ae.x),P=4*((ae.y+ae.height)*t+ae.x),H=R,G=4*Y;ae.interlaced===!0&&(G+=4*t*7);for(var J=8,Ee=0,ve=Q.length;Ee<ve;++Ee){var he=Q[Ee];if(xe===0&&(xe=ue,(H+=G)>=P&&(G=4*Y+4*t*(J-1),H=R+(ue+Y)*(J<<1),J>>=1)),he===we)H+=4;else{var pe=r[ce+3*he],Ne=r[ce+3*he+1],Be=r[ce+3*he+2];X[H++]=pe,X[H++]=Ne,X[H++]=Be,X[H++]=255}--xe}}}function o3(r,e,t,n){for(var a=r[e++],i=1<<a,s=i+1,o=s+1,c=a+1,u=(1<<c)-1,d=0,p=0,g=0,m=r[e++],y=new Int32Array(4096),w=null;;){for(;d<16&&m!==0;)p|=r[e++]<<d,d+=8,m===1?m=r[e++]:--m;if(d<c)break;var _=p&u;if(p>>=c,d-=c,_!==i){if(_===s)break;for(var S=_<o?_:w,A=0,C=S;C>i;)C=y[C]>>8,++A;var L=C;if(g+A+(S!==_?1:0)>n)return void En.log("Warning, gif stream longer than expected.");t[g++]=L;var B=g+=A;for(S!==_&&(t[g++]=L),C=S;A--;)C=y[C],t[--B]=255&C,C>>=8;w!==null&&o<4096&&(y[o++]=w<<8|L,o>=u+1&&c<12&&(++c,u=u<<1|1)),w=_}else o=s+1,u=(1<<(c=a+1))-1,w=null}return g!==n&&En.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cv(r){var e,t,n,a,i,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),y=new Array(64),w=[],_=0,S=7,A=new Array(64),C=new Array(64),L=new Array(64),B=new Array(256),M=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(R,P){for(var H=0,G=0,J=new Array,Ee=1;Ee<=16;Ee++){for(var ve=1;ve<=R[Ee];ve++)J[P[G]]=[],J[P[G]][0]=H,J[P[G]][1]=Ee,G++,H++;H*=2}return J}function ce(R){for(var P=R[0],H=R[1]-1;H>=0;)P&1<<H&&(_|=1<<S),H--,--S<0&&(_==255?(we(255),we(0)):we(_),S=7,_=0)}function we(R){w.push(R)}function ue(R){we(R>>8&255),we(255&R)}function Y(R,P,H,G,J){for(var Ee,ve=J[0],he=J[240],pe=function(Te,Ie){var ot,mt,vt,Tt,zt,It,Mt,Xt,Pt,cr,At=0;for(Pt=0;Pt<8;++Pt){ot=Te[At],mt=Te[At+1],vt=Te[At+2],Tt=Te[At+3],zt=Te[At+4],It=Te[At+5],Mt=Te[At+6];var Hr=ot+(Xt=Te[At+7]),or=ot-Xt,ea=mt+Mt,Er=mt-Mt,Yr=vt+It,Ma=vt-It,Rr=Tt+zt,Ts=Tt-zt,mn=Hr+Rr,ei=Hr-Rr,ti=ea+Yr,nn=ea-Yr;Te[At]=mn+ti,Te[At+4]=mn-ti;var er=.707106781*(nn+ei);Te[At+2]=ei+er,Te[At+6]=ei-er;var kr=.382683433*((mn=Ts+Ma)-(nn=Er+or)),js=.5411961*mn+kr,Gn=1.306562965*nn+kr,Bi=.707106781*(ti=Ma+Er),is=or+Bi,qt=or-Bi;Te[At+5]=qt+js,Te[At+3]=qt-js,Te[At+1]=is+Gn,Te[At+7]=is-Gn,At+=8}for(At=0,Pt=0;Pt<8;++Pt){ot=Te[At],mt=Te[At+8],vt=Te[At+16],Tt=Te[At+24],zt=Te[At+32],It=Te[At+40],Mt=Te[At+48];var Qr=ot+(Xt=Te[At+56]),an=ot-Xt,Wn=mt+Mt,Rn=mt-Mt,Bn=vt+It,re=vt-It,be=Tt+zt,fe=Tt-zt,de=Qr+be,ye=Qr-be,_e=Wn+Bn,He=Wn-Bn;Te[At]=de+_e,Te[At+32]=de-_e;var et=.707106781*(He+ye);Te[At+16]=ye+et,Te[At+48]=ye-et;var Fe=.382683433*((de=fe+re)-(He=Rn+an)),Ge=.5411961*de+Fe,Ye=1.306562965*He+Fe,gt=.707106781*(_e=re+Rn),St=an+gt,kt=an-gt;Te[At+40]=kt+Ge,Te[At+24]=kt-Ge,Te[At+8]=St+Ye,Te[At+56]=St-Ye,At++}for(Pt=0;Pt<64;++Pt)cr=Te[Pt]*Ie[Pt],m[Pt]=cr>0?cr+.5|0:cr-.5|0;return m}(R,P),Ne=0;Ne<64;++Ne)y[F[Ne]]=pe[Ne];var Be=y[0]-H;H=y[0],Be==0?ce(G[0]):(ce(G[g[Ee=32767+Be]]),ce(p[Ee]));for(var rt=63;rt>0&&y[rt]==0;)rt--;if(rt==0)return ce(ve),H;for(var ft,ze=1;ze<=rt;){for(var te=ze;y[ze]==0&&ze<=rt;)++ze;var ke=ze-te;if(ke>=16){ft=ke>>4;for(var Ze=1;Ze<=ft;++Ze)ce(he);ke&=15}Ee=32767+y[ze],ce(J[(ke<<4)+g[Ee]]),ce(p[Ee]),ze++}return rt!=63&&ce(ve),H}function xe(R){R=Math.min(Math.max(R,1),100),i!=R&&(function(P){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var J=s((H[G]*P+50)/100);J=Math.min(Math.max(J,1),255),o[F[G]]=J}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var he=s((Ee[ve]*P+50)/100);he=Math.min(Math.max(he,1),255),c[F[ve]]=he}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Be=0;Be<8;Be++)for(var rt=0;rt<8;rt++)u[Ne]=1/(o[F[Ne]]*pe[Be]*pe[rt]*8),d[Ne]=1/(c[F[Ne]]*pe[Be]*pe[rt]*8),Ne++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,P){P&&xe(P),w=new Array,_=0,S=7,ue(65496),ue(65504),ue(16),we(74),we(70),we(73),we(70),we(0),we(1),we(1),we(0),ue(1),ue(1),we(0),we(0),function(){ue(65499),ue(132),we(0);for(var mt=0;mt<64;mt++)we(o[mt]);we(1);for(var vt=0;vt<64;vt++)we(c[vt])}(),function(mt,vt){ue(65472),ue(17),we(8),ue(vt),ue(mt),we(3),we(1),we(17),we(0),we(2),we(17),we(1),we(3),we(17),we(1)}(R.width,R.height),function(){ue(65476),ue(418),we(0);for(var mt=0;mt<16;mt++)we(D[mt+1]);for(var vt=0;vt<=11;vt++)we(O[vt]);we(16);for(var Tt=0;Tt<16;Tt++)we(q[Tt+1]);for(var zt=0;zt<=161;zt++)we(I[zt]);we(1);for(var It=0;It<16;It++)we(U[It+1]);for(var Mt=0;Mt<=11;Mt++)we(X[Mt]);we(17);for(var Xt=0;Xt<16;Xt++)we(ae[Xt+1]);for(var Pt=0;Pt<=161;Pt++)we(Se[Pt])}(),ue(65498),ue(12),we(3),we(1),we(0),we(2),we(17),we(3),we(17),we(0),we(63),we(0);var H=0,G=0,J=0;_=0,S=7,this.encode.displayName="_encode_";for(var Ee,ve,he,pe,Ne,Be,rt,ft,ze,te=R.data,ke=R.width,Ze=R.height,Te=4*ke,Ie=0;Ie<Ze;){for(Ee=0;Ee<Te;){for(Ne=Te*Ie+Ee,rt=-1,ft=0,ze=0;ze<64;ze++)Be=Ne+(ft=ze>>3)*Te+(rt=4*(7&ze)),Ie+ft>=Ze&&(Be-=Te*(Ie+1+ft-Ze)),Ee+rt>=Te&&(Be-=Ee+rt-Te+4),ve=te[Be++],he=te[Be++],pe=te[Be++],A[ze]=(M[ve]+M[he+256>>0]+M[pe+512>>0]>>16)-128,C[ze]=(M[ve+768>>0]+M[he+1024>>0]+M[pe+1280>>0]>>16)-128,L[ze]=(M[ve+1280>>0]+M[he+1536>>0]+M[pe+1792>>0]>>16)-128;H=Y(A,u,H,e,n),G=Y(C,d,G,t,a),J=Y(L,d,J,t,a),Ee+=32}Ie+=8}if(S>=0){var ot=[];ot[1]=S+1,ot[0]=(1<<S+1)-1,ce(ot)}return ue(65497),new Uint8Array(w)},r=r||50,function(){for(var R=String.fromCharCode,P=0;P<256;P++)B[P]=R(P)}(),e=Q(D,O),t=Q(U,X),n=Q(q,I),a=Q(ae,Se),function(){for(var R=1,P=2,H=1;H<=15;H++){for(var G=R;G<P;G++)g[32767+G]=H,p[32767+G]=[],p[32767+G][1]=H,p[32767+G][0]=G;for(var J=-(P-1);J<=-R;J++)g[32767+J]=H,p[32767+J]=[],p[32767+J][1]=H,p[32767+J][0]=P-1+J;R<<=1,P<<=1}}(),function(){for(var R=0;R<256;R++)M[R]=19595*R,M[R+256>>0]=38470*R,M[R+512>>0]=7471*R+32768,M[R+768>>0]=-11059*R,M[R+1024>>0]=-21709*R,M[R+1280>>0]=32768*R+8421375,M[R+1536>>0]=-27439*R,M[R+1792>>0]=-5329*R}(),xe(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ko(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l3(r){function e(D){if(!D)throw Error("assert :P")}function t(D,O,q){for(var I=0;4>I;I++)if(D[O+I]!=q.charCodeAt(I))return!0;return!1}function n(D,O,q,I,U){for(var X=0;X<U;X++)D[O+X]=q[I+X]}function a(D,O,q,I){for(var U=0;U<I;U++)D[O+U]=q}function i(D){return new Int32Array(D)}function s(D,O){for(var q=[],I=0;I<D;I++)q.push(new O);return q}function o(D,O){var q=[];return function I(U,X,ae){for(var Se=ae[X],Q=0;Q<Se&&(U.push(ae.length>X+1?[]:new O),!(ae.length<X+1));Q++)I(U[Q],X+1,ae)}(q,0,D),q}var c=function(){var D=this;function O(b,N){for(var k=1<<N-1>>>0;b&k;)k>>>=1;return k?(b&k-1)+k:b}function q(b,N,k,z,K){e(!(z%k));do b[N+(z-=k)]=K;while(0<z)}function I(b,N,k,z,K){if(e(2328>=K),512>=K)var ee=i(512);else if((ee=i(K))==null)return 0;return function(ne,ie,le,me,Oe,Ve){var qe,Pe,dt=ie,Qe=1<<le,Re=i(16),De=i(16);for(e(Oe!=0),e(me!=null),e(ne!=null),e(0<le),Pe=0;Pe<Oe;++Pe){if(15<me[Pe])return 0;++Re[me[Pe]]}if(Re[0]==Oe)return 0;for(De[1]=0,qe=1;15>qe;++qe){if(Re[qe]>1<<qe)return 0;De[qe+1]=De[qe]+Re[qe]}for(Pe=0;Pe<Oe;++Pe)qe=me[Pe],0<me[Pe]&&(Ve[De[qe]++]=Pe);if(De[15]==1)return(me=new U).g=0,me.value=Ve[0],q(ne,dt,1,Qe,me),Qe;var st,ht=-1,ct=Qe-1,Dt=0,Ct=1,Gt=1,jt=1<<le;for(Pe=0,qe=1,Oe=2;qe<=le;++qe,Oe<<=1){if(Ct+=Gt<<=1,0>(Gt-=Re[qe]))return 0;for(;0<Re[qe];--Re[qe])(me=new U).g=qe,me.value=Ve[Pe++],q(ne,dt+Dt,Oe,jt,me),Dt=O(Dt,qe)}for(qe=le+1,Oe=2;15>=qe;++qe,Oe<<=1){if(Ct+=Gt<<=1,0>(Gt-=Re[qe]))return 0;for(;0<Re[qe];--Re[qe]){if(me=new U,(Dt&ct)!=ht){for(dt+=jt,st=1<<(ht=qe)-le;15>ht&&!(0>=(st-=Re[ht]));)++ht,st<<=1;Qe+=jt=1<<(st=ht-le),ne[ie+(ht=Dt&ct)].g=st+le,ne[ie+ht].value=dt-ie-ht}me.g=qe-le,me.value=Ve[Pe++],q(ne,dt+(Dt>>le),Oe,jt,me),Dt=O(Dt,qe)}}return Ct!=2*De[15]-1?0:Qe}(b,N,k,z,K,ee)}function U(){this.value=this.g=0}function X(){this.value=this.g=0}function ae(){this.G=s(5,U),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ca,X)}function Se(b,N,k,z){e(b!=null),e(N!=null),e(2147483648>z),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=N,b.pa=k,b.Jd=N,b.Yc=k+z,b.Zc=4<=z?k+z-4+1:k,Ee(b)}function Q(b,N){for(var k=0;0<N--;)k|=he(b,128)<<N;return k}function ce(b,N){var k=Q(b,N);return ve(b)?-k:k}function we(b,N,k,z){var K,ee=0;for(e(b!=null),e(N!=null),e(4294967288>z),b.Sb=z,b.Ra=0,b.u=0,b.h=0,4<z&&(z=4),K=0;K<z;++K)ee+=N[k+K]<<8*K;b.Ra=ee,b.bb=z,b.oa=N,b.pa=k}function ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<lc-8>>>0,++b.bb,b.u-=8;H(b)&&(b.h=1,b.u=0)}function Y(b,N){if(e(0<=N),!b.h&&N<=oc){var k=P(b)&Sl[N];return b.u+=N,ue(b),k}return b.h=1,b.u=0}function xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function P(b){return b.Ra>>>(b.u&lc-1)>>>0}function H(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>lc}function G(b,N){b.u=N,b.h=H(b)}function J(b){b.u>=au&&(e(b.u>=au),ue(b))}function Ee(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ve(b){return Q(b,1)}function he(b,N){var k=b.Ca;0>b.b&&Ee(b);var z=b.b,K=k*N>>>8,ee=(b.I>>>z>K)+0;for(ee?(k-=K,b.I-=K+1<<z>>>0):k=K+1,z=k,K=0;256<=z;)K+=8,z>>=8;return z=7^K+bi[z],b.b-=z,b.Ca=(k<<z)-1,ee}function pe(b,N,k){b[N+0]=k>>24&255,b[N+1]=k>>16&255,b[N+2]=k>>8&255,b[N+3]=k>>0&255}function Ne(b,N){return b[N+0]<<0|b[N+1]<<8}function Be(b,N){return Ne(b,N)|b[N+2]<<16}function rt(b,N){return Ne(b,N)|Ne(b,N+2)<<16}function ft(b,N){var k=1<<N;return e(b!=null),e(0<N),b.X=i(k),b.X==null?0:(b.Mb=32-N,b.Xa=N,1)}function ze(b,N){e(b!=null),e(N!=null),e(b.Xa==N.Xa),n(N.X,0,b.X,0,1<<N.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function ke(b,N,k,z){e(k!=null),e(z!=null);var K=k[0],ee=z[0];return K==0&&(K=(b*ee+N/2)/N),ee==0&&(ee=(N*K+b/2)/b),0>=K||0>=ee?0:(k[0]=K,z[0]=ee,1)}function Ze(b,N){return b+(1<<N)-1>>>N}function Te(b,N){return((4278255360&b)+(4278255360&N)>>>0&4278255360)+((16711935&b)+(16711935&N)>>>0&16711935)>>>0}function Ie(b,N){D[N]=function(k,z,K,ee,ne,ie,le){var me;for(me=0;me<ne;++me){var Oe=D[b](ie[le+me-1],K,ee+me);ie[le+me]=Te(k[z+me],Oe)}}}function ot(){this.ud=this.hd=this.jd=0}function mt(b,N){return((4278124286&(b^N))>>>1)+(b&N)>>>0}function vt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Tt(b,N){return vt(b+(b-N+.5>>1))}function zt(b,N,k){return Math.abs(N-k)-Math.abs(b-k)}function It(b,N,k,z,K,ee,ne){for(z=ee[ne-1],k=0;k<K;++k)ee[ne+k]=z=Te(b[N+k],z)}function Mt(b,N,k,z,K){var ee;for(ee=0;ee<k;++ee){var ne=b[N+ee],ie=ne>>8&255,le=16711935&(le=(le=16711935&ne)+((ie<<16)+ie));z[K+ee]=(4278255360&ne)+le>>>0}}function Xt(b,N){N.jd=b>>0&255,N.hd=b>>8&255,N.ud=b>>16&255}function Pt(b,N,k,z,K,ee){var ne;for(ne=0;ne<z;++ne){var ie=N[k+ne],le=ie>>>8,me=ie,Oe=255&(Oe=(Oe=ie>>>16)+((b.jd<<24>>24)*(le<<24>>24)>>>5));me=255&(me=(me=me+((b.hd<<24>>24)*(le<<24>>24)>>>5))+((b.ud<<24>>24)*(Oe<<24>>24)>>>5)),K[ee+ne]=(4278255360&ie)+(Oe<<16)+me}}function cr(b,N,k,z,K){D[N]=function(ee,ne,ie,le,me,Oe,Ve,qe,Pe){for(le=Ve;le<qe;++le)for(Ve=0;Ve<Pe;++Ve)me[Oe++]=K(ie[z(ee[ne++])])},D[b]=function(ee,ne,ie,le,me,Oe,Ve){var qe=8>>ee.b,Pe=ee.Ea,dt=ee.K[0],Qe=ee.w;if(8>qe)for(ee=(1<<ee.b)-1,Qe=(1<<qe)-1;ne<ie;++ne){var Re,De=0;for(Re=0;Re<Pe;++Re)Re&ee||(De=z(le[me++])),Oe[Ve++]=K(dt[De&Qe]),De>>=qe}else D["VP8LMapColor"+k](le,me,dt,Qe,Oe,Ve,ne,ie,Pe)}}function At(b,N,k,z,K){for(k=N+k;N<k;){var ee=b[N++];z[K++]=ee>>16&255,z[K++]=ee>>8&255,z[K++]=ee>>0&255}}function Hr(b,N,k,z,K){for(k=N+k;N<k;){var ee=b[N++];z[K++]=ee>>16&255,z[K++]=ee>>8&255,z[K++]=ee>>0&255,z[K++]=ee>>24&255}}function or(b,N,k,z,K){for(k=N+k;N<k;){var ee=(ne=b[N++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;z[K++]=ee,z[K++]=ne}}function ea(b,N,k,z,K){for(k=N+k;N<k;){var ee=(ne=b[N++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;z[K++]=ee,z[K++]=ne}}function Er(b,N,k,z,K){for(k=N+k;N<k;){var ee=b[N++];z[K++]=ee>>0&255,z[K++]=ee>>8&255,z[K++]=ee>>16&255}}function Yr(b,N,k,z,K,ee){if(ee==0)for(k=N+k;N<k;)pe(z,((ee=b[N++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),K+=32;else n(z,K,b,N,k)}function Ma(b,N){D[N][0]=D[b+"0"],D[N][1]=D[b+"1"],D[N][2]=D[b+"2"],D[N][3]=D[b+"3"],D[N][4]=D[b+"4"],D[N][5]=D[b+"5"],D[N][6]=D[b+"6"],D[N][7]=D[b+"7"],D[N][8]=D[b+"8"],D[N][9]=D[b+"9"],D[N][10]=D[b+"10"],D[N][11]=D[b+"11"],D[N][12]=D[b+"12"],D[N][13]=D[b+"13"],D[N][14]=D[b+"0"],D[N][15]=D[b+"0"]}function Rr(b){return b==w0||b==Ll||b==Fo||b==lu}function Ts(){this.eb=[],this.size=this.A=this.fb=0}function mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ei(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ts,this.f.kb=new mn,this.sd=null}function ti(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function er(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function kr(b,N){var k=b.T,z=N.ba.f.RGBA,K=z.eb,ee=z.fb+b.ka*z.A,ne=Sa[N.ba.S],ie=b.y,le=b.O,me=b.f,Oe=b.N,Ve=b.ea,qe=b.W,Pe=N.cc,dt=N.dc,Qe=N.Mc,Re=N.Nc,De=b.ka,st=b.ka+b.T,ht=b.U,ct=ht+1>>1;for(De==0?ne(ie,le,null,null,me,Oe,Ve,qe,me,Oe,Ve,qe,K,ee,null,null,ht):(ne(N.ec,N.fc,ie,le,Pe,dt,Qe,Re,me,Oe,Ve,qe,K,ee-z.A,K,ee,ht),++k);De+2<st;De+=2)Pe=me,dt=Oe,Qe=Ve,Re=qe,Oe+=b.Rc,qe+=b.Rc,ee+=2*z.A,ne(ie,(le+=2*b.fa)-b.fa,ie,le,Pe,dt,Qe,Re,me,Oe,Ve,qe,K,ee-z.A,K,ee,ht);return le+=b.fa,b.j+st<b.o?(n(N.ec,N.fc,ie,le,ht),n(N.cc,N.dc,me,Oe,ct),n(N.Mc,N.Nc,Ve,qe,ct),k--):1&st||ne(ie,le,null,null,me,Oe,Ve,qe,me,Oe,Ve,qe,K,ee+z.A,null,null,ht),k}function js(b,N,k){var z=b.F,K=[b.J];if(z!=null){var ee=b.U,ne=N.ba.S,ie=ne==hc||ne==Fo;N=N.ba.f.RGBA;var le=[0],me=b.ka;le[0]=b.T,b.Kb&&(me==0?--le[0]:(--me,K[0]-=b.width),b.j+b.ka+b.T==b.o&&(le[0]=b.o-b.j-me));var Oe=N.eb;me=N.fb+me*N.A,b=br(z,K[0],b.width,ee,le,Oe,me+(ie?0:3),N.A),e(k==le),b&&Rr(ne)&&Gi(Oe,me,ie,ee,le,N.A)}return 0}function Gn(b){var N=b.ma,k=N.ba.S,z=11>k,K=k==ou||k==y0||k==hc||k==Po||k==12||Rr(k);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!_l(N.Oa,b,K?11:12))return 0;if(K&&Rr(k)&&yt(),b.da)alert("todo:use_scaling");else{if(z){if(N.Ib=er,b.Kb){if(k=b.U+1>>1,N.memory=i(b.U+2*k),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+b.U,N.Mc=N.cc,N.Nc=N.dc+k,N.Ib=kr,yt()}}else alert("todo:EmitYUV");K&&(N.Jb=js,z&&Ue())}if(z&&!lp){for(b=0;256>b;++b)O2[b]=89858*(b-128)+fa>>fo,S0[b]=-22014*(b-128)+fa,ph[b]=-45773*(b-128),da[b]=113618*(b-128)+fa>>fo;for(b=Pl;b<If;++b)N=76283*(b-16)+fa>>fo,E0[b-Pl]=Vi(N,255),gh[b-Pl]=Vi(N+8>>4,15);lp=1}return 1}function Bi(b){var N=b.ma,k=b.U,z=b.T;return e(!(1&b.ka)),0>=k||0>=z?0:(k=N.Ib(b,N),N.Jb!=null&&N.Jb(b,N,k),N.Dc+=k,1)}function is(b){b.ma.memory=null}function qt(b,N,k,z){return Y(b,8)!=47?0:(N[0]=Y(b,14)+1,k[0]=Y(b,14)+1,z[0]=Y(b,1),Y(b,3)!=0?0:!b.h)}function Qr(b,N){if(4>b)return b+1;var k=b-2>>1;return(2+(1&b)<<k)+Y(N,k)+1}function an(b,N){return 120<N?N-120:1<=(k=((k=Bo[N-1])>>4)*b+(8-(15&k)))?k:1;var k}function Wn(b,N,k){var z=P(k),K=b[N+=255&z].g-8;return 0<K&&(G(k,k.u+8),z=P(k),N+=b[N].value,N+=z&(1<<K)-1),G(k,k.u+b[N].g),b[N].value}function Rn(b,N,k){return k.g+=b.g,k.value+=b.value<<N>>>0,e(8>=k.g),b.g}function Bn(b,N,k){var z=b.xc;return e((N=z==0?0:b.vc[b.md*(k>>z)+(N>>z)])<b.Wb),b.Ya[N]}function re(b,N,k,z){var K=b.ab,ee=b.c*N,ne=b.C;N=ne+N;var ie=k,le=z;for(z=b.Ta,k=b.Ua;0<K--;){var me=b.gc[K],Oe=ne,Ve=N,qe=ie,Pe=le,dt=(le=z,ie=k,me.Ea);switch(e(Oe<Ve),e(Ve<=me.nc),me.hc){case 2:Tf(qe,Pe,(Ve-Oe)*dt,le,ie);break;case 0:var Qe=Oe,Re=Ve,De=le,st=ie,ht=(jt=me).Ea;Qe==0&&(dh(qe,Pe,null,null,1,De,st),It(qe,Pe+1,0,0,ht-1,De,st+1),Pe+=ht,st+=ht,++Qe);for(var ct=1<<jt.b,Dt=ct-1,Ct=Ze(ht,jt.b),Gt=jt.K,jt=jt.w+(Qe>>jt.b)*Ct;Qe<Re;){var Ir=Gt,qr=jt,xr=1;for(x0(qe,Pe,De,st-ht,1,De,st);xr<ht;){var gr=(xr&~Dt)+ct;gr>ht&&(gr=ht),(0,Lo[Ir[qr++]>>8&15])(qe,Pe+ +xr,De,st+xr-ht,gr-xr,De,st+xr),xr=gr}Pe+=ht,st+=ht,++Qe&Dt||(jt+=Ct)}Ve!=me.nc&&n(le,ie-dt,le,ie+(Ve-Oe-1)*dt,dt);break;case 1:for(dt=qe,Re=Pe,ht=(qe=me.Ea)-(st=qe&~(De=(Pe=1<<me.b)-1)),Qe=Ze(qe,me.b),ct=me.K,me=me.w+(Oe>>me.b)*Qe;Oe<Ve;){for(Dt=ct,Ct=me,Gt=new ot,jt=Re+st,Ir=Re+qe;Re<jt;)Xt(Dt[Ct++],Gt),Al(Gt,dt,Re,Pe,le,ie),Re+=Pe,ie+=Pe;Re<Ir&&(Xt(Dt[Ct++],Gt),Al(Gt,dt,Re,ht,le,ie),Re+=ht,ie+=ht),++Oe&De||(me+=Qe)}break;case 3:if(qe==le&&Pe==ie&&0<me.b){for(Re=le,qe=dt=ie+(Ve-Oe)*dt-(st=(Ve-Oe)*Ze(me.Ea,me.b)),Pe=le,De=ie,Qe=[],st=(ht=st)-1;0<=st;--st)Qe[st]=Pe[De+st];for(st=ht-1;0<=st;--st)Re[qe+st]=Qe[st];cs(me,Oe,Ve,le,dt,le,ie)}else cs(me,Oe,Ve,qe,Pe,le,ie)}ie=z,le=k}le!=k&&n(z,k,ie,le,ee)}function be(b,N){var k=b.V,z=b.Ba+b.c*b.C,K=N-b.C;if(e(N<=b.l.o),e(16>=K),0<K){var ee=b.l,ne=b.Ta,ie=b.Ua,le=ee.width;if(re(b,K,k,z),K=ie=[ie],e((k=b.C)<(z=N)),e(ee.v<ee.va),z>ee.o&&(z=ee.o),k<ee.j){var me=ee.j-k;k=ee.j,K[0]+=me*le}if(k>=z?k=0:(K[0]+=4*ee.v,ee.ka=k-ee.j,ee.U=ee.va-ee.v,ee.T=z-k,k=1),k){if(ie=ie[0],11>(k=b.ca).S){var Oe=k.f.RGBA,Ve=(z=k.S,K=ee.U,ee=ee.T,me=Oe.eb,Oe.A),qe=ee;for(Oe=Oe.fb+b.Ma*Oe.A;0<qe--;){var Pe=ne,dt=ie,Qe=K,Re=me,De=Oe;switch(z){case Ua:ai(Pe,dt,Qe,Re,De);break;case ou:Ta(Pe,dt,Qe,Re,De);break;case w0:Ta(Pe,dt,Qe,Re,De),Gi(Re,De,0,Qe,1,0);break;case oo:Ls(Pe,dt,Qe,Re,De);break;case y0:Yr(Pe,dt,Qe,Re,De,1);break;case Ll:Yr(Pe,dt,Qe,Re,De,1),Gi(Re,De,0,Qe,1,0);break;case hc:Yr(Pe,dt,Qe,Re,De,0);break;case Fo:Yr(Pe,dt,Qe,Re,De,0),Gi(Re,De,1,Qe,1,0);break;case Po:Nl(Pe,dt,Qe,Re,De);break;case lu:Nl(Pe,dt,Qe,Re,De),wr(Re,De,Qe,1,0);break;case Of:_i(Pe,dt,Qe,Re,De);break;default:e(0)}ie+=le,Oe+=Ve}b.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=k.height)}}b.C=N,e(b.C<=b.i)}function fe(b){var N;if(0<b.ua)return 0;for(N=0;N<b.Wb;++N){var k=b.Ya[N].G,z=b.Ya[N].H;if(0<k[1][z[1]+0].g||0<k[2][z[2]+0].g||0<k[3][z[3]+0].g)return 0}return 1}function de(b,N,k,z,K,ee){if(b.Z!=0){var ne=b.qd,ie=b.rd;for(e(co[b.Z]!=null);N<k;++N)co[b.Z](ne,ie,z,K,z,K,ee),ne=z,ie=K,K+=ee;b.qd=ne,b.rd=ie}}function ye(b,N){var k=b.l.ma,z=k.Z==0||k.Z==1?b.l.j:b.C;if(z=b.C<z?z:b.C,e(N<=b.l.o),N>z){var K=b.l.width,ee=k.ca,ne=k.tb+K*z,ie=b.V,le=b.Ba+b.c*z,me=b.gc;e(b.ab==1),e(me[0].hc==3),El(me[0],z,N,ie,le,ee,ne),de(k,z,N,ee,ne,K)}b.C=b.Ma=N}function _e(b,N,k,z,K,ee,ne){var ie=b.$/z,le=b.$%z,me=b.m,Oe=b.s,Ve=k+b.$,qe=Ve;K=k+z*K;var Pe=k+z*ee,dt=280+Oe.ua,Qe=b.Pb?ie:16777216,Re=0<Oe.ua?Oe.Wa:null,De=Oe.wc,st=Ve<Pe?Bn(Oe,le,ie):null;e(b.C<ee),e(Pe<=K);var ht=!1;e:for(;;){for(;ht||Ve<Pe;){var ct=0;if(ie>=Qe){var Dt=Ve-k;e((Qe=b).Pb),Qe.wd=Qe.m,Qe.xd=Dt,0<Qe.s.ua&&ze(Qe.s.Wa,Qe.s.vb),Qe=ie+ip}if(le&De||(st=Bn(Oe,le,ie)),e(st!=null),st.Qb&&(N[Ve]=st.qb,ht=!0),!ht)if(J(me),st.jc){ct=me,Dt=N;var Ct=Ve,Gt=st.pd[P(ct)&ca-1];e(st.jc),256>Gt.g?(G(ct,ct.u+Gt.g),Dt[Ct]=Gt.value,ct=0):(G(ct,ct.u+Gt.g-256),e(256<=Gt.value),ct=Gt.value),ct==0&&(ht=!0)}else ct=Wn(st.G[0],st.H[0],me);if(me.h)break;if(ht||256>ct){if(!ht)if(st.nd)N[Ve]=(st.qb|ct<<8)>>>0;else{if(J(me),ht=Wn(st.G[1],st.H[1],me),J(me),Dt=Wn(st.G[2],st.H[2],me),Ct=Wn(st.G[3],st.H[3],me),me.h)break;N[Ve]=(Ct<<24|ht<<16|ct<<8|Dt)>>>0}if(ht=!1,++Ve,++le>=z&&(le=0,++ie,ne!=null&&ie<=ee&&!(ie%16)&&ne(b,ie),Re!=null))for(;qe<Ve;)ct=N[qe++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct}else if(280>ct){if(ct=Qr(ct-256,me),Dt=Wn(st.G[4],st.H[4],me),J(me),Dt=an(z,Dt=Qr(Dt,me)),me.h)break;if(Ve-k<Dt||K-Ve<ct)break e;for(Ct=0;Ct<ct;++Ct)N[Ve+Ct]=N[Ve+Ct-Dt];for(Ve+=ct,le+=ct;le>=z;)le-=z,++ie,ne!=null&&ie<=ee&&!(ie%16)&&ne(b,ie);if(e(Ve<=K),le&De&&(st=Bn(Oe,le,ie)),Re!=null)for(;qe<Ve;)ct=N[qe++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct}else{if(!(ct<dt))break e;for(ht=ct-280,e(Re!=null);qe<Ve;)ct=N[qe++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct;ct=Ve,e(!(ht>>>(Dt=Re).Xa)),N[ct]=Dt.X[ht],ht=!0}ht||e(me.h==H(me))}if(b.Pb&&me.h&&Ve<K)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ze(b.s.vb,b.s.Wa);else{if(me.h)break e;ne!=null&&ne(b,ie>ee?ee:ie),b.a=0,b.$=Ve-k}return 1}return b.a=3,0}function He(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var N=b.Wa;N!=null&&(N.X=null),b.vb=null,e(b!=null)}function et(){var b=new fh;return b==null?null:(b.a=0,b.xb=cu,Ma("Predictor","VP8LPredictors"),Ma("Predictor","VP8LPredictors_C"),Ma("PredictorAdd","VP8LPredictorsAdd"),Ma("PredictorAdd","VP8LPredictorsAdd_C"),Tf=Mt,Al=Pt,ai=At,Ta=Hr,Nl=or,_i=ea,Ls=Er,D.VP8LMapColor32b=ba,D.VP8LMapColor8b=v0,b)}function Fe(b,N,k,z,K){var ee=1,ne=[b],ie=[N],le=z.m,me=z.s,Oe=null,Ve=0;e:for(;;){if(k)for(;ee&&Y(le,1);){var qe=ne,Pe=ie,dt=z,Qe=1,Re=dt.m,De=dt.gc[dt.ab],st=Y(Re,2);if(dt.Oc&1<<st)ee=0;else{switch(dt.Oc|=1<<st,De.hc=st,De.Ea=qe[0],De.nc=Pe[0],De.K=[null],++dt.ab,e(4>=dt.ab),st){case 0:case 1:De.b=Y(Re,3)+2,Qe=Fe(Ze(De.Ea,De.b),Ze(De.nc,De.b),0,dt,De.K),De.K=De.K[0];break;case 3:var ht,ct=Y(Re,8)+1,Dt=16<ct?0:4<ct?1:2<ct?2:3;if(qe[0]=Ze(De.Ea,Dt),De.b=Dt,ht=Qe=Fe(ct,1,0,dt,De.K)){var Ct,Gt=ct,jt=De,Ir=1<<(8>>jt.b),qr=i(Ir);if(qr==null)ht=0;else{var xr=jt.K[0],gr=jt.w;for(qr[0]=jt.K[0][0],Ct=1;Ct<1*Gt;++Ct)qr[Ct]=Te(xr[gr+Ct],qr[Ct-1]);for(;Ct<4*Ir;++Ct)qr[Ct]=0;jt.K[0]=null,jt.K[0]=qr,ht=1}}Qe=ht;break;case 2:break;default:e(0)}ee=Qe}}if(ne=ne[0],ie=ie[0],ee&&Y(le,1)&&!(ee=1<=(Ve=Y(le,4))&&11>=Ve)){z.a=3;break e}var tn;if(tn=ee)t:{var $r,lr,sn,Yt=z,rr=ne,Dr=ie,Pr=Ve,Ea=k,ha=Yt.m,Zn=Yt.s,Jn=[null],ra=1,hs=0,Vr=gc[Pr];r:for(;;){if(Ea&&Y(ha,1)){var na=Y(ha,3)+2,Ps=Ze(rr,na),Fl=Ze(Dr,na),vc=Ps*Fl;if(!Fe(Ps,Fl,0,Yt,Jn))break r;for(Jn=Jn[0],Zn.xc=na,$r=0;$r<vc;++$r){var Ml=Jn[$r]>>8&65535;Jn[$r]=Ml,Ml>=ra&&(ra=Ml+1)}}if(ha.h)break r;for(lr=0;5>lr;++lr){var Nn=Wi[lr];!lr&&0<Pr&&(Nn+=1<<Pr),hs<Nn&&(hs=Nn)}var A0=s(ra*Vr,U),Pf=ra,si=s(Pf,ae);if(si==null)var Ln=null;else e(65536>=Pf),Ln=si;var yc=i(hs);if(Ln==null||yc==null||A0==null){Yt.a=1;break r}var Bl=A0;for($r=sn=0;$r<ra;++$r){var Ei=Ln[$r],Ul=Ei.G,Ai=Ei.H,N0=0,fu=1,Ff=0;for(lr=0;5>lr;++lr){Nn=Wi[lr],Ul[lr]=Bl,Ai[lr]=sn,!lr&&0<Pr&&(Nn+=1<<Pr);a:{var C0,Mf=Nn,T0=Yt,du=yc,fp=Bl,dp=sn,j0=0,qo=T0.m,k2=Y(qo,1);if(a(du,0,0,Mf),k2){var hp=Y(qo,1)+1,pp=Y(qo,1),mh=Y(qo,pp==0?1:8);du[mh]=1,hp==2&&(du[mh=Y(qo,8)]=1);var hu=1}else{var xh=i(19),vh=Y(qo,4)+4;if(19<vh){T0.a=3;var O0=0;break a}for(C0=0;C0<vh;++C0)xh[Mo[C0]]=Y(qo,3);var Bf=void 0,pu=void 0,gp=T0,mp=xh,$o=Mf,R0=du,Uf=0,Fs=gp.m,gu=8,yh=s(128,U);n:for(;I(yh,0,7,mp,19);){if(Y(Fs,1)){var xp=2+2*Y(Fs,3);if((Bf=2+Y(Fs,xp))>$o)break n}else Bf=$o;for(pu=0;pu<$o&&Bf--;){J(Fs);var wh=yh[0+(127&P(Fs))];G(Fs,Fs.u+wh.g);var wc=wh.value;if(16>wc)R0[pu++]=wc,wc!=0&&(gu=wc);else{var vp=wc==16,bh=wc-16,_h=ds[bh],Sh=Y(Fs,Rf[bh])+_h;if(pu+Sh>$o)break n;for(var yp=vp?gu:0;0<Sh--;)R0[pu++]=yp}}Uf=1;break n}Uf||(gp.a=3),hu=Uf}(hu=hu&&!qo.h)&&(j0=I(fp,dp,8,du,Mf)),hu&&j0!=0?O0=j0:(T0.a=3,O0=0)}if(O0==0)break r;if(fu&&pc[lr]==1&&(fu=Bl[sn].g==0),N0+=Bl[sn].g,sn+=O0,3>=lr){var bc,zf=yc[0];for(bc=1;bc<Nn;++bc)yc[bc]>zf&&(zf=yc[bc]);Ff+=zf}}if(Ei.nd=fu,Ei.Qb=0,fu&&(Ei.qb=(Ul[3][Ai[3]+0].value<<24|Ul[1][Ai[1]+0].value<<16|Ul[2][Ai[2]+0].value)>>>0,N0==0&&256>Ul[0][Ai[0]+0].value&&(Ei.Qb=1,Ei.qb+=Ul[0][Ai[0]+0].value<<8)),Ei.jc=!Ei.Qb&&6>Ff,Ei.jc){var k0,Vo=Ei;for(k0=0;k0<ca;++k0){var ho=k0,Go=Vo.pd[ho],L0=Vo.G[0][Vo.H[0]+ho];256<=L0.value?(Go.g=L0.g+256,Go.value=L0.value):(Go.g=0,Go.value=0,ho>>=Rn(L0,8,Go),ho>>=Rn(Vo.G[1][Vo.H[1]+ho],16,Go),ho>>=Rn(Vo.G[2][Vo.H[2]+ho],0,Go),Rn(Vo.G[3][Vo.H[3]+ho],24,Go))}}}Zn.vc=Jn,Zn.Wb=ra,Zn.Ya=Ln,Zn.yc=A0,tn=1;break t}tn=0}if(!(ee=tn)){z.a=3;break e}if(0<Ve){if(me.ua=1<<Ve,!ft(me.Wa,Ve)){z.a=1,ee=0;break e}}else me.ua=0;var D0=z,Eh=ne,wp=ie,Ah=D0.s,Nh=Ah.xc;if(D0.c=Eh,D0.i=wp,Ah.md=Ze(Eh,Nh),Ah.wc=Nh==0?-1:(1<<Nh)-1,k){z.xb=op;break e}if((Oe=i(ne*ie))==null){z.a=1,ee=0;break e}ee=(ee=_e(z,Oe,0,ne,ie,ie,null))&&!le.h;break e}return ee?(K!=null?K[0]=Oe:(e(Oe==null),e(k)),z.$=0,k||He(me)):He(me),ee}function Ge(b,N){var k=b.c*b.i,z=k+N+16*N;return e(b.c<=N),b.V=i(z),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+k+N,1)}function Ye(b,N){var k=b.C,z=N-k,K=b.V,ee=b.Ba+b.c*k;for(e(N<=b.l.o);0<z;){var ne=16<z?16:z,ie=b.l.ma,le=b.l.width,me=le*ne,Oe=ie.ca,Ve=ie.tb+le*k,qe=b.Ta,Pe=b.Ua;re(b,ne,K,ee),xn(qe,Pe,Oe,Ve,me),de(ie,k,k+ne,Oe,Ve,le),z-=ne,K+=ne*b.c,k+=ne}e(k==N),b.C=b.Ma=N}function gt(){this.ub=this.yd=this.td=this.Rb=0}function St(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function bt(){this.Yb=function(){var b=[];return function N(k,z,K){for(var ee=K[z],ne=0;ne<ee&&(k.push(K.length>z+1?[]:0),!(K.length<z+1));ne++)N(k[ne],z+1,K)}(b,0,[3,11]),b}()}function Rt(){this.jb=i(3),this.Wc=o([4,8],bt),this.Xc=o([4,17],bt)}function tr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Lr(){this.ld=this.La=this.dd=this.tc=0}function Br(){this.Na=this.la=0}function en(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ui(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function eo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Lr),this.Y=0,this.ya=Array(new Ui),this.aa=0,this.l=new ss}function ri(){this.y=i(16),this.f=i(8),this.ea=i(8)}function zi(){this.cb=this.a=0,this.sc="",this.m=new xe,this.Od=new gt,this.Kc=new St,this.ed=new tr,this.Qa=new kt,this.Ic=this.$c=this.Aa=0,this.D=new eo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,xe),this.ia=0,this.pb=s(4,en),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ri),this.Hd=0,this.rb=Array(new Br),this.sb=0,this.wa=Array(new Lr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ui),this.L=this.aa=0,this.gd=o([4,2],Lr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ss(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hi(){var b=new zi;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ua||(ua=yf)),b}function Un(b,N,k){return b.a==0&&(b.a=N,b.sc=k,b.cb=0),0}function ni(b,N,k){return 3<=k&&b[N+0]==157&&b[N+1]==1&&b[N+2]==42}function a0(b,N){if(b==null)return 0;if(b.a=0,b.sc="OK",N==null)return Un(b,2,"null VP8Io passed to VP8GetHeaders()");var k=N.data,z=N.w,K=N.ha;if(4>K)return Un(b,7,"Truncated header.");var ee=k[z+0]|k[z+1]<<8|k[z+2]<<16,ne=b.Od;if(ne.Rb=!(1&ee),ne.td=ee>>1&7,ne.yd=ee>>4&1,ne.ub=ee>>5,3<ne.td)return Un(b,3,"Incorrect keyframe parameters.");if(!ne.yd)return Un(b,4,"Frame not displayable.");z+=3,K-=3;var ie=b.Kc;if(ne.Rb){if(7>K)return Un(b,7,"cannot parse picture header");if(!ni(k,z,K))return Un(b,3,"Bad code word");ie.c=16383&(k[z+4]<<8|k[z+3]),ie.Td=k[z+4]>>6,ie.i=16383&(k[z+6]<<8|k[z+5]),ie.Ud=k[z+6]>>6,z+=7,K-=7,b.za=ie.c+15>>4,b.Ub=ie.i+15>>4,N.width=ie.c,N.height=ie.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((ee=b.Pa).jb,0,255,ee.jb.length),e((ee=b.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,a(ee.Zb,0,0,ee.Zb.length),a(ee.Lb,0,0,ee.Lb)}if(ne.ub>K)return Un(b,7,"bad partition length");Se(ee=b.m,k,z,ne.ub),z+=ne.ub,K-=ne.ub,ne.Rb&&(ie.Ld=ve(ee),ie.Kd=ve(ee)),ie=b.Qa;var le,me=b.Pa;if(e(ee!=null),e(ie!=null),ie.Cb=ve(ee),ie.Cb){if(ie.Bb=ve(ee),ve(ee)){for(ie.Fb=ve(ee),le=0;4>le;++le)ie.Zb[le]=ve(ee)?ce(ee,7):0;for(le=0;4>le;++le)ie.Lb[le]=ve(ee)?ce(ee,6):0}if(ie.Bb)for(le=0;3>le;++le)me.jb[le]=ve(ee)?Q(ee,8):255}else ie.Bb=0;if(ee.Ka)return Un(b,3,"cannot parse segment header");if((ie=b.ed).zd=ve(ee),ie.Tb=Q(ee,6),ie.wb=Q(ee,3),ie.Pc=ve(ee),ie.Pc&&ve(ee)){for(me=0;4>me;++me)ve(ee)&&(ie.vd[me]=ce(ee,6));for(me=0;4>me;++me)ve(ee)&&(ie.od[me]=ce(ee,6))}if(b.L=ie.Tb==0?0:ie.zd?1:2,ee.Ka)return Un(b,3,"cannot parse filter header");var Oe=K;if(K=le=z,z=le+Oe,ie=Oe,b.Xb=(1<<Q(b.m,2))-1,Oe<3*(me=b.Xb))k=7;else{for(le+=3*me,ie-=3*me,Oe=0;Oe<me;++Oe){var Ve=k[K+0]|k[K+1]<<8|k[K+2]<<16;Ve>ie&&(Ve=ie),Se(b.Jc[+Oe],k,le,Ve),le+=Ve,ie-=Ve,K+=3}Se(b.Jc[+me],k,le,ie),k=le<z?0:5}if(k!=0)return Un(b,k,"cannot parse partitions");for(k=Q(le=b.m,7),K=ve(le)?ce(le,4):0,z=ve(le)?ce(le,4):0,ie=ve(le)?ce(le,4):0,me=ve(le)?ce(le,4):0,le=ve(le)?ce(le,4):0,Oe=b.Qa,Ve=0;4>Ve;++Ve){if(Oe.Cb){var qe=Oe.Zb[Ve];Oe.Fb||(qe+=k)}else{if(0<Ve){b.pb[Ve]=b.pb[0];continue}qe=k}var Pe=b.pb[Ve];Pe.Sc[0]=b0[Vi(qe+K,127)],Pe.Sc[1]=_0[Vi(qe+0,127)],Pe.Eb[0]=2*b0[Vi(qe+z,127)],Pe.Eb[1]=101581*_0[Vi(qe+ie,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=b0[Vi(qe+me,117)],Pe.Qc[1]=_0[Vi(qe+le,127)],Pe.lc=qe+le}if(!ne.Rb)return Un(b,4,"Not a key frame.");for(ve(ee),ne=b.Pa,k=0;4>k;++k){for(K=0;8>K;++K)for(z=0;3>z;++z)for(ie=0;11>ie;++ie)me=he(ee,mc[k][K][z][ie])?Q(ee,8):lo[k][K][z][ie],ne.Wc[k][K].Yb[z][ie]=me;for(K=0;17>K;++K)ne.Xc[k][K]=ne.Wc[k][sp[K]]}return b.kc=ve(ee),b.kc&&(b.Bd=Q(ee,8)),b.cb=1}function yf(b,N,k,z,K,ee,ne){var ie=N[K].Yb[k];for(k=0;16>K;++K){if(!he(b,ie[k+0]))return K;for(;!he(b,ie[k+1]);)if(ie=N[++K].Yb[0],k=0,K==16)return 16;var le=N[K+1].Yb;if(he(b,ie[k+2])){var me=b,Oe=0;if(he(me,(qe=ie)[(Ve=k)+3]))if(he(me,qe[Ve+6])){for(ie=0,Ve=2*(Oe=he(me,qe[Ve+8]))+(qe=he(me,qe[Ve+9+Oe])),Oe=0,qe=qn[Ve];qe[ie];++ie)Oe+=Oe+he(me,qe[ie]);Oe+=3+(8<<Ve)}else he(me,qe[Ve+7])?(Oe=7+2*he(me,165),Oe+=he(me,145)):Oe=5+he(me,159);else Oe=he(me,qe[Ve+4])?3+he(me,qe[Ve+5]):2;ie=le[2]}else Oe=1,ie=le[1];le=ne+Ur[K],0>(me=b).b&&Ee(me);var Ve,qe=me.b,Pe=(Ve=me.Ca>>1)-(me.I>>qe)>>31;--me.b,me.Ca+=Pe,me.Ca|=1,me.I-=(Ve+1&Pe)<<qe,ee[le]=((Oe^Pe)-Pe)*z[(0<K)+0]}return 16}function pl(b){var N=b.rb[b.sb-1];N.la=0,N.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function wf(b,N){if(b==null)return 0;if(N==null)return Un(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!a0(b,N))return 0;if(e(b.cb),N.ac==null||N.ac(N)){N.ob&&(b.L=0);var k=Ho[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=N.v-k>>4,b.zb=N.j-k>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=N.o+15+k>>4,b.Hb=N.va+15+k>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var z=b.ed;for(k=0;4>k;++k){var K;if(b.Qa.Cb){var ee=b.Qa.Lb[k];b.Qa.Fb||(ee+=z.Tb)}else ee=z.Tb;for(K=0;1>=K;++K){var ne=b.gd[k][K],ie=ee;if(z.Pc&&(ie+=z.vd[0],K&&(ie+=z.od[0])),0<(ie=0>ie?0:63<ie?63:ie)){var le=ie;0<z.wb&&(le=4<z.wb?le>>2:le>>1)>9-z.wb&&(le=9-z.wb),1>le&&(le=1),ne.dd=le,ne.tc=2*ie+le,ne.ld=40<=ie?2:15<=ie?1:0}else ne.tc=0;ne.La=K}}}k=0}else Un(b,6,"Frame setup failed"),k=b.a;if(k=k==0){if(k){b.$c=0,0<b.Aa||(b.Ic=cp);e:{k=b.Ic,z=4*(le=b.za);var me=32*le,Oe=le+1,Ve=0<b.L?le*(0<b.Aa?2:1):0,qe=(b.Aa==2?2:1)*le;if((ne=z+832+(K=3*(16*k+Ho[b.L])/2*me)+(ee=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=ne)k=0;else{if(ne>b.Vb){if(b.Vb=0,b.Ec=i(ne),b.Fc=0,b.Ec==null){k=Un(b,1,"no memory during frame initialization.");break e}b.Vb=ne}ne=b.Ec,ie=b.Fc,b.Ac=ne,b.Bc=ie,ie+=z,b.Gd=s(me,ri),b.Hd=0,b.rb=s(Oe+1,Br),b.sb=1,b.wa=Ve?s(Ve,Lr):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=le),e(!0),b.oc=ne,b.pc=ie,ie+=832,b.ya=s(qe,Ui),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=le),b.R=16*le,b.B=8*le,le=(me=Ho[b.L])*b.R,me=me/2*b.B,b.sa=ne,b.ta=ie+le,b.qa=b.sa,b.ra=b.ta+16*k*b.R+me,b.Ha=b.qa,b.Ia=b.ra+8*k*b.B+me,b.$c=0,ie+=K,b.mb=ee?ne:null,b.nb=ee?ie:null,e(ie+ee<=b.Fc+b.Vb),pl(b),a(b.Ac,b.Bc,0,z),k=1}}if(k){if(N.ka=0,N.y=b.sa,N.O=b.ta,N.f=b.qa,N.N=b.ra,N.ea=b.Ha,N.Vd=b.Ia,N.fa=b.R,N.Rc=b.B,N.F=null,N.J=0,!Io){for(k=-255;255>=k;++k)Kn[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)us[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Rl[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)kl[255+k]=0>k?0:255<k?255:k;Io=1}io=gl,Ds=s0,Is=No,ta=bf,Si=o0,zn=i0,cc=nc,so=ac,iu=uh,Cl=d0,Tl=ch,jl=Kc,uc=Zc,su=Cf,Ol=yl,Do=$i,fc=ao,Hn=lh,ii[0]=wi,ii[1]=_f,ii[2]=u0,ii[3]=Ef,ii[4]=os,ii[5]=to,ii[6]=Gc,ii[7]=ls,ii[8]=Wc,ii[9]=f0,Uo[0]=Vc,Uo[1]=c0,Uo[2]=Co,Uo[3]=$c,Uo[4]=ya,Uo[5]=ml,Uo[6]=jo,Xi[0]=Oo,Xi[1]=Sf,Xi[2]=Af,Xi[3]=xl,Xi[4]=qi,Xi[5]=Ba,Xi[6]=vl,k=1}else k=0}k&&(k=function(Pe,dt){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var Qe,Re=Pe.Jc[Pe.M&Pe.Xb],De=Pe.m,st=Pe;for(Qe=0;Qe<st.za;++Qe){var ht=De,ct=st,Dt=ct.Ac,Ct=ct.Bc+4*Qe,Gt=ct.zc,jt=ct.ya[ct.aa+Qe];if(ct.Qa.Bb?jt.$b=he(ht,ct.Pa.jb[0])?2+he(ht,ct.Pa.jb[2]):he(ht,ct.Pa.jb[1]):jt.$b=0,ct.kc&&(jt.Ad=he(ht,ct.Bd)),jt.Za=!he(ht,145)+0,jt.Za){var Ir=jt.Ob,qr=0;for(ct=0;4>ct;++ct){var xr,gr=Gt[0+ct];for(xr=0;4>xr;++xr){gr=hh[Dt[Ct+xr]][gr];for(var tn=Dl[he(ht,gr[0])];0<tn;)tn=Dl[2*tn+he(ht,gr[tn])];gr=-tn,Dt[Ct+xr]=gr}n(Ir,qr,Dt,Ct,4),qr+=4,Gt[0+ct]=gr}}else gr=he(ht,156)?he(ht,128)?1:3:he(ht,163)?2:0,jt.Ob[0]=gr,a(Dt,Ct,gr,4),a(Gt,0,gr,4);jt.Dd=he(ht,142)?he(ht,114)?he(ht,183)?1:3:2:0}if(st.m.Ka)return Un(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(st=Re,ht=(De=Pe).rb[De.sb-1],Dt=De.rb[De.sb+De.ja],Qe=De.ya[De.aa+De.ja],Ct=De.kc?Qe.Ad:0)ht.la=Dt.la=0,Qe.Za||(ht.Na=Dt.Na=0),Qe.Hc=0,Qe.Gc=0,Qe.ia=0;else{var $r,lr;if(ht=Dt,Dt=st,Ct=De.Pa.Xc,Gt=De.ya[De.aa+De.ja],jt=De.pb[Gt.$b],ct=Gt.ad,Ir=0,qr=De.rb[De.sb-1],gr=xr=0,a(ct,Ir,0,384),Gt.Za)var sn=0,Yt=Ct[3];else{tn=i(16);var rr=ht.Na+qr.Na;if(rr=ua(Dt,Ct[1],rr,jt.Eb,0,tn,0),ht.Na=qr.Na=(0<rr)+0,1<rr)io(tn,0,ct,Ir);else{var Dr=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)ct[Ir+tn]=Dr}sn=1,Yt=Ct[0]}var Pr=15&ht.la,Ea=15&qr.la;for(tn=0;4>tn;++tn){var ha=1&Ea;for(Dr=lr=0;4>Dr;++Dr)Pr=Pr>>1|(ha=(rr=ua(Dt,Yt,rr=ha+(1&Pr),jt.Sc,sn,ct,Ir))>sn)<<7,lr=lr<<2|(3<rr?3:1<rr?2:ct[Ir+0]!=0),Ir+=16;Pr>>=4,Ea=Ea>>1|ha<<7,xr=(xr<<8|lr)>>>0}for(Yt=Pr,sn=Ea>>4,$r=0;4>$r;$r+=2){for(lr=0,Pr=ht.la>>4+$r,Ea=qr.la>>4+$r,tn=0;2>tn;++tn){for(ha=1&Ea,Dr=0;2>Dr;++Dr)rr=ha+(1&Pr),Pr=Pr>>1|(ha=0<(rr=ua(Dt,Ct[2],rr,jt.Qc,0,ct,Ir)))<<3,lr=lr<<2|(3<rr?3:1<rr?2:ct[Ir+0]!=0),Ir+=16;Pr>>=2,Ea=Ea>>1|ha<<5}gr|=lr<<4*$r,Yt|=Pr<<4<<$r,sn|=(240&Ea)<<$r}ht.la=Yt,qr.la=sn,Gt.Hc=xr,Gt.Gc=gr,Gt.ia=43690&gr?0:jt.ia,Ct=!(xr|gr)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[Qe.$b][Qe.Za],De.wa[De.Y+De.ja].La|=!Ct),st.Ka)return Un(Pe,7,"Premature end-of-file encountered.")}if(pl(Pe),De=dt,st=1,Qe=(Re=Pe).D,ht=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,Re.Aa==0)e:{if(Qe.M=Re.M,Qe.uc=ht,ko(Re,Qe),st=1,Qe=(lr=Re.D).Nb,ht=(gr=Ho[Re.L])*Re.R,Dt=gr/2*Re.B,tn=16*Qe*Re.R,Dr=8*Qe*Re.B,Ct=Re.sa,Gt=Re.ta-ht+tn,jt=Re.qa,ct=Re.ra-Dt+Dr,Ir=Re.Ha,qr=Re.Ia-Dt+Dr,Ea=(Pr=lr.M)==0,xr=Pr>=Re.Va-1,Re.Aa==2&&ko(Re,lr),lr.uc)for(ha=(rr=Re).D.M,e(rr.D.uc),lr=rr.yb;lr<rr.Hb;++lr){sn=lr,Yt=ha;var Zn=(Jn=(Nn=rr).D).Nb;$r=Nn.R;var Jn=Jn.wa[Jn.Y+sn],ra=Nn.sa,hs=Nn.ta+16*Zn*$r+16*sn,Vr=Jn.dd,na=Jn.tc;if(na!=0)if(e(3<=na),Nn.L==1)0<sn&&Do(ra,hs,$r,na+4),Jn.La&&Hn(ra,hs,$r,na),0<Yt&&Ol(ra,hs,$r,na+4),Jn.La&&fc(ra,hs,$r,na);else{var Ps=Nn.B,Fl=Nn.qa,vc=Nn.ra+8*Zn*Ps+8*sn,Ml=Nn.Ha,Nn=Nn.Ia+8*Zn*Ps+8*sn;Zn=Jn.ld,0<sn&&(so(ra,hs,$r,na+4,Vr,Zn),Cl(Fl,vc,Ml,Nn,Ps,na+4,Vr,Zn)),Jn.La&&(jl(ra,hs,$r,na,Vr,Zn),su(Fl,vc,Ml,Nn,Ps,na,Vr,Zn)),0<Yt&&(cc(ra,hs,$r,na+4,Vr,Zn),iu(Fl,vc,Ml,Nn,Ps,na+4,Vr,Zn)),Jn.La&&(Tl(ra,hs,$r,na,Vr,Zn),uc(Fl,vc,Ml,Nn,Ps,na,Vr,Zn))}}if(Re.ia&&alert("todo:DitherRow"),De.put!=null){if(lr=16*Pr,Pr=16*(Pr+1),Ea?(De.y=Re.sa,De.O=Re.ta+tn,De.f=Re.qa,De.N=Re.ra+Dr,De.ea=Re.Ha,De.W=Re.Ia+Dr):(lr-=gr,De.y=Ct,De.O=Gt,De.f=jt,De.N=ct,De.ea=Ir,De.W=qr),xr||(Pr-=gr),Pr>De.o&&(Pr=De.o),De.F=null,De.J=null,Re.Fa!=null&&0<Re.Fa.length&&lr<Pr&&(De.J=g0(Re,De,lr,Pr-lr),De.F=Re.mb,De.F==null&&De.F.length==0)){st=Un(Re,3,"Could not decode alpha data.");break e}lr<De.j&&(gr=De.j-lr,lr=De.j,e(!(1&gr)),De.O+=Re.R*gr,De.N+=Re.B*(gr>>1),De.W+=Re.B*(gr>>1),De.F!=null&&(De.J+=De.width*gr)),lr<Pr&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=lr-De.j,De.U=De.va-De.v,De.T=Pr-lr,st=De.put(De))}Qe+1!=Re.Ic||xr||(n(Re.sa,Re.ta-ht,Ct,Gt+16*Re.R,ht),n(Re.qa,Re.ra-Dt,jt,ct+8*Re.B,Dt),n(Re.Ha,Re.Ia-Dt,Ir,qr+8*Re.B,Dt))}if(!st)return Un(Pe,6,"Output aborted.")}return 1}(b,N)),N.bc!=null&&N.bc(N),k&=1}return k?(b.cb=0,k):0}function yi(b,N,k,z,K){K=b[N+k+32*z]+(K>>3),b[N+k+32*z]=-256&K?0>K?0:255:K}function qc(b,N,k,z,K,ee){yi(b,N,0,k,z+K),yi(b,N,1,k,z+ee),yi(b,N,2,k,z-ee),yi(b,N,3,k,z-K)}function _n(b){return(20091*b>>16)+b}function rc(b,N,k,z){var K,ee=0,ne=i(16);for(K=0;4>K;++K){var ie=b[N+0]+b[N+8],le=b[N+0]-b[N+8],me=(35468*b[N+4]>>16)-_n(b[N+12]),Oe=_n(b[N+4])+(35468*b[N+12]>>16);ne[ee+0]=ie+Oe,ne[ee+1]=le+me,ne[ee+2]=le-me,ne[ee+3]=ie-Oe,ee+=4,N++}for(K=ee=0;4>K;++K)ie=(b=ne[ee+0]+4)+ne[ee+8],le=b-ne[ee+8],me=(35468*ne[ee+4]>>16)-_n(ne[ee+12]),yi(k,z,0,0,ie+(Oe=_n(ne[ee+4])+(35468*ne[ee+12]>>16))),yi(k,z,1,0,le+me),yi(k,z,2,0,le-me),yi(k,z,3,0,ie-Oe),ee++,z+=32}function i0(b,N,k,z){var K=b[N+0]+4,ee=35468*b[N+4]>>16,ne=_n(b[N+4]),ie=35468*b[N+1]>>16;qc(k,z,0,K+ne,b=_n(b[N+1]),ie),qc(k,z,1,K+ee,b,ie),qc(k,z,2,K-ee,b,ie),qc(k,z,3,K-ne,b,ie)}function s0(b,N,k,z,K){rc(b,N,k,z),K&&rc(b,N+16,k,z+4)}function No(b,N,k,z){Ds(b,N+0,k,z,1),Ds(b,N+32,k,z+128,1)}function bf(b,N,k,z){var K;for(b=b[N+0]+4,K=0;4>K;++K)for(N=0;4>N;++N)yi(k,z,N,K,b)}function o0(b,N,k,z){b[N+0]&&ta(b,N+0,k,z),b[N+16]&&ta(b,N+16,k,z+4),b[N+32]&&ta(b,N+32,k,z+128),b[N+48]&&ta(b,N+48,k,z+128+4)}function gl(b,N,k,z){var K,ee=i(16);for(K=0;4>K;++K){var ne=b[N+0+K]+b[N+12+K],ie=b[N+4+K]+b[N+8+K],le=b[N+4+K]-b[N+8+K],me=b[N+0+K]-b[N+12+K];ee[0+K]=ne+ie,ee[8+K]=ne-ie,ee[4+K]=me+le,ee[12+K]=me-le}for(K=0;4>K;++K)ne=(b=ee[0+4*K]+3)+ee[3+4*K],ie=ee[1+4*K]+ee[2+4*K],le=ee[1+4*K]-ee[2+4*K],me=b-ee[3+4*K],k[z+0]=ne+ie>>3,k[z+16]=me+le>>3,k[z+32]=ne-ie>>3,k[z+48]=me-le>>3,z+=64}function l0(b,N,k){var z,K=N-32,ee=_a,ne=255-b[K-1];for(z=0;z<k;++z){var ie,le=ee,me=ne+b[N-1];for(ie=0;ie<k;++ie)b[N+ie]=le[me+b[K+ie]];N+=32}}function _f(b,N){l0(b,N,4)}function Sf(b,N){l0(b,N,8)}function c0(b,N){l0(b,N,16)}function Co(b,N){var k;for(k=0;16>k;++k)n(b,N+32*k,b,N-32,16)}function $c(b,N){var k;for(k=16;0<k;--k)a(b,N,b[N-1],16),N+=32}function To(b,N,k){var z;for(z=0;16>z;++z)a(N,k+32*z,b,16)}function Vc(b,N){var k,z=16;for(k=0;16>k;++k)z+=b[N-1+32*k]+b[N+k-32];To(z>>5,b,N)}function ya(b,N){var k,z=8;for(k=0;16>k;++k)z+=b[N-1+32*k];To(z>>4,b,N)}function ml(b,N){var k,z=8;for(k=0;16>k;++k)z+=b[N+k-32];To(z>>4,b,N)}function jo(b,N){To(128,b,N)}function ar(b,N,k){return b+2*N+k+2>>2}function u0(b,N){var k,z=N-32;for(z=new Uint8Array([ar(b[z-1],b[z+0],b[z+1]),ar(b[z+0],b[z+1],b[z+2]),ar(b[z+1],b[z+2],b[z+3]),ar(b[z+2],b[z+3],b[z+4])]),k=0;4>k;++k)n(b,N+32*k,z,0,z.length)}function Ef(b,N){var k=b[N-1],z=b[N-1+32],K=b[N-1+64],ee=b[N-1+96];pe(b,N+0,16843009*ar(b[N-1-32],k,z)),pe(b,N+32,16843009*ar(k,z,K)),pe(b,N+64,16843009*ar(z,K,ee)),pe(b,N+96,16843009*ar(K,ee,ee))}function wi(b,N){var k,z=4;for(k=0;4>k;++k)z+=b[N+k-32]+b[N-1+32*k];for(z>>=3,k=0;4>k;++k)a(b,N+32*k,z,4)}function os(b,N){var k=b[N-1+0],z=b[N-1+32],K=b[N-1+64],ee=b[N-1-32],ne=b[N+0-32],ie=b[N+1-32],le=b[N+2-32],me=b[N+3-32];b[N+0+96]=ar(z,K,b[N-1+96]),b[N+1+96]=b[N+0+64]=ar(k,z,K),b[N+2+96]=b[N+1+64]=b[N+0+32]=ar(ee,k,z),b[N+3+96]=b[N+2+64]=b[N+1+32]=b[N+0+0]=ar(ne,ee,k),b[N+3+64]=b[N+2+32]=b[N+1+0]=ar(ie,ne,ee),b[N+3+32]=b[N+2+0]=ar(le,ie,ne),b[N+3+0]=ar(me,le,ie)}function Gc(b,N){var k=b[N+1-32],z=b[N+2-32],K=b[N+3-32],ee=b[N+4-32],ne=b[N+5-32],ie=b[N+6-32],le=b[N+7-32];b[N+0+0]=ar(b[N+0-32],k,z),b[N+1+0]=b[N+0+32]=ar(k,z,K),b[N+2+0]=b[N+1+32]=b[N+0+64]=ar(z,K,ee),b[N+3+0]=b[N+2+32]=b[N+1+64]=b[N+0+96]=ar(K,ee,ne),b[N+3+32]=b[N+2+64]=b[N+1+96]=ar(ee,ne,ie),b[N+3+64]=b[N+2+96]=ar(ne,ie,le),b[N+3+96]=ar(ie,le,le)}function to(b,N){var k=b[N-1+0],z=b[N-1+32],K=b[N-1+64],ee=b[N-1-32],ne=b[N+0-32],ie=b[N+1-32],le=b[N+2-32],me=b[N+3-32];b[N+0+0]=b[N+1+64]=ee+ne+1>>1,b[N+1+0]=b[N+2+64]=ne+ie+1>>1,b[N+2+0]=b[N+3+64]=ie+le+1>>1,b[N+3+0]=le+me+1>>1,b[N+0+96]=ar(K,z,k),b[N+0+64]=ar(z,k,ee),b[N+0+32]=b[N+1+96]=ar(k,ee,ne),b[N+1+32]=b[N+2+96]=ar(ee,ne,ie),b[N+2+32]=b[N+3+96]=ar(ne,ie,le),b[N+3+32]=ar(ie,le,me)}function ls(b,N){var k=b[N+0-32],z=b[N+1-32],K=b[N+2-32],ee=b[N+3-32],ne=b[N+4-32],ie=b[N+5-32],le=b[N+6-32],me=b[N+7-32];b[N+0+0]=k+z+1>>1,b[N+1+0]=b[N+0+64]=z+K+1>>1,b[N+2+0]=b[N+1+64]=K+ee+1>>1,b[N+3+0]=b[N+2+64]=ee+ne+1>>1,b[N+0+32]=ar(k,z,K),b[N+1+32]=b[N+0+96]=ar(z,K,ee),b[N+2+32]=b[N+1+96]=ar(K,ee,ne),b[N+3+32]=b[N+2+96]=ar(ee,ne,ie),b[N+3+64]=ar(ne,ie,le),b[N+3+96]=ar(ie,le,me)}function f0(b,N){var k=b[N-1+0],z=b[N-1+32],K=b[N-1+64],ee=b[N-1+96];b[N+0+0]=k+z+1>>1,b[N+2+0]=b[N+0+32]=z+K+1>>1,b[N+2+32]=b[N+0+64]=K+ee+1>>1,b[N+1+0]=ar(k,z,K),b[N+3+0]=b[N+1+32]=ar(z,K,ee),b[N+3+32]=b[N+1+64]=ar(K,ee,ee),b[N+3+64]=b[N+2+64]=b[N+0+96]=b[N+1+96]=b[N+2+96]=b[N+3+96]=ee}function Wc(b,N){var k=b[N-1+0],z=b[N-1+32],K=b[N-1+64],ee=b[N-1+96],ne=b[N-1-32],ie=b[N+0-32],le=b[N+1-32],me=b[N+2-32];b[N+0+0]=b[N+2+32]=k+ne+1>>1,b[N+0+32]=b[N+2+64]=z+k+1>>1,b[N+0+64]=b[N+2+96]=K+z+1>>1,b[N+0+96]=ee+K+1>>1,b[N+3+0]=ar(ie,le,me),b[N+2+0]=ar(ne,ie,le),b[N+1+0]=b[N+3+32]=ar(k,ne,ie),b[N+1+32]=b[N+3+64]=ar(z,k,ne),b[N+1+64]=b[N+3+96]=ar(K,z,k),b[N+1+96]=ar(ee,K,z)}function Af(b,N){var k;for(k=0;8>k;++k)n(b,N+32*k,b,N-32,8)}function xl(b,N){var k;for(k=0;8>k;++k)a(b,N,b[N-1],8),N+=32}function ro(b,N,k){var z;for(z=0;8>z;++z)a(N,k+32*z,b,8)}function Oo(b,N){var k,z=8;for(k=0;8>k;++k)z+=b[N+k-32]+b[N-1+32*k];ro(z>>4,b,N)}function Ba(b,N){var k,z=4;for(k=0;8>k;++k)z+=b[N+k-32];ro(z>>3,b,N)}function qi(b,N){var k,z=4;for(k=0;8>k;++k)z+=b[N-1+32*k];ro(z>>3,b,N)}function vl(b,N){ro(128,b,N)}function no(b,N,k){var z=b[N-k],K=b[N+0],ee=3*(K-z)+jf[1020+b[N-2*k]-b[N+k]],ne=dc[112+(ee+4>>3)];b[N-k]=_a[255+z+dc[112+(ee+3>>3)]],b[N+0]=_a[255+K-ne]}function Nf(b,N,k,z){var K=b[N+0],ee=b[N+k];return fs[255+b[N-2*k]-b[N-k]]>z||fs[255+ee-K]>z}function Xc(b,N,k,z){return 4*fs[255+b[N-k]-b[N+0]]+fs[255+b[N-2*k]-b[N+k]]<=z}function Yc(b,N,k,z,K){var ee=b[N-3*k],ne=b[N-2*k],ie=b[N-k],le=b[N+0],me=b[N+k],Oe=b[N+2*k],Ve=b[N+3*k];return 4*fs[255+ie-le]+fs[255+ne-me]>z?0:fs[255+b[N-4*k]-ee]<=K&&fs[255+ee-ne]<=K&&fs[255+ne-ie]<=K&&fs[255+Ve-Oe]<=K&&fs[255+Oe-me]<=K&&fs[255+me-le]<=K}function yl(b,N,k,z){var K=2*z+1;for(z=0;16>z;++z)Xc(b,N+z,k,K)&&no(b,N+z,k)}function $i(b,N,k,z){var K=2*z+1;for(z=0;16>z;++z)Xc(b,N+z*k,1,K)&&no(b,N+z*k,1)}function ao(b,N,k,z){var K;for(K=3;0<K;--K)yl(b,N+=4*k,k,z)}function lh(b,N,k,z){var K;for(K=3;0<K;--K)$i(b,N+=4,k,z)}function wl(b,N,k,z,K,ee,ne,ie){for(ee=2*ee+1;0<K--;){if(Yc(b,N,k,ee,ne))if(Nf(b,N,k,ie))no(b,N,k);else{var le=b,me=N,Oe=k,Ve=le[me-2*Oe],qe=le[me-Oe],Pe=le[me+0],dt=le[me+Oe],Qe=le[me+2*Oe],Re=27*(st=jf[1020+3*(Pe-qe)+jf[1020+Ve-dt]])+63>>7,De=18*st+63>>7,st=9*st+63>>7;le[me-3*Oe]=_a[255+le[me-3*Oe]+st],le[me-2*Oe]=_a[255+Ve+De],le[me-Oe]=_a[255+qe+Re],le[me+0]=_a[255+Pe-Re],le[me+Oe]=_a[255+dt-De],le[me+2*Oe]=_a[255+Qe-st]}N+=z}}function Os(b,N,k,z,K,ee,ne,ie){for(ee=2*ee+1;0<K--;){if(Yc(b,N,k,ee,ne))if(Nf(b,N,k,ie))no(b,N,k);else{var le=b,me=N,Oe=k,Ve=le[me-Oe],qe=le[me+0],Pe=le[me+Oe],dt=dc[112+((Qe=3*(qe-Ve))+4>>3)],Qe=dc[112+(Qe+3>>3)],Re=dt+1>>1;le[me-2*Oe]=_a[255+le[me-2*Oe]+Re],le[me-Oe]=_a[255+Ve+Qe],le[me+0]=_a[255+qe-dt],le[me+Oe]=_a[255+Pe-Re]}N+=z}}function nc(b,N,k,z,K,ee){wl(b,N,k,1,16,z,K,ee)}function ac(b,N,k,z,K,ee){wl(b,N,1,k,16,z,K,ee)}function ch(b,N,k,z,K,ee){var ne;for(ne=3;0<ne;--ne)Os(b,N+=4*k,k,1,16,z,K,ee)}function Kc(b,N,k,z,K,ee){var ne;for(ne=3;0<ne;--ne)Os(b,N+=4,1,k,16,z,K,ee)}function uh(b,N,k,z,K,ee,ne,ie){wl(b,N,K,1,8,ee,ne,ie),wl(k,z,K,1,8,ee,ne,ie)}function d0(b,N,k,z,K,ee,ne,ie){wl(b,N,1,K,8,ee,ne,ie),wl(k,z,1,K,8,ee,ne,ie)}function Zc(b,N,k,z,K,ee,ne,ie){Os(b,N+4*K,K,1,8,ee,ne,ie),Os(k,z+4*K,K,1,8,ee,ne,ie)}function Cf(b,N,k,z,K,ee,ne,ie){Os(b,N+4,1,K,8,ee,ne,ie),Os(k,z+4,1,K,8,ee,ne,ie)}function Jc(){this.ba=new ei,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function h0(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function p0(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Qc(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new U}function fh(){this.xb=this.a=0,this.l=new ss,this.ca=new ei,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Qc,this.ab=0,this.gc=s(4,p0),this.Oc=0}function eu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ss,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ic(b,N,k,z,K,ee,ne){for(b=b==null?0:b[N+0],N=0;N<ne;++N)K[ee+N]=b+k[z+N]&255,b=K[ee+N]}function tu(b,N,k,z,K,ee,ne){var ie;if(b==null)ic(null,null,k,z,K,ee,ne);else for(ie=0;ie<ne;++ie)K[ee+ie]=b[N+ie]+k[z+ie]&255}function bl(b,N,k,z,K,ee,ne){if(b==null)ic(null,null,k,z,K,ee,ne);else{var ie,le=b[N+0],me=le,Oe=le;for(ie=0;ie<ne;++ie)me=Oe+(le=b[N+ie])-me,Oe=k[z+ie]+(-256&me?0>me?0:255:me)&255,me=le,K[ee+ie]=Oe}}function g0(b,N,k,z){var K=N.width,ee=N.o;if(e(b!=null&&N!=null),0>k||0>=z||k+z>ee)return null;if(!b.Cc){if(b.ga==null){var ne;if(b.ga=new eu,(ne=b.ga==null)||(ne=N.width*N.o,e(b.Gb.length==0),b.Gb=i(ne),b.Uc=0,b.Gb==null?ne=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ne=1),ne=!ne),!ne){ne=b.ga;var ie=b.Fa,le=b.P,me=b.qc,Oe=b.mb,Ve=b.nb,qe=le+1,Pe=me-1,dt=ne.l;if(e(ie!=null&&Oe!=null&&N!=null),co[0]=null,co[1]=ic,co[2]=tu,co[3]=bl,ne.ca=Oe,ne.tb=Ve,ne.c=N.width,ne.i=N.height,e(0<ne.c&&0<ne.i),1>=me)N=0;else if(ne.$a=ie[le+0]>>0&3,ne.Z=ie[le+0]>>2&3,ne.Lc=ie[le+0]>>4&3,le=ie[le+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||le)N=0;else if(dt.put=Bi,dt.ac=Gn,dt.bc=is,dt.ma=ne,dt.width=N.width,dt.height=N.height,dt.Da=N.Da,dt.v=N.v,dt.va=N.va,dt.j=N.j,dt.o=N.o,ne.$a)e:{e(ne.$a==1),N=et();t:for(;;){if(N==null){N=0;break e}if(e(ne!=null),ne.mc=N,N.c=ne.c,N.i=ne.i,N.l=ne.l,N.l.ma=ne,N.l.width=ne.c,N.l.height=ne.i,N.a=0,we(N.m,ie,qe,Pe),!Fe(ne.c,ne.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&fe(N.s)?(ne.ic=1,ie=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ie),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ne.ic=0,N=Ge(N,ne.c)),!N))break t;N=1;break e}ne.mc=null,N=0}else N=Pe>=ne.c*ne.i;ne=!N}if(ne)return null;b.ga.Lc!=1?b.Ga=0:z=ee-k}e(b.ga!=null),e(k+z<=ee);e:{if(N=(ie=b.ga).c,ee=ie.l.o,ie.$a==0){if(qe=b.rc,Pe=b.Vc,dt=b.Fa,le=b.P+1+k*N,me=b.mb,Oe=b.nb+k*N,e(le<=b.P+b.qc),ie.Z!=0)for(e(co[ie.Z]!=null),ne=0;ne<z;++ne)co[ie.Z](qe,Pe,dt,le,me,Oe,N),qe=me,Pe=Oe,Oe+=N,le+=N;else for(ne=0;ne<z;++ne)n(me,Oe,dt,le,N),qe=me,Pe=Oe,Oe+=N,le+=N;b.rc=qe,b.Vc=Pe}else{if(e(ie.mc!=null),N=k+z,e((ne=ie.mc)!=null),e(N<=ne.i),ne.C>=N)N=1;else if(ie.ic||Ue(),ie.ic){ie=ne.V,qe=ne.Ba,Pe=ne.c;var Qe=ne.i,Re=(dt=1,le=ne.$/Pe,me=ne.$%Pe,Oe=ne.m,Ve=ne.s,ne.$),De=Pe*Qe,st=Pe*N,ht=Ve.wc,ct=Re<st?Bn(Ve,me,le):null;e(Re<=De),e(N<=Qe),e(fe(Ve));t:for(;;){for(;!Oe.h&&Re<st;){if(me&ht||(ct=Bn(Ve,me,le)),e(ct!=null),J(Oe),256>(Qe=Wn(ct.G[0],ct.H[0],Oe)))ie[qe+Re]=Qe,++Re,++me>=Pe&&(me=0,++le<=N&&!(le%16)&&ye(ne,le));else{if(!(280>Qe)){dt=0;break t}Qe=Qr(Qe-256,Oe);var Dt,Ct=Wn(ct.G[4],ct.H[4],Oe);if(J(Oe),!(Re>=(Ct=an(Pe,Ct=Qr(Ct,Oe)))&&De-Re>=Qe)){dt=0;break t}for(Dt=0;Dt<Qe;++Dt)ie[qe+Re+Dt]=ie[qe+Re+Dt-Ct];for(Re+=Qe,me+=Qe;me>=Pe;)me-=Pe,++le<=N&&!(le%16)&&ye(ne,le);Re<st&&me&ht&&(ct=Bn(Ve,me,le))}e(Oe.h==H(Oe))}ye(ne,le>N?N:le);break t}!dt||Oe.h&&Re<De?(dt=0,ne.a=Oe.h?5:3):ne.$=Re,N=dt}else N=_e(ne,ne.V,ne.Ba,ne.c,ne.i,N,Ye);if(!N){z=0;break e}}k+z>=ee&&(b.Cc=1),z=1}if(!z)return null;if(b.Cc&&((z=b.ga)!=null&&(z.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+k*K}function j(b,N,k,z,K,ee){for(;0<K--;){var ne,ie=b,le=N+(k?1:0),me=b,Oe=N+(k?0:3);for(ne=0;ne<z;++ne){var Ve=me[Oe+4*ne];Ve!=255&&(Ve*=32897,ie[le+4*ne+0]=ie[le+4*ne+0]*Ve>>23,ie[le+4*ne+1]=ie[le+4*ne+1]*Ve>>23,ie[le+4*ne+2]=ie[le+4*ne+2]*Ve>>23)}N+=ee}}function Z(b,N,k,z,K){for(;0<z--;){var ee;for(ee=0;ee<k;++ee){var ne=b[N+2*ee+0],ie=15&(me=b[N+2*ee+1]),le=4369*ie,me=(240&me|me>>4)*le>>16;b[N+2*ee+0]=(240&ne|ne>>4)*le>>16&240|(15&ne|ne<<4)*le>>16>>4&15,b[N+2*ee+1]=240&me|ie}N+=K}}function Ae(b,N,k,z,K,ee,ne,ie){var le,me,Oe=255;for(me=0;me<K;++me){for(le=0;le<z;++le){var Ve=b[N+le];ee[ne+4*le]=Ve,Oe&=Ve}N+=k,ne+=ie}return Oe!=255}function je(b,N,k,z,K){var ee;for(ee=0;ee<K;++ee)k[z+ee]=b[N+ee]>>8}function Ue(){Gi=j,wr=Z,br=Ae,xn=je}function nt(b,N,k){D[b]=function(z,K,ee,ne,ie,le,me,Oe,Ve,qe,Pe,dt,Qe,Re,De,st,ht){var ct,Dt=ht-1>>1,Ct=ie[le+0]|me[Oe+0]<<16,Gt=Ve[qe+0]|Pe[dt+0]<<16;e(z!=null);var jt=3*Ct+Gt+131074>>2;for(N(z[K+0],255&jt,jt>>16,Qe,Re),ee!=null&&(jt=3*Gt+Ct+131074>>2,N(ee[ne+0],255&jt,jt>>16,De,st)),ct=1;ct<=Dt;++ct){var Ir=ie[le+ct]|me[Oe+ct]<<16,qr=Ve[qe+ct]|Pe[dt+ct]<<16,xr=Ct+Ir+Gt+qr+524296,gr=xr+2*(Ir+Gt)>>3;jt=gr+Ct>>1,Ct=(xr=xr+2*(Ct+qr)>>3)+Ir>>1,N(z[K+2*ct-1],255&jt,jt>>16,Qe,Re+(2*ct-1)*k),N(z[K+2*ct-0],255&Ct,Ct>>16,Qe,Re+(2*ct-0)*k),ee!=null&&(jt=xr+Gt>>1,Ct=gr+qr>>1,N(ee[ne+2*ct-1],255&jt,jt>>16,De,st+(2*ct-1)*k),N(ee[ne+2*ct+0],255&Ct,Ct>>16,De,st+(2*ct+0)*k)),Ct=Ir,Gt=qr}1&ht||(jt=3*Ct+Gt+131074>>2,N(z[K+ht-1],255&jt,jt>>16,Qe,Re+(ht-1)*k),ee!=null&&(jt=3*Gt+Ct+131074>>2,N(ee[ne+ht-1],255&jt,jt>>16,De,st+(ht-1)*k)))}}function yt(){Sa[Ua]=zo,Sa[ou]=uo,Sa[oo]=Il,Sa[y0]=kf,Sa[hc]=Lf,Sa[Po]=uu,Sa[Of]=Df,Sa[w0]=uo,Sa[Ll]=kf,Sa[Fo]=Lf,Sa[lu]=uu}function Lt(b){return b&-16384?0>b?0:255:b>>j2}function $t(b,N){return Lt((19077*b>>8)+(26149*N>>8)-14234)}function ur(b,N,k){return Lt((19077*b>>8)-(6419*N>>8)-(13320*k>>8)+8708)}function sr(b,N){return Lt((19077*b>>8)+(33050*N>>8)-17685)}function Cr(b,N,k,z,K){z[K+0]=$t(b,k),z[K+1]=ur(b,N,k),z[K+2]=sr(b,N)}function An(b,N,k,z,K){z[K+0]=sr(b,N),z[K+1]=ur(b,N,k),z[K+2]=$t(b,k)}function kn(b,N,k,z,K){var ee=ur(b,N,k);N=ee<<3&224|sr(b,N)>>3,z[K+0]=248&$t(b,k)|ee>>5,z[K+1]=N}function Xn(b,N,k,z,K){var ee=240&sr(b,N)|15;z[K+0]=240&$t(b,k)|ur(b,N,k)>>4,z[K+1]=ee}function Yn(b,N,k,z,K){z[K+0]=255,Cr(b,N,k,z,K+1)}function wa(b,N,k,z,K){An(b,N,k,z,K),z[K+3]=255}function Rs(b,N,k,z,K){Cr(b,N,k,z,K),z[K+3]=255}function Vi(b,N){return 0>b?0:b>N?N:b}function ks(b,N,k){D[b]=function(z,K,ee,ne,ie,le,me,Oe,Ve){for(var qe=Oe+(-2&Ve)*k;Oe!=qe;)N(z[K+0],ee[ne+0],ie[le+0],me,Oe),N(z[K+1],ee[ne+0],ie[le+0],me,Oe+k),K+=2,++ne,++le,Oe+=2*k;1&Ve&&N(z[K+0],ee[ne+0],ie[le+0],me,Oe)}}function m0(b,N,k){return k==0?b==0?N==0?6:5:N==0?4:0:k}function Ro(b,N,k,z,K){switch(b>>>30){case 3:Ds(N,k,z,K,0);break;case 2:zn(N,k,z,K);break;case 1:ta(N,k,z,K)}}function ko(b,N){var k,z,K=N.M,ee=N.Nb,ne=b.oc,ie=b.pc+40,le=b.oc,me=b.pc+584,Oe=b.oc,Ve=b.pc+600;for(k=0;16>k;++k)ne[ie+32*k-1]=129;for(k=0;8>k;++k)le[me+32*k-1]=129,Oe[Ve+32*k-1]=129;for(0<K?ne[ie-1-32]=le[me-1-32]=Oe[Ve-1-32]=129:(a(ne,ie-32-1,127,21),a(le,me-32-1,127,9),a(Oe,Ve-32-1,127,9)),z=0;z<b.za;++z){var qe=N.ya[N.aa+z];if(0<z){for(k=-1;16>k;++k)n(ne,ie+32*k-4,ne,ie+32*k+12,4);for(k=-1;8>k;++k)n(le,me+32*k-4,le,me+32*k+4,4),n(Oe,Ve+32*k-4,Oe,Ve+32*k+4,4)}var Pe=b.Gd,dt=b.Hd+z,Qe=qe.ad,Re=qe.Hc;if(0<K&&(n(ne,ie-32,Pe[dt].y,0,16),n(le,me-32,Pe[dt].f,0,8),n(Oe,Ve-32,Pe[dt].ea,0,8)),qe.Za){var De=ne,st=ie-32+16;for(0<K&&(z>=b.za-1?a(De,st,Pe[dt].y[15],4):n(De,st,Pe[dt+1].y,0,4)),k=0;4>k;k++)De[st+128+k]=De[st+256+k]=De[st+384+k]=De[st+0+k];for(k=0;16>k;++k,Re<<=2)De=ne,st=ie+xc[k],ii[qe.Ob[k]](De,st),Ro(Re,Qe,16*+k,De,st)}else if(De=m0(z,K,qe.Ob[0]),Uo[De](ne,ie),Re!=0)for(k=0;16>k;++k,Re<<=2)Ro(Re,Qe,16*+k,ne,ie+xc[k]);for(k=qe.Gc,De=m0(z,K,qe.Dd),Xi[De](le,me),Xi[De](Oe,Ve),Re=Qe,De=le,st=me,255&(qe=k>>0)&&(170&qe?Is(Re,256,De,st):Si(Re,256,De,st)),qe=Oe,Re=Ve,255&(k>>=8)&&(170&k?Is(Qe,320,qe,Re):Si(Qe,320,qe,Re)),K<b.Ub-1&&(n(Pe[dt].y,0,ne,ie+480,16),n(Pe[dt].f,0,le,me+224,8),n(Pe[dt].ea,0,Oe,Ve+224,8)),k=8*ee*b.B,Pe=b.sa,dt=b.ta+16*z+16*ee*b.R,Qe=b.qa,qe=b.ra+8*z+k,Re=b.Ha,De=b.Ia+8*z+k,k=0;16>k;++k)n(Pe,dt+k*b.R,ne,ie+32*k,16);for(k=0;8>k;++k)n(Qe,qe+k*b.B,le,me+32*k,8),n(Re,De+k*b.B,Oe,Ve+32*k,8)}}function ru(b,N,k,z,K,ee,ne,ie,le){var me=[0],Oe=[0],Ve=0,qe=le!=null?le.kd:0,Pe=le!=null?le:new h0;if(b==null||12>k)return 7;Pe.data=b,Pe.w=N,Pe.ha=k,N=[N],k=[k],Pe.gb=[Pe.gb];e:{var dt=N,Qe=k,Re=Pe.gb;if(e(b!=null),e(Qe!=null),e(Re!=null),Re[0]=0,12<=Qe[0]&&!t(b,dt[0],"RIFF")){if(t(b,dt[0]+8,"WEBP")){Re=3;break e}var De=rt(b,dt[0]+4);if(12>De||4294967286<De){Re=3;break e}if(qe&&De>Qe[0]-8){Re=7;break e}Re[0]=De,dt[0]+=12,Qe[0]-=12}Re=0}if(Re!=0)return Re;for(De=0<Pe.gb[0],k=k[0];;){e:{var st=b;Qe=N,Re=k;var ht=me,ct=Oe,Dt=dt=[0];if((jt=Ve=[Ve])[0]=0,8>Re[0])Re=7;else{if(!t(st,Qe[0],"VP8X")){if(rt(st,Qe[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Ct=rt(st,Qe[0]+8),Gt=1+Be(st,Qe[0]+12);if(2147483648<=Gt*(st=1+Be(st,Qe[0]+15))){Re=3;break e}Dt!=null&&(Dt[0]=Ct),ht!=null&&(ht[0]=Gt),ct!=null&&(ct[0]=st),Qe[0]+=18,Re[0]-=18,jt[0]=1}Re=0}}if(Ve=Ve[0],dt=dt[0],Re!=0)return Re;if(Qe=!!(2&dt),!De&&Ve)return 3;if(ee!=null&&(ee[0]=!!(16&dt)),ne!=null&&(ne[0]=Qe),ie!=null&&(ie[0]=0),ne=me[0],dt=Oe[0],Ve&&Qe&&le==null){Re=0;break}if(4>k){Re=7;break}if(De&&Ve||!De&&!Ve&&!t(b,N[0],"ALPH")){k=[k],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{Ct=b,Re=N,De=k;var jt=Pe.gb;ht=Pe.na,ct=Pe.P,Dt=Pe.Sa,Gt=22,e(Ct!=null),e(De!=null),st=Re[0];var Ir=De[0];for(e(ht!=null),e(Dt!=null),ht[0]=null,ct[0]=null,Dt[0]=0;;){if(Re[0]=st,De[0]=Ir,8>Ir){Re=7;break e}var qr=rt(Ct,st+4);if(4294967286<qr){Re=3;break e}var xr=8+qr+1&-2;if(Gt+=xr,0<jt&&Gt>jt){Re=3;break e}if(!t(Ct,st,"VP8 ")||!t(Ct,st,"VP8L")){Re=0;break e}if(Ir[0]<xr){Re=7;break e}t(Ct,st,"ALPH")||(ht[0]=Ct,ct[0]=st+8,Dt[0]=qr),st+=xr,Ir-=xr}}if(k=k[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Re!=0)break}k=[k],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(jt=b,Re=N,De=k,ht=Pe.gb[0],ct=Pe.Ja,Dt=Pe.xa,Ct=Re[0],st=!t(jt,Ct,"VP8 "),Gt=!t(jt,Ct,"VP8L"),e(jt!=null),e(De!=null),e(ct!=null),e(Dt!=null),8>De[0])Re=7;else{if(st||Gt){if(jt=rt(jt,Ct+4),12<=ht&&jt>ht-12){Re=3;break e}if(qe&&jt>De[0]-8){Re=7;break e}ct[0]=jt,Re[0]+=8,De[0]-=8,Dt[0]=Gt}else Dt[0]=5<=De[0]&&jt[Ct+0]==47&&!(jt[Ct+4]>>5),ct[0]=De[0];Re=0}if(k=k[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],N=N[0],Re!=0)break;if(4294967286<Pe.Ja)return 3;if(ie==null||Qe||(ie[0]=Pe.xa?2:1),ne=[ne],dt=[dt],Pe.xa){if(5>k){Re=7;break}ie=ne,qe=dt,Qe=ee,b==null||5>k?b=0:5<=k&&b[N+0]==47&&!(b[N+4]>>5)?(De=[0],jt=[0],ht=[0],we(ct=new R,b,N,k),qt(ct,De,jt,ht)?(ie!=null&&(ie[0]=De[0]),qe!=null&&(qe[0]=jt[0]),Qe!=null&&(Qe[0]=ht[0]),b=1):b=0):b=0}else{if(10>k){Re=7;break}ie=dt,b==null||10>k||!ni(b,N+3,k-3)?b=0:(qe=b[N+0]|b[N+1]<<8|b[N+2]<<16,Qe=16383&(b[N+7]<<8|b[N+6]),b=16383&(b[N+9]<<8|b[N+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Pe.Ja||!Qe||!b?b=0:(ne&&(ne[0]=Qe),ie&&(ie[0]=b),b=1))}if(!b||(ne=ne[0],dt=dt[0],Ve&&(me[0]!=ne||Oe[0]!=dt)))return 3;le!=null&&(le[0]=Pe,le.offset=N-le.w,e(4294967286>N-le.w),e(le.offset==le.ha-k));break}return Re==0||Re==7&&Ve&&le==null?(ee!=null&&(ee[0]|=Pe.na!=null&&0<Pe.na.length),z!=null&&(z[0]=ne),K!=null&&(K[0]=dt),0):Re}function _l(b,N,k){var z=N.width,K=N.height,ee=0,ne=0,ie=z,le=K;if(N.Da=b!=null&&0<b.Da,N.Da&&(ie=b.cd,le=b.bd,ee=b.v,ne=b.j,11>k||(ee&=-2,ne&=-2),0>ee||0>ne||0>=ie||0>=le||ee+ie>z||ne+le>K))return 0;if(N.v=ee,N.j=ne,N.va=ee+ie,N.o=ne+le,N.U=ie,N.T=le,N.da=b!=null&&0<b.da,N.da){if(!ke(ie,le,k=[b.ib],ee=[b.hb]))return 0;N.ib=k[0],N.hb=ee[0]}return N.ob=b!=null&&b.ob,N.Kb=b==null||!b.Sd,N.da&&(N.ob=N.ib<3*z/4&&N.hb<3*K/4,N.Kb=0),1}function nu(b){if(b==null)return 2;if(11>b.S){var N=b.f.RGBA;N.fb+=(b.height-1)*N.A,N.A=-N.A}else N=b.f.kb,b=b.height,N.O+=(b-1)*N.fa,N.fa=-N.fa,N.N+=(b-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(b-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(b-1)*N.lb,N.lb=-N.lb);return 0}function sc(b,N,k,z){if(z==null||0>=b||0>=N)return 2;if(k!=null){if(k.Da){var K=k.cd,ee=k.bd,ne=-2&k.v,ie=-2&k.j;if(0>ne||0>ie||0>=K||0>=ee||ne+K>b||ie+ee>N)return 2;b=K,N=ee}if(k.da){if(!ke(b,N,K=[k.ib],ee=[k.hb]))return 2;b=K[0],N=ee[0]}}z.width=b,z.height=N;e:{var le=z.width,me=z.height;if(b=z.S,0>=le||0>=me||!(b>=Ua&&13>b))b=2;else{if(0>=z.Rd&&z.sd==null){ne=ee=K=N=0;var Oe=(ie=le*up[b])*me;if(11>b||(ee=(me+1)/2*(N=(le+1)/2),b==12&&(ne=(K=le)*me)),(me=i(Oe+2*ee+ne))==null){b=1;break e}z.sd=me,11>b?((le=z.f.RGBA).eb=me,le.fb=0,le.A=ie,le.size=Oe):((le=z.f.kb).y=me,le.O=0,le.fa=ie,le.Fd=Oe,le.f=me,le.N=0+Oe,le.Ab=N,le.Cd=ee,le.ea=me,le.W=0+Oe+ee,le.Db=N,le.Ed=ee,b==12&&(le.F=me,le.J=0+Oe+2*ee),le.Tc=ne,le.lb=K)}if(N=1,K=z.S,ee=z.width,ne=z.height,K>=Ua&&13>K)if(11>K)b=z.f.RGBA,N&=(ie=Math.abs(b.A))*(ne-1)+ee<=b.size,N&=ie>=ee*up[K],N&=b.eb!=null;else{b=z.f.kb,ie=(ee+1)/2,Oe=(ne+1)/2,le=Math.abs(b.fa),me=Math.abs(b.Ab);var Ve=Math.abs(b.Db),qe=Math.abs(b.lb),Pe=qe*(ne-1)+ee;N&=le*(ne-1)+ee<=b.Fd,N&=me*(Oe-1)+ie<=b.Cd,N=(N&=Ve*(Oe-1)+ie<=b.Ed)&le>=ee&me>=ie&Ve>=ie,N&=b.y!=null,N&=b.f!=null,N&=b.ea!=null,K==12&&(N&=qe>=ee,N&=Pe<=b.Tc,N&=b.F!=null)}else N=0;b=N?0:2}}return b!=0||k!=null&&k.fd&&(b=nu(z)),b}var ca=64,Sl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],oc=24,lc=32,au=8,bi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,N,k){return N[k+0]},D.Predictor3=function(b,N,k){return N[k+1]},D.Predictor4=function(b,N,k){return N[k-1]},D.Predictor5=function(b,N,k){return mt(mt(b,N[k+1]),N[k+0])},D.Predictor6=function(b,N,k){return mt(b,N[k-1])},D.Predictor7=function(b,N,k){return mt(b,N[k+0])},D.Predictor8=function(b,N,k){return mt(N[k-1],N[k+0])},D.Predictor9=function(b,N,k){return mt(N[k+0],N[k+1])},D.Predictor10=function(b,N,k){return mt(mt(b,N[k-1]),mt(N[k+0],N[k+1]))},D.Predictor11=function(b,N,k){var z=N[k+0];return 0>=zt(z>>24&255,b>>24&255,(N=N[k-1])>>24&255)+zt(z>>16&255,b>>16&255,N>>16&255)+zt(z>>8&255,b>>8&255,N>>8&255)+zt(255&z,255&b,255&N)?z:b},D.Predictor12=function(b,N,k){var z=N[k+0];return(vt((b>>24&255)+(z>>24&255)-((N=N[k-1])>>24&255))<<24|vt((b>>16&255)+(z>>16&255)-(N>>16&255))<<16|vt((b>>8&255)+(z>>8&255)-(N>>8&255))<<8|vt((255&b)+(255&z)-(255&N)))>>>0},D.Predictor13=function(b,N,k){var z=N[k-1];return(Tt((b=mt(b,N[k+0]))>>24&255,z>>24&255)<<24|Tt(b>>16&255,z>>16&255)<<16|Tt(b>>8&255,z>>8&255)<<8|Tt(b>>0&255,z>>0&255))>>>0};var dh=D.PredictorAdd0;D.PredictorAdd1=It,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var x0=D.PredictorAdd2;cr("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),cr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Tf,cs=D.ColorIndexInverseTransform,ba=D.MapARGB,El=D.VP8LColorIndexInverseTransformAlpha,v0=D.MapAlpha,Lo=D.VP8LPredictorsAdd=[];Lo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Al,ai,Ta,Nl,_i,Ls,io,Ds,zn,Is,ta,Si,cc,so,iu,Cl,Tl,jl,uc,su,Ol,Do,fc,Hn,Gi,wr,br,xn,Kn=i(511),us=i(2041),Rl=i(225),kl=i(767),Io=0,jf=us,dc=Rl,_a=kl,fs=Kn,Ua=0,ou=1,oo=2,y0=3,hc=4,Po=5,Of=6,w0=7,Ll=8,Fo=9,lu=10,Rf=[2,3,7],ds=[3,3,11],Wi=[280,256,256,256,40],pc=[0,1,1,1,0],Mo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ip=8,b0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ua=null,qn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ur=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Uo=[],ii=[],Xi=[],op=1,cu=2,co=[],Sa=[];nt("UpsampleRgbLinePair",Cr,3),nt("UpsampleBgrLinePair",An,3),nt("UpsampleRgbaLinePair",Rs,4),nt("UpsampleBgraLinePair",wa,4),nt("UpsampleArgbLinePair",Yn,4),nt("UpsampleRgba4444LinePair",Xn,2),nt("UpsampleRgb565LinePair",kn,2);var zo=D.UpsampleRgbLinePair,Il=D.UpsampleBgrLinePair,uo=D.UpsampleRgbaLinePair,kf=D.UpsampleBgraLinePair,Lf=D.UpsampleArgbLinePair,uu=D.UpsampleRgba4444LinePair,Df=D.UpsampleRgb565LinePair,fo=16,fa=1<<fo-1,Pl=-227,If=482,j2=6,lp=0,O2=i(256),da=i(256),ph=i(256),S0=i(256),E0=i(If-Pl),gh=i(If-Pl);ks("YuvToRgbRow",Cr,3),ks("YuvToBgrRow",An,3),ks("YuvToRgbaRow",Rs,4),ks("YuvToBgraRow",wa,4),ks("YuvToArgbRow",Yn,4),ks("YuvToRgba4444Row",Xn,2),ks("YuvToRgb565Row",kn,2);var xc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ho=[0,2,8],R2=[8,7,6,4,4,2,2,2,1,1,1,1],cp=1;this.WebPDecodeRGBA=function(b,N,k,z,K){var ee=ou,ne=new Jc,ie=new ei;ne.ba=ie,ie.S=ee,ie.width=[ie.width],ie.height=[ie.height];var le=ie.width,me=ie.height,Oe=new ti;if(Oe==null||b==null)var Ve=2;else e(Oe!=null),Ve=ru(b,N,k,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(Ve!=0?le=0:(le!=null&&(le[0]=Oe.width[0]),me!=null&&(me[0]=Oe.height[0]),le=1),le){ie.width=ie.width[0],ie.height=ie.height[0],z!=null&&(z[0]=ie.width),K!=null&&(K[0]=ie.height);e:{if(z=new ss,(K=new h0).data=b,K.w=N,K.ha=k,K.kd=1,N=[0],e(K!=null),((b=ru(K.data,K.w,K.ha,null,null,null,N,null,K))==0||b==7)&&N[0]&&(b=4),(N=b)==0){if(e(ne!=null),z.data=K.data,z.w=K.w+K.offset,z.ha=K.ha-K.offset,z.put=Bi,z.ac=Gn,z.bc=is,z.ma=ne,K.xa){if((b=et())==null){ne=1;break e}if(function(qe,Pe){var dt=[0],Qe=[0],Re=[0];t:for(;;){if(qe==null)return 0;if(Pe==null)return qe.a=2,0;if(qe.l=Pe,qe.a=0,we(qe.m,Pe.data,Pe.w,Pe.ha),!qt(qe.m,dt,Qe,Re)){qe.a=3;break t}if(qe.xb=cu,Pe.width=dt[0],Pe.height=Qe[0],!Fe(dt[0],Qe[0],1,qe,null))break t;return 1}return e(qe.a!=0),0}(b,z)){if(z=(N=sc(z.width,z.height,ne.Oa,ne.ba))==0){t:{z=b;r:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((k=z.l)!=null),e((K=k.ma)!=null),z.xb!=0){if(z.ca=K.ba,z.tb=K.tb,e(z.ca!=null),!_l(K.Oa,k,y0)){z.a=2;break r}if(!Ge(z,k.width)||k.da)break r;if((k.da||Rr(z.ca.S))&&Ue(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Ue()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!ft(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!_e(z,z.V,z.Ba,z.c,z.i,k.o,be))break r;K.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(N=b.a)}else N=b.a}else{if((b=new Hi)==null){ne=1;break e}if(b.Fa=K.na,b.P=K.P,b.qc=K.Sa,a0(b,z)){if((N=sc(z.width,z.height,ne.Oa,ne.ba))==0){if(b.Aa=0,k=ne.Oa,e((K=b)!=null),k!=null){if(0<(le=0>(le=k.Md)?0:100<le?255:255*le/100)){for(me=Oe=0;4>me;++me)12>(Ve=K.pb[me]).lc&&(Ve.ia=le*R2[0>Ve.lc?0:Ve.lc]>>3),Oe|=Ve.ia;Oe&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=k.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}wf(b,z)||(N=b.a)}}else N=b.a}N==0&&ne.Oa!=null&&ne.Oa.fd&&(N=nu(ne.ba))}ne=N}ee=ne!=0?null:11>ee?ie.f.RGBA.eb:ie.f.kb.y}else ee=null;return ee};var up=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,O){for(var q="",I=0;I<4;I++)q+=String.fromCharCode(D[O++]);return q}function d(D,O){return(D[O+0]<<0|D[O+1]<<8|D[O+2]<<16)>>>0}function p(D,O){return(D[O+0]<<0|D[O+1]<<8|D[O+2]<<16|D[O+3]<<24)>>>0}new c;var g=[0],m=[0],y=[],w=new c,_=r,S=function(D,O){var q={},I=0,U=!1,X=0,ae=0;if(q.frames=[],!function(P,H,G,J){for(var Ee=0;Ee<J;Ee++)if(P[H+Ee]!=G.charCodeAt(Ee))return!0;return!1}(D,O,"RIFF",4)){for(p(D,O+=4),O+=8;O<D.length;){var Se=u(D,O),Q=p(D,O+=4);O+=4;var ce=Q+(1&Q);switch(Se){case"VP8 ":case"VP8L":q.frames[I]===void 0&&(q.frames[I]={}),(Y=q.frames[I]).src_off=U?ae:O-8,Y.src_size=X+Q+8,I++,U&&(U=!1,X=0,ae=0);break;case"VP8X":(Y=q.header={}).feature_flags=D[O];var we=O+4;Y.canvas_width=1+d(D,we),we+=3,Y.canvas_height=1+d(D,we),we+=3;break;case"ALPH":U=!0,X=ce+8,ae=O-8;break;case"ANIM":(Y=q.header).bgcolor=p(D,O),we=O+4,Y.loop_count=(xe=D)[(R=we)+0]<<0|xe[R+1]<<8,we+=2;break;case"ANMF":var ue,Y;(Y=q.frames[I]={}).offset_x=2*d(D,O),O+=3,Y.offset_y=2*d(D,O),O+=3,Y.width=1+d(D,O),O+=3,Y.height=1+d(D,O),O+=3,Y.duration=d(D,O),O+=3,ue=D[O++],Y.dispose=1&ue,Y.blend=ue>>1&1}Se!="ANMF"&&(O+=ce)}var xe,R;return q}}(_,0);S.response=_,S.rgbaoutput=!0,S.dataurl=!1;var A=S.header?S.header:null,C=S.frames?S.frames:null;if(A){A.loop_counter=A.loop_count,g=[A.canvas_height],m=[A.canvas_width];for(var L=0;L<C.length&&C[L].blend!=0;L++);}var B=C[0],M=w.WebPDecodeRGBA(_,B.src_off,B.src_size,m,g);B.rgba=M,B.imgwidth=m[0],B.imgheight=g[0];for(var F=0;F<m[0]*g[0]*4;F++)y[F]=M[F];return this.width=m,this.height=g,this.data=y,this}(function(r){var e=function(){return typeof ry=="function"},t=function(g,m,y,w){var _=4,S=s;switch(w){case r.image_compression.FAST:_=1,S=i;break;case r.image_compression.MEDIUM:_=6,S=o;break;case r.image_compression.SLOW:_=9,S=c}g=n(g,m,y,S);var A=ry(g,{level:_});return r.__addimage__.arrayBufferToBinaryString(A)},n=function(g,m,y,w){for(var _,S,A,C=g.length/m,L=new Uint8Array(g.length+C),B=d(),M=0;M<C;M+=1){if(A=M*m,_=g.subarray(A,A+m),w)L.set(w(_,y,S),A+M);else{for(var F,D=B.length,O=[];F<D;F+=1)O[F]=B[F](_,y,S);var q=p(O.concat());L.set(O[q],A+M)}S=_}return L},a=function(g){var m=Array.apply([],g);return m.unshift(0),m},i=function(g,m){var y,w=[],_=g.length;w[0]=1;for(var S=0;S<_;S+=1)y=g[S-m]||0,w[S+1]=g[S]-y+256&255;return w},s=function(g,m,y){var w,_=[],S=g.length;_[0]=2;for(var A=0;A<S;A+=1)w=y&&y[A]||0,_[A+1]=g[A]-w+256&255;return _},o=function(g,m,y){var w,_,S=[],A=g.length;S[0]=3;for(var C=0;C<A;C+=1)w=g[C-m]||0,_=y&&y[C]||0,S[C+1]=g[C]+256-(w+_>>>1)&255;return S},c=function(g,m,y){var w,_,S,A,C=[],L=g.length;C[0]=4;for(var B=0;B<L;B+=1)w=g[B-m]||0,_=y&&y[B]||0,S=y&&y[B-m]||0,A=u(w,_,S),C[B+1]=g[B]-A+256&255;return C},u=function(g,m,y){if(g===m&&m===y)return g;var w=Math.abs(m-y),_=Math.abs(g-y),S=Math.abs(g+m-y-y);return w<=_&&w<=S?g:_<=S?m:y},d=function(){return[a,i,s,o,c]},p=function(g){var m=g.map(function(y){return y.reduce(function(w,_){return w+Math.abs(_)},0)});return m.indexOf(Math.min.apply(null,m))};r.processPNG=function(g,m,y,w){var _,S,A,C,L,B,M,F,D,O,q,I,U,X,ae,Se=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(A=new Tk(g)).imgData,S=A.bits,_=A.colorSpace,L=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){D=(F=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,q=new Uint8Array(D*A.colors),O=new Uint8Array(D);var ce,we=A.pixelBitlength-A.bits;for(X=0,ae=0;X<D;X++){for(U=F[X],ce=0;ce<we;)q[ae++]=U>>>ce&255,ce+=A.bits;O[X]=U>>>ce&255}}if(A.bits===16){D=(F=new Uint32Array(A.decodePixels().buffer)).length,q=new Uint8Array(D*(32/A.pixelBitlength)*A.colors),O=new Uint8Array(D*(32/A.pixelBitlength)),I=A.colors>1,X=0,ae=0;for(var ue=0;X<D;)U=F[X++],q[ae++]=U>>>0&255,I&&(q[ae++]=U>>>16&255,U=F[X++],q[ae++]=U>>>0&255),O[ue++]=U>>>16&255;S=8}w!==r.image_compression.NONE&&e()?(g=t(q,A.width*A.colors,A.colors,w),M=t(O,A.width,1,w)):(g=q,M=O,Se=void 0)}if(A.colorType===3&&(_=this.color_spaces.INDEXED,B=A.palette,A.transparency.indexed)){var Y=A.transparency.indexed,xe=0;for(X=0,D=Y.length;X<D;++X)xe+=Y[X];if((xe/=255)===D-1&&Y.indexOf(0)!==-1)C=[Y.indexOf(0)];else if(xe!==D){for(F=A.decodePixels(),O=new Uint8Array(F.length),X=0,D=F.length;X<D;X++)O[X]=Y[F[X]];M=t(O,A.width,1)}}var R=function(P){var H;switch(P){case r.image_compression.FAST:H=11;break;case r.image_compression.MEDIUM:H=13;break;case r.image_compression.SLOW:H=14;break;default:H=12}return H}(w);return Se===this.decode.FLATE_DECODE&&(Q="/Predictor "+R+" "),Q+="/Colors "+L+" /BitsPerComponent "+S+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:y,data:g,index:m,filter:Se,decodeParameters:Q,transparency:C,palette:B,sMask:M,predictor:R,width:A.width,height:A.height,bitsPerComponent:S,colorSpace:_}}}})(Qt.API),function(r){r.processGIF89A=function(e,t,n,a){var i=new jk(e),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},d=new cv(100).encode(u,100);return r.processJPEG.call(this,d,t,n,a)},r.processGIF87A=r.processGIF89A}(Qt.API),Ko.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ko.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){En.log("bit decode error:"+t)}},Ko.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Ko.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Ko.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},Ko.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=r}},Ko.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&t)/t*255|0,u=(s>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=r}},Ko.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ko.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Ko.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,a){var i=new Ko(e,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new cv(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}}(Qt.API),l3.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,a){var i=new l3(e),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new cv(100).encode(c,100);return r.processJPEG.call(this,u,t,n,a)}}(Qt.API),Qt.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var d=n[u],p=n[u+1],g=n[u+2],m=n[u+3];i[o++]=d,i[o++]=p,i[o++]=g,s[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Qt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gd=Qt.API,fg=gd.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,p=e.doKerning!==!1,g=0,m=r.length,y=0,w=o[0]||c,_=[];for(t=0;t<m;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(g=p&&hn(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,_.push((o[n]||w)/c+g)),y=n;return _},a3=gd.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return gd.processArabic&&(r=gd.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:fg.apply(this,arguments).reduce(function(i,s){return i+s},0)},i3=function(r,e,t,n){for(var a=[],i=0,s=r.length,o=0;i!==s&&o+e[i]<t;)o+=e[i],i++;a.push(r.slice(0,i));var c=i;for(o=0;i!==s;)o+e[i]>n&&(a.push(r.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&a.push(r.slice(c,i)),a},s3=function(r,e,t){t||(t={});var n,a,i,s,o,c,u,d=[],p=[d],g=t.textIndent||0,m=0,y=0,w=r.split(" "),_=fg.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var S=Array(c).join(" "),A=[];w.map(function(L){(L=L.split(/\s*\n/)).length>1?A=A.concat(L.map(function(B,M){return(M&&B.length?`
`:"")+B})):A.push(L[0])}),w=A,c=a3.apply(this,[S,t])}for(i=0,s=w.length;i<s;i++){var C=0;if(n=w[i],c&&n[0]==`
`&&(n=n.substr(1),C=1),g+m+(y=(a=fg.apply(this,[n,t])).reduce(function(L,B){return L+B},0))>e||C){if(y>e){for(o=i3.apply(this,[n,a,e-(g+m),e]),d.push(o.shift()),d=[o.pop()];o.length;)p.push([o.shift()]);y=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(L,B){return L+B},0)}else d=[n];p.push(d),g=y+c,m=_}else d.push(n),g+=m+y,m=_}return u=c?function(L,B){return(B?S:"")+L.join(" ")}:function(L){return L.join(" ")},p.map(u)},gd.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),i=function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=t.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(s3.apply(this,[n[o],s,i]));return u},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},a=0;a<e.length;a++)t[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(p){return"0x"+parseInt(p,10).toString(16)},s=r.__fontmetrics__.compress=function(p){var g,m,y,w,_=["{"];for(var S in p){if(g=p[S],isNaN(parseInt(S,10))?m="'"+S+"'":(S=parseInt(S,10),m=(m=i(S).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof g=="number")g<0?(y=i(g).slice(3),w="-"):(y=i(g).slice(2),w=""),y=w+y.slice(0,-1)+n[y.slice(-1)];else{if(hn(g)!=="object")throw new Error("Don't know what to do with value type "+hn(g)+".");y=s(g)}_.push(m+y)}return _.push("}"),_.join("")},o=r.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,y,w,_={},S=1,A=_,C=[],L="",B="",M=p.length-1,F=1;F<M;F+=1)(w=p[F])=="'"?g?(y=g.join(""),g=void 0):g=[]:g?g.push(w):w=="{"?(C.push([A,y]),A={},y=void 0):w=="}"?((m=C.pop())[0][m[1]]=A,y=void 0,A=m[0]):w=="-"?S=-1:y===void 0?t.hasOwnProperty(w)?(L+=t[w],y=parseInt(L,16)*S,S=1,L=""):L+=w:t.hasOwnProperty(w)?(B+=t[w],A[y]=parseInt(B,16)*S,S=1,y=void 0,B=""):B+=w;return _},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(p){var g=p.font,m=d.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var y=u.Unicode[g.postScriptName];y&&(g.metadata.Unicode.encoding=y,g.encoding=y.codePages[0])}])}(Qt.API),function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,i=t.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(S1(o)),s.metadata=r.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Qt),function(r){function e(){return(nr.canvg?Promise.resolve(nr.canvg):Zs(()=>import("./index.es-BBFgdfEu.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Qt.API.addSvgAsImage=function(t,n,a,i,s,o,c,u){if(isNaN(n)||isNaN(a))throw En.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw En.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(y){return y.fromString(p,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(g)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),Qt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},Qt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,d=0,p=0;function g(y,w){var _,S=!1;for(_=0;_<y.length;_+=1)y[_]===w&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)t[o[p]].value=t[o[p]].defaultValue,t[o[p]].explicitSet=!1}if(hn(r)==="object"){for(a in r)if(i=r[a],g(o,a)&&i!==void 0){if(t[a].type==="boolean"&&typeof i=="boolean")t[a].value=i;else if(t[a].type==="name"&&g(t[a].valueSet,i))t[a].value=i;else if(t[a].type==="integer"&&Number.isInteger(i))t[a].value=i;else if(t[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}t[a].value="["+c.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in t)t[y].explicitSet===!0&&(t[y].type==="name"?w.push("/"+y+" /"+t[y].value):w.push("/"+y+" "+t[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Qt.API),function(r){var e=r.API,t=e.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],p=0,g=i.length;p<g;++p){if(o=s.metadata.characterToGlyph(i.charCodeAt(p)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(i){var s,o,c,u,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(o=Object.keys(i).sort(function(m,y){return m-y})).length;p<g;p++)s=o[p],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",y=0;y<g.length;y++)m+=String.fromCharCode(g[y]);var w=u();d({data:m,addLength1:!0,objectId:w}),c("endobj");var _=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var S=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Td(o.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var A=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Td(o.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+r.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+Td(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+A+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var y=u();d({data:g,addLength1:!0,objectId:y}),c("endobj");var w=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var _=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Td(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Td(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",c=i.x,u=i.y,d=i.options||{},p=i.mutex||{},g=p.pdfEscape,m=p.activeFontKey,y=p.fonts,w=m,_="",S=0,A="",C=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:p};for(A=o,w=m,Array.isArray(o)&&(A=o[0]),S=0;S<A.length;S+=1)y[w].metadata.hasOwnProperty("cmap")&&(s=y[w].metadata.cmap.unicode.codeMap[A[S].charCodeAt(0)]),s||A[S].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?_+=A[S]:_+="";var L="";return parseInt(w.slice(1))<14||C==="WinAnsiEncoding"?L=g(_,w).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(L=t(_,y[w])),p.isHex=!0,{text:L,x:c,y:u,options:d,mutex:p}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},c,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:s})).text}])}(Qt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Qt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,i,s,o,c,u,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,C=0;this.__bidiEngine__={};var L=function(I){var U=I.charCodeAt(),X=U>>8,ae=w[X];return ae!==void 0?p[256*ae+(255&U)]:X===252||X===253?"AL":S.test(X)?"L":X===8?"R":"N"},B=function(I){for(var U,X=0;X<I.length;X++){if((U=L(I.charAt(X)))==="L")return!1;if(U==="R")return!0}return!1},M=function(I,U,X,ae){var Se,Q,ce,we,ue=U[ae];switch(ue){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(ue="AN");break;case"AL":A=!0,ue="R";break;case"WS":ue="N";break;case"CS":ae<1||ae+1>=U.length||(Se=X[ae-1])!=="EN"&&Se!=="AN"||(Q=U[ae+1])!=="EN"&&Q!=="AN"?ue="N":A&&(Q="AN"),ue=Q===Se?Q:"N";break;case"ES":ue=(Se=ae>0?X[ae-1]:"B")==="EN"&&ae+1<U.length&&U[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&X[ae-1]==="EN"){ue="EN";break}if(A){ue="N";break}for(ce=ae+1,we=U.length;ce<we&&U[ce]==="ET";)ce++;ue=ce<we&&U[ce]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(we=U.length,ce=ae+1;ce<we&&U[ce]==="NSM";)ce++;if(ce<we){var Y=I[ae],xe=Y>=1425&&Y<=2303||Y===64286;if(Se=U[ce],xe&&(Se==="R"||Se==="AL")){ue="R";break}}}ue=ae<1||(Se=U[ae-1])==="B"?"N":X[ae-1];break;case"B":A=!1,a=!0,ue=C;break;case"S":i=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":ue="N"}return ue},F=function(I,U,X){var ae=I.split("");return X&&D(ae,X,{hiLevel:C}),ae.reverse(),U&&U.reverse(),ae.join("")},D=function(I,U,X){var ae,Se,Q,ce,we,ue=-1,Y=I.length,xe=0,R=[],P=C?m:g,H=[];for(A=!1,a=!1,i=!1,Se=0;Se<Y;Se++)H[Se]=L(I[Se]);for(Q=0;Q<Y;Q++){if(we=xe,R[Q]=M(I,H,R,Q),ae=240&(xe=P[we][y[R[Q]]]),xe&=15,U[Q]=ce=P[xe][5],ae>0)if(ae===16){for(Se=ue;Se<Q;Se++)U[Se]=1;ue=-1}else ue=-1;if(P[xe][6])ue===-1&&(ue=Q);else if(ue>-1){for(Se=ue;Se<Q;Se++)U[Se]=ce;ue=-1}H[Q]==="B"&&(U[Q]=0),X.hiLevel|=ce}i&&function(G,J,Ee){for(var ve=0;ve<Ee;ve++)if(G[ve]==="S"){J[ve]=C;for(var he=ve-1;he>=0&&G[he]==="WS";he--)J[he]=C}}(H,U,Y)},O=function(I,U,X,ae,Se){if(!(Se.hiLevel<I)){if(I===1&&C===1&&!a)return U.reverse(),void(X&&X.reverse());for(var Q,ce,we,ue,Y=U.length,xe=0;xe<Y;){if(ae[xe]>=I){for(we=xe+1;we<Y&&ae[we]>=I;)we++;for(ue=xe,ce=we-1;ue<ce;ue++,ce--)Q=U[ue],U[ue]=U[ce],U[ce]=Q,X&&(Q=X[ue],X[ue]=X[ce],X[ce]=Q);xe=we}xe++}}},q=function(I,U,X){var ae=I.split(""),Se={hiLevel:C};return X||(X=[]),D(ae,X,Se),function(Q,ce,we){if(we.hiLevel!==0&&d)for(var ue,Y=0;Y<Q.length;Y++)ce[Y]===1&&(ue=_.indexOf(Q[Y]))>=0&&(Q[Y]=_[ue+1])}(ae,X,Se),O(2,ae,U,X,Se),O(1,ae,U,X,Se),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(I,U,X){if(function(Se,Q){if(Q)for(var ce=0;ce<Se.length;ce++)Q[ce]=ce;o===void 0&&(o=B(Se)),u===void 0&&(u=B(Se))}(I,U),s||!c||u)if(s&&c&&o^u)C=o?1:0,I=F(I,U,X);else if(!s&&c&&u)C=o?1:0,I=q(I,U,X),I=F(I,U);else if(!s||o||c||u){if(s&&!c&&o^u)I=F(I,U),o?(C=0,I=q(I,U,X)):(C=1,I=q(I,U,X),I=F(I,U));else if(s&&o&&!c&&u)C=1,I=q(I,U,X),I=F(I,U);else if(!s&&!c&&o^u){var ae=d;o?(C=1,I=q(I,U,X),C=0,d=!1,I=q(I,U,X),d=ae):(C=0,I=q(I,U,X),I=F(I,U),C=1,d=!1,I=q(I,U,X),d=ae,I=F(I,U))}}else C=0,I=q(I,U,X);else C=o?1:0,I=q(I,U,X);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,c=I.isOutputVisual,o=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([t.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([t.doBidiReorder(a[o])]);n.text=s}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])}(Qt),Qt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Zu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new $k(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Ok(this.contents),this.head=new kk(this),this.name=new Fk(this),this.cmap=new DS(this),this.toUnicode={},this.hhea=new Lk(this),this.maxp=new Mk(this),this.hmtx=new Bk(this),this.post=new Ik(this),this.os2=new Dk(this),this.loca=new qk(this),this.glyf=new Uk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(t=a>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return s*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var hl,Zu=function(){function r(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,i,s,o,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)t=e[n],i.push(this.writeByte(t));return i},r}(),Ok=function(){var r;function e(t){var n,a,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,i,s,o,c,u,d,p,g,m,y,w;for(w in m=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(m)/c),s=Math.floor(p/c),d=16*m-p,(a=new Zu).writeInt(this.scalarType),a.writeShort(m),a.writeShort(p),a.writeShort(s),a.writeShort(d),i=16*m,u=a.pos+i,o=null,y=[],t)for(g=t[w],a.writeString(w),a.writeInt(r(g)),a.writeInt(u),a.writeInt(g.length),y=y.concat(g),w==="head"&&(o=u),u+=g.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-r(a.data),a.pos=o+8,a.writeUInt32(n),a.data},r=function(t){var n,a,i,s;for(t=IS.call(t);t.length%4;)t.push(0);for(i=new Zu(t),a=0,n=0,s=t.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),Rk={}.hasOwnProperty,tc=function(r,e){for(var t in e)Rk.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};hl=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var kk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Zu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),c3=function(){function r(e,t){var n,a,i,s,o,c,u,d,p,g,m,y,w,_,S,A,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,i=function(){var L,B;for(B=[],c=L=0;0<=g?L<g:L>g;c=0<=g?++L:--L)B.push(e.readUInt16());return B}(),e.pos+=2,w=function(){var L,B;for(B=[],c=L=0;0<=g?L<g:L>g;c=0<=g?++L:--L)B.push(e.readUInt16());return B}(),u=function(){var L,B;for(B=[],c=L=0;0<=g?L<g:L>g;c=0<=g?++L:--L)B.push(e.readUInt16());return B}(),d=function(){var L,B;for(B=[],c=L=0;0<=g?L<g:L>g;c=0<=g?++L:--L)B.push(e.readUInt16());return B}(),a=(this.length-e.pos+this.offset)/2,o=function(){var L,B;for(B=[],c=L=0;0<=a?L<a:L>a;c=0<=a?++L:--L)B.push(e.readUInt16());return B}(),c=S=0,C=i.length;S<C;c=++S)for(_=i[c],n=A=y=w[c];y<=_?A<=_:A>=_;n=y<=_?++A:--A)d[c]===0?s=n+u[c]:(s=o[d[c]/2+(n-y)-(g-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=p}return r.encode=function(e,t){var n,a,i,s,o,c,u,d,p,g,m,y,w,_,S,A,C,L,B,M,F,D,O,q,I,U,X,ae,Se,Q,ce,we,ue,Y,xe,R,P,H,G,J,Ee,ve,he,pe,Ne,Be;switch(ae=new Zu,s=Object.keys(e).sort(function(rt,ft){return rt-ft}),t){case"macroman":for(w=0,_=function(){var rt=[];for(y=0;y<256;++y)rt.push(0);return rt}(),A={0:0},i={},Se=0,ue=s.length;Se<ue;Se++)A[he=e[a=s[Se]]]==null&&(A[he]=++w),i[a]={old:e[a],new:A[e[a]]},_[a]=A[e[a]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(_),{charMap:i,subtable:ae.data,maxGlyphID:w+1};case"unicode":for(U=[],p=[],C=0,A={},n={},S=u=null,Q=0,Y=s.length;Q<Y;Q++)A[B=e[a=s[Q]]]==null&&(A[B]=++C),n[a]={old:B,new:A[B]},o=A[B]-a,S!=null&&o===u||(S&&p.push(S),U.push(a),u=o),S=a;for(S&&p.push(S),p.push(65535),U.push(65535),q=2*(O=U.length),D=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,F=2*O-D,c=[],M=[],m=[],y=ce=0,xe=U.length;ce<xe;y=++ce){if(I=U[y],d=p[y],I===65535){c.push(0),M.push(0);break}if(I-(X=n[I].new)>=32768)for(c.push(0),M.push(2*(m.length+O-y)),a=we=I;I<=d?we<=d:we>=d;a=I<=d?++we:--we)m.push(n[a].new);else c.push(X-I),M.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*O+2*m.length),ae.writeUInt16(0),ae.writeUInt16(q),ae.writeUInt16(D),ae.writeUInt16(g),ae.writeUInt16(F),Ee=0,R=p.length;Ee<R;Ee++)a=p[Ee],ae.writeUInt16(a);for(ae.writeUInt16(0),ve=0,P=U.length;ve<P;ve++)a=U[ve],ae.writeUInt16(a);for(pe=0,H=c.length;pe<H;pe++)o=c[pe],ae.writeUInt16(o);for(Ne=0,G=M.length;Ne<G;Ne++)L=M[Ne],ae.writeUInt16(L);for(Be=0,J=m.length;Be<J;Be++)w=m[Be],ae.writeUInt16(w);return{charMap:n,subtable:ae.data,maxGlyphID:C+1}}},r}(),DS=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,a,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new c3(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var a,i;return n==null&&(n="macroman"),a=c3.encode(t,n),(i=new Zu).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),Lk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Dk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(t.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Ik=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="post",e.prototype.parse=function(t){var n,a,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(a=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 196608:break;case 262144:return this.map=function(){var o,c,u;for(u=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)u.push(t.readUInt32());return u}.call(this)}},e}(),Pk=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Fk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="name",e.prototype.parse=function(t){var n,a,i,s,o,c,u,d,p,g,m;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(u={},s=p=0,g=a.length;p<g;s=++p)i=a[s],t.pos=i.offset,d=t.readString(i.length),o=new Pk(d,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(y){this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),Mk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Bk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,a,i,s,o,c,u;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,p;for(p=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)p.push(t.readInt16());return p}(),this.widths=function(){var d,p,g,m;for(m=[],d=0,p=(g=this.metrics).length;d<p;d++)s=g[d],m.push(s.advance);return m}.call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),IS=[].slice,Uk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,a,i,s,o,c,u,d,p,g;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+a,o=(c=new Zu(n.read(i))).readShort(),d=c.readShort(),g=c.readShort(),u=c.readShort(),p=c.readShort(),this.cache[t]=o===-1?new Hk(c,d,g,u,p):new zk(c,o,d,g,u,p),this.cache[t]))},e.prototype.encode=function(t,n,a){var i,s,o,c,u;for(o=[],s=[],c=0,u=n.length;c<u;c++)i=t[n[c]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},e}(),zk=function(){function r(e,t,n,a,i,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),Hk=function(){function r(e,t,n,a,i){var s,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Zu(IS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),qk=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return tc(e,hl),e.prototype.tag="loca",e.prototype.parse=function(t){var n,a;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*t.readUInt16());return s}.call(this):function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(t.readUInt32());return s}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),p=0;p<a.length;++p)d[4*p+3]=255&a[p],d[4*p+2]=(65280&a[p])>>8,d[4*p+1]=(16711680&a[p])>>16,d[4*p]=(4278190080&a[p])>>24;return d},e}(),$k=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,i;for(t in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,i,s,o,c;for(a={},s=0,o=e.length;s<o;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in t=[],a)(n=a[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in c=this.glyphsFor(t))n=c[i],a[i]=n;return a},r.prototype.encode=function(e,t){var n,a,i,s,o,c,u,d,p,g,m,y,w,_,S;for(a in n=DS.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),m={0:0},S=n.charMap)m[(c=S[a]).old]=c.new;for(y in g=n.maxGlyphID,s)y in m||(m[y]=g++);return d=function(A){var C,L;for(C in L={},A)L[A[C]]=C;return L}(m),p=Object.keys(d).sort(function(A,C){return A-C}),w=function(){var A,C,L;for(L=[],A=0,C=p.length;A<C;A++)o=p[A],L.push(d[o]);return L}(),i=this.font.glyf.encode(s,w,m),u=this.font.loca.encode(i.offsets,w),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},r}();Qt.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,i,s;if(Array.isArray(t))return"["+function(){var o,c,u;for(u=[],o=0,c=t.length;o<c;o++)n=t[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in i=["<<"],t)s=t[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+t},e}();function PS(r,e,t,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=o*c,d=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof r=="string"?r.split(d):r,g=p.length||1),t+=o*(2-i),n.valign==="middle"?t-=g/2*u:n.valign==="bottom"&&(t-=g*u),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),p&&g>=1){for(var y=0;y<p.length;y++)a.text(p[y],e-a.getStringUnitWidth(p[y])*m,t),t+=u;return a}e-=a.getStringUnitWidth(r)*m}return n.halign==="justify"?a.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(r,e,t),a}var u3={},Md=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:u3=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,a,i;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var d=r.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=r.unifyColor(e.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=r.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,a,i){return this.jsPDFDocument.rect(e,t,n,a,i)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return u3||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),cy=function(r,e){return cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},cy(r,e)};function FS(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cy(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var MS=function(r){FS(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e}(Array);function Vk(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Gk(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function Rm(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],a=n.map(function(i){return t.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function BS(r,e,t,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;r.applyStyles({lineWidth:a,lineColor:i});var s=US(a,!1);s&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,s)}function US(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function p2(r,e){var t,n,a,i;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(a=r.right)!==null&&a!==void 0?a:e,bottom:(i=r.bottom)!==null&&i!==void 0?i:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function zS(r,e){var t=p2(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function Wk(r,e,t,n,a){var i={},s=1.3333333333333333,o=uv(e,function(C){return a.getComputedStyle(C).backgroundColor});o!=null&&(i.fillColor=o);var c=uv(e,function(C){return a.getComputedStyle(C).color});c!=null&&(i.textColor=c);var u=Yk(n,t);u&&(i.cellPadding=u);var d="borderTopColor",p=s*t,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(i.lineWidth=m)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var y=uv(e,function(C){return a.getComputedStyle(C)[d]});y!=null&&(i.lineColor=y);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(i.fontSize=_/s);var S=Xk(n);S&&(i.fontStyle=S);var A=(n.fontFamily||"").toLowerCase();return r.indexOf(A)!==-1&&(i.font=A),i}function Xk(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function uv(r,e){var t=HS(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function HS(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:HS(r.parentElement,e):t}function Yk(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),a=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,i=t.map(function(o){return parseInt(o||"0")/n}),s=p2(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function qS(r,e,t,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var c=Object.keys(r.getFontList()),u=r.scaleFactor(),d=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:d,body:p,foot:g};for(var m=0;m<o.rows.length;m++){var y=o.rows[m],w=(s=(i=y==null?void 0:y.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),_=Kk(c,u,t,y,n,a);_&&(w==="thead"?d.push(_):w==="tfoot"?g.push(_):p.push(_))}return{head:d,body:p,foot:g}}function Kk(r,e,t,n,a,i){for(var s=new MS(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=t.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;i&&(d=Wk(r,c,e,u,t)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:Zk(c)})}}var p=t.getComputedStyle(n);if(s.length>0&&(a||p.display!=="none"))return s}function Zk(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function Jk(r,e,t){for(var n=0,a=[r,e,t];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Lc(r,e,t,n,a){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(r),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function $S(r,e){var t=new Md(r),n=t.getDocumentOptions(),a=t.getGlobalOptions();Jk(a,n,e);var i=Lc({},a,n,e),s;typeof window!="undefined"&&(s=window);var o=Qk(a,n,e),c=eL(a,n,e),u=tL(t,i),d=nL(t,i,s);return{id:e.tableId,content:d,hooks:c,styles:o,settings:u}}function Qk(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=r[c],d=e[c],p=t[c];n.columnStyles=Lc({},u,d,p)}else{var g=[r,e,t],m=g.map(function(y){return y[c]||{}});n[c]=Lc({},m[0],m[1],m[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function eL(r,e,t){for(var n=[r,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function tL(r,e){var t,n,a,i,s,o,c,u,d,p,g,m,y=p2(e.margin,40/r.scaleFactor()),w=(t=rL(r,e.startY))!==null&&t!==void 0?t:y.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var S;e.showHead===!0?S="everyPage":e.showHead===!1?S="never":S=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var A=(i=e.useCss)!==null&&i!==void 0?i:!1,C=e.theme||(A?"plain":"striped"),L=!!e.horizontalPageBreak,B=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:A,theme:C,startY:w,margin:y,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:S,showFoot:_,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:L,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function rL(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),a=r.pageNumber(),i=!1;if(t&&t.startPageNumber){var s=t.startPageNumber+t.pageNumber-1;i=s===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function nL(r,e,t){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(t){var o=qS(r,e.html,t,s,e.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||aL(n,a,i);return{columns:c,head:n,body:a,foot:i}}function aL(r,e,t){var n=r[0]||e[0]||t[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var uy=function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r}(),iL=function(r){FS(e,r);function e(t,n,a,i,s,o){var c=r.call(this,t,n,o)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return e}(uy),sL=function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,a,i,s){for(var o=0,c=t;o<c.length;o++){var u=c[o],d=new iL(e,this,n,a,i,s),p=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new uy(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new uy(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r}(),VS=function(){function r(e,t,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof MS&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=a,this.spansMultiplePages=i}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=t.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var a=t.cells[n.index];return a?a.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=t.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+o;return u>a?u:a},0)},r}(),GS=function(){function r(e,t,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=p2(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r}(),oL=function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(t=Math.max(t,s.styles.cellWidth))}return t},r}();function lL(r,e){cL(r,e);var t=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,t.push(i)),n+=i.width});var a=e.getWidth(r.pageSize().width)-n;a&&(a=fy(t,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=fy(t,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/r.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),fL(e),dL(e,r),uL(e)}function cL(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,a=zS(r,e);e.allRows().forEach(function(i){for(var s=0,o=e.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(r,d,u,i,c,null);var p=u.padding("horizontal");u.contentWidth=Rm(u.text,u.styles,r)+p;var g=Rm(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,r);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var m=10/t;u.minWidth=u.styles.minCellWidth||m,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,o=e.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=d.cellWidth||d.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function fy(r,e,t){for(var n=e,a=r.reduce(function(m,y){return m+y.wrappedWidth},0),i=0;i<r.length;i++){var s=r[i],o=s.wrappedWidth/a,c=n*o,u=s.width+c,d=t(s),p=u<d?d:u;e-=p-s.width,s.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=r.filter(function(m){return e<0?m.width>t(m):!0});g.length&&(e=fy(g,e,t))}return e}function uL(r){for(var e={},t=1,n=r.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=r.columns;s<o.length;s++){var c=o[s],u=e[c.index];if(t>1)t--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,t=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var p=n.length-a,g=d.rowSpan>p?p:d.rowSpan;e[c.index]={cell:d,left:g,row:i}}}}}function fL(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],a=null,i=0,s=0,o=0;o<r.columns.length;o++){var c=r.columns[o];if(s-=1,s>1&&r.columns[o+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(s=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function dL(r,e){for(var t={count:0,height:0},n=0,a=r.allRows();n<a.length;n++){for(var i=a[n],s=0,o=r.columns;s<o.length;s++){var c=o[s],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=f3(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=f3(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,d);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&t.count*t.height<g*u.rowSpan?t={height:g,count:u.rowSpan}:t&&t.count>0&&t.height>g&&(g=t.height),g>i.height&&(i.height=g)}}t.count--}}function f3(r,e,t,n,a){return r.map(function(i){return hL(i,e,t,n,a)})}function hL(r,e,t,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Rm(r,t,n))return r;for(;e<Rm(r+a,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+a}function WS(r,e){var t=new Md(r),n=pL(e,t.scaleFactor()),a=new sL(e,n);return lL(t,a),t.applyStyles(t.userStyles),a}function pL(r,e){var t=r.content,n=mL(t.columns);if(t.head.length===0){var a=d3(n,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=d3(n,"foot");a&&t.foot.push(a)}var i=r.settings.theme,s=r.styles;return{columns:n,head:fv("head",t.head,n,s,i,e),body:fv("body",t.body,n,s,i,e),foot:fv("foot",t.foot,n,s,i,e)}}function fv(r,e,t,n,a,i){var s={},o=e.map(function(c,u){for(var d=0,p={},g=0,m=0,y=0,w=t;y<w.length;y++){var _=w[y];if(s[_.index]==null||s[_.index].left===0)if(m===0){var S=void 0;Array.isArray(c)?S=c[_.index-g-d]:S=c[_.dataKey];var A={};typeof S=="object"&&!Array.isArray(S)&&(A=(S==null?void 0:S.styles)||{});var C=xL(r,_,u,a,n,i,A),L=new GS(S,C,r);p[_.dataKey]=L,p[_.index]=L,m=L.colSpan-1,s[_.index]={left:L.rowSpan-1,times:m}}else m--,g++;else s[_.index].left--,m=s[_.index].times,d++}return new VS(c,u,r,p)});return o}function d3(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var a=gL(e,n.raw);a!=null&&(t[n.dataKey]=a)}}),Object.keys(t).length>0?t:null}function gL(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function mL(r){return r.map(function(e,t){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:t:a=t,new oL(a,e,t)})}function xL(r,e,t,n,a,i,s){var o=Gk(n),c;r==="head"?c=a.headStyles:r==="body"?c=a.bodyStyles:r==="foot"&&(c=a.footStyles);var u=Lc({},o.table,o[r],a.styles,c),d=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},p=r==="body"?d:{},g=r==="body"&&t%2===0?Lc({},o.alternateRow,a.alternateRowStyles):{},m=Vk(i),y=Lc({},m,u,g,p);return Lc(y,s)}function vL(r,e,t){var n;t===void 0&&(t={});var a=zS(r,e),i=new Map,s=[],o=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var m=e.columns.find(function(y){return y.dataKey===g||y.index===g});m&&!i.has(m.index)&&(i.set(m.index,!0),s.push(m.index),o.push(e.columns[m.index]),a-=m.wrappedWidth)});for(var u=!0,d=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(i.has(d)){d++;continue}var p=e.columns[d].wrappedWidth;if(u||a>=p)u=!1,s.push(d),o.push(e.columns[d]),a-=p;else break;d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function yL(r,e){for(var t=[],n=0;n<e.columns.length;n++){var a=vL(r,e,{start:n});a.columns.length&&(t.push(a),n=a.lastIndex)}return t}function XS(r,e){var t=e.settings,n=t.startY,a=t.margin,i={x:a.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+a.bottom+s;if(t.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(g,m){return g+m.height},0);o+=u}var d=new Md(r);(t.pageBreak==="always"||t.startY!=null&&o>d.pageSize().height)&&(KS(d),i.y=a.top),e.callWillDrawPageHooks(d,i);var p=Lc({},i);e.startPageNumber=d.pageNumber(),t.horizontalPageBreak?wL(d,e,p,i):(d.applyStyles(d.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(g){return Bc(d,e,g,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(g,m){var y=m===e.body.length-1;km(d,e,g,y,p,i,e.columns)}),d.applyStyles(d.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(g){return Bc(d,e,g,i,e.columns)})),BS(d,e,p,i),e.callEndPageHooks(d,i),e.finalY=i.y,r.lastAutoTable=e,d.applyStyles(d.userStyles)}function wL(r,e,t,n){var a=yL(r,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){r.applyStyles(r.userStyles),d>0?E1(r,e,t,n,u.columns,!0):h3(r,e,n,u.columns),bL(r,e,t,n,u.columns),dv(r,e,n,u.columns)});else for(var s=-1,o=a[0],c=function(){var u=s;if(o){r.applyStyles(r.userStyles);var d=o.columns;s>=0?E1(r,e,t,n,d,!0):h3(r,e,n,d),u=p3(r,e,s+1,n,d),dv(r,e,n,d)}var p=u-s;a.slice(1).forEach(function(g){r.applyStyles(r.userStyles),E1(r,e,t,n,g.columns,!0),p3(r,e,s+1,n,g.columns,p),dv(r,e,n,g.columns)}),s=u};s<e.body.length-1;)c()}function h3(r,e,t,n){var a=e.settings;r.applyStyles(r.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Bc(r,e,i,t,n)})}function bL(r,e,t,n,a){r.applyStyles(r.userStyles),e.body.forEach(function(i,s){var o=s===e.body.length-1;km(r,e,i,o,t,n,a)})}function p3(r,e,t,n,a,i){r.applyStyles(r.userStyles),i=i!=null?i:e.body.length;var s=Math.min(t+i,e.body.length),o=-1;return e.body.slice(t,s).forEach(function(c,u){var d=t+u===e.body.length-1,p=YS(r,e,d,n);c.canEntireRowFit(p,a)&&(Bc(r,e,c,n,a),o=t+u)}),o}function dv(r,e,t,n){var a=e.settings;r.applyStyles(r.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Bc(r,e,i,t,n)})}function _L(r,e,t){var n=t.getLineHeight(r.styles.fontSize),a=r.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function SL(r,e,t,n){var a={};r.spansMultiplePages=!0,r.height=0;for(var i=0,s=0,o=t.columns;s<o.length;s++){var c=o[s],u=r.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new GS(u.raw,u.styles,u.section);d=Lc(d,u),d.text=[];var p=_L(u,e,n);u.text.length>p&&(d.text=u.text.splice(p,u.text.length));var g=n.scaleFactor(),m=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,m),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>r.height&&(r.height=u.contentHeight),d.contentHeight=d.getContentHeight(g,m),d.contentHeight>i&&(i=d.contentHeight),a[c.index]=d}}var y=new VS(r.raw,-1,r.section,a,!0);y.height=i;for(var w=0,_=t.columns;w<_.length;w++){var c=_[w],d=y.cells[c.index];d&&(d.height=y.height);var u=r.cells[c.index];u&&(u.height=r.height)}return y}function EL(r,e,t,n){var a=r.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,r),u=c<t;if(c>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function km(r,e,t,n,a,i,s){var o=YS(r,e,n,i);if(t.canEntireRowFit(o,s))Bc(r,e,t,i,s);else if(EL(r,t,o,e)){var c=SL(t,o,e,r);Bc(r,e,t,i,s),E1(r,e,a,i,s),km(r,e,c,n,a,i,s)}else E1(r,e,a,i,s),km(r,e,t,n,a,i,s)}function Bc(r,e,t,n,a){n.x=e.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],c=t.cells[o.index];if(!c){n.x+=o.width;continue}r.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(r,e.hooks.willDrawCell,c,t,o,n);if(u===!1){n.x+=o.width;continue}AL(r,c,n);var d=c.getTextPos();PS(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,c,t,o,n),n.x+=o.width}n.y+=t.height}function AL(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=US(n.lineWidth,n.fillColor);a&&r.rect(e.x,t.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),NL(r,e,t,n.lineWidth))}function NL(r,e,t,n){var a,i,s,o;n.top&&(a=t.x,i=t.y,s=t.x+e.width,o=t.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,o)),n.bottom&&(a=t.x,i=t.y+e.height,s=t.x+e.width,o=t.y+e.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,o)),n.left&&(a=t.x,i=t.y,s=t.x,o=t.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,a,i,s,o)),n.right&&(a=t.x+e.width,i=t.y,s=t.x+e.width,o=t.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,a,i,s,o));function c(u,d,p,g,m){r.getDocument().setLineWidth(u),r.getDocument().line(d,p,g,m,"S")}}function YS(r,e,t,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-a}function E1(r,e,t,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(o){return Bc(r,e,o,n,a)}),e.callEndPageHooks(r,n);var s=e.settings.margin;BS(r,e,t,n),KS(r),e.pageNumber++,n.x=s.left,n.y=s.top,t.y=s.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Bc(r,e,o,n,a)}),r.applyStyles(r.userStyles))}function KS(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function CL(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],a=$S(this,n),i=WS(this,a);return XS(this,i),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,a){PS(e,t,n,a,this)},r.API.autoTableSetDefaults=function(e){return Md.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Md.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window=="undefined")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Md(this),i=qS(a,e,window,t,!1),s=i.head,o=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var hv;function TL(r,e){var t=$S(r,e),n=WS(r,t);XS(r,n)}try{if(typeof window!="undefined"&&window){var g3=window,m3=g3.jsPDF||((hv=g3.jspdf)===null||hv===void 0?void 0:hv.jsPDF);m3&&CL(m3)}}catch(r){console.error("Could not apply autoTable plugin",r)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Lm={};Lm.version="0.18.5";var ZS=1252,jL=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],JS=function(r){jL.indexOf(r)!=-1&&(ZS=r)};function OL(){JS(1252)}var I1=function(r){JS(r)};function RL(){I1(1200),OL()}var dg=function(e){return String.fromCharCode(e)},x3=function(e){return String.fromCharCode(e)},v3,Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function P1(r){for(var e="",t=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<r.length;)t=r.charCodeAt(u++),i=t>>2,n=r.charCodeAt(u++),s=(t&3)<<4|n>>4,a=r.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),e+=Vu.charAt(i)+Vu.charAt(s)+Vu.charAt(o)+Vu.charAt(c);return e}function Uc(r){var e="",t=0,n=0,a=0,i=0,s=0,o=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)i=Vu.indexOf(r.charAt(u++)),s=Vu.indexOf(r.charAt(u++)),t=i<<2|s>>4,e+=String.fromCharCode(t),o=Vu.indexOf(r.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),c=Vu.indexOf(r.charAt(u++)),a=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var Jr=function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node}(),Hc=function(){if(typeof Buffer!="undefined"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch(e){r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function lf(r){return Jr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array!="undefined"?new Uint8Array(r):new Array(r)}function y3(r){return Jr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array!="undefined"?new Uint8Array(r):new Array(r)}var il=function(e){return Jr?Hc(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function g2(r){if(typeof ArrayBuffer=="undefined")return il(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function W1(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function kL(r){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(r)}var pi=Jr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Hc(e)}))}:function(r){if(typeof Uint8Array!="undefined"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function LL(r){for(var e=[],t=0,n=r.length+250,a=lf(r.length+255),i=0;i<r.length;++i){var s=r.charCodeAt(i);if(s<128)a[t++]=s;else if(s<2048)a[t++]=192|s>>6&31,a[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++i)&1023;a[t++]=240|s>>8&7,a[t++]=128|s>>2&63,a[t++]=128|o>>6&15|(s&3)<<4,a[t++]=128|o&63}else a[t++]=224|s>>12&15,a[t++]=128|s>>6&63,a[t++]=128|s&63;t>n&&(e.push(a.slice(0,t)),t=0,a=lf(65535),n=65530)}return e.push(a.slice(0,t)),pi(e)}var A1=/\u0000/g,hg=/[\u0001-\u0006]/g;function Bd(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function ll(r,e){var t=""+r;return t.length>=e?t:oa("0",e-t.length)+t}function aw(r,e){var t=""+r;return t.length>=e?t:oa(" ",e-t.length)+t}function Dm(r,e){var t=""+r;return t.length>=e?t:t+oa(" ",e-t.length)}function DL(r,e){var t=""+Math.round(r);return t.length>=e?t:oa("0",e-t.length)+t}function IL(r,e){var t=""+r;return t.length>=e?t:oa("0",e-t.length)+t}var w3=Math.pow(2,32);function md(r,e){if(r>w3||r<-w3)return DL(r,e);var t=Math.round(r);return IL(t,e)}function Im(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var b3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],pv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function PL(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var la={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},FL={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Pm(r,e,t){for(var n=r<0?-1:1,a=r*n,i=0,s=1,o=0,c=1,u=0,d=0,p=Math.floor(a);u<e&&(p=Math.floor(a),o=p*s+i,d=p*u+c,!(a-p<5e-8));)a=1/(a-p),i=s,s=o,c=u,u=d;if(d>e&&(u>e?(d=c,o=i):(d=u,o=s)),!t)return[0,n*o,d];var g=Math.floor(n*o/d);return[g,n*o-g*d,d]}function pg(r,e,t){if(r>2958465||r<0)return null;var n=r|0,a=Math.floor(86400*(r-n)),i=0,s=[],o={D:n,T:a,u:86400*(r-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=t?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=t?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),t&&(i=$L(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var QS=new Date(1899,11,31,0,0,0),ML=QS.getTime(),BL=new Date(1900,2,1,0,0,0);function eE(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=BL&&(t+=24*60*60*1e3),(t-(ML+(r.getTimezoneOffset()-QS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function iw(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function UL(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zL(r){var e=r<0?12:11,t=iw(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function HL(r){var e=iw(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function qL(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=zL(r):e===10?t=r.toFixed(10).substr(0,12):t=HL(r),iw(UL(t.toUpperCase()))}function dy(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):qL(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Ju(14,eE(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function $L(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function VL(r,e,t,n){var a="",i=0,s=0,o=t.y,c,u=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,u=e.length;break;case 3:return pv[t.m-1][1];case 5:return pv[t.m-1][0];default:return pv[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,u=e.length;break;case 3:return b3[t.q][0];default:return b3[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ll(t.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(t.S+t.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=ll(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?ll(c,u):"";return d}function Gu(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var tE=/%/g;function GL(r,e,t){var n=e.replace(tE,""),a=e.length-n.length;return Ic(r,n,t*Math.pow(10,2*a))+oa("%",a)}function WL(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ic(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function rE(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+rE(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+i):t+="E+"+(s-i);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var nE=/# (\?+)( ?)\/( ?)(\d+)/;function XL(r,e,t){var n=parseInt(r[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,o=n;return t+(i===0?"":""+i)+" "+(s===0?oa(" ",r[1].length+1+r[4].length):aw(s,r[1].length)+r[2]+"/"+r[3]+ll(o,r[4].length))}function YL(r,e,t){return t+(e===0?"":""+e)+oa(" ",r[1].length+2+r[4].length)}var aE=/^#*0*\.([0#]+)/,iE=/\).*[0#]/,sE=/\(###\) ###\\?-####/;function Qi(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function S3(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function E3(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function KL(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function ZL(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function xo(r,e,t){if(r.charCodeAt(0)===40&&!e.match(iE)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?xo("n",n,t):"("+xo("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return WL(r,e,t);if(e.indexOf("%")!==-1)return GL(r,e,t);if(e.indexOf("E")!==-1)return rE(e,t);if(e.charCodeAt(0)===36)return"$"+xo(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,s,o,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+md(c,e.length);if(e.match(/^[#?]+$/))return a=md(t,0),a==="0"&&(a=""),a.length>e.length?a:Qi(e.substr(0,e.length-a.length))+a;if(i=e.match(nE))return XL(i,c,u);if(e.match(/^#+0+$/))return u+md(c,e.length-e.indexOf("0"));if(i=e.match(aE))return a=S3(t,i[1].length).replace(/^([^\.]+)$/,"$1."+Qi(i[1])).replace(/\.$/,"."+Qi(i[1])).replace(/\.(\d*)$/,function(y,w){return"."+w+oa("0",Qi(i[1]).length-w.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+S3(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+Gu(md(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+xo(r,e,-t):Gu(""+(Math.floor(t)+KL(t,i[1].length)))+"."+ll(E3(t,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return xo(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Bd(xo(r,e.replace(/[\\-]/g,""),t)),s=0,Bd(Bd(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<a.length?a.charAt(s++):y==="0"?"0":""}));if(e.match(sE))return a=xo(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Pm(c,Math.pow(10,s)-1,!1),a=""+u,d=Ic("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Dm(o[2],s),d.length<i[4].length&&(d=Qi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Pm(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?aw(o[1],s)+i[2]+"/"+i[3]+Dm(o[2],s):oa(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=md(t,0),e.length<=a.length?a:Qi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var p=e.indexOf(".")-s,g=e.length-a.length-p;return Qi(e.substr(0,p)+a+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=E3(t,i[1].length),t<0?"-"+xo(r,e,-t):Gu(ZL(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ll(0,3-y.length):"")+y})+"."+ll(s,i[1].length);switch(e){case"###,##0.00":return xo(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=Gu(md(c,0));return m!=="0"?u+m:"";case"###,###.00":return xo(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return xo(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function JL(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ic(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function QL(r,e,t){var n=e.replace(tE,""),a=e.length-n.length;return Ic(r,n,t*Math.pow(10,2*a))+oa("%",a)}function oE(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+oE(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+i):t+="E+"+(s-i),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Wl(r,e,t){if(r.charCodeAt(0)===40&&!e.match(iE)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Wl("n",n,t):"("+Wl("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return JL(r,e,t);if(e.indexOf("%")!==-1)return QL(r,e,t);if(e.indexOf("E")!==-1)return oE(e,t);if(e.charCodeAt(0)===36)return"$"+Wl(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,s,o,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+ll(c,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Qi(e.substr(0,e.length-a.length))+a;if(i=e.match(nE))return YL(i,c,u);if(e.match(/^#+0+$/))return u+ll(c,e.length-e.indexOf("0"));if(i=e.match(aE))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Qi(i[1])).replace(/\.$/,"."+Qi(i[1])),a=a.replace(/\.(\d*)$/,function(y,w){return"."+w+oa("0",Qi(i[1]).length-w.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+Gu(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Wl(r,e,-t):Gu(""+t)+"."+oa("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Wl(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Bd(Wl(r,e.replace(/[\\-]/g,""),t)),s=0,Bd(Bd(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<a.length?a.charAt(s++):y==="0"?"0":""}));if(e.match(sE))return a=Wl(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Pm(c,Math.pow(10,s)-1,!1),a=""+u,d=Ic("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Dm(o[2],s),d.length<i[4].length&&(d=Qi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Pm(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?aw(o[1],s)+i[2]+"/"+i[3]+Dm(o[2],s):oa(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Qi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var p=e.indexOf(".")-s,g=e.length-a.length-p;return Qi(e.substr(0,p)+a+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Wl(r,e,-t):Gu(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ll(0,3-y.length):"")+y})+"."+ll(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Gu(""+c);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return Wl(r,e.slice(0,e.lastIndexOf(".")),t)+Qi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ic(r,e,t){return(t|0)===t?Wl(r,e,t):xo(r,e,t)}function eD(r){for(var e=[],t=!1,n=0,a=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(a,n-a),a=n+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var lE=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function cE(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":Im(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(lE))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function tD(r,e,t,n){for(var a=[],i="",s=0,o="",c="t",u,d,p,g="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!Im(r,s))throw new Error("unrecognized character "+o+" in "+r);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(p=r.charCodeAt(++s))!==34&&s<r.length;)i+=String.fromCharCode(p);a[a.length]={t:"t",v:i},++s;break;case"\\":var m=r.charAt(++s),y=m==="("||m===")"?m:"t";a[a.length]={t:y,v:m},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(u==null&&(u=pg(e,t,r.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:r.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=pg(e,t),u==null))return"";for(i=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var w={t:o,v:o};if(u==null&&(u=pg(e,t)),r.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(w.v=u.H>=12?"P":"A"),w.t="T",g="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(w.v=u.H>=12?"PM":"AM"),w.t="T",s+=5,g="h"):r.substr(s,5).toUpperCase()==="/"?(u!=null&&(w.v=u.H>=12?"":""),w.t="T",s+=5,g="h"):(w.t="t",++s),u==null&&w.t==="T")return"";a[a.length]=w,c=o;break;case"[":for(i=o;r.charAt(s++)!=="]"&&s<r.length;)i+=r.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(lE)){if(u==null&&(u=pg(e,t),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",cE(r)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<r.length&&(o=r.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;r.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)i+=r.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);a[a.length]={t:"t",v:o},++s;break}var _=0,S=0,A;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=g,c="h",_<1&&(_=1);break;case"s":(A=a[s].v.match(/\.0+$/))&&(S=Math.max(S,A[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[s].v.match(/[Hh]/)&&(_=1),_<2&&a[s].v.match(/[Mm]/)&&(_=2),_<3&&a[s].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var C="",L;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=VL(a[s].t.charCodeAt(0),a[s].v,u,S),a[s].t="t";break;case"n":case"?":for(L=s+1;a[L]!=null&&((o=a[L].t)==="?"||o==="D"||(o===" "||o==="t")&&a[L+1]!=null&&(a[L+1].t==="?"||a[L+1].t==="t"&&a[L+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[L].v==="/"||a[L].v===" "&&a[L+1]!=null&&a[L+1].t=="?"));)a[s].v+=a[L].v,a[L]={v:"",t:";"},++L;C+=a[s].v,s=L-1;break;case"G":a[s].t="t",a[s].v=dy(e,t);break}var B="",M,F;if(C.length>0){C.charCodeAt(0)==40?(M=e<0&&C.charCodeAt(0)===45?-e:e,F=Ic("n",C,M)):(M=e<0&&n>1?-e:e,F=Ic("n",C,M),M<0&&a[0]&&a[0].t=="t"&&(F=F.substr(1),a[0].v="-"+a[0].v)),L=F.length-1;var D=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){D=s;break}var O=a.length;if(D===a.length&&F.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(L>=a[s].v.length-1?(L-=a[s].v.length,a[s].v=F.substr(L+1,a[s].v.length)):L<0?a[s].v="":(a[s].v=F.substr(0,L+1),L=-1),a[s].t="t",O=s);L>=0&&O<a.length&&(a[O].v=F.substr(0,L+1)+a[O].v)}else if(D!==a.length&&F.indexOf("E")===-1){for(L=F.indexOf(".")-1,s=D;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===D?a[s].v.indexOf(".")-1:a[s].v.length-1,B=a[s].v.substr(d+1);d>=0;--d)L>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(B=F.charAt(L--)+B);a[s].v=B,a[s].t="t",O=s}for(L>=0&&O<a.length&&(a[O].v=F.substr(0,L+1)+a[O].v),L=F.indexOf(".")+1,s=D;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==D)){for(d=a[s].v.indexOf(".")>-1&&s===D?a[s].v.indexOf(".")+1:0,B=a[s].v.substr(0,d);d<a[s].v.length;++d)L<F.length&&(B+=F.charAt(L++));a[s].v=B,a[s].t="t",O=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(M=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=Ic(a[s].t,a[s].v,M),a[s].t="t");var q="";for(s=0;s!==a.length;++s)a[s]!=null&&(q+=a[s].v);return q}var A3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function N3(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function rD(r,e){var t=eD(r),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var i=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,i];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(A3),o=t[1].match(A3);return N3(e,s)?[n,t[0]]:N3(e,o)?[n,t[1]]:[n,t[s!=null&&o!=null?2:1]]}return[n,i]}function Ju(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:la)[r],n==null&&(n=t.table&&t.table[_3[r]]||la[_3[r]]),n==null&&(n=FL[r]||"General");break}if(Im(n,0))return dy(e,t);e instanceof Date&&(e=eE(e,t.date1904));var a=rD(n,e);if(Im(a[1]))return dy(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return tD(a[1],e,t,a[0])}function uE(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(la[t]==null){e<0&&(e=t);continue}if(la[t]==r){e=t;break}}e<0&&(e=391)}return la[e]=r,e}function m2(r){for(var e=0;e!=392;++e)r[e]!==void 0&&uE(r[e],e)}function x2(){la=PL()}var fE=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nD(r){var e=typeof r=="number"?la[r]:r;return e=e.replace(fE,"(\\d+)"),new RegExp("^"+e+"$")}function aD(r,e,t){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(e.match(fE)||[]).forEach(function(p,g){var m=parseInt(t[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":s=m;break;case"s":c=m;break;case"m":s>=0?o=m:a=m;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var iD=function(){var r={};r.version="1.2.0";function e(){for(var F=0,D=new Array(256),O=0;O!=256;++O)F=O,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,D[O]=F;return typeof Int32Array!="undefined"?new Int32Array(D):D}var t=e();function n(F){var D=0,O=0,q=0,I=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)I[q]=F[q];for(q=0;q!=256;++q)for(O=F[q],D=256+q;D<4096;D+=256)O=I[D]=O>>>8^F[O&255];var U=[];for(q=1;q!=16;++q)U[q-1]=typeof Int32Array!="undefined"?I.subarray(q*256,q*256+256):I.slice(q*256,q*256+256);return U}var a=n(t),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],d=a[5],p=a[6],g=a[7],m=a[8],y=a[9],w=a[10],_=a[11],S=a[12],A=a[13],C=a[14];function L(F,D){for(var O=D^-1,q=0,I=F.length;q<I;)O=O>>>8^t[(O^F.charCodeAt(q++))&255];return~O}function B(F,D){for(var O=D^-1,q=F.length-15,I=0;I<q;)O=C[F[I++]^O&255]^A[F[I++]^O>>8&255]^S[F[I++]^O>>16&255]^_[F[I++]^O>>>24]^w[F[I++]]^y[F[I++]]^m[F[I++]]^g[F[I++]]^p[F[I++]]^d[F[I++]]^u[F[I++]]^c[F[I++]]^o[F[I++]]^s[F[I++]]^i[F[I++]]^t[F[I++]];for(q+=15;I<q;)O=O>>>8^t[(O^F[I++])&255];return~O}function M(F,D){for(var O=D^-1,q=0,I=F.length,U=0,X=0;q<I;)U=F.charCodeAt(q++),U<128?O=O>>>8^t[(O^U)&255]:U<2048?(O=O>>>8^t[(O^(192|U>>6&31))&255],O=O>>>8^t[(O^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,X=F.charCodeAt(q++)&1023,O=O>>>8^t[(O^(240|U>>8&7))&255],O=O>>>8^t[(O^(128|U>>2&63))&255],O=O>>>8^t[(O^(128|X>>6&15|(U&3)<<4))&255],O=O>>>8^t[(O^(128|X&63))&255]):(O=O>>>8^t[(O^(224|U>>12&15))&255],O=O>>>8^t[(O^(128|U>>6&63))&255],O=O>>>8^t[(O^(128|U&63))&255]);return~O}return r.table=t,r.bstr=L,r.buf=B,r.str=M,r}(),bn=function(){var e={};e.version="1.2.1";function t(re,be){for(var fe=re.split("/"),de=be.split("/"),ye=0,_e=0,He=Math.min(fe.length,de.length);ye<He;++ye){if(_e=fe[ye].length-de[ye].length)return _e;if(fe[ye]!=de[ye])return fe[ye]<de[ye]?-1:1}return fe.length-de.length}function n(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:n(re.slice(0,-1));var be=re.lastIndexOf("/");return be===-1?re:re.slice(0,be+1)}function a(re){if(re.charAt(re.length-1)=="/")return a(re.slice(0,-1));var be=re.lastIndexOf("/");return be===-1?re:re.slice(be+1)}function i(re,be){typeof be=="string"&&(be=new Date(be));var fe=be.getHours();fe=fe<<6|be.getMinutes(),fe=fe<<5|be.getSeconds()>>>1,re.write_shift(2,fe);var de=be.getFullYear()-1980;de=de<<4|be.getMonth()+1,de=de<<5|be.getDate(),re.write_shift(2,de)}function s(re){var be=re.read_shift(2)&65535,fe=re.read_shift(2)&65535,de=new Date,ye=fe&31;fe>>>=5;var _e=fe&15;fe>>>=4,de.setMilliseconds(0),de.setFullYear(fe+1980),de.setMonth(_e-1),de.setDate(ye);var He=be&31;be>>>=5;var et=be&63;return be>>>=6,de.setHours(be),de.setMinutes(et),de.setSeconds(He<<1),de}function o(re){Ws(re,0);for(var be={},fe=0;re.l<=re.length-4;){var de=re.read_shift(2),ye=re.read_shift(2),_e=re.l+ye,He={};switch(de){case 21589:fe=re.read_shift(1),fe&1&&(He.mtime=re.read_shift(4)),ye>5&&(fe&2&&(He.atime=re.read_shift(4)),fe&4&&(He.ctime=re.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}re.l=_e,be[de]=He}return be}var c;function u(){return c||(c={})}function d(re,be){if(re[0]==80&&re[1]==75)return mn(re,be);if((re[0]|32)==109&&(re[1]|32)==105)return is(re,be);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var fe=3,de=512,ye=0,_e=0,He=0,et=0,Fe=0,Ge=[],Ye=re.slice(0,512);Ws(Ye,0);var gt=p(Ye);switch(fe=gt[0],fe){case 3:de=512;break;case 4:de=4096;break;case 0:if(gt[1]==0)return mn(re,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}de!==512&&(Ye=re.slice(0,de),Ws(Ye,28));var St=re.slice(0,de);g(Ye,fe);var kt=Ye.read_shift(4,"i");if(fe===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);Ye.l+=4,He=Ye.read_shift(4,"i"),Ye.l+=4,Ye.chk("00100000","Mini Stream Cutoff Size: "),et=Ye.read_shift(4,"i"),ye=Ye.read_shift(4,"i"),Fe=Ye.read_shift(4,"i"),_e=Ye.read_shift(4,"i");for(var bt=-1,Rt=0;Rt<109&&(bt=Ye.read_shift(4,"i"),!(bt<0));++Rt)Ge[Rt]=bt;var tr=m(re,de);_(Fe,_e,tr,de,Ge);var Lr=A(tr,He,Ge,de);Lr[He].name="!Directory",ye>0&&et!==X&&(Lr[et].name="!MiniFAT"),Lr[Ge[0]].name="!FAT",Lr.fat_addrs=Ge,Lr.ssz=de;var Br={},en=[],Ui=[],eo=[];C(He,Lr,tr,en,ye,Br,Ui,et),y(Ui,eo,en),en.shift();var ri={FileIndex:Ui,FullPaths:eo};return be&&be.raw&&(ri.raw={header:St,sectors:tr}),ri}function p(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(ae,"Header Signature: "),re.l+=16;var be=re.read_shift(2,"u");return[re.read_shift(2,"u"),be]}function g(re,be){var fe=9;switch(re.l+=2,fe=re.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function m(re,be){for(var fe=Math.ceil(re.length/be)-1,de=[],ye=1;ye<fe;++ye)de[ye-1]=re.slice(ye*be,(ye+1)*be);return de[fe-1]=re.slice(fe*be),de}function y(re,be,fe){for(var de=0,ye=0,_e=0,He=0,et=0,Fe=fe.length,Ge=[],Ye=[];de<Fe;++de)Ge[de]=Ye[de]=de,be[de]=fe[de];for(;et<Ye.length;++et)de=Ye[et],ye=re[de].L,_e=re[de].R,He=re[de].C,Ge[de]===de&&(ye!==-1&&Ge[ye]!==ye&&(Ge[de]=Ge[ye]),_e!==-1&&Ge[_e]!==_e&&(Ge[de]=Ge[_e])),He!==-1&&(Ge[He]=de),ye!==-1&&de!=Ge[de]&&(Ge[ye]=Ge[de],Ye.lastIndexOf(ye)<et&&Ye.push(ye)),_e!==-1&&de!=Ge[de]&&(Ge[_e]=Ge[de],Ye.lastIndexOf(_e)<et&&Ye.push(_e));for(de=1;de<Fe;++de)Ge[de]===de&&(_e!==-1&&Ge[_e]!==_e?Ge[de]=Ge[_e]:ye!==-1&&Ge[ye]!==ye&&(Ge[de]=Ge[ye]));for(de=1;de<Fe;++de)if(re[de].type!==0){if(et=de,et!=Ge[et])do et=Ge[et],be[de]=be[et]+"/"+be[de];while(et!==0&&Ge[et]!==-1&&et!=Ge[et]);Ge[de]=-1}for(be[0]+="/",de=1;de<Fe;++de)re[de].type!==2&&(be[de]+="/")}function w(re,be,fe){for(var de=re.start,ye=re.size,_e=[],He=de;fe&&ye>0&&He>=0;)_e.push(be.slice(He*U,He*U+U)),ye-=U,He=Q0(fe,He*4);return _e.length===0?at(0):pi(_e).slice(0,re.size)}function _(re,be,fe,de,ye){var _e=X;if(re===X){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var He=fe[re],et=(de>>>2)-1;if(!He)return;for(var Fe=0;Fe<et&&(_e=Q0(He,Fe*4))!==X;++Fe)ye.push(_e);_(Q0(He,de-4),be-1,fe,de,ye)}}function S(re,be,fe,de,ye){var _e=[],He=[];ye||(ye=[]);var et=de-1,Fe=0,Ge=0;for(Fe=be;Fe>=0;){ye[Fe]=!0,_e[_e.length]=Fe,He.push(re[Fe]);var Ye=fe[Math.floor(Fe*4/de)];if(Ge=Fe*4&et,de<4+Ge)throw new Error("FAT boundary crossed: "+Fe+" 4 "+de);if(!re[Ye])break;Fe=Q0(re[Ye],Ge)}return{nodes:_e,data:D3([He])}}function A(re,be,fe,de){var ye=re.length,_e=[],He=[],et=[],Fe=[],Ge=de-1,Ye=0,gt=0,St=0,kt=0;for(Ye=0;Ye<ye;++Ye)if(et=[],St=Ye+be,St>=ye&&(St-=ye),!He[St]){Fe=[];var bt=[];for(gt=St;gt>=0;){bt[gt]=!0,He[gt]=!0,et[et.length]=gt,Fe.push(re[gt]);var Rt=fe[Math.floor(gt*4/de)];if(kt=gt*4&Ge,de<4+kt)throw new Error("FAT boundary crossed: "+gt+" 4 "+de);if(!re[Rt]||(gt=Q0(re[Rt],kt),bt[gt]))break}_e[St]={nodes:et,data:D3([Fe])}}return _e}function C(re,be,fe,de,ye,_e,He,et){for(var Fe=0,Ge=de.length?2:0,Ye=be[re].data,gt=0,St=0,kt;gt<Ye.length;gt+=128){var bt=Ye.slice(gt,gt+128);Ws(bt,64),St=bt.read_shift(2),kt=uw(bt,0,St-Ge),de.push(kt);var Rt={name:kt,type:bt.read_shift(1),color:bt.read_shift(1),L:bt.read_shift(4,"i"),R:bt.read_shift(4,"i"),C:bt.read_shift(4,"i"),clsid:bt.read_shift(16),state:bt.read_shift(4,"i"),start:0,size:0},tr=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);tr!==0&&(Rt.ct=L(bt,bt.l-8));var Lr=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);Lr!==0&&(Rt.mt=L(bt,bt.l-8)),Rt.start=bt.read_shift(4,"i"),Rt.size=bt.read_shift(4,"i"),Rt.size<0&&Rt.start<0&&(Rt.size=Rt.type=0,Rt.start=X,Rt.name=""),Rt.type===5?(Fe=Rt.start,ye>0&&Fe!==X&&(be[Fe].name="!StreamData")):Rt.size>=4096?(Rt.storage="fat",be[Rt.start]===void 0&&(be[Rt.start]=S(fe,Rt.start,be.fat_addrs,be.ssz)),be[Rt.start].name=Rt.name,Rt.content=be[Rt.start].data.slice(0,Rt.size)):(Rt.storage="minifat",Rt.size<0?Rt.size=0:Fe!==X&&Rt.start!==X&&be[Fe]&&(Rt.content=w(Rt,be[Fe].data,(be[et]||{}).data))),Rt.content&&Ws(Rt.content,0),_e[kt]=Rt,He.push(Rt)}}function L(re,be){return new Date((Ys(re,be+4)/1e7*Math.pow(2,32)+Ys(re,be)/1e7-11644473600)*1e3)}function B(re,be){return u(),d(c.readFileSync(re),be)}function M(re,be){var fe=be&&be.type;switch(fe||Jr&&Buffer.isBuffer(re)&&(fe="buffer"),fe||"base64"){case"file":return B(re,be);case"base64":return d(il(Uc(re)),be);case"binary":return d(il(re),be)}return d(re,be)}function F(re,be){var fe=be||{},de=fe.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=de+"/",re.FileIndex[0]={name:de,type:5}),fe.CLSID&&(re.FileIndex[0].clsid=fe.CLSID),D(re)}function D(re){var be="Sh33tJ5";if(!bn.find(re,"/"+be)){var fe=at(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,re.FileIndex.push({name:be,type:2,content:fe,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+be),O(re)}}function O(re,be){F(re);for(var fe=!1,de=!1,ye=re.FullPaths.length-1;ye>=0;--ye){var _e=re.FileIndex[ye];switch(_e.type){case 0:de?fe=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(_e.R*_e.L*_e.C)&&(fe=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!be)){var He=new Date(1987,1,19),et=0,Fe=Object.create?Object.create(null):{},Ge=[];for(ye=0;ye<re.FullPaths.length;++ye)Fe[re.FullPaths[ye]]=!0,re.FileIndex[ye].type!==0&&Ge.push([re.FullPaths[ye],re.FileIndex[ye]]);for(ye=0;ye<Ge.length;++ye){var Ye=n(Ge[ye][0]);de=Fe[Ye],de||(Ge.push([Ye,{name:a(Ye).replace("/",""),type:1,clsid:Q,ct:He,mt:He,content:null}]),Fe[Ye]=!0)}for(Ge.sort(function(kt,bt){return t(kt[0],bt[0])}),re.FullPaths=[],re.FileIndex=[],ye=0;ye<Ge.length;++ye)re.FullPaths[ye]=Ge[ye][0],re.FileIndex[ye]=Ge[ye][1];for(ye=0;ye<Ge.length;++ye){var gt=re.FileIndex[ye],St=re.FullPaths[ye];if(gt.name=a(St).replace("/",""),gt.L=gt.R=gt.C=-(gt.color=1),gt.size=gt.content?gt.content.length:0,gt.start=0,gt.clsid=gt.clsid||Q,ye===0)gt.C=Ge.length>1?1:-1,gt.size=0,gt.type=5;else if(St.slice(-1)=="/"){for(et=ye+1;et<Ge.length&&n(re.FullPaths[et])!=St;++et);for(gt.C=et>=Ge.length?-1:et,et=ye+1;et<Ge.length&&n(re.FullPaths[et])!=n(St);++et);gt.R=et>=Ge.length?-1:et,gt.type=1}else n(re.FullPaths[ye+1]||"")==n(St)&&(gt.R=ye+1),gt.type=2}}}function q(re,be){var fe=be||{};if(fe.fileType=="mad")return qt(re,fe);switch(O(re),fe.fileType){case"zip":return ti(re,fe)}var de=function(kt){for(var bt=0,Rt=0,tr=0;tr<kt.FileIndex.length;++tr){var Lr=kt.FileIndex[tr];if(Lr.content){var Br=Lr.content.length;Br>0&&(Br<4096?bt+=Br+63>>6:Rt+=Br+511>>9)}}for(var en=kt.FullPaths.length+3>>2,Ui=bt+7>>3,eo=bt+127>>7,ri=Ui+Rt+en+eo,zi=ri+127>>7,ss=zi<=109?0:Math.ceil((zi-109)/127);ri+zi+ss+127>>7>zi;)ss=++zi<=109?0:Math.ceil((zi-109)/127);var Hi=[1,ss,zi,eo,en,Rt,bt,0];return kt.FileIndex[0].size=bt<<6,Hi[7]=(kt.FileIndex[0].start=Hi[0]+Hi[1]+Hi[2]+Hi[3]+Hi[4]+Hi[5])+(Hi[6]+7>>3),Hi}(re),ye=at(de[7]<<9),_e=0,He=0;{for(_e=0;_e<8;++_e)ye.write_shift(1,Se[_e]);for(_e=0;_e<8;++_e)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),_e=0;_e<3;++_e)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,de[2]),ye.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:X),ye.write_shift(4,de[3]),ye.write_shift(-4,de[1]?de[0]-1:X),ye.write_shift(4,de[1]),_e=0;_e<109;++_e)ye.write_shift(-4,_e<de[2]?de[1]+_e:-1)}if(de[1])for(He=0;He<de[1];++He){for(;_e<236+He*127;++_e)ye.write_shift(-4,_e<de[2]?de[1]+_e:-1);ye.write_shift(-4,He===de[1]-1?X:He+1)}var et=function(kt){for(He+=kt;_e<He-1;++_e)ye.write_shift(-4,_e+1);kt&&(++_e,ye.write_shift(-4,X))};for(He=_e=0,He+=de[1];_e<He;++_e)ye.write_shift(-4,ce.DIFSECT);for(He+=de[2];_e<He;++_e)ye.write_shift(-4,ce.FATSECT);et(de[3]),et(de[4]);for(var Fe=0,Ge=0,Ye=re.FileIndex[0];Fe<re.FileIndex.length;++Fe)Ye=re.FileIndex[Fe],Ye.content&&(Ge=Ye.content.length,!(Ge<4096)&&(Ye.start=He,et(Ge+511>>9)));for(et(de[6]+7>>3);ye.l&511;)ye.write_shift(-4,ce.ENDOFCHAIN);for(He=_e=0,Fe=0;Fe<re.FileIndex.length;++Fe)Ye=re.FileIndex[Fe],Ye.content&&(Ge=Ye.content.length,!(!Ge||Ge>=4096)&&(Ye.start=He,et(Ge+63>>6)));for(;ye.l&511;)ye.write_shift(-4,ce.ENDOFCHAIN);for(_e=0;_e<de[4]<<2;++_e){var gt=re.FullPaths[_e];if(!gt||gt.length===0){for(Fe=0;Fe<17;++Fe)ye.write_shift(4,0);for(Fe=0;Fe<3;++Fe)ye.write_shift(4,-1);for(Fe=0;Fe<12;++Fe)ye.write_shift(4,0);continue}Ye=re.FileIndex[_e],_e===0&&(Ye.start=Ye.size?Ye.start-1:X);var St=_e===0&&fe.root||Ye.name;if(Ge=2*(St.length+1),ye.write_shift(64,St,"utf16le"),ye.write_shift(2,Ge),ye.write_shift(1,Ye.type),ye.write_shift(1,Ye.color),ye.write_shift(-4,Ye.L),ye.write_shift(-4,Ye.R),ye.write_shift(-4,Ye.C),Ye.clsid)ye.write_shift(16,Ye.clsid,"hex");else for(Fe=0;Fe<4;++Fe)ye.write_shift(4,0);ye.write_shift(4,Ye.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,Ye.start),ye.write_shift(4,Ye.size),ye.write_shift(4,0)}for(_e=1;_e<re.FileIndex.length;++_e)if(Ye=re.FileIndex[_e],Ye.size>=4096)if(ye.l=Ye.start+1<<9,Jr&&Buffer.isBuffer(Ye.content))Ye.content.copy(ye,ye.l,0,Ye.size),ye.l+=Ye.size+511&-512;else{for(Fe=0;Fe<Ye.size;++Fe)ye.write_shift(1,Ye.content[Fe]);for(;Fe&511;++Fe)ye.write_shift(1,0)}for(_e=1;_e<re.FileIndex.length;++_e)if(Ye=re.FileIndex[_e],Ye.size>0&&Ye.size<4096)if(Jr&&Buffer.isBuffer(Ye.content))Ye.content.copy(ye,ye.l,0,Ye.size),ye.l+=Ye.size+63&-64;else{for(Fe=0;Fe<Ye.size;++Fe)ye.write_shift(1,Ye.content[Fe]);for(;Fe&63;++Fe)ye.write_shift(1,0)}if(Jr)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function I(re,be){var fe=re.FullPaths.map(function(Fe){return Fe.toUpperCase()}),de=fe.map(function(Fe){var Ge=Fe.split("/");return Ge[Ge.length-(Fe.slice(-1)=="/"?2:1)]}),ye=!1;be.charCodeAt(0)===47?(ye=!0,be=fe[0].slice(0,-1)+be):ye=be.indexOf("/")!==-1;var _e=be.toUpperCase(),He=ye===!0?fe.indexOf(_e):de.indexOf(_e);if(He!==-1)return re.FileIndex[He];var et=!_e.match(hg);for(_e=_e.replace(A1,""),et&&(_e=_e.replace(hg,"!")),He=0;He<fe.length;++He)if((et?fe[He].replace(hg,"!"):fe[He]).replace(A1,"")==_e||(et?de[He].replace(hg,"!"):de[He]).replace(A1,"")==_e)return re.FileIndex[He];return null}var U=64,X=-2,ae="d0cf11e0a1b11ae1",Se=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:X,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function we(re,be,fe){u();var de=q(re,fe);c.writeFileSync(be,de)}function ue(re){for(var be=new Array(re.length),fe=0;fe<re.length;++fe)be[fe]=String.fromCharCode(re[fe]);return be.join("")}function Y(re,be){var fe=q(re,be);switch(be&&be.type||"buffer"){case"file":return u(),c.writeFileSync(be.filename,fe),fe;case"binary":return typeof fe=="string"?fe:ue(fe);case"base64":return P1(typeof fe=="string"?fe:ue(fe));case"buffer":if(Jr)return Buffer.isBuffer(fe)?fe:Hc(fe);case"array":return typeof fe=="string"?il(fe):fe}return fe}var xe;function R(re){try{var be=re.InflateRaw,fe=new be;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)xe=re;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function P(re,be){if(!xe)return Rr(re,be);var fe=xe.InflateRaw,de=new fe,ye=de._processChunk(re.slice(re.l),de._finishFlushFlag);return re.l+=de.bytesRead,ye}function H(re){return xe?xe.deflateRawSync(re):cr(re)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(re){var be=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(be>>16|be>>8|be)&255}for(var he=typeof Uint8Array!="undefined",pe=he?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)pe[Ne]=ve(Ne);function Be(re,be){var fe=pe[re&255];return be<=8?fe>>>8-be:(fe=fe<<8|pe[re>>8&255],be<=16?fe>>>16-be:(fe=fe<<8|pe[re>>16&255],fe>>>24-be))}function rt(re,be){var fe=be&7,de=be>>>3;return(re[de]|(fe<=6?0:re[de+1]<<8))>>>fe&3}function ft(re,be){var fe=be&7,de=be>>>3;return(re[de]|(fe<=5?0:re[de+1]<<8))>>>fe&7}function ze(re,be){var fe=be&7,de=be>>>3;return(re[de]|(fe<=4?0:re[de+1]<<8))>>>fe&15}function te(re,be){var fe=be&7,de=be>>>3;return(re[de]|(fe<=3?0:re[de+1]<<8))>>>fe&31}function ke(re,be){var fe=be&7,de=be>>>3;return(re[de]|(fe<=1?0:re[de+1]<<8))>>>fe&127}function Ze(re,be,fe){var de=be&7,ye=be>>>3,_e=(1<<fe)-1,He=re[ye]>>>de;return fe<8-de||(He|=re[ye+1]<<8-de,fe<16-de)||(He|=re[ye+2]<<16-de,fe<24-de)||(He|=re[ye+3]<<24-de),He&_e}function Te(re,be,fe){var de=be&7,ye=be>>>3;return de<=5?re[ye]|=(fe&7)<<de:(re[ye]|=fe<<de&255,re[ye+1]=(fe&7)>>8-de),be+3}function Ie(re,be,fe){var de=be&7,ye=be>>>3;return fe=(fe&1)<<de,re[ye]|=fe,be+1}function ot(re,be,fe){var de=be&7,ye=be>>>3;return fe<<=de,re[ye]|=fe&255,fe>>>=8,re[ye+1]=fe,be+8}function mt(re,be,fe){var de=be&7,ye=be>>>3;return fe<<=de,re[ye]|=fe&255,fe>>>=8,re[ye+1]=fe&255,re[ye+2]=fe>>>8,be+16}function vt(re,be){var fe=re.length,de=2*fe>be?2*fe:be+5,ye=0;if(fe>=be)return re;if(Jr){var _e=y3(de);if(re.copy)re.copy(_e);else for(;ye<re.length;++ye)_e[ye]=re[ye];return _e}else if(he){var He=new Uint8Array(de);if(He.set)He.set(re);else for(;ye<fe;++ye)He[ye]=re[ye];return He}return re.length=de,re}function Tt(re){for(var be=new Array(re),fe=0;fe<re;++fe)be[fe]=0;return be}function zt(re,be,fe){var de=1,ye=0,_e=0,He=0,et=0,Fe=re.length,Ge=he?new Uint16Array(32):Tt(32);for(_e=0;_e<32;++_e)Ge[_e]=0;for(_e=Fe;_e<fe;++_e)re[_e]=0;Fe=re.length;var Ye=he?new Uint16Array(Fe):Tt(Fe);for(_e=0;_e<Fe;++_e)Ge[ye=re[_e]]++,de<ye&&(de=ye),Ye[_e]=0;for(Ge[0]=0,_e=1;_e<=de;++_e)Ge[_e+16]=et=et+Ge[_e-1]<<1;for(_e=0;_e<Fe;++_e)et=re[_e],et!=0&&(Ye[_e]=Ge[et+16]++);var gt=0;for(_e=0;_e<Fe;++_e)if(gt=re[_e],gt!=0)for(et=Be(Ye[_e],de)>>de-gt,He=(1<<de+4-gt)-1;He>=0;--He)be[et|He<<gt]=gt&15|_e<<4;return de}var It=he?new Uint16Array(512):Tt(512),Mt=he?new Uint16Array(32):Tt(32);if(!he){for(var Xt=0;Xt<512;++Xt)It[Xt]=0;for(Xt=0;Xt<32;++Xt)Mt[Xt]=0}(function(){for(var re=[],be=0;be<32;be++)re.push(5);zt(re,Mt,32);var fe=[];for(be=0;be<=143;be++)fe.push(8);for(;be<=255;be++)fe.push(9);for(;be<=279;be++)fe.push(7);for(;be<=287;be++)fe.push(8);zt(fe,It,288)})();var Pt=function(){for(var be=he?new Uint8Array(32768):[],fe=0,de=0;fe<Ee.length-1;++fe)for(;de<Ee[fe+1];++de)be[de]=fe;for(;de<32768;++de)be[de]=29;var ye=he?new Uint8Array(259):[];for(fe=0,de=0;fe<J.length-1;++fe)for(;de<J[fe+1];++de)ye[de]=fe;function _e(et,Fe){for(var Ge=0;Ge<et.length;){var Ye=Math.min(65535,et.length-Ge),gt=Ge+Ye==et.length;for(Fe.write_shift(1,+gt),Fe.write_shift(2,Ye),Fe.write_shift(2,~Ye&65535);Ye-- >0;)Fe[Fe.l++]=et[Ge++]}return Fe.l}function He(et,Fe){for(var Ge=0,Ye=0,gt=he?new Uint16Array(32768):[];Ye<et.length;){var St=Math.min(65535,et.length-Ye);if(St<10){for(Ge=Te(Fe,Ge,+(Ye+St==et.length)),Ge&7&&(Ge+=8-(Ge&7)),Fe.l=Ge/8|0,Fe.write_shift(2,St),Fe.write_shift(2,~St&65535);St-- >0;)Fe[Fe.l++]=et[Ye++];Ge=Fe.l*8;continue}Ge=Te(Fe,Ge,+(Ye+St==et.length)+2);for(var kt=0;St-- >0;){var bt=et[Ye];kt=(kt<<5^bt)&32767;var Rt=-1,tr=0;if((Rt=gt[kt])&&(Rt|=Ye&-32768,Rt>Ye&&(Rt-=32768),Rt<Ye))for(;et[Rt+tr]==et[Ye+tr]&&tr<250;)++tr;if(tr>2){bt=ye[tr],bt<=22?Ge=ot(Fe,Ge,pe[bt+1]>>1)-1:(ot(Fe,Ge,3),Ge+=5,ot(Fe,Ge,pe[bt-23]>>5),Ge+=3);var Lr=bt<8?0:bt-4>>2;Lr>0&&(mt(Fe,Ge,tr-J[bt]),Ge+=Lr),bt=be[Ye-Rt],Ge=ot(Fe,Ge,pe[bt]>>3),Ge-=3;var Br=bt<4?0:bt-2>>1;Br>0&&(mt(Fe,Ge,Ye-Rt-Ee[bt]),Ge+=Br);for(var en=0;en<tr;++en)gt[kt]=Ye&32767,kt=(kt<<5^et[Ye])&32767,++Ye;St-=tr-1}else bt<=143?bt=bt+48:Ge=Ie(Fe,Ge,1),Ge=ot(Fe,Ge,pe[bt]),gt[kt]=Ye&32767,++Ye}Ge=ot(Fe,Ge,0)-1}return Fe.l=(Ge+7)/8|0,Fe.l}return function(Fe,Ge){return Fe.length<8?_e(Fe,Ge):He(Fe,Ge)}}();function cr(re){var be=at(50+Math.floor(re.length*1.1)),fe=Pt(re,be);return be.slice(0,fe)}var At=he?new Uint16Array(32768):Tt(32768),Hr=he?new Uint16Array(32768):Tt(32768),or=he?new Uint16Array(128):Tt(128),ea=1,Er=1;function Yr(re,be){var fe=te(re,be)+257;be+=5;var de=te(re,be)+1;be+=5;var ye=ze(re,be)+4;be+=4;for(var _e=0,He=he?new Uint8Array(19):Tt(19),et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Fe=1,Ge=he?new Uint8Array(8):Tt(8),Ye=he?new Uint8Array(8):Tt(8),gt=He.length,St=0;St<ye;++St)He[G[St]]=_e=ft(re,be),Fe<_e&&(Fe=_e),Ge[_e]++,be+=3;var kt=0;for(Ge[0]=0,St=1;St<=Fe;++St)Ye[St]=kt=kt+Ge[St-1]<<1;for(St=0;St<gt;++St)(kt=He[St])!=0&&(et[St]=Ye[kt]++);var bt=0;for(St=0;St<gt;++St)if(bt=He[St],bt!=0){kt=pe[et[St]]>>8-bt;for(var Rt=(1<<7-bt)-1;Rt>=0;--Rt)or[kt|Rt<<bt]=bt&7|St<<3}var tr=[];for(Fe=1;tr.length<fe+de;)switch(kt=or[ke(re,be)],be+=kt&7,kt>>>=3){case 16:for(_e=3+rt(re,be),be+=2,kt=tr[tr.length-1];_e-- >0;)tr.push(kt);break;case 17:for(_e=3+ft(re,be),be+=3;_e-- >0;)tr.push(0);break;case 18:for(_e=11+ke(re,be),be+=7;_e-- >0;)tr.push(0);break;default:tr.push(kt),Fe<kt&&(Fe=kt);break}var Lr=tr.slice(0,fe),Br=tr.slice(fe);for(St=fe;St<286;++St)Lr[St]=0;for(St=de;St<30;++St)Br[St]=0;return ea=zt(Lr,At,286),Er=zt(Br,Hr,30),be}function Ma(re,be){if(re[0]==3&&!(re[1]&3))return[lf(be),2];for(var fe=0,de=0,ye=y3(be||1<<18),_e=0,He=ye.length>>>0,et=0,Fe=0;(de&1)==0;){if(de=ft(re,fe),fe+=3,de>>>1)de>>1==1?(et=9,Fe=5):(fe=Yr(re,fe),et=ea,Fe=Er);else{fe&7&&(fe+=8-(fe&7));var Ge=re[fe>>>3]|re[(fe>>>3)+1]<<8;if(fe+=32,Ge>0)for(!be&&He<_e+Ge&&(ye=vt(ye,_e+Ge),He=ye.length);Ge-- >0;)ye[_e++]=re[fe>>>3],fe+=8;continue}for(;;){!be&&He<_e+32767&&(ye=vt(ye,_e+32767),He=ye.length);var Ye=Ze(re,fe,et),gt=de>>>1==1?It[Ye]:At[Ye];if(fe+=gt&15,gt>>>=4,(gt>>>8&255)===0)ye[_e++]=gt;else{if(gt==256)break;gt-=257;var St=gt<8?0:gt-4>>2;St>5&&(St=0);var kt=_e+J[gt];St>0&&(kt+=Ze(re,fe,St),fe+=St),Ye=Ze(re,fe,Fe),gt=de>>>1==1?Mt[Ye]:Hr[Ye],fe+=gt&15,gt>>>=4;var bt=gt<4?0:gt-2>>1,Rt=Ee[gt];for(bt>0&&(Rt+=Ze(re,fe,bt),fe+=bt),!be&&He<kt&&(ye=vt(ye,kt+100),He=ye.length);_e<kt;)ye[_e]=ye[_e-Rt],++_e}}}return be?[ye,fe+7>>>3]:[ye.slice(0,_e),fe+7>>>3]}function Rr(re,be){var fe=re.slice(re.l||0),de=Ma(fe,be);return re.l+=de[1],de[0]}function Ts(re,be){if(re)typeof console!="undefined"&&console.error(be);else throw new Error(be)}function mn(re,be){var fe=re;Ws(fe,0);var de=[],ye=[],_e={FileIndex:de,FullPaths:ye};F(_e,{root:be.root});for(var He=fe.length-4;(fe[He]!=80||fe[He+1]!=75||fe[He+2]!=5||fe[He+3]!=6)&&He>=0;)--He;fe.l=He+4,fe.l+=4;var et=fe.read_shift(2);fe.l+=6;var Fe=fe.read_shift(4);for(fe.l=Fe,He=0;He<et;++He){fe.l+=20;var Ge=fe.read_shift(4),Ye=fe.read_shift(4),gt=fe.read_shift(2),St=fe.read_shift(2),kt=fe.read_shift(2);fe.l+=8;var bt=fe.read_shift(4),Rt=o(fe.slice(fe.l+gt,fe.l+gt+St));fe.l+=gt+St+kt;var tr=fe.l;fe.l=bt+4,ei(fe,Ge,Ye,_e,Rt),fe.l=tr}return _e}function ei(re,be,fe,de,ye){re.l+=2;var _e=re.read_shift(2),He=re.read_shift(2),et=s(re);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Fe=re.read_shift(4),Ge=re.read_shift(4),Ye=re.read_shift(4),gt=re.read_shift(2),St=re.read_shift(2),kt="",bt=0;bt<gt;++bt)kt+=String.fromCharCode(re[re.l++]);if(St){var Rt=o(re.slice(re.l,re.l+St));(Rt[21589]||{}).mt&&(et=Rt[21589].mt),((ye||{})[21589]||{}).mt&&(et=ye[21589].mt)}re.l+=St;var tr=re.slice(re.l,re.l+Ge);switch(He){case 8:tr=P(re,Ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var Lr=!1;_e&8&&(Fe=re.read_shift(4),Fe==134695760&&(Fe=re.read_shift(4),Lr=!0),Ge=re.read_shift(4),Ye=re.read_shift(4)),Ge!=be&&Ts(Lr,"Bad compressed size: "+be+" != "+Ge),Ye!=fe&&Ts(Lr,"Bad uncompressed size: "+fe+" != "+Ye),an(de,kt,tr,{unsafe:!0,mt:et})}function ti(re,be){var fe=be||{},de=[],ye=[],_e=at(1),He=fe.compression?8:0,et=0,Fe=0,Ge=0,Ye=0,gt=0,St=re.FullPaths[0],kt=St,bt=re.FileIndex[0],Rt=[],tr=0;for(Fe=1;Fe<re.FullPaths.length;++Fe)if(kt=re.FullPaths[Fe].slice(St.length),bt=re.FileIndex[Fe],!(!bt.size||!bt.content||kt=="Sh33tJ5")){var Lr=Ye,Br=at(kt.length);for(Ge=0;Ge<kt.length;++Ge)Br.write_shift(1,kt.charCodeAt(Ge)&127);Br=Br.slice(0,Br.l),Rt[gt]=iD.buf(bt.content,0);var en=bt.content;He==8&&(en=H(en)),_e=at(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,et),_e.write_shift(2,He),bt.mt?i(_e,bt.mt):_e.write_shift(4,0),_e.write_shift(-4,Rt[gt]),_e.write_shift(4,en.length),_e.write_shift(4,bt.content.length),_e.write_shift(2,Br.length),_e.write_shift(2,0),Ye+=_e.length,de.push(_e),Ye+=Br.length,de.push(Br),Ye+=en.length,de.push(en),_e=at(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,et),_e.write_shift(2,He),_e.write_shift(4,0),_e.write_shift(-4,Rt[gt]),_e.write_shift(4,en.length),_e.write_shift(4,bt.content.length),_e.write_shift(2,Br.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,Lr),tr+=_e.l,ye.push(_e),tr+=Br.length,ye.push(Br),++gt}return _e=at(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,gt),_e.write_shift(2,gt),_e.write_shift(4,tr),_e.write_shift(4,Ye),_e.write_shift(2,0),pi([pi(de),pi(ye),_e])}var nn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function er(re,be){if(re.ctype)return re.ctype;var fe=re.name||"",de=fe.match(/\.([^\.]+)$/);return de&&nn[de[1]]||be&&(de=(fe=be).match(/[\.\\]([^\.\\])+$/),de&&nn[de[1]])?nn[de[1]]:"application/octet-stream"}function kr(re){for(var be=P1(re),fe=[],de=0;de<be.length;de+=76)fe.push(be.slice(de,de+76));return fe.join(`\r
`)+`\r
`}function js(re){var be=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ge){var Ye=Ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Ye.length==1?"0"+Ye:Ye)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],de=be.split(`\r
`),ye=0;ye<de.length;++ye){var _e=de[ye];if(_e.length==0){fe.push("");continue}for(var He=0;He<_e.length;){var et=76,Fe=_e.slice(He,He+et);Fe.charAt(et-1)=="="?et--:Fe.charAt(et-2)=="="?et-=2:Fe.charAt(et-3)=="="&&(et-=3),Fe=_e.slice(He,He+et),He+=et,He<_e.length&&(Fe+="="),fe.push(Fe)}}return fe.join(`\r
`)}function Gn(re){for(var be=[],fe=0;fe<re.length;++fe){for(var de=re[fe];fe<=re.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+re[++fe];be.push(de)}for(var ye=0;ye<be.length;++ye)be[ye]=be[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return il(be.join(`\r
`))}function Bi(re,be,fe){for(var de="",ye="",_e="",He,et=0;et<10;++et){var Fe=be[et];if(!Fe||Fe.match(/^\s*$/))break;var Ge=Fe.match(/^(.*?):\s*([^\s].*)$/);if(Ge)switch(Ge[1].toLowerCase()){case"content-location":de=Ge[2].trim();break;case"content-type":_e=Ge[2].trim();break;case"content-transfer-encoding":ye=Ge[2].trim();break}}switch(++et,ye.toLowerCase()){case"base64":He=il(Uc(be.slice(et).join("")));break;case"quoted-printable":He=Gn(be.slice(et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var Ye=an(re,de.slice(fe.length),He,{unsafe:!0});_e&&(Ye.ctype=_e)}function is(re,be){if(ue(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=be&&be.root||"",de=(Jr&&Buffer.isBuffer(re)?re.toString("binary"):ue(re)).split(`\r
`),ye=0,_e="";for(ye=0;ye<de.length;++ye)if(_e=de[ye],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),fe||(fe=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),_e.slice(0,fe.length)!=fe););var He=(de[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var et="--"+(He[1]||""),Fe=[],Ge=[],Ye={FileIndex:Fe,FullPaths:Ge};F(Ye);var gt,St=0;for(ye=0;ye<de.length;++ye){var kt=de[ye];kt!==et&&kt!==et+"--"||(St++&&Bi(Ye,de.slice(gt,ye),fe),gt=ye)}return Ye}function qt(re,be){var fe=be||{},de=fe.boundary||"SheetJS";de="------="+de;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],_e=re.FullPaths[0],He=_e,et=re.FileIndex[0],Fe=1;Fe<re.FullPaths.length;++Fe)if(He=re.FullPaths[Fe].slice(_e.length),et=re.FileIndex[Fe],!(!et.size||!et.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(tr){return"_x"+tr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(tr){return"_u"+tr.charCodeAt(0).toString(16)+"_"});for(var Ge=et.content,Ye=Jr&&Buffer.isBuffer(Ge)?Ge.toString("binary"):ue(Ge),gt=0,St=Math.min(1024,Ye.length),kt=0,bt=0;bt<=St;++bt)(kt=Ye.charCodeAt(bt))>=32&&kt<128&&++gt;var Rt=gt>=St*4/5;ye.push(de),ye.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+He),ye.push("Content-Transfer-Encoding: "+(Rt?"quoted-printable":"base64")),ye.push("Content-Type: "+er(et,He)),ye.push(""),ye.push(Rt?js(Ye):kr(Ye))}return ye.push(de+`--\r
`),ye.join(`\r
`)}function Qr(re){var be={};return F(be,re),be}function an(re,be,fe,de){var ye=de&&de.unsafe;ye||F(re);var _e=!ye&&bn.find(re,be);if(!_e){var He=re.FullPaths[0];be.slice(0,He.length)==He?He=be:(He.slice(-1)!="/"&&(He+="/"),He=(He+be).replace("//","/")),_e={name:a(be),type:2},re.FileIndex.push(_e),re.FullPaths.push(He),ye||bn.utils.cfb_gc(re)}return _e.content=fe,_e.size=fe?fe.length:0,de&&(de.CLSID&&(_e.clsid=de.CLSID),de.mt&&(_e.mt=de.mt),de.ct&&(_e.ct=de.ct)),_e}function Wn(re,be){F(re);var fe=bn.find(re,be);if(fe){for(var de=0;de<re.FileIndex.length;++de)if(re.FileIndex[de]==fe)return re.FileIndex.splice(de,1),re.FullPaths.splice(de,1),!0}return!1}function Rn(re,be,fe){F(re);var de=bn.find(re,be);if(de){for(var ye=0;ye<re.FileIndex.length;++ye)if(re.FileIndex[ye]==de)return re.FileIndex[ye].name=a(fe),re.FullPaths[ye]=fe,!0}return!1}function Bn(re){O(re,!0)}return e.find=I,e.read=M,e.parse=d,e.write=Y,e.writeFile=we,e.utils={cfb_new:Qr,cfb_add:an,cfb_del:Wn,cfb_mov:Rn,cfb_gc:Bn,ReadShift:C1,CheckField:jE,prep_blob:Ws,bconcat:pi,use_zlib:R,_deflateRaw:cr,_inflateRaw:Rr,consts:ce},e}();function sD(r){return typeof r=="string"?g2(r):Array.isArray(r)?kL(r):r}function X1(r,e,t){if(typeof Deno!="undefined"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=g2(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?M1(e):e;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(n,r);if(typeof Blob!="undefined"){var a=new Blob([sD(n)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,r);if(typeof saveAs!="undefined")return saveAs(a,r);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:r,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=r,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var o=File(r);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=W1(e)),o.write(e),o.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+r)}function vi(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function C3(r,e){for(var t=[],n=vi(r),a=0;a!==n.length;++a)t[r[n[a]][e]]==null&&(t[r[n[a]][e]]=n[a]);return t}function sw(r){for(var e=[],t=vi(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function v2(r){for(var e=[],t=vi(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function oD(r){for(var e=[],t=vi(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var Fm=new Date(1899,11,30,0,0,0);function Ss(r,e){var t=r.getTime(),n=Fm.getTime()+(r.getTimezoneOffset()-Fm.getTimezoneOffset())*6e4;return(t-n)/(24*60*60*1e3)}var dE=new Date,lD=Fm.getTime()+(dE.getTimezoneOffset()-Fm.getTimezoneOffset())*6e4,T3=dE.getTimezoneOffset();function hE(r){var e=new Date;return e.setTime(r*24*60*60*1e3+lD),e.getTimezoneOffset()!==T3&&e.setTime(e.getTime()+(e.getTimezoneOffset()-T3)*6e4),e}var j3=new Date("2017-02-19T19:06:09.000Z"),pE=isNaN(j3.getFullYear())?new Date("2/19/17"):j3,cD=pE.getFullYear()==2017;function ns(r,e){var t=new Date(r);if(cD)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(pE.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function y2(r,e){if(Jr&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder!="undefined")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(i){return t[i]||i})}catch(i){}for(var n=[],a=0;a!=r.length;++a)n.push(String.fromCharCode(r[a]));return n.join("")}function Es(r){if(typeof JSON!="undefined"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Es(r[t]));return e}function oa(r,e){for(var t="";t.length<e;)t+=r;return t}function Pc(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return t=-t,i}),!isNaN(e=Number(n)))?e/t:e}var uD=["january","february","march","april","may","june","july","august","september","october","november","december"];function F1(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return t;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&uD.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||i>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function vr(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Jr?n=Hc(t):n=LL(t),bn.utils.cfb_add(r,e,n)}bn.utils.cfb_add(r,e,t)}else r.file(e,t)}function ow(){return bn.utils.cfb_new()}var Ca=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,fD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},lw=sw(fD),cw=/[&<>'"]/g,dD=/[\u0000-\u0008\u000b-\u001f]/g;function pn(r){var e=r+"";return e.replace(cw,function(t){return lw[t]}).replace(dD,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function O3(r){return pn(r).replace(/ /g,"_x0020_")}var gE=/[\u0000-\u001f]/g;function hD(r){var e=r+"";return e.replace(cw,function(t){return lw[t]}).replace(/\n/g,"<br/>").replace(gE,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function pD(r){var e=r+"";return e.replace(cw,function(t){return lw[t]}).replace(gE,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function gD(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function mD(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gv(r){for(var e="",t=0,n=0,a=0,i=0,s=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(a=r.charCodeAt(t++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=r.charCodeAt(t++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function R3(r){var e=lf(2*r.length),t,n,a=1,i=0,s=0,o;for(n=0;n<r.length;n+=a)a=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),a=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),a=3):(a=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=t%256,e[i++]=t>>>8;return e.slice(0,i).toString("ucs2")}function k3(r){return Hc(r,"binary").toString("utf8")}var gg="foo bar baz",N1=Jr&&(k3(gg)==gv(gg)&&k3||R3(gg)==gv(gg)&&R3)||gv,M1=Jr?function(r){return Hc(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,a=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},xD=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)n=n.replace(r[a][0],r[a][1]);return n}}(),mE=/(^\s|\s$|\n)/;function gi(r,e){return"<"+r+(e.match(mE)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function B1(r){return vi(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Et(r,e,t){return"<"+r+(t!=null?B1(t):"")+(e!=null?(e.match(mE)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function hy(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function vD(r,e){switch(typeof r){case"string":var t=Et("vt:lpwstr",pn(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Et((r|0)==r?"vt:i4":"vt:r8",pn(String(r)));case"boolean":return Et("vt:bool",r?"true":"false")}if(r instanceof Date)return Et("vt:filetime",hy(r));throw new Error("Unable to serialize "+r)}var Ya={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},rh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function yD(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,i=5;i>=0;--i)a=a*256+r[e+i];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function wD(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)r[t+o]=i&255;r[t+6]=(a&15)<<4|i&15,r[t+7]=a>>4|n}var L3=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var a=0,i=r[0][n].length;a<i;a+=t)e.push.apply(e,r[0][n].slice(a,a+t));return e},D3=Jr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Hc(e)})):L3(r)}:L3,I3=function(r,e,t){for(var n=[],a=e;a<t;a+=2)n.push(String.fromCharCode(m1(r,a)));return n.join("").replace(A1,"")},uw=Jr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(A1,""):I3(r,e,t)}:I3,P3=function(r,e,t){for(var n=[],a=e;a<e+t;++a)n.push(("0"+r[a].toString(16)).slice(-2));return n.join("")},xE=Jr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):P3(r,e,t)}:P3,F3=function(r,e,t){for(var n=[],a=e;a<t;a++)n.push(String.fromCharCode(jd(r,a)));return n.join("")},Y1=Jr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):F3(e,t,n)}:F3,vE=function(r,e){var t=Ys(r,e);return t>0?Y1(r,e+4,e+4+t-1):""},yE=vE,wE=function(r,e){var t=Ys(r,e);return t>0?Y1(r,e+4,e+4+t-1):""},bE=wE,_E=function(r,e){var t=2*Ys(r,e);return t>0?Y1(r,e+4,e+4+t-1):""},SE=_E,EE=function(e,t){var n=Ys(e,t);return n>0?uw(e,t+4,t+4+n):""},AE=EE,NE=function(r,e){var t=Ys(r,e);return t>0?Y1(r,e+4,e+4+t):""},CE=NE,TE=function(r,e){return yD(r,e)},Mm=TE,fw=function(e){return Array.isArray(e)||typeof Uint8Array!="undefined"&&e instanceof Uint8Array};Jr&&(yE=function(e,t){if(!Buffer.isBuffer(e))return vE(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},bE=function(e,t){if(!Buffer.isBuffer(e))return wE(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},SE=function(e,t){if(!Buffer.isBuffer(e))return _E(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},AE=function(e,t){if(!Buffer.isBuffer(e))return EE(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},CE=function(e,t){if(!Buffer.isBuffer(e))return NE(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Mm=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):TE(e,t)},fw=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array!="undefined"&&e instanceof Uint8Array});var jd=function(r,e){return r[e]},m1=function(r,e){return r[e+1]*256+r[e]},bD=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Ys=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Q0=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},_D=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function C1(r,e){var t="",n,a,i=[],s,o,c,u;switch(e){case"dbcs":if(u=this.l,Jr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)t+=String.fromCharCode(m1(this,u)),u+=2;r*=2;break;case"utf8":t=Y1(this,this.l,this.l+r);break;case"utf16le":r*=2,t=uw(this,this.l,this.l+r);break;case"wstr":return C1.call(this,r,"dbcs");case"lpstr-ansi":t=yE(this,this.l),r=4+Ys(this,this.l);break;case"lpstr-cp":t=bE(this,this.l),r=4+Ys(this,this.l);break;case"lpwstr":t=SE(this,this.l),r=4+2*Ys(this,this.l);break;case"lpp4":r=4+Ys(this,this.l),t=AE(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ys(this,this.l),t=CE(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(s=jd(this,this.l+r++))!==0;)i.push(dg(s));t=i.join("");break;case"_wstr":for(r=0,t="";(s=m1(this,this.l+r))!==0;)i.push(dg(s)),r+=2;r+=2,t=i.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=jd(this,u),this.l=u+1,o=C1.call(this,r-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dg(m1(this,u))),u+=2}t=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=jd(this,u),this.l=u+1,o=C1.call(this,r-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dg(jd(this,u))),u+=1}t=i.join("");break;default:switch(r){case 1:return n=jd(this,this.l),this.l++,n;case 2:return n=(e==="i"?bD:m1)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?Q0:_D)(this,this.l),this.l+=4,n):(a=Ys(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=Mm(this,this.l):a=Mm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=xE(this,this.l,r);break}}return this.l+=r,t}var SD=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},ED=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},AD=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function ND(r,e,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)AD(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var i=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,SD(this,e,this.l);break;case 8:if(n=8,t==="f"){wD(this,e,this.l);break}case 16:break;case-4:n=4,ED(this,e,this.l);break}return this.l+=n,this}function jE(r,e){var t=xE(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Ws(r,e){r.l=e,r.read_shift=C1,r.chk=jE,r.write_shift=ND}function Ql(r,e){r.l+=e}function at(r){var e=lf(r);return Ws(e,0),e}function _s(){var r=[],e=Jr?256:2048,t=function(u){var d=at(u);return Ws(d,0),d},n=t(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=t(Math.max(u+1,e)))},s=function(){return a(),pi(r)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:s,_bufs:r}}function xt(r,e,t,n){var a=+e,i;if(!isNaN(a)){n||(n=yU[a].p||(t||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=r.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&fw(t)&&r.push(t)}}function T1(r,e,t){var n=Es(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function M3(r,e,t){var n=Es(r);return n.s=T1(n.s,e.s,t),n.e=T1(n.e,e.s,t),n}function j1(r,e){if(r.cRel&&r.c<0)for(r=Es(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Es(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=gn(r);return!r.cRel&&r.cRel!=null&&(t=jD(t)),!r.rRel&&r.rRel!=null&&(t=CD(t)),t}function mv(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Ii(r.s.c)+":"+(r.e.cRel?"":"$")+Ii(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+xi(r.s.r)+":"+(r.e.rRel?"":"$")+xi(r.e.r):j1(r.s,e.biff)+":"+j1(r.e,e.biff)}function dw(r){return parseInt(TD(r),10)-1}function xi(r){return""+(r+1)}function CD(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function TD(r){return r.replace(/\$(\d+)$/,"$1")}function hw(r){for(var e=OD(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Ii(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function jD(r){return r.replace(/^([A-Z])/,"$$$1")}function OD(r){return r.replace(/^\$([A-Z])/,"$1")}function RD(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Za(r){for(var e=0,t=0,n=0;n<r.length;++n){var a=r.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function gn(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Js(r){var e=r.indexOf(":");return e==-1?{s:Za(r),e:Za(r)}:{s:Za(r.slice(0,e)),e:Za(r.slice(e+1))}}function Na(r,e){return typeof e=="undefined"||typeof e=="number"?Na(r.s,r.e):(typeof r!="string"&&(r=gn(r)),typeof e!="string"&&(e=gn(e)),r==e?r:r+":"+e)}function Fn(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,i=r.length;for(t=0;n<i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.s.c=--t,t=0;n<i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(e.s.r=--t,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.e.c=--t,t=0;n!=i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return e.e.r=--t,e}function B3(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Ju(r.z,t?Ss(e):e)}catch(n){}try{return r.w=Ju((r.XF||{}).numFmtId||(t?14:0),t?Ss(e):e)}catch(n){return""+e}}function zc(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?K1[r.v]||r.v:e==null?B3(r,r.v):B3(r,e))}function pf(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function OE(r,e,t){var n=t||{},a=r?Array.isArray(r):n.dense,i=r||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Fn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(typeof e[p][g]!="undefined"){var m={v:e[p][g]},y=s+p,w=o+g;if(u.s.r>y&&(u.s.r=y),u.s.c>w&&(u.s.c=w),u.e.r<y&&(u.e.r=y),u.e.c<w&&(u.e.c=w),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))m=e[p][g];else if(Array.isArray(m.v)&&(m.f=e[p][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||la[14],n.cellDates?(m.t="d",m.w=Ju(m.z,Ss(m.v))):(m.t="n",m.v=Ss(m.v),m.w=Ju(m.z,m.v))):m.t="s";if(a)i[y]||(i[y]=[]),i[y][w]&&i[y][w].z&&(m.z=i[y][w].z),i[y][w]=m;else{var _=gn({c:w,r:y});i[_]&&i[_].z&&(m.z=i[_].z),i[_]=m}}}return u.s.c<1e7&&(i["!ref"]=Na(u)),i}function nh(r,e){return OE(null,r,e)}function kD(r){return r.read_shift(4,"i")}function cl(r,e){return e||(e=at(4)),e.write_shift(4,r),e}function Pi(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Ja(r,e){var t=!1;return e==null&&(t=!0,e=at(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function LD(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function DD(r,e){return e||(e=at(4)),e.write_shift(2,0),e.write_shift(2,0),e}function pw(r,e){var t=r.l,n=r.read_shift(1),a=Pi(r),i=[],s={t:a,h:a};if((n&1)!==0){for(var o=r.read_shift(4),c=0;c!=o;++c)i.push(LD(r));s.r=i}else s.r=[{ich:0,ifnt:0}];return r.l=t+e,s}function ID(r,e){var t=!1;return e==null&&(t=!0,e=at(15+4*r.t.length)),e.write_shift(1,0),Ja(r.t,e),t?e.slice(0,e.l):e}var PD=pw;function FD(r,e){var t=!1;return e==null&&(t=!0,e=at(23+4*r.t.length)),e.write_shift(1,1),Ja(r.t,e),e.write_shift(4,1),DD({},e),t?e.slice(0,e.l):e}function Ao(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function gf(r,e){return e==null&&(e=at(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function mf(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function xf(r,e){return e==null&&(e=at(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var MD=Pi,RE=Ja;function gw(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function Bm(r,e){var t=!1;return e==null&&(t=!0,e=at(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var BD=Pi,py=gw,mw=Bm;function kE(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var a=n===0?Mm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Q0(e,0)>>2;return t?a/100:a}function LE(r,e){e==null&&(e=at(4));var t=0,n=0,a=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?a:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function DE(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function UD(r,e){return e||(e=at(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var vf=DE,ah=UD;function ih(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function cf(r,e){return(e||at(8)).write_shift(8,r,"f")}function zD(r){var e={},t=r.read_shift(1),n=t>>>1,a=r.read_shift(1),i=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=KD[a];u&&(e.rgb=K3(u));break;case 2:e.rgb=K3([s,o,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function Um(r,e){if(e||(e=at(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function HD(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function qD(r,e){e||(e=at(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var IE=2,Vs=3,mg=11,zm=19,xg=64,$D=65,VD=71,GD=4108,WD=4126,hi=80,U3={1:{n:"CodePage",t:IE},2:{n:"Category",t:hi},3:{n:"PresentationFormat",t:hi},4:{n:"ByteCount",t:Vs},5:{n:"LineCount",t:Vs},6:{n:"ParagraphCount",t:Vs},7:{n:"SlideCount",t:Vs},8:{n:"NoteCount",t:Vs},9:{n:"HiddenCount",t:Vs},10:{n:"MultimediaClipCount",t:Vs},11:{n:"ScaleCrop",t:mg},12:{n:"HeadingPairs",t:GD},13:{n:"TitlesOfParts",t:WD},14:{n:"Manager",t:hi},15:{n:"Company",t:hi},16:{n:"LinksUpToDate",t:mg},17:{n:"CharacterCount",t:Vs},19:{n:"SharedDoc",t:mg},22:{n:"HyperlinksChanged",t:mg},23:{n:"AppVersion",t:Vs,p:"version"},24:{n:"DigSig",t:$D},26:{n:"ContentType",t:hi},27:{n:"ContentStatus",t:hi},28:{n:"Language",t:hi},29:{n:"Version",t:hi},255:{},2147483648:{n:"Locale",t:zm},2147483651:{n:"Behavior",t:zm},1919054434:{}},z3={1:{n:"CodePage",t:IE},2:{n:"Title",t:hi},3:{n:"Subject",t:hi},4:{n:"Author",t:hi},5:{n:"Keywords",t:hi},6:{n:"Comments",t:hi},7:{n:"Template",t:hi},8:{n:"LastAuthor",t:hi},9:{n:"RevNumber",t:hi},10:{n:"EditTime",t:xg},11:{n:"LastPrinted",t:xg},12:{n:"CreatedDate",t:xg},13:{n:"ModifiedDate",t:xg},14:{n:"PageCount",t:Vs},15:{n:"WordCount",t:Vs},16:{n:"CharCount",t:Vs},17:{n:"Thumbnail",t:VD},18:{n:"Application",t:hi},19:{n:"DocSecurity",t:Vs},255:{},2147483648:{n:"Locale",t:zm},2147483651:{n:"Behavior",t:zm},1919054434:{}};function XD(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var YD=XD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),KD=Es(YD),K1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ZD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},vg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function PE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function FE(r,e){var t=oD(ZD),n=[],a;n[n.length]=Ca,n[n.length]=Et("Types",null,{xmlns:Ya.CT,"xmlns:xsd":Ya.xsd,"xmlns:xsi":Ya.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Et("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){r[c]&&r[c].length>0&&(a=r[c][0],n[n.length]=Et("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:vg[c][e.bookType]||vg[c].xlsx}))},s=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Et("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:vg[c][e.bookType]||vg[c].xlsx})})},o=function(c){(r[c]||[]).forEach(function(u){n[n.length]=Et("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Wr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ME(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Ud(r){var e=[Ca,Et("Relationships",null,{xmlns:Ya.RELS})];return vi(r["!id"]).forEach(function(t){e[e.length]=Et("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function dn(r,e,t,n,a,i){if(a||(a={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=t,[Wr.HLINK,Wr.XPATH,Wr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),r["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][a.Id]=a,r[("/"+a.Target).replace("//","/")]=a,e}function JD(r){var e=[Ca];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function H3(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function QD(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function eI(r){var e=[Ca];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(H3(r[t][0],r[t][1])),e.push(QD("",r[t][0]));return e.push(H3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function BE(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Lm.version+"</meta:generator></office:meta></office:document-meta>"}var af=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function xv(r,e,t,n,a){a[r]!=null||e==null||e===""||(a[r]=e,e=pn(e),n[n.length]=t?Et(r,e,t):gi(r,e))}function UE(r,e){var t=e||{},n=[Ca,Et("cp:coreProperties",null,{"xmlns:cp":Ya.CORE_PROPS,"xmlns:dc":Ya.dc,"xmlns:dcterms":Ya.dcterms,"xmlns:dcmitype":Ya.dcmitype,"xmlns:xsi":Ya.xsi})],a={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&xv("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:hy(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),r.ModifiedDate!=null&&xv("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:hy(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=af.length;++i){var s=af[i],o=t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:r?r[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&xv(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var zd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],zE=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function HE(r){var e=[],t=Et;return r||(r={}),r.Application="SheetJS",e[e.length]=Ca,e[e.length]=Et("Properties",null,{xmlns:Ya.EXT_PROPS,"xmlns:vt":Ya.vt}),zd.forEach(function(n){if(r[n[1]]!==void 0){var a;switch(n[2]){case"string":a=pn(String(r[n[1]]));break;case"bool":a=r[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(n[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+pn(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function qE(r){var e=[Ca,Et("Properties",null,{xmlns:Ya.CUST_PROPS,"xmlns:vt":Ya.vt})];if(!r)return e.join("");var t=1;return vi(r).forEach(function(a){++t,e[e.length]=Et("property",vD(r[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:pn(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var q3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function tI(r,e){var t=[];return vi(q3).map(function(n){for(var a=0;a<af.length;++a)if(af[a][1]==n)return af[a];for(a=0;a<zd.length;++a)if(zd[a][1]==n)return zd[a];throw n}).forEach(function(n){if(r[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(gi(q3[n[1]]||n[1],a))}}),Et("DocumentProperties",t.join(""),{xmlns:Xs.o})}function rI(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return r&&vi(r).forEach(function(i){if(Object.prototype.hasOwnProperty.call(r,i)){for(var s=0;s<af.length;++s)if(i==af[s][1])return;for(s=0;s<zd.length;++s)if(i==zd[s][1])return;for(s=0;s<t.length;++s)if(i==t[s])return;var o=r[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(Et(O3(i),o,{"dt:dt":c}))}}),e&&vi(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(r&&Object.prototype.hasOwnProperty.call(r,i))){var s=e[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(Et(O3(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Xs.o+'">'+a.join("")+"</"+n+">"}function nI(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),a=(t-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=at(8);return s.write_shift(4,n),s.write_shift(4,a),s}function $3(r,e){var t=at(4),n=at(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=at(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=nI(e);break;case 31:case 80:for(n=at(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return pi([t,n])}var $E=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function aI(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function V3(r,e,t){var n=at(8),a=[],i=[],s=8,o=0,c=at(8),u=at(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!e){u=at(8),u.write_shift(4,0),a.unshift(u);var d=[at(4)];for(d[0].write_shift(4,r.length),o=0;o<r.length;++o){var p=r[o][0];for(c=at(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=pi(d),i.unshift(c),s+=8+c.length}for(o=0;o<r.length;++o)if(!(e&&!e[r[o][0]])&&!($E.indexOf(r[o][0])>-1||zE.indexOf(r[o][0])>-1)&&r[o][1]!=null){var g=r[o][1],m=0;if(e){m=+e[r[o][0]];var y=t[m];if(y.p=="version"&&typeof g=="string"){var w=g.split(".");g=(+w[0]<<16)+(+w[1]||0)}c=$3(y.t,g)}else{var _=aI(g);_==-1&&(_=31,g=String(g)),c=$3(_,g)}i.push(c),u=at(8),u.write_shift(4,e?m:2+o),a.push(u),s+=8+c.length}var S=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,S),S+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),pi([n].concat(a).concat(i))}function G3(r,e,t,n,a,i){var s=at(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,bn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,a?68:48);var c=V3(r,t,n);if(o.push(c),a){var u=V3(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return pi(o)}function iI(r,e){e||(e=at(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function sI(r,e){return r.read_shift(e)===1}function es(r,e){return e||(e=at(2)),e.write_shift(2,+!!r),e}function VE(r){return r.read_shift(2,"u")}function yo(r,e){return e||(e=at(2)),e.write_shift(2,r),e}function GE(r,e,t){return t||(t=at(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function WE(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var i=r.read_shift(1);i&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var s=n?r.read_shift(n,a):"";return s}function oI(r){var e=r.t||"",t=at(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=at(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[t,n];return pi(a)}function lI(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function cI(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):lI(r,n,t)}function uI(r,e,t){if(t.biff>5)return cI(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function XE(r,e,t){return t||(t=at(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function W3(r,e){e||(e=at(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function fI(r){var e=at(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(t=0;t<s.length;++t)e.write_shift(4,s[t]);if(i==28)n=n.slice(1),W3(n,e);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));var o=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),i&8&&W3(a>-1?n.slice(a+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<s.length;++t)e.write_shift(1,parseInt(s[t],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),t=0;t<n.length-3*c;++t)e.write_shift(1,n.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function uf(r,e,t,n){return n||(n=at(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function dI(r,e,t){var n=t.biff>8?4:2,a=r.read_shift(n),i=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[a,i,s]}function hI(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:t}}}function YE(r,e){return e||(e=at(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function xw(r,e,t){var n=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=at(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function pI(r,e){var t=!e||e.biff==8,n=at(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function gI(r,e){var t=!e||e.biff>=8?2:1,n=at(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function mI(r,e){var t=at(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],a=0;a<r.length;++a)n[a]=oI(r[a]);var i=pi([t].concat(n));return i.parts=[t.length].concat(n.map(function(s){return s.length})),i}function xI(){var r=at(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function vI(r){var e=at(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function yI(r,e){var t=r.name||"Arial",n=e&&e.biff==5,a=n?15+t.length:16+2*t.length,i=at(a);return i.write_shift(2,r.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,t.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),i}function wI(r,e,t,n){var a=at(10);return uf(r,e,n,a),a.write_shift(4,t),a}function bI(r,e,t,n,a){var i=!a||a.biff==8,s=at(8+ +i+(1+i)*t.length);return uf(r,e,n,s),s.write_shift(2,t.length),i&&s.write_shift(1,1),s.write_shift((1+i)*t.length,t,i?"utf16le":"sbcs"),s}function _I(r,e,t,n){var a=t&&t.biff==5;n||(n=at(a?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function SI(r,e){var t=e.biff==8||!e.biff?4:2,n=at(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function X3(r,e,t,n){var a=t&&t.biff==5;n||(n=at(a?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var i=0;return r.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function EI(r){var e=at(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function AI(r,e,t,n,a,i){var s=at(8);return uf(r,e,n,s),GE(t,i,s),s}function NI(r,e,t,n){var a=at(14);return uf(r,e,n,a),cf(t,a),a}function CI(r,e,t){if(t.biff<8)return TI(r,e,t);for(var n=[],a=r.l+e,i=r.read_shift(t.biff>8?4:2);i--!==0;)n.push(dI(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return n}function TI(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=WE(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function jI(r){var e=at(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)YE(r[t],e);return e}function OI(r){var e=at(24),t=Za(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return pi([e,fI(r[1])])}function RI(r){var e=r[1].Tooltip,t=at(10+2*(e.length+1));t.write_shift(2,2048);var n=Za(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function kI(r){return r||(r=at(4)),r.write_shift(2,1),r.write_shift(2,1),r}function LI(r,e,t){if(!t.cellStyles)return Ql(r,e);var n=t&&t.biff>=12?4:2,a=r.read_shift(n),i=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function DI(r,e){var t=at(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function II(r){for(var e=at(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function PI(r,e,t){var n=at(15);return J1(n,r,e),n.write_shift(8,t,"f"),n}function FI(r,e,t){var n=at(9);return J1(n,r,e),n.write_shift(2,t),n}var MI=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=sw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,c){var u=[],d=lf(1);switch(c.type){case"base64":d=il(Uc(o));break;case"binary":d=il(o);break;case"buffer":case"array":d=o;break}Ws(d,0);var p=d.read_shift(1),g=!!(p&136),m=!1,y=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,_=521;p==2&&(w=d.read_shift(2)),d.l+=3,p!=2&&(w=d.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(_=d.read_shift(2));var S=d.read_shift(2),A=c.codepage||1252;p!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(A=r[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var C=[],L={},B=Math.min(d.length,p==2?521:_-10-(m?264:0)),M=y?32:11;d.l<B&&d[d.l]!=13;)switch(L={},L.name=v3.utils.decode(A,d.slice(d.l,d.l+M)).replace(/[\u0000\r\n].*$/g,""),d.l+=M,L.type=String.fromCharCode(d.read_shift(1)),p!=2&&!y&&(L.offset=d.read_shift(4)),L.len=d.read_shift(1),p==2&&(L.offset=d.read_shift(2)),L.dec=d.read_shift(1),L.name.length&&C.push(L),p!=2&&(d.l+=y?13:14),L.type){case"B":(!m||L.len!=8)&&c.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(d[d.l]!==13&&(d.l=_-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=_;var F=0,D=0;for(u[0]=[],D=0;D!=C.length;++D)u[0][D]=C[D].name;for(;w-- >0;){if(d[d.l]===42){d.l+=S;continue}for(++d.l,u[++F]=[],D=0,D=0;D!=C.length;++D){var O=d.slice(d.l,d.l+C[D].len);d.l+=C[D].len,Ws(O,0);var q=v3.utils.decode(A,O);switch(C[D].type){case"C":q.trim().length&&(u[F][D]=q.replace(/\s+$/,""));break;case"D":q.length===8?u[F][D]=new Date(+q.slice(0,4),+q.slice(4,6)-1,+q.slice(6,8)):u[F][D]=q;break;case"F":u[F][D]=parseFloat(q.trim());break;case"+":case"I":u[F][D]=y?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(q.trim().toUpperCase()){case"Y":case"T":u[F][D]=!0;break;case"N":case"F":u[F][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+q+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[F][D]="##MEMO##"+(y?parseInt(q.trim(),10):O.read_shift(4));break;case"N":q=q.replace(/\u0000/g,"").trim(),q&&q!="."&&(u[F][D]=+q||0);break;case"@":u[F][D]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[F][D]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[F][D]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[F][D]=-O.read_shift(-8,"f");break;case"B":if(m&&C[D].len==8){u[F][D]=O.read_shift(8,"f");break}case"G":case"P":O.l+=C[D].len;break;case"0":if(C[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[D].type)}}}if(p!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=C,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=nh(t(o,u),u);return d["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,d}function a(o,c){try{return pf(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&I1(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=_s(),p=Gm(o,{header:1,raw:!0,cellDates:!0}),g=p[0],m=p.slice(1),y=o["!cols"]||[],w=0,_=0,S=0,A=1;for(w=0;w<g.length;++w){if(((y[w]||{}).DBF||{}).name){g[w]=y[w].DBF.name,++S;continue}if(g[w]!=null){if(++S,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(_=0;_<1024;++_)if(g.indexOf(g[w]+"_"+_)==-1){g[w]+="_"+_;break}}}}var C=Fn(o["!ref"]),L=[],B=[],M=[];for(w=0;w<=C.e.c-C.s.c;++w){var F="",D="",O=0,q=[];for(_=0;_<m.length;++_)m[_][w]!=null&&q.push(m[_][w]);if(q.length==0||g[w]==null){L[w]="?";continue}for(_=0;_<q.length;++_){switch(typeof q[_]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=q[_]instanceof Date?"D":"C";break;default:D="C"}O=Math.max(O,String(q[_]).length),F=F&&F!=D?"C":D}O>250&&(O=250),D=((y[w]||{}).DBF||{}).type,D=="C"&&y[w].DBF.len>O&&(O=y[w].DBF.len),F=="B"&&D=="N"&&(F="N",M[w]=y[w].DBF.dec,O=y[w].DBF.len),B[w]=F=="C"||D=="N"?O:i[F]||0,A+=B[w],L[w]=F}var I=d.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*S),I.write_shift(2,A),w=0;w<4;++w)I.write_shift(4,0);for(I.write_shift(4,0|(+e[ZS]||3)<<8),w=0,_=0;w<g.length;++w)if(g[w]!=null){var U=d.next(32),X=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,X,"sbcs"),U.write_shift(1,L[w]=="?"?"C":L[w],"sbcs"),U.write_shift(4,_),U.write_shift(1,B[w]||i[L[w]]||0),U.write_shift(1,M[w]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),_+=B[w]||i[L[w]]||0}var ae=d.next(264);for(ae.write_shift(4,13),w=0;w<65;++w)ae.write_shift(4,0);for(w=0;w<m.length;++w){var Se=d.next(A);for(Se.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(L[_]){case"L":Se.write_shift(1,m[w][_]==null?63:m[w][_]?84:70);break;case"B":Se.write_shift(8,m[w][_]||0,"f");break;case"N":var Q="0";for(typeof m[w][_]=="number"&&(Q=m[w][_].toFixed(M[_]||0)),S=0;S<B[_]-Q.length;++S)Se.write_shift(1,32);Se.write_shift(1,Q,"sbcs");break;case"D":m[w][_]?(Se.write_shift(4,("0000"+m[w][_].getFullYear()).slice(-4),"sbcs"),Se.write_shift(2,("00"+(m[w][_].getMonth()+1)).slice(-2),"sbcs"),Se.write_shift(2,("00"+m[w][_].getDate()).slice(-2),"sbcs")):Se.write_shift(8,"00000000","sbcs");break;case"C":var ce=String(m[w][_]!=null?m[w][_]:"").slice(0,B[_]);for(Se.write_shift(1,ce,"sbcs"),S=0;S<B[_]-ce.length;++S)Se.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),BI=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+vi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,m){var y=r[m];return typeof y=="number"?x3(y):y},n=function(g,m,y){var w=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return w==59?g:x3(w)};r["|"]=254;function a(g,m){switch(m.type){case"base64":return i(Uc(g),m);case"binary":return i(g,m);case"buffer":return i(Jr&&Buffer.isBuffer(g)?g.toString("binary"):W1(g),m);case"array":return i(y2(g),m)}throw new Error("Unrecognized type "+m.type)}function i(g,m){var y=g.split(/[\n\r]+/),w=-1,_=-1,S=0,A=0,C=[],L=[],B=null,M={},F=[],D=[],O=[],q=0,I;for(+m.codepage>=0&&I1(+m.codepage);S!==y.length;++S){q=0;var U=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),X=U.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),ae=X[0],Se;if(U.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":X[1].charAt(0)=="P"&&L.push(U.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,ce=!1,we=!1,ue=!1,Y=-1,xe=-1;for(A=1;A<X.length;++A)switch(X[A].charAt(0)){case"A":break;case"X":_=parseInt(X[A].slice(1))-1,ce=!0;break;case"Y":for(w=parseInt(X[A].slice(1))-1,ce||(_=0),I=C.length;I<=w;++I)C[I]=[];break;case"K":Se=X[A].slice(1),Se.charAt(0)==='"'?Se=Se.slice(1,Se.length-1):Se==="TRUE"?Se=!0:Se==="FALSE"?Se=!1:isNaN(Pc(Se))?isNaN(F1(Se).getDate())||(Se=ns(Se)):(Se=Pc(Se),B!==null&&cE(B)&&(Se=hE(Se))),Q=!0;break;case"E":ue=!0;var R=FP(X[A].slice(1),{r:w,c:_});C[w][_]=[C[w][_],R];break;case"S":we=!0,C[w][_]=[C[w][_],"S5S"];break;case"G":break;case"R":Y=parseInt(X[A].slice(1))-1;break;case"C":xe=parseInt(X[A].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}if(Q&&(C[w][_]&&C[w][_].length==2?C[w][_][0]=Se:C[w][_]=Se,B=null),we){if(ue)throw new Error("SYLK shared formula cannot have own formula");var P=Y>-1&&C[Y][xe];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");C[w][_][1]=MP(P[1],{r:w-Y,c:_-xe})}break;case"F":var H=0;for(A=1;A<X.length;++A)switch(X[A].charAt(0)){case"X":_=parseInt(X[A].slice(1))-1,++H;break;case"Y":for(w=parseInt(X[A].slice(1))-1,I=C.length;I<=w;++I)C[I]=[];break;case"M":q=parseInt(X[A].slice(1))/20;break;case"F":break;case"G":break;case"P":B=L[parseInt(X[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=X[A].slice(1).split(" "),I=parseInt(O[0],10);I<=parseInt(O[1],10);++I)q=parseInt(O[2],10),D[I-1]=q===0?{hidden:!0}:{wch:q},vw(D[I-1]);break;case"C":_=parseInt(X[A].slice(1))-1,D[_]||(D[_]={});break;case"R":w=parseInt(X[A].slice(1))-1,F[w]||(F[w]={}),q>0?(F[w].hpt=q,F[w].hpx=eA(q)):q===0&&(F[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}H<1&&(B=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}}return F.length>0&&(M["!rows"]=F),D.length>0&&(M["!cols"]=D),m&&m.sheetRows&&(C=C.slice(0,m.sheetRows)),[C,M]}function s(g,m){var y=a(g,m),w=y[0],_=y[1],S=nh(w,m);return vi(_).forEach(function(A){S[A]=_[A]}),S}function o(g,m){return pf(s(g,m),m)}function c(g,m,y,w){var _="C;Y"+(y+1)+";X"+(w+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+ww(g.f,{r:y,c:w}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function u(g,m){m.forEach(function(y,w){var _="F;W"+(w+1)+" "+(w+1)+" ";y.hidden?_+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Hm(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=qm(y.wpx)),typeof y.wch=="number"&&(_+=Math.round(y.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function d(g,m){m.forEach(function(y,w){var _="F;";y.hidden?_+="M0;":y.hpt?_+="M"+20*y.hpt+";":y.hpx&&(_+="M"+20*$m(y.hpx)+";"),_.length>2&&g.push(_+"R"+(w+1))})}function p(g,m){var y=["ID;PWXL;N;E"],w=[],_=Fn(g["!ref"]),S,A=Array.isArray(g),C=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&u(y,g["!cols"]),g["!rows"]&&d(y,g["!rows"]),y.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var L=_.s.r;L<=_.e.r;++L)for(var B=_.s.c;B<=_.e.c;++B){var M=gn({r:L,c:B});S=A?(g[L]||[])[B]:g[M],!(!S||S.v==null&&(!S.f||S.F))&&w.push(c(S,g,L,B))}return y.join(C)+C+w.join(C)+C+"E"+C}return{to_workbook:o,to_sheet:s,from_sheet:p}}(),UI=function(){function r(i,s){switch(s.type){case"base64":return e(Uc(i),s);case"binary":return e(i,s);case"buffer":return e(Jr&&Buffer.isBuffer(i)?i.toString("binary"):W1(i),s);case"array":return e(y2(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var o=i.split(`
`),c=-1,u=-1,d=0,p=[];d!==o.length;++d){if(o[d].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var g=o[d].trim().split(","),m=g[0],y=g[1];++d;for(var w=o[d]||"";(w.match(/["]/g)||[]).length&1&&d<o.length-1;)w+=`
`+o[++d];switch(w=w.trim(),+m){case-1:if(w==="BOT"){p[++c]=[],u=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[c][u]=!0:w==="FALSE"?p[c][u]=!1:isNaN(Pc(y))?isNaN(F1(y).getDate())?p[c][u]=y:p[c][u]=ns(y):p[c][u]=Pc(y),++u;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[c][u++]=w!==""?w:null;break}if(w==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function t(i,s){return nh(r(i,s),s)}function n(i,s){return pf(t(i,s),s)}var a=function(){var i=function(c,u,d,p,g){c.push(u),c.push(d+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},s=function(c,u,d,p){c.push(u+","+d),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],d=Fn(c["!ref"]),p,g=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){s(u,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var w=gn({r:m,c:y});if(p=g?(c[m]||[])[y]:c[w],!p){s(u,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?s(u,1,0,"="+p.f):s(u,1,0,""):s(u,0,_,"V");break;case"b":s(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Ju(p.z||la[14],Ss(ns(p.v)))),s(u,0,p.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var S=`\r
`,A=u.join(S);return A}}();return{to_workbook:n,to_sheet:t,from_sheet:a}}(),KE=function(){function r(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,g){for(var m=p.split(`
`),y=-1,w=-1,_=0,S=[];_!==m.length;++_){var A=m[_].trim().split(":");if(A[0]==="cell"){var C=Za(A[1]);if(S.length<=C.r)for(y=S.length;y<=C.r;++y)S[y]||(S[y]=[]);switch(y=C.r,w=C.c,A[2]){case"t":S[y][w]=r(A[3]);break;case"v":S[y][w]=+A[3];break;case"vtf":var L=A[A.length-1];case"vtc":switch(A[3]){case"nl":S[y][w]=!!+A[4];break;default:S[y][w]=+A[4];break}A[2]=="vtf"&&(S[y][w]=[S[y][w],L])}}}return g&&g.sheetRows&&(S=S.slice(0,g.sheetRows)),S}function n(p,g){return nh(t(p,g),g)}function a(p,g){return pf(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],m=[],y,w="",_=Js(p["!ref"]),S=Array.isArray(p),A=_.s.r;A<=_.e.r;++A)for(var C=_.s.c;C<=_.e.c;++C)if(w=gn({r:A,c:C}),y=S?(p[A]||[])[C]:p[w],!(!y||y.v==null||y.t==="z")){switch(m=["cell",w,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var L=Ss(ns(y.v));m[2]="vtc",m[3]="nd",m[4]=""+L,m[5]=y.w||Ju(y.z||la[14],L);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(p){return[i,s,o,s,u(p),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),zI=function(){function r(d,p,g,m,y){y.raw?p[g][m]=d:d===""||(d==="TRUE"?p[g][m]=!0:d==="FALSE"?p[g][m]=!1:isNaN(Pc(d))?isNaN(F1(d).getDate())?p[g][m]=d:p[g][m]=ns(d):p[g][m]=Pc(d))}function e(d,p){var g=p||{},m=[];if(!d||d.length===0)return m;for(var y=d.split(/[\r\n]/),w=y.length-1;w>=0&&y[w].length===0;)--w;for(var _=10,S=0,A=0;A<=w;++A)S=y[A].indexOf(" "),S==-1?S=y[A].length:S++,_=Math.max(_,S);for(A=0;A<=w;++A){m[A]=[];var C=0;for(r(y[A].slice(0,_).trim(),m,A,C,g),C=1;C<=(y[A].length-_)/10+1;++C)r(y[A].slice(_+(C-1)*10,_+C*10).trim(),m,A,C,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var p={},g=!1,m=0,y=0;m<d.length;++m)(y=d.charCodeAt(m))==34?g=!g:!g&&y in t&&(p[y]=(p[y]||0)+1);y=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m]);if(!y.length){p=n;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m])}return y.sort(function(w,_){return w[0]-_[0]||n[w[1]]-n[_[1]]}),t[y.pop()[1]]||44}function i(d,p){var g=p||{},m="",y=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):g&&g.FS?m=g.FS:m=a(d.slice(0,1024));var _=0,S=0,A=0,C=0,L=0,B=m.charCodeAt(0),M=!1,F=0,D=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?nD(g.dateNF):null;function q(){var I=d.slice(C,L),U={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)U.t="z";else if(g.raw)U.t="s",U.v=I;else if(I.trim().length===0)U.t="s",U.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(U.t="s",U.v=I.slice(2,-1).replace(/""/g,'"')):BP(I)?(U.t="n",U.f=I.slice(1)):(U.t="s",U.v=I);else if(I=="TRUE")U.t="b",U.v=!0;else if(I=="FALSE")U.t="b",U.v=!1;else if(!isNaN(A=Pc(I)))U.t="n",g.cellText!==!1&&(U.w=I),U.v=A;else if(!isNaN(F1(I).getDate())||O&&I.match(O)){U.z=g.dateNF||la[14];var X=0;O&&I.match(O)&&(I=aD(I,g.dateNF,I.match(O)||[]),X=1),g.cellDates?(U.t="d",U.v=ns(I,X)):(U.t="n",U.v=Ss(ns(I,X))),g.cellText!==!1&&(U.w=Ju(U.z,U.v instanceof Date?Ss(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=I;if(U.t=="z"||(g.dense?(y[_]||(y[_]=[]),y[_][S]=U):y[gn({c:S,r:_})]=U),C=L+1,D=d.charCodeAt(C),w.e.c<S&&(w.e.c=S),w.e.r<_&&(w.e.r=_),F==B)++S;else if(S=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;L<d.length;++L)switch(F=d.charCodeAt(L)){case 34:D===34&&(M=!M);break;case B:case 10:case 13:if(!M&&q())break e;break}return L-C>0&&q(),y["!ref"]=Na(w),y}function s(d,p){return!(p&&p.PRN)||p.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,p):nh(e(d,p),p)}function o(d,p){var g="",m=p.type=="string"?[0,0,0,0]:QU(d,p);switch(p.type){case"base64":g=Uc(d);break;case"binary":g=d;break;case"buffer":p.codepage==65001?g=d.toString("utf8"):(p.codepage,g=Jr&&Buffer.isBuffer(d)?d.toString("binary"):W1(d));break;case"array":g=y2(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=N1(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=N1(g):p.type=="binary",g.slice(0,19)=="socialcalc:version:"?KE.to_sheet(p.type=="string"?g:N1(g),p):s(g,p)}function c(d,p){return pf(o(d,p),p)}function u(d){for(var p=[],g=Fn(d["!ref"]),m,y=Array.isArray(d),w=g.s.r;w<=g.e.r;++w){for(var _=[],S=g.s.c;S<=g.e.c;++S){var A=gn({r:w,c:S});if(m=y?(d[w]||[])[S]:d[A],!m||m.v==null){_.push("          ");continue}for(var C=(m.w||(zc(m),m.w)||"").slice(0,10);C.length<10;)C+=" ";_.push(C+(S===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),Y3=function(){function r(R,P,H){if(R){Ws(R,R.l||0);for(var G=H.Enum||Y;R.l<R.length;){var J=R.read_shift(2),Ee=G[J]||G[65535],ve=R.read_shift(2),he=R.l+ve,pe=Ee.f&&Ee.f(R,ve,H);if(R.l=he,P(pe,Ee,J))return}}}function e(R,P){switch(P.type){case"base64":return t(il(Uc(R)),P);case"binary":return t(il(R),P);case"buffer":case"array":return t(R,P)}throw"Unsupported type "+P.type}function t(R,P){if(!R)return R;var H=P||{},G=H.dense?[]:{},J="Sheet1",Ee="",ve=0,he={},pe=[],Ne=[],Be={s:{r:0,c:0},e:{r:0,c:0}},rt=H.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)H.Enum=Y,r(R,function(ke,Ze,Te){switch(Te){case 0:H.vers=ke,ke>=4096&&(H.qpro=!0);break;case 6:Be=ke;break;case 204:ke&&(Ee=ke);break;case 222:Ee=ke;break;case 15:case 51:H.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:Te==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=H.dateNF||la[14],H.cellDates&&(ke[1].t="d",ke[1].v=hE(ke[1].v))),H.qpro&&ke[3]>ve&&(G["!ref"]=Na(Be),he[J]=G,pe.push(J),G=H.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},ve=ke[3],J=Ee||"Sheet"+(ve+1),Ee="");var Ie=H.dense?(G[ke[0].r]||[])[ke[0].c]:G[gn(ke[0])];if(Ie){Ie.t=ke[1].t,Ie.v=ke[1].v,ke[1].z!=null&&(Ie.z=ke[1].z),ke[1].f!=null&&(Ie.f=ke[1].f);break}H.dense?(G[ke[0].r]||(G[ke[0].r]=[]),G[ke[0].r][ke[0].c]=ke[1]):G[gn(ke[0])]=ke[1];break}},H);else if(R[2]==26||R[2]==14)H.Enum=xe,R[2]==14&&(H.qpro=!0,R.l=0),r(R,function(ke,Ze,Te){switch(Te){case 204:J=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>ve&&(G["!ref"]=Na(Be),he[J]=G,pe.push(J),G=H.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},ve=ke[3],J="Sheet"+(ve+1)),rt>0&&ke[0].r>=rt)break;H.dense?(G[ke[0].r]||(G[ke[0].r]=[]),G[ke[0].r][ke[0].c]=ke[1]):G[gn(ke[0])]=ke[1],Be.e.c<ke[0].c&&(Be.e.c=ke[0].c),Be.e.r<ke[0].r&&(Be.e.r=ke[0].r);break;case 27:ke[14e3]&&(Ne[ke[14e3][0]]=ke[14e3][1]);break;case 1537:Ne[ke[0]]=ke[1],ke[0]==ve&&(J=ke[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(G["!ref"]=Na(Be),he[Ee||J]=G,pe.push(Ee||J),!Ne.length)return{SheetNames:pe,Sheets:he};for(var ft={},ze=[],te=0;te<Ne.length;++te)he[pe[te]]?(ze.push(Ne[te]||pe[te]),ft[Ne[te]]=he[Ne[te]]||he[pe[te]]):(ze.push(Ne[te]),ft[Ne[te]]={"!ref":"A1"});return{SheetNames:ze,Sheets:ft}}function n(R,P){var H=P||{};if(+H.codepage>=0&&I1(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var G=_s(),J=Fn(R["!ref"]),Ee=Array.isArray(R),ve=[];Nt(G,0,i(1030)),Nt(G,6,c(J));for(var he=Math.min(J.e.r,8191),pe=J.s.r;pe<=he;++pe)for(var Ne=xi(pe),Be=J.s.c;Be<=J.e.c;++Be){pe===J.s.r&&(ve[Be]=Ii(Be));var rt=ve[Be]+Ne,ft=Ee?(R[pe]||[])[Be]:R[rt];if(!(!ft||ft.t=="z"))if(ft.t=="n")(ft.v|0)==ft.v&&ft.v>=-32768&&ft.v<=32767?Nt(G,13,m(pe,Be,ft.v)):Nt(G,14,w(pe,Be,ft.v));else{var ze=zc(ft);Nt(G,15,p(pe,Be,ze.slice(0,239)))}}return Nt(G,1),G.end()}function a(R,P){var H=P||{};if(+H.codepage>=0&&I1(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var G=_s();Nt(G,0,s(R));for(var J=0,Ee=0;J<R.SheetNames.length;++J)(R.Sheets[R.SheetNames[J]]||{})["!ref"]&&Nt(G,27,ue(R.SheetNames[J],Ee++));var ve=0;for(J=0;J<R.SheetNames.length;++J){var he=R.Sheets[R.SheetNames[J]];if(!(!he||!he["!ref"])){for(var pe=Fn(he["!ref"]),Ne=Array.isArray(he),Be=[],rt=Math.min(pe.e.r,8191),ft=pe.s.r;ft<=rt;++ft)for(var ze=xi(ft),te=pe.s.c;te<=pe.e.c;++te){ft===pe.s.r&&(Be[te]=Ii(te));var ke=Be[te]+ze,Ze=Ne?(he[ft]||[])[te]:he[ke];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")Nt(G,23,q(ft,te,ve,Ze.v));else{var Te=zc(Ze);Nt(G,22,F(ft,te,ve,Te.slice(0,239)))}}++ve}}return Nt(G,1),G.end()}function i(R){var P=at(2);return P.write_shift(2,R),P}function s(R){var P=at(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var H=0,G=0,J=0,Ee=0;Ee<R.SheetNames.length;++Ee){var ve=R.SheetNames[Ee],he=R.Sheets[ve];if(!(!he||!he["!ref"])){++J;var pe=Js(he["!ref"]);H<pe.e.r&&(H=pe.e.r),G<pe.e.c&&(G=pe.e.c)}}return H>8191&&(H=8191),P.write_shift(2,H),P.write_shift(1,J),P.write_shift(1,G),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function o(R,P,H){var G={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&H.qpro?(G.s.c=R.read_shift(1),R.l++,G.s.r=R.read_shift(2),G.e.c=R.read_shift(1),R.l++,G.e.r=R.read_shift(2),G):(G.s.c=R.read_shift(2),G.s.r=R.read_shift(2),P==12&&H.qpro&&(R.l+=2),G.e.c=R.read_shift(2),G.e.r=R.read_shift(2),P==12&&H.qpro&&(R.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(R){var P=at(8);return P.write_shift(2,R.s.c),P.write_shift(2,R.s.r),P.write_shift(2,R.e.c),P.write_shift(2,R.e.r),P}function u(R,P,H){var G=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(G[0].c=R.read_shift(1),G[3]=R.read_shift(1),G[0].r=R.read_shift(2),R.l+=2):(G[2]=R.read_shift(1),G[0].c=R.read_shift(2),G[0].r=R.read_shift(2)),G}function d(R,P,H){var G=R.l+P,J=u(R,P,H);if(J[1].t="s",H.vers==20768){R.l++;var Ee=R.read_shift(1);return J[1].v=R.read_shift(Ee,"utf8"),J}return H.qpro&&R.l++,J[1].v=R.read_shift(G-R.l,"cstr"),J}function p(R,P,H){var G=at(7+H.length);G.write_shift(1,255),G.write_shift(2,P),G.write_shift(2,R),G.write_shift(1,39);for(var J=0;J<G.length;++J){var Ee=H.charCodeAt(J);G.write_shift(1,Ee>=128?95:Ee)}return G.write_shift(1,0),G}function g(R,P,H){var G=u(R,P,H);return G[1].v=R.read_shift(2,"i"),G}function m(R,P,H){var G=at(7);return G.write_shift(1,255),G.write_shift(2,P),G.write_shift(2,R),G.write_shift(2,H,"i"),G}function y(R,P,H){var G=u(R,P,H);return G[1].v=R.read_shift(8,"f"),G}function w(R,P,H){var G=at(13);return G.write_shift(1,255),G.write_shift(2,P),G.write_shift(2,R),G.write_shift(8,H,"f"),G}function _(R,P,H){var G=R.l+P,J=u(R,P,H);if(J[1].v=R.read_shift(8,"f"),H.qpro)R.l=G;else{var Ee=R.read_shift(2);L(R.slice(R.l,R.l+Ee),J),R.l+=Ee}return J}function S(R,P,H){var G=P&32768;return P&=-32769,P=(G?R:0)+(P>=8192?P-16384:P),(G?"":"$")+(H?Ii(P):xi(P))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(R,P){Ws(R,0);for(var H=[],G=0,J="",Ee="",ve="",he="";R.l<R.length;){var pe=R[R.l++];switch(pe){case 0:H.push(R.read_shift(8,"f"));break;case 1:Ee=S(P[0].c,R.read_shift(2),!0),J=S(P[0].r,R.read_shift(2),!1),H.push(Ee+J);break;case 2:{var Ne=S(P[0].c,R.read_shift(2),!0),Be=S(P[0].r,R.read_shift(2),!1);Ee=S(P[0].c,R.read_shift(2),!0),J=S(P[0].r,R.read_shift(2),!1),H.push(Ne+Be+":"+Ee+J)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(R.read_shift(2));break;case 6:{for(var rt="";pe=R[R.l++];)rt+=String.fromCharCode(pe);H.push('"'+rt.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:he=H.pop(),ve=H.pop(),H.push(["AND","OR"][pe-20]+"("+ve+","+he+")");break;default:if(pe<32&&C[pe])he=H.pop(),ve=H.pop(),H.push(ve+C[pe]+he);else if(A[pe]){if(G=A[pe][1],G==69&&(G=R[R.l++]),G>H.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+H.join("|")+"|");return}var ft=H.slice(-G);H.length-=G,H.push(A[pe][0]+"("+ft.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}H.length==1?P[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function B(R){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=R.read_shift(2),P[3]=R[R.l++],P[0].c=R[R.l++],P}function M(R,P){var H=B(R);return H[1].t="s",H[1].v=R.read_shift(P-4,"cstr"),H}function F(R,P,H,G){var J=at(6+G.length);J.write_shift(2,R),J.write_shift(1,H),J.write_shift(1,P),J.write_shift(1,39);for(var Ee=0;Ee<G.length;++Ee){var ve=G.charCodeAt(Ee);J.write_shift(1,ve>=128?95:ve)}return J.write_shift(1,0),J}function D(R,P){var H=B(R);H[1].v=R.read_shift(2);var G=H[1].v>>1;if(H[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return H[1].v=G,H}function O(R,P){var H=B(R),G=R.read_shift(4),J=R.read_shift(4),Ee=R.read_shift(2);if(Ee==65535)return G===0&&J===3221225472?(H[1].t="e",H[1].v=15):G===0&&J===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var ve=Ee&32768;return Ee=(Ee&32767)-16446,H[1].v=(1-ve*2)*(J*Math.pow(2,Ee+32)+G*Math.pow(2,Ee)),H}function q(R,P,H,G){var J=at(14);if(J.write_shift(2,R),J.write_shift(1,H),J.write_shift(1,P),G==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var Ee=0,ve=0,he=0,pe=0;return G<0&&(Ee=1,G=-G),ve=Math.log2(G)|0,G/=Math.pow(2,ve-31),pe=G>>>0,(pe&2147483648)==0&&(G/=2,++ve,pe=G>>>0),G-=pe,pe|=2147483648,pe>>>=0,G*=Math.pow(2,32),he=G>>>0,J.write_shift(4,he),J.write_shift(4,pe),ve+=16383+(Ee?32768:0),J.write_shift(2,ve),J}function I(R,P){var H=O(R);return R.l+=P-14,H}function U(R,P){var H=B(R),G=R.read_shift(4);return H[1].v=G>>6,H}function X(R,P){var H=B(R),G=R.read_shift(8,"f");return H[1].v=G,H}function ae(R,P){var H=X(R);return R.l+=P-10,H}function Se(R,P){return R[R.l+P-1]==0?R.read_shift(P,"cstr"):""}function Q(R,P){var H=R[R.l++];H>P-1&&(H=P-1);for(var G="";G.length<H;)G+=String.fromCharCode(R[R.l++]);return G}function ce(R,P,H){if(!(!H.qpro||P<21)){var G=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var J=R.read_shift(P-21,"cstr");return[G,J]}}function we(R,P){for(var H={},G=R.l+P;R.l<G;){var J=R.read_shift(2);if(J==14e3){for(H[J]=[0,""],H[J][0]=R.read_shift(2);R[R.l];)H[J][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return H}function ue(R,P){var H=at(5+R.length);H.write_shift(2,14e3),H.write_shift(2,P);for(var G=0;G<R.length;++G){var J=R.charCodeAt(G);H[H.l++]=J>127?95:J}return H[H.l++]=0,H}var Y={0:{n:"BOF",f:VE},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Se},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},xe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:we},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:X},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}(),HI=/^\s|\s$|[\t\n\r]/;function ZE(r,e){if(!e.bookSST)return"";var t=[Ca];t[t.length]=Et("sst",null,{xmlns:rh[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var a=r[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(HI)&&(i+=' xml:space="preserve"'),i+=">"+pn(a.t)+"</t>"),i+="</si>",t[t.length]=i}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function qI(r){return[r.read_shift(4),r.read_shift(4)]}function $I(r,e){return e||(e=at(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var VI=ID;function GI(r){var e=_s();xt(e,159,$I(r));for(var t=0;t<r.length;++t)xt(e,19,VI(r[t]));return xt(e,160),e.end()}function WI(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function JE(r){var e=0,t,n=WI(r),a=n.length+1,i,s,o,c,u;for(t=lf(a),t[0]=n.length,i=1;i!=a;++i)t[i]=n[i-1];for(i=a-1;i>=0;--i)s=t[i],o=(e&16384)===0?0:1,c=e<<1&32767,u=o|c,e=u^s;return e^52811}var XI=function(){function r(a,i){switch(i.type){case"base64":return e(Uc(a),i);case"binary":return e(a,i);case"buffer":return e(Jr&&Buffer.isBuffer(a)?a.toString("binary"):W1(a),i);case"array":return e(y2(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,m=0,y,w=-1;y=g.exec(d);){switch(y[0]){case"\\cell":var _=d.slice(m,g.lastIndex-y[0].length);if(_[0]==" "&&(_=_.slice(1)),++w,_.length){var S={v:_,t:"s"};Array.isArray(o)?o[p][w]=S:o[gn({r:p,c:w})]=S}break}m=g.lastIndex}w>u.e.c&&(u.e.c=w)}),o["!ref"]=Na(u),o}function t(a,i){return pf(r(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Fn(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var p=gn({r:u,c:d});o=c?(a[u]||[])[d]:a[p],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(zc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function K3(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var YI=6,Fc=YI;function Hm(r){return Math.floor((r+Math.round(128/Fc)/256)*Fc)}function qm(r){return Math.floor((r-5)/Fc*100+.5)/100}function gy(r){return Math.round((r*Fc+5)/Fc*256)/256}function vw(r){r.width?(r.wpx=Hm(r.width),r.wch=qm(r.wpx),r.MDW=Fc):r.wpx?(r.wch=qm(r.wpx),r.width=gy(r.wch),r.MDW=Fc):typeof r.wch=="number"&&(r.width=gy(r.wch),r.wpx=Hm(r.width),r.MDW=Fc),r.customWidth&&delete r.customWidth}var KI=96,QE=KI;function $m(r){return r*96/QE}function eA(r){return r*QE/96}function ZI(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=Et("numFmt",null,{numFmtId:n,formatCode:pn(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Et("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function JI(r){var e=[];return e[e.length]=Et("cellXfs",null),r.forEach(function(t){e[e.length]=Et("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Et("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function tA(r,e){var t=[Ca,Et("styleSheet",null,{xmlns:rh[0],"xmlns:vt":Ya.vt})],n;return r.SSF&&(n=ZI(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=JI(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function QI(r,e){var t=r.read_shift(2),n=Pi(r);return[t,n]}function eP(r,e,t){t||(t=at(6+4*e.length)),t.write_shift(2,r),Ja(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function tP(r,e,t){var n={};n.sz=r.read_shift(2)/20;var a=HD(r);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=zD(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Pi(r),n}function rP(r,e){e||(e=at(25+4*32)),e.write_shift(2,r.sz*20),qD(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),Um(r.color,e);var n=0;return n=2,e.write_shift(1,n),Ja(r.name,e),e.length>e.l?e.slice(0,e.l):e}var nP=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],vv,aP=Ql;function Z3(r,e){e||(e=at(4*3+8*7+16*1)),vv||(vv=sw(nP));var t=vv[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(Um({auto:1},e),Um({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function iP(r,e){var t=r.l+e,n=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:a}}function rA(r,e,t){t||(t=at(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function i1(r,e){return e||(e=at(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var sP=Ql;function oP(r,e){return e||(e=at(51)),e.write_shift(1,0),i1(null,e),i1(null,e),i1(null,e),i1(null,e),i1(null,e),e.length>e.l?e.slice(0,e.l):e}function lP(r,e){return e||(e=at(12+4*10)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Bm(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function cP(r,e,t){var n=at(2052);return n.write_shift(4,r),Bm(e,n),Bm(t,n),n.length>n.l?n.slice(0,n.l):n}function uP(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++t}),t!=0&&(xt(r,615,cl(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&xt(r,44,eP(a,e[a]))}),xt(r,616))}}function fP(r){var e=1;xt(r,611,cl(e)),xt(r,43,rP({sz:12,color:{theme:1},name:"Calibri",family:2})),xt(r,612)}function dP(r){var e=2;xt(r,603,cl(e)),xt(r,45,Z3({patternType:"none"})),xt(r,45,Z3({patternType:"gray125"})),xt(r,604)}function hP(r){var e=1;xt(r,613,cl(e)),xt(r,46,oP()),xt(r,614)}function pP(r){var e=1;xt(r,626,cl(e)),xt(r,47,rA({numFmtId:0},65535)),xt(r,627)}function gP(r,e){xt(r,617,cl(e.length)),e.forEach(function(t){xt(r,47,rA(t,0))}),xt(r,618)}function mP(r){var e=1;xt(r,619,cl(e)),xt(r,48,lP({xfId:0,name:"Normal"})),xt(r,620)}function xP(r){var e=0;xt(r,505,cl(e)),xt(r,506)}function vP(r){var e=0;xt(r,508,cP(e,"TableStyleMedium9","PivotStyleMedium4")),xt(r,509)}function yP(r,e){var t=_s();return xt(t,278),uP(t,r.SSF),fP(t),dP(t),hP(t),pP(t),gP(t,e.cellXfs),mP(t),xP(t),vP(t),xt(t,279),t.end()}function nA(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Ca];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function wP(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Pi(r)}}function bP(r){var e=at(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),Ja(r.name,e),e.slice(0,e.l)}function _P(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function SP(r){var e=at(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function EP(r,e){var t=at(8+2*e.length);return t.write_shift(4,r),Ja(e,t),t.slice(0,t.l)}function AP(r){return r.l+=4,r.read_shift(4)!=0}function NP(r,e){var t=at(8);return t.write_shift(4,r),t.write_shift(4,1),t}function CP(){var r=_s();return xt(r,332),xt(r,334,cl(1)),xt(r,335,bP({name:"XLDAPR",version:12e4,flags:3496657072})),xt(r,336),xt(r,339,EP(1,"XLDAPR")),xt(r,52),xt(r,35,cl(514)),xt(r,4096,cl(0)),xt(r,4097,yo(1)),xt(r,36),xt(r,53),xt(r,340),xt(r,337,NP(1)),xt(r,51,SP([[1,0]])),xt(r,338),xt(r,333),r.end()}function aA(){var r=[Ca];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function TP(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=gn(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Rd=1024;function iA(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Et("xml",null,{"xmlns:v":Xs.v,"xmlns:o":Xs.o,"xmlns:x":Xs.x,"xmlns:mv":Xs.mv}).replace(/\/>/,">"),Et("o:shapelayout",Et("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Et("v:shapetype",[Et("v:stroke",null,{joinstyle:"miter"}),Et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];Rd<r*1e3;)Rd+=1e3;return e.forEach(function(i){var s=Za(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Et("v:fill",c,o),d={on:"t",obscured:"t"};++Rd,a=a.concat(["<v:shape"+B1({id:"_x0000_s"+Rd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Et("v:shadow",null,d),Et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",gi("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),gi("x:AutoFill","False"),gi("x:Row",String(s.r)),gi("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function sA(r){var e=[Ca,Et("comments",null,{xmlns:rh[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(a){var i=pn(a.a);t.indexOf(i)==-1&&(t.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=t.indexOf(pn(c.a))),i.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(gi("t",pn(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;e.push(gi("t",pn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function jP(r,e,t){var n=[Ca,Et("ThreadedComments",null,{xmlns:Ya.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Et("threadedComment",gi("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function OP(r){var e=[Ca,Et("personList",null,{xmlns:Ya.TCMNT,"xmlns:x":rh[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(Et("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function RP(r){var e={};e.iauthor=r.read_shift(4);var t=vf(r);return e.rfx=t.s,e.ref=gn(t.s),r.l+=16,e}function kP(r,e){return e==null&&(e=at(36)),e.write_shift(4,r[1].iauthor),ah(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var LP=Pi;function DP(r){return Ja(r.slice(0,54))}function IP(r){var e=_s(),t=[];return xt(e,628),xt(e,630),r.forEach(function(n){n[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),xt(e,632,DP(a.a)))})}),xt(e,631),xt(e,633),r.forEach(function(n){n[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var i={s:Za(n[0]),e:Za(n[0])};xt(e,635,kP([i,a])),a.t&&a.t.length>0&&xt(e,637,FD(a)),xt(e,636),delete a.iauthor})}),xt(e,634),xt(e,629),e.end()}function PP(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&bn.utils.cfb_add(r,a,e.FileIndex[n].content)}})}var oA=["xlsb","xlsm","xlam","biff8","xla"],FP=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=e.c:--d,c?u+=e.r:--u,a+(o?"":"$")+Ii(d)+(c?"":"$")+xi(u)}return function(a,i){return e=i,a.replace(r,t)}}(),yw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ww=function(){return function(e,t){return e.replace(yw,function(n,a,i,s,o,c){var u=hw(s)-(i?0:t.c),d=dw(c)-(o?0:t.r),p=d==0?"":o?d+1:"["+d+"]",g=u==0?"":i?u+1:"["+u+"]";return a+"R"+p+"C"+g})}}();function MP(r,e){return r.replace(yw,function(t,n,a,i,s,o){return n+(a=="$"?a+i:Ii(hw(i)+e.c))+(s=="$"?s+o:xi(dw(o)+e.r))})}function BP(r){return r.length!=1}function Aa(r){r.l+=1}function Qu(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function lA(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return cA(r);t.biff==12&&(n=4)}var a=r.read_shift(n),i=r.read_shift(n),s=Qu(r),o=Qu(r);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function cA(r){var e=Qu(r),t=Qu(r),n=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function UP(r,e,t){if(t.biff<8)return cA(r);var n=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),i=Qu(r),s=Qu(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function uA(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return zP(r);var n=r.read_shift(t&&t.biff==12?4:2),a=Qu(r);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function zP(r){var e=Qu(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function HP(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function qP(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return $P(r);var a=r.read_shift(n>=12?4:2),i=r.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function $P(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:n}}function VP(r,e,t){var n=(r[r.l++]&96)>>5,a=lA(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function GP(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var s=lA(r,i,t);return[n,a,s]}function WP(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function XP(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,a]}function YP(r,e,t){var n=(r[r.l++]&96)>>5,a=UP(r,e-1,t);return[n,a]}function KP(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function J3(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function ZP(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function JP(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function QP(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function eF(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function tF(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function fA(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function rF(r){return r.read_shift(2),fA(r)}function nF(r){return r.read_shift(2),fA(r)}function aF(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=uA(r,0,t);return[n,a]}function iF(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=qP(r,0,t);return[n,a]}function sF(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var i=uA(r,0,t);return[n,a,i]}function oF(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[oM[a],pA[a],n]}function lF(r,e,t){var n=r[r.l++],a=r.read_shift(1),i=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:cF(r);return[a,(i[0]===0?pA:sM)[i[1]]]}function cF(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function uF(r,e,t){r.l+=t&&t.biff==2?3:4}function fF(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function dF(r){return r.l++,K1[r.read_shift(1)]}function hF(r){return r.l++,r.read_shift(2)}function pF(r){return r.l++,r.read_shift(1)!==0}function gF(r){return r.l++,ih(r)}function mF(r,e,t){return r.l++,WE(r,e-1,t)}function xF(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=sI(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=K1[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=ih(r);break;case 2:t[1]=uI(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function vF(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((t.biff==12?vf:hI)(r));return a}function yF(r,e,t){var n=0,a=0;t.biff==12?(n=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=xF(r,t.biff);return s}function wF(r,e,t){var n=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,i=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function bF(r,e,t){if(t.biff==5)return _F(r);var n=r.read_shift(1)>>>5&3,a=r.read_shift(2),i=r.read_shift(4);return[n,a,i]}function _F(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function SF(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function EF(r,e,t){var n=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function AF(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function NF(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=4;if(t)switch(t.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,a]}var CF=Ql,TF=Ql,jF=Ql;function Z1(r,e,t){return r.l+=2,[HP(r)]}function bw(r){return r.l+=6,[]}var OF=Z1,RF=bw,kF=bw,LF=Z1;function dA(r){return r.l+=2,[VE(r),r.read_shift(2)&1]}var DF=Z1,IF=dA,PF=bw,FF=Z1,MF=Z1,BF=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function UF(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a=r.read_shift(2),i=r.read_shift(2),s=BF[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:n,c:a,C:i}}function zF(r){return r.l+=2,[r.read_shift(4)]}function HF(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function qF(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function $F(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function VF(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function GF(r){return r.l+=4,[0,0]}var Q3={1:{n:"PtgExp",f:fF},2:{n:"PtgTbl",f:jF},3:{n:"PtgAdd",f:Aa},4:{n:"PtgSub",f:Aa},5:{n:"PtgMul",f:Aa},6:{n:"PtgDiv",f:Aa},7:{n:"PtgPower",f:Aa},8:{n:"PtgConcat",f:Aa},9:{n:"PtgLt",f:Aa},10:{n:"PtgLe",f:Aa},11:{n:"PtgEq",f:Aa},12:{n:"PtgGe",f:Aa},13:{n:"PtgGt",f:Aa},14:{n:"PtgNe",f:Aa},15:{n:"PtgIsect",f:Aa},16:{n:"PtgUnion",f:Aa},17:{n:"PtgRange",f:Aa},18:{n:"PtgUplus",f:Aa},19:{n:"PtgUminus",f:Aa},20:{n:"PtgPercent",f:Aa},21:{n:"PtgParen",f:Aa},22:{n:"PtgMissArg",f:Aa},23:{n:"PtgStr",f:mF},26:{n:"PtgSheet",f:HF},27:{n:"PtgEndSheet",f:qF},28:{n:"PtgErr",f:dF},29:{n:"PtgBool",f:pF},30:{n:"PtgInt",f:hF},31:{n:"PtgNum",f:gF},32:{n:"PtgArray",f:KP},33:{n:"PtgFunc",f:oF},34:{n:"PtgFuncVar",f:lF},35:{n:"PtgName",f:wF},36:{n:"PtgRef",f:aF},37:{n:"PtgArea",f:VP},38:{n:"PtgMemArea",f:SF},39:{n:"PtgMemErr",f:CF},40:{n:"PtgMemNoMem",f:TF},41:{n:"PtgMemFunc",f:EF},42:{n:"PtgRefErr",f:AF},43:{n:"PtgAreaErr",f:WP},44:{n:"PtgRefN",f:iF},45:{n:"PtgAreaN",f:YP},46:{n:"PtgMemAreaN",f:$F},47:{n:"PtgMemNoMemN",f:VF},57:{n:"PtgNameX",f:bF},58:{n:"PtgRef3d",f:sF},59:{n:"PtgArea3d",f:GP},60:{n:"PtgRefErr3d",f:NF},61:{n:"PtgAreaErr3d",f:XP},255:{}},WF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},XF={1:{n:"PtgElfLel",f:dA},2:{n:"PtgElfRw",f:FF},3:{n:"PtgElfCol",f:OF},6:{n:"PtgElfRwV",f:MF},7:{n:"PtgElfColV",f:LF},10:{n:"PtgElfRadical",f:DF},11:{n:"PtgElfRadicalS",f:PF},13:{n:"PtgElfColS",f:RF},15:{n:"PtgElfColSV",f:kF},16:{n:"PtgElfRadicalLel",f:IF},25:{n:"PtgList",f:UF},29:{n:"PtgSxName",f:zF},255:{}},YF={0:{n:"PtgAttrNoop",f:GF},1:{n:"PtgAttrSemi",f:tF},2:{n:"PtgAttrIf",f:QP},4:{n:"PtgAttrChoose",f:ZP},8:{n:"PtgAttrGoto",f:JP},16:{n:"PtgAttrSum",f:uF},32:{n:"PtgAttrBaxcel",f:J3},33:{n:"PtgAttrBaxcel",f:J3},64:{n:"PtgAttrSpace",f:rF},65:{n:"PtgAttrSpaceSemi",f:nF},128:{n:"PtgAttrIfError",f:eF},255:{}};function KF(r,e,t,n){if(n.biff<8)return Ql(r,e);for(var a=r.l+e,i=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=yF(r,0,n),i.push(t[s][1]);break;case"PtgMemArea":t[s][2]=vF(r,t[s][1],n),i.push(t[s][2]);break;case"PtgExp":n&&n.biff==12&&(t[s][1][1]=r.read_shift(4),i.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=a-r.l,e!==0&&i.push(Ql(r,e)),i}function ZF(r,e,t){for(var n=r.l+e,a,i,s=[];n!=r.l;)e=n-r.l,i=r[r.l],a=Q3[i]||Q3[WF[i]],(i===24||i===25)&&(a=(i===24?XF:YF)[r[r.l+1]]),!a||!a.f?Ql(r,e):s.push([a.n,a.f(r,e,t)]);return s}function JF(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var QF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eM(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function hA(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[n[0]][0]){case 357:return a=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(a=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function e_(r,e,t){var n=hA(r,e,t);return n=="#REF"?n:eM(n,t)}function $d(r,e,t,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,p=0,g=0,m,y="";if(!r[0]||!r[0][0])return"";for(var w=-1,_="",S=0,A=r[0].length;S<A;++S){var C=r[0][S];switch(C[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),w>=0){switch(r[0][w][1][0]){case 0:_=oa(" ",r[0][w][1][1]);break;case 1:_=oa("\r",r[0][w][1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}u=u+_,w=-1}o.push(u+QF[C[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=T1(C[1][1],s,a),o.push(j1(d,i));break;case"PtgRefN":d=t?T1(C[1][1],t,a):C[1][1],o.push(j1(d,i));break;case"PtgRef3d":p=C[1][1],d=T1(C[1][2],s,a),y=e_(n,p,a),o.push(y+"!"+j1(d,i));break;case"PtgFunc":case"PtgFuncVar":var L=C[1][0],B=C[1][1];L||(L=0),L&=127;var M=L==0?[]:o.slice(-L);o.length-=L,B==="User"&&(B=M.shift()),o.push(B+"("+M.join(",")+")");break;case"PtgBool":o.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(C[1]);break;case"PtgNum":o.push(String(C[1]));break;case"PtgStr":o.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(C[1]);break;case"PtgAreaN":m=M3(C[1][1],t?{s:t}:s,a),o.push(mv(m,a));break;case"PtgArea":m=M3(C[1][1],s,a),o.push(mv(m,a));break;case"PtgArea3d":p=C[1][1],m=C[1][2],y=e_(n,p,a),o.push(y+"!"+mv(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var F=(n.names||[])[g-1]||(n[0]||[])[g],D=F?F.Name:"SH33TJSNAME"+String(g);D&&D.slice(0,6)=="_xlfn."&&!a.xlfn&&(D=D.slice(6)),o.push(D);break;case"PtgNameX":var O=C[1][1];g=C[1][2];var q;if(a.biff<=5)O<0&&(O=-O),n[O]&&(q=n[O][g]);else{var I="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][g]&&n[O][g].itab>0&&(I=n.SheetNames[n[O][g].itab-1]+"!"):I=n.SheetNames[g-1]+"!"),n[O]&&n[O][g])I+=n[O][g].Name;else if(n[0]&&n[0][g])I+=n[0][g].Name;else{var U=(hA(n,O,a)||"").split(";;");U[g-1]?I=U[g-1]:I+="SH33TJSERRX"}o.push(I);break}q||(q={Name:"SH33TJSERRY"}),o.push(q.Name);break;case"PtgParen":var X="(",ae=")";if(w>=0){switch(_="",r[0][w][1][0]){case 2:X=oa(" ",r[0][w][1][1])+X;break;case 3:X=oa("\r",r[0][w][1][1])+X;break;case 4:ae=oa(" ",r[0][w][1][1])+ae;break;case 5:ae=oa("\r",r[0][w][1][1])+ae;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][w][1][0])}w=-1}o.push(X+o.pop()+ae);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:C[1][1],r:C[1][0]};var Se={c:t.c,r:t.r};if(n.sharedf[gn(d)]){var Q=n.sharedf[gn(d)];o.push($d(Q,s,Se,n,a))}else{var ce=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push($d(u[1],s,Se,n,a)),ce=!0;break}ce||o.push(C[1])}break;case"PtgArray":o.push("{"+JF(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var we=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&w>=0&&we.indexOf(r[0][S][0])==-1){C=r[0][w];var ue=!0;switch(C[1][0]){case 4:ue=!1;case 0:_=oa(" ",C[1][1]);break;case 5:ue=!1;case 1:_=oa("\r",C[1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}o.push((ue?_:"")+o.pop()+(ue?"":_)),w=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function tM(r){if(r==null){var e=at(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return cf(r);return cf(0)}function rM(r,e,t,n,a){var i=uf(e,t,a),s=tM(r.v),o=at(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=at(r.bf.length),d=0;d<r.bf.length;++d)u[d]=r.bf[d];var p=pi([i,s,o,u]);return p}function w2(r,e,t){var n=r.read_shift(4),a=ZF(r,n,t),i=r.read_shift(4),s=i>0?KF(r,i,a,t):null;return[a,s]}var nM=w2,b2=w2,aM=w2,iM=w2,sM={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},pA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},oM={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function lM(r){var e="of:="+r.replace(yw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function cM(r){return r.replace(/\./,"!")}var O1=typeof Map!="undefined";function _w(r,e,t){var n=0,a=r.length;if(t){if(O1?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var i=O1?t.get(e):t[e];n<i.length;++n)if(r[i[n]].t===e)return r.Count++,i[n]}}else for(;n<a;++n)if(r[n].t===e)return r.Count++,n;return r[a]={t:e},r.Count++,r.Unique++,t&&(O1?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function _2(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(Fc=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=qm(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=gy(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function gA(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function n0(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],a=60,i=r.length;if(n==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){uE(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(r[a].numFmtId===n)return a;return r[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function uM(r,e,t){if(r&&r["!ref"]){var n=Fn(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function fM(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Na(r[t])+'"/>';return e+"</mergeCells>"}function dM(r,e,t,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch(d){}i=!0,s.codeName=M1(pn(c))}if(r&&r["!outline"]){var u={summaryBelow:1,summaryRight:1};r["!outline"].above&&(u.summaryBelow=0),r["!outline"].left&&(u.summaryRight=0),o=(o||"")+Et("outlinePr",null,u)}!i&&!o||(a[a.length]=Et("sheetPr",o,s))}var hM=["objects","scenarios","selectLockedCells","selectUnlockedCells"],pM=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function gM(r){var e={sheet:1};return hM.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),pM.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=JE(r.password).toString(16).toUpperCase()),Et("sheetProtection",null,e)}function mM(r){return gA(r),Et("pageMargins",null,r)}function xM(r,e){for(var t=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(t[t.length]=Et("col",null,_2(a,n)));return t[t.length]="</cols>",t.join("")}function vM(r,e,t,n){var a=typeof r.ref=="string"?r.ref:Na(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var i=t.Workbook.Names,s=Js(a);s.s.r==s.e.r&&(s.e.r=Js(e["!ref"]).e.r,a=Na(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+t.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),Et("autoFilter",null,{ref:a})}function yM(r,e,t,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Et("sheetViews",Et("sheetView",null,a),{})}function wM(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var a="",i=r.t,s=r.v;if(r.t!=="z")switch(r.t){case"b":a=r.v?"1":"0";break;case"n":a=""+r.v;break;case"e":a=K1[r.v];break;case"d":n&&n.cellDates?a=ns(r.v,-1).toISOString():(r=Es(r),r.t="n",a=""+(r.v=Ss(ns(r.v)))),typeof r.z=="undefined"&&(r.z=la[14]);break;default:a=r.v;break}var o=gi("v",pn(a)),c={r:e},u=n0(n.cellXfs,r,n);switch(u!==0&&(c.s=u),r.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=gi("v",""+_w(n.Strings,r.v,n.revStrings)),c.t="s";break}c.t="str";break}if(r.t!=i&&(r.t=i,r.v=s),typeof r.f=="string"&&r.f){var d=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;o=Et("f",pn(r.f),d)+(r.v!=null?o:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(c.cm=1),Et("c",o,c)}function bM(r,e,t,n){var a=[],i=[],s=Fn(r["!ref"]),o="",c,u="",d=[],p=0,g=0,m=r["!rows"],y=Array.isArray(r),w={r:u},_,S=-1;for(g=s.s.c;g<=s.e.c;++g)d[g]=Ii(g);for(p=s.s.r;p<=s.e.r;++p){for(i=[],u=xi(p),g=s.s.c;g<=s.e.c;++g){c=d[g]+u;var A=y?(r[p]||[])[g]:r[c];A!==void 0&&(o=wM(A,c,r,e))!=null&&i.push(o)}(i.length>0||m&&m[p])&&(w={r:u},m&&m[p]&&(_=m[p],_.hidden&&(w.hidden=1),S=-1,_.hpx?S=$m(_.hpx):_.hpt&&(S=_.hpt),S>-1&&(w.ht=S,w.customHeight=1),_.level&&(w.outlineLevel=_.level)),a[a.length]=Et("row",i.join(""),w))}if(m)for(;p<m.length;++p)m&&m[p]&&(w={r:p+1},_=m[p],_.hidden&&(w.hidden=1),S=-1,_.hpx?S=$m(_.hpx):_.hpt&&(S=_.hpt),S>-1&&(w.ht=S,w.customHeight=1),_.level&&(w.outlineLevel=_.level),a[a.length]=Et("row","",w));return a.join("")}function mA(r,e,t,n){var a=[Ca,Et("worksheet",null,{xmlns:rh[0],"xmlns:r":Ya.r})],i=t.SheetNames[r],s=0,o="",c=t.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Fn(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Na(d)}n||(n={}),c["!comments"]=[];var p=[];dM(c,t,r,e,a),a[a.length]=Et("dimension",null,{ref:u}),a[a.length]=yM(c,e,r,t),e.sheetFormat&&(a[a.length]=Et("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=xM(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=bM(c,e),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=gM(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=vM(c["!autofilter"],c,t,r)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=fM(c["!merges"]));var g=-1,m,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(w){w[1].Target&&(m={ref:w[0]},w[1].Target.charAt(0)!="#"&&(y=dn(n,-1,pn(w[1].Target).replace(/#.*$/,""),Wr.HLINK),m["r:id"]="rId"+y),(g=w[1].Target.indexOf("#"))>-1&&(m.location=pn(w[1].Target.slice(g+1))),w[1].Tooltip&&(m.tooltip=pn(w[1].Tooltip)),a[a.length]=Et("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=mM(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=gi("ignoredErrors",Et("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(y=dn(n,-1,"../drawings/drawing"+(r+1)+".xml",Wr.DRAW),a[a.length]=Et("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=p),c["!comments"].length>0&&(y=dn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Wr.VML),a[a.length]=Et("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function _M(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(t.level=i&7),i&16&&(t.hidden=!0),i&32&&(t.hpt=a/20),t}function SM(r,e,t){var n=at(145),a=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var i=320;a.hpx?i=$m(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var p=-1,g=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var y=Array.isArray(t)?(t[u.r]||[])[u.c]:t[gn(u)];y&&(p<0&&(p=m),g=m)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,g))}var w=n.l;return n.l=c,n.write_shift(4,o),n.l=w,n.length>n.l?n.slice(0,n.l):n}function EM(r,e,t,n){var a=SM(n,t,e);(a.length>17||(e["!rows"]||[])[n])&&xt(r,0,a)}var AM=vf,NM=ah;function CM(){}function TM(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=MD(r),t}function jM(r,e,t){t==null&&(t=at(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var a=1;a<3;++a)t.write_shift(1,0);return Um({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),RE(r,t),t.slice(0,t.l)}function OM(r){var e=Ao(r);return[e]}function RM(r,e,t){return t==null&&(t=at(8)),gf(e,t)}function kM(r){var e=mf(r);return[e]}function LM(r,e,t){return t==null&&(t=at(4)),xf(e,t)}function DM(r){var e=Ao(r),t=r.read_shift(1);return[e,t,"b"]}function IM(r,e,t){return t==null&&(t=at(9)),gf(e,t),t.write_shift(1,r.v?1:0),t}function PM(r){var e=mf(r),t=r.read_shift(1);return[e,t,"b"]}function FM(r,e,t){return t==null&&(t=at(5)),xf(e,t),t.write_shift(1,r.v?1:0),t}function MM(r){var e=Ao(r),t=r.read_shift(1);return[e,t,"e"]}function BM(r,e,t){return t==null&&(t=at(9)),gf(e,t),t.write_shift(1,r.v),t}function UM(r){var e=mf(r),t=r.read_shift(1);return[e,t,"e"]}function zM(r,e,t){return t==null&&(t=at(8)),xf(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function HM(r){var e=Ao(r),t=r.read_shift(4);return[e,t,"s"]}function qM(r,e,t){return t==null&&(t=at(12)),gf(e,t),t.write_shift(4,e.v),t}function $M(r){var e=mf(r),t=r.read_shift(4);return[e,t,"s"]}function VM(r,e,t){return t==null&&(t=at(8)),xf(e,t),t.write_shift(4,e.v),t}function GM(r){var e=Ao(r),t=ih(r);return[e,t,"n"]}function WM(r,e,t){return t==null&&(t=at(16)),gf(e,t),cf(r.v,t),t}function XM(r){var e=mf(r),t=ih(r);return[e,t,"n"]}function YM(r,e,t){return t==null&&(t=at(12)),xf(e,t),cf(r.v,t),t}function KM(r){var e=Ao(r),t=kE(r);return[e,t,"n"]}function ZM(r,e,t){return t==null&&(t=at(12)),gf(e,t),LE(r.v,t),t}function JM(r){var e=mf(r),t=kE(r);return[e,t,"n"]}function QM(r,e,t){return t==null&&(t=at(8)),xf(e,t),LE(r.v,t),t}function eB(r){var e=Ao(r),t=pw(r);return[e,t,"is"]}function tB(r){var e=Ao(r),t=Pi(r);return[e,t,"str"]}function rB(r,e,t){return t==null&&(t=at(12+4*r.v.length)),gf(e,t),Ja(r.v,t),t.length>t.l?t.slice(0,t.l):t}function nB(r){var e=mf(r),t=Pi(r);return[e,t,"str"]}function aB(r,e,t){return t==null&&(t=at(8+4*r.v.length)),xf(e,t),Ja(r.v,t),t.length>t.l?t.slice(0,t.l):t}function iB(r,e,t){var n=r.l+e,a=Ao(r);a.r=t["!row"];var i=r.read_shift(1),s=[a,i,"b"];if(t.cellFormula){r.l+=2;var o=b2(r,n-r.l,t);s[3]=$d(o,null,a,t.supbooks,t)}else r.l=n;return s}function sB(r,e,t){var n=r.l+e,a=Ao(r);a.r=t["!row"];var i=r.read_shift(1),s=[a,i,"e"];if(t.cellFormula){r.l+=2;var o=b2(r,n-r.l,t);s[3]=$d(o,null,a,t.supbooks,t)}else r.l=n;return s}function oB(r,e,t){var n=r.l+e,a=Ao(r);a.r=t["!row"];var i=ih(r),s=[a,i,"n"];if(t.cellFormula){r.l+=2;var o=b2(r,n-r.l,t);s[3]=$d(o,null,a,t.supbooks,t)}else r.l=n;return s}function lB(r,e,t){var n=r.l+e,a=Ao(r);a.r=t["!row"];var i=Pi(r),s=[a,i,"str"];if(t.cellFormula){r.l+=2;var o=b2(r,n-r.l,t);s[3]=$d(o,null,a,t.supbooks,t)}else r.l=n;return s}var cB=vf,uB=ah;function fB(r,e){return e==null&&(e=at(4)),e.write_shift(4,r),e}function dB(r,e){var t=r.l+e,n=vf(r),a=gw(r),i=Pi(r),s=Pi(r),o=Pi(r);r.l=t;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function hB(r,e){var t=at(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));ah({s:Za(r[0]),e:Za(r[0])},t),mw("rId"+e,t);var n=r[1].Target.indexOf("#"),a=n==-1?"":r[1].Target.slice(n+1);return Ja(a||"",t),Ja(r[1].Tooltip||"",t),Ja("",t),t.slice(0,t.l)}function pB(){}function gB(r,e,t){var n=r.l+e,a=DE(r),i=r.read_shift(1),s=[a];if(s[2]=i,t.cellFormula){var o=nM(r,n-r.l,t);s[1]=o}else r.l=n;return s}function mB(r,e,t){var n=r.l+e,a=vf(r),i=[a];if(t.cellFormula){var s=iM(r,n-r.l,t);i[1]=s,r.l=n}else r.l=n;return i}function xB(r,e,t){t==null&&(t=at(18));var n=_2(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var xA=["left","right","top","bottom","header","footer"];function vB(r){var e={};return xA.forEach(function(t){e[t]=ih(r)}),e}function yB(r,e){return e==null&&(e=at(6*8)),gA(r),xA.forEach(function(t){cf(r[t],e)}),e}function wB(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function bB(r,e,t){t==null&&(t=at(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function _B(r){var e=at(24);return e.write_shift(4,4),e.write_shift(4,1),ah(r,e),e}function SB(r,e){return e==null&&(e=at(16*4+2)),e.write_shift(2,r.password?JE(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function EB(){}function AB(){}function NB(r,e,t,n,a,i,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Es(e),e.z=e.z||la[14],e.v=Ss(ns(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var c={r:t,c:n};switch(c.s=n0(a.cellXfs,e,a),e.l&&i["!links"].push([gn(c),e.l]),e.c&&i["!comments"].push([gn(c),e.c]),e.t){case"s":case"str":return a.bookSST?(o=_w(a.Strings,e.v,a.revStrings),c.t="s",c.v=o,s?xt(r,18,VM(e,c)):xt(r,7,qM(e,c))):(c.t="str",s?xt(r,17,aB(e,c)):xt(r,6,rB(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?xt(r,13,QM(e,c)):xt(r,2,ZM(e,c)):s?xt(r,16,YM(e,c)):xt(r,5,WM(e,c)),!0;case"b":return c.t="b",s?xt(r,15,FM(e,c)):xt(r,4,IM(e,c)),!0;case"e":return c.t="e",s?xt(r,14,zM(e,c)):xt(r,3,BM(e,c)),!0}return s?xt(r,12,LM(e,c)):xt(r,1,RM(e,c)),!0}function CB(r,e,t,n){var a=Fn(e["!ref"]||"A1"),i,s="",o=[];xt(r,145);var c=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=xi(d),EM(r,e,a,d);var p=!1;if(d<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){d===a.s.r&&(o[g]=Ii(g)),i=o[g]+s;var m=c?(e[d]||[])[g]:e[i];if(!m){p=!1;continue}p=NB(r,m,d,g,n,e,p)}}xt(r,146)}function TB(r,e){!e||!e["!merges"]||(xt(r,177,fB(e["!merges"].length)),e["!merges"].forEach(function(t){xt(r,176,uB(t))}),xt(r,178))}function jB(r,e){!e||!e["!cols"]||(xt(r,390),e["!cols"].forEach(function(t,n){t&&xt(r,60,xB(n,t))}),xt(r,391))}function OB(r,e){!e||!e["!ref"]||(xt(r,648),xt(r,649,_B(Fn(e["!ref"]))),xt(r,650))}function RB(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var a=dn(t,-1,n[1].Target.replace(/#.*$/,""),Wr.HLINK);xt(r,494,hB(n,a))}}),delete e["!links"]}function kB(r,e,t,n){if(e["!comments"].length>0){var a=dn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Wr.VML);xt(r,551,mw("rId"+a)),e["!legacy"]=a}}function LB(r,e,t,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:Na(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=Js(i);o.s.r==o.e.r&&(o.e.r=Js(e["!ref"]).e.r,i=Na(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+t.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),xt(r,161,ah(Fn(i))),xt(r,162)}}function DB(r,e,t){xt(r,133),xt(r,137,bB(e,t)),xt(r,138),xt(r,134)}function IB(r,e){e["!protect"]&&xt(r,535,SB(e["!protect"]))}function PB(r,e,t,n){var a=_s(),i=t.SheetNames[r],s=t.Sheets[i]||{},o=i;try{t&&t.Workbook&&(o=t.Workbook.Sheets[r].CodeName||o)}catch(u){}var c=Fn(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],xt(a,129),(t.vbaraw||s["!outline"])&&xt(a,147,jM(o,s["!outline"])),xt(a,148,NM(c)),DB(a,s,t.Workbook),jB(a,s),CB(a,s,r,e),IB(a,s),LB(a,s,t,r),TB(a,s),RB(a,s,n),s["!margins"]&&xt(a,476,yB(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&OB(a,s),kB(a,s,r,n),xt(a,130),a.end()}function FB(r,e){r.l+=10;var t=Pi(r);return{name:t}}var MB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function BB(r){return!r.Workbook||!r.Workbook.WBProps?"false":mD(r.Workbook.WBProps.date1904)?"true":"false"}var UB="][*?/\\".split("");function vA(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return UB.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function zB(r,e,t){r.forEach(function(n,a){vA(n);for(var i=0;i<a;++i)if(n==r[i])throw new Error("Duplicate Sheet Name: "+n);if(t){var s=e&&e[a]&&e[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function HB(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];zB(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)uM(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function yA(r){var e=[Ca];e[e.length]=Et("workbook",null,{xmlns:rh[0],"xmlns:r":Ya.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(MB.forEach(function(o){r.Workbook.WBProps[o[0]]!=null&&r.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=r.Workbook.WBProps[o[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Et("workbookPr",null,n);var a=r.Workbook&&r.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=r.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==r.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=r.SheetNames.length;++i){var s={name:pn(r.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Et("sheet",null,s)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=Et("definedName",pn(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function qB(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=py(r),t.name=Pi(r),t}function $B(r,e){return e||(e=at(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),mw(r.strRelID,e),Ja(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function VB(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?Pi(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function GB(r,e){e||(e=at(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),RE(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function WB(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),i=BD(r),s=aM(r,0,t),o=gw(r);r.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function XB(r,e){xt(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};xt(r,156,$B(a))}xt(r,144)}function YB(r,e){e||(e=at(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Ja("SheetJS",e),Ja(Lm.version,e),Ja(Lm.version,e),Ja("7262",e),e.length>e.l?e.slice(0,e.l):e}function KB(r,e){e||(e=at(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function ZB(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,a=-1,i=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&a==-1?a=n:t[n].Hidden==1&&i==-1&&(i=n);i>a||(xt(r,135),xt(r,158,KB(a)),xt(r,136))}}function JB(r,e){var t=_s();return xt(t,131),xt(t,128,YB()),xt(t,153,GB(r.Workbook&&r.Workbook.WBProps||null)),ZB(t,r),XB(t,r),xt(t,132),t.end()}function QB(r,e,t){return(e.slice(-4)===".bin"?JB:yA)(r)}function eU(r,e,t,n,a){return(e.slice(-4)===".bin"?PB:mA)(r,t,n,a)}function tU(r,e,t){return(e.slice(-4)===".bin"?yP:tA)(r,t)}function rU(r,e,t){return(e.slice(-4)===".bin"?GI:ZE)(r,t)}function nU(r,e,t){return(e.slice(-4)===".bin"?IP:sA)(r)}function aU(r){return(r.slice(-4)===".bin"?CP:aA)()}function iU(r,e){var t=[];return r.Props&&t.push(tI(r.Props,e)),r.Custprops&&t.push(rI(r.Props,r.Custprops)),t.join("")}function sU(){return""}function oU(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(Et("NumberFormat",null,{"ss:Format":pn(la[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};t.push(Et("Style",i.join(""),s))}),Et("Styles",t.join(""))}function wA(r){return Et("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+ww(r.Ref,{r:0,c:0})})}function lU(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(wA(a)))}return Et("Names",t.join(""))}function cU(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||i.push(wA(o)))}return i.join("")}function uU(r,e,t,n){if(!r)return"";var a=[];if(r["!margins"]&&(a.push("<PageSetup>"),r["!margins"].header&&a.push(Et("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&a.push(Et("Footer",null,{"x:Margin":r["!margins"].footer})),a.push(Et("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)a.push(Et("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<t&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==t&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),r["!protect"]&&(a.push(gi("ProtectContents","True")),r["!protect"].objects&&a.push(gi("ProtectObjects","True")),r["!protect"].scenarios&&a.push(gi("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?a.push(gi("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&a.push(gi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){r["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":Et("WorksheetOptions",a.join(""),{xmlns:Xs.x})}function fU(r){return r.map(function(e){var t=gD(e.t||""),n=Et("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Et("Comment",n,{"ss:Author":e.a})}).join("")}function dU(r,e,t,n,a,i,s){if(!r||r.v==null&&r.f==null)return"";var o={};if(r.f&&(o["ss:Formula"]="="+pn(ww(r.f,s))),r.F&&r.F.slice(0,e.length)==e){var c=Za(r.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(r.l&&r.l.Target&&(o["ss:HRef"]=pn(r.l.Target),r.l.Tooltip&&(o["x:HRefScreenTip"]=pn(r.l.Tooltip))),t["!merges"])for(var u=t["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var p="",g="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(r.v);break;case"b":p="Boolean",g=r.v?"1":"0";break;case"e":p="Error",g=K1[r.v];break;case"d":p="DateTime",g=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||la[14]);break;case"s":p="String",g=pD(r.v||"");break}var m=n0(n.cellXfs,r,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var y=r.v!=null?g:"",w=r.t=="z"?"":'<Data ss:Type="'+p+'">'+y+"</Data>";return(r.c||[]).length>0&&(w+=fU(r.c)),Et("Cell",w,o)}function hU(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=eA(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function pU(r,e,t,n){if(!r["!ref"])return"";var a=Fn(r["!ref"]),i=r["!merges"]||[],s=0,o=[];r["!cols"]&&r["!cols"].forEach(function(_,S){vw(_);var A=!!_.width,C=_2(S,_),L={"ss:Index":S+1};A&&(L["ss:Width"]=Hm(C.width)),_.hidden&&(L["ss:Hidden"]="1"),o.push(Et("Column",null,L))});for(var c=Array.isArray(r),u=a.s.r;u<=a.e.r;++u){for(var d=[hU(u,(r["!rows"]||[])[u])],p=a.s.c;p<=a.e.c;++p){var g=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>p)&&!(i[s].s.r>u)&&!(i[s].e.c<p)&&!(i[s].e.r<u)){(i[s].s.c!=p||i[s].s.r!=u)&&(g=!0);break}if(!g){var m={r:u,c:p},y=gn(m),w=c?(r[u]||[])[p]:r[y];d.push(dU(w,y,r,e,t,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function gU(r,e,t){var n=[],a=t.SheetNames[r],i=t.Sheets[a],s=i?cU(i,e,r,t):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?pU(i,e,r,t):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(uU(i,e,r,t)),n.join("")}function mU(r,e){e||(e={}),r.SSF||(r.SSF=Es(la)),r.SSF&&(x2(),m2(r.SSF),e.revssf=v2(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],n0(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(iU(r,e)),t.push(sU()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(Et("Worksheet",gU(n,e,r),{"ss:Name":pn(r.SheetNames[n])}));return t[2]=oU(r,e),t[3]=lU(r),Ca+Et("Workbook",t.join(""),{xmlns:Xs.ss,"xmlns:o":Xs.o,"xmlns:x":Xs.x,"xmlns:ss":Xs.ss,"xmlns:dt":Xs.dt,"xmlns:html":Xs.html})}var yv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xU(r,e){var t=[],n=[],a=[],i=0,s,o=C3(U3,"n"),c=C3(z3,"n");if(r.Props)for(s=vi(r.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?t:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],r.Props[s[i]]]);if(r.Custprops)for(s=vi(r.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(r.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?t:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],r.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)$E.indexOf(a[i][0])>-1||zE.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&bn.utils.cfb_add(e,"/SummaryInformation",G3(n,yv.SI,c,z3)),(t.length||u.length)&&bn.utils.cfb_add(e,"/DocumentSummaryInformation",G3(t,yv.DSI,o,U3,u.length?u:null,yv.UDI))}function vU(r,e){var t=e||{},n=bn.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return bn.utils.cfb_add(n,a,bA(r,t)),t.biff==8&&(r.Props||r.Custprops)&&xU(r,n),t.biff==8&&r.vbaraw&&PP(n,bn.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var yU={0:{f:_M},1:{f:OM},2:{f:KM},3:{f:MM},4:{f:DM},5:{f:GM},6:{f:tB},7:{f:HM},8:{f:lB},9:{f:oB},10:{f:iB},11:{f:sB},12:{f:kM},13:{f:JM},14:{f:UM},15:{f:PM},16:{f:XM},17:{f:nB},18:{f:$M},19:{f:pw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:WB},40:{},42:{},43:{f:tP},44:{f:QI},45:{f:aP},46:{f:sP},47:{f:iP},48:{},49:{f:kD},50:{},51:{f:_P},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:LI},62:{f:eB},63:{f:TP},64:{f:EB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ql,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:TM},148:{f:AM,p:16},151:{f:pB},152:{},153:{f:VB},154:{},155:{},156:{f:qB},157:{},158:{},159:{T:1,f:qI},160:{T:-1},161:{T:1,f:vf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:wP},336:{T:-1},337:{f:AP,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:py},357:{},358:{},359:{},360:{T:1},361:{},362:{f:CI},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gB},427:{f:mB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:vB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:CM},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:dB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:py},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:LP},633:{T:1},634:{T:-1},635:{T:1,f:RP},636:{T:-1},637:{f:PD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:FB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:AB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Nt(r,e,t,n){var a=e;if(!isNaN(a)){var i=n||(t||[]).length||0,s=r.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&fw(t)&&r.push(t)}}function wU(r,e,t,n){var a=(t||[]).length||0;if(a<=8224)return Nt(r,e,t,a);var i=e;if(!isNaN(i)){for(var s=t.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=r.next(4);for(d.write_shift(2,i),d.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u;c<a;){for(d=r.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),r.push(t.slice(c,c+u)),c+=u}}}function J1(r,e,t){return r||(r=at(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function bU(r,e,t,n){var a=at(9);return J1(a,r,e),GE(t,n||"b",a),a}function _U(r,e,t){var n=at(8+2*t.length);return J1(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function SU(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Ss(ns(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Nt(r,2,FI(t,n,a)):Nt(r,3,PI(t,n,a));return;case"b":case"e":Nt(r,5,bU(t,n,e.v,e.t));return;case"s":case"str":Nt(r,4,_U(t,n,(e.v||"").slice(0,255)));return}Nt(r,1,J1(null,t,n))}function EU(r,e,t,n){var a=Array.isArray(e),i=Fn(e["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Na(i)}for(var u=i.s.r;u<=i.e.r;++u){o=xi(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Ii(d)),s=c[d]+o;var p=a?(e[u]||[])[d]:e[s];p&&SU(r,p,u,d)}}}function AU(r,e){for(var t=e||{},n=_s(),a=0,i=0;i<r.SheetNames.length;++i)r.SheetNames[i]==t.sheet&&(a=i);if(a==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Nt(n,t.biff==4?1033:t.biff==3?521:9,xw(r,16,t)),EU(n,r.Sheets[r.SheetNames[a]],a,t),Nt(n,10),n.end()}function NU(r,e,t){Nt(r,49,yI({sz:12,name:"Arial"},t))}function CU(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Nt(r,1054,_I(a,e[a],t))})}function TU(r,e){var t=at(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Nt(r,2151,t),t=at(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),YE(Fn(e["!ref"]||"A1"),t),t.write_shift(4,4),Nt(r,2152,t)}function jU(r,e){for(var t=0;t<16;++t)Nt(r,224,X3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Nt(r,224,X3(n,0,e))})}function OU(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Nt(r,440,OI(n)),n[1].Tooltip&&Nt(r,2048,RI(n))}delete e["!links"]}function RU(r,e){if(e){var t=0;e.forEach(function(n,a){++t<=256&&n&&Nt(r,125,DI(_2(a,n),a))})}}function kU(r,e,t,n,a){var i=16+n0(a.cellXfs,e,a);if(e.v==null&&!e.bf){Nt(r,513,uf(t,n,i));return}if(e.bf)Nt(r,6,rM(e,t,n,a,i));else switch(e.t){case"d":case"n":var s=e.t=="d"?Ss(ns(e.v)):e.v;Nt(r,515,NI(t,n,s,i));break;case"b":case"e":Nt(r,517,AI(t,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var o=_w(a.Strings,e.v,a.revStrings);Nt(r,253,wI(t,n,o,i))}else Nt(r,516,bI(t,n,(e.v||"").slice(0,255),i,a));break;default:Nt(r,513,uf(t,n,i))}}function LU(r,e,t){var n=_s(),a=t.SheetNames[r],i=t.Sheets[a]||{},s=(t||{}).Workbook||{},o=(s.Sheets||[])[r]||{},c=Array.isArray(i),u=e.biff==8,d,p="",g=[],m=Fn(i["!ref"]||"A1"),y=u?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}Nt(n,2057,xw(t,16,e)),Nt(n,13,yo(1)),Nt(n,12,yo(100)),Nt(n,15,es(!0)),Nt(n,17,es(!1)),Nt(n,16,cf(.001)),Nt(n,95,es(!0)),Nt(n,42,es(!1)),Nt(n,43,es(!1)),Nt(n,130,yo(1)),Nt(n,128,EI()),Nt(n,131,es(!1)),Nt(n,132,es(!1)),u&&RU(n,i["!cols"]),Nt(n,512,SI(m,e)),u&&(i["!links"]=[]);for(var w=m.s.r;w<=m.e.r;++w){p=xi(w);for(var _=m.s.c;_<=m.e.c;++_){w===m.s.r&&(g[_]=Ii(_)),d=g[_]+p;var S=c?(i[w]||[])[_]:i[d];S&&(kU(n,S,w,_,e),u&&S.l&&i["!links"].push([d,S.l]))}}var A=o.CodeName||o.name||a;return u&&Nt(n,574,vI((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&Nt(n,229,jI(i["!merges"])),u&&OU(n,i),Nt(n,442,XE(A)),u&&TU(n,i),Nt(n,10),n.end()}function DU(r,e,t){var n=_s(),a=(r||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=t.biff==8,c=t.biff==5;if(Nt(n,2057,xw(r,5,t)),t.bookType=="xla"&&Nt(n,135),Nt(n,225,o?yo(1200):null),Nt(n,193,iI(2)),c&&Nt(n,191),c&&Nt(n,192),Nt(n,226),Nt(n,92,pI("SheetJS",t)),Nt(n,66,yo(o?1200:1252)),o&&Nt(n,353,yo(0)),o&&Nt(n,448),Nt(n,317,II(r.SheetNames.length)),o&&r.vbaraw&&Nt(n,211),o&&r.vbaraw){var u=s.CodeName||"ThisWorkbook";Nt(n,442,XE(u))}Nt(n,156,yo(17)),Nt(n,25,es(!1)),Nt(n,18,es(!1)),Nt(n,19,yo(0)),o&&Nt(n,431,es(!1)),o&&Nt(n,444,yo(0)),Nt(n,61,xI()),Nt(n,64,es(!1)),Nt(n,141,yo(0)),Nt(n,34,es(BB(r)=="true")),Nt(n,14,es(!0)),o&&Nt(n,439,es(!1)),Nt(n,218,yo(0)),NU(n,r,t),CU(n,r.SSF,t),jU(n,t),o&&Nt(n,352,es(!1));var d=n.end(),p=_s();o&&Nt(p,140,kI()),o&&t.Strings&&wU(p,252,mI(t.Strings)),Nt(p,10);var g=p.end(),m=_s(),y=0,w=0;for(w=0;w<r.SheetNames.length;++w)y+=(o?12:11)+(o?2:1)*r.SheetNames[w].length;var _=d.length+y+g.length;for(w=0;w<r.SheetNames.length;++w){var S=i[w]||{};Nt(m,133,gI({pos:_,hs:S.Hidden||0,dt:0,name:r.SheetNames[w]},t)),_+=e[w].length}var A=m.end();if(y!=A.length)throw new Error("BS8 "+y+" != "+A.length);var C=[];return d.length&&C.push(d),A.length&&C.push(A),g.length&&C.push(g),pi(C)}function IU(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=Es(la)),r&&r.SSF&&(x2(),m2(r.SSF),t.revssf=v2(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sw(t),t.cellXfs=[],n0(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var a=0;a<r.SheetNames.length;++a)n[n.length]=LU(a,t,r);return n.unshift(DU(r,n,t)),pi(n)}function bA(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var a=Js(n["!ref"]);a.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return IU(r,e);case 4:case 3:case 2:return AU(r,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function PU(r,e,t,n){for(var a=r["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>t||a[u].s.c>s)&&!(a[u].e.r<t||a[u].e.c<s)){if(a[u].s.r<t||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=gn({r:t,c:s}),p=n.dense?(r[t]||[])[s]:r[d],g=p&&p.v!=null&&(p.h||hD(p.w||(zc(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),c>1&&(m.colspan=c),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(Et("td",g,m))}}var y="<tr>";return y+i.join("")+"</tr>"}var FU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',MU="</body></html>";function BU(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function _A(r,e){var t=e||{},n=t.header!=null?t.header:FU,a=t.footer!=null?t.footer:MU,i=[n],s=Js(r["!ref"]);t.dense=Array.isArray(r),i.push(BU(r,s,t));for(var o=s.s.r;o<=s.e.r;++o)i.push(PU(r,s,o,t));return i.push("</table>"+a),i.join("")}function SA(r,e,t){var n=t||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Za(n.origin):n.origin;a=s.r,i=s.c}var o=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(r["!ref"]){var d=Js(r["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var p=[],g=0,m=r["!rows"]||(r["!rows"]=[]),y=0,w=0,_=0,S=0,A=0,C=0;for(r["!cols"]||(r["!cols"]=[]);y<o.length&&w<c;++y){var L=o[y];if(t_(L)){if(n.display)continue;m[w]={hidden:!0}}var B=L.children;for(_=S=0;_<B.length;++_){var M=B[_];if(!(n.display&&t_(M))){var F=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):xD(M.innerHTML),D=M.getAttribute("data-z")||M.getAttribute("z");for(g=0;g<p.length;++g){var O=p[g];O.s.c==S+i&&O.s.r<w+a&&w+a<=O.e.r&&(S=O.e.c+1-i,g=-1)}C=+M.getAttribute("colspan")||1,((A=+M.getAttribute("rowspan")||1)>1||C>1)&&p.push({s:{r:w+a,c:S+i},e:{r:w+a+(A||1)-1,c:S+i+(C||1)-1}});var q={t:"s",v:F},I=M.getAttribute("data-t")||M.getAttribute("t")||"";F!=null&&(F.length==0?q.t=I||"z":n.raw||F.trim().length==0||I=="s"||(F==="TRUE"?q={t:"b",v:!0}:F==="FALSE"?q={t:"b",v:!1}:isNaN(Pc(F))?isNaN(F1(F).getDate())||(q={t:"d",v:ns(F)},n.cellDates||(q={t:"n",v:Ss(q.v)}),q.z=n.dateNF||la[14]):q={t:"n",v:Pc(F)})),q.z===void 0&&D!=null&&(q.z=D);var U="",X=M.getElementsByTagName("A");if(X&&X.length)for(var ae=0;ae<X.length&&!(X[ae].hasAttribute("href")&&(U=X[ae].getAttribute("href"),U.charAt(0)!="#"));++ae);U&&U.charAt(0)!="#"&&(q.l={Target:U}),n.dense?(r[w+a]||(r[w+a]=[]),r[w+a][S+i]=q):r[gn({c:S+i,r:w+a})]=q,u.e.c<S+i&&(u.e.c=S+i),S+=C}}++w}return p.length&&(r["!merges"]=(r["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,w-1+a),r["!ref"]=Na(u),w>=c&&(r["!fullref"]=Na((u.e.r=o.length-y+w-1+a,u))),r}function EA(r,e){var t=e||{},n=t.dense?[]:{};return SA(n,r,e)}function UU(r,e){return pf(EA(r,e),e)}function t_(r){var e="",t=zU(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function zU(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var HU=function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+B1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Ca+e}}(),r_=function(){var r=function(i){return pn(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+pn(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,p=Js(i["!ref"]||"A1"),g=i["!merges"]||[],m=0,y=Array.isArray(i);if(i["!cols"])for(d=0;d<=p.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var w="",_=i["!rows"]||[];for(u=0;u<p.s.r;++u)w=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+w+`></table:table-row>
`);for(;u<=p.e.r;++u){for(w=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+w+`>
`),d=0;d<p.s.c;++d)c.push(e);for(;d<=p.e.c;++d){var S=!1,A={},C="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>d)&&!(g[m].s.r>u)&&!(g[m].e.c<d)&&!(g[m].e.r<u)){(g[m].s.c!=d||g[m].s.r!=u)&&(S=!0),A["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,A["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(S){c.push(t);continue}var L=gn({r:u,c:d}),B=y?(i[u]||[])[d]:i[L];if(B&&B.f&&(A["table:formula"]=pn(lM(B.f)),B.F&&B.F.slice(0,L.length)==L)){var M=Js(B.F);A["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,A["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!B){c.push(e);continue}switch(B.t){case"b":C=B.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=B.v?"true":"false";break;case"n":C=B.w||String(B.v||0),A["office:value-type"]="float",A["office:value"]=B.v||0;break;case"s":case"str":C=B.v==null?"":B.v,A["office:value-type"]="string";break;case"d":C=B.w||ns(B.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=ns(B.v).toISOString(),A["table:style-name"]="ce1";break;default:c.push(e);continue}var F=r(C);if(B.l&&B.l.Target){var D=B.l.Target;D=D.charAt(0)=="#"?"#"+cM(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),F=Et("text:a",F,{"xlink:href":D.replace(/&/g,"&amp;")})}c.push("          "+Et("table:table-cell",Et("text:p",F,{}),A)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var p=u["!cols"][d];if(p.width==null&&p.wpx==null&&p.wch==null)continue;vw(p),p.ods=o;var g=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var p=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[Ca],u=B1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=B1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(BE().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=s.SheetNames.length;++p)c.push(n(s.Sheets[s.SheetNames[p]],s,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function AA(r,e){if(e.bookType=="fods")return r_(r,e);var t=ow(),n="",a=[],i=[];return n="mimetype",vr(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",vr(t,n,r_(r,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",vr(t,n,HU(r,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",vr(t,n,Ca+BE()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",vr(t,n,eI(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",vr(t,n,JD(a)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Vm(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function qU(r){return typeof TextEncoder!="undefined"?new TextEncoder().encode(r):il(M1(r))}function $U(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function e0(r){var e=r.reduce(function(a,i){return a+i.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(a){t.set(a,n),n+=a.length}),t}function VU(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)r[e+i]=a&255;r[e+15]|=t>=0?0:128}function U1(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function un(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Hd(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Ra(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],a=U1(r,t),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=t[0];r[t[0]++]>=128;);o=r.slice(c,t[0])}break;case 5:s=4,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=U1(r,t),o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function ui(r){var e=[];return r.forEach(function(t,n){t.forEach(function(a){a.data&&(e.push(un(n*8+a.type)),a.type==2&&e.push(un(a.data.length)),e.push(a.data))})}),e0(e)}function Zo(r){for(var e,t=[],n=[0];n[0]<r.length;){var a=U1(r,n),i=Ra(r.slice(n[0],n[0]+a));n[0]+=a;var s={id:Hd(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Ra(o.data),u=Hd(c[3][0].data);s.messages.push({meta:c,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=i[3])!=null&&e[0]&&(s.merge=Hd(i[3][0].data)>>>0>0),t.push(s)}return t}function xd(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:un(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:un(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:un(s.data.length)}],n[2].push({data:ui(s.meta),type:2})});var i=ui(n);e.push(un(i.length)),e.push(i),a.forEach(function(s){return e.push(s)})}),e0(e)}function GU(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=U1(e,t),a=[];t[0]<e.length;){var i=e[t[0]]&3;if(i==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}a.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,i==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[e0(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=e0(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Jo(r){for(var e=[],t=0;t<r.length;){var n=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(GU(n,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return e0(e)}function vd(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),a=new Uint8Array(4);e.push(a);var i=un(n),s=i.length;e.push(i),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,t+=n}return e0(e)}function wv(r,e){var t=new Uint8Array(32),n=Vm(t),a=12,i=0;switch(t[0]=5,r.t){case"n":t[1]=2,VU(t,a,r.v),i|=1,a+=16;break;case"b":t[1]=6,n.setFloat64(a,r.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(a,e.indexOf(r.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,i,!0),t.slice(0,a)}function bv(r,e){var t=new Uint8Array(32),n=Vm(t),a=12,i=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(a,r.v,!0),i|=32,a+=8;break;case"b":t[2]=6,n.setFloat64(a,r.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(a,e.indexOf(r.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,i,!0),t.slice(0,a)}function Fu(r){var e=Ra(r);return U1(e[1][0].data)}function WU(r,e,t){var n,a,i,s;if(!((n=r[6])!=null&&n[0])||!((a=r[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=r[8])==null?void 0:i[0])==null?void 0:s.data)&&Hd(r[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Vm(r[7][0].data),d=0,p=[],g=Vm(r[4][0].data),m=0,y=[],w=0;w<e.length;++w){if(e[w]==null){u.setUint16(w*2,65535,!0),g.setUint16(w*2,65535);continue}u.setUint16(w*2,d,!0),g.setUint16(w*2,m,!0);var _,S;switch(typeof e[w]){case"string":_=wv({t:"s",v:e[w]},t),S=bv({t:"s",v:e[w]},t);break;case"number":_=wv({t:"n",v:e[w]},t),S=bv({t:"n",v:e[w]},t);break;case"boolean":_=wv({t:"b",v:e[w]},t),S=bv({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}p.push(_),d+=_.length,y.push(S),m+=S.length,++c}for(r[2][0].data=un(c);w<r[7][0].data.length/2;++w)u.setUint16(w*2,65535,!0),g.setUint16(w*2,65535,!0);return r[6][0].data=e0(p),r[3][0].data=e0(y),c}function XU(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Js(t["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Na(n)));var i=Gm(t,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(P){return P.forEach(function(H){typeof H=="string"&&s.push(H)})});var o={},c=[],u=bn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(P,H){return[P,u.FullPaths[H]]}).forEach(function(P){var H=P[0],G=P[1];if(H.type==2&&H.name.match(/\.iwa/)){var J=H.content,Ee=Jo(J),ve=Zo(Ee);ve.forEach(function(he){c.push(he.id),o[he.id]={deps:[],location:G,type:Hd(he.messages[0].meta[1][0].data)}})}}),c.sort(function(P,H){return P-H});var d=c.filter(function(P){return P>1}).map(function(P){return[P,un(P)]});u.FileIndex.map(function(P,H){return[P,u.FullPaths[H]]}).forEach(function(P){var H=P[0];if(P[1],!!H.name.match(/\.iwa/)){var G=Zo(Jo(H.content));G.forEach(function(J){J.messages.forEach(function(Ee){d.forEach(function(ve){J.messages.some(function(he){return Hd(he.meta[1][0].data)!=11006&&$U(he.data,ve[1])})&&o[ve[0]].deps.push(J.id)})})})}});for(var p=bn.find(u,o[1].location),g=Zo(Jo(p.content)),m,y=0;y<g.length;++y){var w=g[y];w.id==1&&(m=w)}var _=Fu(Ra(m.messages[0].data)[1][0].data);for(p=bn.find(u,o[_].location),g=Zo(Jo(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);for(_=Fu(Ra(m.messages[0].data)[2][0].data),p=bn.find(u,o[_].location),g=Zo(Jo(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);for(_=Fu(Ra(m.messages[0].data)[2][0].data),p=bn.find(u,o[_].location),g=Zo(Jo(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);var S=Ra(m.messages[0].data);{S[6][0].data=un(n.e.r+1),S[7][0].data=un(n.e.c+1);var A=Fu(S[46][0].data),C=bn.find(u,o[A].location),L=Zo(Jo(C.content));{for(var B=0;B<L.length&&L[B].id!=A;++B);if(L[B].id!=A)throw"Bad ColumnRowUIDMapArchive";var M=Ra(L[B].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var F=0;F<=n.e.c;++F){var D=[];D[1]=D[2]=[{type:0,data:un(F+420690)}],M[1].push({type:2,data:ui(D)}),M[2].push({type:0,data:un(F)}),M[3].push({type:0,data:un(F)})}M[4]=[],M[5]=[],M[6]=[];for(var O=0;O<=n.e.r;++O)D=[],D[1]=D[2]=[{type:0,data:un(O+726270)}],M[4].push({type:2,data:ui(D)}),M[5].push({type:0,data:un(O)}),M[6].push({type:0,data:un(O)});L[B].messages[0].data=ui(M)}C.content=vd(xd(L)),C.size=C.content.length,delete S[46];var q=Ra(S[4][0].data);{q[7][0].data=un(n.e.r+1);var I=Ra(q[1][0].data),U=Fu(I[2][0].data);C=bn.find(u,o[U].location),L=Zo(Jo(C.content));{if(L[0].id!=U)throw"Bad HeaderStorageBucket";var X=Ra(L[0].messages[0].data);for(O=0;O<i.length;++O){var ae=Ra(X[2][0].data);ae[1][0].data=un(O),ae[4][0].data=un(i[O].length),X[2][O]={type:X[2][0].type,data:ui(ae)}}L[0].messages[0].data=ui(X)}C.content=vd(xd(L)),C.size=C.content.length;var Se=Fu(q[2][0].data);C=bn.find(u,o[Se].location),L=Zo(Jo(C.content));{if(L[0].id!=Se)throw"Bad HeaderStorageBucket";for(X=Ra(L[0].messages[0].data),F=0;F<=n.e.c;++F)ae=Ra(X[2][0].data),ae[1][0].data=un(F),ae[4][0].data=un(n.e.r+1),X[2][F]={type:X[2][0].type,data:ui(ae)};L[0].messages[0].data=ui(X)}C.content=vd(xd(L)),C.size=C.content.length;var Q=Fu(q[4][0].data);(function(){for(var P=bn.find(u,o[Q].location),H=Zo(Jo(P.content)),G,J=0;J<H.length;++J){var Ee=H[J];Ee.id==Q&&(G=Ee)}var ve=Ra(G.messages[0].data);{ve[3]=[];var he=[];s.forEach(function(Be,rt){he[1]=[{type:0,data:un(rt)}],he[2]=[{type:0,data:un(1)}],he[3]=[{type:2,data:qU(Be)}],ve[3].push({type:2,data:ui(he)})})}G.messages[0].data=ui(ve);var pe=xd(H),Ne=vd(pe);P.content=Ne,P.size=P.content.length})();var ce=Ra(q[3][0].data);{var we=ce[1][0];delete ce[2];var ue=Ra(we.data);{var Y=Fu(ue[2][0].data);(function(){for(var P=bn.find(u,o[Y].location),H=Zo(Jo(P.content)),G,J=0;J<H.length;++J){var Ee=H[J];Ee.id==Y&&(G=Ee)}var ve=Ra(G.messages[0].data);{delete ve[6],delete ce[7];var he=new Uint8Array(ve[5][0].data);ve[5]=[];for(var pe=0,Ne=0;Ne<=n.e.r;++Ne){var Be=Ra(he);pe+=WU(Be,i[Ne],s),Be[1][0].data=un(Ne),ve[5].push({data:ui(Be),type:2})}ve[1]=[{type:0,data:un(n.e.c+1)}],ve[2]=[{type:0,data:un(n.e.r+1)}],ve[3]=[{type:0,data:un(pe)}],ve[4]=[{type:0,data:un(n.e.r+1)}]}G.messages[0].data=ui(ve);var rt=xd(H),ft=vd(rt);P.content=ft,P.size=P.content.length})()}we.data=ui(ue)}q[3][0].data=ui(ce)}S[4][0].data=ui(q)}m.messages[0].data=ui(S);var xe=xd(g),R=vd(xe);return p.content=R,p.size=p.content.length,u}function YU(r){return function(t){for(var n=0;n!=r.length;++n){var a=r[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function Sw(r){YU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function KU(r,e){return e.bookType=="ods"?AA(r,e):e.bookType=="numbers"?XU(r,e):e.bookType=="xlsb"?ZU(r,e):JU(r,e)}function ZU(r,e){Rd=1024,r&&!r.SSF&&(r.SSF=Es(la)),r&&r.SSF&&(x2(),m2(r.SSF),e.revssf=v2(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,O1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=oA.indexOf(e.bookType)>-1,a=PE();Sw(e=e||{});var i=ow(),s="",o=0;if(e.cellXfs=[],n0(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",vr(i,s,UE(r.Props,e)),a.coreprops.push(s),dn(e.rels,2,s,Wr.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}for(r.Props.Worksheets=r.Props.SheetNames.length,vr(i,s,HE(r.Props)),a.extprops.push(s),dn(e.rels,3,s,Wr.EXT_PROPS),r.Custprops!==r.Props&&vi(r.Custprops||{}).length>0&&(s="docProps/custom.xml",vr(i,s,qE(r.Custprops)),a.custprops.push(s),dn(e.rels,4,s,Wr.CUST_PROPS)),o=1;o<=r.SheetNames.length;++o){var d={"!id":{}},p=r.Sheets[r.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+t,vr(i,s,eU(o-1,s,e,r,d)),a.sheets.push(s),dn(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Wr.WS[0])}if(p){var m=p["!comments"],y=!1,w="";m&&m.length>0&&(w="xl/comments"+o+"."+t,vr(i,w,nU(m,w)),a.comments.push(w),dn(d,-1,"../comments"+o+"."+t,Wr.CMNT),y=!0),p["!legacy"]&&y&&vr(i,"xl/drawings/vmlDrawing"+o+".vml",iA(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&vr(i,ME(s),Ud(d))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,vr(i,s,rU(e.Strings,s,e)),a.strs.push(s),dn(e.wbrels,-1,"sharedStrings."+t,Wr.SST)),s="xl/workbook."+t,vr(i,s,QB(r,s)),a.workbooks.push(s),dn(e.rels,1,s,Wr.WB),s="xl/theme/theme1.xml",vr(i,s,nA(r.Themes,e)),a.themes.push(s),dn(e.wbrels,-1,"theme/theme1.xml",Wr.THEME),s="xl/styles."+t,vr(i,s,tU(r,s,e)),a.styles.push(s),dn(e.wbrels,-1,"styles."+t,Wr.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",vr(i,s,r.vbaraw),a.vba.push(s),dn(e.wbrels,-1,"vbaProject.bin",Wr.VBA)),s="xl/metadata."+t,vr(i,s,aU(s)),a.metadata.push(s),dn(e.wbrels,-1,"metadata."+t,Wr.XLMETA),vr(i,"[Content_Types].xml",FE(a,e)),vr(i,"_rels/.rels",Ud(e.rels)),vr(i,"xl/_rels/workbook."+t+".rels",Ud(e.wbrels)),delete e.revssf,delete e.ssf,i}function JU(r,e){Rd=1024,r&&!r.SSF&&(r.SSF=Es(la)),r&&r.SSF&&(x2(),m2(r.SSF),e.revssf=v2(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,O1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=oA.indexOf(e.bookType)>-1,a=PE();Sw(e=e||{});var i=ow(),s="",o=0;if(e.cellXfs=[],n0(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",vr(i,s,UE(r.Props,e)),a.coreprops.push(s),dn(e.rels,2,s,Wr.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],u=0;u<r.SheetNames.length;++u)(r.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(r.SheetNames[u]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,vr(i,s,HE(r.Props)),a.extprops.push(s),dn(e.rels,3,s,Wr.EXT_PROPS),r.Custprops!==r.Props&&vi(r.Custprops||{}).length>0&&(s="docProps/custom.xml",vr(i,s,qE(r.Custprops)),a.custprops.push(s),dn(e.rels,4,s,Wr.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=r.SheetNames.length;++o){var p={"!id":{}},g=r.Sheets[r.SheetNames[o-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+t,vr(i,s,mA(o-1,e,r,p)),a.sheets.push(s),dn(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Wr.WS[0])}if(g){var y=g["!comments"],w=!1,_="";if(y&&y.length>0){var S=!1;y.forEach(function(A){A[1].forEach(function(C){C.T==!0&&(S=!0)})}),S&&(_="xl/threadedComments/threadedComment"+o+"."+t,vr(i,_,jP(y,d,e)),a.threadedcomments.push(_),dn(p,-1,"../threadedComments/threadedComment"+o+"."+t,Wr.TCMNT)),_="xl/comments"+o+"."+t,vr(i,_,sA(y)),a.comments.push(_),dn(p,-1,"../comments"+o+"."+t,Wr.CMNT),w=!0}g["!legacy"]&&w&&vr(i,"xl/drawings/vmlDrawing"+o+".vml",iA(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&vr(i,ME(s),Ud(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+t,vr(i,s,ZE(e.Strings,e)),a.strs.push(s),dn(e.wbrels,-1,"sharedStrings."+t,Wr.SST)),s="xl/workbook."+t,vr(i,s,yA(r)),a.workbooks.push(s),dn(e.rels,1,s,Wr.WB),s="xl/theme/theme1.xml",vr(i,s,nA(r.Themes,e)),a.themes.push(s),dn(e.wbrels,-1,"theme/theme1.xml",Wr.THEME),s="xl/styles."+t,vr(i,s,tA(r,e)),a.styles.push(s),dn(e.wbrels,-1,"styles."+t,Wr.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",vr(i,s,r.vbaraw),a.vba.push(s),dn(e.wbrels,-1,"vbaProject.bin",Wr.VBA)),s="xl/metadata."+t,vr(i,s,aA()),a.metadata.push(s),dn(e.wbrels,-1,"metadata."+t,Wr.XLMETA),d.length>1&&(s="xl/persons/person.xml",vr(i,s,OP(d)),a.people.push(s),dn(e.wbrels,-1,"persons/person.xml",Wr.PEOPLE)),vr(i,"[Content_Types].xml",FE(a,e)),vr(i,"_rels/.rels",Ud(e.rels)),vr(i,"xl/_rels/workbook."+t+".rels",Ud(e.wbrels)),delete e.revssf,delete e.ssf,i}function QU(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Uc(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function NA(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return X1(e.file,bn.write(r,{type:Jr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return bn.write(r,e)}function ez(r,e){var t=Es(e||{}),n=KU(r,t);return tz(n,t)}function tz(r,e){var t={},n=Jr?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=r.FullPaths?bn.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno!="undefined"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(g2(a))}return e.password&&typeof encrypt_agile!="undefined"?NA(encrypt_agile(a,e.password),e):e.type==="file"?X1(e.file,a):e.type=="string"?N1(a):a}function rz(r,e){var t=e||{},n=vU(r,t);return NA(n,t)}function Xl(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return P1(M1(n));case"binary":return M1(n);case"string":return r;case"file":return X1(e.file,n,"utf8");case"buffer":return Jr?Hc(n,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(n):Xl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function nz(r,e){switch(e.type){case"base64":return P1(r);case"binary":return r;case"string":return r;case"file":return X1(e.file,r,"binary");case"buffer":return Jr?Hc(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function yg(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?P1(t):e.type=="string"?N1(t):t;case"file":return X1(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function CA(r,e){RL(),HB(r);var t=Es(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=CA(r,t);return t.type="array",g2(n)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=r.SheetNames.indexOf(t.sheet),!r.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Xl(mU(r,t),t);case"slk":case"sylk":return Xl(BI.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"htm":case"html":return Xl(_A(r.Sheets[r.SheetNames[a]],t),t);case"txt":return nz(TA(r.Sheets[r.SheetNames[a]],t),t);case"csv":return Xl(Ew(r.Sheets[r.SheetNames[a]],t),t,"\uFEFF");case"dif":return Xl(UI.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"dbf":return yg(MI.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"prn":return Xl(zI.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"rtf":return Xl(XI.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"eth":return Xl(KE.from_sheet(r.Sheets[r.SheetNames[a]],t),t);case"fods":return Xl(AA(r,t),t);case"wk1":return yg(Y3.sheet_to_wk1(r.Sheets[r.SheetNames[a]],t),t);case"wk3":return yg(Y3.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),yg(bA(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),rz(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ez(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function az(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function iz(r,e,t){var n={};return n.type="file",n.file=e,az(n),CA(r,n)}function sz(r,e,t,n,a,i,s,o){var c=xi(t),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch(_){g.__rowNum__=t}else g.__rowNum__=t;if(!s||r[t])for(var m=e.s.c;m<=e.e.c;++m){var y=s?r[t][m]:r[n[m]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;i[m]!=null&&(g[i[m]]=u);continue}var w=y.v;switch(y.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[m]!=null){if(w==null)if(y.t=="e"&&w===null)g[i[m]]=null;else if(u!==void 0)g[i[m]]=u;else if(d&&w===null)g[i[m]]=null;else continue;else g[i[m]]=d&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?w:zc(y,w,o);w!=null&&(p=!1)}}return{row:g,isempty:p}}function Gm(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Fn(d);break;case"number":c=Fn(r["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var p=xi(c.s.r),g=[],m=[],y=0,w=0,_=Array.isArray(r),S=c.s.r,A=0,C={};_&&!r[S]&&(r[S]=[]);var L=u.skipHidden&&r["!cols"]||[],B=u.skipHidden&&r["!rows"]||[];for(A=c.s.c;A<=c.e.c;++A)if(!(L[A]||{}).hidden)switch(g[A]=Ii(A),t=_?r[S][A]:r[g[A]+p],n){case 1:i[A]=A-c.s.c;break;case 2:i[A]=g[A];break;case 3:i[A]=u.header[A-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=zc(t,null,u),w=C[s]||0,!w)C[s]=1;else{do o=s+"_"+w++;while(C[o]);C[s]=w,C[o]=1}i[A]=o}for(S=c.s.r+a;S<=c.e.r;++S)if(!(B[S]||{}).hidden){var M=sz(r,c,S,g,n,i,_,u);(M.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[y++]=M.row)}return m.length=y,m}var n_=/"/g;function oz(r,e,t,n,a,i,s,o){for(var c=!0,u=[],d="",p=xi(t),g=e.s.c;g<=e.e.c;++g)if(n[g]){var m=o.dense?(r[t]||[])[g]:r[n[g]+p];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:zc(m,null,o));for(var y=0,w=0;y!==d.length;++y)if((w=d.charCodeAt(y))===a||w===i||w===34||o.forceQuotes){d='"'+d.replace(n_,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(n_,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function Ew(r,e){var t=[],n=e==null?{}:e;if(r==null||r["!ref"]==null)return"";var a=Fn(r["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",p=[];n.dense=Array.isArray(r);for(var g=n.skipHidden&&r["!cols"]||[],m=n.skipHidden&&r["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(g[y]||{}).hidden||(p[y]=Ii(y));for(var w=0,_=a.s.r;_<=a.e.r;++_)(m[_]||{}).hidden||(d=oz(r,a,_,p,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&t.push((w++?o:"")+d)));return delete n.dense,t.join("")}function TA(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Ew(r,e);return t}function lz(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var a=Fn(r["!ref"]),i="",s=[],o,c=[],u=Array.isArray(r);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ii(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=xi(d),o=a.s.c;o<=a.e.c;++o)if(e=s[o]+i,t=u?(r[d]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}c[c.length]=e+"="+n}return c}function jA(r,e,t){var n=t||{},a=+!n.skipHeader,i=r||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Za(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+e.length-1+a}};if(i["!ref"]){var p=Fn(i["!ref"]);d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),s==-1&&(s=p.e.r+1,d.e.r=s+e.length-1+a)}else s==-1&&(s=0,d.e.r=e.length-1+a);var g=n.header||[],m=0;e.forEach(function(w,_){vi(w).forEach(function(S){(m=g.indexOf(S))==-1&&(g[m=g.length]=S);var A=w[S],C="z",L="",B=gn({c:o+m,r:s+_+a});u=z1(i,B),A&&typeof A=="object"&&!(A instanceof Date)?i[B]=A:(typeof A=="number"?C="n":typeof A=="boolean"?C="b":typeof A=="string"?C="s":A instanceof Date?(C="d",n.cellDates||(C="n",A=Ss(A)),L=n.dateNF||la[14]):A===null&&n.nullError&&(C="e",A=0),u?(u.t=C,u.v=A,delete u.w,delete u.R,L&&(u.z=L)):i[B]=u={t:C,v:A},L&&(u.z=L))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var y=xi(s);if(a)for(m=0;m<g.length;++m)i[Ii(m+o)+y]={t:"s",v:g[m]};return i["!ref"]=Na(d),i}function cz(r,e){return jA(null,r,e)}function z1(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Za(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?z1(r,gn(e)):z1(r,gn({r:e,c:t||0}))}function uz(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function fz(){return{SheetNames:[],Sheets:{}}}function dz(r,e,t,n){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var i=t.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=s+a)!=-1;++a);}if(vA(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function hz(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=uz(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function pz(r,e){return r.z=e,r}function OA(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function gz(r,e,t){return OA(r,"#"+e,t)}function mz(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function xz(r,e,t,n){for(var a=typeof e!="string"?e:Fn(e),i=typeof e=="string"?e:Na(e),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=z1(r,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=t,n&&(c.D=!0))}return r}var _v={encode_col:Ii,encode_row:xi,encode_cell:gn,encode_range:Na,decode_col:hw,decode_row:dw,split_cell:RD,decode_cell:Za,decode_range:Js,format_cell:zc,sheet_add_aoa:OE,sheet_add_json:jA,sheet_add_dom:SA,aoa_to_sheet:nh,json_to_sheet:cz,table_to_sheet:EA,table_to_book:UU,sheet_to_csv:Ew,sheet_to_txt:TA,sheet_to_json:Gm,sheet_to_html:_A,sheet_to_formulae:lz,sheet_to_row_object_array:Gm,sheet_get_cell:z1,book_new:fz,book_append_sheet:dz,book_set_sheet_visibility:hz,cell_set_number_format:pz,cell_set_hyperlink:OA,cell_set_internal_link:gz,cell_add_comment:mz,sheet_set_array_formula:xz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Aw=(r,e,t,n,a)=>oe(null,null,function*(){return new Promise((i,s)=>{try{if(Array.isArray(r)||(console.error("Data is not an array:",r),r=Array.isArray(r)?r:r?[r]:[]),!Array.isArray(e)){console.error("Columns is not an array:",e),s(new Error("Columns must be an array"));return}const o=new Qt;o.setFontSize(18),o.text(n,14,22),o.setFontSize(10),o.text(`Generated on: ${new Date().toLocaleString()}`,14,30);const c=[];for(let y=0;y<r.length;y++){const w=r[y];if(!w)continue;const _=[];for(let S=0;S<e.length;S++){const A=e[S];let C="";try{if(A.dataKey.includes(".")){const L=A.dataKey.split(".");let B=w;for(const M of L)B=B==null?void 0:B[M];C=B}else C=w[A.dataKey];C=C==null?"":C}catch(L){console.error(`Error extracting value for column ${A.dataKey}:`,L),C=""}_.push(C)}c.push(_)}const u=e.map(y=>y.header),d=Math.max(1,Math.floor(c.length/10)),p=[];for(let y=0;y<c.length;y+=d)p.push(c.slice(y,y+d));a(10);let g=0;const m=()=>{if(g>=p.length){try{o.save(`${t}.pdf`),a(100),i()}catch(w){console.error("Error saving PDF:",w),s(w)}return}const y=10+Math.round(g/p.length*80);a(y),g++,setTimeout(m,100)};try{TL(o,{head:[u],body:c,startY:40,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[66,139,202]}}),m()}catch(y){console.error("Error generating PDF table:",y),s(y)}}catch(o){console.error("Error in exportToPDF:",o),s(o)}})}),Nw=(r,e,t,n,a)=>oe(null,null,function*(){return new Promise((i,s)=>{try{if(Array.isArray(r)||(console.error("Data is not an array:",r),r=Array.isArray(r)?r:r?[r]:[]),!Array.isArray(e)){console.error("Columns is not an array:",e),s(new Error("Columns must be an array"));return}a(10);const o=[e.map(g=>g.header||"")],c=Math.max(1,Math.floor(r.length/10)),u=[];for(let g=0;g<r.length;g+=c)u.push(r.slice(g,g+c));let d=0;const p=()=>{if(d>=u.length){try{const y=_v.aoa_to_sheet(o),w=_v.book_new();_v.book_append_sheet(w,y,n||"Sheet1"),iz(w,`${t}.xlsx`),a(100),i()}catch(y){console.error("Error generating Excel file:",y),s(y)}return}const g=10+Math.round(d/u.length*80);a(g);const m=u[d];for(let y=0;y<m.length;y++){const w=m[y];if(!w)continue;const _=[];for(let S=0;S<e.length;S++){const A=e[S];let C="";try{if(A.dataKey.includes(".")){const L=A.dataKey.split(".");let B=w;for(const M of L)B=B==null?void 0:B[M];C=B}else C=w[A.dataKey];C=C==null?"":C}catch(L){console.error(`Error extracting value for column ${A.dataKey}:`,L),C=""}_.push(C)}o.push(_)}d++,setTimeout(p,100)};p()}catch(o){console.error("Error in exportToXLSX:",o),s(o)}})});var wg={},s1={},bg={},a_;function Qs(){if(a_)return bg;a_=1,Object.defineProperty(bg,"__esModule",{value:!0});function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var e=function t(n,a){r(this,t),this.data=n,this.text=a.text||n,this.options=a};return bg.default=e,bg}var i_;function vz(){if(i_)return s1;i_=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.CODE39=void 0;var r=function(){function w(_,S){for(var A=0;A<S.length;A++){var C=S[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,S,A){return S&&w(_.prototype,S),A&&w(_,A),_}}(),e=Qs(),t=n(e);function n(w){return w&&w.__esModule?w:{default:w}}function a(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function i(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function s(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var o=function(w){s(_,w);function _(S,A){return a(this,_),S=S.toUpperCase(),A.mod43&&(S+=g(y(S))),i(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S,A))}return r(_,[{key:"encode",value:function(){for(var A=d("*"),C=0;C<this.data.length;C++)A+=d(this.data[C])+"0";return A+=d("*"),{data:A,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),_}(t.default),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],u=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function d(w){return p(m(w))}function p(w){return u[w].toString(2)}function g(w){return c[w]}function m(w){return c.indexOf(w)}function y(w){for(var _=0,S=0;S<w.length;S++)_+=m(w[S]);return _=_%43,_}return s1.CODE39=o,s1}var Qo={},_g={},Sg={},ia={},s_;function Q1(){if(s_)return ia;s_=1,Object.defineProperty(ia,"__esModule",{value:!0});var r;function e(c,u,d){return u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d,c}var t=ia.SET_A=0,n=ia.SET_B=1,a=ia.SET_C=2;ia.SHIFT=98;var i=ia.START_A=103,s=ia.START_B=104,o=ia.START_C=105;return ia.MODULO=103,ia.STOP=106,ia.FNC1=207,ia.SET_BY_CODE=(r={},e(r,i,t),e(r,s,n),e(r,o,a),r),ia.SWAP={101:t,100:n,99:a},ia.A_START_CHAR="",ia.B_START_CHAR="",ia.C_START_CHAR="",ia.A_CHARS="[\0-_-]",ia.B_CHARS="[ --]",ia.C_CHARS="(*[0-9]{2}*)",ia.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],ia}var o_;function S2(){if(o_)return Sg;o_=1,Object.defineProperty(Sg,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=Qs(),t=a(e),n=Q1();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function o(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(u){o(d,u);function d(p,g){i(this,d);var m=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,p.substring(1),g));return m.bytes=p.split("").map(function(y){return y.charCodeAt(0)}),m}return r(d,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var g=this.bytes,m=g.shift()-105,y=n.SET_BY_CODE[m];if(y===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&g.unshift(n.FNC1);var w=d.next(g,1,y);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:d.getBar(m)+w.result+d.getBar((w.checksum+m)%n.MODULO)+d.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var g=this.options.ean128||!1;return typeof g=="string"&&(g=g.toLowerCase()==="true"),g}}],[{key:"getBar",value:function(g){return n.BARS[g]?n.BARS[g].toString():""}},{key:"correctIndex",value:function(g,m){if(m===n.SET_A){var y=g.shift();return y<32?y+64:y-32}else return m===n.SET_B?g.shift()-32:(g.shift()-48)*10+g.shift()-48}},{key:"next",value:function(g,m,y){if(!g.length)return{result:"",checksum:0};var w=void 0,_=void 0;if(g[0]>=200){_=g.shift()-105;var S=n.SWAP[_];S!==void 0?w=d.next(g,m+1,S):((y===n.SET_A||y===n.SET_B)&&_===n.SHIFT&&(g[0]=y===n.SET_A?g[0]>95?g[0]-96:g[0]:g[0]<32?g[0]+96:g[0]),w=d.next(g,m+1,y))}else _=d.correctIndex(g,y),w=d.next(g,m+1,y);var A=d.getBar(_),C=_*m;return{result:A+w.result,checksum:C+w.checksum}}}]),d}(t.default);return Sg.default=c,Sg}var Eg={},l_;function yz(){if(l_)return Eg;l_=1,Object.defineProperty(Eg,"__esModule",{value:!0});var r=Q1(),e=function(o){return o.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},t=function(o){return o.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},n=function(o){return o.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function a(s,o){var c=o?r.A_CHARS:r.B_CHARS,u=s.match(new RegExp("^("+c+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(u)return u[1]+""+i(s.substring(u[1].length));var d=s.match(new RegExp("^"+c+"+"))[0];return d.length===s.length?s:d+String.fromCharCode(o?205:206)+a(s.substring(d.length),!o)}function i(s){var o=n(s),c=o.length;if(c===s.length)return s;s=s.substring(c);var u=e(s)>=t(s);return o+String.fromCharCode(u?206:205)+a(s,u)}return Eg.default=function(s){var o=void 0,c=n(s).length;if(c>=2)o=r.C_START_CHAR+i(s);else{var u=e(s)>t(s);o=(u?r.A_START_CHAR:r.B_START_CHAR)+a(s,u)}return o.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(d,p){return""+p})},Eg}var c_;function wz(){if(c_)return _g;c_=1,Object.defineProperty(_g,"__esModule",{value:!0});var r=S2(),e=a(r),t=yz(),n=a(t);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function o(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(u){o(d,u);function d(p,g){if(i(this,d),/^[\x00-\x7F\xC8-\xD3]+$/.test(p))var m=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,(0,n.default)(p),g));else var m=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,p,g));return s(m)}return d}(e.default);return _g.default=c,_g}var Ag={},u_;function bz(){if(u_)return Ag;u_=1,Object.defineProperty(Ag,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=S2(),t=a(e),n=Q1();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function o(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(u){o(d,u);function d(p,g){return i(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,n.A_START_CHAR+p,g))}return r(d,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),d}(t.default);return Ag.default=c,Ag}var Ng={},f_;function _z(){if(f_)return Ng;f_=1,Object.defineProperty(Ng,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=S2(),t=a(e),n=Q1();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function o(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(u){o(d,u);function d(p,g){return i(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,n.B_START_CHAR+p,g))}return r(d,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),d}(t.default);return Ng.default=c,Ng}var Cg={},d_;function Sz(){if(d_)return Cg;d_=1,Object.defineProperty(Cg,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=S2(),t=a(e),n=Q1();function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function o(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(u){o(d,u);function d(p,g){return i(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,n.C_START_CHAR+p,g))}return r(d,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),d}(t.default);return Cg.default=c,Cg}var h_;function Ez(){if(h_)return Qo;h_=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.CODE128C=Qo.CODE128B=Qo.CODE128A=Qo.CODE128=void 0;var r=wz(),e=c(r),t=bz(),n=c(t),a=_z(),i=c(a),s=Sz(),o=c(s);function c(u){return u&&u.__esModule?u:{default:u}}return Qo.CODE128=e.default,Qo.CODE128A=n.default,Qo.CODE128B=i.default,Qo.CODE128C=o.default,Qo}var Yi={},Tg={},Oc={},p_;function ep(){return p_||(p_=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.SIDE_BIN="101",Oc.MIDDLE_BIN="01010",Oc.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Oc.EAN2_STRUCTURE=["LL","LG","GL","GG"],Oc.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Oc.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),Oc}var jg={},Og={},g_;function tp(){if(g_)return Og;g_=1,Object.defineProperty(Og,"__esModule",{value:!0});var r=ep(),e=function(n,a,i){var s=n.split("").map(function(c,u){return r.BINARIES[a[u]]}).map(function(c,u){return c?c[n[u]]:""});if(i){var o=n.length-1;s=s.map(function(c,u){return u<o?c+i:c})}return s.join("")};return Og.default=e,Og}var m_;function RA(){if(m_)return jg;m_=1,Object.defineProperty(jg,"__esModule",{value:!0});var r=function(){function p(g,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,m,y){return m&&p(g.prototype,m),y&&p(g,y),g}}(),e=ep(),t=tp(),n=s(t),a=Qs(),i=s(a);function s(p){return p&&p.__esModule?p:{default:p}}function o(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function c(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function u(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){u(g,p);function g(m,y){o(this,g);var w=c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,m,y));return w.fontSize=!y.flat&&y.fontSize>y.width*10?y.width*10:y.fontSize,w.guardHeight=y.height+w.fontSize/2+y.textMargin,w}return r(g,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(y,w){return this.text.substr(y,w)}},{key:"leftEncode",value:function(y,w){return(0,n.default)(y,w)}},{key:"rightText",value:function(y,w){return this.text.substr(y,w)}},{key:"rightEncode",value:function(y,w){return(0,n.default)(y,w)}},{key:"encodeGuarded",value:function(){var y={fontSize:this.fontSize},w={height:this.guardHeight};return[{data:e.SIDE_BIN,options:w},{data:this.leftEncode(),text:this.leftText(),options:y},{data:e.MIDDLE_BIN,options:w},{data:this.rightEncode(),text:this.rightText(),options:y},{data:e.SIDE_BIN,options:w}]}},{key:"encodeFlat",value:function(){var y=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:y.join(""),text:this.text}}}]),g}(i.default);return jg.default=d,jg}var x_;function Az(){if(x_)return Tg;x_=1,Object.defineProperty(Tg,"__esModule",{value:!0});var r=function(){function p(g,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,m,y){return m&&p(g.prototype,m),y&&p(g,y),g}}(),e=function p(g,m,y){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,m);if(w===void 0){var _=Object.getPrototypeOf(g);return _===null?void 0:p(_,m,y)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(y)}},t=ep(),n=RA(),a=i(n);function i(p){return p&&p.__esModule?p:{default:p}}function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function o(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var u=function(g){var m=g.substr(0,12).split("").map(function(y){return+y}).reduce(function(y,w,_){return _%2?y+w*3:y+w},0);return(10-m%10)%10},d=function(p){c(g,p);function g(m,y){s(this,g),m.search(/^[0-9]{12}$/)!==-1&&(m+=u(m));var w=o(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,m,y));return w.lastChar=y.lastChar,w}return r(g,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===u(this.data)}},{key:"leftText",value:function(){return e(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var y=this.data.substr(1,6),w=t.EAN13_STRUCTURE[this.data[0]];return e(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"leftEncode",this).call(this,y,w)}},{key:"rightText",value:function(){return e(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var y=this.data.substr(7,6);return e(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"rightEncode",this).call(this,y,"RRRRRR")}},{key:"encodeGuarded",value:function(){var y=e(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(y.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(y.push({data:"00"}),y.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),y}}]),g}(a.default);return Tg.default=d,Tg}var Rg={},v_;function Nz(){if(v_)return Rg;v_=1,Object.defineProperty(Rg,"__esModule",{value:!0});var r=function(){function d(p,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,g,m){return g&&d(p.prototype,g),m&&d(p,m),p}}(),e=function d(p,g,m){p===null&&(p=Function.prototype);var y=Object.getOwnPropertyDescriptor(p,g);if(y===void 0){var w=Object.getPrototypeOf(p);return w===null?void 0:d(w,g,m)}else{if("value"in y)return y.value;var _=y.get;return _===void 0?void 0:_.call(m)}},t=RA(),n=a(t);function a(d){return d&&d.__esModule?d:{default:d}}function i(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function s(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function o(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var c=function(p){var g=p.substr(0,7).split("").map(function(m){return+m}).reduce(function(m,y,w){return w%2?m+y:m+y*3},0);return(10-g%10)%10},u=function(d){o(p,d);function p(g,m){return i(this,p),g.search(/^[0-9]{7}$/)!==-1&&(g+=c(g)),s(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g,m))}return r(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===c(this.data)}},{key:"leftText",value:function(){return e(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var m=this.data.substr(0,4);return e(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"leftEncode",this).call(this,m,"LLLL")}},{key:"rightText",value:function(){return e(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var m=this.data.substr(4,4);return e(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"rightEncode",this).call(this,m,"RRRR")}}]),p}(n.default);return Rg.default=u,Rg}var kg={},y_;function Cz(){if(y_)return kg;y_=1,Object.defineProperty(kg,"__esModule",{value:!0});var r=function(){function g(m,y){for(var w=0;w<y.length;w++){var _=y[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,w){return y&&g(m.prototype,y),w&&g(m,w),m}}(),e=ep(),t=tp(),n=s(t),a=Qs(),i=s(a);function s(g){return g&&g.__esModule?g:{default:g}}function o(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function c(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function u(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var d=function(m){var y=m.split("").map(function(w){return+w}).reduce(function(w,_,S){return S%2?w+_*9:w+_*3},0);return y%10},p=function(g){u(m,g);function m(y,w){return o(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,w))}return r(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var w=e.EAN5_STRUCTURE[d(this.data)];return{data:"1011"+(0,n.default)(this.data,w,"01"),text:this.text}}}]),m}(i.default);return kg.default=p,kg}var Lg={},w_;function Tz(){if(w_)return Lg;w_=1,Object.defineProperty(Lg,"__esModule",{value:!0});var r=function(){function p(g,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,m,y){return m&&p(g.prototype,m),y&&p(g,y),g}}(),e=ep(),t=tp(),n=s(t),a=Qs(),i=s(a);function s(p){return p&&p.__esModule?p:{default:p}}function o(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function c(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function u(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){u(g,p);function g(m,y){return o(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,m,y))}return r(g,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var y=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,y,"01"),text:this.text}}}]),g}(i.default);return Lg.default=d,Lg}var o1={},b_;function kA(){if(b_)return o1;b_=1,Object.defineProperty(o1,"__esModule",{value:!0});var r=function(){function p(g,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,m,y){return m&&p(g.prototype,m),y&&p(g,y),g}}();o1.checksum=d;var e=tp(),t=i(e),n=Qs(),a=i(n);function i(p){return p&&p.__esModule?p:{default:p}}function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function o(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var u=function(p){c(g,p);function g(m,y){s(this,g),m.search(/^[0-9]{11}$/)!==-1&&(m+=d(m));var w=o(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,m,y));return w.displayValue=y.displayValue,y.fontSize>y.width*10?w.fontSize=y.width*10:w.fontSize=y.fontSize,w.guardHeight=y.height+w.fontSize/2+y.textMargin,w}return r(g,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==d(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=(0,t.default)(this.data.substr(0,6),"LLLLLL"),y+="01010",y+=(0,t.default)(this.data.substr(6,6),"RRRRRR"),y+="101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101"+(0,t.default)(this.data[0],"L"),options:{height:this.guardHeight}}),y.push({data:(0,t.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),y.push({data:"01010",options:{height:this.guardHeight}}),y.push({data:(0,t.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),y.push({data:(0,t.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),y}}]),g}(a.default);function d(p){var g=0,m;for(m=1;m<11;m+=2)g+=parseInt(p[m]);for(m=0;m<11;m+=2)g+=parseInt(p[m])*3;return(10-g%10)%10}return o1.default=u,o1}var Dg={},__;function jz(){if(__)return Dg;__=1,Object.defineProperty(Dg,"__esModule",{value:!0});var r=function(){function y(w,_){for(var S=0;S<_.length;S++){var A=_[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,_,S){return _&&y(w.prototype,_),S&&y(w,S),w}}(),e=tp(),t=s(e),n=Qs(),a=s(n),i=kA();function s(y){return y&&y.__esModule?y:{default:y}}function o(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function c(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function u(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var d=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],p=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],g=function(y){u(w,y);function w(_,S){o(this,w);var A=c(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_,S));if(A.isValid=!1,_.search(/^[0-9]{6}$/)!==-1)A.middleDigits=_,A.upcA=m(_,"0"),A.text=S.text||""+A.upcA[0]+_+A.upcA[A.upcA.length-1],A.isValid=!0;else if(_.search(/^[01][0-9]{7}$/)!==-1)if(A.middleDigits=_.substring(1,_.length-1),A.upcA=m(A.middleDigits,_[0]),A.upcA[A.upcA.length-1]===_[_.length-1])A.isValid=!0;else return c(A);else return c(A);return A.displayValue=S.displayValue,S.fontSize>S.width*10?A.fontSize=S.width*10:A.fontSize=S.fontSize,A.guardHeight=S.height+A.fontSize/2+S.textMargin,A}return r(w,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var S="";return S+="101",S+=this.encodeMiddleDigits(),S+="010101",{data:S,text:this.text}}},{key:"guardedEncoding",value:function(){var S=[];return this.displayValue&&S.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),S.push({data:"101",options:{height:this.guardHeight}}),S.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),S.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&S.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),S}},{key:"encodeMiddleDigits",value:function(){var S=this.upcA[0],A=this.upcA[this.upcA.length-1],C=p[parseInt(A)][parseInt(S)];return(0,t.default)(this.middleDigits,C)}}]),w}(a.default);function m(y,w){for(var _=parseInt(y[y.length-1]),S=d[_],A="",C=0,L=0;L<S.length;L++){var B=S[L];B==="X"?A+=y[C++]:A+=B}return A=""+w+A,""+A+(0,i.checksum)(A)}return Dg.default=g,Dg}var S_;function Oz(){if(S_)return Yi;S_=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.UPCE=Yi.UPC=Yi.EAN2=Yi.EAN5=Yi.EAN8=Yi.EAN13=void 0;var r=Az(),e=g(r),t=Nz(),n=g(t),a=Cz(),i=g(a),s=Tz(),o=g(s),c=kA(),u=g(c),d=jz(),p=g(d);function g(m){return m&&m.__esModule?m:{default:m}}return Yi.EAN13=e.default,Yi.EAN8=n.default,Yi.EAN5=i.default,Yi.EAN2=o.default,Yi.UPC=u.default,Yi.UPCE=p.default,Yi}var q0={},Ig={},yd={},E_;function Rz(){return E_||(E_=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.START_BIN="1010",yd.END_BIN="11101",yd.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),yd}var A_;function LA(){if(A_)return Ig;A_=1,Object.defineProperty(Ig,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=Rz(),t=Qs(),n=a(t);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function o(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(u){o(d,u);function d(){return i(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return r(d,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var g=this,m=this.data.match(/.{2}/g).map(function(y){return g.encodePair(y)}).join("");return{data:e.START_BIN+m+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(g){var m=e.BINARIES[g[1]];return e.BINARIES[g[0]].split("").map(function(y,w){return(y==="1"?"111":"1")+(m[w]==="1"?"000":"0")}).join("")}}]),d}(n.default);return Ig.default=c,Ig}var Pg={},N_;function kz(){if(N_)return Pg;N_=1,Object.defineProperty(Pg,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=LA(),t=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function a(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function i(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function s(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var o=function(d){var p=d.substr(0,13).split("").map(function(g){return parseInt(g,10)}).reduce(function(g,m,y){return g+m*(3-y%2*2)},0);return Math.ceil(p/10)*10-p},c=function(u){s(d,u);function d(p,g){return a(this,d),p.search(/^[0-9]{13}$/)!==-1&&(p+=o(p)),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,p,g))}return r(d,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===o(this.data)}}]),d}(t.default);return Pg.default=c,Pg}var C_;function Lz(){if(C_)return q0;C_=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.ITF14=q0.ITF=void 0;var r=LA(),e=a(r),t=kz(),n=a(t);function a(i){return i&&i.__esModule?i:{default:i}}return q0.ITF=e.default,q0.ITF14=n.default,q0}var qs={},Fg={},T_;function rp(){if(T_)return Fg;T_=1,Object.defineProperty(Fg,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=Qs(),t=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function a(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function i(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function s(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var o=function(u){s(d,u);function d(p,g){return a(this,d),i(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,p,g))}return r(d,[{key:"encode",value:function(){for(var g="110",m=0;m<this.data.length;m++){var y=parseInt(this.data[m]),w=y.toString(2);w=c(w,4-w.length);for(var _=0;_<w.length;_++)g+=w[_]=="0"?"100":"110"}return g+="1001",{data:g,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),d}(t.default);function c(u,d){for(var p=0;p<d;p++)u="0"+u;return u}return Fg.default=o,Fg}var Mg={},l1={},j_;function E2(){if(j_)return l1;j_=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.mod10=r,l1.mod11=e;function r(t){for(var n=0,a=0;a<t.length;a++){var i=parseInt(t[a]);(a+t.length)%2===0?n+=i:n+=i*2%10+Math.floor(i*2/10)}return(10-n%10)%10}function e(t){for(var n=0,a=[2,3,4,5,6,7],i=0;i<t.length;i++){var s=parseInt(t[t.length-1-i]);n+=a[i%a.length]*s}return(11-n%11)%11}return l1}var O_;function Dz(){if(O_)return Mg;O_=1,Object.defineProperty(Mg,"__esModule",{value:!0});var r=rp(),e=n(r),t=E2();function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){return a(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d+(0,t.mod10)(d),p))}return u}(e.default);return Mg.default=o,Mg}var Bg={},R_;function Iz(){if(R_)return Bg;R_=1,Object.defineProperty(Bg,"__esModule",{value:!0});var r=rp(),e=n(r),t=E2();function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){return a(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d+(0,t.mod11)(d),p))}return u}(e.default);return Bg.default=o,Bg}var Ug={},k_;function Pz(){if(k_)return Ug;k_=1,Object.defineProperty(Ug,"__esModule",{value:!0});var r=rp(),e=n(r),t=E2();function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){return a(this,u),d+=(0,t.mod10)(d),d+=(0,t.mod10)(d),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,p))}return u}(e.default);return Ug.default=o,Ug}var zg={},L_;function Fz(){if(L_)return zg;L_=1,Object.defineProperty(zg,"__esModule",{value:!0});var r=rp(),e=n(r),t=E2();function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){return a(this,u),d+=(0,t.mod11)(d),d+=(0,t.mod10)(d),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,p))}return u}(e.default);return zg.default=o,zg}var D_;function Mz(){if(D_)return qs;D_=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.MSI1110=qs.MSI1010=qs.MSI11=qs.MSI10=qs.MSI=void 0;var r=rp(),e=d(r),t=Dz(),n=d(t),a=Iz(),i=d(a),s=Pz(),o=d(s),c=Fz(),u=d(c);function d(p){return p&&p.__esModule?p:{default:p}}return qs.MSI=e.default,qs.MSI10=n.default,qs.MSI11=i.default,qs.MSI1010=o.default,qs.MSI1110=u.default,qs}var c1={},I_;function Bz(){if(I_)return c1;I_=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.pharmacode=void 0;var r=function(){function c(u,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,d,p){return d&&c(u.prototype,d),p&&c(u,p),u}}(),e=Qs(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){a(this,u);var g=i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,p));return g.number=parseInt(d,10),g}return r(u,[{key:"encode",value:function(){for(var p=this.number,g="";!isNaN(p)&&p!=0;)p%2===0?(g="11100"+g,p=(p-2)/2):(g="100"+g,p=(p-1)/2);return g=g.slice(0,-2),{data:g,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),u}(t.default);return c1.pharmacode=o,c1}var u1={},P_;function Uz(){if(P_)return u1;P_=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.codabar=void 0;var r=function(){function c(u,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,d,p){return d&&c(u.prototype,d),p&&c(u,p),u}}(),e=Qs(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){a(this,u),d.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(d="A"+d+"A");var g=i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d.toUpperCase(),p));return g.text=g.options.text||g.text.replace(/[A-D]/g,""),g}return r(u,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var p=[],g=this.getEncodings(),m=0;m<this.data.length;m++)p.push(g[this.data.charAt(m)]),m!==this.data.length-1&&p.push("0");return{text:this.text,data:p.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),u}(t.default);return u1.codabar=o,u1}var $0={},Hg={},wd={},F_;function zz(){return F_||(F_=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],wd.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],wd.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),wd}var M_;function DA(){if(M_)return Hg;M_=1,Object.defineProperty(Hg,"__esModule",{value:!0});var r=function(){function u(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}}(),e=zz(),t=Qs(),n=a(t);function a(u){return u&&u.__esModule?u:{default:u}}function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function o(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(u){o(d,u);function d(p,g){return i(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,p,g))}return r(d,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var g=this.data.split("").flatMap(function(_){return e.MULTI_SYMBOLS[_]||_}),m=g.map(function(_){return d.getEncoding(_)}).join(""),y=d.checksum(g,20),w=d.checksum(g.concat(y),15);return{text:this.text,data:d.getEncoding("")+m+d.getEncoding(y)+d.getEncoding(w)+d.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(g){return e.BINARIES[d.symbolValue(g)]}},{key:"getSymbol",value:function(g){return e.SYMBOLS[g]}},{key:"symbolValue",value:function(g){return e.SYMBOLS.indexOf(g)}},{key:"checksum",value:function(g,m){var y=g.slice().reverse().reduce(function(w,_,S){var A=S%m+1;return w+d.symbolValue(_)*A},0);return d.getSymbol(y%47)}}]),d}(n.default);return Hg.default=c,Hg}var qg={},B_;function Hz(){if(B_)return qg;B_=1,Object.defineProperty(qg,"__esModule",{value:!0});var r=function(){function c(u,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,d,p){return d&&c(u.prototype,d),p&&c(u,p),u}}(),e=DA(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){return a(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,p))}return r(u,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),u}(t.default);return qg.default=o,qg}var U_;function qz(){if(U_)return $0;U_=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.CODE93FullASCII=$0.CODE93=void 0;var r=DA(),e=a(r),t=Hz(),n=a(t);function a(i){return i&&i.__esModule?i:{default:i}}return $0.CODE93=e.default,$0.CODE93FullASCII=n.default,$0}var f1={},z_;function $z(){if(z_)return f1;z_=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.GenericBarcode=void 0;var r=function(){function c(u,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,d,p){return d&&c(u.prototype,d),p&&c(u,p),u}}(),e=Qs(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function a(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function i(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function s(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}var o=function(c){s(u,c);function u(d,p){return a(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,p))}return r(u,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),u}(t.default);return f1.GenericBarcode=o,f1}var H_;function Vz(){if(H_)return wg;H_=1,Object.defineProperty(wg,"__esModule",{value:!0});var r=vz(),e=Ez(),t=Oz(),n=Lz(),a=Mz(),i=Bz(),s=Uz(),o=qz(),c=$z();return wg.default={CODE39:r.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:t.EAN13,EAN8:t.EAN8,EAN5:t.EAN5,EAN2:t.EAN2,UPC:t.UPC,UPCE:t.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:a.MSI,MSI10:a.MSI10,MSI11:a.MSI11,MSI1010:a.MSI1010,MSI1110:a.MSI1110,pharmacode:i.pharmacode,codabar:s.codabar,CODE93:o.CODE93,CODE93FullASCII:o.CODE93FullASCII,GenericBarcode:c.GenericBarcode},wg}var $g={},q_;function A2(){if(q_)return $g;q_=1,Object.defineProperty($g,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return $g.default=function(e,t){return r({},e,t)},$g}var Vg={},$_;function Gz(){if($_)return Vg;$_=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=r;function r(e){var t=[];function n(a){if(Array.isArray(a))for(var i=0;i<a.length;i++)n(a[i]);else a.text=a.text||"",a.data=a.data||"",t.push(a)}return n(e),t}return Vg}var Gg={},V_;function Wz(){if(V_)return Gg;V_=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.default=r;function r(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return Gg}var Wg={},Xg={},Yg={},G_;function IA(){if(G_)return Yg;G_=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.default=r;function r(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&(n=t[n],typeof e[n]=="string"&&(e[n]=parseInt(e[n],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return Yg}var Kg={},W_;function PA(){if(W_)return Kg;W_=1,Object.defineProperty(Kg,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Kg.default=r,Kg}var X_;function Xz(){if(X_)return Xg;X_=1,Object.defineProperty(Xg,"__esModule",{value:!0});var r=IA(),e=a(r),t=PA(),n=a(t);function a(s){return s&&s.__esModule?s:{default:s}}function i(s){var o={};for(var c in n.default)n.default.hasOwnProperty(c)&&(s.hasAttribute("jsbarcode-"+c.toLowerCase())&&(o[c]=s.getAttribute("jsbarcode-"+c.toLowerCase())),s.hasAttribute("data-"+c.toLowerCase())&&(o[c]=s.getAttribute("data-"+c.toLowerCase())));return o.value=s.getAttribute("jsbarcode-value")||s.getAttribute("data-value"),o=(0,e.default)(o),o}return Xg.default=i,Xg}var Zg={},Jg={},$s={},Y_;function FA(){if(Y_)return $s;Y_=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.getTotalWidthOfEncodings=$s.calculateEncodingAttributes=$s.getBarcodePadding=$s.getEncodingHeight=$s.getMaximumHeightOfEncodings=void 0;var r=A2(),e=t(r);function t(u){return u&&u.__esModule?u:{default:u}}function n(u,d){return d.height+(d.displayValue&&u.text.length>0?d.fontSize+d.textMargin:0)+d.marginTop+d.marginBottom}function a(u,d,p){if(p.displayValue&&d<u){if(p.textAlign=="center")return Math.floor((u-d)/2);if(p.textAlign=="left")return 0;if(p.textAlign=="right")return Math.floor(u-d)}return 0}function i(u,d,p){for(var g=0;g<u.length;g++){var m=u[g],y=(0,e.default)(d,m.options),w;y.displayValue?w=c(m.text,y,p):w=0;var _=m.data.length*y.width;m.width=Math.ceil(Math.max(w,_)),m.height=n(m,y),m.barcodePadding=a(w,_,y)}}function s(u){for(var d=0,p=0;p<u.length;p++)d+=u[p].width;return d}function o(u){for(var d=0,p=0;p<u.length;p++)u[p].height>d&&(d=u[p].height);return d}function c(u,d,p){var g;if(p)g=p;else if(typeof document!="undefined")g=document.createElement("canvas").getContext("2d");else return 0;g.font=d.fontOptions+" "+d.fontSize+"px "+d.font;var m=g.measureText(u);if(!m)return 0;var y=m.width;return y}return $s.getMaximumHeightOfEncodings=o,$s.getEncodingHeight=n,$s.getBarcodePadding=a,$s.calculateEncodingAttributes=i,$s.getTotalWidthOfEncodings=s,$s}var K_;function Yz(){if(K_)return Jg;K_=1,Object.defineProperty(Jg,"__esModule",{value:!0});var r=function(){function o(c,u){for(var d=0;d<u.length;d++){var p=u[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,u,d){return u&&o(c.prototype,u),d&&o(c,d),c}}(),e=A2(),t=a(e),n=FA();function a(o){return o&&o.__esModule?o:{default:o}}function i(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function(){function o(c,u,d){i(this,o),this.canvas=c,this.encodings=u,this.options=d}return r(o,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var u=0;u<this.encodings.length;u++){var d=(0,t.default)(this.options,this.encodings[u].options);this.drawCanvasBarcode(d,this.encodings[u]),this.drawCanvasText(d,this.encodings[u]),this.moveCanvasDrawing(this.encodings[u])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var u=this.canvas.getContext("2d");u.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,u);var d=(0,n.getTotalWidthOfEncodings)(this.encodings),p=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=d+this.options.marginLeft+this.options.marginRight,this.canvas.height=p,u.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(u.fillStyle=this.options.background,u.fillRect(0,0,this.canvas.width,this.canvas.height)),u.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(u,d){var p=this.canvas.getContext("2d"),g=d.data,m;u.textPosition=="top"?m=u.marginTop+u.fontSize+u.textMargin:m=u.marginTop,p.fillStyle=u.lineColor;for(var y=0;y<g.length;y++){var w=y*u.width+d.barcodePadding;g[y]==="1"?p.fillRect(w,m,u.width,u.height):g[y]&&p.fillRect(w,m,u.width,u.height*g[y])}}},{key:"drawCanvasText",value:function(u,d){var p=this.canvas.getContext("2d"),g=u.fontOptions+" "+u.fontSize+"px "+u.font;if(u.displayValue){var m,y;u.textPosition=="top"?y=u.marginTop+u.fontSize-u.textMargin:y=u.height+u.textMargin+u.marginTop+u.fontSize,p.font=g,u.textAlign=="left"||d.barcodePadding>0?(m=0,p.textAlign="left"):u.textAlign=="right"?(m=d.width-1,p.textAlign="right"):(m=d.width/2,p.textAlign="center"),p.fillText(d.text,m,y)}}},{key:"moveCanvasDrawing",value:function(u){var d=this.canvas.getContext("2d");d.translate(u.width,0)}},{key:"restoreCanvas",value:function(){var u=this.canvas.getContext("2d");u.restore()}}]),o}();return Jg.default=s,Jg}var Qg={},Z_;function Kz(){if(Z_)return Qg;Z_=1,Object.defineProperty(Qg,"__esModule",{value:!0});var r=function(){function c(u,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return function(u,d,p){return d&&c(u.prototype,d),p&&c(u,p),u}}(),e=A2(),t=a(e),n=FA();function a(c){return c&&c.__esModule?c:{default:c}}function i(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var s="http://www.w3.org/2000/svg",o=function(){function c(u,d,p){i(this,c),this.svg=u,this.encodings=d,this.options=p,this.document=p.xmlDocument||document}return r(c,[{key:"render",value:function(){var d=this.options.marginLeft;this.prepareSVG();for(var p=0;p<this.encodings.length;p++){var g=this.encodings[p],m=(0,t.default)(this.options,g.options),y=this.createGroup(d,m.marginTop,this.svg);this.setGroupOptions(y,m),this.drawSvgBarcode(y,m,g),this.drawSVGText(y,m,g),d+=g.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var d=(0,n.getTotalWidthOfEncodings)(this.encodings),p=(0,n.getMaximumHeightOfEncodings)(this.encodings),g=d+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(g,p),this.options.background&&this.drawRect(0,0,g,p,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(d,p,g){var m=g.data,y;p.textPosition=="top"?y=p.fontSize+p.textMargin:y=0;for(var w=0,_=0,S=0;S<m.length;S++)_=S*p.width+g.barcodePadding,m[S]==="1"?w++:w>0&&(this.drawRect(_-p.width*w,y,p.width*w,p.height,d),w=0);w>0&&this.drawRect(_-p.width*(w-1),y,p.width*w,p.height,d)}},{key:"drawSVGText",value:function(d,p,g){var m=this.document.createElementNS(s,"text");if(p.displayValue){var y,w;m.setAttribute("font-family",p.font),m.setAttribute("font-size",p.fontSize),p.fontOptions.includes("bold")&&m.setAttribute("font-weight","bold"),p.fontOptions.includes("italic")&&m.setAttribute("font-style","italic"),p.textPosition=="top"?w=p.fontSize-p.textMargin:w=p.height+p.textMargin+p.fontSize,p.textAlign=="left"||g.barcodePadding>0?(y=0,m.setAttribute("text-anchor","start")):p.textAlign=="right"?(y=g.width-1,m.setAttribute("text-anchor","end")):(y=g.width/2,m.setAttribute("text-anchor","middle")),m.setAttribute("x",y),m.setAttribute("y",w),m.appendChild(this.document.createTextNode(g.text)),d.appendChild(m)}}},{key:"setSvgAttributes",value:function(d,p){var g=this.svg;g.setAttribute("width",d+"px"),g.setAttribute("height",p+"px"),g.setAttribute("x","0px"),g.setAttribute("y","0px"),g.setAttribute("viewBox","0 0 "+d+" "+p),g.setAttribute("xmlns",s),g.setAttribute("version","1.1")}},{key:"createGroup",value:function(d,p,g){var m=this.document.createElementNS(s,"g");return m.setAttribute("transform","translate("+d+", "+p+")"),g.appendChild(m),m}},{key:"setGroupOptions",value:function(d,p){d.setAttribute("fill",p.lineColor)}},{key:"drawRect",value:function(d,p,g,m,y){var w=this.document.createElementNS(s,"rect");return w.setAttribute("x",d),w.setAttribute("y",p),w.setAttribute("width",g),w.setAttribute("height",m),y.appendChild(w),w}}]),c}();return Qg.default=o,Qg}var em={},J_;function Zz(){if(J_)return em;J_=1,Object.defineProperty(em,"__esModule",{value:!0});var r=function(){function n(a,i){for(var s=0;s<i.length;s++){var o=i[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,i,s){return i&&n(a.prototype,i),s&&n(a,s),a}}();function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var t=function(){function n(a,i,s){e(this,n),this.object=a,this.encodings=i,this.options=s}return r(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n}();return em.default=t,em}var Q_;function Jz(){if(Q_)return Zg;Q_=1,Object.defineProperty(Zg,"__esModule",{value:!0});var r=Yz(),e=s(r),t=Kz(),n=s(t),a=Zz(),i=s(a);function s(o){return o&&o.__esModule?o:{default:o}}return Zg.default={CanvasRenderer:e.default,SVGRenderer:n.default,ObjectRenderer:i.default},Zg}var bd={},e6;function MA(){if(e6)return bd;e6=1,Object.defineProperty(bd,"__esModule",{value:!0});function r(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}function e(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:s}function t(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}var n=function(s){t(o,s);function o(c,u){r(this,o);var d=e(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return d.name="InvalidInputException",d.symbology=c,d.input=u,d.message='"'+d.input+'" is not a valid input for '+d.symbology,d}return o}(Error),a=function(s){t(o,s);function o(){r(this,o);var c=e(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return c.name="InvalidElementException",c.message="Not supported type to render on",c}return o}(Error),i=function(s){t(o,s);function o(){r(this,o);var c=e(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return c.name="NoElementException",c.message="No element to render on.",c}return o}(Error);return bd.InvalidInputException=n,bd.InvalidElementException=a,bd.NoElementException=i,bd}var t6;function Qz(){if(t6)return Wg;t6=1,Object.defineProperty(Wg,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e=Xz(),t=s(e),n=Jz(),a=s(n),i=MA();function s(d){return d&&d.__esModule?d:{default:d}}function o(d){if(typeof d=="string")return c(d);if(Array.isArray(d)){for(var p=[],g=0;g<d.length;g++)p.push(o(d[g]));return p}else{if(typeof HTMLCanvasElement!="undefined"&&d instanceof HTMLImageElement)return u(d);if(d&&d.nodeName&&d.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&d instanceof SVGElement)return{element:d,options:(0,t.default)(d),renderer:a.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&d instanceof HTMLCanvasElement)return{element:d,options:(0,t.default)(d),renderer:a.default.CanvasRenderer};if(d&&d.getContext)return{element:d,renderer:a.default.CanvasRenderer};if(d&&(typeof d=="undefined"?"undefined":r(d))==="object"&&!d.nodeName)return{element:d,renderer:a.default.ObjectRenderer};throw new i.InvalidElementException}}function c(d){var p=document.querySelectorAll(d);if(p.length!==0){for(var g=[],m=0;m<p.length;m++)g.push(o(p[m]));return g}}function u(d){var p=document.createElement("canvas");return{element:p,options:(0,t.default)(d),renderer:a.default.CanvasRenderer,afterRender:function(){d.setAttribute("src",p.toDataURL())}}}return Wg.default=o,Wg}var tm={},r6;function eH(){if(r6)return tm;r6=1,Object.defineProperty(tm,"__esModule",{value:!0});var r=function(){function n(a,i){for(var s=0;s<i.length;s++){var o=i[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,i,s){return i&&n(a.prototype,i),s&&n(a,s),a}}();function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var t=function(){function n(a){e(this,n),this.api=a}return r(n,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var s=i.apply(void 0,arguments);return this.api._options.valid(!0),s}catch(o){return this.handleCatch(o),this.api}}}]),n}();return tm.default=t,tm}var Sv,n6;function tH(){if(n6)return Sv;n6=1;var r=Vz(),e=S(r),t=A2(),n=S(t),a=Gz(),i=S(a),s=Wz(),o=S(s),c=Qz(),u=S(c),d=IA(),p=S(d),g=eH(),m=S(g),y=MA(),w=PA(),_=S(w);function S(O){return O&&O.__esModule?O:{default:O}}var A=function(){},C=function(q,I,U){var X=new A;if(typeof q=="undefined")throw Error("No element to render on was provided.");return X._renderProperties=(0,u.default)(q),X._encodings=[],X._options=_.default,X._errorHandler=new m.default(X),typeof I!="undefined"&&(U=U||{},U.format||(U.format=F()),X.options(U)[U.format](I,U).render()),X};C.getModule=function(O){return e.default[O]};for(var L in e.default)e.default.hasOwnProperty(L)&&B(e.default,L);function B(O,q){A.prototype[q]=A.prototype[q.toUpperCase()]=A.prototype[q.toLowerCase()]=function(I,U){var X=this;return X._errorHandler.wrapBarcodeCall(function(){U.text=typeof U.text=="undefined"?void 0:""+U.text;var ae=(0,n.default)(X._options,U);ae=(0,p.default)(ae);var Se=O[q],Q=M(I,Se,ae);return X._encodings.push(Q),X})}}function M(O,q,I){O=""+O;var U=new q(O,I);if(!U.valid())throw new y.InvalidInputException(U.constructor.name,O);var X=U.encode();X=(0,i.default)(X);for(var ae=0;ae<X.length;ae++)X[ae].options=(0,n.default)(I,X[ae].options);return X}function F(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}A.prototype.options=function(O){return this._options=(0,n.default)(this._options,O),this},A.prototype.blank=function(O){var q=new Array(O+1).join("0");return this._encodings.push({data:q}),this},A.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var O;for(var q in this._renderProperties){O=this._renderProperties[q];var I=(0,n.default)(this._options,O.options);I.format=="auto"&&(I.format=F()),this._errorHandler.wrapBarcodeCall(function(){var U=I.value,X=e.default[I.format.toUpperCase()],ae=M(U,X,I);D(O,ae,I)})}}},A.prototype.render=function(){if(!this._renderProperties)throw new y.NoElementException;if(Array.isArray(this._renderProperties))for(var O=0;O<this._renderProperties.length;O++)D(this._renderProperties[O],this._encodings,this._options);else D(this._renderProperties,this._encodings,this._options);return this},A.prototype._defaults=_.default;function D(O,q,I){q=(0,i.default)(q);for(var U=0;U<q.length;U++)q[U].options=(0,n.default)(I,q[U].options),(0,o.default)(q[U].options);(0,o.default)(I);var X=O.renderer,ae=new X(O.element,q,I);ae.render(),O.afterRender&&O.afterRender()}return typeof window!="undefined"&&(window.JsBarcode=C),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(O,q){var I=[];return jQuery(this).each(function(){I.push(this)}),C(I,O,q)}),Sv=C,Sv}var rH=tH();const BA=Ry(rH),np=V.forwardRef(({barcode:r,width:e,height:t,size:n="medium",showPartNumber:a=!0,partNumber:i,lineColor:s="#000000"},o)=>{const c=V.useRef(null),u={small:{width:1.5,height:40},medium:{width:2,height:60},large:{width:2.5,height:80}},d=u[n]||u.medium,p=e!==void 0?e:d.width,g=t!==void 0?t:d.height,m=`${Math.max(150,g*3)}px`,y=Math.max(10,Math.min(16,Math.floor(g/5)));if(V.useImperativeHandle(o,()=>({getSvgElement:()=>c.current,getBarcode:()=>r})),V.useEffect(()=>{if(r&&c.current)try{BA(c.current,r,{format:"CODE128",width:p,height:g,displayValue:!1,fontSize:y,margin:5,background:"#ffffff",lineColor:s})}catch(_){console.error("Barcode generation error:",_)}},[r,p,g,s,y]),!r)return null;const w=i||r;return l.jsxs("div",{style:{display:"inline-block",textAlign:"center"},children:[l.jsx("svg",{ref:c,style:{maxWidth:m,height:"auto",display:"block"}}),a&&l.jsx("div",{style:{fontFamily:"monospace",fontSize:`${y+2}px`,fontWeight:"bold",color:"#333",marginTop:"4px",letterSpacing:"1px"},children:w})]})});np.displayName="InlineBarcode";const UA=(r,e=2,t=null)=>new Promise((n,a)=>{var i,s,o,c;if(!r){a(new Error("No SVG element provided"));return}try{const u=r.getBBox(),d=((s=(i=r.width)==null?void 0:i.baseVal)==null?void 0:s.value)||u.width+20,p=((c=(o=r.height)==null?void 0:o.baseVal)==null?void 0:c.value)||u.height+20,m=p+(t?30:0),y=r.cloneNode(!0);y.setAttribute("width",d),y.setAttribute("height",p);const w=document.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("width","100%"),w.setAttribute("height","100%"),w.setAttribute("fill","white"),y.insertBefore(w,y.firstChild);const S=new XMLSerializer().serializeToString(y),A=new Blob([S],{type:"image/svg+xml;charset=utf-8"}),C=URL.createObjectURL(A),L=new Image;L.onload=()=>{const B=document.createElement("canvas");B.width=d*e,B.height=m*e;const M=B.getContext("2d");M.fillStyle="white",M.fillRect(0,0,B.width,B.height),M.scale(e,e),M.drawImage(L,0,0),t&&(M.fillStyle="#000000",M.font="bold 14px monospace",M.textAlign="center",M.fillText(t,d/2,p+20));const F=B.toDataURL("image/png");URL.revokeObjectURL(C),n(F)},L.onerror=B=>{URL.revokeObjectURL(C),a(B)},L.src=C}catch(u){a(u)}}),zA=(r,e=null)=>oe(null,null,function*(){try{const t=yield UA(r,3,e),a=yield(yield fetch(t)).blob();if(navigator.clipboard&&navigator.clipboard.write){const i=new ClipboardItem({"image/png":a});return yield navigator.clipboard.write([i]),!0}else{const i=window.open("","_blank");return i&&i.document.write(`
          <html>
            <head><title>Barcode Image</title></head>
            <body style="display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;background:#f0f0f0;">
              <div style="background:white;padding:20px;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.1);">
                <img src="${t}" />
                <p style="text-align:center;margin-top:10px;color:#666;">Right-click and "Copy image" to copy</p>
              </div>
            </body>
          </html>
        `),!1}}catch(t){throw console.error("Failed to copy barcode as image:",t),t}}),HA=(r,e="barcode",t=null)=>oe(null,null,function*(){try{const n=yield UA(r,3,t),a=document.createElement("a");a.href=n,a.download=`${e}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(n){throw console.error("Failed to download barcode:",n),n}}),qA=({svgElement:r,productName:e,partNumber:t,price:n,showPrice:a=!0})=>{if(!r)return;const i=window.open("","_blank");i&&(i.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Barcode Label - ${t||"Print"}</title>
        <style>
          @media print {
            @page { margin: 5mm; size: auto; }
            body { margin: 0; padding: 0; }
            .label { page-break-after: always; }
            .label:last-child { page-break-after: auto; }
          }
          body { 
            font-family: Arial, sans-serif; 
            display: flex;
            justify-content: center;
            padding: 20px;
          }
          .label {
            border: 1px dashed #ccc;
            padding: 15px 25px;
            display: inline-block;
            text-align: center;
            background: white;
          }
          .product-name {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 5px;
            max-width: 250px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          }
          .part-number {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-top: 8px;
            font-family: monospace;
          }
          .price {
            font-size: 18px;
            font-weight: bold;
            margin-top: 8px;
            color: #222;
          }
          .barcode-svg svg {
            max-width: 100%;
          }
        </style>
      </head>
      <body>
        <div class="label">
          ${e?`<div class="product-name">${e}</div>`:""}
          <div class="barcode-svg">${r.outerHTML}</div>
          ${t?`<div class="part-number">P/N: ${t}</div>`:""}
          ${a&&n?`<div class="price">$${parseFloat(n).toFixed(2)}</div>`:""}
        </div>
        <script>
          window.onload = function() { 
            setTimeout(function() { window.print(); }, 100);
          }
        <\/script>
      </body>
      </html>
    `),i.document.close())},nH=(r,e={width:2,height:60})=>{if(!r||r.length===0)return;const t=window.open("","_blank");if(t){const n=r.map(i=>`
        <div class="label">
          <svg id="barcode-${i.id}"></svg>
          ${i.barcode?`<div class="part-number">${i.barcode}</div>`:""}
        </div>
      `).join(""),a=r.map(i=>`
      if (document.getElementById('barcode-${i.id}') && '${i.barcode}') {
        try {
          JsBarcode('#barcode-${i.id}', '${i.barcode}', {
            format: 'CODE128',
            width: ${e.width},
            height: ${e.height},
            displayValue: false,
            margin: 5,
            background: '#ffffff',
            lineColor: '#000000'
          });
        } catch(e) { console.error(e); }
      }
    `).join(`
`);t.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bulk Barcode Labels</title>
        <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
        <style>
          @media print {
            @page { margin: 5mm; size: auto; }
            body { margin: 0; padding: 0; }
            .labels-container { display: block; }
            .label { 
              page-break-inside: avoid;
              margin-bottom: 10px;
            }
          }
          body { 
            font-family: Arial, sans-serif; 
            padding: 20px;
          }
          .labels-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: flex-start;
          }
          .label {
            border: 1px dashed #ccc;
            padding: 15px 20px;
            text-align: center;
            background: white;
            min-width: 200px;
          }
          .product-name {
            font-weight: bold;
            font-size: 12px;
            margin-bottom: 5px;
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          }
          .part-number {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            margin-top: 8px;
            font-family: monospace;
          }
          .price {
            font-size: 14px;
            font-weight: bold;
            margin-top: 5px;
          }
          .print-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
          }
          .print-controls button {
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
          }
          @media print {
            .print-controls { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="print-controls">
          <button onclick="window.print()"> Print ${r.length} Labels</button>
        </div>
        <h2 style="margin-bottom: 20px;">Barcode Labels (${r.length})</h2>
        <div class="labels-container">
          ${n}
        </div>
        <script>
          window.onload = function() {
            ${a}
          }
        <\/script>
      </body>
      </html>
    `),t.document.close()}},aH=()=>{const[r,e]=V.useState([]),[t,n]=V.useState([]),[a,i]=V.useState(!0),[s,o]=V.useState(null),[c,u]=V.useState("all"),[d,p]=V.useState(""),[g,m]=V.useState(!1),{success:y,error:w}=Mn(),{isOpen:_,confirm:S,handleClose:A,handleConfirm:C,dialogProps:L}=eh(),[B,M]=V.useState(1),[F,D]=V.useState(10),[O,q]=V.useState(0),[I,U]=V.useState(!1),[X,ae]=V.useState(null),[Se,Q]=V.useState([]),[ce,we]=V.useState(!1),[ue,Y]=V.useState(!1),[xe,R]=V.useState(3);V.useEffect(()=>{oe(null,null,function*(){i(!0);try{const[ke,Ze]=yield Promise.all([Wu({limit:1e3}),o2()]),Te=ke.products||ke;console.log("Products data:",Te),console.log("Categories data:",Ze),Te&&Te.length>0&&console.log("First product structure:",JSON.stringify(Te[0],null,2)),Ze&&Ze.length>0&&console.log("First category structure:",JSON.stringify(Ze[0],null,2)),e(Te),n(Ze)}catch(ke){console.error("Error fetching data:",ke),o(ke.message||"Failed to load products")}finally{i(!1)}})},[]);const P=te=>oe(null,null,function*(){try{yield S({title:"Delete Product",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield Nm(te),e(r.filter(ke=>ke.id!==te)),y("Product deleted successfully")}catch(ke){w(ke.message||"Failed to delete product")}}catch(ke){console.log("Product deletion cancelled")}}),H=te=>oe(null,null,function*(){i(!0);try{const ke=yield z8(te),Ze=yield Wu();e(Ze),y(`Successfully imported ${ke.length} out of ${te.length} products`)}catch(ke){console.error("Error during import:",ke),w(ke.message||"Failed to import products")}finally{i(!1)}});V.useEffect(()=>{console.log("Filter values changed:"),console.log("Selected category:",c),console.log("Search query:",d)},[c,d]);const G=V.useMemo(()=>r.map(te=>Ft(wt({},te),{category_id:te.category_id?String(te.category_id):null})),[r]);V.useEffect(()=>{G.length>0&&(console.log("Processed products with consistent category IDs:"),G.slice(0,3).forEach(te=>{console.log(`Product: ${te.name}, Category ID: ${te.category_id}, Type: ${typeof te.category_id}`)}))},[G]);const J=V.useMemo(()=>(console.log("Filtering products with selectedCategory:",c),G.filter(te=>{const ke=c==="all"||te.category_id===c,Ze=(te.name||"").toLowerCase(),Te=(te.description||"").toLowerCase(),Ie=d.toLowerCase(),ot=Ze.includes(Ie)||Te.includes(Ie);return!ke&&c!=="all"&&console.log(`Product ${te.name} doesn't match category. Product category: ${te.category_id}, Selected: ${c}`),ke&&ot})),[G,c,d]);V.useEffect(()=>{M(1)},[c,d]);const Ee=F===-1?J:J.slice((B-1)*F,B*F),ve=F===-1?1:(B-1)*F+1,he=F===-1?J.length:Math.min(B*F,J.length),pe=te=>{we(te.target.checked),te.target.checked?Q(Ee.map(ke=>ke.id)):Q([])},Ne=(te,ke)=>{ke?Q(Ze=>[...Ze,te]):(Q(Ze=>Ze.filter(Te=>Te!==te)),we(!1))},Be=te=>oe(null,null,function*(){if(Se.length===0){w("No products selected");return}const ke=r.filter(Ze=>Se.includes(Ze.id));te==="pdf"?yield ft(ke):te==="xlsx"&&(yield ze(ke))}),rt=()=>oe(null,null,function*(){if(Se.length===0){w("No products selected");return}try{yield S({title:"Delete Selected Products",message:`Are you sure you want to delete ${Se.length} selected products? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});let te=0,ke=0;for(const Te of Se)try{yield Nm(Te),te++}catch(Ie){console.error(`Error deleting product ${Te}:`,Ie),ke++}const Ze=yield Wu();e(Ze),Q([]),we(!1),ke===0?y(`Successfully deleted ${te} products`):w(`Deleted ${te} products, but failed to delete ${ke} products`)}catch(te){console.log("Bulk deletion cancelled")}}),ft=(te=null)=>oe(null,null,function*(){let ke=te||J;try{ae("pdf"),U(!0),q(0),Array.isArray(ke)||(console.error("dataToExport is not an array:",ke),ke=Array.isArray(ke)?ke:ke?[ke]:[]),console.log(`Preparing to export ${ke.length} products to PDF`);const Ze=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"name"},{header:"Category",dataKey:"category_name"},{header:"Price",dataKey:"price"},{header:"Quantity",dataKey:"quantity"},{header:"Condition",dataKey:"condition_status"}],Te=[];for(const Ie of ke)if(Ie)try{Te.push(Ft(wt({},Ie),{price:`$${parseFloat(Ie.price||0).toFixed(2)}`,category_name:Ie.category_name||"Uncategorized",quantity:Ie.quantity||0,condition_status:Ie.condition_status||"Unknown"}))}catch(ot){console.error("Error formatting product data:",ot,Ie)}console.log(`Formatted ${Te.length} products for PDF export`),yield Aw(Te,Ze,"products_export","Products Report",q),y("Products exported to PDF successfully")}catch(Ze){console.error("Error exporting to PDF:",Ze),w(`Failed to export products to PDF: ${Ze.message||"Unknown error"}`)}finally{U(!1)}}),ze=(te=null)=>oe(null,null,function*(){let ke=te||J;try{ae("xlsx"),U(!0),q(0),Array.isArray(ke)||(console.error("dataToExport is not an array:",ke),ke=Array.isArray(ke)?ke:ke?[ke]:[]),console.log(`Preparing to export ${ke.length} products to Excel`);const Ze=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"name"},{header:"Description",dataKey:"description"},{header:"Category",dataKey:"category_name"},{header:"Price",dataKey:"price"},{header:"Quantity",dataKey:"quantity"},{header:"Condition",dataKey:"condition_status"},{header:"Created At",dataKey:"created_at"},{header:"Updated At",dataKey:"updated_at"}],Te=[];for(const Ie of ke)if(Ie)try{Te.push(Ft(wt({},Ie),{price:parseFloat(Ie.price||0).toFixed(2),category_name:Ie.category_name||"Uncategorized",quantity:Ie.quantity||0,condition_status:Ie.condition_status||"Unknown",description:Ie.description||"",created_at:Ie.created_at?new Date(Ie.created_at).toLocaleString():"",updated_at:Ie.updated_at?new Date(Ie.updated_at).toLocaleString():""}))}catch(ot){console.error("Error formatting product data:",ot,Ie)}console.log(`Formatted ${Te.length} products for Excel export`),yield Nw(Te,Ze,"products_export","Products",q),y("Products exported to Excel successfully")}catch(Ze){console.error("Error exporting to Excel:",Ze),w(`Failed to export products to Excel: ${Ze.message||"Unknown error"}`)}finally{U(!1)}});return l.jsxs("div",{children:[l.jsx(Qd,{isOpen:_,onClose:A,onConfirm:C,title:L.title,message:L.message,confirmText:L.confirmText,cancelText:L.cancelText,confirmButtonClass:L.confirmButtonClass}),l.jsx(ew,{progress:O,isVisible:I,onComplete:()=>U(!1)}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Products"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[l.jsxs("button",{onClick:()=>m(!0),className:"flex items-center justify-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 w-full sm:w-auto transition-colors",disabled:I,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import CSV"]}),l.jsxs(_t,{to:"/admin/barcode-generator",className:"flex items-center justify-center bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 w-full sm:w-auto transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Barcode Generator"]}),Se.length>0&&l.jsxs("button",{onClick:()=>{if(r.filter(ke=>Se.includes(ke.id)&&ke.part_number).length===0){w("No selected products have part numbers");return}Y(!0)},className:"flex items-center justify-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full sm:w-auto transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Labels (",Se.length,")"]}),l.jsxs(_t,{to:"/admin/products/add",className:"flex items-center justify-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 w-full sm:w-auto transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Product"]})]})]}),l.jsx(WR,{isOpen:g,onClose:()=>m(!1),onImport:H,categories:t}),ue&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Print Barcode Labels"}),l.jsxs("p",{className:"text-gray-400 mb-4",children:["Printing ",Se.filter(te=>{var ke;return(ke=r.find(Ze=>Ze.id===te))==null?void 0:ke.part_number}).length," labels"]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Barcode Size"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>R(Math.max(1,xe-1)),disabled:xe<=1,className:`w-12 h-12 rounded-lg font-bold text-2xl flex items-center justify-center ${xe<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:""}),l.jsxs("div",{className:"flex-1 text-center",children:[l.jsx("span",{className:"text-white font-semibold text-xl",children:["XS","S","M","L","XL"][xe-1]}),l.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Level ",xe,"/5)"]})]}),l.jsx("button",{onClick:()=>R(Math.min(5,xe+1)),disabled:xe>=5,className:`w-12 h-12 rounded-lg font-bold text-2xl flex items-center justify-center ${xe>=5?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:"+"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>Y(!1),className:"flex-1 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>{const te=r.filter(Te=>Se.includes(Te.id)&&Te.part_number).map(Te=>Ft(wt({},Te),{barcode:Te.part_number})),ke={1:{width:1.2,height:35},2:{width:1.8,height:50},3:{width:2.2,height:65},4:{width:2.8,height:80},5:{width:3.5,height:100}},Ze=ke[xe]||ke[3];nH(te,Ze),Y(!1),Q([]),we(!1)},className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:" Print Labels"})]})]})}),l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 gap-4",children:[l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{className:"block text-white mb-2",children:"Filter by Category"}),l.jsxs("select",{className:"w-full p-2 border border-midnight-600 bg-midnight-800 text-white rounded",value:c,onChange:te=>{const ke=te.target.value;console.log("Category selected:",ke,typeof ke),u(ke)},children:[l.jsx("option",{value:"all",children:"All Categories"}),t.filter(te=>te&&te.id&&te.name).map(te=>{const ke=String(te.id);return console.log(`Rendering category option: ${te.name}, ID: ${ke}, Type: ${typeof ke}`),l.jsx("option",{value:ke,children:te.name},ke)})]})]}),l.jsxs("div",{className:"w-full md:w-1/2",children:[l.jsx("label",{className:"block text-white mb-2",children:"Search Products"}),l.jsx("input",{type:"text",placeholder:"Search by name or description...",className:"w-full p-2 border border-midnight-600 bg-midnight-800 text-white rounded placeholder-gray-400",value:d,onChange:te=>p(te.target.value)})]})]})}),a?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading products...",variant:"gear"})}):s?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-red-400 mb-4",children:s})}):J.length===0?l.jsxs("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[l.jsx("p",{className:"text-xl text-midnight-300 mb-6",children:"No products found"}),l.jsx(_t,{to:"/admin/products/add",className:"bg-midnight-700 text-midnight-50 px-6 py-3 rounded font-semibold hover:bg-midnight-600",children:"Add New Product"})]}):l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-midnight-800 border-b border-midnight-700",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"select-all",checked:ce,onChange:pe,className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"}),l.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium text-midnight-200",children:"Select All"}),l.jsxs("span",{className:"text-sm text-midnight-400",children:["(",Se.length," selected)"]})]}),l.jsx("div",{className:"flex space-x-2",children:Se.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:rt,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",disabled:I,children:"Delete Selected"}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:"bg-midnight-600 text-midnight-50 px-3 py-1 rounded text-sm hover:bg-midnight-500 flex items-center",onClick:()=>document.getElementById("exportSelectedDropdown").classList.toggle("hidden"),disabled:I,children:[l.jsx("span",{children:"Export Selected"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),l.jsx("div",{id:"exportSelectedDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-midnight-800 border border-midnight-600 rounded-md shadow-lg z-10",children:l.jsxs("div",{className:"py-1",children:[l.jsx("button",{onClick:()=>Be("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:I,children:"Export to PDF"}),l.jsx("button",{onClick:()=>Be("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:I,children:"Export to Excel"})]})})]})]})})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[800px]",children:[l.jsx("thead",{className:"bg-midnight-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-10",children:l.jsx("span",{className:"sr-only",children:"Select"})}),l.jsx("th",{className:"text-left p-4 text-white min-w-[200px]",children:"Product"}),l.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Category"}),l.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Barcode"}),l.jsx("th",{className:"text-center p-4 text-white min-w-[80px]",children:"Price"}),l.jsx("th",{className:"text-center p-4 text-white min-w-[80px]",children:"Stock"}),l.jsx("th",{className:"text-center p-4 text-white min-w-[100px]",children:"Condition"}),l.jsx("th",{className:"text-center p-4 text-white min-w-[120px]",children:"Actions"})]})}),l.jsx("tbody",{children:Ee.map(te=>l.jsxs("tr",{className:"border-t border-midnight-700",children:[l.jsx("td",{className:"p-4 text-center",children:l.jsx("input",{type:"checkbox",checked:Se.includes(te.id),onChange:ke=>Ne(te.id,ke.target.checked),className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 mr-3",children:l.jsx(ff,{src:t0(te.image_url),alt:te.name,className:"w-full h-full object-cover rounded",placeholderText:"No Image",showIcon:!1})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white",children:te.name}),l.jsxs("p",{className:"text-sm text-gray-300 truncate max-w-xs",children:[te.description.substring(0,50),te.description.length>50?"...":""]})]})]})}),l.jsx("td",{className:"p-4 text-white",children:te.category_name||"Uncategorized"}),l.jsx("td",{className:"p-4",children:te.part_number?l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx(np,{barcode:te.part_number,width:1,height:25,showPartNumber:!1}),l.jsx("span",{className:"text-xs font-mono text-gray-400 mt-1",children:te.part_number})]}):l.jsx("span",{className:"text-xs text-gray-500 italic",children:"No part number"})}),l.jsxs("td",{className:"p-4 text-center text-white",children:["$",parseFloat(te.price).toFixed(2)]}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`font-semibold ${te.quantity<=0?"text-red-400":te.quantity<=5?"text-yellow-400":"text-green-400"}`,children:te.quantity})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:"inline-block px-2 py-1 bg-midnight-600 text-midnight-100 rounded-full text-xs",children:te.condition_status})}),l.jsx("td",{className:"p-4 text-center",children:l.jsxs("div",{className:"flex justify-center space-x-2",children:[l.jsx(_t,{to:`/admin/products/view/${te.id}`,className:"text-green-400 hover:text-green-300",title:"View Product",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),l.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),l.jsx(_t,{to:`/admin/products/edit/${te.id}`,className:"text-midnight-300 hover:text-midnight-100",title:"Edit Product",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),l.jsx("button",{onClick:()=>P(te.id),className:"text-red-400 hover:text-red-300",title:"Delete Product",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})})]},te.id))})]})}),l.jsx(l2,{totalItems:J.length,itemsPerPage:F,currentPage:B,onPageChange:M,onItemsPerPageChange:D})]}),!a&&!s&&J.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-midnight-400",children:["Showing ",ve+1," to ",Math.min(he,J.length)," of ",J.length," products"]})]})},iH=()=>{const[r,e]=V.useState([]),[t,n]=V.useState(!0),[a,i]=V.useState(null),[s,o]=V.useState("all"),{success:c,error:u}=Mn(),[d,p]=V.useState(1),[g,m]=V.useState(10),[y,w]=V.useState(0),[_,S]=V.useState(!1),[A,C]=V.useState(null),[L,B]=V.useState([]),[M,F]=V.useState(!1);V.useEffect(()=>{oe(null,null,function*(){n(!0);try{const Y=yield wO();console.log(" Raw orders data from API:",Y);const xe=Y.map(R=>{var G;const P=R.customer_name||(R.user?`${R.user.first_name||""} ${R.user.last_name||""}`.trim():`${R.first_name||""} ${R.last_name||""}`.trim())||"Unknown Customer",H=R.customer_email||((G=R.user)==null?void 0:G.email)||R.email||"No email provided";return console.log(` Order ${R.id} customer info:`,{original:{customer_name:R.customer_name,customer_email:R.customer_email,user:R.user},transformed:{customer_name:P,email:H}}),Ft(wt({},R),{customer_name:P,email:H})});console.log(" Transformed orders:",xe),e(xe)}catch(Y){i(Y.message||"Failed to load orders")}finally{n(!1)}})},[]);const D=(ue,Y)=>oe(null,null,function*(){try{const xe=r.find(R=>R.id===ue);yield bO(ue,Y),e(r.map(R=>R.id===ue?Ft(wt({},R),{status:Y}):R));try{xe&&["shipped","delivered","cancelled"].includes(Y)&&(console.log(` Sending ${Y} email for order ${ue}`),yield dS.sendOrderStatusUpdate(xe,Y),console.log(` ${Y} email sent successfully`))}catch(R){console.error(" Failed to send status update email:",R)}c("Order status updated successfully")}catch(xe){u(xe.message||"Failed to update order status")}}),O=(ue=null)=>oe(null,null,function*(){let Y=ue||I;try{C("pdf"),S(!0),w(0),Array.isArray(Y)||(console.error("dataToExport is not an array:",Y),Y=Array.isArray(Y)?Y:Y?[Y]:[]),console.log(`Preparing to export ${Y.length} orders to PDF`);const xe=[{header:"Order #",dataKey:"id"},{header:"Customer",dataKey:"customer_name"},{header:"Email",dataKey:"email"},{header:"Date",dataKey:"created_at"},{header:"Status",dataKey:"status"},{header:"Total",dataKey:"total_amount"}],R=[];for(const P of Y)if(P)try{R.push(Ft(wt({},P),{customer_name:P.customer_name||"Unknown",email:P.email||"No email",created_at:P.created_at?new Date(P.created_at).toLocaleDateString():new Date().toLocaleDateString(),total_amount:`$${parseFloat(P.total_amount||0).toFixed(2)}`,status:P.status?P.status.charAt(0).toUpperCase()+P.status.slice(1):"Pending"}))}catch(H){console.error("Error formatting order data:",H,P)}console.log(`Formatted ${R.length} orders for PDF export`),yield Aw(R,xe,"orders_export","Orders Report",w),c("Orders exported to PDF successfully")}catch(xe){console.error("Error exporting to PDF:",xe),u(`Failed to export orders to PDF: ${xe.message||"Unknown error"}`)}finally{S(!1)}}),q=(ue=null)=>oe(null,null,function*(){let Y=ue||I;try{C("xlsx"),S(!0),w(0),Array.isArray(Y)||(console.error("dataToExport is not an array:",Y),Y=Array.isArray(Y)?Y:Y?[Y]:[]),console.log(`Preparing to export ${Y.length} orders to Excel`);const xe=[{header:"Order #",dataKey:"id"},{header:"Customer",dataKey:"customer_name"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Address",dataKey:"shipping_address"},{header:"Date",dataKey:"created_at"},{header:"Status",dataKey:"status"},{header:"Payment Method",dataKey:"payment_method"},{header:"Total",dataKey:"total_amount"}],R=[];for(const P of Y)if(P)try{R.push(Ft(wt({},P),{customer_name:P.customer_name||"Unknown",email:P.email||"No email",phone:P.phone||"No phone",shipping_address:P.shipping_address||"No address",created_at:P.created_at?new Date(P.created_at).toLocaleString():new Date().toLocaleString(),total_amount:parseFloat(P.total_amount||0).toFixed(2),status:P.status?P.status.charAt(0).toUpperCase()+P.status.slice(1):"Pending",payment_method:P.payment_method||"Unknown"}))}catch(H){console.error("Error formatting order data:",H,P)}console.log(`Formatted ${R.length} orders for Excel export`),yield Nw(R,xe,"orders_export","Orders",w),c("Orders exported to Excel successfully")}catch(xe){console.error("Error exporting to Excel:",xe),u(`Failed to export orders to Excel: ${xe.message||"Unknown error"}`)}finally{S(!1)}}),I=V.useMemo(()=>s==="all"?r:r.filter(ue=>ue.status===s),[r,s]);V.useEffect(()=>{p(1)},[s]);const U=g===-1?I:I.slice((d-1)*g,d*g),X=g===-1?1:(d-1)*g+1,ae=g===-1?I.length:Math.min(d*g,I.length),Se=ue=>{F(ue.target.checked),ue.target.checked?B(U.map(Y=>Y.id)):B([])},Q=(ue,Y)=>{Y?B(xe=>[...xe,ue]):(B(xe=>xe.filter(R=>R!==ue)),F(!1))},ce=ue=>oe(null,null,function*(){if(L.length===0){u("No orders selected");return}const Y=r.filter(xe=>L.includes(xe.id));ue==="pdf"?yield O(Y):ue==="xlsx"&&(yield q(Y))}),we=ue=>{switch(ue){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-gray-600 text-gray-100"}};return l.jsxs("div",{children:[l.jsx(ew,{progress:y,isVisible:_,onComplete:()=>S(!1)}),l.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Orders"})}),l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-midnight-200 mb-2",children:"Filter by Status"}),l.jsxs("select",{className:"p-2 border border-midnight-600 bg-midnight-800 text-midnight-100 rounded",value:s,onChange:ue=>o(ue.target.value),children:[l.jsx("option",{value:"all",children:"All Orders"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"processing",children:"Processing"}),l.jsx("option",{value:"shipped",children:"Shipped"}),l.jsx("option",{value:"delivered",children:"Delivered"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),l.jsxs("div",{className:"text-midnight-300",children:["Showing ",I.length," of ",r.length," orders"]})]})}),t?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading orders...",variant:"gear"})}):a?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-red-400 mb-4",children:a})}):I.length===0?l.jsx("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:l.jsx("p",{className:"text-xl text-midnight-300",children:"No orders found"})}):l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-midnight-800 border-b border-midnight-700",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"select-all-orders",checked:M,onChange:Se,className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"}),l.jsx("label",{htmlFor:"select-all-orders",className:"text-sm font-medium text-midnight-200",children:"Select All"}),l.jsxs("span",{className:"text-sm text-midnight-400",children:["(",L.length," selected)"]})]}),l.jsx("div",{className:"flex space-x-2",children:L.length>0&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:"bg-midnight-600 text-midnight-50 px-3 py-1 rounded text-sm hover:bg-midnight-500 flex items-center",onClick:()=>document.getElementById("exportSelectedOrdersDropdown").classList.toggle("hidden"),disabled:_,children:[l.jsx("span",{children:"Export Selected"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),l.jsx("div",{id:"exportSelectedOrdersDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-midnight-800 border border-midnight-600 rounded-md shadow-lg z-10",children:l.jsxs("div",{className:"py-1",children:[l.jsx("button",{onClick:()=>ce("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:_,children:"Export to PDF"}),l.jsx("button",{onClick:()=>ce("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:_,children:"Export to Excel"})]})})]})})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[900px]",children:[l.jsx("thead",{className:"bg-midnight-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-10",children:l.jsx("span",{className:"sr-only",children:"Select"})}),l.jsx("th",{className:"text-left p-4 text-white min-w-[100px]",children:"Order #"}),l.jsx("th",{className:"text-left p-4 text-white min-w-[200px]",children:"Customer"}),l.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Date"}),l.jsx("th",{className:"text-center p-4 text-white min-w-[120px]",children:"Status"}),l.jsx("th",{className:"text-right p-4 text-white min-w-[100px]",children:"Total"}),l.jsx("th",{className:"text-center p-4 text-white min-w-[150px]",children:"Actions"})]})}),l.jsx("tbody",{children:U.map(ue=>l.jsxs("tr",{className:"border-t border-midnight-700",children:[l.jsx("td",{className:"p-4 text-center",children:l.jsx("input",{type:"checkbox",checked:L.includes(ue.id),onChange:Y=>Q(ue.id,Y.target.checked),className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"})}),l.jsxs("td",{className:"p-4 font-semibold text-white",children:["#",ue.id]}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:ue.customer_name||"Unknown Customer"}),l.jsx("p",{className:"text-sm text-gray-300",children:ue.email||"No email provided"}),ue.customer_phone&&l.jsx("p",{className:"text-xs text-gray-400",children:ue.customer_phone})]})}),l.jsx("td",{className:"p-4 text-white",children:new Date(ue.created_at||Date.now()).toLocaleDateString()}),l.jsx("td",{className:"p-4 text-center",children:l.jsxs("select",{className:`px-3 py-1 rounded-full text-sm font-semibold border-0 ${we(ue.status&&typeof ue.status=="string"?ue.status:"pending")}`,value:ue.status&&typeof ue.status=="string"?ue.status:"pending",onChange:Y=>D(ue.id,Y.target.value),children:[l.jsx("option",{value:"pending",className:"bg-yellow-600 text-yellow-100",children:"Pending"}),l.jsx("option",{value:"processing",className:"bg-blue-600 text-blue-100",children:"Processing"}),l.jsx("option",{value:"shipped",className:"bg-emerald-600 text-emerald-100",children:"Shipped"}),l.jsx("option",{value:"delivered",className:"bg-green-600 text-green-100",children:"Delivered"}),l.jsx("option",{value:"cancelled",className:"bg-red-600 text-red-100",children:"Cancelled"})]})}),l.jsxs("td",{className:"p-4 text-right font-semibold text-white",children:["$",parseFloat(ue.total_amount||0).toFixed(2)]}),l.jsx("td",{className:"p-4 text-center",children:l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(_t,{to:`/orders/${ue.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:"View Details"}),l.jsx("button",{onClick:()=>window.open(`/orders/${ue.id}?print=true`,"_blank"),className:"text-green-400 hover:text-green-300 hover:underline text-sm",children:"Generate Invoice"})]})})]},ue.id))})]})}),l.jsx(l2,{totalItems:I.length,itemsPerPage:g,currentPage:d,onPageChange:p,onItemsPerPageChange:m})]}),!t&&!a&&I.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-midnight-400",children:["Showing ",X," to ",ae," of ",I.length," orders"]})]})},$A=({isOpen:r,onClose:e,title:t,children:n,size:a="md"})=>{const i=V.useRef(null);if(V.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&e()};return r&&(document.addEventListener("mousedown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",c),document.body.style.overflow="auto"}},[r,e]),V.useEffect(()=>{const c=u=>{u.key==="Escape"&&e()};return r&&document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[r,e]),!r)return null;const s={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},o=s[a]||s.md;return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{ref:i,className:`bg-gray-800 border border-gray-700 rounded-lg shadow-xl ${o} w-full`,children:[l.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 p-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:t}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white focus:outline-none transition-colors","aria-label":"Close",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"p-4 text-white",children:n})]})})},sH=({isOpen:r,onClose:e,onSave:t,user:n})=>{const[a,i]=V.useState({first_name:"",last_name:"",email:"",password:"",confirm_password:"",phone:"",address:"",city:"",state:"",zip_code:"",role:"customer"}),[s,o]=V.useState({}),[c,u]=V.useState(!1);V.useEffect(()=>{r&&(i(n?{first_name:n.first_name||"",last_name:n.last_name||"",email:n.email||"",password:"",confirm_password:"",phone:n.phone||"",address:n.address||"",city:n.city||"",state:n.state||"",zip_code:n.zip_code||"",role:n.role||"customer"}:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",phone:"",address:"",city:"",state:"",zip_code:"",role:"customer"}),o({}))},[r,n]);const d=m=>{const{name:y,value:w}=m.target;i(_=>Ft(wt({},_),{[y]:w})),s[y]&&o(_=>Ft(wt({},_),{[y]:null}))},p=()=>{const m={};a.first_name.trim()||(m.first_name="First name is required"),a.last_name.trim()||(m.last_name="Last name is required"),a.email.trim()||(m.email="Email is required");const y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a.email&&!y.test(a.email)&&(m.email="Please enter a valid email address"),n?a.password&&(a.password.length<6&&(m.password="Password must be at least 6 characters"),a.confirm_password||(m.confirm_password="Please confirm your password"),a.password!==a.confirm_password&&(m.confirm_password="Passwords do not match")):(a.password||(m.password="Password is required"),a.password&&a.password.length<6&&(m.password="Password must be at least 6 characters"),a.confirm_password||(m.confirm_password="Please confirm your password"),a.password!==a.confirm_password&&(m.confirm_password="Passwords do not match")),o(m),Object.keys(m).length===0},g=m=>oe(null,null,function*(){if(m.preventDefault(),!!p()){u(!0);try{const y={first_name:a.first_name,last_name:a.last_name,email:a.email,phone:a.phone,address:a.address,city:a.city,state:a.state,zip_code:a.zip_code,role:a.role};a.password&&(y.password=a.password),yield t(y),e()}catch(y){console.error("Error saving user:",y)}finally{u(!1)}}});return l.jsx($A,{isOpen:r,onClose:e,title:n?"Edit User":"Add New User",children:l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),l.jsx("input",{type:"text",name:"first_name",value:a.first_name,onChange:d,className:`w-full p-2 border rounded ${s.first_name?"border-red-500":"border-gray-300"}`}),s.first_name&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.first_name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),l.jsx("input",{type:"text",name:"last_name",value:a.last_name,onChange:d,className:`w-full p-2 border rounded ${s.last_name?"border-red-500":"border-gray-300"}`}),s.last_name&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.last_name})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),l.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:`w-full p-2 border rounded ${s.email?"border-red-500":"border-gray-300"}`}),s.email&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!n&&"*"]}),l.jsx("input",{type:"password",name:"password",value:a.password,onChange:d,className:`w-full p-2 border rounded ${s.password?"border-red-500":"border-gray-300"}`,placeholder:n?"Leave blank to keep current":""}),s.password&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.password})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",!n&&"*"]}),l.jsx("input",{type:"password",name:"confirm_password",value:a.confirm_password,onChange:d,className:`w-full p-2 border rounded ${s.confirm_password?"border-red-500":"border-gray-300"}`,placeholder:n?"Leave blank to keep current":""}),s.confirm_password&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.confirm_password})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:d,className:"w-full p-2 border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),l.jsx("textarea",{name:"address",value:a.address,onChange:d,rows:"3",className:"w-full p-2 border border-gray-300 rounded"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),l.jsx("input",{type:"text",name:"city",value:a.city,onChange:d,className:"w-full p-2 border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),l.jsx("input",{type:"text",name:"state",value:a.state,onChange:d,className:"w-full p-2 border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),l.jsx("input",{type:"text",name:"zip_code",value:a.zip_code,onChange:d,className:"w-full p-2 border border-gray-300 rounded"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),l.jsxs("select",{name:"role",value:a.role,onChange:d,className:"w-full p-2 border border-gray-300 rounded",children:[l.jsx("option",{value:"customer",children:"Customer"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:c?"Saving...":"Save User"})]})]})})},oH=({isOpen:r,onClose:e,user:t})=>{if(!t)return null;const n=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return l.jsx($A,{isOpen:r,onClose:e,title:"Customer Information",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.first_name||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.last_name||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.email||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.phone||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),l.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${t.role==="admin"?"bg-emerald-600 text-emerald-100":"bg-slate-600 text-slate-100"}`,children:t.role||"customer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Created"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n(t.created_at)})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Street Address"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.address||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.city||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.state||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.zip_code||"N/A"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Status"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),l.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:t.id})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),l.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Active"})]})]})]}),l.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",children:"Close"})})]})})},a6=()=>oe(null,null,function*(){try{console.log(" Fetching all users...");const r=yield fr.get("/admin/users");if(console.log(" Get users response:",r.data),r.data.success)return r.data.data;throw new Error(r.data.message||"Failed to fetch users")}catch(r){throw console.error(" Error fetching users:",r),r}}),lH=r=>oe(null,null,function*(){try{console.log(" Creating new user:",r);const e=yield fr.post("/admin/users",r);if(console.log(" Create user response:",e.data),e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to create user")}catch(e){throw console.error(" Error creating user:",e),e}}),cH=r=>oe(null,null,function*(){try{console.log(" Updating user:",r);const e=yield fr.put("/admin/users",r);if(console.log(" Update user response:",e.data),e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to update user")}catch(e){throw console.error(` Error updating user with ID ${r.id}:`,e),e}}),i6=r=>oe(null,null,function*(){try{console.log(" Deleting user with ID:",r);const e=yield fr.delete(`/admin/users?id=${r}`);if(console.log(" Delete user response:",e.data),e.data.success)return e.data;throw new Error(e.data.message||"Failed to delete user")}catch(e){throw console.error(` Error deleting user with ID ${r}:`,e),e}}),uH=()=>{const[r,e]=V.useState([]),[t,n]=V.useState(!0),[a,i]=V.useState(null),[s,o]=V.useState(""),[c,u]=V.useState("all"),[d,p]=V.useState(!1),[g,m]=V.useState(null),[y,w]=V.useState(null),[_,S]=V.useState(!1),{success:A,error:C}=Mn(),{isOpen:L,confirm:B,handleClose:M,handleConfirm:F,dialogProps:D}=eh(),[O,q]=V.useState(1),[I,U]=V.useState(10),[X,ae]=V.useState(0),[Se,Q]=V.useState(!1),[ce,we]=V.useState(null),[ue,Y]=V.useState([]),[xe,R]=V.useState(!1);V.useEffect(()=>{oe(null,null,function*(){n(!0),i(null);try{const Ie=yield a6();Array.isArray(Ie)?e(Ie):Ie&&Ie.message?(i(Ie.message),e([])):(i("Received unexpected data format from server"),e([]))}catch(Ie){console.error("Error fetching users:",Ie),i(Ie.message||"Failed to load users"),e([])}finally{n(!1)}})},[]);const P=()=>{m(null),p(!0)},H=Te=>{w(Te),S(!0)},G=Te=>{m(Te),p(!0)},J=Te=>oe(null,null,function*(){try{yield B({title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield i6(Te),e(r.filter(Ie=>Ie.id!==Te)),A("User deleted successfully")}catch(Ie){C(Ie.message||"Failed to delete user")}}catch(Ie){console.log("User deletion cancelled")}}),Ee=(Te,Ie)=>oe(null,null,function*(){try{const ot=localStorage.getItem("token"),vt=yield(yield fetch("/api/admin/users",{method:"PUT",headers:{Authorization:`Bearer ${ot}`,"Content-Type":"application/json"},body:JSON.stringify({id:Te,status:Ie})})).json();vt.success?(e(Tt=>Tt.map(zt=>zt.id===Te?Ft(wt({},zt),{status:Ie}):zt)),A(`User ${Ie==="blocked"?"blocked":Ie==="active"?"unblocked":Ie} successfully`)):C(vt.message||"Failed to update user status")}catch(ot){console.error("Error updating user status:",ot),C("Failed to update user status")}}),ve=Te=>oe(null,null,function*(){try{if(g){console.log(" Updating user with data:",Te);const Ie=yield cH(Ft(wt({},Te),{id:g.id}));console.log(" Received updated user data:",Ie),e(r.map(ot=>ot.id===g.id?Ie:ot)),A("User updated successfully")}else{const Ie=yield lH(Te);e([...r,Ie]),A("User created successfully")}p(!1)}catch(Ie){console.error(" Error saving user:",Ie),C(Ie.message||"Failed to save user")}}),he=V.useMemo(()=>r.filter(Te=>{const Ie=c==="all"||Te.role===c,ot=`${Te.first_name} ${Te.last_name}`.toLowerCase(),mt=(Te.email||"").toLowerCase(),vt=s.toLowerCase(),Tt=ot.includes(vt)||mt.includes(vt);return Ie&&Tt}),[r,c,s]);V.useEffect(()=>{q(1)},[c,s]);const pe=I===-1?he:he.slice((O-1)*I,O*I),Ne=I===-1?1:(O-1)*I+1,Be=I===-1?he.length:Math.min(O*I,he.length),rt=Te=>{R(Te.target.checked),Te.target.checked?Y(pe.map(Ie=>Ie.id)):Y([])},ft=(Te,Ie)=>{Ie?Y(ot=>[...ot,Te]):(Y(ot=>ot.filter(mt=>mt!==Te)),R(!1))},ze=()=>oe(null,null,function*(){if(ue.length===0){C("No users selected");return}try{yield B({title:"Delete Selected Users",message:`Are you sure you want to delete ${ue.length} selected users? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});let Te=0,Ie=0;for(const mt of ue)try{yield i6(mt),Te++}catch(vt){console.error(`Error deleting user ${mt}:`,vt),Ie++}const ot=yield a6();e(ot),Y([]),R(!1),Ie===0?A(`Successfully deleted ${Te} users`):C(`Deleted ${Te} users, but failed to delete ${Ie} users`)}catch(Te){console.log("Bulk deletion cancelled")}}),te=Te=>oe(null,null,function*(){if(ue.length===0){C("No users selected");return}const Ie=r.filter(ot=>ue.includes(ot.id));Te==="pdf"?yield ke(Ie):Te==="xlsx"&&(yield Ze(Ie))}),ke=(Te=null)=>oe(null,null,function*(){let Ie=Te||he;try{we("pdf"),Q(!0),ae(0),Array.isArray(Ie)||(console.error("dataToExport is not an array:",Ie),Ie=Array.isArray(Ie)?Ie:Ie?[Ie]:[]),console.log(`Preparing to export ${Ie.length} users to PDF`);const ot=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"fullName"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Role",dataKey:"role"}],mt=[];for(const vt of Ie)if(vt)try{mt.push({id:vt.id,fullName:`${vt.first_name||""} ${vt.last_name||""}`.trim()||"Unknown",email:vt.email||"No email",phone:vt.phone||"N/A",role:vt.role?vt.role.charAt(0).toUpperCase()+vt.role.slice(1):"Customer"})}catch(Tt){console.error("Error formatting user data:",Tt,vt)}console.log(`Formatted ${mt.length} users for PDF export`),yield Aw(mt,ot,"users_export","Users Report",ae),A("Users exported to PDF successfully")}catch(ot){console.error("Error exporting to PDF:",ot),C(`Failed to export users to PDF: ${ot.message||"Unknown error"}`)}finally{Q(!1)}}),Ze=(Te=null)=>oe(null,null,function*(){let Ie=Te||he;try{we("xlsx"),Q(!0),ae(0),Array.isArray(Ie)||(console.error("dataToExport is not an array:",Ie),Ie=Array.isArray(Ie)?Ie:Ie?[Ie]:[]),console.log(`Preparing to export ${Ie.length} users to Excel`);const ot=[{header:"ID",dataKey:"id"},{header:"First Name",dataKey:"first_name"},{header:"Last Name",dataKey:"last_name"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Address",dataKey:"address"},{header:"City",dataKey:"city"},{header:"State",dataKey:"state"},{header:"Zip Code",dataKey:"zip_code"},{header:"Role",dataKey:"role"},{header:"Created At",dataKey:"created_at"},{header:"Updated At",dataKey:"updated_at"}],mt=[];for(const vt of Ie)if(vt)try{mt.push({id:vt.id,first_name:vt.first_name||"",last_name:vt.last_name||"",email:vt.email||"No email",phone:vt.phone||"N/A",address:vt.address||"N/A",city:vt.city||"N/A",state:vt.state||"N/A",zip_code:vt.zip_code||"N/A",role:vt.role?vt.role.charAt(0).toUpperCase()+vt.role.slice(1):"Customer",created_at:vt.created_at?new Date(vt.created_at).toLocaleString():"N/A",updated_at:vt.updated_at?new Date(vt.updated_at).toLocaleString():"N/A"})}catch(Tt){console.error("Error formatting user data:",Tt,vt)}console.log(`Formatted ${mt.length} users for Excel export`),yield Nw(mt,ot,"users_export","Users",ae),A("Users exported to Excel successfully")}catch(ot){console.error("Error exporting to Excel:",ot),C(`Failed to export users to Excel: ${ot.message||"Unknown error"}`)}finally{Q(!1)}});return l.jsxs("div",{children:[l.jsx(Qd,{isOpen:L,onClose:M,onConfirm:F,title:D.title,message:D.message,confirmText:D.confirmText,cancelText:D.cancelText,confirmButtonClass:D.confirmButtonClass}),l.jsx(sH,{isOpen:d,onClose:()=>p(!1),onSave:ve,user:g}),l.jsx(oH,{isOpen:_,onClose:()=>S(!1),user:y}),l.jsx(ew,{progress:X,isVisible:Se,onComplete:()=>Q(!1)}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Users"}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:l.jsx("button",{onClick:P,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full sm:w-auto text-center",disabled:Se,children:"Add New User"})})]}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-6 mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 gap-4",children:[l.jsxs("div",{className:"w-full md:w-1/3",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Filter by Role"}),l.jsxs("select",{className:"w-full p-2 border border-gray-300 bg-white text-gray-900 rounded",value:c,onChange:Te=>u(Te.target.value),children:[l.jsx("option",{value:"all",children:"All Roles"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"customer",children:"Customer"})]})]}),l.jsxs("div",{className:"w-full md:w-1/2",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Search Users"}),l.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full p-2 border border-gray-300 bg-white text-gray-900 rounded placeholder-gray-400",value:s,onChange:Te=>o(Te.target.value)})]})]})}),t?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading users...",variant:"gear"})}):a?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-red-400 mb-4",children:a})}):he.length===0?l.jsxs("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[l.jsx("p",{className:"text-xl text-midnight-300 mb-6",children:"No users found"}),l.jsx("button",{onClick:P,className:"bg-midnight-700 text-midnight-50 px-6 py-3 rounded font-semibold hover:bg-midnight-600",children:"Add New User"})]}):l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"select-all-users",checked:xe,onChange:rt,className:"h-4 w-4 text-blue-600 rounded border-gray-300 bg-white focus:ring-blue-500"}),l.jsx("label",{htmlFor:"select-all-users",className:"text-sm font-medium text-gray-700",children:"Select All"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["(",ue.length," selected)"]})]}),l.jsx("div",{className:"flex space-x-2",children:ue.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ze,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",disabled:Se,children:"Delete Selected"}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:"btn-primary px-3 py-1 text-sm flex items-center",onClick:()=>document.getElementById("exportSelectedUsersDropdown").classList.toggle("hidden"),disabled:Se,children:[l.jsx("span",{children:"Export Selected"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),l.jsx("div",{id:"exportSelectedUsersDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-white rounded-md shadow-lg z-10",children:l.jsxs("div",{className:"py-1",children:[l.jsx("button",{onClick:()=>te("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",disabled:Se,children:"Export to PDF"}),l.jsx("button",{onClick:()=>te("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",disabled:Se,children:"Export to Excel"})]})})]})]})})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[700px]",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-10",children:l.jsx("span",{className:"sr-only",children:"Select"})}),l.jsx("th",{className:"text-left p-4 text-gray-700 min-w-[200px]",children:"Name"}),l.jsx("th",{className:"text-left p-4 text-gray-700 min-w-[200px]",children:"Email"}),l.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[100px]",children:"Role"}),l.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[100px]",children:"Status"}),l.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[120px]",children:"Actions"})]})}),l.jsx("tbody",{children:pe.map(Te=>l.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 text-center",children:l.jsx("input",{type:"checkbox",checked:ue.includes(Te.id),onChange:Ie=>ft(Te.id,Ie.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 bg-white focus:ring-blue-500"})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-gray-900",children:[Te.first_name," ",Te.last_name]}),l.jsx("p",{className:"text-sm text-gray-500",children:Te.phone||"No phone"})]})}),l.jsx("td",{className:"p-4 text-gray-900",children:Te.email}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${Te.role==="admin"?"bg-emerald-600 text-emerald-100":"bg-slate-600 text-slate-100"}`,children:Te.role})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${Te.status==="active"?"bg-green-100 text-green-800":Te.status==="blocked"?"bg-red-100 text-red-800":Te.status==="suspended"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:Te.status||"active"})}),l.jsx("td",{className:"p-4 text-center",children:l.jsxs("div",{className:"flex justify-center space-x-2",children:[l.jsx("button",{onClick:()=>H(Te),className:"text-green-600 hover:text-green-700",title:"View Customer Info",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),l.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),l.jsx("button",{onClick:()=>G(Te),className:"text-blue-600 hover:text-blue-700",title:"Edit Customer",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),Te.status==="active"?l.jsx("button",{onClick:()=>Ee(Te.id,"blocked"),className:"text-red-600 hover:text-red-700",title:"Block User",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})})}):l.jsx("button",{onClick:()=>Ee(Te.id,"active"),className:"text-green-600 hover:text-green-700",title:"Unblock User",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),l.jsx("button",{onClick:()=>J(Te.id),className:"text-red-600 hover:text-red-700",title:"Delete Customer",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})})]},Te.id))})]})}),l.jsx(l2,{totalItems:he.length,itemsPerPage:I,currentPage:O,onPageChange:q,onItemsPerPageChange:U})]}),!t&&!a&&he.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",Ne+1," to ",Math.min(Be,he.length)," of ",he.length," users"]})]})},fH=()=>{const{success:r,error:e}=Mn(),[t,n]=V.useState([]),[a,i]=V.useState(!0),[s,o]=V.useState({}),[c,u]=V.useState(!1);V.useEffect(()=>{d()},[]);const d=()=>oe(null,null,function*(){var m,y,w,_;try{i(!0);const S=yield fr.get("/admin/user-approval");n(S.data.data||[]),u(!1)}catch(S){console.error("Error fetching pending users:",S),(y=(m=S.response)==null?void 0:m.data)!=null&&y.migration_required?(u(!0),e("Database migration required. Please run the SQL script first.")):e(((_=(w=S.response)==null?void 0:w.data)==null?void 0:_.message)||"Failed to fetch pending users")}finally{i(!1)}}),p=(m,y,w="")=>oe(null,null,function*(){var _,S;try{o(C=>Ft(wt({},C),{[m]:!0}));const A=yield fr.post("/admin/user-approval",{user_id:m,action:y,reason:w});r(A.data.message),n(C=>C.filter(L=>L.id!==m))}catch(A){console.error(`Error ${y}ing user:`,A),e(((S=(_=A.response)==null?void 0:_.data)==null?void 0:S.message)||`Failed to ${y} user`)}finally{o(A=>Ft(wt({},A),{[m]:!1}))}}),g=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(yr,{size:"lg",text:"Loading pending users..."})}):l.jsx("div",{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Approval"}),l.jsxs("div",{className:"text-sm text-midnight-400",children:[t.length," pending approval",t.length!==1?"s":""]})]}),c?l.jsxs("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-8 text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-800 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h3",{className:"text-lg font-medium text-yellow-100 mb-2",children:"Database Migration Required"}),l.jsx("p",{className:"text-yellow-200 mb-4",children:"The user approval system requires database changes. Please run the SQL migration script in Supabase."}),l.jsxs("div",{className:"bg-midnight-800 rounded p-4 text-left",children:[l.jsx("p",{className:"text-sm font-medium text-midnight-200 mb-2",children:"Steps to fix:"}),l.jsxs("ol",{className:"text-sm text-midnight-300 space-y-1",children:[l.jsx("li",{children:"1. Go to Supabase Dashboard  SQL Editor"}),l.jsxs("li",{children:["2. Copy and paste the SQL from ",l.jsx("code",{children:"add-user-approval-system.sql"})]}),l.jsx("li",{children:'3. Click "Run" to execute the migration'}),l.jsx("li",{children:"4. Refresh this page"})]})]}),l.jsx("button",{onClick:d,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-midnight-50 bg-midnight-600 hover:bg-midnight-500",children:"Retry After Migration"})]}):t.length===0?l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 shadow rounded-lg p-8 text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-800 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-lg font-medium text-midnight-100 mb-2",children:"All Caught Up!"}),l.jsx("p",{className:"text-midnight-400",children:"No users are currently pending approval."})]}):l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 shadow overflow-hidden sm:rounded-md",children:l.jsx("ul",{className:"divide-y divide-midnight-700",children:t.map(m=>{var y,w;return l.jsx("li",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-10 w-10 rounded-full bg-midnight-600 flex items-center justify-center",children:l.jsxs("span",{className:"text-sm font-medium text-midnight-200",children:[(y=m.first_name)==null?void 0:y[0],(w=m.last_name)==null?void 0:w[0]]})})}),l.jsxs("div",{className:"ml-4 flex-1",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("p",{className:"text-sm font-medium text-midnight-100",children:[m.first_name," ",m.last_name]}),l.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-800 text-yellow-200",children:"Pending"})]}),l.jsx("p",{className:"text-sm text-midnight-400",children:m.email}),m.phone&&l.jsxs("p",{className:"text-sm text-midnight-400",children:[" ",m.phone]}),m.address&&l.jsxs("p",{className:"text-sm text-midnight-400",children:[" ",m.address]}),l.jsxs("p",{className:"text-xs text-midnight-500 mt-1",children:["Registered: ",g(m.created_at)]})]})]})}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>p(m.id,"approve"),disabled:s[m.id],className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:s[m.id]?l.jsx(yr,{size:"sm"}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Approve"]})}),l.jsx("button",{onClick:()=>p(m.id,"reject","Account rejected by admin"),disabled:s[m.id],className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:s[m.id]?l.jsx(yr,{size:"sm"}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Reject"]})})]})]})},m.id)})})})]})})},s6=()=>{const{id:r}=Yd(),e=as(),t=!!r,{success:n,error:a}=Mn(),[i,s]=V.useState({name:"",description:"",price:"",category_id:"",condition_status:"New",quantity:"",image_url:"",part_number:"",barcode:""}),[o,c]=V.useState([]),[u,d]=V.useState(!1),[p,g]=V.useState(null),[m,y]=V.useState(null),[w,_]=V.useState(""),[S,A]=V.useState(!1),C=V.useRef(null);V.useEffect(()=>{oe(null,null,function*(){try{const O=yield o2();c(O),O.length>0&&!t&&s(q=>Ft(wt({},q),{category_id:O[0].id}))}catch(O){console.error("Error fetching categories:",O)}})},[t]),V.useEffect(()=>{oe(null,null,function*(){if(t){d(!0);try{const O=yield s2(r);s({name:O.name,description:O.description,price:O.price,category_id:O.category_id?String(O.category_id):"",condition_status:O.condition_status,quantity:O.quantity,image_url:O.image_url||"",part_number:O.part_number||"",barcode:O.barcode||""}),O.image_url&&_(O.image_url)}catch(O){g(O.message||"Failed to load product")}finally{d(!1)}}})},[r,t]),V.useEffect(()=>{i.image_url&&(_(i.image_url),console.log("Setting image preview from URL:",i.image_url))},[i.image_url]),V.useEffect(()=>{t&&i.image_url&&console.log("Edit mode active, image URL:",i.image_url)},[t,i.image_url]);const L=D=>{const{name:O,value:q}=D.target;s(I=>Ft(wt({},I),{[O]:q}))},B=D=>{const O=D.target.files[0];if(!O)return;if(!["image/jpeg","image/png","image/gif","image/jpg"].includes(O.type)){a("Invalid file type. Please upload a JPG, PNG, or GIF image.");return}if(O.size>5*1024*1024){a("File size too large. Maximum size is 5MB.");return}y(O);const I=new FileReader;I.onloadend=()=>{_(I.result)},I.readAsDataURL(O)},M=()=>oe(null,null,function*(){if(!m){a("Please select an image to upload.");return}A(!0);try{const D=yield B8(m);if(console.log("Upload response:",D),D){const O=D;console.log("Setting image URL to:",O),s(I=>Ft(wt({},I),{image_url:O})),_(O),n("Image uploaded successfully.");const q=JSON.parse(localStorage.getItem("uploadHistory")||"[]");q.push({timestamp:new Date().toISOString(),url:O,productId:r||"new"}),localStorage.setItem("uploadHistory",JSON.stringify(q))}else throw new Error("No file URL received from server");y(null),C.current&&(C.current.value="")}catch(D){console.error("Upload error:",D),a(D.message||"Failed to upload image.")}finally{A(!1)}}),F=D=>oe(null,null,function*(){D.preventDefault(),d(!0),g(null);try{console.log("Submitting product data:",i);let O=i.image_url;O?console.log("Using image URL:",O):console.log("No image URL provided");const q=Ft(wt({},i),{price:parseFloat(i.price),quantity:parseInt(i.quantity),image_url:O,part_number:i.part_number||null,barcode:i.barcode||null});if(console.log("Final product data for submission:",q),t){const U=yield U8(wt({id:r},q));console.log("Product update response:",U),n("Product updated successfully")}else{const U=yield Wy(q);console.log("Product creation response:",U),n("Product created successfully")}const I=JSON.parse(localStorage.getItem("productHistory")||"[]");I.push({timestamp:new Date().toISOString(),action:t?"update":"create",productId:r||"new",imageUrl:q.image_url}),localStorage.setItem("productHistory",JSON.stringify(I)),e("/admin/products")}catch(O){console.error("Product submission error:",O);const q=O.message||`Failed to ${t?"update":"create"} product`;g(q),a(q)}finally{d(!1)}});return l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(_t,{to:"/admin/products",className:"text-blue-600 hover:underline flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Products"]})}),l.jsx("h1",{className:"text-3xl font-bold mb-6",children:t?"Edit Product":"Add New Product"}),p&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:p}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("form",{onSubmit:F,children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Product Name"}),l.jsx("input",{type:"text",name:"name",value:i.name,onChange:L,className:"w-full p-2 border rounded",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Category"}),l.jsxs("select",{name:"category_id",value:i.category_id,onChange:L,className:"w-full p-2 border rounded",required:!0,children:[l.jsx("option",{value:"",children:"Select Category"}),o.map(D=>l.jsx("option",{value:String(D.id),children:D.name},D.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Part Number"}),l.jsx("input",{type:"text",name:"part_number",value:i.part_number,onChange:L,className:"w-full p-2 border rounded",placeholder:"e.g., YAM-RD350-001"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used to auto-generate barcode if not provided"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Barcode"}),l.jsx("input",{type:"text",name:"barcode",value:i.barcode,onChange:L,className:"w-full p-2 border rounded bg-gray-100",placeholder:"Auto-generated from part number",readOnly:t&&!!i.barcode}),t&&i.barcode&&l.jsxs("div",{className:"mt-2 p-3 bg-white border rounded-lg",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Barcode Preview:"}),l.jsx(np,{barcode:i.barcode,width:1.5,height:35}),l.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" Barcode: ",i.barcode]})]}),!i.barcode&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will be auto-generated when product is saved"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{name:"description",value:i.description,onChange:L,className:"w-full p-2 border rounded",rows:"4"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Price ($)"}),l.jsx("input",{type:"number",name:"price",value:i.price,onChange:L,className:"w-full p-2 border rounded",step:"0.01",min:"0",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Quantity"}),l.jsx("input",{type:"number",name:"quantity",value:i.quantity,onChange:L,className:"w-full p-2 border rounded",min:"0",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 mb-2",children:"Condition"}),l.jsxs("select",{name:"condition_status",value:i.condition_status,onChange:L,className:"w-full p-2 border rounded",required:!0,children:[l.jsx("option",{value:"New",children:"New"}),l.jsx("option",{value:"Used - Like New",children:"Used - Like New"}),l.jsx("option",{value:"Used - Good",children:"Used - Good"}),l.jsx("option",{value:"Used - Fair",children:"Used - Fair"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-gray-700 mb-2 text-lg font-semibold",children:"Product Image"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{style:{border:"2px dashed #3b82f6",borderRadius:"8px",padding:"16px",backgroundColor:"#eff6ff",marginBottom:"16px"},children:[l.jsx("label",{style:{display:"block",color:"#374151",marginBottom:"12px",fontWeight:"500",fontSize:"18px"},children:" Upload Image from Computer"}),l.jsxs("div",{style:{marginBottom:"12px"},children:[l.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/jpg",onChange:B,ref:C,id:"file-input",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",marginBottom:"12px"}}),l.jsx("button",{type:"button",onClick:()=>{var D;return(D=C.current)==null?void 0:D.click()},style:{width:"100%",backgroundColor:"#2563eb",color:"white",padding:"12px 16px",borderRadius:"8px",border:"none",fontWeight:"500",cursor:"pointer",marginBottom:"12px"},children:" Browse Files (Alternative)"})]}),m&&l.jsxs("div",{style:{backgroundColor:"white",padding:"8px",borderRadius:"4px",border:"1px solid #d1d5db",marginBottom:"12px"},children:[l.jsxs("p",{style:{fontSize:"14px",color:"#374151",margin:0},children:[l.jsx("strong",{children:"Selected:"})," ",m.name]}),l.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},children:["Size: ",(m.size/1024/1024).toFixed(2)," MB"]})]}),l.jsx("button",{type:"button",onClick:M,disabled:!m||S,style:{width:"100%",backgroundColor:m&&!S?"#16a34a":"#9ca3af",color:"white",padding:"12px 16px",borderRadius:"8px",border:"none",fontWeight:"500",cursor:m&&!S?"pointer":"not-allowed"},children:S?" Uploading...":" Upload to Server"}),l.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",marginTop:"12px",backgroundColor:"white",padding:"8px",borderRadius:"4px",margin:"12px 0 0 0"},children:[" ",l.jsx("strong",{children:"Supported formats:"})," JPG, JPEG, PNG, GIF",l.jsx("br",{})," ",l.jsx("strong",{children:"Maximum size:"})," 5MB"]})]}),l.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[l.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:" Or Enter Image URL"}),l.jsx("input",{type:"text",name:"image_url",value:i.image_url,onChange:L,className:"w-full p-2 border rounded",placeholder:"https://example.com/image.jpg"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter a direct URL to an image file"})]})]}),l.jsx("div",{children:w?l.jsxs("div",{className:"border-2 border-green-300 rounded-lg p-4 bg-green-50",children:[l.jsx("p",{className:"text-sm font-semibold mb-2 text-green-800",children:" Image Preview:"}),l.jsx("div",{className:"w-full h-48 bg-white border rounded overflow-hidden",children:l.jsx(ff,{src:t0(w),alt:"Product preview",className:"object-contain w-full h-full",placeholderText:"Image Loading..."})}),l.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Image loaded successfully"})]}):l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 flex items-center justify-center h-48 bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("p",{className:"text-gray-500 font-medium",children:"No image preview"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Upload an image or enter a URL to see preview"})]})})})]})]}),l.jsxs("div",{className:"flex justify-end",children:[l.jsx(_t,{to:"/admin/products",className:"bg-gray-300 text-gray-800 px-6 py-2 rounded mr-2 hover:bg-gray-400",children:"Cancel"}),l.jsx("button",{type:"submit",className:"bg-blue-800 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",disabled:u,children:u?l.jsx(Zl,{text:"Saving...",variant:"gear",size:"sm"}):t?"Update Product":"Create Product"})]})]})})]})},dH=()=>{const{id:r}=Yd(),e=as(),{success:t,error:n}=Mn(),{isOpen:a,confirm:i,handleClose:s,handleConfirm:o,dialogProps:c}=eh(),u=V.useRef(null),[d,p]=V.useState(null),[g,m]=V.useState(!0),[y,w]=V.useState(null),[_,S]=V.useState(!1);V.useEffect(()=>{oe(null,null,function*(){m(!0);try{const I=yield s2(r);p(I)}catch(I){console.error("Error fetching product:",I),w(I.message||"Failed to load product")}finally{m(!1)}})},[r]);const A=()=>oe(null,null,function*(){if(d!=null&&d.part_number)try{yield navigator.clipboard.writeText(d.part_number),t("Part number copied to clipboard!")}catch(q){n("Failed to copy part number")}}),C=()=>oe(null,null,function*(){if(u.current)try{const q=u.current.getSvgElement();q&&(yield zA(q,d.part_number),t("Barcode image copied to clipboard!"))}catch(q){console.error("Copy image error:",q),n("Failed to copy barcode image. Right-click the barcode to copy manually.")}}),L=()=>oe(null,null,function*(){if(u.current)try{const q=u.current.getSvgElement();q&&(yield HA(q,`barcode-${d.part_number}`,d.part_number),t("Barcode downloaded!"))}catch(q){n("Failed to download barcode")}}),B=()=>{if(!u.current)return;const q=u.current.getSvgElement();q&&qA({svgElement:q,productName:d.name,partNumber:d.part_number,price:d.price,showPrice:!0})},M=()=>oe(null,null,function*(){const q=`${window.location.origin}/products/${d.id}`;try{yield navigator.clipboard.writeText(q),t("Product link copied to clipboard!"),S(!1)}catch(I){n("Failed to copy link")}}),F=()=>{const q=`${window.location.origin}/products/${d.id}`,I=`Check out this product: ${d.name}
Price: $${parseFloat(d.price).toFixed(2)}
Part Number: ${d.part_number||"N/A"}

${q}`,U=`https://wa.me/?text=${encodeURIComponent(I)}`;window.open(U,"_blank"),S(!1)},D=()=>oe(null,null,function*(){const q=`${window.location.origin}/products/${d.id}`;if(navigator.share)try{yield navigator.share({title:d.name,text:`Check out ${d.name} - $${parseFloat(d.price).toFixed(2)}`,url:q}),S(!1)}catch(I){I.name!=="AbortError"&&n("Failed to share")}else M()}),O=()=>oe(null,null,function*(){try{yield i({title:"Delete Product",message:`Are you sure you want to delete "${d.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),yield Nm(d.id),t("Product deleted successfully"),e("/admin/products")}catch(q){}});return g?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading product details...",variant:"gear"})}):y?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-red-400 mb-4",children:y}),l.jsx(_t,{to:"/admin/products",className:"text-blue-400 hover:underline",children:"Back to Products"})]}):d?l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx(Qd,{isOpen:a,onClose:s,onConfirm:o,title:c.title,message:c.message,confirmText:c.confirmText,cancelText:c.cancelText,confirmButtonClass:c.confirmButtonClass}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs(_t,{to:"/admin/products",className:"text-blue-400 hover:text-blue-300 flex items-center mr-4",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back"]}),l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Product Details"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>S(!_),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"Share"]}),_&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-midnight-800 border border-midnight-600 rounded-lg shadow-lg z-20",children:[l.jsxs("button",{onClick:F,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center rounded-t-lg",children:[l.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),l.jsxs("button",{onClick:M,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z"})}),"Copy Link"]}),navigator.share&&l.jsxs("button",{onClick:D,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center rounded-b-lg",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"More Options..."]})]})]}),l.jsxs(_t,{to:`/admin/products/edit/${d.id}`,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit"]}),l.jsxs("button",{onClick:O,className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]}),l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[l.jsx("div",{className:"bg-midnight-800 rounded-lg overflow-hidden",children:l.jsx("div",{className:"h-64 lg:h-80",children:l.jsx(ff,{src:t0(d.image_url),alt:d.name,className:"w-full h-full object-contain",placeholderText:"No Image Available"})})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:d.name}),l.jsx("p",{className:"text-gray-400",children:d.category_name||"Uncategorized"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"Price"}),l.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",parseFloat(d.price).toFixed(2)]})]}),l.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"Stock"}),l.jsx("p",{className:`text-2xl font-bold ${d.quantity>0?"text-green-400":"text-red-400"}`,children:d.quantity})]})]}),l.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Condition"}),l.jsx("span",{className:"inline-block bg-blue-600 text-white px-3 py-1 rounded-full text-sm",children:d.condition_status})]}),d.description&&l.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Description"}),l.jsx("p",{className:"text-white",children:d.description})]}),d.part_number&&l.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Part Number"}),l.jsx("p",{className:"text-white font-mono text-lg",children:d.part_number})]})]})]}),l.jsxs("div",{className:"border-t border-midnight-700 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Barcode"}),d.part_number?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:l.jsx(np,{ref:u,barcode:d.part_number,size:"large",showPartNumber:!0,partNumber:d.part_number})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:A,className:"flex items-center bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",title:"Copy barcode number",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),l.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),"Copy Number"]}),l.jsxs("button",{onClick:C,className:"flex items-center bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors",title:"Copy barcode as image",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Copy Image"]}),l.jsxs("button",{onClick:L,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",title:"Download barcode as PNG",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PNG"]}),l.jsxs("button",{onClick:B,className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",title:"Print barcode label",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Label"]})]})]}):l.jsxs("div",{className:"bg-midnight-800 p-6 rounded-lg text-center",children:[l.jsx("p",{className:"text-gray-400 mb-2",children:"No barcode assigned"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Add a part number to the product to generate a barcode"}),l.jsx(_t,{to:`/admin/products/edit/${d.id}`,className:"inline-block mt-4 text-blue-400 hover:text-blue-300",children:"Edit product to add part number "})]})]}),l.jsx("div",{className:"border-t border-midnight-700 p-6 bg-midnight-800",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Product ID"}),l.jsx("p",{className:"text-white font-mono",children:d.id})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Category ID"}),l.jsx("p",{className:"text-white font-mono",children:d.category_id||"None"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Created"}),l.jsx("p",{className:"text-white",children:d.created_at?new Date(d.created_at).toLocaleDateString():"N/A"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Last Updated"}),l.jsx("p",{className:"text-white",children:d.updated_at?new Date(d.updated_at).toLocaleDateString():"N/A"})]})]})})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-xl text-white mb-4",children:"Product not found"}),l.jsx(_t,{to:"/admin/products",className:"text-blue-400 hover:underline",children:"Back to Products"})]})},hH=()=>{const{success:r,error:e}=Mn(),t=V.useRef(null),[n,a]=V.useState(""),[i,s]=V.useState(""),[o,c]=V.useState("medium"),[u,d]=V.useState(2),[p,g]=V.useState(!1),[m,y]=V.useState(""),[w,_]=V.useState(""),S=()=>{if(!n.trim()){e("Please enter a barcode value");return}s(n.trim()),r("Barcode generated!")},A=()=>oe(null,null,function*(){if(i)try{yield navigator.clipboard.writeText(i),r("Barcode number copied to clipboard!")}catch(O){e("Failed to copy barcode number")}}),C=()=>oe(null,null,function*(){if(t.current)try{const O=t.current.getSvgElement();O&&(yield zA(O,i),r("Barcode image copied to clipboard!"))}catch(O){console.error("Copy image error:",O),e("Failed to copy barcode image. Right-click the barcode to copy manually.")}}),L=()=>oe(null,null,function*(){if(t.current)try{const O=t.current.getSvgElement();O&&(yield HA(O,`barcode-${i}`,i),r("Barcode PNG downloaded!"))}catch(O){e("Failed to download barcode")}}),B=()=>{if(!t.current)return;const O=t.current.getSvgElement();O&&qA({svgElement:O,productName:p?m:"",partNumber:i,price:p?w:"",showPrice:p&&w})},M=()=>{a(""),s(""),y(""),_(""),d(2)},D=(O=>{const q={1:{width:1.2,height:35,label:"XS"},2:{width:1.8,height:50,label:"S"},3:{width:2.2,height:65,label:"M"},4:{width:2.8,height:80,label:"L"},5:{width:3.5,height:100,label:"XL"}};return q[O]||q[3]})(u);return l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs(_t,{to:"/admin/products",className:"text-blue-400 hover:text-blue-300 flex items-center mr-4",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back"]}),l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Barcode Generator"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Generate Barcode"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Barcode Value / Part Number *"}),l.jsx("input",{type:"text",value:n,onChange:O=>a(O.target.value),onKeyPress:O=>O.key==="Enter"&&S(),placeholder:"Enter part number or any text...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-blue-500",style:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#000",background:"#e2e8f0"}})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Barcode Size"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>d(Math.max(1,u-1)),disabled:u<=1,className:`w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center ${u<=1?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:""}),l.jsxs("div",{className:"flex-1 text-center",children:[l.jsx("span",{className:"text-white font-semibold text-lg",children:D.label}),l.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Level ",u,"/5)"]})]}),l.jsx("button",{onClick:()=>d(Math.min(5,u+1)),disabled:u>=5,className:`w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center ${u>=5?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:"+"})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:p,onChange:O=>g(O.target.checked),className:"mr-2 w-4 h-4"}),l.jsx("span",{className:"text-gray-400 text-sm",children:"Include product info for printing"})]})}),p&&l.jsxs("div",{className:"space-y-4 mb-4 p-4 bg-midnight-800 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Product Name (optional)"}),l.jsx("input",{type:"text",value:m,onChange:O=>y(O.target.value),placeholder:"Enter product name...",className:"w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500",style:{backgroundColor:"#e2e8f0",borderColor:"#334155",color:"#000"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Price (optional)"}),l.jsx("input",{type:"number",step:"0.01",value:w,onChange:O=>_(O.target.value),placeholder:"0.00",className:"w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500",style:{backgroundColor:"#e2e8f0",borderColor:"#334155",color:"#000"}})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:S,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Generate Barcode"}),l.jsx("button",{onClick:M,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Clear"})]})]}),l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Barcode Preview"}),i?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-white p-8 rounded-lg flex justify-center",children:l.jsxs("div",{className:"text-center",children:[p&&m&&l.jsx("div",{className:"font-bold text-gray-800 mb-2",children:m}),l.jsx(np,{ref:t,barcode:i,width:D.width,height:D.height,showPartNumber:!0,partNumber:i}),p&&w&&l.jsxs("div",{className:"font-bold text-gray-800 text-xl mt-2",children:["$",parseFloat(w).toFixed(2)]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:A,className:"flex items-center justify-center bg-gray-600 text-white px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[l.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),l.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),"Copy Number"]}),l.jsxs("button",{onClick:C,className:"flex items-center justify-center bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Copy Image"]}),l.jsxs("button",{onClick:L,className:"flex items-center justify-center bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PNG"]}),l.jsxs("button",{onClick:B,className:"flex items-center justify-center bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Label"]})]}),l.jsx("div",{className:"bg-midnight-800 p-4 rounded-lg",children:l.jsxs("p",{className:"text-gray-400 text-sm",children:[l.jsx("strong",{className:"text-white",children:"Tip:"}),' For barcode printers, click "Print Label" and select your barcode printer. Adjust print settings as needed for label size.']})})]}):l.jsxs("div",{className:"bg-midnight-800 p-12 rounded-lg text-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),l.jsx("p",{className:"text-gray-400 mb-2",children:"No barcode generated yet"}),l.jsx("p",{className:"text-gray-500 text-sm",children:'Enter a part number or text and click "Generate Barcode"'})]})]})]})]})},pH=()=>localStorage.getItem("token"),sh=(t,...n)=>oe(null,[t,...n],function*(r,e={}){const a=pH(),i=wt({headers:wt(wt({"Content-Type":"application/json"},a&&{Authorization:`Bearer ${a}`}),e.headers)},e);try{const s=yield fetch(`${$y}${r}`,i);if(!s.ok){const o=yield s.json().catch(()=>({}));throw new Error(o.message||`HTTP error! status: ${s.status}`)}return yield s.json()}catch(s){throw console.error(`API request failed for ${r}:`,s),s}}),my=(r=30,e=null,t=null)=>oe(null,null,function*(){try{let n="/analytics/financial?type=overview";e&&t?(console.log(` Fetching financial overview from ${e} to ${t}`),n+=`&startDate=${e}&endDate=${t}`):(console.log(` Fetching financial overview for ${r} days`),n+=`&period=${r}`);const a=yield sh(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch financial overview")}catch(n){throw console.error("Error fetching financial overview:",n),n}}),gH=(r=30,e=null,t=null)=>oe(null,null,function*(){try{let n="/analytics/financial?type=revenue";e&&t?(console.log(` Fetching revenue analytics from ${e} to ${t}`),n+=`&startDate=${e}&endDate=${t}`):(console.log(` Fetching revenue analytics for ${r} days`),n+=`&period=${r}`);const a=yield sh(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch revenue analytics")}catch(n){throw console.error("Error fetching revenue analytics:",n),n}}),VA=(r=30,e=null,t=null)=>oe(null,null,function*(){try{let n="/analytics/financial?type=orders";e&&t?(console.log(` Fetching order analytics from ${e} to ${t}`),n+=`&startDate=${e}&endDate=${t}`):(console.log(` Fetching order analytics for ${r} days`),n+=`&period=${r}`);const a=yield sh(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch order analytics")}catch(n){throw console.error("Error fetching order analytics:",n),n}}),mH=(r=30,e=null,t=null)=>oe(null,null,function*(){try{let n="/analytics/financial?type=products";e&&t?(console.log(` Fetching product analytics from ${e} to ${t}`),n+=`&startDate=${e}&endDate=${t}`):(console.log(` Fetching product analytics for ${r} days`),n+=`&period=${r}`);const a=yield sh(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch product analytics")}catch(n){throw console.error("Error fetching product analytics:",n),n}}),GA=(r=30,e=null,t=null)=>oe(null,null,function*(){try{let n="/analytics/financial?type=customers";e&&t?(console.log(` Fetching customer analytics from ${e} to ${t}`),n+=`&startDate=${e}&endDate=${t}`):(console.log(` Fetching customer analytics for ${r} days`),n+=`&period=${r}`);const a=yield sh(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch customer analytics")}catch(n){throw console.error("Error fetching customer analytics:",n),n}}),o6=(r=30,e="json",t=null,n=null)=>oe(null,null,function*(){try{let a="/analytics/financial?type=export";t&&n?(console.log(` Exporting financial data from ${t} to ${n} in ${e} format`),a+=`&startDate=${t}&endDate=${n}`):(console.log(` Exporting financial data for ${r} days in ${e} format`),a+=`&period=${r}`);const i=yield sh(a);if(i.success)return e==="csv"?xH(i.data,i.summary):i;throw new Error(i.message||"Failed to export financial data")}catch(a){throw console.error("Error exporting financial data:",a),a}}),xH=(r,e)=>{var s,o;if(!r||r.length===0)return`No data available for the selected period.

Please check:
1. Date range is correct
2. Orders exist in the selected period
3. Database connection is working`;console.log(` Converting ${r.length} rows to CSV format`);const t=Object.keys(r[0]).map(c=>c.replace(/_/g," ").toUpperCase()).join(","),n=r.map(c=>Object.values(c).map(u=>{if(u==null)return"";const d=String(u);return d.includes(",")||d.includes('"')||d.includes(`
`)?`"${d.replace(/"/g,'""')}"`:d}).join(",")),a=["","=== FINANCIAL REPORT SUMMARY ===",`Total Orders,${(e==null?void 0:e.totalOrders)||0}`,`Total Items Sold,${(e==null?void 0:e.totalItems)||0}`,`Total Revenue,$${((e==null?void 0:e.totalRevenue)||0).toFixed(2)}`,`Average Order Value,$${((e==null?void 0:e.averageOrderValue)||0).toFixed(2)}`,`Date Range,${((s=e==null?void 0:e.dateRange)==null?void 0:s.startDate)||""} to ${((o=e==null?void 0:e.dateRange)==null?void 0:o.endDate)||""}`,`Exported Rows,${(e==null?void 0:e.exportedRows)||r.length}`,`Report Generated,${new Date().toLocaleString()}`,"Generated By,Sardaarji Auto Parts Analytics System"],i=[t,...n,...a].join(`
`);return console.log(` CSV generated successfully with ${n.length} data rows and ${a.length} summary rows`),i},vH=(r,e="financial_report.csv")=>{const t=new Blob([r],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(n.download!==void 0){const a=URL.createObjectURL(t);n.setAttribute("href",a),n.setAttribute("download",e),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},yH=(r=30)=>oe(null,null,function*(){try{const[e,t,n]=yield Promise.all([my(r),VA(r),GA(r)]);return{totalRevenue:e.revenue.total,completedRevenue:e.revenue.completed,pendingRevenue:e.revenue.pending,averageOrderValue:e.revenue.averageOrderValue,totalOrders:e.orders.total,completedOrders:e.orders.completed,pendingOrders:e.orders.pending,conversionRate:e.orders.total>0?e.orders.completed/e.orders.total*100:0,totalCustomers:n.metrics.totalCustomers,averageCustomerValue:n.metrics.averageCustomerValue,averageFulfillmentTime:t.fulfillmentMetrics.averageFulfillmentTime}}catch(e){throw console.error("Error fetching KPIs:",e),e}}),Da=(r,e="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(r||0),wH=(r,e=1)=>`${(r||0).toFixed(e)}%`,vs=r=>new Intl.NumberFormat("en-US").format(r||0),bH=()=>[{value:7,label:"Last 7 days"},{value:30,label:"Last 30 days"},{value:90,label:"Last 3 months"},{value:180,label:"Last 6 months"},{value:365,label:"Last year"}],_H=()=>{const[r,e]=V.useState("overview"),[t,n]=V.useState(30),[a,i]=V.useState({startDate:"",endDate:"",enabled:!1}),[s,o]=V.useState(!0),[c,u]=V.useState({}),[d,p]=V.useState(null),{success:g,error:m}=Mn(),y=bH();V.useEffect(()=>{w()},[t,r,a]);const w=()=>oe(null,null,function*(){o(!0),p(null);try{let A={};const C=a.enabled&&a.startDate&&a.endDate?{startDate:a.startDate,endDate:a.endDate}:{period:t};switch(r){case"overview":A=yield my(C.period,C.startDate,C.endDate);break;case"revenue":A=yield gH(C.period,C.startDate,C.endDate);break;case"orders":A=yield VA(C.period,C.startDate,C.endDate);break;case"products":A=yield mH(C.period,C.startDate,C.endDate);break;case"customers":A=yield GA(C.period,C.startDate,C.endDate);break;default:A=yield my(C.period,C.startDate,C.endDate)}u(A)}catch(A){p(A.message),m("Failed to load analytics data: "+A.message)}finally{o(!1)}}),_=()=>oe(null,null,function*(){try{let A,C;a.enabled&&a.startDate&&a.endDate?(A=yield o6(null,"csv",a.startDate,a.endDate),C=`financial_report_${a.startDate}_to_${a.endDate}.csv`):(A=yield o6(t,"csv"),C=`financial_report_${t}days_${new Date().toISOString().split("T")[0]}.csv`),vH(A,C),g("Financial report exported successfully")}catch(A){m("Failed to export data: "+A.message)}}),S=[{id:"overview",label:"Overview",icon:""},{id:"revenue",label:"Revenue",icon:""},{id:"orders",label:"Orders",icon:""},{id:"products",label:"Products",icon:""},{id:"customers",label:"Customers",icon:""}];return s?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading financial analytics...",variant:"gear"})}):d?l.jsx("div",{className:"text-center py-12",children:l.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 max-w-md mx-auto",children:[l.jsx("h3",{className:"text-red-100 font-semibold mb-2",children:"Analytics Error"}),l.jsx("p",{className:"text-red-200 mb-4",children:d}),l.jsx("button",{onClick:w,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Retry"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Financial Analytics"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"customDateRange",checked:a.enabled,onChange:A=>i(C=>Ft(wt({},C),{enabled:A.target.checked,startDate:A.target.checked?C.startDate:"",endDate:A.target.checked?C.endDate:""})),className:"rounded border-midnight-600 bg-midnight-800 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"customDateRange",className:"text-white text-sm",children:"Custom Date Range"})]}),!a.enabled&&l.jsx("select",{value:t,onChange:A=>n(parseInt(A.target.value)),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:y.map(A=>l.jsx("option",{value:A.value,children:A.label},A.value))}),a.enabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-white text-sm",children:"From:"}),l.jsx("input",{type:"date",value:a.startDate,onChange:A=>i(C=>Ft(wt({},C),{startDate:A.target.value})),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-white text-sm",children:"To:"}),l.jsx("input",{type:"date",value:a.endDate,onChange:A=>i(C=>Ft(wt({},C),{endDate:A.target.value})),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500"})]})]}),l.jsxs("button",{onClick:_,disabled:a.enabled&&(!a.startDate||!a.endDate),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]}),l.jsx("div",{className:"border-b border-midnight-700",children:l.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:S.map(A=>l.jsxs("button",{onClick:()=>e(A.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${r===A.id?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:[l.jsx("span",{children:A.icon}),l.jsx("span",{children:A.label})]},A.id))})}),l.jsxs("div",{className:"mt-6",children:[r==="overview"&&l.jsx(SH,{data:c}),r==="revenue"&&l.jsx(EH,{data:c}),r==="orders"&&l.jsx(AH,{data:c}),r==="products"&&l.jsx(NH,{data:c}),r==="customers"&&l.jsx(CH,{data:c})]})]})},SH=({data:r})=>{var e;return r.revenue?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(wo,{title:"Total Revenue",value:Da(r.revenue.total),icon:"",color:"green"}),l.jsx(wo,{title:"Completed Revenue",value:Da(r.revenue.completed),icon:"",color:"blue"}),l.jsx(wo,{title:"Pending Revenue",value:Da(r.revenue.pending),icon:"",color:"yellow"}),l.jsx(wo,{title:"Avg Order Value",value:Da(r.revenue.averageOrderValue),icon:"",color:"emerald"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(wo,{title:"Total Orders",value:vs(r.orders.total),icon:"",color:"indigo"}),l.jsx(wo,{title:"Completed Orders",value:vs(r.orders.completed),icon:"",color:"green"}),l.jsx(wo,{title:"Pending Orders",value:vs(r.orders.pending),icon:"",color:"orange"})]}),((e=r.trends)==null?void 0:e.revenueByPaymentMethod)&&l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue by Payment Method"}),l.jsx("div",{className:"space-y-3",children:Object.entries(r.trends.revenueByPaymentMethod).map(([t,n])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300 capitalize",children:t.replace("_"," ")}),l.jsx("span",{className:"text-white font-semibold",children:Da(n)})]},t))})]})]}):l.jsx("div",{className:"text-gray-400",children:"No overview data available"})},EH=({data:r})=>r.monthlyRevenue?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Monthly Revenue Breakdown"}),l.jsx("div",{className:"space-y-4",children:Object.entries(r.monthlyRevenue).map(([e,t])=>l.jsxs("div",{className:"border-b border-midnight-700 pb-3",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-300 font-medium",children:e}),l.jsx("span",{className:"text-white font-semibold",children:Da(t.total)})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Completed: "}),l.jsx("span",{className:"text-green-400",children:Da(t.completed)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Pending: "}),l.jsx("span",{className:"text-yellow-400",children:Da(t.pending)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Orders: "}),l.jsx("span",{className:"text-blue-400",children:t.orders})]})]})]},e))})]}),r.revenueGrowth&&r.revenueGrowth.length>0&&l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Growth"}),l.jsx("div",{className:"space-y-3",children:r.revenueGrowth.map(({month:e,growth:t})=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:e}),l.jsxs("span",{className:`font-semibold ${parseFloat(t)>=0?"text-green-400":"text-red-400"}`,children:[parseFloat(t)>=0?"+":"",t,"%"]})]},e))})]})]}):l.jsx("div",{className:"text-gray-400",children:"No revenue data available"}),AH=({data:r})=>r.statusDistribution?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Status Distribution"}),l.jsx("div",{className:"space-y-4",children:Object.entries(r.statusDistribution).map(([e,t])=>l.jsx("div",{className:"border-b border-midnight-700 pb-3",children:l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-gray-300 capitalize font-medium",children:e.replace("_"," ")}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-white font-semibold",children:[t.count," orders"]}),l.jsx("div",{className:"text-gray-400 text-sm",children:Da(t.revenue)})]})]})},e))})]}),r.fulfillmentMetrics&&l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Fulfillment Metrics"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(wo,{title:"Avg Fulfillment Time",value:`${r.fulfillmentMetrics.averageFulfillmentTime} days`,icon:"",color:"blue"}),l.jsx(wo,{title:"Fulfilled Orders",value:vs(r.fulfillmentMetrics.totalFulfilledOrders),icon:"",color:"green"})]})]})]}):l.jsx("div",{className:"text-gray-400",children:"No order data available"}),NH=({data:r})=>(console.log("ProductsTab data:",r),r?r.topProducts?r.topProducts.length===0?l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Selling Products"}),l.jsxs("div",{className:"text-gray-400 text-center py-8",children:[l.jsx("p",{children:"No products sold in the selected time period."}),l.jsx("p",{className:"text-sm mt-2",children:"Try selecting a longer date range or check if orders contain product items."})]})]})}):l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Selling Products"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-midnight-700",children:[l.jsx("th",{className:"text-left py-2 text-gray-300",children:"Product"}),l.jsx("th",{className:"text-left py-2 text-gray-300",children:"Category"}),l.jsx("th",{className:"text-right py-2 text-gray-300",children:"Quantity Sold"}),l.jsx("th",{className:"text-right py-2 text-gray-300",children:"Revenue"}),l.jsx("th",{className:"text-right py-2 text-gray-300",children:"Orders"})]})}),l.jsx("tbody",{children:r.topProducts.map((e,t)=>l.jsxs("tr",{className:"border-b border-midnight-800",children:[l.jsx("td",{className:"py-3 text-white",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-midnight-700 text-midnight-200 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3",children:t+1}),e.name]})}),l.jsx("td",{className:"py-3 text-gray-300",children:e.category}),l.jsx("td",{className:"py-3 text-right text-white",children:vs(e.totalQuantity)}),l.jsx("td",{className:"py-3 text-right text-white",children:Da(e.totalRevenue)}),l.jsx("td",{className:"py-3 text-right text-white",children:vs(e.orderCount)})]},e.id))})]})})]})}):l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Product Analytics"}),l.jsxs("div",{className:"text-gray-400 text-center py-8",children:[l.jsx("p",{children:"No product sales data available for the selected period."}),l.jsx("p",{className:"text-sm mt-2",children:"This could mean:"}),l.jsxs("ul",{className:"text-sm mt-2 space-y-1",children:[l.jsx("li",{children:" No orders have been placed yet"}),l.jsx("li",{children:" No order items exist in the database"}),l.jsx("li",{children:" The selected date range has no sales"})]})]})]})}):l.jsx("div",{className:"text-gray-400",children:"Loading product data..."})),CH=({data:r})=>r.topCustomers?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(wo,{title:"Total Customers",value:vs(r.metrics.totalCustomers),icon:"",color:"blue"}),l.jsx(wo,{title:"Avg Customer Value",value:Da(r.metrics.averageCustomerValue),icon:"",color:"emerald"}),l.jsx(wo,{title:"Total Revenue",value:Da(r.metrics.totalRevenue),icon:"",color:"green"})]}),l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Customers by Spending"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-midnight-700",children:[l.jsx("th",{className:"text-left py-2 text-gray-300",children:"Customer"}),l.jsx("th",{className:"text-right py-2 text-gray-300",children:"Orders"}),l.jsx("th",{className:"text-right py-2 text-gray-300",children:"Total Spent"}),l.jsx("th",{className:"text-right py-2 text-gray-300",children:"Last Order"})]})}),l.jsx("tbody",{children:r.topCustomers.map((e,t)=>l.jsxs("tr",{className:"border-b border-midnight-800",children:[l.jsx("td",{className:"py-3 text-white",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-midnight-700 text-midnight-200 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3",children:t+1}),l.jsxs("div",{children:[l.jsx("div",{children:e.name||"Unknown"}),l.jsx("div",{className:"text-gray-400 text-sm",children:e.email})]})]})}),l.jsx("td",{className:"py-3 text-right text-white",children:vs(e.orderCount)}),l.jsx("td",{className:"py-3 text-right text-white",children:Da(e.totalSpent)}),l.jsx("td",{className:"py-3 text-right text-gray-300",children:new Date(e.lastOrder).toLocaleDateString()})]},e.id))})]})})]})]}):l.jsx("div",{className:"text-gray-400",children:"No customer data available"}),wo=({title:r,value:e,icon:t,color:n="blue"})=>{const a={blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",purple:"bg-emerald-600",red:"bg-red-600",indigo:"bg-indigo-600",orange:"bg-orange-600"};return l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-3 rounded-full ${a[n]} text-white mr-4`,children:l.jsx("span",{className:"text-xl",children:t})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-300 text-sm",children:r}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})]})})},TH=()=>{const[r,e]=V.useState(null),[t,n]=V.useState(!0),[a,i]=V.useState(null),{error:s}=Mn();V.useEffect(()=>{o()},[]);const o=()=>oe(null,null,function*(){try{n(!0);const c=yield yH(30);e(c)}catch(c){i(c.message),s("Failed to load analytics data: "+c.message)}finally{n(!1)}});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Financial Analytics"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Comprehensive financial reporting and business intelligence"})]}),l.jsx("div",{className:"flex space-x-3",children:l.jsxs(_t,{to:"/admin",className:"flex items-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]}),t?l.jsx("div",{className:"text-center py-8",children:l.jsx(yr,{size:"lg",text:"Loading KPIs...",variant:"gear"})}):a?l.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4",children:[l.jsxs("p",{className:"text-red-200",children:["Failed to load KPIs: ",a]}),l.jsx("button",{onClick:o,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Retry"})]}):r&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(rm,{title:"Total Revenue (30d)",value:Da(r.totalRevenue),subtitle:`${vs(r.totalOrders)} orders`,icon:"",color:"green"}),l.jsx(rm,{title:"Avg Order Value",value:Da(r.averageOrderValue),subtitle:`${wH(r.conversionRate)} conversion`,icon:"",color:"blue"}),l.jsx(rm,{title:"Customer Value",value:Da(r.averageCustomerValue),subtitle:`${vs(r.totalCustomers)} customers`,icon:"",color:"emerald"}),l.jsx(rm,{title:"Fulfillment Time",value:`${r.averageFulfillmentTime} days`,subtitle:`${vs(r.completedOrders)} completed`,icon:"",color:"orange"})]}),r&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Completed Revenue"}),l.jsx("span",{className:"text-green-400 font-semibold",children:Da(r.completedRevenue)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Pending Revenue"}),l.jsx("span",{className:"text-yellow-400 font-semibold",children:Da(r.pendingRevenue)})]}),l.jsx("div",{className:"pt-2 border-t border-midnight-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-white font-medium",children:"Total Revenue"}),l.jsx("span",{className:"text-white font-bold text-lg",children:Da(r.totalRevenue)})]})})]})]}),l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Completed Orders"}),l.jsx("span",{className:"text-green-400 font-semibold",children:vs(r.completedOrders)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-300",children:"Pending Orders"}),l.jsx("span",{className:"text-yellow-400 font-semibold",children:vs(r.pendingOrders)})]}),l.jsx("div",{className:"pt-2 border-t border-midnight-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-white font-medium",children:"Total Orders"}),l.jsx("span",{className:"text-white font-bold text-lg",children:vs(r.totalOrders)})]})})]})]})]}),l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:l.jsx(_H,{})}),l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analytics Features"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx(_d,{icon:"",title:"Financial Overview",description:"Complete revenue breakdown, order metrics, and payment method analysis"}),l.jsx(_d,{icon:"",title:"Revenue Analytics",description:"Monthly revenue trends, growth analysis, and revenue forecasting"}),l.jsx(_d,{icon:"",title:"Order Analytics",description:"Order status distribution, fulfillment metrics, and processing times"}),l.jsx(_d,{icon:"",title:"Product Performance",description:"Top selling products, category analysis, and inventory insights"}),l.jsx(_d,{icon:"",title:"Customer Analytics",description:"Customer lifetime value, purchase behavior, and retention metrics"}),l.jsx(_d,{icon:"",title:"Data Export",description:"Export financial reports in CSV format for external analysis"})]})]}),l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs(_t,{to:"/admin/orders",className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Manage Orders"]}),l.jsxs(_t,{to:"/admin/products",className:"btn-primary flex items-center px-4 py-2",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Manage Products"]}),l.jsxs(_t,{to:"/admin/users",className:"flex items-center bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Manage Users"]})]})]})]})},rm=({title:r,value:e,subtitle:t,icon:n,color:a="blue"})=>{const i={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-emerald-600",orange:"bg-orange-600",red:"bg-red-600",indigo:"bg-indigo-600"};return l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-2 rounded-full ${i[a]} text-white mr-3`,children:l.jsx("span",{className:"text-lg",children:n})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide",children:r}),l.jsx("p",{className:"text-white font-bold text-lg",children:e}),t&&l.jsx("p",{className:"text-gray-400 text-sm",children:t})]})]})})},_d=({icon:r,title:e,description:t})=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl mb-2",children:r}),l.jsx("h4",{className:"text-white font-semibold mb-2",children:e}),l.jsx("p",{className:"text-gray-400 text-sm",children:t})]}),jH=()=>{const[r,e]=V.useState([]),[t,n]=V.useState(!0),[a,i]=V.useState(null),[s,o]=V.useState("all"),[c,u]=V.useState(1),[d,p]=V.useState({}),{success:g,error:m}=Mn(),{isOpen:y,confirm:w,handleClose:_,handleConfirm:S,dialogProps:A}=eh();V.useEffect(()=>{C()},[s,c]);const C=()=>oe(null,null,function*(){try{n(!0),i(null);const F=yield oO({page:c,limit:20,status:s});e(F.reviews||[]),p(F.pagination||{})}catch(F){i(F.message),m("Failed to load reviews: "+F.message)}finally{n(!1)}}),L=(F,D)=>oe(null,null,function*(){try{yield lO(F,D),g(`Review ${D?"approved":"rejected"} successfully`),C()}catch(O){m("Failed to moderate review: "+O.message)}}),B=F=>oe(null,null,function*(){try{yield w({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield H8(F),g("Review deleted successfully"),C()}catch(D){m("Failed to delete review: "+D.message)}}catch(D){console.log("Review deletion cancelled")}}),M=[{value:"all",label:"All Reviews"},{value:"pending",label:"Pending Approval"},{value:"approved",label:"Approved"}];return t&&r.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading reviews...",variant:"gear"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Review Management"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Moderate and manage customer reviews"})]}),l.jsxs(_t,{to:"/admin",className:"flex items-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]}),l.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[l.jsx("label",{className:"text-white font-medium",children:"Filter by status:"}),l.jsx("select",{value:s,onChange:F=>{o(F.target.value),u(1)},className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:M.map(F=>l.jsx("option",{value:F.value,children:F.label},F.value))}),l.jsxs("div",{className:"text-gray-400 text-sm ml-auto",children:[d.total||0," total reviews"]})]})}),a?l.jsx("div",{className:"text-center py-8",children:l.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 max-w-md mx-auto",children:[l.jsx("h3",{className:"text-red-100 font-semibold mb-2",children:"Error Loading Reviews"}),l.jsx("p",{className:"text-red-200 mb-4",children:a}),l.jsx("button",{onClick:C,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})}):r.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-8",children:[l.jsx("h3",{className:"text-white font-semibold mb-2",children:"No Reviews Found"}),l.jsx("p",{className:"text-gray-400",children:s==="pending"?"No reviews are pending approval":s==="approved"?"No approved reviews found":"No reviews have been submitted yet"})]})}):l.jsx("div",{className:"space-y-4",children:r.map(F=>l.jsx(OH,{review:F,onApprove:D=>L(D,!0),onReject:D=>L(D,!1),onDelete:B},F.id))}),d.totalPages>1&&l.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[l.jsx("button",{onClick:()=>u(F=>Math.max(1,F-1)),disabled:c===1,className:"px-4 py-2 bg-midnight-800 border border-midnight-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-midnight-700",children:"Previous"}),Array.from({length:Math.min(5,d.totalPages)},(F,D)=>{const O=D+1;return l.jsx("button",{onClick:()=>u(O),className:`px-4 py-2 border rounded ${c===O?"bg-blue-600 text-white border-blue-600":"bg-midnight-800 border-midnight-600 text-white hover:bg-midnight-700"}`,children:O},O)}),l.jsx("button",{onClick:()=>u(F=>Math.min(d.totalPages,F+1)),disabled:c===d.totalPages,className:"px-4 py-2 bg-midnight-800 border border-midnight-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-midnight-700",children:"Next"})]}),l.jsx(Qd,{isOpen:y,onClose:_,onConfirm:S,title:A.title,message:A.message,confirmText:A.confirmText,cancelText:A.cancelText,confirmButtonClass:A.confirmButtonClass})]})},OH=({review:r,onApprove:e,onReject:t,onDelete:n})=>{var i,s,o,c;const a=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(c2,{rating:r.rating,size:"sm"}),l.jsxs("span",{className:"text-white font-semibold",children:[(i=r.users)==null?void 0:i.first_name," ",(s=r.users)==null?void 0:s.last_name]}),l.jsxs("span",{className:"text-gray-400 text-sm",children:["(",(o=r.users)==null?void 0:o.email,")"]}),r.is_verified_purchase&&l.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-gray-400 text-sm",children:["Product: ",l.jsx("span",{className:"text-white",children:(c=r.products)==null?void 0:c.name})]}),l.jsx("span",{className:"text-gray-400 text-sm",children:a(r.created_at)})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${r.is_approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:r.is_approved?"Approved":"Pending"})})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[r.review_title&&l.jsx("h4",{className:"font-semibold text-white",children:r.review_title}),r.review_text&&l.jsx("p",{className:"text-gray-300 leading-relaxed",children:r.review_text})]}),l.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-sm text-gray-400",children:[l.jsxs("span",{children:["Helpful votes: ",r.helpful_count]}),r.updated_at!==r.created_at&&l.jsxs("span",{children:["Updated: ",a(r.updated_at)]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-midnight-700",children:[!r.is_approved&&l.jsxs("button",{onClick:()=>e(r.id),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve"]}),r.is_approved&&l.jsxs("button",{onClick:()=>t(r.id),className:"flex items-center bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject"]}),l.jsxs("button",{onClick:()=>n(r.id),className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})},RH=({currentLogo:r,onLogoUpdate:e})=>{const[t,n]=V.useState(!1),[a,i]=V.useState(!1),[s,o]=V.useState(r),c=V.useRef(null),{success:u,error:d}=Mn(),p=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"],g=5*1024*1024,m=M=>p.includes(M.type)?M.size>g?(d("File size must be less than 5MB"),!1):!0:(d("Please upload a valid image file (JPG, PNG, GIF, WebP, SVG)"),!1),y=M=>{if(!m(M))return;const F=new FileReader;F.onload=D=>{o(D.target.result)},F.readAsDataURL(M),w(M)},w=M=>oe(null,null,function*(){var F;n(!0);try{console.log("Uploading logo file:",M.name,"Size:",M.size,"Type:",M.type);const D=yield new Promise((Se,Q)=>{const ce=new FileReader;ce.onload=()=>{const ue=ce.result.split(",")[1];Se(ue)},ce.onerror=Q,ce.readAsDataURL(M)});console.log("Logo file converted to base64, length:",D.length);const q=JSON.parse(localStorage.getItem("user")||"{}").token||localStorage.getItem("token")||"";if(console.log("Using auth token:",q?"Token exists":"No token"),!q){d("No authentication token found. Please login again.");return}const I={"Content-Type":"application/json"};I.Authorization=`Bearer ${q}`;const U={filename:M.name,mimetype:M.type,data:D};console.log("Making logo upload request to:","/api/admin/logo-upload"),console.log("Headers:",I),console.log("Payload size:",JSON.stringify(U).length,"bytes");const X=yield fetch("/api/admin/logo-upload",{method:"POST",headers:I,body:JSON.stringify(U)});console.log("Logo upload response:",X.status,X.statusText);const ae=yield X.json();if(console.log("Logo upload response data:",ae),ae.success){const Se=ae.logoUrl||ae.file_url||((F=ae.data)==null?void 0:F.url);Se?(console.log("Logo upload successful:",Se),u("Logo uploaded successfully!"),o(Se),e&&e(Se),setTimeout(()=>{window.location.reload()},1e3)):(console.error("No logo URL found in response:",ae),d("No logo URL received from server"),o(r))}else console.error(" Logo upload failed:",ae),d(ae.message||"Failed to upload logo"),o(r)}catch(D){console.error("Logo upload error:",D),d("Failed to upload logo"),o(r)}finally{n(!1)}}),_=M=>{M.preventDefault(),M.stopPropagation(),M.type==="dragenter"||M.type==="dragover"?i(!0):M.type==="dragleave"&&i(!1)},S=M=>{M.preventDefault(),M.stopPropagation(),i(!1),M.dataTransfer.files&&M.dataTransfer.files[0]&&y(M.dataTransfer.files[0])},A=M=>{M.target.files&&M.target.files[0]&&y(M.target.files[0])},C=()=>{var M;(M=c.current)==null||M.click()},L=()=>oe(null,null,function*(){const M=localStorage.getItem("token");console.log(" Testing admin access...",{hasToken:!!M,tokenLength:M?M.length:0});try{const D=yield(yield fetch("/api/admin/test-logo",{headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}})).json();console.log(" Test result:",D),D.success?u(" Admin access verified!"):d(` Admin access failed: ${D.message}`)}catch(F){console.error(" Test error:",F),d("Failed to test admin access")}}),B=()=>oe(null,null,function*(){if(window.confirm("Are you sure you want to remove the current logo?")){n(!0);try{const M=localStorage.getItem("token"),D=yield(yield fetch("/api/admin/remove-logo",{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}})).json();D.success?(u("Logo removed successfully!"),o(null),e&&e(null),setTimeout(()=>{window.location.reload()},1e3)):d(D.message||"Failed to remove logo")}catch(M){console.error("Logo removal error:",M),d("Failed to remove logo")}finally{n(!1)}}});return l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Website Logo"}),l.jsx("button",{onClick:L,className:"bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm hover:bg-blue-200",children:"Test Admin Access"})]}),s&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Logo"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-32 h-32 border-2 border-gray-200 rounded-lg flex items-center justify-center bg-gray-50",children:l.jsx("img",{src:s,alt:"Current Logo",className:"max-w-full max-h-full object-contain"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"This logo appears in the header, footer, and as the website favicon."}),l.jsx("button",{onClick:B,disabled:t,className:"text-red-600 hover:text-red-700 text-sm font-medium disabled:opacity-50",children:"Remove Logo"})]})]})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${a?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:S,children:[l.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:A,className:"hidden"}),t?l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Uploading logo..."})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:a?"Drop your logo here":"Upload Website Logo"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Drag and drop your logo here, or click to browse"}),l.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})]}),l.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[l.jsx("p",{className:"font-medium mb-2",children:"Requirements:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Supported formats: JPG, PNG, GIF, WebP, SVG"}),l.jsx("li",{children:"Maximum file size: 5MB"}),l.jsx("li",{children:"Recommended size: 200x200px or larger"}),l.jsx("li",{children:"Square or rectangular logos work best"})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Where your logo will appear:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Website header (navigation bar)"}),l.jsx("li",{children:" Website footer"}),l.jsx("li",{children:" Browser tab (favicon)"}),l.jsx("li",{children:" Google search results"}),l.jsx("li",{children:" Social media shares"}),l.jsx("li",{children:" Email templates"})]})]})]})},kH=()=>{const{user:r,isAdmin:e}=Fi(),{error:t}=Mn(),[n,a]=V.useState(null),[i,s]=V.useState(!0);V.useEffect(()=>{if(!e()){t("Admin access required");return}o()},[]);const o=()=>oe(null,null,function*(){try{const d=yield(yield fetch("/api/admin/site-config")).json();d.success&&d.config.logo&&a(d.config.logo)}catch(u){console.error("Error fetching current logo:",u)}finally{s(!1)}}),c=u=>{a(u)};return e()?i?l.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Logo Management"}),l.jsx("p",{className:"text-gray-600",children:"Upload and manage your website logo. The logo will appear across your entire website and in search results."})]}),l.jsx(RH,{currentLogo:n,onLogoUpdate:c}),l.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Logo Preview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Header Navigation"}),l.jsx("div",{className:"bg-white border-b shadow-sm p-4 rounded",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[n?l.jsx("img",{src:n,alt:"Logo",className:"h-8 w-auto"}):l.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:"Logo"})}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ModParts"})]}),l.jsxs("div",{className:"flex space-x-4 text-sm text-gray-600",children:[l.jsx("span",{children:"Home"}),l.jsx("span",{children:"Products"}),l.jsx("span",{children:"Contact"})]})]})})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Footer"}),l.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n?l.jsx("img",{src:n,alt:"Logo",className:"h-6 w-auto filter brightness-0 invert"}):l.jsx("div",{className:"h-6 w-6 bg-gray-600 rounded flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-300",children:"Logo"})}),l.jsx("span",{className:"font-semibold",children:"ModParts"})]}),l.jsx("p",{className:"text-sm text-gray-300",children:"Your trusted auto parts supplier"})]})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Browser Tab (Favicon)"}),l.jsx("div",{className:"bg-gray-100 p-4 rounded",children:l.jsxs("div",{className:"flex items-center space-x-2 bg-white border rounded p-2",children:[n?l.jsx("img",{src:n,alt:"Favicon",className:"h-4 w-4"}):l.jsx("div",{className:"h-4 w-4 bg-gray-300 rounded-sm"}),l.jsx("span",{className:"text-sm text-gray-700",children:"ModParts - Auto Parts"})]})})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Google Search Result"}),l.jsx("div",{className:"bg-white p-4 rounded border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[n?l.jsx("img",{src:n,alt:"Site Icon",className:"h-6 w-6 mt-1 rounded"}):l.jsx("div",{className:"h-6 w-6 mt-1 bg-gray-300 rounded"}),l.jsxs("div",{children:[l.jsx("h5",{className:"text-blue-600 text-lg font-medium",children:"ModParts - Auto Parts"}),l.jsx("p",{className:"text-green-600 text-sm",children:"www.partsformyrd350.com"}),l.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Quality auto parts for your vehicle. Fast shipping and competitive prices."})]})]})})]})]})]}),l.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"SEO & Branding Benefits"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Search Engine Benefits:"}),l.jsxs("ul",{className:"text-blue-700 space-y-1",children:[l.jsx("li",{children:" Appears in Google search results"}),l.jsx("li",{children:" Improves brand recognition"}),l.jsx("li",{children:" Increases click-through rates"}),l.jsx("li",{children:" Professional appearance in SERPs"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"User Experience:"}),l.jsxs("ul",{className:"text-blue-700 space-y-1",children:[l.jsx("li",{children:" Consistent branding across site"}),l.jsx("li",{children:" Easy site identification"}),l.jsx("li",{children:" Professional appearance"}),l.jsx("li",{children:" Improved trust and credibility"})]})]})]})]}),l.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Technical Information"}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Automatic Generation:"})," Uploading a logo automatically creates favicons in multiple sizes (16x16, 32x32, 48x48, etc.)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"File Formats:"})," Supports JPG, PNG, GIF, WebP, and SVG formats"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Optimization:"})," Images are automatically optimized for web use"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Responsive:"})," Logo scales appropriately on different screen sizes"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cache Friendly:"})," Proper caching headers for fast loading"]})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})})},ts="http://localhost:3001/api",rs=()=>{const r=localStorage.getItem("token");return wt({"Content-Type":"application/json"},r&&{Authorization:`Bearer ${r}`})},LH={getAll:()=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/warehouses.php`,{method:"GET",headers:rs()})).json()}),getOne:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/warehouses.php?id=${r}`,{method:"GET",headers:rs()})).json()}),create:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/warehouses.php`,{method:"POST",headers:rs(),body:JSON.stringify(r)})).json()}),update:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/warehouses.php`,{method:"PUT",headers:rs(),body:JSON.stringify(r)})).json()}),delete:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/warehouses.php?id=${r}`,{method:"DELETE",headers:rs()})).json()})},l6={getAll:(r=null)=>oe(null,null,function*(){let e=`${ts}/controllers/inventory/bins.php`;return r&&(e+=`?warehouse_id=${r}`),(yield fetch(e,{method:"GET",headers:rs()})).json()}),getOne:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/bins.php?id=${r}`,{method:"GET",headers:rs()})).json()}),create:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/bins.php`,{method:"POST",headers:rs(),body:JSON.stringify(r)})).json()}),update:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/bins.php`,{method:"PUT",headers:rs(),body:JSON.stringify(r)})).json()}),delete:r=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/bins.php?id=${r}`,{method:"DELETE",headers:rs()})).json()})},c6={getAll:(...e)=>oe(null,[...e],function*(r={}){const t=new URLSearchParams(r);return(yield fetch(`${ts}/controllers/inventory/movements.php?${t}`,{method:"GET",headers:rs()})).json()}),ship:(r,e=1,t=2,n=null)=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/movements.php?action=ship`,{method:"POST",headers:rs(),body:JSON.stringify({product_ids:r,from_warehouse_id:e,to_warehouse_id:t,notes:n})})).json()}),receive:n=>oe(null,[n],function*({barcode:r,movementId:e,binNumber:t}){return(yield fetch(`${ts}/controllers/inventory/movements.php?action=receive`,{method:"POST",headers:rs(),body:JSON.stringify({barcode:r,movement_id:e,bin_number:t})})).json()}),assignBin:(r,e,t=2)=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/movements.php?action=assign-bin`,{method:"POST",headers:rs(),body:JSON.stringify({product_id:r,bin_number:e,warehouse_id:t})})).json()}),updateStatus:(r,e,t=null)=>oe(null,null,function*(){return(yield fetch(`${ts}/controllers/inventory/movements.php`,{method:"PUT",headers:rs(),body:JSON.stringify({id:r,status:e,notes:t})})).json()})};function DH(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function IH(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var PH=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FH=function(r){PH(e,r);function e(t,n){var a=this.constructor,i=r.call(this,t,n)||this;return Object.defineProperty(i,"name",{value:a.name,enumerable:!1,configurable:!0}),DH(i,a.prototype),IH(i),i}return e}(Error),MH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cs=function(r){MH(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(FH),BH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rl=function(r){BH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Cs),UH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kt=function(r){UH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Cs),zH=function(){function r(e){if(this.binarizer=e,e===null)throw new Kt("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,a){var i=this.binarizer.getLuminanceSource().crop(e,t,n,a);return new r(this.binarizer.createBinarizer(i))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(e){return""}},r}(),HH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ka=function(r){HH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Cs),qH=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}(),jn=function(){function r(){}return r.arraycopy=function(e,t,n,a,i){for(;i--;)n[a++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}(),$H=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cw=function(r){$H(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Cs),VH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),u6=function(r){VH(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var a=r.call(this,n)||this;return a.index=t,a.message=n,a}return e.kind="ArrayIndexOutOfBoundsException",e}(Cw),GH=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pa=function(){function r(){}return r.fill=function(e,t){for(var n=0,a=e.length;n<a;n++)e[n]=t},r.fillWithin=function(e,t,n,a){r.rangeCheck(e.length,t,n);for(var i=t;i<n;i++)e[i]=a},r.rangeCheck=function(e,t,n){if(t>n)throw new Kt("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new u6(t);if(n>e)throw new u6(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var a=Array.from({length:e});return a.map(function(i){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var a=Array.from({length:e});return a.map(function(i){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,a=e.length;n<a;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var a=1;try{for(var i=GH(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=31*a+o}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var a=n-t,i=new Int32Array(a);return jn.arraycopy(e,t,i,0,a),i},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var a=0,i=e.length-1;a<=i;){var s=i+a>>1,o=n(t,e[s]);if(o>0)a=s+1;else if(o<0)i=s-1;else return s}return-a-1},r.numberComparator=function(e,t){return e-t},r}(),Nr=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),Qa=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);jn.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,a=Math.floor(e/32),i=n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return t;i=n[a]}var o=a*32+Nr.numberOfTrailingZeros(i);return o>t?t:o},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,a=Math.floor(e/32),i=~n[a];i&=~((1<<(e&31))-1);for(var s=n.length;i===0;){if(++a===s)return t;i=~n[a]}var o=a*32+Nr.numberOfTrailingZeros(i);return o>t?t:o},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Kt;if(t!==e){t--;for(var n=Math.floor(e/32),a=Math.floor(t/32),i=this.bits,s=n;s<=a;s++){var o=s>n?0:e&31,c=s<a?31:t&31,u=(2<<c)-(1<<o);i[s]|=u}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new Kt;if(t===e)return!0;t--;for(var a=Math.floor(e/32),i=Math.floor(t/32),s=this.bits,o=a;o<=i;o++){var c=o>a?0:e&31,u=o<i?31:t&31,d=(2<<u)-(1<<c)&4294967295;if((s[o]&d)!==(n?d:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Kt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new Kt("Sizes don't match");for(var t=this.bits,n=0,a=t.length;n<a;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,a){for(var i=0;i<a;i++){for(var s=0,o=0;o<8;o++)this.get(e)&&(s|=1<<7-o),e++;t[n+i]=s}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,a=this.bits,i=0;i<n;i++){var s=a[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-i]=s}if(this.size!==n*32){for(var o=n*32-this.size,c=e[0]>>>o,i=1;i<n;i++){var u=e[i];c|=u<<32-o,e[i-1]=c,c=u>>>o}e[n-1]=c}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&Pa.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+Pa.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r.prototype.toArray=function(){for(var e=[],t=0,n=this.size;t<n;t++)e.push(this.get(t));return e},r}(),xy;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",r[r.ASSUME_GS1=8]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(xy||(xy={}));const On=xy;var WH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ot=function(r){WH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Cs),XH=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cn;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(cn||(cn={}));var Ia=function(){function r(e,t,n){for(var a,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var c=this.values,u=0,d=c.length;u!==d;u++){var p=c[u];r.VALUES_TO_ECI.set(p,this)}try{for(var g=XH(s),m=g.next();!m.done;m=g.next()){var y=m.value;r.NAME_TO_ECI.set(y,this)}}catch(w){a={error:w}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Ot("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new Ot("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new Ot("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(cn.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(cn.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(cn.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(cn.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(cn.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(cn.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(cn.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(cn.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(cn.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(cn.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(cn.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(cn.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(cn.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(cn.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(cn.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(cn.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(cn.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(cn.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(cn.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(cn.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(cn.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(cn.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(cn.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(cn.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(cn.Big5,28,"Big5"),r.GB18030=new r(cn.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(cn.EUC_KR,30,"EUC_KR","EUC-KR"),r}(),YH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ym=function(r){YH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Cs),_o=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder=="undefined"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Ia?e:Ia.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var a="",i=0,s=e.length;i<s;i++){var o=e[i].toString(16);o.length<2&&(o="0"+o),a+="%"+o}return decodeURIComponent(a)}if(n.equals(Ia.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ym("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Ia.UTF8)||e.equals(Ia.ISO8859_1)||e.equals(Ia.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),a=[],i=0;i<n.length;i++)a.push(n[i].charCodeAt(0));return new Uint8Array(a)},r}(),Mr=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return _o.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(On.CHARACTER_SET)!==void 0)return t.get(On.CHARACTER_SET).toString();for(var n=e.length,a=!0,i=!0,s=!0,o=0,c=0,u=0,d=0,p=0,g=0,m=0,y=0,w=0,_=0,S=0,A=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,C=0;C<n&&(a||i||s);C++){var L=e[C]&255;s&&(o>0?(L&128)===0?s=!1:o--:(L&128)!==0&&((L&64)===0?s=!1:(o++,(L&32)===0?c++:(o++,(L&16)===0?u++:(o++,(L&8)===0?d++:s=!1))))),a&&(L>127&&L<160?a=!1:L>159&&(L<192||L===215||L===247)&&S++),i&&(p>0?L<64||L===127||L>252?i=!1:p--:L===128||L===160||L>239?i=!1:L>160&&L<224?(g++,y=0,m++,m>w&&(w=m)):L>127?(p++,m=0,y++,y>_&&(_=y)):(m=0,y=0))}return s&&o>0&&(s=!1),i&&p>0&&(i=!1),s&&(A||c+u+d>0)?r.UTF8:i&&(r.ASSUME_SHIFT_JIS||w>=3||_>=3)?r.SHIFT_JIS:a&&i?w===2&&g===2||S*10>=n?r.SHIFT_JIS:r.ISO88591:a?r.ISO88591:i?r.SHIFT_JIS:s?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=-1;function i(o,c,u,d,p,g){if(o==="%%")return"%";if(t[++a]!==void 0){o=d?parseInt(d.substr(1)):void 0;var m=p?parseInt(p.substr(1)):void 0,y;switch(g){case"s":y=t[a];break;case"c":y=t[a][0];break;case"f":y=parseFloat(t[a]).toFixed(o);break;case"p":y=parseFloat(t[a]).toPrecision(o);break;case"e":y=parseFloat(t[a]).toExponential(o);break;case"x":y=parseInt(t[a]).toString(m||16);break;case"d":y=parseFloat(parseInt(t[a],m||10).toPrecision(o)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(m);for(var w=parseInt(u),_=u&&u[0]+""=="0"?"0":" ";y.length<w;)y=c!==void 0?y+_:_+y;return y}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},r.getBytes=function(e,t){return _o.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=Ia.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=Ia.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=Ia.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}(),Sr=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Mr.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var a=t;t<t+n;a++)this.append(e[a]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},r}(),ec=function(){function r(e,t,n,a){if(this.width=e,this.height=t,this.rowSize=n,this.bits=a,t==null&&(t=e),this.height=t,e<1||t<1)throw new Kt("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,a=new r(n,t),i=0;i<t;i++)for(var s=e[i],o=0;o<n;o++)s[o]&&a.set(o,i);return a},r.parseFromString=function(e,t,n){if(e===null)throw new Kt("stringRepresentation cannot be null");for(var a=new Array(e.length),i=0,s=0,o=-1,c=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Kt("row lengths do not match");s=i,c++}u++}else if(e.substring(u,u+t.length)===t)u+=t.length,a[i]=!0,i++;else if(e.substring(u,u+n.length)===n)u+=n.length,a[i]=!1,i++;else throw new Kt("illegal character encountered: "+e.substring(u));if(i>s){if(o===-1)o=i-s;else if(i-s!==o)throw new Kt("row lengths do not match");c++}for(var d=new r(o,c),p=0;p<i;p++)a[p]&&d.set(Math.floor(p%o),Math.floor(p/o));return d},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Kt("input matrix dimensions do not match");for(var t=new Qa(Math.floor(this.width/32)+1),n=this.rowSize,a=this.bits,i=0,s=this.height;i<s;i++)for(var o=i*n,c=e.getRow(i,t).getBitArray(),u=0;u<n;u++)a[o+u]^=c[u]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,a){if(t<0||e<0)throw new Kt("Left and top must be nonnegative");if(a<1||n<1)throw new Kt("Height and width must be at least 1");var i=e+n,s=t+a;if(s>this.height||i>this.width)throw new Kt("The region must fit inside the matrix");for(var o=this.rowSize,c=this.bits,u=t;u<s;u++)for(var d=u*o,p=e;p<i;p++)c[d+Math.floor(p/32)]|=1<<(p&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Qa(this.width):t.clear();for(var n=this.rowSize,a=this.bits,i=e*n,s=0;s<n;s++)t.setBulk(s*32,a[i+s]);return t},r.prototype.setRow=function(e,t){jn.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new Qa(e),a=new Qa(e),i=0,s=Math.floor((t+1)/2);i<s;i++)n=this.getRow(i,n),a=this.getRow(t-1-i,a),n.reverse(),a.reverse(),this.setRow(i,a),this.setRow(t-1-i,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,a=this.bits,i=e,s=t,o=-1,c=-1,u=0;u<t;u++)for(var d=0;d<n;d++){var p=a[u*n+d];if(p!==0){if(u<s&&(s=u),u>c&&(c=u),d*32<i){for(var g=0;(p<<31-g&4294967295)===0;)g++;d*32+g<i&&(i=d*32+g)}if(d*32+31>o){for(var g=31;!(p>>>g);)g--;d*32+g>o&&(o=d*32+g)}}}return o<i||c<s?null:Int32Array.from([i,s,o-i+1,c-s+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var a=n/e,i=n%e*32,s=t[n],o=0;(s<<31-o&4294967295)===0;)o++;return i+=o,Int32Array.from([i,a])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var a=Math.floor(n/e),i=Math.floor(n%e)*32,s=t[n],o=31;!(s>>>o);)o--;return i+=o,Int32Array.from([i,a])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Pa.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Pa.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var a=new Sr,i=0,s=this.height;i<s;i++){for(var o=0,c=this.width;o<c;o++)a.append(this.get(o,i)?e:t);a.append(n)}return a.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}(),KH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),it=function(r){KH(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Cs),ZH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JH=function(r){ZH(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var a=this.getLuminanceSource(),i=a.getWidth();n==null||n.getSize()<i?n=new Qa(i):n.clear(),this.initArrays(i);for(var s=a.getRow(t,this.luminances),o=this.buckets,c=0;c<i;c++)o[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(o);if(i<3)for(var c=0;c<i;c++)(s[c]&255)<u&&n.set(c);else for(var d=s[0]&255,p=s[1]&255,c=1;c<i-1;c++){var g=s[c+1]&255;(p*4-d-g)/2<u&&n.set(c),d=p,p=g}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight(),i=new ec(n,a);this.initArrays(n);for(var s=this.buckets,o=1;o<5;o++)for(var c=Math.floor(a*o/5),u=t.getRow(c,this.luminances),d=Math.floor(n*4/5),p=Math.floor(n/5);p<d;p++){var g=u[p]&255;s[g>>e.LUMINANCE_SHIFT]++}for(var m=e.estimateBlackPoint(s),y=t.getMatrix(),o=0;o<a;o++)for(var w=o*n,p=0;p<n;p++){var g=y[w+p]&255;g<m&&i.set(p,o)}return i},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,a=0;a<e.LUMINANCE_BUCKETS;a++)n[a]=0},e.estimateBlackPoint=function(t){for(var n=t.length,a=0,i=0,s=0,o=0;o<n;o++)t[o]>s&&(i=o,s=t[o]),t[o]>a&&(a=t[o]);for(var c=0,u=0,o=0;o<n;o++){var d=o-i,p=t[o]*d*d;p>u&&(c=o,u=p)}if(i>c){var g=i;i=c,c=g}if(c-i<=n/16)throw new it;for(var m=c-1,y=-1,o=c-1;o>i;o--){var w=o-i,p=w*w*(c-o)*(a-t[o]);p>y&&(m=o,y=p)}return m<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(qH),QH=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eq=function(r){QH(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),a=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&a>=e.MINIMUM_DIMENSION){var i=t.getMatrix(),s=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&s++;var o=a>>e.BLOCK_SIZE_POWER;(a&e.BLOCK_SIZE_MASK)!==0&&o++;var c=e.calculateBlackPoints(i,s,o,n,a),u=new ec(n,a);e.calculateThresholdForBlock(i,s,o,n,a,c,u),this.matrix=u}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,a,i,s,o,c){for(var u=s-e.BLOCK_SIZE,d=i-e.BLOCK_SIZE,p=0;p<a;p++){var g=p<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var m=e.cap(p,2,a-3),y=0;y<n;y++){var w=y<<e.BLOCK_SIZE_POWER;w>d&&(w=d);for(var _=e.cap(y,2,n-3),S=0,A=-2;A<=2;A++){var C=o[m+A];S+=C[_-2]+C[_-1]+C[_]+C[_+1]+C[_+2]}var L=S/25;e.thresholdBlock(t,w,g,L,i,c)}}},e.cap=function(t,n,a){return t<n?n:t>a?a:t},e.thresholdBlock=function(t,n,a,i,s,o){for(var c=0,u=a*s+n;c<e.BLOCK_SIZE;c++,u+=s)for(var d=0;d<e.BLOCK_SIZE;d++)(t[u+d]&255)<=i&&o.set(n+d,a+c)},e.calculateBlackPoints=function(t,n,a,i,s){for(var o=s-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,u=new Array(a),d=0;d<a;d++){u[d]=new Int32Array(n);var p=d<<e.BLOCK_SIZE_POWER;p>o&&(p=o);for(var g=0;g<n;g++){var m=g<<e.BLOCK_SIZE_POWER;m>c&&(m=c);for(var y=0,w=255,_=0,S=0,A=p*i+m;S<e.BLOCK_SIZE;S++,A+=i){for(var C=0;C<e.BLOCK_SIZE;C++){var L=t[A+C]&255;y+=L,L<w&&(w=L),L>_&&(_=L)}if(_-w>e.MIN_DYNAMIC_RANGE)for(S++,A+=i;S<e.BLOCK_SIZE;S++,A+=i)for(var C=0;C<e.BLOCK_SIZE;C++)y+=t[A+C]&255}var B=y>>e.BLOCK_SIZE_POWER*2;if(_-w<=e.MIN_DYNAMIC_RANGE&&(B=w/2,d>0&&g>0)){var M=(u[d-1][g]+2*u[d][g-1]+u[d-1][g-1])/4;w<M&&(B=M)}u[d][g]=B}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(JH),N2=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,a){throw new ym("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new ym("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new ym("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Sr,n=0;n<this.height;n++){for(var a=this.getRow(n,e),i=0;i<this.width;i++){var s=a[i]&255,o=void 0;s<64?o="#":s<128?o="+":s<192?o=".":o=" ",t.append(o)}t.append(`
`)}return t.toString()},r}(),tq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tw=function(r){tq(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var a=this.delegate.getRow(t,n),i=this.getWidth(),s=0;s<i;s++)a[s]=255-(a[s]&255);return a},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(n),i=0;i<n;i++)a[i]=255-(t[i]&255);return a},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,a,i){return new e(this.delegate.crop(t,n,a,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(N2),rq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nq=function(r){rq(e,r);function e(t,n){n===void 0&&(n=!1);var a=r.call(this,t.width,t.height)||this;return a.canvas=t,a.tempCanvasElement=null,a.buffer=e.makeBufferFromCanvasImageData(t,n),a}return e.makeBufferFromCanvasImageData=function(t,n){n===void 0&&(n=!1);var a=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(a.data,t.width,t.height,n)},e.toGrayscaleBuffer=function(t,n,a,i){i===void 0&&(i=!1);var s=new Uint8ClampedArray(n*a);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!i)for(var o=0,c=0,u=t.length;o<u;o+=4,c++){var d=void 0,p=t[o+3];if(p===0)d=255;else{var g=t[o],m=t[o+1],y=t[o+2];d=306*g+601*m+117*y+512>>10}s[c]=d}else for(var o=0,c=0,w=t.length;o<w;o+=4,c++){var d=void 0,p=t[o+3];if(p===0)d=255;else{var g=t[o],m=t[o+1],y=t[o+2];d=306*g+601*m+117*y+512>>10}s[c]=255-d}return s},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Kt("Requested row is outside the image: "+t);var a=this.getWidth(),i=t*a;return n===null?n=this.buffer.slice(i,i+a):(n.length<a&&(n=new Uint8ClampedArray(a)),n.set(this.buffer.slice(i,i+a))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,i){return r.prototype.crop.call(this,t,n,a,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),a=n.getContext("2d"),i=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,o=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*s+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*s+Math.abs(Math.cos(i))*o);return n.width=c,n.height=u,a.translate(c/2,u/2),a.rotate(i),a.drawImage(this.canvas,s/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Tw(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(N2),aq=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}(),Ki=function(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(p){s(p)}}function c(d){try{u(n.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(r,e||[])).next())})},Zi=function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},iq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oh=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator!="undefined"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return Ki(this,void 0,void 0,function(){var e,t,n,a,i,s,o,c,u,d,p,g;return Zi(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=m.sent(),t=[];try{for(n=iq(e),a=n.next();!a.done;a=n.next())i=a.value,s=i.kind==="video"?"videoinput":i.kind,s==="videoinput"&&(o=i.deviceId||i.id,c=i.label||"Video device "+(t.length+1),u=i.groupId,d={deviceId:o,label:c,kind:s,groupId:u},t.push(d))}catch(y){p={error:y}}finally{try{a&&!a.done&&(g=n.return)&&g.call(n)}finally{if(p)throw p.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return Ki(this,void 0,void 0,function(){var e;return Zi(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new aq(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return Ki(this,void 0,void 0,function(){var t;return Zi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(a){return a.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return Ki(this,void 0,void 0,function(){return Zi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Ki(this,void 0,void 0,function(){var n,a;return Zi(this,function(i){switch(i.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},a={video:n},[4,this.decodeOnceFromConstraints(a,t)];case 1:return[2,i.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Ki(this,void 0,void 0,function(){var n;return Zi(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=a.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,a.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Ki(this,void 0,void 0,function(){var n,a;return Zi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=i.sent(),[4,this.decodeOnce(n)];case 2:return a=i.sent(),[2,a]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Ki(this,void 0,void 0,function(){return Zi(this,function(a){switch(a.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Ki(this,void 0,void 0,function(){var a,i;return Zi(this,function(s){switch(s.label){case 0:return e?a={deviceId:{exact:e}}:a={facingMode:"environment"},i={video:a},[4,this.decodeFromConstraints(i,t,n)];case 1:return[2,s.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Ki(this,void 0,void 0,function(){var a;return Zi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return a=i.sent(),[4,this.decodeFromStream(a,t,n)];case 2:return[2,i.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return Ki(this,void 0,void 0,function(){var a;return Zi(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return a=i.sent(),[4,this.decodeContinuously(a,n)];case 2:return[2,i.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return Ki(this,void 0,void 0,function(){var n;return Zi(this,function(a){switch(a.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,a){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return Ki(this,void 0,void 0,function(){return Zi(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new rl("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new rl("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new rl("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new rl("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new rl("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new rl("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new rl("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new rl("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new rl("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new rl("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(n,t);return n.src=e,a},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,a){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,a)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return Ki(this,void 0,void 0,function(){return Zi(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return Ki(this,void 0,void 0,function(){return Zi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e=="undefined"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document!="undefined"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var a=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var i=function(s,o){if(a._stopAsyncDecode){o(new it("Video stream has ended before any code could be detected.")),a._stopAsyncDecode=void 0;return}try{var c=a.decode(e);s(c)}catch(g){var u=t&&g instanceof it,d=g instanceof Ka||g instanceof Ot,p=d&&n;if(u||p)return setTimeout(i,a._timeBetweenDecodingAttempts,s,o);o(g)}};return new Promise(function(s,o){return i(s,o)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var a=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var i=n.decode(e);t(i,null),setTimeout(a,n.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof Ka||c instanceof Ot,o=c instanceof it;(s||o)&&setTimeout(a,n._timeBetweenDecodingAttempts)}};a()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),a=new nq(n,t),i=new eq(a);return new zH(i)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch(a){n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,a;return typeof e!="undefined"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,a=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,a=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=a+"px",t.width=n,t.height=a,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")},r}(),Mi=function(){function r(e,t,n,a,i,s){n===void 0&&(n=t==null?0:8*t.length),s===void 0&&(s=jn.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=a,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=a,this.format=i,this.resultMetadata=null,s==null?this.timestamp=jn.currentTimeMillis():this.timestamp=s}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);jn.arraycopy(t,0,n,0,t.length),jn.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}(),vy;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(vy||(vy={}));const Vt=vy;var yy;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(yy||(yy={}));const mi=yy;var C2=function(){function r(e,t,n,a,i,s){i===void 0&&(i=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=a,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}(),x1=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Kt;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}(),Xu=function(){function r(e,t){if(t.length===0)throw new Kt;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var a=1;a<n&&t[a]===0;)a++;a===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-a),jn.arraycopy(t,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var a=0,i=t.length;a!==i;a++){var s=t[a];n=x1.addOrSubtract(n,s)}return n}n=t[0];for(var o=t.length,c=this.field,a=1;a<o;a++)n=x1.addOrSubtract(c.multiply(e,n),t[a]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Kt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var a=t;t=n,n=a}var i=new Int32Array(n.length),s=n.length-t.length;jn.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=x1.addOrSubtract(t[o-s],n[o]);return new r(this.field,i)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Kt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=this.field,c=0;c<n;c++)for(var u=t[c],d=0;d<i;d++)s[c+d]=x1.addOrSubtract(s[c+d],o.multiply(u,a[d]));return new r(o,s)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,a=new Int32Array(t),i=this.coefficients,s=0;s<t;s++)a[s]=n.multiply(i[s],e);return new r(n,a)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Kt;if(t===0)return this.field.getZero();for(var n=this.coefficients,a=n.length,i=new Int32Array(a+e),s=this.field,o=0;o<a;o++)i[o]=s.multiply(n[o],t);return new r(s,i)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Kt("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Kt("Divide by 0");for(var t=this.field,n=t.getZero(),a=this,i=e.getCoefficient(e.getDegree()),s=t.inverse(i);a.getDegree()>=e.getDegree()&&!a.isZero();){var o=a.getDegree()-e.getDegree(),c=t.multiply(a.getCoefficient(a.getDegree()),s),u=e.multiplyByMonomial(o,c),d=t.buildMonomial(o,c);n=n.addOrSubtract(d),a=a.addOrSubtract(u)}return[n,a]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var a=this.field.log(n);a===0?e+="1":a===1?e+="a":(e+="a^",e+=a)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}(),sq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WA=function(r){sq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Cs),oq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ys=function(r){oq(e,r);function e(t,n,a){var i=r.call(this)||this;i.primitive=t,i.size=n,i.generatorBase=a;for(var s=new Int32Array(n),o=1,c=0;c<n;c++)s[c]=o,o*=2,o>=n&&(o^=t,o&=n-1);i.expTable=s;for(var u=new Int32Array(n),c=0;c<n-1;c++)u[s[c]]=c;return i.logTable=u,i.zero=new Xu(i,Int32Array.from([0])),i.one=new Xu(i,Int32Array.from([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new Kt;if(n===0)return this.zero;var a=new Int32Array(t+1);return a[0]=n,new Xu(this,a)},e.prototype.inverse=function(t){if(t===0)throw new WA;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Nr.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(x1),lq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nm=function(r){lq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Cs),cq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ap=function(r){cq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Cs),T2=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,a=new Xu(n,e),i=new Int32Array(t),s=!0,o=0;o<t;o++){var c=a.evaluateAt(n.exp(o+n.getGeneratorBase()));i[i.length-1-o]=c,c!==0&&(s=!1)}if(!s)for(var u=new Xu(n,i),d=this.runEuclideanAlgorithm(n.buildMonomial(t,1),u,t),p=d[0],g=d[1],m=this.findErrorLocations(p),y=this.findErrorMagnitudes(g,m),o=0;o<m.length;o++){var w=e.length-1-n.log(m[o]);if(w<0)throw new nm("Bad error location");e[w]=ys.addOrSubtract(e[w],y[o])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var a=e;e=t,t=a}for(var i=this.field,s=e,o=t,c=i.getZero(),u=i.getOne();o.getDegree()>=(n/2|0);){var d=s,p=c;if(s=o,c=u,s.isZero())throw new nm("r_{i-1} was zero");o=d;for(var g=i.getZero(),m=s.getCoefficient(s.getDegree()),y=i.inverse(m);o.getDegree()>=s.getDegree()&&!o.isZero();){var w=o.getDegree()-s.getDegree(),_=i.multiply(o.getCoefficient(o.getDegree()),y);g=g.addOrSubtract(i.buildMonomial(w,_)),o=o.addOrSubtract(s.multiplyByMonomial(w,_))}if(u=g.multiply(c).addOrSubtract(p),o.getDegree()>=s.getDegree())throw new ap("Division algorithm failed to reduce polynomial?")}var S=u.getCoefficient(0);if(S===0)throw new nm("sigmaTilde(0) was zero");var A=i.inverse(S),C=u.multiplyScalar(A),L=o.multiplyScalar(A);return[C,L]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),a=0,i=this.field,s=1;s<i.getSize()&&a<t;s++)e.evaluateAt(s)===0&&(n[a]=i.inverse(s),a++);if(a!==t)throw new nm("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,a=new Int32Array(n),i=this.field,s=0;s<n;s++){for(var o=i.inverse(t[s]),c=1,u=0;u<n;u++)if(s!==u){var d=i.multiply(t[u],o),p=(d&1)===0?d|1:d&-2;c=i.multiply(c,p)}a[s]=i.multiply(e.evaluateAt(o),i.inverse(c)),i.getGeneratorBase()!==0&&(a[s]=i.multiply(a[s],o))}return a},r}(),fi;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(fi||(fi={}));var f6=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),a=this.correctBits(n),i=r.convertBoolArrayToByteArray(a),s=r.getEncodedData(a),o=new C2(i,s,null,null);return o.setNumBits(a.length),o},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=fi.UPPER,a=fi.UPPER,i="",s=0;s<t;)if(a===fi.BINARY){if(t-s<5)break;var o=r.readCode(e,s,5);if(s+=5,o===0){if(t-s<11)break;o=r.readCode(e,s,11)+31,s+=11}for(var c=0;c<o;c++){if(t-s<8){s=t;break}var u=r.readCode(e,s,8);i+=Mr.castAsNonUtf8Char(u),s+=8}a=n}else{var d=a===fi.DIGIT?4:5;if(t-s<d)break;var u=r.readCode(e,s,d);s+=d;var p=r.getCharacter(a,u);p.startsWith("CTRL_")?(n=a,a=r.getTable(p.charAt(5)),p.charAt(6)==="L"&&(n=a)):(i+=p,a=n)}return i},r.getTable=function(e){switch(e){case"L":return fi.LOWER;case"P":return fi.PUNCT;case"M":return fi.MIXED;case"D":return fi.DIGIT;case"B":return fi.BINARY;case"U":default:return fi.UPPER}},r.getCharacter=function(e,t){switch(e){case fi.UPPER:return r.UPPER_TABLE[t];case fi.LOWER:return r.LOWER_TABLE[t];case fi.MIXED:return r.MIXED_TABLE[t];case fi.PUNCT:return r.PUNCT_TABLE[t];case fi.DIGIT:return r.DIGIT_TABLE[t];default:throw new ap("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=ys.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=ys.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=ys.AZTEC_DATA_10):(n=12,t=ys.AZTEC_DATA_12);var a=this.ddata.getNbDatablocks(),i=e.length/n;if(i<a)throw new Ot;for(var s=e.length%n,o=new Int32Array(i),c=0;c<i;c++,s+=n)o[c]=r.readCode(e,s,n);try{var u=new T2(t);u.decode(o,i-a)}catch(_){throw new Ot(_)}for(var d=(1<<n)-1,p=0,c=0;c<a;c++){var g=o[c];if(g===0||g===d)throw new Ot;(g===1||g===d-1)&&p++}for(var m=new Array(a*n-p),y=0,c=0;c<a;c++){var g=o[c];if(g===1||g===d-1)m.fill(g>1,y,y+n-1),y+=n-1;else for(var w=n-1;w>=0;--w)m[y++]=(g&1<<w)!==0}return m},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),a=(t?11:14)+n*4,i=new Int32Array(a),s=new Array(this.totalBitsInLayer(n,t));if(t)for(var o=0;o<i.length;o++)i[o]=o;else for(var c=a+1+2*Nr.truncDivision(Nr.truncDivision(a,2)-1,15),u=a/2,d=Nr.truncDivision(c,2),o=0;o<u;o++){var p=o+Nr.truncDivision(o,15);i[u-o-1]=d-p-1,i[u+o]=d+p+1}for(var o=0,g=0;o<n;o++){for(var m=(n-o)*4+(t?9:12),y=o*2,w=a-1-y,_=0;_<m;_++)for(var S=_*2,A=0;A<2;A++)s[g+S+A]=e.get(i[y+A],i[y+_]),s[g+2*m+S+A]=e.get(i[y+_],i[w-A]),s[g+4*m+S+A]=e.get(i[w-A],i[w-_]),s[g+6*m+S+A]=e.get(i[w-_],i[y+A]);g+=m*8}return s},r.readCode=function(e,t,n){for(var a=0,i=t;i<t+n;i++)a<<=1,e[i]&&(a|=1);return a},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}(),Xr=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,a){var i=e-n,s=t-a;return Math.sqrt(i*i+s*s)},r.sum=function(e){for(var t=0,n=0,a=e.length;n!==a;n++){var i=e[n];t+=i}return t},r}(),wy=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}(),Ht=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*wy.floatToIntBits(this.x)+wy.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]),i,s,o;if(n>=t&&n>=a?(s=e[0],i=e[1],o=e[2]):a>=n&&a>=t?(s=e[1],i=e[0],o=e[2]):(s=e[2],i=e[0],o=e[1]),this.crossProductZ(i,s,o)<0){var c=i;i=o,o=c}e[0]=i,e[1]=s,e[2]=o},r.distance=function(e,t){return Xr.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var a=t.x,i=t.y;return(n.x-a)*(e.y-i)-(n.y-i)*(e.x-a)},r}(),jw=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),uq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fq=function(r){uq(e,r);function e(t,n,a,i,s){var o=r.call(this,t,n)||this;return o.compact=a,o.nbDatablocks=i,o.nbLayers=s,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(jw),by=function(){function r(e,t,n,a){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),a==null&&(a=e.getHeight()/2|0);var i=t/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=a-i,this.downInit=a+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new it}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,a=this.downInit,i=!1,s=!0,o=!1,c=!1,u=!1,d=!1,p=!1,g=this.width,m=this.height;s;){s=!1;for(var y=!0;(y||!c)&&t<g;)y=this.containsBlackPoint(n,a,t,!1),y?(t++,s=!0,c=!0):c||t++;if(t>=g){i=!0;break}for(var w=!0;(w||!u)&&a<m;)w=this.containsBlackPoint(e,t,a,!0),w?(a++,s=!0,u=!0):u||a++;if(a>=m){i=!0;break}for(var _=!0;(_||!d)&&e>=0;)_=this.containsBlackPoint(n,a,e,!1),_?(e--,s=!0,d=!0):d||e--;if(e<0){i=!0;break}for(var S=!0;(S||!p)&&n>=0;)S=this.containsBlackPoint(e,t,n,!0),S?(n--,s=!0,p=!0):p||n--;if(n<0){i=!0;break}s&&(o=!0)}if(!i&&o){for(var A=t-e,C=null,L=1;C===null&&L<A;L++)C=this.getBlackPointOnSegment(e,a-L,e+L,a);if(C==null)throw new it;for(var B=null,L=1;B===null&&L<A;L++)B=this.getBlackPointOnSegment(e,n+L,e+L,n);if(B==null)throw new it;for(var M=null,L=1;M===null&&L<A;L++)M=this.getBlackPointOnSegment(t,n+L,t-L,n);if(M==null)throw new it;for(var F=null,L=1;F===null&&L<A;L++)F=this.getBlackPointOnSegment(t,a-L,t-L,a);if(F==null)throw new it;return this.centerEdges(F,C,M,B)}else throw new it},r.prototype.getBlackPointOnSegment=function(e,t,n,a){for(var i=Xr.round(Xr.distance(e,t,n,a)),s=(n-e)/i,o=(a-t)/i,c=this.image,u=0;u<i;u++){var d=Xr.round(e+u*s),p=Xr.round(t+u*o);if(c.get(d,p))return new Ht(d,p)}return null},r.prototype.centerEdges=function(e,t,n,a){var i=e.getX(),s=e.getY(),o=t.getX(),c=t.getY(),u=n.getX(),d=n.getY(),p=a.getX(),g=a.getY(),m=r.CORR;return i<this.width/2?[new Ht(p-m,g+m),new Ht(o+m,c+m),new Ht(u-m,d-m),new Ht(i+m,s-m)]:[new Ht(p+m,g+m),new Ht(o+m,c-m),new Ht(u-m,d+m),new Ht(i-m,s-m)]},r.prototype.containsBlackPoint=function(e,t,n,a){var i=this.image;if(a){for(var s=e;s<=t;s++)if(i.get(s,n))return!0}else for(var o=e;o<=t;o++)if(i.get(n,o))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}(),d6=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),a=e.getHeight(),i=!0,s=0;s<t.length&&i;s+=2){var o=Math.floor(t[s]),c=Math.floor(t[s+1]);if(o<-1||o>n||c<-1||c>a)throw new it;i=!1,o===-1?(t[s]=0,i=!0):o===n&&(t[s]=n-1,i=!0),c===-1?(t[s+1]=0,i=!0):c===a&&(t[s+1]=a-1,i=!0)}i=!0;for(var s=t.length-2;s>=0&&i;s-=2){var o=Math.floor(t[s]),c=Math.floor(t[s+1]);if(o<-1||o>n||c<-1||c>a)throw new it;i=!1,o===-1?(t[s]=0,i=!0):o===n&&(t[s]=n-1,i=!0),c===-1?(t[s+1]=0,i=!0):c===a&&(t[s+1]=a-1,i=!0)}},r}(),XA=function(){function r(e,t,n,a,i,s,o,c,u){this.a11=e,this.a21=t,this.a31=n,this.a12=a,this.a22=i,this.a32=s,this.a13=o,this.a23=c,this.a33=u}return r.quadrilateralToQuadrilateral=function(e,t,n,a,i,s,o,c,u,d,p,g,m,y,w,_){var S=r.quadrilateralToSquare(e,t,n,a,i,s,o,c),A=r.squareToQuadrilateral(u,d,p,g,m,y,w,_);return A.times(S)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,p=this.a33,g=0;g<t;g+=2){var m=e[g],y=e[g+1],w=i*m+c*y+p;e[g]=(n*m+s*y+u)/w,e[g+1]=(a*m+o*y+d)/w}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,a=this.a12,i=this.a13,s=this.a21,o=this.a22,c=this.a23,u=this.a31,d=this.a32,p=this.a33,g=e.length,m=0;m<g;m++){var y=e[m],w=t[m],_=i*y+c*w+p;e[m]=(n*y+s*w+u)/_,t[m]=(a*y+o*w+d)/_}},r.squareToQuadrilateral=function(e,t,n,a,i,s,o,c){var u=e-n+i-o,d=t-a+s-c;if(u===0&&d===0)return new r(n-e,i-n,e,a-t,s-a,t,0,0,1);var p=n-i,g=o-i,m=a-s,y=c-s,w=p*y-g*m,_=(u*y-g*d)/w,S=(p*d-u*m)/w;return new r(n-e+_*n,o-e+S*o,e,a-t+_*a,c-t+S*c,t,_,S,1)},r.quadrilateralToSquare=function(e,t,n,a,i,s,o,c){return r.squareToQuadrilateral(e,t,n,a,i,s,o,c).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}(),dq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hq=function(r){dq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,a,i,s,o,c,u,d,p,g,m,y,w,_,S,A,C,L){var B=XA.quadrilateralToQuadrilateral(i,s,o,c,u,d,p,g,m,y,w,_,S,A,C,L);return this.sampleGridWithTransform(t,n,a,B)},e.prototype.sampleGridWithTransform=function(t,n,a,i){if(n<=0||a<=0)throw new it;for(var s=new ec(n,a),o=new Float32Array(2*n),c=0;c<a;c++){for(var u=o.length,d=c+.5,p=0;p<u;p+=2)o[p]=p/2+.5,o[p+1]=d;i.transformPoints(o),d6.checkAndNudgePoints(t,o);try{for(var p=0;p<u;p+=2)t.get(Math.floor(o[p]),Math.floor(o[p+1]))&&s.set(p/2,c)}catch(g){throw new it}}return s},e}(d6),Ow=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new hq,r}(),xs=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new Ht(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}(),pq=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var a=n[0];n[0]=n[2],n[2]=a}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),s=this.getMatrixCornerPoints(n);return new fq(i,s,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new it;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var a=0,i=0;i<4;i++){var s=n[(this.shift+i)%4];this.compact?(a<<=7,a+=s>>1&127):(a<<=10,a+=(s>>2&992)+(s>>1&31))}var o=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(i,s,o){var c=(i>>t-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var a=0;a<4;a++)if(Nr.bitCount(n^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new it},r.prototype.getCorrectedParameterData=function(e,t){var n,a;t?(n=7,a=2):(n=10,a=4);for(var i=n-a,s=new Int32Array(n),o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{var c=new T2(ys.AZTEC_PARAM);c.decode(s,i)}catch(d){throw new it}for(var u=0,o=0;o<a;o++)u=(u<<4)+s[o];return u},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,a=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(n,s,1,1),u=this.getFirstDifferent(a,s,-1,1),d=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(o,c,u,d))break}t=o,n=c,a=u,i=d,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new it;this.compact=this.nbCenterLayers===5;var g=new Ht(t.getX()+.5,t.getY()-.5),m=new Ht(n.getX()+.5,n.getY()+.5),y=new Ht(a.getX()-.5,a.getY()+.5),w=new Ht(i.getX()-.5,i.getY()-.5);return this.expandSquare([g,m,y,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,a;try{var i=new by(this.image).detect();e=i[0],t=i[1],n=i[2],a=i[3]}catch(d){var s=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new xs(s+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new xs(s+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new xs(s-7,o+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new xs(s-7,o-7),!1,-1,-1).toResultPoint()}var c=Xr.round((e.getX()+a.getX()+t.getX()+n.getX())/4),u=Xr.round((e.getY()+a.getY()+t.getY()+n.getY())/4);try{var i=new by(this.image,15,c,u).detect();e=i[0],t=i[1],n=i[2],a=i[3]}catch(d){e=this.getFirstDifferent(new xs(c+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new xs(c+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new xs(c-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new xs(c-7,u-7),!1,-1,-1).toResultPoint()}return c=Xr.round((e.getX()+a.getX()+t.getX()+n.getX())/4),u=Xr.round((e.getY()+a.getY()+t.getY()+n.getY())/4),new xs(c,u)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,a,i){var s=Ow.getInstance(),o=this.getDimension(),c=o/2-this.nbCenterLayers,u=o/2+this.nbCenterLayers;return s.sampleGrid(e,o,o,c,c,u,c,u,u,c,u,t.getX(),t.getY(),n.getX(),n.getY(),a.getX(),a.getY(),i.getX(),i.getY())},r.prototype.sampleLine=function(e,t,n){for(var a=0,i=this.distanceResultPoint(e,t),s=i/n,o=e.getX(),c=e.getY(),u=s*(t.getX()-e.getX())/i,d=s*(t.getY()-e.getY())/i,p=0;p<n;p++)this.image.get(Xr.round(o+p*u),Xr.round(c+p*d))&&(a|=1<<n-p-1);return a},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,a){var i=3;e=new xs(e.getX()-i,e.getY()+i),t=new xs(t.getX()-i,t.getY()-i),n=new xs(n.getX()+i,n.getY()-i),a=new xs(a.getX()+i,a.getY()+i);var s=this.getColor(a,e);if(s===0)return!1;var o=this.getColor(e,t);return o!==s||(o=this.getColor(t,n),o!==s)?!1:(o=this.getColor(n,a),o===s)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),a=(t.getX()-e.getX())/n,i=(t.getY()-e.getY())/n,s=0,o=e.getX(),c=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),p=0;p<d;p++)o+=a,c+=i,this.image.get(Xr.round(o),Xr.round(c))!==u&&s++;var g=s/n;return g>.1&&g<.9?0:g<=.1===u?1:-1},r.prototype.getFirstDifferent=function(e,t,n,a){for(var i=e.getX()+n,s=e.getY()+a;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=n,s+=a;for(i-=n,s-=a;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===t;)s+=a;return s-=a,new xs(i,s)},r.prototype.expandSquare=function(e,t,n){var a=n/(2*t),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,u=new Ht(o+a*i,c+a*s),d=new Ht(o-a*i,c-a*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var p=new Ht(o+a*i,c+a*s),g=new Ht(o-a*i,c-a*s),m=[u,p,d,g];return m},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=Xr.round(e.getX()),n=Xr.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return Xr.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return Xr.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Nr.truncDivision(this.nbLayers-4,8)+1)+15},r}(),_y=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,a=new pq(e.getBlackMatrix()),i=null,s=null;try{var o=a.detectMirror(!1);i=o.getPoints(),this.reportFoundResultPoints(t,i),s=new f6().decode(o)}catch(p){n=p}if(s==null)try{var o=a.detectMirror(!0);i=o.getPoints(),this.reportFoundResultPoints(t,i),s=new f6().decode(o)}catch(p){throw n!=null?n:p}var c=new Mi(s.getText(),s.getRawBytes(),s.getNumBits(),i,Vt.AZTEC,jn.currentTimeMillis()),u=s.getByteSegments();u!=null&&c.putMetadata(mi.BYTE_SEGMENTS,u);var d=s.getECLevel();return d!=null&&c.putMetadata(mi.ERROR_CORRECTION_LEVEL,d),c},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(On.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(a,i,s){n.foundPossibleResultPoint(a)})}},r.prototype.reset=function(){},r}(),gq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){gq(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new _y,t)||this}return e})(oh);var Fa=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch(p){var n=t&&t.get(On.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var a=e.rotateCounterClockwise(),i=this.doDecode(a,t),s=i.getResultMetadata(),o=270;s!==null&&s.get(mi.ORIENTATION)===!0&&(o=o+s.get(mi.ORIENTATION)%360),i.putMetadata(mi.ORIENTATION,o);var c=i.getResultPoints();if(c!==null)for(var u=a.getHeight(),d=0;d<c.length;d++)c[d]=new Ht(u-c[d].getY()-1,c[d].getX());return i}else throw new it}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),a=e.getHeight(),i=new Qa(n),s=t&&t.get(On.TRY_HARDER)===!0,o=Math.max(1,a>>(s?8:5)),c;s?c=a:c=15;for(var u=Math.trunc(a/2),d=0;d<c;d++){var p=Math.trunc((d+1)/2),g=(d&1)===0,m=u+o*(g?p:-p);if(m<0||m>=a)break;try{i=e.getBlackRow(m,i)}catch(A){continue}for(var y=function(A){if(A===1&&(i.reverse(),t&&t.get(On.NEED_RESULT_POINT_CALLBACK)===!0)){var C=new Map;t.forEach(function(M,F){return C.set(F,M)}),C.delete(On.NEED_RESULT_POINT_CALLBACK),t=C}try{var L=w.decodeRow(m,i,t);if(A===1){L.putMetadata(mi.ORIENTATION,180);var B=L.getResultPoints();B!==null&&(B[0]=new Ht(n-B[0].getX()-1,B[0].getY()),B[1]=new Ht(n-B[1].getX()-1,B[1].getY()))}return{value:L}}catch(M){}},w=this,_=0;_<2;_++){var S=y(_);if(typeof S=="object")return S.value}}throw new it},r.recordPattern=function(e,t,n){for(var a=n.length,i=0;i<a;i++)n[i]=0;var s=e.getSize();if(t>=s)throw new it;for(var o=!e.get(t),c=0,u=t;u<s;){if(e.get(u)!==o)n[c]++;else{if(++c===a)break;n[c]=1,o=!o}u++}if(!(c===a||c===a-1&&u===s))throw new it},r.recordPatternInReverse=function(e,t,n){for(var a=n.length,i=e.get(t);t>0&&a>=0;)e.get(--t)!==i&&(a--,i=!i);if(a>=0)throw new it;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=t[o];if(i<s)return Number.POSITIVE_INFINITY;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var p=e[d],g=t[d]*c,m=p>g?p-g:g-p;if(m>n)return Number.POSITIVE_INFINITY;u+=m}return u/i},r}(),mq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),h6=function(r){mq(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),a=t.getNextSet(0),i=0,s=Int32Array.from([0,0,0,0,0,0]),o=a,c=!1,u=6,d=a;d<n;d++)if(t.get(d)!==c)s[i]++;else{if(i===u-1){for(var p=e.MAX_AVG_VARIANCE,g=-1,m=e.CODE_START_A;m<=e.CODE_START_C;m++){var y=Fa.patternMatchVariance(s,e.CODE_PATTERNS[m],e.MAX_INDIVIDUAL_VARIANCE);y<p&&(p=y,g=m)}if(g>=0&&t.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,g]);o+=s[0]+s[1],s=s.slice(2,s.length),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,c=!c}throw new it},e.decodeCode=function(t,n,a){Fa.recordPattern(t,a,n);for(var i=e.MAX_AVG_VARIANCE,s=-1,o=0;o<e.CODE_PATTERNS.length;o++){var c=e.CODE_PATTERNS[o],u=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,s=o)}if(s>=0)return s;throw new it},e.prototype.decodeRow=function(t,n,a){var i=a&&a.get(On.ASSUME_GS1)===!0,s=e.findStartPattern(n),o=s[2],c=0,u=new Uint8Array(20);u[c++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new Ot}for(var p=!1,g=!1,m="",y=s[0],w=s[1],_=Int32Array.from([0,0,0,0,0,0]),S=0,A=0,C=o,L=0,B=!0,M=!1,F=!1;!p;){var D=g;switch(g=!1,S=A,A=e.decodeCode(n,_,w),u[c++]=A,A!==e.CODE_STOP&&(B=!0),A!==e.CODE_STOP&&(L++,C+=L*A),y=w,w+=_.reduce(function(ce,we){return ce+we},0),A){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Ot}switch(d){case e.CODE_CODE_A:if(A<64)F===M?m+=String.fromCharCode(32+A):m+=String.fromCharCode(32+A+128),F=!1;else if(A<96)F===M?m+=String.fromCharCode(A-64):m+=String.fromCharCode(A+64),F=!1;else switch(A!==e.CODE_STOP&&(B=!1),A){case e.CODE_FNC_1:i&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!M&&F?(M=!0,F=!1):M&&F?(M=!1,F=!1):F=!0;break;case e.CODE_SHIFT:g=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(A<96)F===M?m+=String.fromCharCode(32+A):m+=String.fromCharCode(32+A+128),F=!1;else switch(A!==e.CODE_STOP&&(B=!1),A){case e.CODE_FNC_1:i&&(m.length===0?m+="]C1":m+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!M&&F?(M=!0,F=!1):M&&F?(M=!1,F=!1):F=!0;break;case e.CODE_SHIFT:g=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(A<100)A<10&&(m+="0"),m+=A;else switch(A!==e.CODE_STOP&&(B=!1),A){case e.CODE_FNC_1:i&&(m.length===0?m+="]C1":m+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}D&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var O=w-y;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-y)/2),!1))throw new it;if(C-=L*S,C%103!==S)throw new Ka;var q=m.length;if(q===0)throw new it;q>0&&B&&(d===e.CODE_CODE_C?m=m.substring(0,q-2):m=m.substring(0,q-1));for(var I=(s[1]+s[0])/2,U=y+O/2,X=u.length,ae=new Uint8Array(X),Se=0;Se<X;Se++)ae[Se]=u[Se];var Q=[new Ht(I,t),new Ht(U,t)];return new Mi(m,ae,0,Q,Vt.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Fa),xq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ev=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p6=function(r){xq(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=r.call(this)||this;return a.usingCheckDigit=t,a.extendedMode=n,a.decodeRowResult="",a.counters=new Int32Array(9),a}return e.prototype.decodeRow=function(t,n,a){var i,s,o,c,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),p=n.getNextSet(d[1]),g=n.getSize(),m,y;do{e.recordPattern(n,p,u);var w=e.toNarrowWidePattern(u);if(w<0)throw new it;m=e.patternToChar(w),this.decodeRowResult+=m,y=p;try{for(var _=(i=void 0,Ev(u)),S=_.next();!S.done;S=_.next()){var A=S.value;p+=A}}catch(X){i={error:X}}finally{try{S&&!S.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}p=n.getNextSet(p)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var C=0;try{for(var L=Ev(u),B=L.next();!B.done;B=L.next()){var A=B.value;C+=A}}catch(X){o={error:X}}finally{try{B&&!B.done&&(c=L.return)&&c.call(L)}finally{if(o)throw o.error}}var M=p-y-C;if(p!==g&&M*2<C)throw new it;if(this.usingCheckDigit){for(var F=this.decodeRowResult.length-1,D=0,O=0;O<F;O++)D+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(O));if(this.decodeRowResult.charAt(F)!==e.ALPHABET_STRING.charAt(D%43))throw new Ka;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new it;var q;this.extendedMode?q=e.decodeExtended(this.decodeRowResult):q=this.decodeRowResult;var I=(d[1]+d[0])/2,U=y+C/2;return new Mi(q,null,0,[new Ht(I,t),new Ht(U,t)],Vt.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var a=t.getSize(),i=t.getNextSet(0),s=0,o=i,c=!1,u=n.length,d=i;d<a;d++)if(t.get(d)!==c)n[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+s-1),n[s-1]=0,n[s]=0,s--}else s++;n[s]=1,c=!c}throw new it},e.toNarrowWidePattern=function(t){var n,a,i=t.length,s=0,o;do{var c=2147483647;try{for(var u=(n=void 0,Ev(t)),d=u.next();!d.done;d=u.next()){var p=d.value;p<c&&p>s&&(c=p)}}catch(w){n={error:w}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}s=c,o=0;for(var g=0,m=0,y=0;y<i;y++){var p=t[y];p>s&&(m|=1<<i-1-y,o++,g+=p)}if(o===3){for(var y=0;y<i&&o>0;y++){var p=t[y];if(p>s&&(o--,p*2>=g))return-1}return m}}while(o>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new it},e.decodeExtended=function(t){for(var n=t.length,a="",i=0;i<n;i++){var s=t.charAt(i);if(s==="+"||s==="$"||s==="%"||s==="/"){var o=t.charAt(i+1),c="\0";switch(s){case"+":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new Ot;break;case"$":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new Ot;break;case"%":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o==="X"||o==="Y"||o==="Z")c="";else throw new Ot;break;case"/":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new Ot;break}a+=c,i++}else a+=s}return a},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Fa),vq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Av=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g6=function(r){vq(e,r);function e(){var t=r.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,n,a){var i,s,o,c,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),p=n.getSize(),g=this.counters;g.fill(0),this.decodeRowResult="";var m,y;do{e.recordPattern(n,d,g);var w=this.toPattern(g);if(w<0)throw new it;m=this.patternToChar(w),this.decodeRowResult+=m,y=d;try{for(var _=(i=void 0,Av(g)),S=_.next();!S.done;S=_.next()){var A=S.value;d+=A}}catch(O){i={error:O}}finally{try{S&&!S.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}d=n.getNextSet(d)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var C=0;try{for(var L=Av(g),B=L.next();!B.done;B=L.next()){var A=B.value;C+=A}}catch(O){o={error:O}}finally{try{B&&!B.done&&(c=L.return)&&c.call(L)}finally{if(o)throw o.error}}if(d===p||!n.get(d))throw new it;if(this.decodeRowResult.length<2)throw new it;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var M=this.decodeExtended(this.decodeRowResult),F=(u[1]+u[0])/2,D=y+C/2;return new Mi(M,null,0,[new Ht(F,t),new Ht(D,t)],Vt.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var n=t.getSize(),a=t.getNextSet(0);this.counters.fill(0);for(var i=this.counters,s=a,o=!1,c=i.length,u=0,d=a;d<n;d++)if(t.get(d)!==o)i[u]++;else{if(u===c-1){if(this.toPattern(i)===e.ASTERISK_ENCODING)return new Int32Array([s,d]);s+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,o=!o}throw new it},e.prototype.toPattern=function(t){var n,a,i=0;try{for(var s=Av(t),o=s.next();!o.done;o=s.next()){var c=o.value;i+=c}}catch(y){n={error:y}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}for(var u=0,d=t.length,p=0;p<d;p++){var g=Math.round(t[p]*9/i);if(g<1||g>4)return-1;if((p&1)===0)for(var m=0;m<g;m++)u=u<<1|1;else u<<=g}return u},e.prototype.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);throw new it},e.prototype.decodeExtended=function(t){for(var n=t.length,a="",i=0;i<n;i++){var s=t.charAt(i);if(s>="a"&&s<="d"){if(i>=n-1)throw new Ot;var o=t.charAt(i+1),c="\0";switch(s){case"d":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)+32);else throw new Ot;break;case"a":if(o>="A"&&o<="Z")c=String.fromCharCode(o.charCodeAt(0)-64);else throw new Ot;break;case"b":if(o>="A"&&o<="E")c=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")c=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")c=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")c="\0";else if(o==="V")c="@";else if(o==="W")c="`";else if(o>="X"&&o<="Z")c="";else throw new Ot;break;case"c":if(o>="A"&&o<="O")c=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")c=":";else throw new Ot;break}a+=c,i++}else a+=s}return a},e.prototype.checkChecksums=function(t){var n=t.length;this.checkOneChecksum(t,n-2,20),this.checkOneChecksum(t,n-1,15)},e.prototype.checkOneChecksum=function(t,n,a){for(var i=1,s=0,o=n-1;o>=0;o--)s+=i*e.ALPHABET_STRING.indexOf(t.charAt(o)),++i>a&&(i=1);if(t.charAt(n)!==e.ALPHABET_STRING[s%47])throw new Ka},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Fa),yq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m6=function(r){yq(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,a){var i,s,o=this.decodeStart(n),c=this.decodeEnd(n),u=new Sr;e.decodeMiddle(n,o[1],c[0],u);var d=u.toString(),p=null;a!=null&&(p=a.get(On.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var g=d.length,m=!1,y=0;try{for(var w=wq(p),_=w.next();!_.done;_=w.next()){var S=_.value;if(g===S){m=!0;break}S>y&&(y=S)}}catch(L){i={error:L}}finally{try{_&&!_.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}if(!m&&g>y&&(m=!0),!m)throw new Ot;var A=[new Ht(o[1],t),new Ht(c[0],t)],C=new Mi(d,null,0,A,Vt.ITF,new Date().getTime());return C},e.decodeMiddle=function(t,n,a,i){var s=new Int32Array(10),o=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),o.fill(0),c.fill(0);n<a;){Fa.recordPattern(t,n,s);for(var u=0;u<5;u++){var d=2*u;o[u]=s[d],c[u]=s[d+1]}var p=e.decodeDigit(o);i.append(p.toString()),p=this.decodeDigit(c),i.append(p.toString()),s.forEach(function(g){n+=g})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),a=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a},e.prototype.validateQuietZone=function(t,n){var a=this.narrowLineWidth*10;a=a<n?a:n;for(var i=n-1;a>0&&i>=0&&!t.get(i);i--)a--;if(a!==0)throw new it},e.skipWhiteSpace=function(t){var n=t.getSize(),a=t.getNextSet(0);if(a===n)throw new it;return a},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),a=void 0;try{a=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof it&&(a=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);var i=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-i,a}finally{t.reverse()}},e.findGuardPattern=function(t,n,a){var i=a.length,s=new Int32Array(i),o=t.getSize(),c=!1,u=0,d=n;s.fill(0);for(var p=n;p<o;p++)if(t.get(p)!==c)s[u]++;else{if(u===i-1){if(Fa.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,p];d+=s[0]+s[1],jn.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,c=!c}throw new it},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,a=-1,i=e.PATTERNS.length,s=0;s<i;s++){var o=e.PATTERNS[s],c=Fa.patternMatchVariance(t,o,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,a=s):c===n&&(a=-1)}if(a>=0)return a%10;throw new it},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Fa),bq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vd=function(r){bq(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,a,i=0,s=Int32Array.from([0,0,0]);!n;){s=Int32Array.from([0,0,0]),a=e.findGuardPattern(t,i,!1,this.START_END_PATTERN,s);var o=a[0];i=a[1];var c=o-(i-o);c>=0&&(n=t.isRange(c,o,!1))}return a},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var a=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,a=0,i=n-1;i>=0;i-=2){var s=t.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new Ot;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=t.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new Ot;a+=s}return(1e3-a)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,a,i){return this.findGuardPattern(t,n,a,i,new Int32Array(i.length))},e.findGuardPattern=function(t,n,a,i,s){var o=t.getSize();n=a?t.getNextUnset(n):t.getNextSet(n);for(var c=0,u=n,d=i.length,p=a,g=n;g<o;g++)if(t.get(g)!==p)s[c]++;else{if(c===d-1){if(Fa.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,g]);u+=s[0]+s[1];for(var m=s.slice(2,s.length),y=0;y<c-1;y++)s[y]=m[y];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,p=!p}throw new it},e.decodeDigit=function(t,n,a,i){this.recordPattern(t,a,n);for(var s=this.MAX_AVG_VARIANCE,o=-1,c=i.length,u=0;u<c;u++){var d=i[u],p=Fa.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);p<s&&(s=p,o=u)}if(o>=0)return o;throw new it},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Fa),_q=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sq=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,a),s=a.toString(),o=r.parseExtensionString(s),c=[new Ht((n[0]+n[1])/2,e),new Ht(i,e)],u=new Mi(s,null,0,c,Vt.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},r.prototype.decodeMiddle=function(e,t,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=t[1],u=0,d=0;d<5&&c<o;d++){var p=Vd.decodeDigit(e,s,c,Vd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var g=(a=void 0,_q(s)),m=g.next();!m.done;m=g.next()){var y=m.value;c+=y}}catch(_){a={error:_}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}p>=10&&(u|=1<<4-d),d!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new it;var w=this.determineCheckDigit(u);if(r.extensionChecksum(n.toString())!==w)throw new it;return c},r.extensionChecksum=function(e){for(var t=e.length,n=0,a=t-2;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;n*=3;for(var a=t-1;a>=0;a-=2)n+=e.charAt(a).charCodeAt(0)-48;return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new it},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[mi.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),a=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return t+a+"."+s},r}(),Eq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Aq=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var a=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,a),s=a.toString(),o=r.parseExtensionString(s),c=[new Ht((n[0]+n[1])/2,e),new Ht(i,e)],u=new Mi(s,null,0,c,Vt.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&u.putAllMetadata(o),u},r.prototype.decodeMiddle=function(e,t,n){var a,i,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var o=e.getSize(),c=t[1],u=0,d=0;d<2&&c<o;d++){var p=Vd.decodeDigit(e,s,c,Vd.L_AND_G_PATTERNS);n+=String.fromCharCode(48+p%10);try{for(var g=(a=void 0,Eq(s)),m=g.next();!m.done;m=g.next()){var y=m.value;c+=y}}catch(w){a={error:w}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}p>=10&&(u|=1<<1-d),d!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new it;if(parseInt(n.toString())%4!==u)throw new it;return c},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[mi.ISSUE_NUMBER,parseInt(e)]])},r}(),Nq=function(){function r(){}return r.decodeRow=function(e,t,n){var a=Vd.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var i=new Sq;return i.decodeRow(e,t,a)}catch(o){var s=new Aq;return s.decodeRow(e,t,a)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}(),Cq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),La=function(r){Cq(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var a=e.L_PATTERNS[n-10],i=new Int32Array(a.length),s=0;s<a.length;s++)i[s]=a[a.length-s-1];e.L_AND_G_PATTERNS[n]=i}return t}return e.prototype.decodeRow=function(t,n,a){var i=e.findStartGuardPattern(n),s=a==null?null:a.get(On.NEED_RESULT_POINT_CALLBACK);if(s!=null){var o=new Ht((i[0]+i[1])/2,t);s.foundPossibleResultPoint(o)}var c=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=c.rowOffset,d=c.resultString;if(s!=null){var p=new Ht(u,t);s.foundPossibleResultPoint(p)}var g=e.decodeEnd(n,u);if(s!=null){var m=new Ht((g[0]+g[1])/2,t);s.foundPossibleResultPoint(m)}var y=g[1],w=y+(y-g[0]);if(w>=n.getSize()||!n.isRange(y,w,!1))throw new it;var _=d.toString();if(_.length<8)throw new Ot;if(!e.checkChecksum(_))throw new Ka;var S=(i[1]+i[0])/2,A=(g[1]+g[0])/2,C=this.getBarcodeFormat(),L=[new Ht(S,t),new Ht(A,t)],B=new Mi(_,null,0,L,C,new Date().getTime()),M=0;try{var F=Nq.decodeRow(t,n,g[1]);B.putMetadata(mi.UPC_EAN_EXTENSION,F.getText()),B.putAllMetadata(F.getResultMetadata()),B.addResultPoints(F.getResultPoints()),M=F.getText().length}catch(I){}var D=a==null?null:a.get(On.ALLOWED_EAN_EXTENSIONS);if(D!=null){var O=!1;for(var q in D)if(M.toString()===q){O=!0;break}if(!O)throw new it}return C===Vt.EAN_13||Vt.UPC_A,B},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var a=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===a},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,a=0,i=n-1;i>=0;i-=2){var s=t.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new Ot;a+=s}a*=3;for(var i=n-2;i>=0;i-=2){var s=t.charAt(i).charCodeAt(0)-48;if(s<0||s>9)throw new Ot;a+=s}return(1e3-a)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Vd),Tq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),x6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sy=function(r){Tq(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=t.getSize(),p=n[1],g=0,m=0;m<6&&p<d;m++){var y=La.decodeDigit(t,u,p,La.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);try{for(var w=(i=void 0,x6(u)),_=w.next();!_.done;_=w.next()){var S=_.value;p+=S}}catch(B){i={error:B}}finally{try{_&&!_.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}y>=10&&(g|=1<<5-m)}a=e.determineFirstDigit(a,g);var A=La.findGuardPattern(t,p,!0,La.MIDDLE_PATTERN,new Int32Array(La.MIDDLE_PATTERN.length).fill(0));p=A[1];for(var m=0;m<6&&p<d;m++){var y=La.decodeDigit(t,u,p,La.L_PATTERNS);a+=String.fromCharCode(48+y);try{for(var C=(o=void 0,x6(u)),L=C.next();!L.done;L=C.next()){var S=L.value;p+=S}}catch(F){o={error:F}}finally{try{L&&!L.done&&(c=C.return)&&c.call(C)}finally{if(o)throw o.error}}}return{rowOffset:p,resultString:a}},e.prototype.getBarcodeFormat=function(){return Vt.EAN_13},e.determineFirstDigit=function(t,n){for(var a=0;a<10;a++)if(n===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new it},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(La),jq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y6=function(r){jq(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,a){var i,s,o,c,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=t.getSize(),p=n[1],g=0;g<4&&p<d;g++){var m=La.decodeDigit(t,u,p,La.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var y=(i=void 0,v6(u)),w=y.next();!w.done;w=y.next()){var _=w.value;p+=_}}catch(L){i={error:L}}finally{try{w&&!w.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}}var S=La.findGuardPattern(t,p,!0,La.MIDDLE_PATTERN,new Int32Array(La.MIDDLE_PATTERN.length).fill(0));p=S[1];for(var g=0;g<4&&p<d;g++){var m=La.decodeDigit(t,u,p,La.L_PATTERNS);a+=String.fromCharCode(48+m);try{for(var A=(o=void 0,v6(u)),C=A.next();!C.done;C=A.next()){var _=C.value;p+=_}}catch(M){o={error:M}}finally{try{C&&!C.done&&(c=A.return)&&c.call(A)}finally{if(o)throw o.error}}}return{rowOffset:p,resultString:a}},e.prototype.getBarcodeFormat=function(){return Vt.EAN_8},e}(La),Oq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),w6=function(r){Oq(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Sy,t}return e.prototype.getBarcodeFormat=function(){return Vt.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,a))},e.prototype.decodeMiddle=function(t,n,a){return this.ean13Reader.decodeMiddle(t,n,a)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var a=new Mi(n.substring(1),null,null,t.getResultPoints(),Vt.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new it},e.prototype.reset=function(){this.ean13Reader.reset()},e}(La),Rq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b6=function(r){Rq(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,a){var i,s,o=this.decodeMiddleCounters.map(function(_){return _});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var c=t.getSize(),u=n[1],d=0,p=0;p<6&&u<c;p++){var g=e.decodeDigit(t,o,u,e.L_AND_G_PATTERNS);a+=String.fromCharCode(48+g%10);try{for(var m=(i=void 0,kq(o)),y=m.next();!y.done;y=m.next()){var w=y.value;u+=w}}catch(_){i={error:_}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}g>=10&&(d|=1<<5-p)}return e.determineNumSysAndCheckDigit(new Sr(a),d),u},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return La.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var a=0;a<=1;a++)for(var i=0;i<10;i++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][i]){t.insert(0,"0"+a),t.append("0"+i);return}throw it.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Vt.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),a=new Sr;a.append(t.charAt(0));var i=n[5];switch(i){case 0:case 1:case 2:a.appendChars(n,0,2),a.append(i),a.append("0000"),a.appendChars(n,2,3);break;case 3:a.appendChars(n,0,3),a.append("00000"),a.appendChars(n,3,2);break;case 4:a.appendChars(n,0,4),a.append("00000"),a.append(n[4]);break;default:a.appendChars(n,0,5),a.append("0000"),a.append(i);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(La),Lq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nv=function(r){Lq(e,r);function e(t){var n=r.call(this)||this,a=t==null?null:t.get(On.POSSIBLE_FORMATS),i=[];return a!=null&&(a.indexOf(Vt.EAN_13)>-1&&i.push(new Sy),a.indexOf(Vt.UPC_A)>-1&&i.push(new w6),a.indexOf(Vt.EAN_8)>-1&&i.push(new y6),a.indexOf(Vt.UPC_E)>-1&&i.push(new b6)),i.length===0&&(i.push(new Sy),i.push(new w6),i.push(new y6),i.push(new b6)),n.readers=i,n}return e.prototype.decodeRow=function(t,n,a){var i,s;try{for(var o=_6(this.readers),c=o.next();!c.done;c=o.next()){var u=c.value;try{var d=u.decodeRow(t,n,a),p=d.getBarcodeFormat()===Vt.EAN_13&&d.getText().charAt(0)==="0",g=a==null?null:a.get(On.POSSIBLE_FORMATS),m=g==null||g.includes(Vt.UPC_A);if(p&&m){var y=d.getRawBytes(),w=new Mi(d.getText().substring(1),y,y?y.length:null,d.getResultPoints(),Vt.UPC_A);return w.putAllMetadata(d.getResultMetadata()),w}return d}catch(_){}}}catch(_){i={error:_}}finally{try{c&&!c.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}throw new it},e.prototype.reset=function(){var t,n;try{for(var a=_6(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;s.reset()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e}(Fa),Dq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iq=function(r){Dq(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,n,a){var i=this.getValidRowData(n);if(!i)throw new it;var s=this.codaBarDecodeRow(i.row);if(!s)throw new it;return new Mi(s,null,0,[new Ht(i.left,t),new Ht(i.right,t)],Vt.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var n=t.toArray(),a=n.indexOf(!0);if(a===-1)return null;var i=n.lastIndexOf(!0);if(i<=a)return null;n=n.slice(a,i+1);for(var s=[],o=n[0],c=1,u=1;u<n.length;u++)n[u]===o?c++:(o=n[u],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:a,right:i}},e.prototype.codaBarDecodeRow=function(t){for(var n=[],a=Math.ceil(t.reduce(function(c,u){return(c+u)/2},0));t.length>0;){var i=t.splice(0,8).splice(0,7),s=i.map(function(c){return c<a?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[s])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(t){var n=/^[A-D].{1,}[A-D]$/;return n.test(t)},e}(Fa),Pq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K0=function(r){Pq(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var a=0;a<n.length;a++)if(Fa.patternMatchVariance(t,n[a],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return a;throw new it},e.count=function(t){return Xr.sum(new Int32Array(t))},e.increment=function(t,n){for(var a=0,i=n[0],s=1;s<t.length;s++)n[s]>i&&(i=n[s],a=s);t[a]++},e.decrement=function(t,n){for(var a=0,i=n[0],s=1;s<t.length;s++)n[s]<i&&(i=n[s],a=s);t[a]--},e.isFinderPattern=function(t){var n,a,i=t[0]+t[1],s=i+t[2]+t[3],o=i/s;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=Fq(t),p=d.next();!p.done;p=d.next()){var g=p.value;g>u&&(u=g),g<c&&(c=g)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}return u<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Fa),Wm=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}(),YA=function(){function r(e,t,n,a,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Ht(n,i)),this.resultPoints.push(new Ht(a,i))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}(),Mq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kd=function(){function r(){}return r.getRSSvalue=function(e,t,n){var a,i,s=0;try{for(var o=Mq(e),c=o.next();!c.done;c=o.next()){var u=c.value;s+=u}}catch(A){a={error:A}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}for(var d=0,p=0,g=e.length,m=0;m<g-1;m++){var y=void 0;for(y=1,p|=1<<m;y<e[m];y++,p&=~(1<<m)){var w=r.combins(s-y-1,g-m-2);if(n&&p===0&&s-y-(g-m-1)>=g-m-1&&(w-=r.combins(s-y-(g-m),g-m-2)),g-m-1>1){for(var _=0,S=s-y-(g-m-2);S>t;S--)_+=r.combins(s-y-S-1,g-m-3);w-=_*(g-1-m)}else s-y>t&&w--;d+=w}s-=y}return d},r.combins=function(e,t){var n,a;e-t>t?(a=t,n=e-t):(a=e-t,n=t);for(var i=1,s=1,o=e;o>n;o--)i*=o,s<=a&&(i/=s,s++);for(;s<=a;)i/=s,s++;return i},r}(),Bq=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,a=new Qa(n),i=0,s=e[0],o=s.getRightChar().getValue(),c=11;c>=0;--c)(o&1<<c)!==0&&a.set(i),i++;for(var c=1;c<e.length;++c){for(var u=e[c],d=u.getLeftChar().getValue(),p=11;p>=0;--p)(d&1<<p)!==0&&a.set(i),i++;if(u.getRightChar()!==null)for(var g=u.getRightChar().getValue(),p=11;p>=0;--p)(g&1<<p)!==0&&a.set(i),i++}return a},r}(),V0=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}(),Rw=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}(),Uq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),el=function(r){Uq(e,r);function e(t,n){var a=r.call(this,t)||this;return a.value=n,a}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Rw),zq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G0=function(r){zq(e,r);function e(t,n,a){var i=r.call(this,t)||this;return a?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Rw),Hq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sd=function(r){Hq(e,r);function e(t,n,a){var i=r.call(this,t)||this;if(n<0||n>10||a<0||a>10)throw new Ot;return i.firstDigit=n,i.secondDigit=a,i}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Rw),am=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qq=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,a,i,s,o,c,u;if(!e)return null;if(e.length<2)throw new it;var d=e.substring(0,2);try{for(var p=am(r.TWO_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){var m=g.value;if(m[0]===d)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,m[2],e):r.processFixedAI(2,m[1],e)}}catch(M){t={error:M}}finally{try{g&&!g.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}if(e.length<3)throw new it;var y=e.substring(0,3);try{for(var w=am(r.THREE_DIGIT_DATA_LENGTH),_=w.next();!_.done;_=w.next()){var m=_.value;if(m[0]===y)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,m[2],e):r.processFixedAI(3,m[1],e)}}catch(M){a={error:M}}finally{try{_&&!_.done&&(i=w.return)&&i.call(w)}finally{if(a)throw a.error}}try{for(var S=am(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),A=S.next();!A.done;A=S.next()){var m=A.value;if(m[0]===y)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,m[2],e):r.processFixedAI(4,m[1],e)}}catch(M){s={error:M}}finally{try{A&&!A.done&&(o=S.return)&&o.call(S)}finally{if(s)throw s.error}}if(e.length<4)throw new it;var C=e.substring(0,4);try{for(var L=am(r.FOUR_DIGIT_DATA_LENGTH),B=L.next();!B.done;B=L.next()){var m=B.value;if(m[0]===C)return m[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,m[2],e):r.processFixedAI(4,m[1],e)}}catch(M){c={error:M}}finally{try{B&&!B.done&&(u=L.return)&&u.call(L)}finally{if(c)throw c.error}}throw new it},r.processFixedAI=function(e,t,n){if(n.length<e)throw new it;var a=n.substring(0,e);if(n.length<e+t)throw new it;var i=n.substring(e,e+t),s=n.substring(e+t),o="("+a+")"+i,c=r.parseFieldsInGeneralPurpose(s);return c==null?o:o+c},r.processVariableAI=function(e,t,n){var a=n.substring(0,e),i;n.length<e+t?i=n.length:i=e+t;var s=n.substring(e,i),o=n.substring(i),c="("+a+")"+s,u=r.parseFieldsInGeneralPurpose(o);return u==null?c:c+u},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}(),wm=function(){function r(e){this.buffer=new Sr,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,a=null;do{var i=this.decodeGeneralPurposeField(n,a),s=qq.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?a=""+i.getRemainingValue():a=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Sd(this.information.getSize(),Sd.FNC1,Sd.FNC1):new Sd(this.information.getSize(),t-1,Sd.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),a=(n-8)/11,i=(n-8)%11;return new Sd(e+7,a,i)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var a=0,i=0;i<n;++i)e.get(t+i)&&(a|=1<<n-i-1);return a},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new G0(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new G0(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var a=n!==this.current.getPosition();if(!a&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new G0(this.current.getPosition(),this.buffer.toString()):t=new G0(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new V0(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new G0(this.current.getPosition(),this.buffer.toString());return new V0(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new V0(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new G0(this.current.getPosition(),this.buffer.toString());return new V0(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new V0(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new G0(this.current.getPosition(),this.buffer.toString());return new V0(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new V0(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(e,8);return a>=232&&a<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new el(e+5,el.FNC1);if(t>=5&&t<15)return new el(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new el(e+7,""+(n+1));if(n>=90&&n<116)return new el(e+7,""+(n+7));var a=this.extractNumericValueFromBitArray(e,8),i;switch(a){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new Ot}return new el(e+8,i)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new el(e+5,el.FNC1);if(t>=5&&t<15)return new el(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new el(e+6,""+(n+33));var a;switch(n){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new ap("Decoding invalid alphanumeric value: "+n)}return new el(e+6,a)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}(),KA=function(){function r(e){this.information=e,this.generalDecoder=new wm(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}(),$q=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sl=function(r){$q(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,a)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,a){for(var i=0;i<4;++i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,a)},e.appendCheckDigit=function(t,n){for(var a=0,i=0;i<13;i++){var s=t.charAt(i+n).charCodeAt(0)-48;a+=(i&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),t.append(a)},e.GTIN_SIZE=40,e}(KA),Vq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gq=function(r){Vq(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Sr;t.append("(01)");var n=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(sl),Wq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xq=function(r){Wq(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Sr;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(KA),Yq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bm=function(r){Yq(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,a){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,a);this.addWeightCode(t,i);for(var s=this.checkWeight(i),o=1e5,c=0;c<5;++c)s/o===0&&t.append("0"),o/=10;t.append(s)},e}(sl),Kq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZA=function(r){Kq(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+bm.GTIN_SIZE+e.WEIGHT_SIZE)throw new it;var t=new Sr;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+bm.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(bm),Zq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jq=function(r){Zq(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(ZA),Qq=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e$=function(r){Qq(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(ZA),t$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),r$=function(r){t$(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+sl.GTIN_SIZE)throw new it;var t=new Sr;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+sl.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+sl.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(sl),n$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a$=function(r){n$(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+sl.GTIN_SIZE)throw new it;var t=new Sr;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+sl.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var a=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+sl.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+sl.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(sl),i$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mu=function(r){i$(e,r);function e(t,n,a){var i=r.call(this,t)||this;return i.dateCode=a,i.firstAIdigits=n,i}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new it;var t=new Sr;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(a!==38400){t.append("("),t.append(this.dateCode),t.append(")");var i=a%32;a/=32;var s=a%12+1;a/=12;var o=a;o/10===0&&t.append("0"),t.append(o),s/10===0&&t.append("0"),t.append(s),i/10===0&&t.append("0"),t.append(i)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(bm);function s$(r){try{if(r.get(1))return new Gq(r);if(!r.get(2))return new Xq(r);var e=wm.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new Jq(r);case 5:return new e$(r)}var t=wm.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new r$(r);case 13:return new a$(r)}var n=wm.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new Mu(r,"310","11");case 57:return new Mu(r,"320","11");case 58:return new Mu(r,"310","13");case 59:return new Mu(r,"320","13");case 60:return new Mu(r,"310","15");case 61:return new Mu(r,"320","15");case 62:return new Mu(r,"310","17");case 63:return new Mu(r,"320","17")}}catch(a){throw console.log(a),new ap("unknown decoder: "+r)}}var S6=function(){function r(e,t,n,a){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=a}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}(),o$=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(a,i){t.forEach(function(s){a.getLeftChar().getValue()===s.getLeftChar().getValue()&&a.getRightChar().getValue()===s.getRightChar().getValue()&&a.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}},r}(),l$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bu=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c$=function(r){l$(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,a){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch(i){}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var a=!1;!a;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(o){if(o instanceof it){if(!this.pairs.length)throw new it;a=!0}}if(this.checkChecksum())return this.pairs;var i;if(this.rows.length?i=!0:i=!1,this.storeRow(t,!1),i){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new it},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(a){console.log(a)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var a,i,s=n;s<this.rows.length;s++){var o=this.rows[s];this.pairs.length=0;try{for(var c=(a=void 0,Bu(t)),u=c.next();!u.done;u=c.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(g){a={error:g}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(t);p.push(o);try{return this.checkRows(p,s+1)}catch(g){console.log(g)}}}throw new it},e.isValidSequence=function(t){var n,a;try{for(var i=Bu(e.FINDER_PATTERN_SEQUENCES),s=i.next();!s.done;s=i.next()){var o=s.value;if(!(t.length>o.length)){for(var c=!0,u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!==o[u]){c=!1;break}if(c)return!0}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var a=0,i=!1,s=!1;a<this.rows.length;){var o=this.rows[a];if(o.getRowNumber()>t){s=o.isEquivalent(this.pairs);break}i=o.isEquivalent(this.pairs),a++}s||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new o$(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var a,i,s,o,c,u;try{for(var d=Bu(n),p=d.next();!p.done;p=d.next()){var g=p.value;if(g.getPairs().length!==t.length){var m=!0;try{for(var y=(s=void 0,Bu(g.getPairs())),w=y.next();!w.done;w=y.next()){var _=w.value,S=!1;try{for(var A=(c=void 0,Bu(t)),C=A.next();!C.done;C=A.next()){var L=C.value;if(S6.equals(_,L)){S=!0;break}}}catch(B){c={error:B}}finally{try{C&&!C.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}S||(m=!1)}}catch(B){s={error:B}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}}}}catch(B){a={error:B}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}},e.isPartialRow=function(t,n){var a,i,s,o,c,u;try{for(var d=Bu(n),p=d.next();!p.done;p=d.next()){var g=p.value,m=!0;try{for(var y=(s=void 0,Bu(t)),w=y.next();!w.done;w=y.next()){var _=w.value,S=!1;try{for(var A=(c=void 0,Bu(g.getPairs())),C=A.next();!C.done;C=A.next()){var L=C.value;if(_.equals(L)){S=!0;break}}}catch(B){c={error:B}}finally{try{C&&!C.done&&(u=A.return)&&u.call(A)}finally{if(c)throw c.error}}if(!S){m=!1;break}}}catch(B){s={error:B}}finally{try{w&&!w.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}if(m)return!0}}catch(B){a={error:B}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=Bq.buildBitArray(t),a=s$(n),i=a.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),o=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],o[0],o[1]];return new Mi(i,null,null,c,Vt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),a=t.getRightChar();if(a===null)return!1;for(var i=a.getChecksumPortion(),s=2,o=1;o<this.pairs.size();++o){var c=this.pairs.get(o);i+=c.getLeftChar().getChecksumPortion(),s++;var u=c.getRightChar();u!=null&&(i+=u.getChecksumPortion(),s++)}i%=211;var d=211*(s-4)+i;return d===n.getValue()},e.getNextSecondBar=function(t,n){var a;return t.get(n)?(a=t.getNextUnset(n),a=t.getNextSet(a)):(a=t.getNextSet(n),a=t.getNextUnset(a)),a},e.prototype.retrieveNextPair=function(t,n,a){var i=n.length%2===0;this.startFromEven&&(i=!i);var s,o=!0,c=-1;do this.findNextPair(t,n,c),s=this.parseFoundFinderPattern(t,a,i),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):o=!1;while(o);var u=this.decodeDataCharacter(t,s,i,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new it;var d;try{d=this.decodeDataCharacter(t,s,i,!1)}catch(p){d=null,console.log(p)}return new S6(u,d,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,a){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var s=t.getSize(),o;if(a>=0)o=a;else if(this.isEmptyPair(n))o=0;else{var c=n[n.length-1];o=c.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;o<s&&(d=!t.get(o),!!d);)o++;for(var p=0,g=o,m=o;m<s;m++)if(t.get(m)!==d)i[p]++;else{if(p===3){if(u&&e.reverseCounters(i),e.isFinderPattern(i)){this.startEnd[0]=g,this.startEnd[1]=m;return}u&&e.reverseCounters(i),g+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,p--}else p++;i[p]=1,d=!d}throw new it},e.reverseCounters=function(t){for(var n=t.length,a=0;a<n/2;++a){var i=t[a];t[a]=t[n-a-1],t[n-a-1]=i}},e.prototype.parseFoundFinderPattern=function(t,n,a){var i,s,o;if(a){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,i=this.startEnd[0]-c,s=c,o=this.startEnd[1]}else s=this.startEnd[0],o=t.getNextUnset(this.startEnd[1]+1),i=o-this.startEnd[1];var u=this.getDecodeFinderCounters();jn.arraycopy(u,0,u,1,u.length-1),u[0]=i;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch(p){return null}return new YA(d,[s,o],s,o,n)},e.prototype.decodeDataCharacter=function(t,n,a,i){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(i)e.recordPatternInReverse(t,n.getStartEnd()[0],s);else{e.recordPattern(t,n.getStartEnd()[1],s);for(var c=0,u=s.length-1;c<u;c++,u--){var d=s[c];s[c]=s[u],s[u]=d}}var p=17,g=Xr.sum(new Int32Array(s))/p,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-m)/m>.3)throw new it;for(var y=this.getOddCounts(),w=this.getEvenCounts(),_=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var A=1*s[c]/g,C=A+.5;if(C<1){if(A<.3)throw new it;C=1}else if(C>8){if(A>8.7)throw new it;C=8}var L=c/2;(c&1)===0?(y[L]=C,_[L]=A-C):(w[L]=C,S[L]=A-C)}this.adjustOddEvenCounts(p);for(var B=4*n.getValue()+(a?0:2)+(i?0:1)-1,M=0,F=0,c=y.length-1;c>=0;c--){if(e.isNotA1left(n,a,i)){var D=e.WEIGHTS[B][2*c];F+=y[c]*D}M+=y[c]}for(var O=0,c=w.length-1;c>=0;c--)if(e.isNotA1left(n,a,i)){var D=e.WEIGHTS[B][2*c+1];O+=w[c]*D}var q=F+O;if((M&1)!==0||M>13||M<4)throw new it;var I=(13-M)/2,U=e.SYMBOL_WIDEST[I],X=9-U,ae=kd.getRSSvalue(y,U,!0),Se=kd.getRSSvalue(w,X,!1),Q=e.EVEN_TOTAL_SUBSET[I],ce=e.GSUM[I],we=ae*Q+Se+ce;return new Wm(we,q)},e.isNotA1left=function(t,n,a){return!(t.getValue()===0&&n&&a)},e.prototype.adjustOddEvenCounts=function(t){var n=Xr.sum(new Int32Array(this.getOddCounts())),a=Xr.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1;n>13?s=!0:n<4&&(i=!0);var o=!1,c=!1;a>13?c=!0:a<4&&(o=!0);var u=n+a-t,d=(n&1)===1,p=(a&1)===0;if(u===1)if(d){if(p)throw new it;s=!0}else{if(!p)throw new it;c=!0}else if(u===-1)if(d){if(p)throw new it;i=!0}else{if(!p)throw new it;o=!0}else if(u===0){if(d){if(!p)throw new it;n<a?(i=!0,c=!0):(s=!0,o=!0)}else if(p)throw new it}else throw new it;if(i){if(s)throw new it;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(c)throw new it;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(K0),u$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),f$=function(r){u$(e,r);function e(t,n,a){var i=r.call(this,t,n)||this;return i.count=0,i.finderPattern=a,i}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Wm),d$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E6=function(r){d$(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,a){var i,s,o,c,u=this.decodePair(n,!1,t,a);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,t,a);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var p=Cv(this.possibleLeftPairs),g=p.next();!g.done;g=p.next()){var m=g.value;if(m.getCount()>1)try{for(var y=(o=void 0,Cv(this.possibleRightPairs)),w=y.next();!w.done;w=y.next()){var _=w.value;if(_.getCount()>1&&e.checkChecksum(m,_))return e.constructResult(m,_)}}catch(S){o={error:S}}finally{try{w&&!w.done&&(c=y.return)&&c.call(y)}finally{if(o)throw o.error}}}}catch(S){i={error:S}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}throw new it},e.addOrTally=function(t,n){var a,i;if(n!=null){var s=!1;try{for(var o=Cv(t),c=o.next();!c.done;c=o.next()){var u=c.value;if(u.getValue()===n.getValue()){u.incrementCount(),s=!0;break}}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}s||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var a=4537077*t.getValue()+n.getValue(),i=new String(a).toString(),s=new Sr,o=13-i.length;o>0;o--)s.append("0");s.append(i);for(var c=0,o=0;o<13;o++){var u=s.charAt(o).charCodeAt(0)-48;c+=(o&1)===0?3*u:u}c=10-c%10,c===10&&(c=0),s.append(c.toString());var d=t.getFinderPattern().getResultPoints(),p=n.getFinderPattern().getResultPoints();return new Mi(s.toString(),null,0,[d[0],d[1],p[0],p[1]],Vt.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var a=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,i=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,a===i},e.prototype.decodePair=function(t,n,a,i){try{var s=this.findFinderPattern(t,n),o=this.parseFoundFinderPattern(t,a,n,s),c=i==null?null:i.get(On.NEED_RESULT_POINT_CALLBACK);if(c!=null){var u=(s[0]+s[1])/2;n&&(u=t.getSize()-1-u),c.foundPossibleResultPoint(new Ht(u,a))}var d=this.decodeDataCharacter(t,o,!0),p=this.decodeDataCharacter(t,o,!1);return new f$(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),o)}catch(g){return null}},e.prototype.decodeDataCharacter=function(t,n,a){for(var i=this.getDataCharacterCounters(),s=0;s<i.length;s++)i[s]=0;if(a)Fa.recordPatternInReverse(t,n.getStartEnd()[0],i);else{Fa.recordPattern(t,n.getStartEnd()[1]+1,i);for(var o=0,c=i.length-1;o<c;o++,c--){var u=i[o];i[o]=i[c],i[c]=u}}for(var d=a?16:15,p=Xr.sum(new Int32Array(i))/d,g=this.getOddCounts(),m=this.getEvenCounts(),y=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),o=0;o<i.length;o++){var _=i[o]/p,S=Math.floor(_+.5);S<1?S=1:S>8&&(S=8);var A=Math.floor(o/2);(o&1)===0?(g[A]=S,y[A]=_-S):(m[A]=S,w[A]=_-S)}this.adjustOddEvenCounts(a,d);for(var C=0,L=0,o=g.length-1;o>=0;o--)L*=9,L+=g[o],C+=g[o];for(var B=0,M=0,o=m.length-1;o>=0;o--)B*=9,B+=m[o],M+=m[o];var F=L+3*B;if(a){if((C&1)!==0||C>12||C<4)throw new it;var D=(12-C)/2,O=e.OUTSIDE_ODD_WIDEST[D],q=9-O,I=kd.getRSSvalue(g,O,!1),U=kd.getRSSvalue(m,q,!0),X=e.OUTSIDE_EVEN_TOTAL_SUBSET[D],ae=e.OUTSIDE_GSUM[D];return new Wm(I*X+U+ae,F)}else{if((M&1)!==0||M>10||M<4)throw new it;var D=(10-M)/2,O=e.INSIDE_ODD_WIDEST[D],q=9-O,I=kd.getRSSvalue(g,O,!0),U=kd.getRSSvalue(m,q,!1),Se=e.INSIDE_ODD_TOTAL_SUBSET[D],ae=e.INSIDE_GSUM[D];return new Wm(U*Se+I+ae,F)}},e.prototype.findFinderPattern=function(t,n){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var i=t.getSize(),s=!1,o=0;o<i&&(s=!t.get(o),n!==s);)o++;for(var c=0,u=o,d=o;d<i;d++)if(t.get(d)!==s)a[c]++;else{if(c===3){if(K0.isFinderPattern(a))return[u,d];u+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new it},e.prototype.parseFoundFinderPattern=function(t,n,a,i){for(var s=t.get(i[0]),o=i[0]-1;o>=0&&s!==t.get(o);)o--;o++;var c=i[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);jn.arraycopy(u,0,d,1,u.length-1),d[0]=c;var p=this.parseFinderValue(d,e.FINDER_PATTERNS),g=o,m=i[1];return a&&(g=t.getSize()-1-g,m=t.getSize()-1-m),new YA(p,[o,i[1]],g,m,n)},e.prototype.adjustOddEvenCounts=function(t,n){var a=Xr.sum(new Int32Array(this.getOddCounts())),i=Xr.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1,c=!1,u=!1;t?(a>12?o=!0:a<4&&(s=!0),i>12?u=!0:i<4&&(c=!0)):(a>11?o=!0:a<5&&(s=!0),i>10?u=!0:i<4&&(c=!0));var d=a+i-n,p=(a&1)===(t?1:0),g=(i&1)===1;if(d===1)if(p){if(g)throw new it;o=!0}else{if(!g)throw new it;u=!0}else if(d===-1)if(p){if(g)throw new it;s=!0}else{if(!g)throw new it;c=!0}else if(d===0){if(p){if(!g)throw new it;a<i?(s=!0,u=!0):(o=!0,c=!0)}else if(g)throw new it}else throw new it;if(s){if(o)throw new it;K0.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&K0.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new it;K0.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&K0.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(K0),h$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),v1=function(r){h$(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var a=t?t.get(On.POSSIBLE_FORMATS):null,i=t&&t.get(On.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(On.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return a&&((a.includes(Vt.EAN_13)||a.includes(Vt.UPC_A)||a.includes(Vt.EAN_8)||a.includes(Vt.UPC_E))&&n.readers.push(new Nv(t)),a.includes(Vt.CODE_39)&&n.readers.push(new p6(i,s)),a.includes(Vt.CODE_93)&&n.readers.push(new g6),a.includes(Vt.CODE_128)&&n.readers.push(new h6),a.includes(Vt.ITF)&&n.readers.push(new m6),a.includes(Vt.CODABAR)&&n.readers.push(new Iq),a.includes(Vt.RSS_14)&&n.readers.push(new E6),a.includes(Vt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new c$))),n.readers.length===0&&(n.readers.push(new Nv(t)),n.readers.push(new p6),n.readers.push(new g6),n.readers.push(new Nv(t)),n.readers.push(new h6),n.readers.push(new m6),n.readers.push(new E6)),n}return e.prototype.decodeRow=function(t,n,a){for(var i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(t,n,a)}catch(s){}throw new it},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Fa),p$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){p$(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new v1(n),t,n)||this}return e})(oh);var A6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rn=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),Kr=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),g$=function(){function r(e,t,n,a,i,s){var o,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=i,this.ecBlocks=s;var u=0,d=s.getECCodewords(),p=s.getECBlocks();try{for(var g=A6(p),m=g.next();!m.done;m=g.next()){var y=m.value;u+=y.getCount()*(y.getDataCodewords()+d)}}catch(w){o={error:w}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(o)throw o.error}}this.totalCodewords=u}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,a;if((e&1)!==0||(t&1)!==0)throw new Ot;try{for(var i=A6(r.VERSIONS),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===t)return o}}catch(c){n={error:c}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}throw new Ot},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new rn(5,new Kr(1,3))),new r(2,12,12,10,10,new rn(7,new Kr(1,5))),new r(3,14,14,12,12,new rn(10,new Kr(1,8))),new r(4,16,16,14,14,new rn(12,new Kr(1,12))),new r(5,18,18,16,16,new rn(14,new Kr(1,18))),new r(6,20,20,18,18,new rn(18,new Kr(1,22))),new r(7,22,22,20,20,new rn(20,new Kr(1,30))),new r(8,24,24,22,22,new rn(24,new Kr(1,36))),new r(9,26,26,24,24,new rn(28,new Kr(1,44))),new r(10,32,32,14,14,new rn(36,new Kr(1,62))),new r(11,36,36,16,16,new rn(42,new Kr(1,86))),new r(12,40,40,18,18,new rn(48,new Kr(1,114))),new r(13,44,44,20,20,new rn(56,new Kr(1,144))),new r(14,48,48,22,22,new rn(68,new Kr(1,174))),new r(15,52,52,24,24,new rn(42,new Kr(2,102))),new r(16,64,64,14,14,new rn(56,new Kr(2,140))),new r(17,72,72,16,16,new rn(36,new Kr(4,92))),new r(18,80,80,18,18,new rn(48,new Kr(4,114))),new r(19,88,88,20,20,new rn(56,new Kr(4,144))),new r(20,96,96,22,22,new rn(68,new Kr(4,174))),new r(21,104,104,24,24,new rn(56,new Kr(6,136))),new r(22,120,120,18,18,new rn(68,new Kr(6,175))),new r(23,132,132,20,20,new rn(62,new Kr(8,163))),new r(24,144,144,22,22,new rn(62,new Kr(8,156),new Kr(2,155))),new r(25,8,18,6,16,new rn(7,new Kr(1,5))),new r(26,8,32,6,14,new rn(11,new Kr(1,10))),new r(27,12,26,10,24,new rn(14,new Kr(1,16))),new r(28,12,36,10,16,new rn(18,new Kr(1,22))),new r(29,16,36,14,16,new rn(24,new Kr(1,32))),new r(30,16,48,14,22,new rn(28,new Kr(1,49)))]},r.VERSIONS=r.buildVersions(),r}(),m$=function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new Ot;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ec(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return g$.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,a=0,i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),o=!1,c=!1,u=!1,d=!1;do if(n===i&&a===0&&!o)e[t++]=this.readCorner1(i,s)&255,n-=2,a+=2,o=!0;else if(n===i-2&&a===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(i,s)&255,n-=2,a+=2,c=!0;else if(n===i+4&&a===2&&(s&7)===0&&!u)e[t++]=this.readCorner3(i,s)&255,n-=2,a+=2,u=!0;else if(n===i-2&&a===0&&(s&7)===4&&!d)e[t++]=this.readCorner4(i,s)&255,n-=2,a+=2,d=!0;else{do n<i&&a>=0&&!this.readMappingMatrix.get(a,n)&&(e[t++]=this.readUtah(n,a,i,s)&255),n-=2,a+=2;while(n>=0&&a<s);n+=1,a+=3;do n>=0&&a<s&&!this.readMappingMatrix.get(a,n)&&(e[t++]=this.readUtah(n,a,i,s)&255),n+=2,a-=2;while(n<i&&a>=0);n+=3,a+=1}while(n<i||a<s);if(t!==this.version.getTotalCodewords())throw new Ot;return e},r.prototype.readModule=function(e,t,n,a){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=a,e+=4-(a+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,a){var i=0;return this.readModule(e-2,t-2,n,a)&&(i|=1),i<<=1,this.readModule(e-2,t-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,t-2,n,a)&&(i|=1),i<<=1,this.readModule(e-1,t-1,n,a)&&(i|=1),i<<=1,this.readModule(e-1,t,n,a)&&(i|=1),i<<=1,this.readModule(e,t-2,n,a)&&(i|=1),i<<=1,this.readModule(e,t-1,n,a)&&(i|=1),i<<=1,this.readModule(e,t,n,a)&&(i|=1),i},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Kt("Dimension of bitMatrix must match the version size");for(var a=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=t/a|0,o=n/i|0,c=s*a,u=o*i,d=new ec(u,c),p=0;p<s;++p)for(var g=p*a,m=0;m<o;++m)for(var y=m*i,w=0;w<a;++w)for(var _=p*(a+2)+1+w,S=g+w,A=0;A<i;++A){var C=m*(i+2)+1+A;if(e.get(C,_)){var L=y+A;d.set(L,S)}}return d},r}(),N6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x$=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,a,i,s,o=t.getECBlocks(),c=0,u=o.getECBlocks();try{for(var d=N6(u),p=d.next();!p.done;p=d.next()){var g=p.value;c+=g.getCount()}}catch(ae){n={error:ae}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}var m=new Array(c),y=0;try{for(var w=N6(u),_=w.next();!_.done;_=w.next())for(var g=_.value,S=0;S<g.getCount();S++){var A=g.getDataCodewords(),C=o.getECCodewords()+A;m[y++]=new r(A,new Uint8Array(C))}}catch(ae){i={error:ae}}finally{try{_&&!_.done&&(s=w.return)&&s.call(w)}finally{if(i)throw i.error}}for(var L=m[0].codewords.length,B=L-o.getECCodewords(),M=B-1,F=0,S=0;S<M;S++)for(var D=0;D<y;D++)m[D].codewords[S]=e[F++];for(var O=t.getVersionNumber()===24,q=O?8:y,D=0;D<q;D++)m[D].codewords[B-1]=e[F++];for(var I=m[0].codewords.length,S=B;S<I;S++)for(var D=0;D<y;D++){var U=O?(D+8)%y:D,X=O&&U>7?S-1:S;m[U].codewords[X]=e[F++]}if(F!==e.length)throw new Kt;return m},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),JA=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Kt(""+e);var t=0,n=this.bitOffset,a=this.byteOffset,i=this.bytes;if(n>0){var s=8-n,o=e<s?e:s,c=s-o,u=255>>8-o<<c;t=(i[a]&u)>>c,e-=o,n+=o,n===8&&(n=0,a++)}if(e>0){for(;e>=8;)t=t<<8|i[a]&255,a++,e-=8;if(e>0){var c=8-e,u=255>>c<<c;t=t<<e|(i[a]&u)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=a,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}(),Oa;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(Oa||(Oa={}));var v$=function(){function r(){}return r.decode=function(e){var t=new JA(e),n=new Sr,a=new Sr,i=new Array,s=Oa.ASCII_ENCODE;do if(s===Oa.ASCII_ENCODE)s=this.decodeAsciiSegment(t,n,a);else{switch(s){case Oa.C40_ENCODE:this.decodeC40Segment(t,n);break;case Oa.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case Oa.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case Oa.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case Oa.BASE256_ENCODE:this.decodeBase256Segment(t,n,i);break;default:throw new Ot}s=Oa.ASCII_ENCODE}while(s!==Oa.PAD_ENCODE&&t.available()>0);return a.length()>0&&n.append(a.toString()),new C2(e,n.toString(),i.length===0?null:i,null)},r.decodeAsciiSegment=function(e,t,n){var a=!1;do{var i=e.readBits(8);if(i===0)throw new Ot;if(i<=128)return a&&(i+=128),t.append(String.fromCharCode(i-1)),Oa.ASCII_ENCODE;if(i===129)return Oa.PAD_ENCODE;if(i<=229){var s=i-130;s<10&&t.append("0"),t.append(""+s)}else switch(i){case 230:return Oa.C40_ENCODE;case 231:return Oa.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return Oa.ANSIX12_ENCODE;case 239:return Oa.TEXT_ENCODE;case 240:return Oa.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new Ot;break}}while(e.available()>0);return Oa.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[c];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else throw new Ot;break;case 1:n?(t.append(String.fromCharCode(c+128)),n=!1):t.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[c];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(c){case 27:t.append("");break;case 30:n=!0;break;default:throw new Ot}i=0;break;case 3:n?(t.append(String.fromCharCode(c+224)),n=!1):t.append(String.fromCharCode(c+96)),i=0;break;default:throw new Ot}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,a=[],i=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),a);for(var o=0;o<3;o++){var c=a[o];switch(i){case 0:if(c<3)i=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[c];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else throw new Ot;break;case 1:n?(t.append(String.fromCharCode(c+128)),n=!1):t.append(String.fromCharCode(c)),i=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[c];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(c){case 27:t.append("");break;case 30:n=!0;break;default:throw new Ot}i=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[c];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u),i=0}else throw new Ot;break;default:throw new Ot}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),n);for(var i=0;i<3;i++){var s=n[i];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new Ot;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var a=(e<<8)+t-1,i=Math.floor(a/1600);n[0]=i,a-=i*1600,i=Math.floor(a/40),n[1]=i,n[2]=a-i*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var a=e.readBits(6);if(a===31){var i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(a&32)===0&&(a|=64),t.append(String.fromCharCode(a))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var a=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),a++),s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),a++),s<0)throw new Ot;for(var o=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new Ot;o[c]=this.unrandomize255State(e.readBits(8),a++)}n.push(o);try{t.append(_o.decode(o,Mr.ISO88591))}catch(u){throw new ap("Platform does not support required encoding: "+u.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,a=e-n;return a>=0?a:a+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],r}(),y$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w$=function(){function r(){this.rsDecoder=new T2(ys.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,a=new m$(e),i=a.getVersion(),s=a.readCodewords(),o=x$.getDataBlocks(s,i),c=0;try{for(var u=y$(o),d=u.next();!d.done;d=u.next()){var p=d.value;c+=p.getNumDataCodewords()}}catch(C){t={error:C}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}for(var g=new Uint8Array(c),m=o.length,y=0;y<m;y++){var w=o[y],_=w.getCodewords(),S=w.getNumDataCodewords();this.correctErrors(_,S);for(var A=0;A<S;A++)g[A*m+y]=_[A]}return v$.decode(g)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(i){throw new Ka}for(var a=0;a<t;a++)e[a]=n[a]},r}(),b$=function(){function r(e){this.image=e,this.rectangleDetector=new by(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new it;t=this.shiftToModuleCenter(t);var n=t[0],a=t[1],i=t[2],s=t[3],o=this.transitionsBetween(n,s)+1,c=this.transitionsBetween(i,s)+1;(o&1)===1&&(o+=1),(c&1)===1&&(c+=1),4*o<7*c&&4*c<7*o&&(o=c=Math.max(o,c));var u=r.sampleGrid(this.image,n,a,i,s,o,c);return new jw(u,[n,a,i,s])},r.shiftPoint=function(e,t,n){var a=(t.getX()-e.getX())/(n+1),i=(t.getY()-e.getY())/(n+1);return new Ht(e.getX()+a,e.getY()+i)},r.moveAway=function(e,t,n){var a=e.getX(),i=e.getY();return a<t?a-=1:a+=1,i<n?i-=1:i+=1,new Ht(a,i)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],a=e[3],i=e[2],s=this.transitionsBetween(t,n),o=this.transitionsBetween(n,a),c=this.transitionsBetween(a,i),u=this.transitionsBetween(i,t),d=s,p=[i,t,n,a];return d>o&&(d=o,p[0]=t,p[1]=n,p[2]=a,p[3]=i),d>c&&(d=c,p[0]=n,p[1]=a,p[2]=i,p[3]=t),d>u&&(p[0]=a,p[1]=i,p[2]=t,p[3]=n),p},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(t,i),o=r.shiftPoint(n,a,(s+1)*4),c=r.shiftPoint(a,n,(s+1)*4),u=this.transitionsBetween(o,t),d=this.transitionsBetween(c,i);return u<d?(e[0]=t,e[1]=n,e[2]=a,e[3]=i):(e[0]=n,e[1]=a,e[2]=i,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(t,i),o=this.transitionsBetween(n,i),c=r.shiftPoint(t,n,(o+1)*4),u=r.shiftPoint(a,n,(s+1)*4);s=this.transitionsBetween(c,i),o=this.transitionsBetween(u,i);var d=new Ht(i.getX()+(a.getX()-n.getX())/(s+1),i.getY()+(a.getY()-n.getY())/(s+1)),p=new Ht(i.getX()+(t.getX()-n.getX())/(o+1),i.getY()+(t.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(p)?p:null;if(!this.isValid(p))return d;var g=this.transitionsBetween(c,d)+this.transitionsBetween(u,d),m=this.transitionsBetween(c,p)+this.transitionsBetween(u,p);return g>m?d:p},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],a=e[2],i=e[3],s=this.transitionsBetween(t,i)+1,o=this.transitionsBetween(a,i)+1,c=r.shiftPoint(t,n,o*4),u=r.shiftPoint(a,n,s*4);s=this.transitionsBetween(c,i)+1,o=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(o&1)===1&&(o+=1);var d=(t.getX()+n.getX()+a.getX()+i.getX())/4,p=(t.getY()+n.getY()+a.getY()+i.getY())/4;t=r.moveAway(t,d,p),n=r.moveAway(n,d,p),a=r.moveAway(a,d,p),i=r.moveAway(i,d,p);var g,m;return c=r.shiftPoint(t,n,o*4),c=r.shiftPoint(c,i,s*4),g=r.shiftPoint(n,t,o*4),g=r.shiftPoint(g,a,s*4),u=r.shiftPoint(a,i,o*4),u=r.shiftPoint(u,n,s*4),m=r.shiftPoint(i,a,o*4),m=r.shiftPoint(m,t,s*4),[c,g,u,m]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,a,i,s,o){var c=Ow.getInstance();return c.sampleGrid(e,s,o,.5,.5,s-.5,.5,s-.5,o-.5,.5,o-.5,t.getX(),t.getY(),i.getX(),i.getY(),a.getX(),a.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),a=Math.trunc(e.getY()),i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),o=Math.abs(s-a)>Math.abs(i-n);if(o){var c=n;n=a,a=c,c=i,i=s,s=c}for(var u=Math.abs(i-n),d=Math.abs(s-a),p=-u/2,g=a<s?1:-1,m=n<i?1:-1,y=0,w=this.image.get(o?a:n,o?n:a),_=n,S=a;_!==i;_+=m){var A=this.image.get(o?S:_,o?_:S);if(A!==w&&(y++,w=A),p+=d,p>0){if(S===s)break;S+=g,p-=u}}return y},r}(),Ey=function(){function r(){this.decoder=new w$}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,a;if(t!=null&&t.has(On.PURE_BARCODE)){var i=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(i),a=r.NO_POINTS}else{var s=new b$(e.getBlackMatrix()).detect();n=this.decoder.decode(s.getBits()),a=s.getPoints()}var o=n.getRawBytes(),c=new Mi(n.getText(),o,8*o.length,a,Vt.DATA_MATRIX,jn.currentTimeMillis()),u=n.getByteSegments();u!=null&&c.putMetadata(mi.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&c.putMetadata(mi.ERROR_CORRECTION_LEVEL,d),c},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new it;var a=this.moduleSize(t,e),i=t[1],s=n[1],o=t[0],c=n[0],u=(c-o+1)/a,d=(s-i+1)/a;if(u<=0||d<=0)throw new it;var p=a/2;i+=p,o+=p;for(var g=new ec(u,d),m=0;m<d;m++)for(var y=i+m*a,w=0;w<u;w++)e.get(o+w*a,y)&&g.set(w,m);return g},r.moduleSize=function(e,t){for(var n=t.getWidth(),a=e[0],i=e[1];a<n&&t.get(a,i);)a++;if(a===n)throw new it;var s=a-e[0];if(s===0)throw new it;return s},r.NO_POINTS=[],r}(),_$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){_$(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ey,t)||this}return e})(oh);var Ld;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(Ld||(Ld={}));var S$=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new rl(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Kt;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(Ld.L,"L",1),r.M=new r(Ld.M,"M",0),r.Q=new r(Ld.Q,"Q",3),r.H=new r(Ld.H,"H",2),r}(),E$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QA=function(){function r(e){this.errorCorrectionLevel=S$.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Nr.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,a,i=Number.MAX_SAFE_INTEGER,s=0;try{for(var o=E$(r.FORMAT_INFO_DECODE_LOOKUP),c=o.next();!c.done;c=o.next()){var u=c.value,d=u[0];if(d===e||d===t)return new r(u[1]);var p=r.numBitsDiffering(e,d);p<i&&(s=u[1],i=p),e!==t&&(p=r.numBitsDiffering(t,d),p<i&&(s=u[1],i=p))}}catch(g){n={error:g}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i<=3?new r(s):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}(),A$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,a=this.ecBlocks;try{for(var i=A$(a),s=i.next();!s.done;s=i.next()){var o=s.value;n+=o.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}(),ge=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}(),N$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sf=function(){function r(e,t){for(var n,a,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=i;var o=0,c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var d=N$(u),p=d.next();!p.done;p=d.next()){var g=p.value;o+=g.getCount()*(g.getDataCodewords()+c)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Ot;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new Ot}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new Kt;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,a=0;a<r.VERSION_DECODE_INFO.length;a++){var i=r.VERSION_DECODE_INFO[a];if(i===e)return r.getVersionForNumber(a+7);var s=QA.numBitsDiffering(e,i);s<t&&(n=a+7,t=s)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new ec(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,a=0;a<n;a++)for(var i=this.alignmentPatternCenters[a]-2,s=0;s<n;s++)a===0&&(s===0||s===n-1)||a===n-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,i,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new Xe(7,new ge(1,19)),new Xe(10,new ge(1,16)),new Xe(13,new ge(1,13)),new Xe(17,new ge(1,9))),new r(2,Int32Array.from([6,18]),new Xe(10,new ge(1,34)),new Xe(16,new ge(1,28)),new Xe(22,new ge(1,22)),new Xe(28,new ge(1,16))),new r(3,Int32Array.from([6,22]),new Xe(15,new ge(1,55)),new Xe(26,new ge(1,44)),new Xe(18,new ge(2,17)),new Xe(22,new ge(2,13))),new r(4,Int32Array.from([6,26]),new Xe(20,new ge(1,80)),new Xe(18,new ge(2,32)),new Xe(26,new ge(2,24)),new Xe(16,new ge(4,9))),new r(5,Int32Array.from([6,30]),new Xe(26,new ge(1,108)),new Xe(24,new ge(2,43)),new Xe(18,new ge(2,15),new ge(2,16)),new Xe(22,new ge(2,11),new ge(2,12))),new r(6,Int32Array.from([6,34]),new Xe(18,new ge(2,68)),new Xe(16,new ge(4,27)),new Xe(24,new ge(4,19)),new Xe(28,new ge(4,15))),new r(7,Int32Array.from([6,22,38]),new Xe(20,new ge(2,78)),new Xe(18,new ge(4,31)),new Xe(18,new ge(2,14),new ge(4,15)),new Xe(26,new ge(4,13),new ge(1,14))),new r(8,Int32Array.from([6,24,42]),new Xe(24,new ge(2,97)),new Xe(22,new ge(2,38),new ge(2,39)),new Xe(22,new ge(4,18),new ge(2,19)),new Xe(26,new ge(4,14),new ge(2,15))),new r(9,Int32Array.from([6,26,46]),new Xe(30,new ge(2,116)),new Xe(22,new ge(3,36),new ge(2,37)),new Xe(20,new ge(4,16),new ge(4,17)),new Xe(24,new ge(4,12),new ge(4,13))),new r(10,Int32Array.from([6,28,50]),new Xe(18,new ge(2,68),new ge(2,69)),new Xe(26,new ge(4,43),new ge(1,44)),new Xe(24,new ge(6,19),new ge(2,20)),new Xe(28,new ge(6,15),new ge(2,16))),new r(11,Int32Array.from([6,30,54]),new Xe(20,new ge(4,81)),new Xe(30,new ge(1,50),new ge(4,51)),new Xe(28,new ge(4,22),new ge(4,23)),new Xe(24,new ge(3,12),new ge(8,13))),new r(12,Int32Array.from([6,32,58]),new Xe(24,new ge(2,92),new ge(2,93)),new Xe(22,new ge(6,36),new ge(2,37)),new Xe(26,new ge(4,20),new ge(6,21)),new Xe(28,new ge(7,14),new ge(4,15))),new r(13,Int32Array.from([6,34,62]),new Xe(26,new ge(4,107)),new Xe(22,new ge(8,37),new ge(1,38)),new Xe(24,new ge(8,20),new ge(4,21)),new Xe(22,new ge(12,11),new ge(4,12))),new r(14,Int32Array.from([6,26,46,66]),new Xe(30,new ge(3,115),new ge(1,116)),new Xe(24,new ge(4,40),new ge(5,41)),new Xe(20,new ge(11,16),new ge(5,17)),new Xe(24,new ge(11,12),new ge(5,13))),new r(15,Int32Array.from([6,26,48,70]),new Xe(22,new ge(5,87),new ge(1,88)),new Xe(24,new ge(5,41),new ge(5,42)),new Xe(30,new ge(5,24),new ge(7,25)),new Xe(24,new ge(11,12),new ge(7,13))),new r(16,Int32Array.from([6,26,50,74]),new Xe(24,new ge(5,98),new ge(1,99)),new Xe(28,new ge(7,45),new ge(3,46)),new Xe(24,new ge(15,19),new ge(2,20)),new Xe(30,new ge(3,15),new ge(13,16))),new r(17,Int32Array.from([6,30,54,78]),new Xe(28,new ge(1,107),new ge(5,108)),new Xe(28,new ge(10,46),new ge(1,47)),new Xe(28,new ge(1,22),new ge(15,23)),new Xe(28,new ge(2,14),new ge(17,15))),new r(18,Int32Array.from([6,30,56,82]),new Xe(30,new ge(5,120),new ge(1,121)),new Xe(26,new ge(9,43),new ge(4,44)),new Xe(28,new ge(17,22),new ge(1,23)),new Xe(28,new ge(2,14),new ge(19,15))),new r(19,Int32Array.from([6,30,58,86]),new Xe(28,new ge(3,113),new ge(4,114)),new Xe(26,new ge(3,44),new ge(11,45)),new Xe(26,new ge(17,21),new ge(4,22)),new Xe(26,new ge(9,13),new ge(16,14))),new r(20,Int32Array.from([6,34,62,90]),new Xe(28,new ge(3,107),new ge(5,108)),new Xe(26,new ge(3,41),new ge(13,42)),new Xe(30,new ge(15,24),new ge(5,25)),new Xe(28,new ge(15,15),new ge(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new Xe(28,new ge(4,116),new ge(4,117)),new Xe(26,new ge(17,42)),new Xe(28,new ge(17,22),new ge(6,23)),new Xe(30,new ge(19,16),new ge(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new Xe(28,new ge(2,111),new ge(7,112)),new Xe(28,new ge(17,46)),new Xe(30,new ge(7,24),new ge(16,25)),new Xe(24,new ge(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new Xe(30,new ge(4,121),new ge(5,122)),new Xe(28,new ge(4,47),new ge(14,48)),new Xe(30,new ge(11,24),new ge(14,25)),new Xe(30,new ge(16,15),new ge(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new Xe(30,new ge(6,117),new ge(4,118)),new Xe(28,new ge(6,45),new ge(14,46)),new Xe(30,new ge(11,24),new ge(16,25)),new Xe(30,new ge(30,16),new ge(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new Xe(26,new ge(8,106),new ge(4,107)),new Xe(28,new ge(8,47),new ge(13,48)),new Xe(30,new ge(7,24),new ge(22,25)),new Xe(30,new ge(22,15),new ge(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new Xe(28,new ge(10,114),new ge(2,115)),new Xe(28,new ge(19,46),new ge(4,47)),new Xe(28,new ge(28,22),new ge(6,23)),new Xe(30,new ge(33,16),new ge(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new Xe(30,new ge(8,122),new ge(4,123)),new Xe(28,new ge(22,45),new ge(3,46)),new Xe(30,new ge(8,23),new ge(26,24)),new Xe(30,new ge(12,15),new ge(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new Xe(30,new ge(3,117),new ge(10,118)),new Xe(28,new ge(3,45),new ge(23,46)),new Xe(30,new ge(4,24),new ge(31,25)),new Xe(30,new ge(11,15),new ge(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new Xe(30,new ge(7,116),new ge(7,117)),new Xe(28,new ge(21,45),new ge(7,46)),new Xe(30,new ge(1,23),new ge(37,24)),new Xe(30,new ge(19,15),new ge(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new Xe(30,new ge(5,115),new ge(10,116)),new Xe(28,new ge(19,47),new ge(10,48)),new Xe(30,new ge(15,24),new ge(25,25)),new Xe(30,new ge(23,15),new ge(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new Xe(30,new ge(13,115),new ge(3,116)),new Xe(28,new ge(2,46),new ge(29,47)),new Xe(30,new ge(42,24),new ge(1,25)),new Xe(30,new ge(23,15),new ge(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new Xe(30,new ge(17,115)),new Xe(28,new ge(10,46),new ge(23,47)),new Xe(30,new ge(10,24),new ge(35,25)),new Xe(30,new ge(19,15),new ge(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new Xe(30,new ge(17,115),new ge(1,116)),new Xe(28,new ge(14,46),new ge(21,47)),new Xe(30,new ge(29,24),new ge(19,25)),new Xe(30,new ge(11,15),new ge(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new Xe(30,new ge(13,115),new ge(6,116)),new Xe(28,new ge(14,46),new ge(23,47)),new Xe(30,new ge(44,24),new ge(7,25)),new Xe(30,new ge(59,16),new ge(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new Xe(30,new ge(12,121),new ge(7,122)),new Xe(28,new ge(12,47),new ge(26,48)),new Xe(30,new ge(39,24),new ge(14,25)),new Xe(30,new ge(22,15),new ge(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new Xe(30,new ge(6,121),new ge(14,122)),new Xe(28,new ge(6,47),new ge(34,48)),new Xe(30,new ge(46,24),new ge(10,25)),new Xe(30,new ge(2,15),new ge(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new Xe(30,new ge(17,122),new ge(4,123)),new Xe(28,new ge(29,46),new ge(14,47)),new Xe(30,new ge(49,24),new ge(10,25)),new Xe(30,new ge(24,15),new ge(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new Xe(30,new ge(4,122),new ge(18,123)),new Xe(28,new ge(13,46),new ge(32,47)),new Xe(30,new ge(48,24),new ge(14,25)),new Xe(30,new ge(42,15),new ge(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new Xe(30,new ge(20,117),new ge(4,118)),new Xe(28,new ge(40,47),new ge(7,48)),new Xe(30,new ge(43,24),new ge(22,25)),new Xe(30,new ge(10,15),new ge(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new Xe(30,new ge(19,118),new ge(6,119)),new Xe(28,new ge(18,47),new ge(31,48)),new Xe(30,new ge(34,24),new ge(34,25)),new Xe(30,new ge(20,15),new ge(61,16)))],r}(),Va;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(Va||(Va={}));var C6=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var a=0;a<t;a++)this.isMasked(n,a)&&e.flip(a,n)},r.values=new Map([[Va.DATA_MASK_000,new r(Va.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Va.DATA_MASK_001,new r(Va.DATA_MASK_001,function(e,t){return(e&1)===0})],[Va.DATA_MASK_010,new r(Va.DATA_MASK_010,function(e,t){return t%3===0})],[Va.DATA_MASK_011,new r(Va.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Va.DATA_MASK_100,new r(Va.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Va.DATA_MASK_101,new r(Va.DATA_MASK_101,function(e,t){return e*t%6===0})],[Va.DATA_MASK_110,new r(Va.DATA_MASK_110,function(e,t){return e*t%6<3})],[Va.DATA_MASK_111,new r(Va.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}(),C$=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new Ot;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var a=this.bitMatrix.getHeight(),i=0,s=a-7,n=a-1;n>=s;n--)i=this.copyBit(8,n,i);for(var t=a-8;t<a;t++)i=this.copyBit(t,8,i);if(this.parsedFormatInfo=QA.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Ot},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return sf.getVersionForNumber(t);for(var n=0,a=e-11,i=5;i>=0;i--)for(var s=e-9;s>=a;s--)n=this.copyBit(s,i,n);var o=sf.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var s=5;s>=0;s--)for(var i=e-9;i>=a;i--)n=this.copyBit(s,i,n);if(o=sf.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new Ot},r.prototype.copyBit=function(e,t,n){var a=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return a?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=C6.values.get(e.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a);for(var i=t.buildFunctionPattern(),s=!0,o=new Uint8Array(t.getTotalCodewords()),c=0,u=0,d=0,p=a-1;p>0;p-=2){p===6&&p--;for(var g=0;g<a;g++)for(var m=s?a-1-g:g,y=0;y<2;y++)i.get(p-y,m)||(d++,u<<=1,this.bitMatrix.get(p-y,m)&&(u|=1),d===8&&(o[c++]=u,d=0,u=0));s=!s}if(c!==t.getTotalCodewords())throw new Ot;return o},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=C6.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var a=t+1,i=e.getHeight();a<i;a++)e.get(t,a)!==e.get(a,t)&&(e.flip(a,t),e.flip(t,a))},r}(),T6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T$=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var a,i,s,o;if(e.length!==t.getTotalCodewords())throw new Kt;var c=t.getECBlocksForLevel(n),u=0,d=c.getECBlocks();try{for(var p=T6(d),g=p.next();!g.done;g=p.next()){var m=g.value;u+=m.getCount()}}catch(X){a={error:X}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(a)throw a.error}}var y=new Array(u),w=0;try{for(var _=T6(d),S=_.next();!S.done;S=_.next())for(var m=S.value,A=0;A<m.getCount();A++){var C=m.getDataCodewords(),L=c.getECCodewordsPerBlock()+C;y[w++]=new r(C,new Uint8Array(L))}}catch(X){s={error:X}}finally{try{S&&!S.done&&(o=_.return)&&o.call(_)}finally{if(s)throw s.error}}for(var B=y[0].codewords.length,M=y.length-1;M>=0;){var F=y[M].codewords.length;if(F===B)break;M--}M++;for(var D=B-c.getECCodewordsPerBlock(),O=0,A=0;A<D;A++)for(var q=0;q<w;q++)y[q].codewords[A]=e[O++];for(var q=M;q<w;q++)y[q].codewords[D]=e[O++];for(var I=y[0].codewords.length,A=D;A<I;A++)for(var q=0;q<w;q++){var U=q<M?A:A+1;y[q].codewords[U]=e[O++]}return y},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}(),vo;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(vo||(vo={}));var In=function(){function r(e,t,n,a){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=a,r.FOR_BITS.set(a,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new Kt;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(vo.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(vo.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(vo.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(vo.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(vo.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(vo.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(vo.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(vo.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(vo.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(vo.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}(),j$=function(){function r(){}return r.decode=function(e,t,n,a){var i=new JA(e),s=new Sr,o=new Array,c=-1,u=-1;try{var d=null,p=!1,g=void 0;do{if(i.available()<4)g=In.TERMINATOR;else{var m=i.readBits(4);g=In.forBits(m)}switch(g){case In.TERMINATOR:break;case In.FNC1_FIRST_POSITION:case In.FNC1_SECOND_POSITION:p=!0;break;case In.STRUCTURED_APPEND:if(i.available()<16)throw new Ot;c=i.readBits(8),u=i.readBits(8);break;case In.ECI:var y=r.parseECIValue(i);if(d=Ia.getCharacterSetECIByValue(y),d===null)throw new Ot;break;case In.HANZI:var w=i.readBits(4),_=i.readBits(g.getCharacterCountBits(t));w===r.GB2312_SUBSET&&r.decodeHanziSegment(i,s,_);break;default:var S=i.readBits(g.getCharacterCountBits(t));switch(g){case In.NUMERIC:r.decodeNumericSegment(i,s,S);break;case In.ALPHANUMERIC:r.decodeAlphanumericSegment(i,s,S,p);break;case In.BYTE:r.decodeByteSegment(i,s,S,d,o,a);break;case In.KANJI:r.decodeKanjiSegment(i,s,S);break;default:throw new Ot}break}}while(g!==In.TERMINATOR)}catch(A){throw new Ot}return new C2(e,s.toString(),o.length===0?null:o,n===null?null:n.toString(),c,u)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new Ot;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o<959?o+=41377:o+=42657,a[i]=o>>8&255,a[i+1]=o&255,i+=2,n--}try{t.append(_o.decode(a,Mr.GB2312))}catch(c){throw new Ot(c)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new Ot;for(var a=new Uint8Array(2*n),i=0;n>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o<7936?o+=33088:o+=49472,a[i]=o>>8,a[i+1]=o,i+=2,n--}try{t.append(_o.decode(a,Mr.SHIFT_JIS))}catch(c){throw new Ot(c)}},r.decodeByteSegment=function(e,t,n,a,i,s){if(8*n>e.available())throw new Ot;for(var o=new Uint8Array(n),c=0;c<n;c++)o[c]=e.readBits(8);var u;a===null?u=Mr.guessEncoding(o,s):u=a.getName();try{t.append(_o.decode(o,u))}catch(d){throw new Ot(d)}i.push(o)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new Ot;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,a){for(var i=t.length();n>1;){if(e.available()<11)throw new Ot;var s=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(s/45))),t.append(r.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new Ot;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(a)for(var o=i;o<t.length();o++)t.charAt(o)==="%"&&(o<t.length()-1&&t.charAt(o+1)==="%"?t.deleteCharAt(o+1):t.setCharAt(o,""))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new Ot;var a=e.readBits(10);if(a>=1e3)throw new Ot;t.append(r.toAlphaNumericChar(Math.floor(a/100))),t.append(r.toAlphaNumericChar(Math.floor(a/10)%10)),t.append(r.toAlphaNumericChar(a%10)),n-=3}if(n===2){if(e.available()<7)throw new Ot;var i=e.readBits(7);if(i>=100)throw new Ot;t.append(r.toAlphaNumericChar(Math.floor(i/10))),t.append(r.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new Ot;var s=e.readBits(4);if(s>=10)throw new Ot;t.append(r.toAlphaNumericChar(s))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var a=e.readBits(16);return(t&31)<<16&4294967295|a}throw new Ot},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}(),eN=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}(),j6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O$=function(){function r(){this.rsDecoder=new T2(ys.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(ec.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new C$(e),a=null;try{return this.decodeBitMatrixParser(n,t)}catch(s){a=s}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,t);return i.setOther(new eN(!0)),i}catch(s){throw a!==null?a:s}},r.prototype.decodeBitMatrixParser=function(e,t){var n,a,i,s,o=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=T$.getDataBlocks(u,o,c),p=0;try{for(var g=j6(d),m=g.next();!m.done;m=g.next()){var y=m.value;p+=y.getNumDataCodewords()}}catch(M){n={error:M}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}var w=new Uint8Array(p),_=0;try{for(var S=j6(d),A=S.next();!A.done;A=S.next()){var y=A.value,C=y.getCodewords(),L=y.getNumDataCodewords();this.correctErrors(C,L);for(var B=0;B<L;B++)w[_++]=C[B]}}catch(M){i={error:M}}finally{try{A&&!A.done&&(s=S.return)&&s.call(S)}finally{if(i)throw i.error}}return j$.decode(w,o,c,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(i){throw new Ka}for(var a=0;a<t;a++)e[a]=n[a]},r}(),R$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k$=function(r){R$(e,r);function e(t,n,a){var i=r.call(this,t,n)||this;return i.estimatedModuleSize=a,i}return e.prototype.aboutEquals=function(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){var i=Math.abs(t-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,a){var i=(this.getX()+n)/2,s=(this.getY()+t)/2,o=(this.estimatedModuleSize+a)/2;return new e(i,s,o)},e}(Ht),L$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D$=function(){function r(e,t,n,a,i,s,o){this.image=e,this.startX=t,this.startY=n,this.width=a,this.height=i,this.moduleSize=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,a=e+n,i=this.startY+t/2,s=new Int32Array(3),o=this.image,c=0;c<t;c++){var u=i+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var d=e;d<a&&!o.get(d,u);)d++;for(var p=0;d<a;){if(o.get(d,u))if(p===1)s[1]++;else if(p===2){if(this.foundPatternCross(s)){var g=this.handlePossibleCenter(s,u,d);if(g!==null)return g}s[0]=s[2],s[1]=1,s[2]=0,p=1}else s[++p]++;else p===1&&p++,s[p]++;d++}if(this.foundPatternCross(s)){var g=this.handlePossibleCenter(s,u,a);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new it},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,a=0;a<3;a++)if(Math.abs(t-e[a])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,a){var i=this.image,s=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var c=e;c>=0&&i.get(t,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&!i.get(t,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(t,c)&&o[1]<=n;)o[1]++,c++;if(c===s||o[1]>n)return NaN;for(;c<s&&!i.get(t,c)&&o[2]<=n;)o[2]++,c++;if(o[2]>n)return NaN;var u=o[0]+o[1]+o[2];return 5*Math.abs(u-a)>=2*a?NaN:this.foundPatternCross(o)?r.centerFromEnd(o,c):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var a,i,s=e[0]+e[1]+e[2],o=r.centerFromEnd(e,n),c=this.crossCheckVertical(t,o,2*e[1],s);if(!isNaN(c)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=L$(this.possibleCenters),p=d.next();!p.done;p=d.next()){var g=p.value;if(g.aboutEquals(u,c,o))return g.combineEstimate(c,o,u)}}catch(y){a={error:y}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}var m=new k$(o,c,u);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null},r}(),I$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),P$=function(r){I$(e,r);function e(t,n,a,i){var s=r.call(this,t,n)||this;return s.estimatedModuleSize=a,s.count=i,i===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,a){if(Math.abs(n-this.getY())<=t&&Math.abs(a-this.getX())<=t){var i=Math.abs(t-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,a){var i=this.count+1,s=(this.count*this.getX()+n)/i,o=(this.count*this.getY()+t)/i,c=(this.count*this.estimatedModuleSize+a)/i;return new e(s,o,c,i)},e}(Ht),F$=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}(),d1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M$=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(On.TRY_HARDER)!==void 0,n=e!=null&&e.get(On.PURE_BARCODE)!==void 0,a=this.image,i=a.getHeight(),s=a.getWidth(),o=Math.floor(3*i/(4*r.MAX_MODULES));(o<r.MIN_SKIP||t)&&(o=r.MIN_SKIP);for(var c=!1,u=new Int32Array(5),d=o-1;d<i&&!c;d+=o){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var p=0,g=0;g<s;g++)if(a.get(g,d))(p&1)===1&&p++,u[p]++;else if((p&1)===0)if(p===4)if(r.foundPatternCross(u)){var m=this.handlePossibleCenter(u,d,g,n);if(m===!0)if(o=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var y=this.findRowSkip();y>u[2]&&(d+=y-u[2]-o,g=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,p=3;continue}p=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,p=3;else u[++p]++;else u[p]++;if(r.foundPatternCross(u)){var m=this.handlePossibleCenter(u,d,s,n);m===!0&&(o=u[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return Ht.orderBestPatterns(w),new F$(w)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var a=e[n];if(a===0)return!1;t+=a}if(t<7)return!1;var i=t/7,s=i/2;return Math.abs(i-e[0])<s&&Math.abs(i-e[1])<s&&Math.abs(3*i-e[2])<3*s&&Math.abs(i-e[3])<s&&Math.abs(i-e[4])<s},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,a){for(var i=this.getCrossCheckStateCount(),s=0,o=this.image;e>=s&&t>=s&&o.get(t-s,e-s);)i[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!o.get(t-s,e-s)&&i[1]<=n;)i[1]++,s++;if(e<s||t<s||i[1]>n)return!1;for(;e>=s&&t>=s&&o.get(t-s,e-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;var c=o.getHeight(),u=o.getWidth();for(s=1;e+s<c&&t+s<u&&o.get(t+s,e+s);)i[2]++,s++;if(e+s>=c||t+s>=u)return!1;for(;e+s<c&&t+s<u&&!o.get(t+s,e+s)&&i[3]<n;)i[3]++,s++;if(e+s>=c||t+s>=u||i[3]>=n)return!1;for(;e+s<c&&t+s<u&&o.get(t+s,e+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;var d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-a)<2*a&&r.foundPatternCross(i)},r.prototype.crossCheckVertical=function(e,t,n,a){for(var i=this.image,s=i.getHeight(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(t,c);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(t,c)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(t,c)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(t,c);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(t,c)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(t,c)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=2*a?NaN:r.foundPatternCross(o)?r.centerFromEnd(o,c):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,a){for(var i=this.image,s=i.getWidth(),o=this.getCrossCheckStateCount(),c=e;c>=0&&i.get(c,t);)o[2]++,c--;if(c<0)return NaN;for(;c>=0&&!i.get(c,t)&&o[1]<=n;)o[1]++,c--;if(c<0||o[1]>n)return NaN;for(;c>=0&&i.get(c,t)&&o[0]<=n;)o[0]++,c--;if(o[0]>n)return NaN;for(c=e+1;c<s&&i.get(c,t);)o[2]++,c++;if(c===s)return NaN;for(;c<s&&!i.get(c,t)&&o[3]<n;)o[3]++,c++;if(c===s||o[3]>=n)return NaN;for(;c<s&&i.get(c,t)&&o[4]<n;)o[4]++,c++;if(o[4]>=n)return NaN;var u=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(u-a)>=a?NaN:r.foundPatternCross(o)?r.centerFromEnd(o,c):NaN},r.prototype.handlePossibleCenter=function(e,t,n,a){var i=e[0]+e[1]+e[2]+e[3]+e[4],s=r.centerFromEnd(e,n),o=this.crossCheckVertical(t,Math.floor(s),e[2],i);if(!isNaN(o)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(o),e[2],i),!isNaN(s)&&(!a||this.crossCheckDiagonal(Math.floor(o),Math.floor(s),e[2],i)))){for(var c=i/7,u=!1,d=this.possibleCenters,p=0,g=d.length;p<g;p++){var m=d[p];if(m.aboutEquals(c,o,s)){d[p]=m.combineEstimate(o,s,c),u=!0;break}}if(!u){var y=new P$(s,o,c);d.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var a=null;try{for(var i=d1(this.possibleCenters),s=i.next();!s.done;s=i.next()){var o=s.value;if(o.getCount()>=r.CENTER_QUORUM)if(a==null)a=o;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,a,i=0,s=0,o=this.possibleCenters.length;try{for(var c=d1(this.possibleCenters),u=c.next();!u.done;u=c.next()){var d=u.value;d.getCount()>=r.CENTER_QUORUM&&(i++,s+=d.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(i<3)return!1;var p=s/o,g=0;try{for(var m=d1(this.possibleCenters),y=m.next();!y.done;y=m.next()){var d=y.value;g+=Math.abs(d.getEstimatedModuleSize()-p)}}catch(w){n={error:w}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}return g<=.05*s},r.prototype.selectBestPatterns=function(){var e,t,n,a,i=this.possibleCenters.length;if(i<3)throw new it;var s=this.possibleCenters,o;if(i>3){var c=0,u=0;try{for(var d=d1(this.possibleCenters),p=d.next();!p.done;p=d.next()){var g=p.value,m=g.getEstimatedModuleSize();c+=m,u+=m*m}}catch(B){e={error:B}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}o=c/i;var y=Math.sqrt(u/i-o*o);s.sort(function(B,M){var F=Math.abs(M.getEstimatedModuleSize()-o),D=Math.abs(B.getEstimatedModuleSize()-o);return F<D?-1:F>D?1:0});for(var w=Math.max(.2*o,y),_=0;_<s.length&&s.length>3;_++){var S=s[_];Math.abs(S.getEstimatedModuleSize()-o)>w&&(s.splice(_,1),_--)}}if(s.length>3){var c=0;try{for(var A=d1(s),C=A.next();!C.done;C=A.next()){var L=C.value;c+=L.getEstimatedModuleSize()}}catch(M){n={error:M}}finally{try{C&&!C.done&&(a=A.return)&&a.call(A)}finally{if(n)throw n.error}}o=c/s.length,s.sort(function(M,F){if(F.getCount()===M.getCount()){var D=Math.abs(F.getEstimatedModuleSize()-o),O=Math.abs(M.getEstimatedModuleSize()-o);return D<O?1:D>O?-1:0}else return F.getCount()-M.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}(),B$=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(On.NEED_RESULT_POINT_CALLBACK);var t=new M$(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),a=e.getBottomLeft(),i=this.calculateModuleSize(t,n,a);if(i<1)throw new it("No pattern found in proccess finder.");var s=r.computeDimension(t,n,a,i),o=sf.getProvisionalVersionForDimension(s),c=o.getDimensionForVersion()-7,u=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-t.getX()+a.getX(),p=n.getY()-t.getY()+a.getY(),g=1-3/c,m=Math.floor(t.getX()+g*(d-t.getX())),y=Math.floor(t.getY()+g*(p-t.getY())),w=4;w<=16;w<<=1)try{u=this.findAlignmentInRegion(i,m,y,w);break}catch(C){if(!(C instanceof it))throw C}var _=r.createTransform(t,n,a,u,s),S=r.sampleGrid(this.image,_,s),A;return u===null?A=[a,t,n]:A=[a,t,n,u],new jw(S,A)},r.createTransform=function(e,t,n,a,i){var s=i-3.5,o,c,u,d;return a!==null?(o=a.getX(),c=a.getY(),u=s-3,d=u):(o=t.getX()-e.getX()+n.getX(),c=t.getY()-e.getY()+n.getY(),u=s,d=s),XA.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),o,c,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var a=Ow.getInstance();return a.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,a){var i=Xr.round(Ht.distance(e,t)/a),s=Xr.round(Ht.distance(e,n)/a),o=Math.floor((i+s)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new it("Dimensions could be not found.")}return o},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?a/7:isNaN(a)?n/7:(n+a)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,a){var i=this.sizeOfBlackWhiteBlackRun(e,t,n,a),s=1,o=e-(n-e);o<0?(s=e/(e-o),o=0):o>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var c=Math.floor(t-(a-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),o=Math.floor(e+(o-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,t,o,c),i-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,a){var i=Math.abs(a-t)>Math.abs(n-e);if(i){var s=e;e=t,t=s,s=n,n=a,a=s}for(var o=Math.abs(n-e),c=Math.abs(a-t),u=-o/2,d=e<n?1:-1,p=t<a?1:-1,g=0,m=n+d,y=e,w=t;y!==m;y+=d){var _=i?w:y,S=i?y:w;if(g===1===this.image.get(_,S)){if(g===2)return Xr.distance(y,w,e,t);g++}if(u+=c,u>0){if(w===a)break;w+=p,u-=o}}return g===2?Xr.distance(n+d,a,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,a){var i=Math.floor(a*e),s=Math.max(0,t-i),o=Math.min(this.image.getWidth()-1,t+i);if(o-s<e*3)throw new it("Alignment top exceeds estimated module size.");var c=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-c<e*3)throw new it("Alignment bottom exceeds estimated module size.");var d=new D$(this.image,s,c,o-s,u-c,e,this.resultPointCallback);return d.find()},r}(),Ay=function(){function r(){this.decoder=new O$}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,a;if(t!=null&&t.get(On.PURE_BARCODE)!==void 0){var i=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,t),a=r.NO_POINTS}else{var s=new B$(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(s.getBits(),t),a=s.getPoints()}n.getOther()instanceof eN&&n.getOther().applyMirroredCorrection(a);var o=new Mi(n.getText(),n.getRawBytes(),void 0,a,Vt.QR_CODE,void 0),c=n.getByteSegments();c!==null&&o.putMetadata(mi.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!==null&&o.putMetadata(mi.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(o.putMetadata(mi.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(mi.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new it;var a=this.moduleSize(t,e),i=t[1],s=n[1],o=t[0],c=n[0];if(o>=c||i>=s)throw new it;if(s-i!==c-o&&(c=o+(s-i),c>=e.getWidth()))throw new it;var u=Math.round((c-o+1)/a),d=Math.round((s-i+1)/a);if(u<=0||d<=0)throw new it;if(d!==u)throw new it;var p=Math.floor(a/2);i+=p,o+=p;var g=o+Math.floor((u-1)*a)-c;if(g>0){if(g>p)throw new it;o-=g}var m=i+Math.floor((d-1)*a)-s;if(m>0){if(m>p)throw new it;i-=m}for(var y=new ec(u,d),w=0;w<d;w++)for(var _=i+Math.floor(w*a),S=0;S<u;S++)e.get(o+Math.floor(S*a),_)&&y.set(S,w);return y},r.moduleSize=function(e,t){for(var n=t.getHeight(),a=t.getWidth(),i=e[0],s=e[1],o=!0,c=0;i<a&&s<n;){if(o!==t.get(i,s)){if(++c===5)break;o=!o}i++,s++}if(i===a||s===n)throw new it;return(i-e[0])/7},r.NO_POINTS=new Array,r}(),U$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zr=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return Xr.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var a=new Int32Array(e.length),i=0;try{for(var s=U$(e),o=s.next();!o.done;o=s.next()){var c=o.value;a[i++]=c}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},r.getCodeword=function(e){var t=Pa.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}(),z$=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}(),H$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q$=function(){function r(){}return r.detectMultiple=function(e,t,n){var a=e.getBlackMatrix(),i=r.detect(n,a);return i.length||(a=a.clone(),a.rotate180(),i=r.detect(n,a)),new z$(a,i)},r.detect=function(e,t){for(var n,a,i=new Array,s=0,o=0,c=!1;s<t.getHeight();){var u=r.findVertices(t,s,o);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,o=0;try{for(var d=(n=void 0,H$(i)),p=d.next();!p.done;p=d.next()){var g=p.value;g[1]!=null&&(s=Math.trunc(Math.max(s,g[1].getY()))),g[3]!=null&&(s=Math.max(s,Math.trunc(g[3].getY())))}}catch(m){n={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}s+=r.ROW_STEP;continue}if(c=!0,i.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return i},r.findVertices=function(e,t,n){var a=e.getHeight(),i=e.getWidth(),s=new Array(8);return r.copyToResult(s,r.findRowsWithPattern(e,a,i,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),r.copyToResult(s,r.findRowsWithPattern(e,a,i,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),s},r.copyToResult=function(e,t,n){for(var a=0;a<n.length;a++)e[n[a]]=t[a]},r.findRowsWithPattern=function(e,t,n,a,i,s){for(var o=new Array(4),c=!1,u=new Int32Array(s.length);a<t;a+=r.ROW_STEP){var d=r.findGuardPattern(e,i,a,n,!1,s,u);if(d!=null){for(;a>0;){var p=r.findGuardPattern(e,i,--a,n,!1,s,u);if(p!=null)d=p;else{a++;break}}o[0]=new Ht(d[0],a),o[1]=new Ht(d[1],a),c=!0;break}}var g=a+1;if(c){for(var m=0,p=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);g<t;g++){var d=r.findGuardPattern(e,p[0],g,n,!1,s,u);if(d!=null&&Math.abs(p[0]-d[0])<r.MAX_PATTERN_DRIFT&&Math.abs(p[1]-d[1])<r.MAX_PATTERN_DRIFT)p=d,m=0;else{if(m>r.SKIPPED_ROW_COUNT_MAX)break;m++}}g-=m+1,o[2]=new Ht(p[0],g),o[3]=new Ht(p[1],g)}return g-a<r.BARCODE_MIN_HEIGHT&&Pa.fill(o,null),o},r.findGuardPattern=function(e,t,n,a,i,s,o){Pa.fillWithin(o,0,o.length,0);for(var c=t,u=0;e.get(c,n)&&c>0&&u++<r.MAX_PIXEL_DRIFT;)c--;for(var d=c,p=0,g=s.length,m=i;d<a;d++){var y=e.get(d,n);if(y!==m)o[p]++;else{if(p===g-1){if(r.patternMatchVariance(o,s,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([c,d]);c+=o[0]+o[1],jn.arraycopy(o,2,o,0,p-1),o[p-1]=0,o[p]=0,p--}else p++;o[p]=1,m=!m}}return p===g-1&&r.patternMatchVariance(o,s,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([c,d-1]):null},r.patternMatchVariance=function(e,t,n){for(var a=e.length,i=0,s=0,o=0;o<a;o++)i+=e[o],s+=t[o];if(i<s)return 1/0;var c=i/s;n*=c;for(var u=0,d=0;d<a;d++){var p=e[d],g=t[d]*c,m=p>g?p-g:g-p;if(m>n)return 1/0;u+=m}return u/i},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}(),$$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tf=function(){function r(e,t){if(t.length===0)throw new Kt;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var a=1;a<n&&t[a]===0;)a++;a===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-a),jn.arraycopy(t,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var a=0;try{for(var i=$$(this.coefficients),s=i.next();!s.done;s=i.next()){var o=s.value;a=this.field.add(a,o)}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a}for(var c=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)c=this.field.add(this.field.multiply(e,c),this.coefficients[d]);return c},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Kt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var a=t;t=n,n=a}var i=new Int32Array(n.length),s=n.length-t.length;jn.arraycopy(n,0,i,0,s);for(var o=s;o<n.length;o++)i[o]=this.field.add(t[o-s],n[o]);return new r(this.field,i)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Kt("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Kt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,a=e.coefficients,i=a.length,s=new Int32Array(n+i-1),o=0;o<n;o++)for(var c=t[o],u=0;u<i;u++)s[o+u]=this.field.add(s[o+u],this.field.multiply(c,a[u]));return new r(this.field,s)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),a=0;a<t;a++)n[a]=this.field.multiply(this.coefficients[a],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Kt;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,a=new Int32Array(n+e),i=0;i<n;i++)a[i]=this.field.multiply(this.coefficients[i],t);return new r(this.field,a)},r.prototype.toString=function(){for(var e=new Sr,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}(),V$=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Kt;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new WA;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}(),G$=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),W$=function(r){G$(e,r);function e(t,n){var a=r.call(this)||this;a.modulus=t,a.expTable=new Int32Array(t),a.logTable=new Int32Array(t);for(var i=1,s=0;s<t;s++)a.expTable[s]=i,i=i*n%t;for(var s=0;s<t-1;s++)a.logTable[a.expTable[s]]=s;return a.zero=new tf(a,new Int32Array([0])),a.one=new tf(a,new Int32Array([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new Kt;if(n===0)return this.zero;var a=new Int32Array(t+1);return a[0]=n,new tf(this,a)},e.PDF417_GF=new e(zr.NUMBER_OF_CODEWORDS,3),e}(V$),X$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y$=function(){function r(){this.field=W$.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var a,i,s=new tf(this.field,e),o=new Int32Array(t),c=!1,u=t;u>0;u--){var d=s.evaluateAt(this.field.exp(u));o[t-u]=d,d!==0&&(c=!0)}if(!c)return 0;var p=this.field.getOne();if(n!=null)try{for(var g=X$(n),m=g.next();!m.done;m=g.next()){var y=m.value,w=this.field.exp(e.length-1-y),_=new tf(this.field,new Int32Array([this.field.subtract(0,w),1]));p=p.multiply(_)}}catch(D){a={error:D}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}for(var S=new tf(this.field,o),A=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),S,t),C=A[0],L=A[1],B=this.findErrorLocations(C),M=this.findErrorMagnitudes(L,C,B),u=0;u<B.length;u++){var F=e.length-1-this.field.log(B[u]);if(F<0)throw Ka.getChecksumInstance();e[F]=this.field.subtract(e[F],M[u])}return B.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var a=e;e=t,t=a}for(var i=e,s=t,o=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(n/2);){var u=i,d=o;if(i=s,o=c,i.isZero())throw Ka.getChecksumInstance();s=u;for(var p=this.field.getZero(),g=i.getCoefficient(i.getDegree()),m=this.field.inverse(g);s.getDegree()>=i.getDegree()&&!s.isZero();){var y=s.getDegree()-i.getDegree(),w=this.field.multiply(s.getCoefficient(s.getDegree()),m);p=p.add(this.field.buildMonomial(y,w)),s=s.subtract(i.multiplyByMonomial(y,w))}c=p.multiply(o).subtract(d).negative()}var _=c.getCoefficient(0);if(_===0)throw Ka.getChecksumInstance();var S=this.field.inverse(_),A=c.multiply(S),C=s.multiply(S);return[A,C]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),a=0,i=1;i<this.field.getSize()&&a<t;i++)e.evaluateAt(i)===0&&(n[a]=this.field.inverse(i),a++);if(a!==t)throw Ka.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var a=t.getDegree(),i=new Int32Array(a),s=1;s<=a;s++)i[a-s]=this.field.multiply(s,t.getCoefficient(s));for(var o=new tf(this.field,i),c=n.length,u=new Int32Array(c),s=0;s<c;s++){var d=this.field.inverse(n[s]),p=this.field.subtract(0,e.evaluateAt(d)),g=this.field.inverse(o.evaluateAt(d));u[s]=this.field.multiply(p,g)}return u},r}(),Ny=function(){function r(e,t,n,a,i){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,a,i)}return r.prototype.constructor_1=function(e,t,n,a,i){var s=t==null||n==null,o=a==null||i==null;if(s&&o)throw new it;s?(t=new Ht(0,a.getY()),n=new Ht(0,i.getY())):o&&(a=new Ht(e.getWidth()-1,t.getY()),i=new Ht(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=a,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(a.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),a.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var a=this.topLeft,i=this.bottomLeft,s=this.topRight,o=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,u=Math.trunc(c.getY()-e);u<0&&(u=0);var d=new Ht(c.getX(),u);n?a=d:s=d}if(t>0){var p=n?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var m=new Ht(p.getX(),g);n?i=m:o=m}return new r(this.image,a,i,s,o)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}(),K$=function(){function r(e,t,n,a){this.columnCount=e,this.errorCorrectionLevel=a,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}(),kw=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function a(s,o,c,u,d,p){if(s==="%%")return"%";if(t[++n]!==void 0){s=u?parseInt(u.substr(1)):void 0;var g=d?parseInt(d.substr(1)):void 0,m;switch(p){case"s":m=t[n];break;case"c":m=t[n][0];break;case"f":m=parseFloat(t[n]).toFixed(s);break;case"p":m=parseFloat(t[n]).toPrecision(s);break;case"e":m=parseFloat(t[n]).toExponential(s);break;case"x":m=parseInt(t[n]).toString(g||16);break;case"d":m=parseFloat(parseInt(t[n],g||10).toPrecision(s)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(g);for(var y=parseInt(c),w=c&&c[0]+""=="0"?"0":" ";m.length<y;)m=o!==void 0?m+w:w+m;return m}}var i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,a)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}(),Z$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tN=function(){function r(e){this.boundingBox=new Ny(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var a=this.imageRowToCodewordIndex(e)-n;if(a>=0&&(t=this.codewords[a],t!=null)||(a=this.imageRowToCodewordIndex(e)+n,a<this.codewords.length&&(t=this.codewords[a],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new kw,a=0;try{for(var i=Z$(this.codewords),s=i.next();!s.done;s=i.next()){var o=s.value;if(o==null){n.format("%3d:    |   %n",a++);continue}n.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}(),J$=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q$=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return i},y1=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,a=new Array,i=function(p,g){var m={getKey:function(){return p},getValue:function(){return g}};m.getValue()>n?(n=m.getValue(),a=[],a.push(m.getKey())):m.getValue()===n&&a.push(m.getKey())};try{for(var s=J$(this.values.entries()),o=s.next();!o.done;o=s.next()){var c=Q$(o.value,2),u=c[0],d=c[1];i(u,d)}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return zr.toIntArray(a)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}(),eV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tv=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O6=function(r){eV(e,r);function e(t,n){var a=r.call(this,t)||this;return a._isLeft=n,a}return e.prototype.setRowNumbers=function(){var t,n;try{for(var a=Tv(this.getCodewords()),i=a.next();!i.done;i=a.next()){var s=i.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,d=1,p=0,g=o;g<c;g++)if(n[g]!=null){var m=n[g],y=m.getRowNumber()-u;if(y===0)p++;else if(y===1)d=Math.max(d,p),p=1,u=m.getRowNumber();else if(y<0||m.getRowNumber()>=t.getRowCount()||y>g)n[g]=null;else{var w=void 0;d>2?w=(d-2)*y:w=y;for(var _=w>=g,S=1;S<=w&&!_;S++)_=n[g-S]!=null;_?n[g]=null:(u=m.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var t,n,a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);var i=new Int32Array(a.getRowCount());try{for(var s=Tv(this.getCodewords()),o=s.next();!o.done;o=s.next()){var c=o.value;if(c!=null){var u=c.getRowNumber();if(u>=i.length)continue;i[u]++}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),a=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1,d=s;d<o;d++)if(c[d]!=null){var p=c[d];p.setRowNumberAsRowIndicatorColumn();var g=p.getRowNumber()-u;g===0||(g===1?u=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?c[d]=null:u=p.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,n,a=this.getCodewords(),i=new y1,s=new y1,o=new y1,c=new y1;try{for(var u=Tv(a),d=u.next();!d.done;d=u.next()){var p=d.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var g=p.getValue()%30,m=p.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:s.setValue(g*3+1);break;case 1:c.setValue(g/3),o.setValue(g%3);break;case 2:i.setValue(g+1);break}}}}catch(w){t={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}if(i.getValue().length===0||s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<zr.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>zr.MAX_ROWS_IN_BARCODE)return null;var y=new K$(i.getValue()[0],s.getValue()[0],o.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(a,y),y},e.prototype.removeIncorrectCodewords=function(t,n){for(var a=0;a<t.length;a++){var i=t[a];if(t[a]!=null){var s=i.getValue()%30,o=i.getRowNumber();if(o>n.getRowCount()){t[a]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:s*3+1!==n.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(s/3)!==n.getErrorCorrectionLevel()||s%3!==n.getRowCountLowerPart())&&(t[a]=null);break;case 2:s+1!==n.getColumnCount()&&(t[a]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(tN),tV=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rV=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=zr.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),a=0;a<n.length;a++)n[a]!=null&&(n[a].hasValidRowNumber()||this.adjustRowNumbers(t,a,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var a=1;a<=this.barcodeColumnCount;a++){var i=this.detectionResultColumns[a].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var a=t[n].getRowNumber(),i=0,s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=r.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var a=t[n].getRowNumber(),i=0,s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){var o=this.detectionResultColumns[s].getCodewords()[n];o!=null&&(i=r.adjustRowNumberIfValid(a,i,o),o.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var a,i;if(this.detectionResultColumns[e-1]!=null){var s=n[t],o=this.detectionResultColumns[e-1].getCodewords(),c=o;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=o[t],u[3]=c[t],t>0&&(u[0]=n[t-1],u[4]=o[t-1],u[5]=c[t-1]),t>1&&(u[8]=n[t-2],u[10]=o[t-2],u[11]=c[t-2]),t<n.length-1&&(u[1]=n[t+1],u[6]=o[t+1],u[7]=c[t+1]),t<n.length-2&&(u[9]=n[t+2],u[12]=o[t+2],u[13]=c[t+2]);try{for(var d=tV(u),p=d.next();!p.done;p=d.next()){var g=p.value;if(r.adjustRowNumber(s,g))return}}catch(m){a={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new kw,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){t.format("    |   ");continue}var i=this.detectionResultColumns[a].getCodewords()[n];if(i==null){t.format("    |   ");continue}t.format(" %3d|%3d",i.getRowNumber(),i.getValue())}t.format("%n")}return t.toString()},r}(),nV=function(){function r(e,t,n,a){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(a)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}(),aV=function(){function r(){}return r.initialize=function(){for(var e=0;e<zr.SYMBOL_TABLE.length;e++)for(var t=zr.SYMBOL_TABLE[e],n=t&1,a=0;a<zr.BARS_IN_MODULE;a++){for(var i=0;(t&1)===n;)i+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(zr.BARS_IN_MODULE)),r.RATIOS_TABLE[e][zr.BARS_IN_MODULE-a-1]=Math.fround(i/zr.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=Xr.sum(e),n=new Int32Array(zr.BARS_IN_MODULE),a=0,i=0,s=0;s<zr.MODULES_IN_CODEWORD;s++){var o=t/(2*zr.MODULES_IN_CODEWORD)+s*t/zr.MODULES_IN_CODEWORD;i+e[a]<=o&&(i+=e[a],a++),n[a]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return zr.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var a=0;a<e[n];a++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=Xr.sum(e),n=new Array(zr.BARS_IN_MODULE);if(t>1)for(var a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);var i=wy.MAX_VALUE,s=-1;this.bSymbolTableReady||r.initialize();for(var o=0;o<r.RATIOS_TABLE.length;o++){for(var c=0,u=r.RATIOS_TABLE[o],d=0;d<zr.BARS_IN_MODULE;d++){var p=Math.fround(u[d]-n[d]);if(c+=Math.fround(p*p),c>=i)break}c<i&&(i=c,s=zr.SYMBOL_TABLE[o])}return s},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(zr.SYMBOL_TABLE.length).map(function(e){return new Array(zr.BARS_IN_MODULE)}),r}(),iV=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}(),R6=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}(),sV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oV=function(r){sV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Cs),lV=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new oV;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Cw;if(n===0)return;for(var a=0;a<n;a++)this.write(e[t+a])},r.prototype.flush=function(){},r.prototype.close=function(){},r}(),cV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uV=function(r){cV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Cs),fV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dV=function(r){fV(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new Kt("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,a=n<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new uV;a=Nr.MAX_VALUE}this.buf=Pa.copyOfUint8Array(this.buf,a)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,a){if(n<0||n>t.length||a<0||n+a-t.length>0)throw new Cw;this.ensureCapacity(this.count+a),jn.arraycopy(t,n,this.buf,this.count,a),this.count+=a},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Pa.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(lV),wn;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wn||(wn={}));function rN(){if(typeof window!="undefined")return window.BigInt||null;if(typeof global!="undefined")return global.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var im;function Hu(r){if(typeof im=="undefined"&&(im=rN()),im===null)throw new Error("BigInt is not supported!");return im(r)}function hV(){var r=[];r[0]=Hu(1);var e=Hu(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var pV=function(){function r(){}return r.decode=function(e,t){var n=new Sr(""),a=Ia.ISO8859_1;n.enableDecoding(a);for(var i=1,s=e[i++],o=new iV;i<e[0];){switch(s){case r.TEXT_COMPACTION_MODE_LATCH:i=r.textCompaction(e,i,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:i=r.byteCompaction(s,e,a,i,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:i=r.numericCompaction(e,i,n);break;case r.ECI_CHARSET:Ia.getCharacterSetECIByValue(e[i++]);break;case r.ECI_GENERAL_PURPOSE:i+=2;break;case r.ECI_USER_DEFINED:i++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=r.decodeMacroBlock(e,i,o);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new Ot;default:i--,i=r.textCompaction(e,i,n);break}if(i<e.length)s=e[i++];else throw Ot.getFormatInstance()}if(n.length()===0)throw Ot.getFormatInstance();var c=new C2(null,n.toString(),null,t);return c.setOther(o),c},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Ot.getFormatInstance();for(var a=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),i=0;i<r.NUMBER_OF_SEQUENCE_CODEWORDS;i++,t++)a[i]=e[t];n.setSegmentIndex(Nr.parseInt(r.decodeBase900toBase10(a,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Sr;t=r.textCompaction(e,t,s),n.setFileId(s.toString());var o=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Sr;t=r.textCompaction(e,t+1,c),n.setFileName(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Sr;t=r.textCompaction(e,t+1,u),n.setSender(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Sr;t=r.textCompaction(e,t+1,d),n.setAddressee(d.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new Sr;t=r.numericCompaction(e,t+1,p),n.setSegmentCount(Nr.parseInt(p.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new Sr;t=r.numericCompaction(e,t+1,g),n.setTimestamp(R6.parseLong(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var m=new Sr;t=r.numericCompaction(e,t+1,m),n.setChecksum(Nr.parseInt(m.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var y=new Sr;t=r.numericCompaction(e,t+1,y),n.setFileSize(R6.parseLong(y.toString()));break;default:throw Ot.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw Ot.getFormatInstance()}if(o!==-1){var w=t-o;n.isLastSegment()&&w--,n.setOptionalData(Pa.copyOfRange(e,o,o+w))}return t},r.textCompaction=function(e,t,n){for(var a=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),s=0,o=!1;t<e[0]&&!o;){var c=e[t++];if(c<r.TEXT_COMPACTION_MODE_LATCH)a[s]=c/30,a[s+1]=c%30,s+=2;else switch(c){case r.TEXT_COMPACTION_MODE_LATCH:a[s++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,o=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[s]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],i[s]=c,s++;break}}return r.decodeTextCompaction(a,i,s,n),t},r.decodeTextCompaction=function(e,t,n,a){for(var i=wn.ALPHA,s=wn.ALPHA,o=0;o<n;){var c=e[o],u="";switch(i){case wn.ALPHA:if(c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case r.LL:i=wn.LOWER;break;case r.ML:i=wn.MIXED;break;case r.PS:s=i,i=wn.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=wn.ALPHA;break}break;case wn.LOWER:if(c<26)u=String.fromCharCode(97+c);else switch(c){case 26:u=" ";break;case r.AS:s=i,i=wn.ALPHA_SHIFT;break;case r.ML:i=wn.MIXED;break;case r.PS:s=i,i=wn.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=wn.ALPHA;break}break;case wn.MIXED:if(c<r.PL)u=r.MIXED_CHARS[c];else switch(c){case r.PL:i=wn.PUNCT;break;case 26:u=" ";break;case r.LL:i=wn.LOWER;break;case r.AL:i=wn.ALPHA;break;case r.PS:s=i,i=wn.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=wn.ALPHA;break}break;case wn.PUNCT:if(c<r.PAL)u=r.PUNCT_CHARS[c];else switch(c){case r.PAL:i=wn.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=wn.ALPHA;break}break;case wn.ALPHA_SHIFT:if(i=s,c<26)u=String.fromCharCode(65+c);else switch(c){case 26:u=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:i=wn.ALPHA;break}break;case wn.PUNCT_SHIFT:if(i=s,c<r.PAL)u=r.PUNCT_CHARS[c];else switch(c){case r.PAL:i=wn.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[o]);break;case r.TEXT_COMPACTION_MODE_LATCH:i=wn.ALPHA;break}break}u!==""&&a.append(u),o++}},r.byteCompaction=function(e,t,n,a,i){var s=new dV,o=0,c=0,u=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),p=t[a++];a<t[0]&&!u;)switch(d[o++]=p,c=900*c+p,p=t[a++],p){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:a--,u=!0;break;default:if(o%5===0&&o>0){for(var g=0;g<6;++g)s.write(Number(Hu(c)>>Hu(8*(5-g))));c=0,o=0}break}a===t[0]&&p<r.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=p);for(var m=0;m<o;m++)s.write(d[m]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;a<t[0]&&!u;){var y=t[a++];if(y<r.TEXT_COMPACTION_MODE_LATCH)o++,c=900*c+y;else switch(y){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:a--,u=!0;break}if(o%5===0&&o>0){for(var g=0;g<6;++g)s.write(Number(Hu(c)>>Hu(8*(5-g))));c=0,o=0}}break}return i.append(_o.decode(s.toByteArray(),n)),a},r.numericCompaction=function(e,t,n){for(var a=0,i=!1,s=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!i;){var o=e[t++];if(t===e[0]&&(i=!0),o<r.TEXT_COMPACTION_MODE_LATCH)s[a]=o,a++;else switch(o){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(a%r.MAX_NUMERIC_CODEWORDS===0||o===r.NUMERIC_COMPACTION_MODE_LATCH||i)&&a>0&&(n.append(r.decodeBase900toBase10(s,a)),a=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=Hu(0),a=0;a<t;a++)n+=r.EXP900[t-a-1]*Hu(e[a]);var i=n.toString();if(i.charAt(0)!=="1")throw new Ot;return i.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=rN()?hV():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}(),h1=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gV=function(){function r(){}return r.decode=function(e,t,n,a,i,s,o){for(var c=new Ny(e,t,n,a,i),u=null,d=null,p,g=!0;;g=!1){if(t!=null&&(u=r.getRowIndicatorColumn(e,c,t,!0,s,o)),a!=null&&(d=r.getRowIndicatorColumn(e,c,a,!1,s,o)),p=r.merge(u,d),p==null)throw it.getNotFoundInstance();var m=p.getBoundingBox();if(g&&m!=null&&(m.getMinY()<c.getMinY()||m.getMaxY()>c.getMaxY()))c=m;else break}p.setBoundingBox(c);var y=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,u),p.setDetectionResultColumn(y,d);for(var w=u!=null,_=1;_<=y;_++){var S=w?_:y-_;if(p.getDetectionResultColumn(S)===void 0){var A=void 0;S===0||S===y?A=new O6(c,S===0):A=new tN(c),p.setDetectionResultColumn(S,A);for(var C=-1,L=C,B=c.getMinY();B<=c.getMaxY();B++){if(C=r.getStartColumn(p,S,B,w),C<0||C>c.getMaxX()){if(L===-1)continue;C=L}var M=r.detectCodeword(e,c.getMinX(),c.getMaxX(),w,C,B,s,o);M!=null&&(A.setCodeword(B,M),L=C,s=Math.min(s,M.getWidth()),o=Math.max(o,M.getWidth()))}}}return r.createDecoderResult(p)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var a=Ny.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new rV(n,a)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var a=e.getRowHeights();if(a==null)return null;var i=r.getMax(a),s=0;try{for(var o=h1(a),c=o.next();!c.done;c=o.next()){var u=c.value;if(s+=i-u,u>0)break}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}for(var d=e.getCodewords(),p=0;s>0&&d[p]==null;p++)s--;for(var g=0,p=a.length-1;p>=0&&(g+=i-a[p],!(a[p]>0));p--);for(var p=d.length-1;g>0&&d[p]==null;p--)g--;return e.getBoundingBox().addMissingRows(s,g,e.isLeft())},r.getMax=function(e){var t,n,a=-1;try{for(var i=h1(e),s=i.next();!s.done;s=i.next()){var o=s.value;a=Math.max(a,o)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var a;return t==null||(a=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==a.getColumnCount()&&n.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&n.getRowCount()!==a.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,a,i,s){for(var o=new O6(t,a),c=0;c<2;c++)for(var u=c===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),p=Math.trunc(Math.trunc(n.getY()));p<=t.getMaxY()&&p>=t.getMinY();p+=u){var g=r.detectCodeword(e,0,e.getWidth(),a,d,p,i,s);g!=null&&(o.setCodeword(p,g),a?d=g.getStartX():d=g.getEndX())}return o},r.adjustCodewordCount=function(e,t){var n=t[0][1],a=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(a.length===0){if(i<1||i>zr.MAX_CODEWORDS_IN_BARCODE)throw it.getNotFoundInstance();n.setValue(i)}else a[0]!==i&&n.setValue(i)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,a=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var c=0;c<e.getBarcodeColumnCount();c++){var u=t[o][c+1].getValue(),d=o*e.getBarcodeColumnCount()+c;u.length===0?n.push(d):u.length===1?a[d]=u[0]:(s.push(d),i.push(u))}for(var p=new Array(i.length),g=0;g<p.length;g++)p[g]=i[g];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),a,zr.toIntArray(n),zr.toIntArray(s),p)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,a,i){for(var s=new Int32Array(a.length),o=100;o-- >0;){for(var c=0;c<s.length;c++)t[a[c]]=i[c][s[c]];try{return r.decodeCodewords(t,e,n)}catch(d){var u=d instanceof Ka;if(!u)throw d}if(s.length===0)throw Ka.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<i[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Ka.getChecksumInstance()}throw Ka.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,a,i,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<s.length;o++)for(var c=0;c<s[o].length;c++)s[o][c]=new y1;var u=0;try{for(var d=h1(e.getDetectionResultColumns()),p=d.next();!p.done;p=d.next()){var g=p.value;if(g!=null)try{for(var m=(a=void 0,h1(g.getCodewords())),y=m.next();!y.done;y=m.next()){var w=y.value;if(w!=null){var _=w.getRowNumber();if(_>=0){if(_>=s.length)continue;s[_][u].setValue(w.getValue())}}}}catch(S){a={error:S}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(a)throw a.error}}u++}}catch(S){t={error:S}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return s},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,a){var i,s,o=a?1:-1,c=null;if(r.isValidBarcodeColumn(e,t-o)&&(c=e.getDetectionResultColumn(t-o).getCodeword(n)),c!=null)return a?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(n),c!=null)return a?c.getStartX():c.getEndX();if(r.isValidBarcodeColumn(e,t-o)&&(c=e.getDetectionResultColumn(t-o).getCodewordNearby(n)),c!=null)return a?c.getEndX():c.getStartX();for(var u=0;r.isValidBarcodeColumn(e,t-o);){t-=o;try{for(var d=(i=void 0,h1(e.getDetectionResultColumn(t).getCodewords())),p=d.next();!p.done;p=d.next()){var g=p.value;if(g!=null)return(a?g.getEndX():g.getStartX())+o*u*(g.getEndX()-g.getStartX())}}catch(m){i={error:m}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}u++}return a?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,a,i,s,o,c){i=r.adjustCodewordStartColumn(e,t,n,a,i,s);var u=r.getModuleBitCount(e,t,n,a,i,s);if(u==null)return null;var d,p=Xr.sum(u);if(a)d=i+p;else{for(var g=0;g<u.length/2;g++){var m=u[g];u[g]=u[u.length-1-g],u[u.length-1-g]=m}d=i,i=d-p}if(!r.checkCodewordSkew(p,o,c))return null;var y=aV.getDecodedValue(u),w=zr.getCodeword(y);return w===-1?null:new nV(i,d,r.getCodewordBucketNumber(y),w)},r.getModuleBitCount=function(e,t,n,a,i,s){for(var o=i,c=new Int32Array(8),u=0,d=a?1:-1,p=a;(a?o<n:o>=t)&&u<c.length;)e.get(o,s)===p?(c[u]++,o+=d):(u++,p=!p);return u===c.length||o===(a?n:t)&&u===c.length-1?c:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,a,i,s){for(var o=i,c=a?-1:1,u=0;u<2;u++){for(;(a?o>=t:o<n)&&a===e.get(o,s);){if(Math.abs(i-o)>r.CODEWORD_SKEW_SIZE)return i;o+=c}c=-c,a=!a}return o},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw Ot.getFormatInstance();var a=1<<t+1,i=r.correctErrors(e,n,a);r.verifyCodewordCount(e,a);var s=pV.decode(e,""+t);return s.setErrorsCorrected(i),s.setErasures(n.length),s},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw Ka.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw Ot.getFormatInstance();var n=e[0];if(n>e.length)throw Ot.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw Ot.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,a=t.length-1;!((e&1)!==n&&(n=e&1,a--,a<0));)t[a]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new kw,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var a=0;a<e[n].length;a++){var i=e[n][a];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new Y$,r}(),mV=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cy=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw it.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof Ot||n instanceof Ka?it.getNotFoundInstance():n}},r.decode=function(e,t,n){var a,i,s=new Array,o=q$.detectMultiple(e,t,n);try{for(var c=mV(o.getPoints()),u=c.next();!u.done;u=c.next()){var d=u.value,p=gV.decode(o.getBits(),d[4],d[5],d[6],d[7],r.getMinCodewordWidth(d),r.getMaxCodewordWidth(d)),g=new Mi(p.getText(),p.getRawBytes(),void 0,d,Vt.PDF_417);g.putMetadata(mi.ERROR_CORRECTION_LEVEL,p.getECLevel());var m=p.getOther();m!=null&&g.putMetadata(mi.PDF417_EXTRA_METADATA,m),s.push(g)}}catch(y){a={error:y}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return s.map(function(y){return y})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?Nr.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*zr.MODULES_IN_CODEWORD/zr.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}(),xV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k6=function(r){xV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(Cs),L6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vV=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(On.TRY_HARDER)!==void 0,n=e==null?null:e.get(On.POSSIBLE_FORMATS),a=new Array;if(n!=null){var i=n.some(function(s){return s===Vt.UPC_A||s===Vt.UPC_E||s===Vt.EAN_13||s===Vt.EAN_8||s===Vt.CODABAR||s===Vt.CODE_39||s===Vt.CODE_93||s===Vt.CODE_128||s===Vt.ITF||s===Vt.RSS_14||s===Vt.RSS_EXPANDED});i&&!t&&a.push(new v1(e)),n.includes(Vt.QR_CODE)&&a.push(new Ay),n.includes(Vt.DATA_MATRIX)&&a.push(new Ey),n.includes(Vt.AZTEC)&&a.push(new _y),n.includes(Vt.PDF_417)&&a.push(new Cy),i&&t&&a.push(new v1(e))}a.length===0&&(t||a.push(new v1(e)),a.push(new Ay),a.push(new Ey),a.push(new _y),a.push(new Cy),t&&a.push(new v1(e))),this.readers=a},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=L6(this.readers),a=n.next();!a.done;a=n.next()){var i=a.value;i.reset()}}catch(s){e={error:s}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new k6("No readers where selected, nothing can be read.");try{for(var a=L6(this.readers),i=a.next();!i.done;i=a.next()){var s=i.value;try{return s.decode(e,this.hints)}catch(o){if(o instanceof k6)continue}}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}throw new it("No MultiFormat Readers were able to detect the code.")},r}(),yV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wV=function(r){yV(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var a=this,i=new vV;return i.setHints(t),a=r.call(this,i,n)||this,a}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(oh),bV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){bV(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Cy,t)||this}return e})(oh);var _V=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){_V(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Ay,t)||this}return e})(oh);var Ty;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",r[r.MIN_SIZE=4]="MIN_SIZE",r[r.MAX_SIZE=5]="MAX_SIZE",r[r.MARGIN=6]="MARGIN",r[r.PDF417_COMPACT=7]="PDF417_COMPACT",r[r.PDF417_COMPACTION=8]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=10]="AZTEC_LAYERS",r[r.QR_VERSION=11]="QR_VERSION",r[r.GS1_FORMAT=12]="GS1_FORMAT",r[r.FORCE_C40=13]="FORCE_C40"})(Ty||(Ty={}));const sm=Ty;var nN=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Xu(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],a=this.field,i=t.length;i<=e;i++){var s=n.multiply(new Xu(a,Int32Array.from([1,a.exp(i-1+a.getGeneratorBase())])));t.push(s),n=s}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new Kt("No error correction bytes");var n=e.length-t;if(n<=0)throw new Kt("No data bytes provided");var a=this.buildGenerator(t),i=new Int32Array(n);jn.arraycopy(e,0,i,0,n);var s=new Xu(this.field,i);s=s.multiplyByMonomial(t,1);for(var o=s.divide(a)[1],c=o.getCoefficients(),u=t-c.length,d=0;d<u;d++)e[n+d]=0;jn.arraycopy(c,0,e,n+u,c.length)},r}(),w1=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i-1;s++)for(var o=n[s],c=0;c<a-1;c++){var u=o[c];u===o[c+1]&&u===n[s+1][c]&&u===n[s+1][c+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=0;o<a;o++){var c=n[s];o+6<a&&c[o]===1&&c[o+1]===0&&c[o+2]===1&&c[o+3]===1&&c[o+4]===1&&c[o+5]===0&&c[o+6]===1&&(r.isWhiteHorizontal(c,o-4,o)||r.isWhiteHorizontal(c,o+7,o+11))&&t++,s+6<i&&n[s][o]===1&&n[s+1][o]===0&&n[s+2][o]===1&&n[s+3][o]===1&&n[s+4][o]===1&&n[s+5][o]===0&&n[s+6][o]===1&&(r.isWhiteVertical(n,o,s-4,s)||r.isWhiteVertical(n,o,s+7,s+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var a=t;a<n;a++)if(e[a]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,a){n=Math.max(n,0),a=Math.min(a,e.length);for(var i=n;i<a;i++)if(e[i][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),a=e.getWidth(),i=e.getHeight(),s=0;s<i;s++)for(var o=n[s],c=0;c<a;c++)o[c]===1&&t++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(t*2-u)*10/u);return d*r.N4},r.getDataMaskBit=function(e,t,n){var a,i;switch(e){case 0:a=n+t&1;break;case 1:a=n&1;break;case 2:a=t%3;break;case 3:a=(n+t)%3;break;case 4:a=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:i=n*t,a=(i&1)+i%3;break;case 6:i=n*t,a=(i&1)+i%3&1;break;case 7:i=n*t,a=i%3+(n+t&1)&1;break;default:throw new Kt("Invalid mask pattern: "+e)}return a===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,a=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),s=e.getArray(),o=0;o<a;o++){for(var c=0,u=-1,d=0;d<i;d++){var p=t?s[o][d]:s[d][o];p===u?c++:(c>=5&&(n+=r.N1+(c-5)),c=1,u=p)}c>=5&&(n+=r.N1+(c-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}(),SV=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EV=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),a=0;a!==t;a++)n[a]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var a=SV(this.bytes),i=a.next();!i.done;i=a.next()){var s=i.value;Pa.fill(s,e)}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,a=this.height;n<a;++n)for(var i=this.bytes[n],s=t.bytes[n],o=0,c=this.width;o<c;++o)if(i[o]!==s[o])return!1;return!0},r.prototype.toString=function(){for(var e=new Sr,t=0,n=this.height;t<n;++t){for(var a=this.bytes[t],i=0,s=this.width;i<s;++i)switch(a[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}(),jy=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new Sr;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}(),AV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dn=function(r){AV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(Cs),D6=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,a,i){r.clearMatrix(i),r.embedBasicPatterns(n,i),r.embedTypeInfo(t,a,i),r.maybeEmbedVersionInfo(n,i),r.embedDataBits(e,a,i)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var a=new Qa;r.makeTypeInfoBits(e,t,a);for(var i=0,s=a.getSize();i<s;++i){var o=a.get(a.getSize()-1-i),c=r.TYPE_INFO_COORDINATES[i],u=c[0],d=c[1];if(n.setBoolean(u,d,o),i<8){var p=n.getWidth()-i-1,g=8;n.setBoolean(p,g,o)}else{var p=8,g=n.getHeight()-7+(i-8);n.setBoolean(p,g,o)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new Qa;r.makeVersionInfoBits(e,n);for(var a=6*3-1,i=0;i<6;++i)for(var s=0;s<3;++s){var o=n.get(a);a--,t.setBoolean(i,t.getHeight()-11+s,o),t.setBoolean(t.getHeight()-11+s,i,o)}}},r.embedDataBits=function(e,t,n){for(var a=0,i=-1,s=n.getWidth()-1,o=n.getHeight()-1;s>0;){for(s===6&&(s-=1);o>=0&&o<n.getHeight();){for(var c=0;c<2;++c){var u=s-c;if(r.isEmpty(n.get(u,o))){var d=void 0;a<e.getSize()?(d=e.get(a),++a):d=!1,t!==255&&w1.getDataMaskBit(t,u,o)&&(d=!d),n.setBoolean(u,o,d)}}o+=i}i=-i,o+=i,s-=2}if(a!==e.getSize())throw new Dn("Not all bits consumed: "+a+"/"+e.getSize())},r.findMSBSet=function(e){return 32-Nr.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new Kt("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!jy.isValidMaskPattern(t))throw new Dn("Invalid mask pattern");var a=e.getBits()<<3|t;n.appendBits(a,5);var i=r.calculateBCHCode(a,r.TYPE_INFO_POLY);n.appendBits(i,10);var s=new Qa;if(s.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Dn("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Dn("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Dn;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var a=0;a<8;++a){if(!r.isEmpty(n.get(e+a,t)))throw new Dn;n.setNumber(e+a,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var a=0;a<7;++a){if(!r.isEmpty(n.get(e,t+a)))throw new Dn;n.setNumber(e,t+a,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var a=0;a<5;++a)for(var i=r.POSITION_ADJUSTMENT_PATTERN[a],s=0;s<5;++s)n.setNumber(e+s,t+a,i[s])},r.embedPositionDetectionPattern=function(e,t,n){for(var a=0;a<7;++a)for(var i=r.POSITION_DETECTION_PATTERN[a],s=0;s<7;++s)n.setNumber(e+s,t+a,i[s])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var a=7;r.embedVerticalSeparationPattern(a,0,e),r.embedVerticalSeparationPattern(e.getHeight()-a-1,0,e),r.embedVerticalSeparationPattern(a,e.getHeight()-a,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,a=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],i=0,s=a.length;i!==s;i++){var o=a[i];if(o>=0)for(var c=0;c!==s;c++){var u=a[c];u>=0&&r.isEmpty(t.get(u,o))&&r.embedPositionAdjustmentPattern(u-2,o-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}(),NV=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}(),I6=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.calculateMaskPenalty=function(e){return w1.applyMaskPenaltyRule1(e)+w1.applyMaskPenaltyRule2(e)+w1.applyMaskPenaltyRule3(e)+w1.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var a=r.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(sm.CHARACTER_SET)!==void 0;i&&(a=n.get(sm.CHARACTER_SET).toString());var s=this.chooseMode(e,a),o=new Qa;if(s===In.BYTE&&(i||r.DEFAULT_BYTE_MODE_ENCODING!==a)){var c=Ia.getCharacterSetECIByName(a);c!==void 0&&this.appendECI(c,o)}this.appendModeInfo(s,o);var u=new Qa;this.appendBytes(e,s,u,a);var d;if(n!==null&&n.get(sm.QR_VERSION)!==void 0){var p=Number.parseInt(n.get(sm.QR_VERSION).toString(),10);d=sf.getVersionForNumber(p);var g=this.calculateBitsNeeded(s,o,u,d);if(!this.willFit(g,d,t))throw new Dn("Data too big for requested version")}else d=this.recommendVersion(t,s,o,u);var m=new Qa;m.appendBitArray(o);var y=s===In.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(y,d,s,m),m.appendBitArray(u);var w=d.getECBlocksForLevel(t),_=d.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(_,m);var S=this.interleaveWithECBytes(m,d.getTotalCodewords(),_,w.getNumBlocks()),A=new jy;A.setECLevel(t),A.setMode(s),A.setVersion(d);var C=d.getDimensionForVersion(),L=new EV(C,C),B=this.chooseMaskPattern(S,t,d,L);return A.setMaskPattern(B),D6.buildMatrix(S,t,d,B,L),A.setMatrix(L),A},r.recommendVersion=function(e,t,n,a){var i=this.calculateBitsNeeded(t,n,a,sf.getVersionForNumber(1)),s=this.chooseVersion(i,e),o=this.calculateBitsNeeded(t,n,a,s);return this.chooseVersion(o,e)},r.calculateBitsNeeded=function(e,t,n,a){return t.getSize()+e.getCharacterCountBits(a)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),Ia.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return In.KANJI;for(var n=!1,a=!1,i=0,s=e.length;i<s;++i){var o=e.charAt(i);if(r.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)a=!0;else return In.BYTE}return a?In.ALPHANUMERIC:n?In.NUMERIC:In.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=_o.encode(e,Ia.SJIS)}catch(s){return!1}var n=t.length;if(n%2!==0)return!1;for(var a=0;a<n;a+=2){var i=t[a]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,a){for(var i=Number.MAX_SAFE_INTEGER,s=-1,o=0;o<jy.NUM_MASK_PATTERNS;o++){D6.buildMatrix(e,t,n,o,a);var c=this.calculateMaskPenalty(a);c<i&&(i=c,s=o)}return s},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var a=sf.getVersionForNumber(n);if(r.willFit(e,a,t))return a}throw new Dn("Data too big")},r.willFit=function(e,t,n){var a=t.getTotalCodewords(),i=t.getECBlocksForLevel(n),s=i.getTotalECCodewords(),o=a-s,c=(e+7)/8;return o>=c},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new Dn("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);var i=t.getSize()&7;if(i>0)for(var a=i;a<8;a++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),a=0;a<s;++a)t.appendBits((a&1)===0?236:17,8);if(t.getSize()!==n)throw new Dn("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,a,i,s){if(a>=n)throw new Dn("Block ID too large");var o=e%n,c=n-o,u=Math.floor(e/n),d=u+1,p=Math.floor(t/n),g=p+1,m=u-p,y=d-g;if(m!==y)throw new Dn("EC bytes mismatch");if(n!==c+o)throw new Dn("RS blocks mismatch");if(e!==(p+m)*c+(g+y)*o)throw new Dn("Total bytes mismatch");a<c?(i[0]=p,s[0]=m):(i[0]=g,s[0]=y)},r.interleaveWithECBytes=function(e,t,n,a){var i,s,o,c;if(e.getSizeInBytes()!==n)throw new Dn("Number of bits and data bytes does not match");for(var u=0,d=0,p=0,g=new Array,m=0;m<a;++m){var y=new Int32Array(1),w=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,a,m,y,w);var _=y[0],S=new Uint8Array(_);e.toBytes(8*u,S,0,_);var A=r.generateECBytes(S,w[0]);g.push(new NV(S,A)),d=Math.max(d,_),p=Math.max(p,A.length),u+=y[0]}if(n!==u)throw new Dn("Data bytes does not match offset");for(var C=new Qa,m=0;m<d;++m)try{for(var L=(i=void 0,I6(g)),B=L.next();!B.done;B=L.next()){var M=B.value,S=M.getDataBytes();m<S.length&&C.appendBits(S[m],8)}}catch(q){i={error:q}}finally{try{B&&!B.done&&(s=L.return)&&s.call(L)}finally{if(i)throw i.error}}for(var m=0;m<p;++m)try{for(var F=(o=void 0,I6(g)),D=F.next();!D.done;D=F.next()){var M=D.value,A=M.getErrorCorrectionBytes();m<A.length&&C.appendBits(A[m],8)}}catch(q){o={error:q}}finally{try{D&&!D.done&&(c=F.return)&&c.call(F)}finally{if(o)throw o.error}}if(t!==C.getSizeInBytes())throw new Dn("Interleaving error: "+t+" and "+C.getSizeInBytes()+" differ.");return C},r.generateECBytes=function(e,t){for(var n=e.length,a=new Int32Array(n+t),i=0;i<n;i++)a[i]=e[i]&255;new nN(ys.QR_CODE_FIELD_256).encode(a,t);for(var s=new Uint8Array(t),i=0;i<t;i++)s[i]=a[n+i];return s},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,a){var i=n.getCharacterCountBits(t);if(e>=1<<i)throw new Dn(e+" is bigger than "+((1<<i)-1));a.appendBits(e,i)},r.appendBytes=function(e,t,n,a){switch(t){case In.NUMERIC:r.appendNumericBytes(e,n);break;case In.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case In.BYTE:r.append8BitBytes(e,n,a);break;case In.KANJI:r.appendKanjiBytes(e,n);break;default:throw new Dn("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,a=0;a<n;){var i=r.getDigit(e.charAt(a));if(a+2<n){var s=r.getDigit(e.charAt(a+1)),o=r.getDigit(e.charAt(a+2));t.appendBits(i*100+s*10+o,10),a+=3}else if(a+1<n){var s=r.getDigit(e.charAt(a+1));t.appendBits(i*10+s,7),a+=2}else t.appendBits(i,4),a++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,a=0;a<n;){var i=r.getAlphanumericCode(e.charCodeAt(a));if(i===-1)throw new Dn;if(a+1<n){var s=r.getAlphanumericCode(e.charCodeAt(a+1));if(s===-1)throw new Dn;t.appendBits(i*45+s,11),a+=2}else t.appendBits(i,6),a++}},r.append8BitBytes=function(e,t,n){var a;try{a=_o.encode(e,n)}catch(c){throw new Dn(c)}for(var i=0,s=a.length;i!==s;i++){var o=a[i];t.appendBits(o,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=_o.encode(e,Ia.SJIS)}catch(p){throw new Dn(p)}for(var a=n.length,i=0;i<a;i+=2){var s=n[i]&255,o=n[i+1]&255,c=s<<8&4294967295|o,u=-1;if(c>=33088&&c<=40956?u=c-33088:c>=57408&&c<=60351&&(u=c-49472),u===-1)throw new Dn("Invalid byte sequence");var d=(u>>8)*192+(u&255);t.appendBits(d,13)}},r.appendECI=function(e,t){t.appendBits(In.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Ia.UTF8.getName(),r})();var CV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){CV(e,r);function e(t,n,a,i,s,o,c,u){var d=r.call(this,o,c)||this;if(d.yuvData=t,d.dataWidth=n,d.dataHeight=a,d.left=i,d.top=s,i+o>n||s+c>a)throw new Kt("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(o,c),d}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Kt("Requested row is outside the image: "+t);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(t+this.top)*this.dataWidth+this.left;return jn.arraycopy(this.yuvData,i,n,0,a),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var a=t*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return jn.arraycopy(this.yuvData,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*t;jn.arraycopy(this.yuvData,s,i,c,t),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,a,i,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*n),i=this.yuvData,s=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var c=o*t,u=0;u<t;u++){var d=i[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;a[c+u]=4278190080|d*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return a},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var a=this.yuvData,i=0,s=this.top*this.dataWidth+this.left;i<n;i++,s+=this.dataWidth)for(var o=s+t/2,c=s,u=s+t-1;c<o;c++,u--){var d=a[c];a[c]=a[u],a[u]=d}},e.prototype.invert=function(){return new Tw(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(N2);var TV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();(function(r){TV(e,r);function e(t,n,a,i,s,o,c){var u=r.call(this,n,a)||this;if(u.dataWidth=i,u.dataHeight=s,u.left=o,u.top=c,t.BYTES_PER_ELEMENT===4){for(var d=n*a,p=new Uint8ClampedArray(d),g=0;g<d;g++){var m=t[g],y=m>>16&255,w=m>>7&510,_=m&255;p[g]=(y+w+_)/4&255}u.luminances=p}else u.luminances=t;if(i===void 0&&(u.dataWidth=n),s===void 0&&(u.dataHeight=a),o===void 0&&(u.left=0),c===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+a>u.dataHeight)throw new Kt("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Kt("Requested row is outside the image: "+t);var a=this.getWidth();(n==null||n.length<a)&&(n=new Uint8ClampedArray(a));var i=(t+this.top)*this.dataWidth+this.left;return jn.arraycopy(this.luminances,i,n,0,a),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var a=t*n,i=new Uint8ClampedArray(a),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return jn.arraycopy(this.luminances,s,i,0,a),i;for(var o=0;o<n;o++){var c=o*t;jn.arraycopy(this.luminances,s,i,c,t),s+=this.dataWidth}return i},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,a,i){return new e(this.luminances,a,i,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new Tw(this)},e})(N2);var jV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OV=function(r){jV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(Ia),RV=function(){function r(){}return r.ISO_8859_1=Ia.ISO8859_1,r}(),Oy,kV=301,LV=function(r,e){for(var t=1,n=0;n<255;n++)e[n]=t,r[t]=n,t*=2,t>=256&&(t^=kV);return{LOG:r,ALOG:e}};Oy=LV([],[]),Oy.LOG;Oy.ALOG;var P6;(function(r){r[r.FORCE_NONE=0]="FORCE_NONE",r[r.FORCE_SQUARE=1]="FORCE_SQUARE",r[r.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(P6||(P6={}));var F6=129,aN=230,DV=231,IV=235,PV=236,FV=237,MV=238,BV=239,UV=240,jv=254,zV=254,M6="[)>05",B6="[)>06",U6="",fn=0,di=1,Ji=2,ka=3,Ga=4,ki=5,HV=function(){function r(){}return r.prototype.getEncodingMode=function(){return fn},r.prototype.encode=function(e){var t=ol.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),a=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode())switch(a){case ki:e.writeCodeword(DV),e.signalEncoderChange(ki);return;case di:e.writeCodeword(aN),e.signalEncoderChange(di);return;case ka:e.writeCodeword(MV),e.signalEncoderChange(ka);break;case Ji:e.writeCodeword(BV),e.signalEncoderChange(Ji);break;case Ga:e.writeCodeword(UV),e.signalEncoderChange(Ga);break;default:throw new Error("Illegal mode: "+a)}else ol.isExtendedASCII(n)?(e.writeCodeword(IV),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},r.prototype.encodeASCIIDigits=function(e,t){if(ol.isDigit(e)&&ol.isDigit(t)){var n=(e-48)*10+(t-48);return n+130}throw new Error("not digits: "+e+t)},r}(),qV=function(){function r(){}return r.prototype.getEncodingMode=function(){return ki},r.prototype.encode=function(e){var t=new Sr;for(t.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();t.append(n),e.pos++;var a=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(fn);break}}var i=t.length()-1,s=1,o=e.getCodewordCount()+i+s;e.updateSymbolInfo(o);var c=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||c)if(i<=249)t.setCharAt(0,Mr.getCharAt(i));else if(i<=1555)t.setCharAt(0,Mr.getCharAt(Math.floor(i/250)+249)),t.insert(1,Mr.getCharAt(i%250));else throw new Error("Message length not in valid ranges: "+i);for(var u=0,n=t.length();u<n;u++)e.writeCodeword(this.randomize255State(t.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},r.prototype.randomize255State=function(e,t){var n=149*t%255+1,a=e+n;return a<=255?a:a-256},r}(),Lw=function(){function r(){}return r.prototype.getEncodingMode=function(){return di},r.prototype.encodeMaximal=function(e){for(var t=new Sr,n=0,a=e.pos,i=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,n=this.encodeChar(s,t),t.length()%3===0&&(a=e.pos,i=t.length())}if(i!==t.length()){var o=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(c);var u=e.getSymbolInfo().getDataCapacity()-c,d=Math.floor(t.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=a)}t.length()>0&&e.writeCodeword(aN),this.handleEOD(e,t)},r.prototype.encode=function(e){for(var t=new Sr;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var a=this.encodeChar(n,t),i=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+i;e.updateSymbolInfo(s);var o=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new Sr;for(t.length()%3===2&&o!==2&&(a=this.backtrackOneCharacter(e,t,c,a));t.length()%3===1&&(a>3||o!==1);)a=this.backtrackOneCharacter(e,t,c,a);break}var u=t.length();if(u%3===0){var d=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(fn);break}}}this.handleEOD(e,t)},r.prototype.backtrackOneCharacter=function(e,t,n,a){var i=t.length(),s=t.toString().substring(0,i-a);t.setLengthToZero(),t.append(s),e.pos--;var o=e.getCurrentChar();return a=this.encodeChar(o,n),e.resetSymbolInfo(),a},r.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var n=t.toString().substring(3);t.setLengthToZero(),t.append(n)},r.prototype.handleEOD=function(e,t){var n=Math.floor(t.length()/3*2),a=t.length()%3,i=e.getCodewordCount()+n;e.updateSymbolInfo(i);var s=e.getSymbolInfo().getDataCapacity()-i;if(a===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(jv)}else if(s===1&&a===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(jv),e.pos--}else if(a===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(jv)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(fn)},r.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var n=2;return n+=this.encodeChar(e-128,t),n},r.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=t/256,a=t%256,i=new Sr;return i.append(n),i.append(a),i.toString()},r}(),$V=function(){function r(){}return r.prototype.getEncodingMode=function(){return Ga},r.prototype.encode=function(e){for(var t=new Sr;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,t),e.pos++;var a=t.length();if(a>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var i=t.toString().substring(4);t.setLengthToZero(),t.append(i);var s=ol.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(fn);break}}}t.append(Mr.getCharAt(31)),this.handleEOD(e,t)},r.prototype.handleEOD=function(e,t){try{var n=t.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),i=e.getRemainingCharacters();if(i>a&&(e.updateSymbolInfo(e.getCodewordCount()+1),a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),i<=a&&a<=2)return}if(n>4)throw new Error("Count must not exceed 4");var s=n-1,o=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),u=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var a=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();a>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(o)}finally{e.signalEncoderChange(fn)}},r.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(Mr.getCharAt(e-64)):ol.illegalCharacter(Mr.getCharAt(e))},r.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),a=t>=2?e.charAt(1).charCodeAt(0):0,i=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(a<<12)+(i<<6)+s,c=o>>16&255,u=o>>8&255,d=o&255,p=new Sr;return p.append(c),t>=2&&p.append(u),t>=3&&p.append(d),p.toString()},r}(),VV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GV=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zr=function(){function r(e,t,n,a,i,s,o,c){o===void 0&&(o=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=n,this.matrixWidth=a,this.matrixHeight=i,this.dataRegions=s,this.rsBlockData=o,this.rsBlockError=c}return r.lookup=function(e,t,n,a,i){var s,o;t===void 0&&(t=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!0);try{for(var c=GV(XV),u=c.next();!u.done;u=c.next()){var d=u.value;if(!(t===1&&d.rectangular)&&!(t===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(a!=null&&(d.getSymbolWidth()>a.getWidth()||d.getSymbolHeight()>a.getHeight()))&&e<=d.dataCapacity)return d}}catch(p){s={error:p}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}if(i)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},r.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},r.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},r.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},r.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},r.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},r.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},r.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},r.prototype.getDataCapacity=function(){return this.dataCapacity},r.prototype.getErrorCodewords=function(){return this.errorCodewords},r.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},r.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},r}(),WV=function(r){VV(e,r);function e(){return r.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(Zr),XV=[new Zr(!1,3,5,8,8,1),new Zr(!1,5,7,10,10,1),new Zr(!0,5,7,16,6,1),new Zr(!1,8,10,12,12,1),new Zr(!0,10,11,14,6,2),new Zr(!1,12,12,14,14,1),new Zr(!0,16,14,24,10,1),new Zr(!1,18,14,16,16,1),new Zr(!1,22,18,18,18,1),new Zr(!0,22,18,16,10,2),new Zr(!1,30,20,20,20,1),new Zr(!0,32,24,16,14,2),new Zr(!1,36,24,22,22,1),new Zr(!1,44,28,24,24,1),new Zr(!0,49,28,22,14,2),new Zr(!1,62,36,14,14,4),new Zr(!1,86,42,16,16,4),new Zr(!1,114,48,18,18,4),new Zr(!1,144,56,20,20,4),new Zr(!1,174,68,22,22,4),new Zr(!1,204,84,24,24,4,102,42),new Zr(!1,280,112,14,14,16,140,56),new Zr(!1,368,144,16,16,16,92,36),new Zr(!1,456,192,18,18,16,114,48),new Zr(!1,576,224,20,20,16,144,56),new Zr(!1,696,272,22,22,16,174,68),new Zr(!1,816,336,24,24,16,136,56),new Zr(!1,1050,408,18,18,36,175,68),new Zr(!1,1304,496,20,20,36,163,62),new WV],YV=function(){function r(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(o){return o.charCodeAt(0)}),n=new Sr,a=0,i=t.length;a<i;a++){var s=String.fromCharCode(t[a]&255);if(s==="?"&&e.charAt(a)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(s)}this.msg=n.toString(),this.shape=0,this.codewords=new Sr,this.newEncoding=-1}return r.prototype.setSymbolShape=function(e){this.shape=e},r.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},r.prototype.getMessage=function(){return this.msg},r.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},r.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},r.prototype.getCodewords=function(){return this.codewords},r.prototype.writeCodewords=function(e){this.codewords.append(e)},r.prototype.writeCodeword=function(e){this.codewords.append(e)},r.prototype.getCodewordCount=function(){return this.codewords.length()},r.prototype.getNewEncoding=function(){return this.newEncoding},r.prototype.signalEncoderChange=function(e){this.newEncoding=e},r.prototype.resetEncoderSignal=function(){this.newEncoding=-1},r.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},r.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},r.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},r.prototype.getSymbolInfo=function(){return this.symbolInfo},r.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Zr.lookup(e,this.shape,this.minSize,this.maxSize,!0))},r.prototype.resetSymbolInfo=function(){this.symbolInfo=null},r}(),KV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZV=function(r){KV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ka},e.prototype.encode=function(t){for(var n=new Sr;t.hasMoreCharacters();){var a=t.getCurrentChar();t.pos++,this.encodeChar(a,n);var i=n.length();if(i%3===0){this.writeNextTriplet(t,n);var s=ol.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(fn);break}}}this.handleEOD(t,n)},e.prototype.encodeChar=function(t,n){switch(t){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:t>=48&&t<=57?n.append(t-48+4):t>=65&&t<=90?n.append(t-65+14):ol.illegalCharacter(Mr.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,n){t.updateSymbolInfo();var a=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),i=n.length();t.pos-=i,(t.getRemainingCharacters()>1||a>1||t.getRemainingCharacters()!==a)&&t.writeCodeword(zV),t.getNewEncoding()<0&&t.signalEncoderChange(fn)},e}(Lw),JV=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QV=function(r){JV(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ji},e.prototype.encodeChar=function(t,n){if(t===32)return n.append(3),1;if(t>=48&&t<=57)return n.append(t-48+4),1;if(t>=97&&t<=122)return n.append(t-97+14),1;if(t<32)return n.append(0),n.append(t),2;if(t<=47)return n.append(1),n.append(t-33),2;if(t<=64)return n.append(1),n.append(t-58+15),2;if(t>=91&&t<=95)return n.append(1),n.append(t-91+22),2;if(t===96)return n.append(2),n.append(0),2;if(t<=90)return n.append(2),n.append(t-65+1),2;if(t<=127)return n.append(2),n.append(t-123+27),2;n.append("1");var a=2;return a+=this.encodeChar(t-128,n),a},e}(Lw),ol=function(){function r(){}return r.randomize253State=function(e){var t=149*e%253+1,n=F6+t;return n<=254?n:n-254},r.encodeHighLevel=function(e,t,n,a,i){t===void 0&&(t=0),n===void 0&&(n=null),a===void 0&&(a=null),i===void 0&&(i=!1);var s=new Lw,o=[new HV,s,new QV,new ZV,new $V,new qV],c=new YV(e);c.setSymbolShape(t),c.setSizeConstraints(n,a),e.startsWith(M6)&&e.endsWith(U6)?(c.writeCodeword(PV),c.setSkipAtEnd(2),c.pos+=M6.length):e.startsWith(B6)&&e.endsWith(U6)&&(c.writeCodeword(FV),c.setSkipAtEnd(2),c.pos+=B6.length);var u=fn;for(i&&(s.encodeMaximal(c),u=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)o[u].encode(c),c.getNewEncoding()>=0&&(u=c.getNewEncoding(),c.resetEncoderSignal());var d=c.getCodewordCount();c.updateSymbolInfo();var p=c.getSymbolInfo().getDataCapacity();d<p&&u!==fn&&u!==ki&&u!==Ga&&c.writeCodeword("");var g=c.getCodewords();for(g.length()<p&&g.append(F6);g.length()<p;)g.append(this.randomize253State(g.length()+1));return c.getCodewords().toString()},r.lookAheadTest=function(e,t,n){var a=this.lookAheadTestIntern(e,t,n);if(n===ka&&a===ka){for(var i=Math.min(t+3,e.length),s=t;s<i;s++)if(!this.isNativeX12(e.charCodeAt(s)))return fn}else if(n===Ga&&a===Ga){for(var i=Math.min(t+4,e.length),s=t;s<i;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return fn}return a},r.lookAheadTestIntern=function(e,t,n){if(t>=e.length)return n;var a;n===fn?a=[0,1,1,1,1,1.25]:(a=[1,2,2,2,2,2.25],a[n]=0);for(var i=0,s=new Uint8Array(6),o=[];;){if(t+i===e.length){Pa.fill(s,0),Pa.fill(o,0);var c=this.findMinimums(a,o,Nr.MAX_VALUE,s),u=this.getMinimumCount(s);if(o[fn]===c)return fn;if(u===1){if(s[ki]>0)return ki;if(s[Ga]>0)return Ga;if(s[Ji]>0)return Ji;if(s[ka]>0)return ka}return di}var d=e.charCodeAt(t+i);if(i++,this.isDigit(d)?a[fn]+=.5:this.isExtendedASCII(d)?(a[fn]=Math.ceil(a[fn]),a[fn]+=2):(a[fn]=Math.ceil(a[fn]),a[fn]++),this.isNativeC40(d)?a[di]+=2/3:this.isExtendedASCII(d)?a[di]+=8/3:a[di]+=4/3,this.isNativeText(d)?a[Ji]+=2/3:this.isExtendedASCII(d)?a[Ji]+=8/3:a[Ji]+=4/3,this.isNativeX12(d)?a[ka]+=2/3:this.isExtendedASCII(d)?a[ka]+=13/3:a[ka]+=10/3,this.isNativeEDIFACT(d)?a[Ga]+=3/4:this.isExtendedASCII(d)?a[Ga]+=17/4:a[Ga]+=13/4,this.isSpecialB256(d)?a[ki]+=4:a[ki]++,i>=4){if(Pa.fill(s,0),Pa.fill(o,0),this.findMinimums(a,o,Nr.MAX_VALUE,s),o[fn]<this.min(o[ki],o[di],o[Ji],o[ka],o[Ga]))return fn;if(o[ki]<o[fn]||o[ki]+1<this.min(o[di],o[Ji],o[ka],o[Ga]))return ki;if(o[Ga]+1<this.min(o[ki],o[di],o[Ji],o[ka],o[fn]))return Ga;if(o[Ji]+1<this.min(o[ki],o[di],o[Ga],o[ka],o[fn]))return Ji;if(o[ka]+1<this.min(o[ki],o[di],o[Ga],o[Ji],o[fn]))return ka;if(o[di]+1<this.min(o[fn],o[ki],o[Ga],o[Ji])){if(o[di]<o[ka])return di;if(o[di]===o[ka]){for(var p=t+i+1;p<e.length;){var g=e.charCodeAt(p);if(this.isX12TermSep(g))return ka;if(!this.isNativeX12(g))break;p++}return di}}}}},r.min=function(e,t,n,a,i){var s=Math.min(e,Math.min(t,Math.min(n,a)));return i===void 0?s:Math.min(s,i)},r.findMinimums=function(e,t,n,a){for(var i=0;i<6;i++){var s=t[i]=Math.ceil(e[i]);n>s&&(n=s,Pa.fill(a,0)),n===s&&(a[i]=a[i]+1)}return n},r.getMinimumCount=function(e){for(var t=0,n=0;n<6;n++)t+=e[n];return t||0},r.isDigit=function(e){return e>=48&&e<=57},r.isExtendedASCII=function(e){return e>=128&&e<=255},r.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},r.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},r.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},r.isX12TermSep=function(e){return e===13||e===42||e===62},r.isNativeEDIFACT=function(e){return e>=32&&e<=94},r.isSpecialB256=function(e){return!1},r.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var n=e.length,a=t;a<n&&this.isDigit(e.charCodeAt(a));)a++;return a-t},r.illegalCharacter=function(e){var t=Nr.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},r}(),Ov=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z6=function(){function r(e){this.charset=e,this.name=e.name}return r.prototype.canEncode=function(e){try{return _o.encode(e,this.charset)!=null}catch(t){return!1}},r}(),eG=function(){function r(e,t,n){var a,i,s,o,c,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(O){return new z6(OV.forName(O))}),this.encoders=[];var d=[];d.push(new z6(RV.ISO_8859_1));for(var p=t!=null&&t.name.startsWith("UTF"),g=0;g<e.length;g++){var m=!1;try{for(var y=(a=void 0,Ov(d)),w=y.next();!w.done;w=y.next()){var _=w.value,S=e.charAt(g),A=S.charCodeAt(0);if(A===n||_.canEncode(S)){m=!0;break}}}catch(O){a={error:O}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(a)throw a.error}}if(!m)try{for(var C=(s=void 0,Ov(this.ENCODERS)),L=C.next();!L.done;L=C.next()){var _=L.value;if(_.canEncode(e.charAt(g))){d.push(_),m=!0;break}}}catch(O){s={error:O}}finally{try{L&&!L.done&&(o=C.return)&&o.call(C)}finally{if(s)throw s.error}}m||(p=!0)}if(d.length===1&&!p)this.encoders=[d[0]];else{this.encoders=[];var B=0;try{for(var M=Ov(d),F=M.next();!F.done;F=M.next()){var _=F.value;this.encoders[B++]=_}}catch(O){c={error:O}}finally{try{F&&!F.done&&(u=M.return)&&u.call(M)}finally{if(c)throw c.error}}}var D=-1;if(t!=null){for(var g=0;g<this.encoders.length;g++)if(this.encoders[g]!=null&&t.name===this.encoders[g].name){D=g;break}}this.priorityEncoderIndex=D}return r.prototype.length=function(){return this.encoders.length},r.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},r.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},r.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},r.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},r.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},r.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return _o.encode(Mr.getCharAt(e),this.encoders[t].name)},r}(),tG=3,rG=function(){function r(e,t,n){this.fnc1=n;var a=new eG(e,t,n);if(a.length()===1)for(var i=0;i<this.bytes.length;i++){var s=e.charAt(i).charCodeAt(0);this.bytes[i]=s===n?1e3:s}else this.bytes=this.encodeMinimally(e,a,n)}return r.prototype.getFNC1Character=function(){return this.fnc1},r.prototype.length=function(){return this.bytes.length},r.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var n=0;n<t;n++)if(this.isECI(e+n))return!1;return!0},r.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},r.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var n=new Sr,a=e;a<t;a++){if(this.isECI(a))throw new Error("value at "+a+" is not a character but an ECI");n.append(this.charAt(a))}return n.toString()},r.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},r.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},r.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},r.prototype.addEdge=function(e,t,n){(e[t][n.encoderIndex]==null||e[t][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[t][n.encoderIndex]=n)},r.prototype.addEdges=function(e,t,n,a,i,s){var o=e.charAt(a).charCodeAt(0),c=0,u=t.length();t.getPriorityEncoderIndex()>=0&&(o===s||t.canEncode(o,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),u=c+1);for(var d=c;d<u;d++)(o===s||t.canEncode(o,d))&&this.addEdge(n,a+1,new H6(o,t,d,i,s))},r.prototype.encodeMinimally=function(e,t,n){var a=e.length,i=new H6[a+1][t.length()];this.addEdges(e,t,i,0,null,n);for(var s=1;s<=a;s++){for(var o=0;o<t.length();o++)i[s][o]!=null&&s<a&&this.addEdges(e,t,i,s,i[s][o],n);for(var o=0;o<t.length();o++)i[s-1][o]=null}for(var c=-1,u=Nr.MAX_VALUE,o=0;o<t.length();o++)if(i[a][o]!=null){var d=i[a][o];d.cachedTotalSize<u&&(u=d.cachedTotalSize,c=o)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var p=[],g=i[a][c];g!=null;){if(g.isFNC1())p.unshift(1e3);else for(var m=t.encode(g.c,g.encoderIndex),s=m.length-1;s>=0;s--)p.unshift(m[s]&255);var y=g.previous===null?0:g.previous.encoderIndex;y!==g.encoderIndex&&p.unshift(256+t.getECIValue(g.encoderIndex)),g=g.previous}for(var w=[],s=0;s<w.length;s++)w[s]=p[s];return w},r}(),H6=function(){function r(e,t,n,a,i){this.c=e,this.encoderSet=t,this.encoderIndex=n,this.previous=a,this.fnc1=i,this.c=e===i?1e3:e;var s=this.isFNC1()?1:t.encode(e,n).length,o=a===null?0:a.encoderIndex;o!==n&&(s+=tG),a!=null&&(s+=a.cachedTotalSize),this.cachedTotalSize=s}return r.prototype.isFNC1=function(){return this.c===1e3},r}(),nG=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();var q6;(function(r){r[r.ASCII=0]="ASCII",r[r.C40=1]="C40",r[r.TEXT=2]="TEXT",r[r.X12=3]="X12",r[r.EDF=4]="EDF",r[r.B256=5]="B256"})(q6||(q6={}));(function(r){nG(e,r);function e(t,n,a,i,s){var o=r.call(this,t,n,a)||this;return o.shape=i,o.macroId=s,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(rG);var aG=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}(),$6=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}(),iG=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}(),sG=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dw=function(r){sG(e,r);function e(t,n,a){var i=r.call(this,t)||this;return i.value=n,i.bitCount=a,i}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Nr.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(iG),oG=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lG=function(r){oG(e,r);function e(t,n,a){var i=r.call(this,t,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=a,i}return e.prototype.appendTo=function(t,n){for(var a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+a],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Dw);function cG(r,e,t){return new lG(r,e,t)}function p1(r,e,t){return new Dw(r,e,t)}var uG=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yu=0,Xm=1,bo=2,iN=3,Kl=4,fG=new Dw(null,0,0),Rv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],dG=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function hG(r){var e,t;try{for(var n=dG(r),a=n.next();!a.done;a=n.next()){var i=a.value;Pa.fill(i,-1)}}catch(s){e={error:s}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[Yu][Kl]=0,r[Xm][Kl]=0,r[Xm][Yu]=28,r[iN][Kl]=0,r[bo][Kl]=0,r[bo][Yu]=15,r}var sN=hG(Pa.createInt32Array(6,6)),pG=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gG=function(){function r(e,t,n,a){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=a}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,a=this.token;if(e!==this.mode){var i=Rv[this.mode][e];a=p1(a,i&65535,i>>16),n+=i>>16}var s=e===bo?4:5;return a=p1(a,t,s),new r(a,e,0,n+s)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,a=this.mode===bo?4:5;return n=p1(n,sN[this.mode][e],a),n=p1(n,t,5),new r(n,this.mode,0,this.bitCount+a+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,a=this.bitCount;if(this.mode===Kl||this.mode===bo){var i=Rv[n][Yu];t=p1(t,i&65535,i>>16),a+=i>>16,n=Yu}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new r(t,n,this.binaryShiftByteCount+1,a+s);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=cG(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Rv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,a=[],i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())a.unshift(i);var s=new Qa;try{for(var o=pG(a),c=o.next();!c.done;c=o.next()){var u=c.value;u.appendTo(s,e)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return s},r.prototype.toString=function(){return Mr.format("%s bits=%d bytes=%d",uG[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(fG,Yu,0,0),r}();function mG(r){var e=Mr.getCharCode(" "),t=Mr.getCharCode("."),n=Mr.getCharCode(",");r[Yu][e]=1;for(var a=Mr.getCharCode("Z"),i=Mr.getCharCode("A"),s=i;s<=a;s++)r[Yu][s]=s-i+2;r[Xm][e]=1;for(var o=Mr.getCharCode("z"),c=Mr.getCharCode("a"),s=c;s<=o;s++)r[Xm][s]=s-c+2;r[bo][e]=1;for(var u=Mr.getCharCode("9"),d=Mr.getCharCode("0"),s=d;s<=u;s++)r[bo][s]=s-d+2;r[bo][n]=12,r[bo][t]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],g=0;g<p.length;g++)r[iN][Mr.getCharCode(p[g])]=g;for(var m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<m.length;g++)Mr.getCharCode(m[g])>0&&(r[Kl][Mr.getCharCode(m[g])]=g);return r}var kv=mG(Pa.createInt32Array(5,256)),om=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xG=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=Mr.getCharCode(" "),t=Mr.getCharCode(`
`),n=$6.singletonList(gG.INITIAL_STATE),a=0;a<this.text.length;a++){var i=void 0,s=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Mr.getCharCode("\r"):i=s===t?2:0;break;case Mr.getCharCode("."):i=s===e?3:0;break;case Mr.getCharCode(","):i=s===e?4:0;break;case Mr.getCharCode(":"):i=s===e?5:0;break;default:i=0}i>0?(n=r.updateStateListForPair(n,a,i),a++):n=this.updateStateListForChar(n,a)}var o=$6.min(n,function(c,u){return c.getBitCount()-u.getBitCount()});return o.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,a,i=[];try{for(var s=om(e),o=s.next();!o.done;o=s.next()){var c=o.value;this.updateStateForChar(c,t,i)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return r.simplifyStates(i)},r.prototype.updateStateForChar=function(e,t,n){for(var a=this.text[t]&255,i=kv[e.getMode()][a]>0,s=null,o=0;o<=Kl;o++){var c=kv[o][a];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!i||o===e.getMode()||o===bo){var u=s.latchAndAppend(o,c);n.push(u)}if(!i&&sN[e.getMode()][o]>=0){var d=s.shiftAndAppend(o,c);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||kv[e.getMode()][a]===0){var p=e.addBinaryShiftChar(t);n.push(p)}},r.updateStateListForPair=function(e,t,n){var a,i,s=[];try{for(var o=om(e),c=o.next();!c.done;c=o.next()){var u=c.value;this.updateStateForPair(u,t,n,s)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return this.simplifyStates(s)},r.updateStateForPair=function(e,t,n,a){var i=e.endBinaryShift(t);if(a.push(i.latchAndAppend(Kl,n)),e.getMode()!==Kl&&a.push(i.shiftAndAppend(Kl,n)),n===3||n===4){var s=i.latchAndAppend(bo,16-n).latchAndAppend(bo,1);a.push(s)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);a.push(o)}},r.simplifyStates=function(e){var t,n,a,i,s=[];try{for(var o=om(e),c=o.next();!c.done;c=o.next()){var u=c.value,d=!0,p=function(_){if(_.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(_)&&(s=s.filter(function(S){return S!==_}))};try{for(var g=(a=void 0,om(s)),m=g.next();!m.done;m=g.next()){var y=m.value,w=p(y);if(w==="break")break}}catch(_){a={error:_}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}d&&s.push(u)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return s},r}(),vG=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var a=new xG(e).encode(),i=Nr.truncDivision(a.getSize()*t,100)+11,s=a.getSize()+i,o,c,u,d,p;if(n!==r.DEFAULT_AZTEC_LAYERS){if(o=n<0,c=Math.abs(n),c>(o?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Kt(Mr.format("Illegal value %s for layers",n));u=r.totalBitsInLayer(c,o),d=r.WORD_SIZE[c];var g=u-u%d;if(p=r.stuffBits(a,d),p.getSize()+i>g)throw new Kt("Data to large for user specified layer");if(o&&p.getSize()>d*64)throw new Kt("Data to large for user specified layer")}else{d=0,p=null;for(var m=0;;m++){if(m>r.MAX_NB_BITS)throw new Kt("Data too large for an Aztec code");if(o=m<=3,c=o?m+1:m,u=r.totalBitsInLayer(c,o),!(s>u)){(p==null||d!==r.WORD_SIZE[c])&&(d=r.WORD_SIZE[c],p=r.stuffBits(a,d));var g=u-u%d;if(!(o&&p.getSize()>d*64)&&p.getSize()+i<=g)break}}}var y=r.generateCheckWords(p,u,d),w=p.getSize()/d,_=r.generateModeMessage(o,c,w),S=(o?11:14)+c*4,A=new Int32Array(S),C;if(o){C=S;for(var m=0;m<A.length;m++)A[m]=m}else{C=S+1+2*Nr.truncDivision(Nr.truncDivision(S,2)-1,15);for(var L=Nr.truncDivision(S,2),B=Nr.truncDivision(C,2),m=0;m<L;m++){var M=m+Nr.truncDivision(m,15);A[L-m-1]=B-M-1,A[L+m]=B+M+1}}for(var F=new ec(C),m=0,D=0;m<c;m++){for(var O=(c-m)*4+(o?9:12),q=0;q<O;q++)for(var I=q*2,U=0;U<2;U++)y.get(D+I+U)&&F.set(A[m*2+U],A[m*2+q]),y.get(D+O*2+I+U)&&F.set(A[m*2+q],A[S-1-m*2-U]),y.get(D+O*4+I+U)&&F.set(A[S-1-m*2-U],A[S-1-m*2-q]),y.get(D+O*6+I+U)&&F.set(A[S-1-m*2-q],A[m*2+U]);D+=O*8}if(r.drawModeMessage(F,o,C,_),o)r.drawBullsEye(F,Nr.truncDivision(C,2),5);else{r.drawBullsEye(F,Nr.truncDivision(C,2),7);for(var m=0,q=0;m<Nr.truncDivision(S,2)-1;m+=15,q+=16)for(var U=Nr.truncDivision(C,2)&1;U<C;U+=2)F.set(Nr.truncDivision(C,2)-q,U),F.set(Nr.truncDivision(C,2)+q,U),F.set(U,Nr.truncDivision(C,2)-q),F.set(U,Nr.truncDivision(C,2)+q)}var X=new aG;return X.setCompact(o),X.setSize(C),X.setLayers(c),X.setCodeWords(w),X.setMatrix(F),X},r.drawBullsEye=function(e,t,n){for(var a=0;a<n;a+=2)for(var i=t-a;i<=t+a;i++)e.set(i,t-a),e.set(i,t+a),e.set(t-a,i),e.set(t+a,i);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var a=new Qa;return e?(a.appendBits(t-1,2),a.appendBits(n-1,6),a=r.generateCheckWords(a,28,4)):(a.appendBits(t-1,5),a.appendBits(n-1,11),a=r.generateCheckWords(a,40,4)),a},r.drawModeMessage=function(e,t,n,a){var i=Nr.truncDivision(n,2);if(t)for(var s=0;s<7;s++){var o=i-3+s;a.get(s)&&e.set(o,i-5),a.get(s+7)&&e.set(i+5,o),a.get(20-s)&&e.set(o,i+5),a.get(27-s)&&e.set(i-5,o)}else for(var s=0;s<10;s++){var o=i-5+s+Nr.truncDivision(s,5);a.get(s)&&e.set(o,i-7),a.get(s+10)&&e.set(i+7,o),a.get(29-s)&&e.set(o,i+7),a.get(39-s)&&e.set(i-7,o)}},r.generateCheckWords=function(e,t,n){var a,i,s=e.getSize()/n,o=new nN(r.getGF(n)),c=Nr.truncDivision(t,n),u=r.bitsToWords(e,n,c);o.encode(u,c-s);var d=t%n,p=new Qa;p.appendBits(0,d);try{for(var g=vG(Array.from(u)),m=g.next();!m.done;m=g.next()){var y=m.value;p.appendBits(y,n)}}catch(w){a={error:w}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(a)throw a.error}}return p},r.bitsToWords=function(e,t,n){var a=new Int32Array(n),i,s;for(i=0,s=e.getSize()/t;i<s;i++){for(var o=0,c=0;c<t;c++)o|=e.get(i*t+c)?1<<t-c-1:0;a[i]=o}return a},r.getGF=function(e){switch(e){case 4:return ys.AZTEC_PARAM;case 6:return ys.AZTEC_DATA_6;case 8:return ys.AZTEC_DATA_8;case 10:return ys.AZTEC_DATA_10;case 12:return ys.AZTEC_DATA_12;default:throw new Kt("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new Qa,a=e.getSize(),i=(1<<t)-2,s=0;s<a;s+=t){for(var o=0,c=0;c<t;c++)(s+c>=a||e.get(s+c))&&(o|=1<<t-1-c);(o&i)===i?(n.appendBits(o&i,t),s--):(o&i)===0?(n.appendBits(o|1,t),s--):n.appendBits(o,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r})();const yG=({onScan:r,onError:e,autoStart:t=!1,showPreview:n=!0,width:a=320,height:i=240})=>{const[s,o]=V.useState(!1),[c,u]=V.useState(null),[d,p]=V.useState(""),[g,m]=V.useState(!0),[y,w]=V.useState([]),[_,S]=V.useState(!1),[A,C]=V.useState(!1),[L,B]=V.useState([]),[M,F]=V.useState(null),[D,O]=V.useState(!1),q=V.useRef(null),I=V.useRef(null),U=V.useRef(null),X=V.useRef(null),ae=(P,H,G,J=null,Ee=0)=>{const ve={id:Date.now(),timestamp:new Date().toISOString(),type:P,params:H,response:J?null:G,error:J?{message:J.message||String(J),stack:J.stack,name:J.name}:null,success:!J,duration:`${Ee}ms`};return B(he=>[ve,...he].slice(0,50)),ve};V.useEffect(()=>{var P;try{const H=new Map;H.set(On.POSSIBLE_FORMATS,[Vt.CODE_128,Vt.CODE_39,Vt.EAN_13,Vt.EAN_8,Vt.UPC_A,Vt.UPC_E,Vt.QR_CODE,Vt.DATA_MATRIX]),H.set(On.TRY_HARDER,!0),I.current=new wV(H),console.log(" Barcode reader initialized successfully")}catch(H){console.error("Failed to initialize barcode reader:",H),ae("init",{},null,H)}return(P=navigator.mediaDevices)!=null&&P.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(H=>{const G=H.filter(J=>J.kind==="videoinput");console.log(" Found video devices:",G.length),m(G.length>0)}).catch(H=>{console.error("Failed to enumerate devices:",H),m(!1)}):m(!1),()=>{I.current&&I.current.reset()}},[]),V.useEffect(()=>(t&&g&&ue(),()=>Y()),[t,g]);const Se=P=>oe(null,null,function*(){var J,Ee,ve;const H=Date.now(),G={search:P,limit:1};try{console.log(" Looking up barcode:",P);const he=yield Wu(G),pe=Date.now()-H,Be=((J=he.products)==null?void 0:J.find(rt=>rt.part_number===P||rt.barcode===P))||((Ee=he.products)==null?void 0:Ee[0]);return ae("lookup",G,{found:!!Be,product:Be?{id:Be.id,name:Be.name,part_number:Be.part_number}:null,totalResults:((ve=he.products)==null?void 0:ve.length)||0},null,pe),Be?(console.log(" Product found:",Be.name),r&&r(P,Be),Be):(console.log(" Product not found for:",P),u(`No product found for: ${P}`),r&&r(P,null),null)}catch(he){const pe=Date.now()-H;return console.error(" Lookup error:",he),ae("lookup",G,null,he,pe),u(`Lookup failed: ${he.message}`),e&&e(he),null}}),Q=V.useCallback(P=>oe(null,null,function*(){if(!P||P.length<2){w([]),S(!1);return}C(!0);const H=Date.now(),G={search:P,limit:10};try{console.log(" Searching products:",P);const J=yield Wu(G),Ee=Date.now()-H,ve=J.products||[];ae("search",G,{count:ve.length,products:ve.map(he=>({id:he.id,name:he.name,part_number:he.part_number}))},null,Ee),console.log(" Search found:",ve.length,"products"),w(ve),S(ve.length>0)}catch(J){const Ee=Date.now()-H;console.error(" Search error:",J),ae("search",G,null,J,Ee),w([])}C(!1)}),[]),ce=P=>{const H=P.target.value;p(H),u(null),U.current&&clearTimeout(U.current),U.current=setTimeout(()=>{Q(H)},400)},we=P=>{const H=P.part_number||P.barcode||P.name;p(H),S(!1),w([]),u(null),r&&r(H,P)},ue=V.useCallback(()=>oe(null,null,function*(){if(!I.current){u("Scanner not initialized. Please refresh the page.");return}if(!q.current){u("Video element not ready.");return}if(!g){u("No camera available.");return}u(null),o(!0);const P=Date.now();try{console.log(" Starting camera scan...");const G=(yield navigator.mediaDevices.enumerateDevices()).filter(he=>he.kind==="videoinput");console.log(" Available cameras:",G.map(he=>he.label||"Unknown"));const J=G.find(he=>he.label.toLowerCase().includes("back")||he.label.toLowerCase().includes("rear")||he.label.toLowerCase().includes("environment")),Ee=(J==null?void 0:J.deviceId)||void 0;console.log(" Using camera:",(J==null?void 0:J.label)||"Default"),ae("scan_start",{deviceId:Ee,cameraLabel:(J==null?void 0:J.label)||"default",availableCameras:G.length},{status:"scanning"});const ve=yield I.current.decodeFromVideoDevice(Ee,q.current,(he,pe)=>{if(he){const Ne=he.getText(),Be=he.getBarcodeFormat(),rt=Date.now()-P;console.log(" Scanned:",Ne,"Format:",Be),ae("scan_result",{deviceId:Ee},{barcode:Ne,format:(Be==null?void 0:Be.toString())||"Unknown"},null,rt),navigator.vibrate&&navigator.vibrate(200),p(Ne),Se(Ne),Y()}pe&&pe.name!=="NotFoundException"&&console.warn("Scan frame error:",pe.name,pe.message)});console.log(" Scanner started successfully")}catch(H){const G=Date.now()-P;console.error(" Failed to start scanner:",H),ae("scan_start",{},null,H,G),u(`Camera error: ${H.message}. Check permissions.`),o(!1),e&&e(H)}}),[g,e]),Y=V.useCallback(()=>{I.current&&I.current.reset(),o(!1),console.log(" Scanner stopped")},[]),xe=P=>{P.preventDefault(),d.trim()&&(S(!1),u(null),Se(d.trim()))},R=V.useCallback(()=>{setTimeout(()=>S(!1),200)},[]);return l.jsxs("div",{className:"barcode-scanner",style:{textAlign:"center"},children:[n&&g&&l.jsxs("div",{style:{position:"relative",display:"inline-block",marginBottom:"15px",border:s?"3px solid #4CAF50":"3px solid #666",borderRadius:"8px",overflow:"hidden",backgroundColor:"#000"},children:[l.jsx("video",{ref:q,width:a,height:i,style:{display:"block"},playsInline:!0,muted:!0,autoPlay:!0}),s&&l.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:[l.jsx("div",{style:{width:"70%",height:"30%",border:"2px solid #4CAF50",borderRadius:"4px",boxShadow:"0 0 0 9999px rgba(0,0,0,0.5)"}}),l.jsx("div",{style:{position:"absolute",bottom:"10px",color:"white",fontSize:"12px",backgroundColor:"rgba(0,0,0,0.8)",padding:"4px 8px",borderRadius:"4px"},children:" Scanning... Point at barcode"})]})]}),c&&l.jsxs("div",{style:{color:"#c62828",padding:"12px",marginBottom:"10px",background:"#ffebee",borderRadius:"4px",fontSize:"14px",border:"1px solid #ef5350"},children:[" ",c]}),g&&l.jsx("div",{style:{marginBottom:"15px"},children:s?l.jsx("button",{onClick:Y,type:"button",style:{padding:"12px 24px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:" Stop Scanning"}):l.jsx("button",{onClick:ue,type:"button",style:{padding:"12px 24px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:" Start Camera Scan"})}),!g&&l.jsx("div",{style:{padding:"15px",background:"#fff3e0",borderRadius:"4px",marginBottom:"15px",color:"#e65100"},children:" No camera detected. Use manual entry or search below."}),l.jsxs("form",{onSubmit:xe,style:{marginTop:"10px",position:"relative"},children:[l.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[l.jsxs("div",{style:{position:"relative",width:"280px"},children:[l.jsx("input",{ref:X,type:"text",placeholder:"Type part number or product name...",value:d,onChange:ce,onFocus:()=>y.length>0&&S(!0),onBlur:R,style:{padding:"12px 40px 12px 12px",fontSize:"16px",border:"2px solid #1976d2",borderRadius:"6px",width:"100%",boxSizing:"border-box"}}),A&&l.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"16px"},children:""}),_&&y.length>0&&l.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"0 0 6px 6px",maxHeight:"250px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",textAlign:"left"},children:y.map(P=>l.jsxs("div",{onClick:()=>we(P),style:{padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid #eee",backgroundColor:"white"},onMouseEnter:H=>H.currentTarget.style.backgroundColor="#e3f2fd",onMouseLeave:H=>H.currentTarget.style.backgroundColor="white",children:[l.jsx("div",{style:{fontWeight:"bold",color:"#333"},children:P.name}),l.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:[l.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#e3f2fd",padding:"2px 6px",borderRadius:"3px",color:"#1976d2"},children:P.part_number||"No Part #"}),l.jsxs("span",{style:{marginLeft:"10px"},children:["$",parseFloat(P.price||0).toFixed(2)]})]})]},P.id))})]}),l.jsx("button",{type:"submit",style:{padding:"12px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"16px"},children:" Look Up"})]}),l.jsx("div",{style:{fontSize:"12px",color:"#888",marginTop:"8px"},children:"Type to search products  Results appear as you type"})]}),l.jsx("div",{style:{marginTop:"20px"},children:l.jsxs("button",{type:"button",onClick:()=>O(!D),style:{padding:"8px 16px",backgroundColor:D?"#673ab7":"#9e9e9e",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:[" ",D?"Hide":"Show"," Query Logs (",L.length,")"]})}),D&&l.jsxs("div",{style:{marginTop:"15px",padding:"15px",background:"#263238",borderRadius:"8px",maxHeight:"300px",overflowY:"auto",textAlign:"left",fontFamily:"monospace",fontSize:"12px"},children:[l.jsx("div",{style:{color:"#4CAF50",marginBottom:"10px",fontWeight:"bold"},children:" Query Logs (Last 50)"}),L.length===0?l.jsx("div",{style:{color:"#888"},children:"No queries yet..."}):L.map(P=>l.jsxs("div",{onClick:()=>F((M==null?void 0:M.id)===P.id?null:P),style:{padding:"8px",marginBottom:"5px",background:(M==null?void 0:M.id)===P.id?"#37474f":"#1e272c",borderRadius:"4px",cursor:"pointer",borderLeft:`3px solid ${P.success?"#4CAF50":"#f44336"}`},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("span",{style:{color:P.success?"#81c784":"#ef5350"},children:[P.success?"":""," [",P.type,"] ",P.duration]}),l.jsx("span",{style:{color:"#888",fontSize:"10px"},children:new Date(P.timestamp).toLocaleTimeString()})]}),(M==null?void 0:M.id)===P.id&&l.jsxs("div",{style:{marginTop:"10px",color:"#b0bec5"},children:[l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("strong",{style:{color:"#64b5f6"},children:" Request Params:"}),l.jsx("pre",{style:{margin:"4px 0",padding:"8px",background:"#1a1a1a",borderRadius:"4px",overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:JSON.stringify(P.params,null,2)})]}),P.response&&l.jsxs("div",{style:{marginBottom:"8px"},children:[l.jsx("strong",{style:{color:"#81c784"},children:" Response:"}),l.jsx("pre",{style:{margin:"4px 0",padding:"8px",background:"#1a1a1a",borderRadius:"4px",overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:JSON.stringify(P.response,null,2)})]}),P.error&&l.jsxs("div",{children:[l.jsx("strong",{style:{color:"#ef5350"},children:" Error:"}),l.jsx("pre",{style:{margin:"4px 0",padding:"8px",background:"#1a1a1a",borderRadius:"4px",color:"#ef5350",overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-all"},children:JSON.stringify(P.error,null,2)})]})]})]},P.id)),L.length>0&&l.jsx("button",{type:"button",onClick:()=>B([]),style:{marginTop:"10px",padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Clear Logs"})]})]})},wG=({barcode:r,productName:e,partNumber:t,price:n,showPrice:a=!0,labelSize:i="medium",onPrint:s})=>{const o=V.useRef(null),[c,u]=V.useState(null);V.useEffect(()=>{if(r&&o.current)try{BA(o.current,r,{format:"CODE128",width:i==="small"?1.5:i==="large"?2.5:2,height:i==="small"?40:i==="large"?80:60,displayValue:!0,fontSize:i==="small"?12:i==="large"?18:14,margin:10,background:"#ffffff",lineColor:"#000000"}),u(null)}catch(p){u("Invalid barcode format"),console.error("Barcode generation error:",p)}},[r,i]);const d=()=>{var g;const p=window.open("","_blank");p&&(p.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Barcode Label - ${r}</title>
          <style>
            @media print {
              body { margin: 0; padding: 10mm; }
              .label { 
                page-break-after: always;
                text-align: center;
                font-family: Arial, sans-serif;
              }
              .label:last-child { page-break-after: auto; }
            }
            body { font-family: Arial, sans-serif; }
            .label {
              border: 1px dashed #ccc;
              padding: 10px;
              margin: 10px;
              display: inline-block;
              text-align: center;
            }
            .product-name {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 5px;
              max-width: 200px;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            }
            .part-number {
              font-size: 12px;
              color: #666;
            }
            .price {
              font-size: 16px;
              font-weight: bold;
              margin-top: 5px;
            }
          </style>
        </head>
        <body>
          <div class="label">
            <div class="product-name">${e||""}</div>
            ${t?`<div class="part-number">P/N: ${t}</div>`:""}
            ${((g=o.current)==null?void 0:g.outerHTML)||""}
            ${a&&n?`<div class="price">$${parseFloat(n).toFixed(2)}</div>`:""}
          </div>
          <script>window.onload = function() { window.print(); window.close(); }<\/script>
        </body>
        </html>
      `),p.document.close()),s&&s()};return r?l.jsx("div",{className:"barcode-generator",style:{textAlign:"center"},children:c?l.jsx("div",{className:"error",style:{color:"red",padding:"10px"},children:c}):l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:e}),t&&l.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["P/N: ",t]}),l.jsx("svg",{ref:o,style:{maxWidth:"100%"}}),a&&n&&l.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"5px"},children:["$",parseFloat(n).toFixed(2)]}),l.jsx("button",{onClick:d,style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Print Label"})]})}):l.jsx("div",{className:"barcode-placeholder",style:{padding:"20px",background:"#f0f0f0",borderRadius:"8px",textAlign:"center"},children:l.jsx("p",{children:"No barcode assigned"})})},bG=()=>{const[r,e]=V.useState("scan"),[t,n]=V.useState([]),[a,i]=V.useState([]),[s,o]=V.useState([]),[c,u]=V.useState(null),[d,p]=V.useState(""),[g,m]=V.useState(!1),[y,w]=V.useState({type:"",text:""}),[_,S]=V.useState({bin_number:"",description:"",capacity:100});V.useEffect(()=>{A(),L()},[]),V.useEffect(()=>{d&&C(d)},[d]);const A=()=>oe(null,null,function*(){var O;try{const q=yield LH.getAll();n(q.warehouses||[]),((O=q.warehouses)==null?void 0:O.length)>0&&!d&&p(q.warehouses[0].id)}catch(q){console.error("Error fetching warehouses:",q)}}),C=O=>oe(null,null,function*(){try{const q=yield l6.getAll(O);i(q.bins||[])}catch(q){console.error("Error fetching bins:",q)}}),L=()=>oe(null,null,function*(){try{const O=yield c6.getAll({status:"in_transit"});o(O.movements||[])}catch(O){console.error("Error fetching movements:",O)}}),B=(O,q=null)=>oe(null,null,function*(){m(!0),w({type:"",text:""});try{if(q)u(q),w({type:"success",text:`Found: ${q.name}`});else{const{products:I}=yield Zs(()=>oe(null,null,function*(){const{products:X}=yield Promise.resolve().then(()=>Wj);return{products:X}}),void 0).then(X=>X.getProducts({search:O,limit:1})),U=(I==null?void 0:I.find(X=>X.part_number===O||X.barcode===O))||(I==null?void 0:I[0]);U?(u(U),w({type:"success",text:`Found: ${U.name}`})):w({type:"error",text:`Product not found for: ${O}`})}}catch(I){w({type:"error",text:"Error scanning barcode"}),console.error("Scan error:",I)}m(!1)}),M=O=>oe(null,null,function*(){if(c!=null&&c.barcode){m(!0);try{const q=yield c6.receive({barcode:c.barcode,binNumber:O});w({type:"success",text:q.message}),u(null),L()}catch(q){w({type:"error",text:"Error receiving product"})}m(!1)}}),F=O=>oe(null,null,function*(){if(O.preventDefault(),!(!d||!_.bin_number)){m(!0);try{const q=yield l6.create(wt({warehouse_id:d},_));w({type:"success",text:"Bin created successfully"}),S({bin_number:"",description:"",capacity:100}),C(d)}catch(q){w({type:"error",text:"Error creating bin"})}m(!1)}}),D=[{id:"scan",label:" Scan & Receive",icon:""},{id:"movements",label:" Movements",icon:""},{id:"bins",label:" Bins",icon:""},{id:"warehouses",label:" Warehouses",icon:""}];return l.jsxs("div",{className:"inventory-page",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[l.jsx("h1",{style:{marginBottom:"20px"},children:" Inventory Management"}),y.text&&l.jsx("div",{style:{padding:"10px 20px",marginBottom:"20px",borderRadius:"4px",backgroundColor:y.type==="success"?"#e8f5e9":"#ffebee",color:y.type==="success"?"#2e7d32":"#c62828",border:`1px solid ${y.type==="success"?"#4caf50":"#ef5350"}`},children:y.text}),l.jsx("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:"2px solid #e0e0e0",paddingBottom:"10px"},children:D.map(O=>l.jsx("button",{onClick:()=>e(O.id),style:{padding:"10px 20px",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"14px",fontWeight:r===O.id?"bold":"normal",backgroundColor:r===O.id?"#1976d2":"#f5f5f5",color:r===O.id?"white":"#333",transition:"all 0.2s"},children:O.label},O.id))}),l.jsxs("div",{className:"tab-content",children:[r==="scan"&&l.jsx("div",{className:"scan-receive-tab",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"30px"},children:[l.jsxs("div",{style:{padding:"20px",background:"#f5f5f5",borderRadius:"8px"},children:[l.jsx("h3",{style:{marginBottom:"15px"},children:"Scan Barcode"}),l.jsx(yG,{onScan:B,autoStart:!1})]}),l.jsxs("div",{style:{padding:"20px",background:"#f5f5f5",borderRadius:"8px"},children:[l.jsx("h3",{style:{marginBottom:"15px"},children:"Scanned Product"}),g&&l.jsx("p",{children:"Loading..."}),c?l.jsxs("div",{children:[l.jsx(wG,{barcode:c.barcode,productName:c.name,partNumber:c.part_number,price:c.price,labelSize:"small"}),l.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"white",borderRadius:"4px"},children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Name:"})," ",c.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Part #:"})," ",c.part_number||"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Price:"})," $",parseFloat(c.price).toFixed(2)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Current Location:"})," ",c.warehouse_name||"Not assigned"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Bin:"})," ",c.bin_number||"Not assigned"]})]}),l.jsxs("div",{style:{marginTop:"15px"},children:[l.jsx("h4",{children:"Assign to Bin:"}),l.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"10px"},children:a.map(O=>l.jsx("button",{onClick:()=>M(O.bin_number),style:{padding:"10px 15px",border:"1px solid #1976d2",borderRadius:"4px",cursor:"pointer",background:"white"},children:O.bin_number},O.id))})]})]}):l.jsx("p",{style:{color:"#666"},children:"Scan a barcode to see product details"})]})]})}),r==="movements"&&l.jsxs("div",{className:"movements-tab",children:[l.jsxs("h3",{children:["In-Transit Shipments (",s.length,")"]}),s.length===0?l.jsx("p",{style:{color:"#666",padding:"20px"},children:"No shipments in transit"}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"15px"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f5f5f5"},children:[l.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Product"}),l.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Barcode"}),l.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"From"}),l.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"To"}),l.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Status"}),l.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Shipped"})]})}),l.jsx("tbody",{children:s.map(O=>l.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[l.jsx("td",{style:{padding:"12px"},children:O.product_name}),l.jsx("td",{style:{padding:"12px",fontFamily:"monospace"},children:O.barcode}),l.jsx("td",{style:{padding:"12px"},children:O.from_warehouse_name}),l.jsx("td",{style:{padding:"12px"},children:O.to_warehouse_name}),l.jsx("td",{style:{padding:"12px"},children:l.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:O.status==="in_transit"?"#fff3e0":"#e8f5e9",color:O.status==="in_transit"?"#e65100":"#2e7d32"},children:O.status})}),l.jsx("td",{style:{padding:"12px"},children:new Date(O.created_at).toLocaleDateString()})]},O.id))})]})]}),r==="bins"&&l.jsxs("div",{className:"bins-tab",children:[l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{marginRight:"10px"},children:"Warehouse:"}),l.jsx("select",{value:d,onChange:O=>p(O.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:t.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))})]}),l.jsxs("form",{onSubmit:F,style:{display:"flex",gap:"10px",marginBottom:"20px",padding:"15px",background:"#f5f5f5",borderRadius:"4px"},children:[l.jsx("input",{type:"text",placeholder:"Bin # (e.g., A-01)",value:_.bin_number,onChange:O=>S(Ft(wt({},_),{bin_number:O.target.value})),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},required:!0}),l.jsx("input",{type:"text",placeholder:"Description",value:_.description,onChange:O=>S(Ft(wt({},_),{description:O.target.value})),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",flex:1}}),l.jsx("button",{type:"submit",disabled:g,style:{padding:"8px 16px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"+ Add Bin"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"15px"},children:a.map(O=>l.jsxs("div",{style:{padding:"15px",background:"white",border:"2px solid #1976d2",borderRadius:"8px",textAlign:"center"},children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1976d2"},children:O.bin_number}),l.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:[O.product_count||0," items"]}),O.description&&l.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"5px"},children:O.description})]},O.id))})]}),r==="warehouses"&&l.jsx("div",{className:"warehouses-tab",children:l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:t.map(O=>l.jsxs("div",{style:{padding:"20px",background:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[l.jsxs("h3",{style:{margin:"0 0 10px 0"},children:[" ",O.name]}),l.jsxs("p",{style:{color:"#666",margin:"5px 0"},children:[" ",O.location||O.country||"Location not set"]}),l.jsxs("div",{style:{display:"flex",gap:"20px",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #eee"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1976d2"},children:O.product_count||0}),l.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Products"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#4caf50"},children:O.bin_count||0}),l.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Bins"})]})]})]},O.id))})})]})]})},_G=()=>{const[r,e]=V.useState({site_title:"Sardaarji Autoparts",site_subtitle:"Vintage Motorcycle Parts & Accessories",tagline:"Quality Parts for Classic Bikes Since 1970",description:"Your trusted source for vintage Yamaha RD350 motorcycle parts and accessories. We specialize in rare and hard-to-find components for classic motorcycles.",contact_email:"",contact_phone:"",contact_address:"",copyright_text:" 2024 Sardaarji Autoparts. All rights reserved.",meta_keywords:"motorcycle parts, yamaha rd350, vintage parts, classic motorcycle, autoparts",meta_author:"Sardaarji Autoparts",social_facebook:"",social_instagram:"",social_twitter:""}),[t,n]=V.useState(!1),[a,i]=V.useState(!1),[s,o]=V.useState({type:"",text:""});V.useEffect(()=>{const d=localStorage.getItem("siteSettings");d&&e(JSON.parse(d))},[]);const c=d=>{const{name:p,value:g}=d.target;e(m=>Ft(wt({},m),{[p]:g}))},u=d=>oe(null,null,function*(){d.preventDefault(),i(!0),o({type:"",text:""});try{localStorage.setItem("siteSettings",JSON.stringify(r)),o({type:"success",text:"Settings saved successfully!"})}catch(p){o({type:"error",text:"Failed to save settings."})}finally{i(!1)}});return t?l.jsx("div",{className:"text-center py-12",children:l.jsx(yr,{size:"xl",text:"Loading settings...",variant:"gear"})}):l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",style:{fontFamily:"'Oswald', sans-serif"},children:"Site Settings"}),s.text&&l.jsx("div",{className:`mb-6 p-4 rounded ${s.type==="success"?"bg-green-600/20 text-green-400 border border-green-600":"bg-red-600/20 text-red-400 border border-red-600"}`,children:s.text}),l.jsxs("form",{onSubmit:u,className:"space-y-8",children:[l.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Site Identity"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Site Title"}),l.jsx("input",{type:"text",name:"site_title",value:r.site_title,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Subtitle"}),l.jsx("input",{type:"text",name:"site_subtitle",value:r.site_subtitle,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Tagline"}),l.jsx("input",{type:"text",name:"tagline",value:r.tagline,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Site Description"}),l.jsx("textarea",{name:"description",value:r.description,onChange:c,rows:3,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]})]})]}),l.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Contact Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Email"}),l.jsx("input",{type:"email",name:"contact_email",value:r.contact_email,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"contact@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Phone"}),l.jsx("input",{type:"tel",name:"contact_phone",value:r.contact_phone,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Address"}),l.jsx("textarea",{name:"contact_address",value:r.contact_address,onChange:c,rows:2,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"123 Main Street, City, Country"})]})]})]}),l.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"SEO & Meta Information"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Meta Keywords"}),l.jsx("input",{type:"text",name:"meta_keywords",value:r.meta_keywords,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"keyword1, keyword2, keyword3"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Meta Author"}),l.jsx("input",{type:"text",name:"meta_author",value:r.meta_author,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Copyright Text"}),l.jsx("input",{type:"text",name:"copyright_text",value:r.copyright_text,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]})]})]}),l.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Social Media Links"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Facebook"}),l.jsx("input",{type:"url",name:"social_facebook",value:r.social_facebook,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://facebook.com/..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Instagram"}),l.jsx("input",{type:"url",name:"social_instagram",value:r.social_instagram,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://instagram.com/..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Twitter/X"}),l.jsx("input",{type:"url",name:"social_twitter",value:r.social_twitter,onChange:c,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://twitter.com/..."})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:a,className:"bg-[#8B2332] text-white px-8 py-3 rounded font-semibold hover:bg-[#a02a3d] transition-colors disabled:opacity-50 flex items-center",style:{fontFamily:"'Oswald', sans-serif"},children:a?l.jsxs(l.Fragment,{children:[l.jsx(yr,{size:"sm",showText:!1}),l.jsx("span",{className:"ml-2",children:"Saving..."})]}):"Save Settings"})})]})]})},SG=()=>{const[r,e]=V.useState([]),[t,n]=V.useState({total_queries:0,total_errors:0,avg_duration:0,last_hour:0,last_24h:0}),[a,i]=V.useState(!0),[s,o]=V.useState({status:"all",model:"all",time_range:"24h",search:""}),[c,u]=V.useState(!1),[d,p]=V.useState("7d"),[g,m]=V.useState(!1),[y,w]=V.useState(null),_=()=>oe(null,null,function*(){i(!0);try{const M=new URLSearchParams(s),{data:F}=yield fr.get(`/query-logs?${M.toString()}`);e(F.logs||[]),n(F.stats||{total_queries:0,total_errors:0,avg_duration:0,last_hour:0,last_24h:0})}catch(M){console.error("Failed to fetch logs:",M),e([])}finally{i(!1)}});V.useEffect(()=>{_();const M=setInterval(_,3e4);return()=>clearInterval(M)},[s]);const S=(M,F)=>{o(D=>Ft(wt({},D),{[M]:F}))},A=()=>oe(null,null,function*(){m(!0);try{yield fr.delete("/query-logs",{data:{range:d}}),u(!1),_()}catch(M){console.error("Failed to clear logs:",M)}finally{m(!1)}}),C=M=>M<1?"<1ms":`${M}ms`,L=M=>{w(y===M?null:M)},B=M=>{if(!M)return"null";try{if(typeof M=="string"){const F=JSON.parse(M);return JSON.stringify(F,null,2)}return JSON.stringify(M,null,2)}catch(F){return String(M)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Query Logs"}),l.jsx("p",{className:"text-[#A8A090] text-sm mt-1",children:"Monitor API performance and debug issues  Click a row to see details"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:_,className:"px-4 py-2 bg-[#2a2a2a] text-[#F5F0E1] rounded hover:bg-[#3a3a3a] border border-[#444] transition-colors flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),l.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-red-900/40 text-red-200 rounded hover:bg-red-900/60 border border-red-800 transition-colors flex items-center",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear Logs"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(lm,{label:"Total Queries",value:(t.total_queries||0).toLocaleString(),icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),l.jsx(lm,{label:"Errors",value:t.total_errors||0,subtext:`${(t.total_errors/t.total_queries*100||0).toFixed(2)}% rate`,color:"text-red-400",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx(lm,{label:"Last 24h",value:(t.last_24h||0).toLocaleString(),icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx(lm,{label:"Avg Duration",value:`${t.avg_duration||0}ms`,color:(t.avg_duration||0)>500?"text-yellow-400":"text-green-400",icon:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),l.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#333] flex flex-wrap gap-4 items-center",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#A8A090]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),l.jsxs("select",{value:s.status,onChange:M=>S("status",M.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"success",children:"Success (2xx)"}),l.jsx("option",{value:"error",children:"Error (4xx/5xx)"})]})]}),l.jsxs("select",{value:s.model,onChange:M=>S("model",M.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[l.jsx("option",{value:"all",children:"All Models"}),l.jsx("option",{value:"User",children:"User"}),l.jsx("option",{value:"Product",children:"Product"}),l.jsx("option",{value:"Order",children:"Order"}),l.jsx("option",{value:"Auth",children:"Auth"})]}),l.jsxs("select",{value:s.time_range,onChange:M=>S("time_range",M.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[l.jsx("option",{value:"1h",children:"Last Hour"}),l.jsx("option",{value:"24h",children:"Last 24 Hours"}),l.jsx("option",{value:"7d",children:"Last 7 Days"}),l.jsx("option",{value:"30d",children:"Last 30 Days"}),l.jsx("option",{value:"all",children:"All Time"})]}),l.jsx("div",{className:"flex-grow",children:l.jsx("input",{type:"text",placeholder:"Search query or error...",value:s.search,onChange:M=>S("search",M.target.value),className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]"})})]}),l.jsx("div",{className:"bg-[#1a1a1a] rounded-lg border border-[#333] overflow-hidden",children:a?l.jsx("div",{className:"p-12 flex justify-center",children:l.jsx(yr,{size:"lg",text:"Loading logs...",variant:"gear"})}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-[#333] bg-[#222] text-[#A8A090] text-sm uppercase tracking-wider",children:[l.jsx("th",{className:"p-4 font-medium w-8"}),l.jsx("th",{className:"p-4 font-medium",children:"Timestamp"}),l.jsx("th",{className:"p-4 font-medium",children:"Model"}),l.jsx("th",{className:"p-4 font-medium",children:"Action"}),l.jsx("th",{className:"p-4 font-medium",children:"Query"}),l.jsx("th",{className:"p-4 font-medium text-right",children:"Duration"}),l.jsx("th",{className:"p-4 font-medium text-center",children:"Status"})]})}),l.jsx("tbody",{children:r.length>0?r.map(M=>l.jsxs(l.Fragment,{children:[l.jsxs("tr",{className:`border-b border-[#333] hover:bg-[#242424] transition-colors cursor-pointer ${y===M.id?"bg-[#242424]":""}`,onClick:()=>L(M.id),children:[l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`text-[#888] transition-transform inline-block ${y===M.id?"rotate-90":""}`,children:""})}),l.jsx("td",{className:"p-4 text-[#F5F0E1] text-sm whitespace-nowrap",children:new Date(M.timestamp).toLocaleString()}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-2 py-1 bg-[#333] rounded text-xs text-[#ccc] border border-[#444]",children:M.model})}),l.jsx("td",{className:"p-4 text-[#bdc3c7] text-sm font-mono",children:M.action}),l.jsxs("td",{className:"p-4 text-[#bdc3c7] text-sm font-mono max-w-xs truncate",title:M.query,children:[M.query,M.error&&l.jsx("span",{className:"block text-red-400 text-xs mt-1 truncate",children:M.error})]}),l.jsx("td",{className:"p-4 text-right text-[#F5F0E1] text-sm font-mono",children:C(M.duration)}),l.jsx("td",{className:"p-4 text-center",children:M.status>=400||M.error?l.jsx("span",{className:"text-red-400 font-bold text-lg",title:`Error ${M.status}`,children:""}):l.jsx("span",{className:"text-green-400 font-bold text-lg",children:""})})]},M.id),y===M.id&&l.jsx("tr",{className:"bg-[#0d1117] border-b border-[#333]",children:l.jsx("td",{colSpan:"7",className:"p-0",children:l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-blue-400 mb-2 flex items-center",children:[l.jsx("span",{className:"mr-2",children:""})," API Request Parameters"]}),l.jsx("pre",{className:"bg-[#161b22] text-[#c9d1d9] p-4 rounded-lg text-xs overflow-x-auto font-mono border border-[#30363d]",children:M.params?B(M.params):M.query||"No parameters recorded"})]}),M.response&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-green-400 mb-2 flex items-center",children:[l.jsx("span",{className:"mr-2",children:""})," Response"]}),l.jsx("pre",{className:"bg-[#161b22] text-[#c9d1d9] p-4 rounded-lg text-xs overflow-x-auto font-mono border border-[#30363d] max-h-60 overflow-y-auto",children:B(M.response)})]}),(M.error||M.error_details||M.status>=400)&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-bold text-red-400 mb-2 flex items-center",children:[l.jsx("span",{className:"mr-2",children:""})," Error Details"]}),l.jsxs("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-red-300",children:"Status Code:"}),l.jsx("span",{className:"ml-2 text-white font-mono",children:M.status||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-red-300",children:"Error Type:"}),l.jsx("span",{className:"ml-2 text-white font-mono",children:M.error_type||"Unknown"})]})]}),l.jsx("pre",{className:"bg-[#1a0a0a] text-red-300 p-4 rounded text-xs overflow-x-auto font-mono border border-red-900 max-h-40 overflow-y-auto whitespace-pre-wrap",children:M.error_details?B(M.error_details):M.error||"No error details available"}),M.stack_trace&&l.jsxs("details",{className:"mt-3",children:[l.jsx("summary",{className:"cursor-pointer text-red-400 text-sm hover:text-red-300",children:"View Stack Trace"}),l.jsx("pre",{className:"mt-2 bg-[#1a0a0a] text-red-300/70 p-3 rounded text-xs overflow-x-auto font-mono max-h-40 overflow-y-auto",children:M.stack_trace})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-[#888] pt-2 border-t border-[#333]",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Log ID:"})," ",M.id]}),l.jsxs("span",{children:[l.jsx("strong",{children:"User ID:"})," ",M.user_id||"Anonymous"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"IP:"})," ",M.ip_address||"N/A"]}),l.jsxs("span",{children:[l.jsx("strong",{children:"User Agent:"})," ",M.user_agent?M.user_agent.substring(0,50)+"...":"N/A"]})]})]})})},`${M.id}-details`)]})):l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"p-12 text-center text-[#666]",children:"No logs found matching criteria"})})})]})})}),c&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6 w-full max-w-md shadow-2xl",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"p-2 bg-red-900/40 rounded-lg text-red-400",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-[#F5F0E1]",children:"Clear Query Logs"}),l.jsx("p",{className:"text-[#A8A090] text-sm",children:"Select time range to delete"})]})]}),l.jsx("p",{className:"text-[#A8A090] mb-6 text-sm",children:"Choose the time period of logs you want to delete. This action cannot be undone."}),l.jsx("div",{className:"space-y-3 mb-6",children:["1h","24h","7d","all"].map(M=>l.jsxs("label",{className:`flex items-center p-3 rounded border cursor-pointer transition-all ${d===M?"border-red-500 bg-red-900/10":"border-[#444] hover:border-[#666]"}`,children:[l.jsx("input",{type:"radio",name:"range",value:M,checked:d===M,onChange:F=>p(F.target.value),className:"mr-3 accent-red-500"}),l.jsxs("span",{className:"text-[#F5F0E1]",children:[M==="1h"&&"Last hour",M==="24h"&&"Last 24 hours",M==="7d"&&"Last 7 days",M==="all"&&"All time"]}),M==="all"&&l.jsx("span",{className:"ml-2 text-red-400 text-xs uppercase font-bold tracking-wider",children:"Deletes everything"})]},M))}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-[#2a2a2a] text-[#F5F0E1] rounded hover:bg-[#3a3a3a] border border-[#444] transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:A,disabled:g,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center",children:[g&&l.jsx(yr,{size:"sm",showText:!1,className:"mr-2 text-white"}),"Delete Logs"]})]})]})})]})},lm=({label:r,value:e,subtext:t,icon:n,color:a="text-[#F5F0E1]"})=>l.jsxs("div",{className:"bg-[#1a1a1a] p-5 rounded-lg border border-[#333] shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("div",{className:`text-2xl font-bold ${a}`,style:{fontFamily:"'Oswald', sans-serif"},children:e}),l.jsx("div",{className:"text-[#A8A090] opacity-50",children:n})]}),l.jsx("div",{className:"text-[#A8A090] text-sm font-medium",children:r}),t&&l.jsx("div",{className:"text-xs text-[#666] mt-1",children:t})]}),_m=({size:r="md",text:e="Loading...",showText:t=!0,className:n="",variant:a="multi-gear"})=>{const i={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},s={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},o=({className:p})=>l.jsxs("div",{className:`relative ${p}`,children:[l.jsx("svg",{className:"absolute inset-0 w-full h-full text-emerald-500 animate-spin",style:{animationDuration:"3s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})}),l.jsx("svg",{className:"absolute top-0 right-0 w-1/3 h-1/3 text-slate-500 animate-spin",style:{animationDuration:"2s",animationDirection:"reverse"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})}),l.jsx("svg",{className:"absolute bottom-0 left-0 w-1/4 h-1/4 text-emerald-400 animate-spin",style:{animationDuration:"1.5s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})})]}),c=({className:p})=>l.jsx("div",{className:`${p} text-emerald-500`,children:l.jsxs("svg",{className:"w-full h-full animate-pulse",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4 6h16v2H4V6zm0 4h16v8H4v-8zm2 2v4h12v-4H6zm-2 6h16v2H4v-2z",fill:"currentColor"}),l.jsx("circle",{cx:"7",cy:"14",r:"1",fill:"white"}),l.jsx("circle",{cx:"17",cy:"14",r:"1",fill:"white"})]})}),u=({className:p})=>l.jsx("div",{className:`${p} text-emerald-500`,children:l.jsx("svg",{className:"w-full h-full animate-spin",style:{animationDuration:"4s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z",fill:"currentColor"})})}),d=()=>{const p=i[r];switch(a){case"multi-gear":return l.jsx(o,{className:p});case"engine":return l.jsx(c,{className:p});case"wrench":return l.jsx(u,{className:p});default:return l.jsx(o,{className:p})}};return l.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${n}`,children:[d(),t&&l.jsx("p",{className:`text-gray-600 font-medium ${s[r]} text-center`,children:e})]})},EG=({isVisible:r,text:e="Processing your auto parts request...",variant:t="multi-gear",backdrop:n=!0})=>r?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n&&l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 backdrop-blur-sm"}),l.jsx("div",{className:"relative card-elevated p-8 max-w-sm mx-4",children:l.jsx(_m,{size:"lg",text:e,variant:t,className:"text-center"})})]}):null,AG=()=>{const[r,e]=V.useState(!1),[t,n]=V.useState(!1),a=()=>{e(!0),setTimeout(()=>e(!1),3e3)},i=()=>{n(!0),setTimeout(()=>n(!1),4e3)};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Auto Parts Loading Components Demo"}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Gear Loading Spinners"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Small Gear"}),l.jsx(yr,{size:"sm",text:"Loading parts...",variant:"gear"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Medium Gear"}),l.jsx(yr,{size:"md",text:"Searching inventory...",variant:"gear"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Large Gear"}),l.jsx(yr,{size:"lg",text:"Processing order...",variant:"gear"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Extra Large Gear"}),l.jsx(yr,{size:"xl",text:"Updating catalog...",variant:"gear"})]})]})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Auto Parts Themed Loaders"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Multi-Gear System"}),l.jsx(_m,{size:"lg",text:"Processing parts...",variant:"multi-gear"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Engine Block"}),l.jsx(_m,{size:"lg",text:"Engine diagnostics...",variant:"engine"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Wrench Tool"}),l.jsx(_m,{size:"lg",text:"Maintenance mode...",variant:"wrench"})]})]})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Alternative Loading Styles"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Simple Spinner"}),l.jsx(yr,{size:"lg",text:"Loading...",variant:"simple"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dots Animation"}),l.jsx(yr,{size:"lg",text:"Please wait...",variant:"dots"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"No Text"}),l.jsx(yr,{size:"lg",showText:!1,variant:"gear"})]})]})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Inline Loading Components"}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[l.jsx("span",{children:"Checking part availability..."}),l.jsx(Zl,{text:"Checking...",variant:"gear",size:"sm"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[l.jsx("span",{children:"Updating cart..."}),l.jsx(Zl,{text:"Updating...",variant:"simple",size:"sm"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[l.jsx("span",{children:"Processing payment..."}),l.jsx(Zl,{text:"Processing...",variant:"dots",size:"sm"})]})]})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Full Screen Loading Overlay"}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx("p",{className:"mb-4 text-gray-600",children:"Click the button below to see a full-screen loading overlay with gear animation. Perfect for major operations like placing orders or loading large catalogs."}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Show Basic Overlay"}),l.jsx("button",{onClick:i,className:"bg-orange-600 hover:bg-orange-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Show Auto Parts Overlay"})]})]})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Usage Examples"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Code Examples:"}),l.jsxs("div",{className:"space-y-4 text-sm",children:[l.jsxs("div",{className:"bg-white p-4 rounded border",children:[l.jsx("strong",{children:"Basic Gear Spinner:"}),l.jsx("code",{className:"block mt-2 text-blue-600",children:'<LoadingSpinner size="md" text="Loading parts..." variant="gear" />'})]}),l.jsxs("div",{className:"bg-white p-4 rounded border",children:[l.jsx("strong",{children:"Full Screen Overlay:"}),l.jsx("code",{className:"block mt-2 text-blue-600",children:'<LoadingOverlay isVisible={loading} text="Processing order..." variant="gear" />'})]}),l.jsxs("div",{className:"bg-white p-4 rounded border",children:[l.jsx("strong",{children:"Inline Loader:"}),l.jsx("code",{className:"block mt-2 text-blue-600",children:'<InlineLoader text="Updating..." variant="gear" size="sm" />'})]})]})]})]}),l.jsx(tO,{isVisible:r,text:"Processing your auto parts order...",variant:"gear"}),l.jsx(EG,{isVisible:t,text:"Analyzing engine components...",variant:"multi-gear"})]})},NG=()=>{const{wishlist:r,loading:e,error:t,removeItem:n,moveItemToCart:a}=Vy(),{isAuthenticated:i}=Fi(),{addToCart:s}=Jd(),[o,c]=V.useState({});if(!i())return l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"My Wishlist"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your wishlist"}),l.jsx(_t,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Login"})]})});const u=(p,g=1)=>oe(null,null,function*(){c(m=>Ft(wt({},m),{[p.product_id]:!0}));try{yield s(p.products,g),yield n(p.product_id,p.products.name)}catch(m){console.error("Error moving to cart:",m)}finally{c(m=>Ft(wt({},m),{[p.product_id]:!1}))}}),d=p=>oe(null,null,function*(){yield n(p.product_id,p.products.name)});return e?l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx("div",{className:"text-center",children:l.jsx(yr,{size:"xl",text:"Loading your wishlist...",variant:"gear"})})}):l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"My Wishlist"}),l.jsxs("div",{className:"text-gray-600",children:[r.length," ",r.length===1?"item":"items"]})]}),t&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:t}),r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mb-6",children:l.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"Your wishlist is empty"}),l.jsx("p",{className:"text-gray-500 mb-6",children:"Start adding items to your wishlist by clicking the heart icon on products you love!"}),l.jsx(_t,{to:"/products",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Products"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.filter(p=>p&&p.id&&p.products&&p.products.name).map(p=>{var g,m,y;return l.jsxs("div",{className:"card-interactive overflow-hidden",children:[l.jsxs("div",{className:"relative",children:[l.jsx(_t,{to:`/products/${p.product_id}`,children:l.jsx(ff,{src:t0((g=p.products)==null?void 0:g.image_url),alt:(m=p.products)==null?void 0:m.name,className:"w-full h-48 object-cover",placeholderText:"No Image Available"})}),l.jsx("button",{onClick:()=>d(p),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",title:"Remove from wishlist",children:l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx(_t,{to:`/products/${p.product_id}`,children:l.jsx("h3",{className:"font-semibold text-lg mb-2 hover:text-blue-600 transition-colors",children:p.products.name})}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:(y=p.products.categories)==null?void 0:y.name}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",parseFloat(p.products.price).toFixed(2)]}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.products.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.products.quantity>0?"In Stock":"Out of Stock"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>u(p),disabled:p.products.quantity===0||o[p.product_id],className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${p.products.quantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o[p.product_id]?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(yr,{size:"sm",showText:!1,variant:"gear"}),l.jsx("span",{className:"ml-2",children:"Moving to Cart..."})]}):"Move to Cart"}),l.jsx(_t,{to:`/products/${p.product_id}`,className:"block w-full py-2 px-4 border border-gray-300 rounded-lg text-center text-gray-700 hover:bg-gray-50 transition-colors",children:"View Details"})]}),l.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Added ",new Date(p.created_at).toLocaleDateString()]})]})]},p.id)})})]})},CG=()=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[l.jsx("h1",{className:"text-6xl font-bold text-blue-800 mb-4",children:"404"}),l.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"Page Not Found"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8 text-center max-w-md",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),l.jsx(_t,{to:"/",className:"bg-blue-800 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700",children:"Return to Home"})]}),W0=({children:r})=>{const{isAuthenticated:e,loading:t}=Fi();return t?l.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):e()?r:l.jsx(My,{to:"/login",replace:!0})},TG=({children:r})=>{const{isAdmin:e,loading:t}=Fi(),[n,a]=V.useState(!1),[i,s]=V.useState(!1);return V.useEffect(()=>{const o=localStorage.getItem("user");if(o)try{const c=JSON.parse(o);c&&c.role==="admin"&&(console.log("Admin bypass enabled via localStorage"),s(!0))}catch(c){console.error("Error parsing user from localStorage:",c)}a(!0)},[]),t||!n?l.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):e()||i?r:l.jsx(My,{to:"/",replace:!0})};function jG(){return V.useEffect(()=>{Gj()},[]),l.jsx(Ij,{children:l.jsx(Bj,{children:l.jsx($j,{children:l.jsx(Fj,{children:l.jsx(Hj,{children:l.jsx(z7,{children:l.jsxs("div",{className:"flex flex-col min-h-screen paper-texture-bg text-[#1a1a1a]",children:[l.jsx(Xj,{}),l.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:l.jsxs(m7,{children:[l.jsx(_r,{path:"/",element:l.jsx(rO,{})}),l.jsx(_r,{path:"/products",element:l.jsx(h5,{})}),l.jsx(_r,{path:"/products/category/:categoryId",element:l.jsx(h5,{})}),l.jsx(_r,{path:"/products/:id",element:l.jsx(gO,{})}),l.jsx(_r,{path:"/cart",element:l.jsx(mO,{})}),l.jsx(_r,{path:"/checkout",element:l.jsx(W0,{children:l.jsx(CR,{})})}),l.jsx(_r,{path:"/order-confirmation/:id",element:l.jsx(W0,{children:l.jsx(TR,{})})}),l.jsx(_r,{path:"/orders",element:l.jsx(W0,{children:l.jsx(jR,{})})}),l.jsx(_r,{path:"/orders/:id",element:l.jsx(W0,{children:l.jsx(H5,{})})}),l.jsx(_r,{path:"/order/:id",element:l.jsx(W0,{children:l.jsx(H5,{})})}),l.jsx(_r,{path:"/profile",element:l.jsx(W0,{children:l.jsx(OR,{})})}),l.jsx(_r,{path:"/wishlist",element:l.jsx(W0,{children:l.jsx(NG,{})})}),l.jsx(_r,{path:"/login",element:l.jsx(RR,{})}),l.jsx(_r,{path:"/register",element:l.jsx(LR,{})}),l.jsx(_r,{path:"/verify-email",element:l.jsx(DR,{})}),l.jsx(_r,{path:"/resend-verification",element:l.jsx(IR,{})}),l.jsx(_r,{path:"/auth/callback",element:l.jsx(PR,{})}),l.jsx(_r,{path:"/forgot-password",element:l.jsx(FR,{})}),l.jsx(_r,{path:"/reset-password",element:l.jsx(MR,{})}),l.jsx(_r,{path:"/loading-demo",element:l.jsx(AG,{})}),l.jsxs(_r,{path:"/admin",element:l.jsx(TG,{children:l.jsx(Zj,{})}),children:[l.jsx(_r,{index:!0,element:l.jsx(UR,{})}),l.jsx(_r,{path:"products",element:l.jsx(aH,{})}),l.jsx(_r,{path:"products/add",element:l.jsx(s6,{})}),l.jsx(_r,{path:"products/edit/:id",element:l.jsx(s6,{})}),l.jsx(_r,{path:"products/view/:id",element:l.jsx(dH,{})}),l.jsx(_r,{path:"barcode-generator",element:l.jsx(hH,{})}),l.jsx(_r,{path:"orders",element:l.jsx(iH,{})}),l.jsx(_r,{path:"users",element:l.jsx(uH,{})}),l.jsx(_r,{path:"user-approval",element:l.jsx(fH,{})}),l.jsx(_r,{path:"analytics",element:l.jsx(TH,{})}),l.jsx(_r,{path:"logs",element:l.jsx(SG,{})}),l.jsx(_r,{path:"reviews",element:l.jsx(jH,{})}),l.jsx(_r,{path:"logo",element:l.jsx(kH,{})}),l.jsx(_r,{path:"inventory",element:l.jsx(bG,{})}),l.jsx(_r,{path:"settings",element:l.jsx(_G,{})})]}),l.jsx(_r,{path:"/404",element:l.jsx(CG,{})}),l.jsx(_r,{path:"*",element:l.jsx(My,{to:"/404",replace:!0})})]})}),l.jsx(Yj,{})]})})})})})})})}SC.createRoot(document.getElementById("root")).render(l.jsx(V.StrictMode,{children:l.jsx(jG,{})}));export{hn as _,RG as c,Ry as g};
