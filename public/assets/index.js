var kN=Object.defineProperty,LN=Object.defineProperties;var IN=Object.getOwnPropertyDescriptors;var H1=Object.getOwnPropertySymbols;var Dw=Object.prototype.hasOwnProperty,Pw=Object.prototype.propertyIsEnumerable;var ad=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),DN=t=>{throw TypeError(t)};var Iw=(t,e,r)=>e in t?kN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zt=(t,e)=>{for(var r in e||(e={}))Dw.call(e,r)&&Iw(t,r,e[r]);if(H1)for(var r of H1(e))Pw.call(e,r)&&Iw(t,r,e[r]);return t},sr=(t,e)=>LN(t,IN(e));var hu=(t,e)=>{var r={};for(var n in t)Dw.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&H1)for(var n of H1(t))e.indexOf(n)<0&&Pw.call(t,n)&&(r[n]=t[n]);return r};var _e=(t,e,r)=>new Promise((n,a)=>{var s=g=>{try{h(r.next(g))}catch(u){a(u)}},c=g=>{try{h(r.throw(g))}catch(u){a(u)}},h=g=>g.done?n(g.value):Promise.resolve(g.value).then(s,c);h((r=r.apply(t,e)).next())}),r0=function(t,e){this[0]=t,this[1]=e},h2=(t,e,r)=>{var n=(c,h,g,u)=>{try{var m=r[c](h),v=(h=m.value)instanceof r0,b=m.done;Promise.resolve(v?h[0]:h).then(_=>v?n(c==="return"?c:"next",h[1]?{done:_.done,value:_.value}:_,g,u):g({value:_,done:b})).catch(_=>n("throw",_,g,u))}catch(_){u(_)}},a=c=>s[c]=h=>new Promise((g,u)=>n(c,h,g,u)),s={};return r=r.apply(t,e),s[ad("asyncIterator")]=()=>s,a("next"),a("throw"),a("return"),s},g2=t=>{var e=t[ad("asyncIterator")],r=!1,n,a={};return e==null?(e=t[ad("iterator")](),n=s=>a[s]=c=>e[s](c)):(e=e.call(t),n=s=>a[s]=c=>{if(r){if(r=!1,s==="throw")throw c;return c}return r=!0,{done:!1,value:new r0(new Promise(h=>{var g=e[s](c);g instanceof Object||DN("Object expected"),h(g)}),1)}}),a[ad("iterator")]=()=>a,n("next"),"throw"in e?n("throw"):a.throw=s=>{throw s},"return"in e&&n("return"),a},Fw=(t,e,r)=>(e=t[ad("asyncIterator")])?e.call(t):(t=t[ad("iterator")](),e={},r=(n,a)=>(a=t[n])&&(e[n]=s=>new Promise((c,h,g)=>(s=a.call(t,s),g=s.done,Promise.resolve(s.value).then(u=>c({value:u,done:g}),h)))),r("next"),r("return"),e);function PN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var q1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Om(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var m2={exports:{}},qf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function MN(){if(Mw)return qf;Mw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var h in a)h!=="key"&&(s[h]=a[h])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:s}}return qf.Fragment=e,qf.jsx=r,qf.jsxs=r,qf}var Bw;function BN(){return Bw||(Bw=1,m2.exports=MN()),m2.exports}var i=BN(),p2={exports:{}},en={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function UN(){if(Uw)return en;Uw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function b(ae){return ae===null||typeof ae!="object"?null:(ae=v&&ae[v]||ae["@@iterator"],typeof ae=="function"?ae:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function j(ae,fe,P){this.props=ae,this.context=fe,this.refs=A,this.updater=P||_}j.prototype.isReactComponent={},j.prototype.setState=function(ae,fe){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,fe,"setState")},j.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function L(){}L.prototype=j.prototype;function D(ae,fe,P){this.props=ae,this.context=fe,this.refs=A,this.updater=P||_}var M=D.prototype=new L;M.constructor=D,C(M,j.prototype),M.isPureReactComponent=!0;var X=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function V(ae,fe,P,W,J,te){return P=te.ref,{$$typeof:t,type:ae,key:fe,ref:P!==void 0?P:null,props:te}}function H(ae,fe){return V(ae.type,fe,void 0,void 0,void 0,ae.props)}function B(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===t}function re(ae){var fe={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(P){return fe[P]})}var q=/\/+/g;function G(ae,fe){return typeof ae=="object"&&ae!==null&&ae.key!=null?re(""+ae.key):fe.toString(36)}function se(){}function ye(ae){switch(ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason;default:switch(typeof ae.status=="string"?ae.then(se,se):(ae.status="pending",ae.then(function(fe){ae.status==="pending"&&(ae.status="fulfilled",ae.value=fe)},function(fe){ae.status==="pending"&&(ae.status="rejected",ae.reason=fe)})),ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason}}throw ae}function me(ae,fe,P,W,J){var te=typeof ae;(te==="undefined"||te==="boolean")&&(ae=null);var le=!1;if(ae===null)le=!0;else switch(te){case"bigint":case"string":case"number":le=!0;break;case"object":switch(ae.$$typeof){case t:case e:le=!0;break;case m:return le=ae._init,me(le(ae._payload),fe,P,W,J)}}if(le)return J=J(ae),le=W===""?"."+G(ae,0):W,X(J)?(P="",le!=null&&(P=le.replace(q,"$&/")+"/"),me(J,fe,P,"",function(Me){return Me})):J!=null&&(B(J)&&(J=H(J,P+(J.key==null||ae&&ae.key===J.key?"":(""+J.key).replace(q,"$&/")+"/")+le)),fe.push(J)),1;le=0;var Be=W===""?".":W+":";if(X(ae))for(var Re=0;Re<ae.length;Re++)W=ae[Re],te=Be+G(W,Re),le+=me(W,fe,P,te,J);else if(Re=b(ae),typeof Re=="function")for(ae=Re.call(ae),Re=0;!(W=ae.next()).done;)W=W.value,te=Be+G(W,Re++),le+=me(W,fe,P,te,J);else if(te==="object"){if(typeof ae.then=="function")return me(ye(ae),fe,P,W,J);throw fe=String(ae),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return le}function de(ae,fe,P){if(ae==null)return ae;var W=[],J=0;return me(ae,W,"","",function(te){return fe.call(P,te,J++)}),W}function we(ae){if(ae._status===-1){var fe=ae._result;fe=fe(),fe.then(function(P){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=P)},function(P){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=P)}),ae._status===-1&&(ae._status=0,ae._result=fe)}if(ae._status===1)return ae._result.default;throw ae._result}var Pe=typeof reportError=="function"?reportError:function(ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ae=="object"&&ae!==null&&typeof ae.message=="string"?String(ae.message):String(ae),error:ae});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ae);return}console.error(ae)};function Ae(){}return en.Children={map:de,forEach:function(ae,fe,P){de(ae,function(){fe.apply(this,arguments)},P)},count:function(ae){var fe=0;return de(ae,function(){fe++}),fe},toArray:function(ae){return de(ae,function(fe){return fe})||[]},only:function(ae){if(!B(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}},en.Component=j,en.Fragment=r,en.Profiler=a,en.PureComponent=D,en.StrictMode=n,en.Suspense=g,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,en.__COMPILER_RUNTIME={__proto__:null,c:function(ae){return Q.H.useMemoCache(ae)}},en.cache=function(ae){return function(){return ae.apply(null,arguments)}},en.cloneElement=function(ae,fe,P){if(ae==null)throw Error("The argument must be a React element, but you passed "+ae+".");var W=C({},ae.props),J=ae.key,te=void 0;if(fe!=null)for(le in fe.ref!==void 0&&(te=void 0),fe.key!==void 0&&(J=""+fe.key),fe)!Y.call(fe,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&fe.ref===void 0||(W[le]=fe[le]);var le=arguments.length-2;if(le===1)W.children=P;else if(1<le){for(var Be=Array(le),Re=0;Re<le;Re++)Be[Re]=arguments[Re+2];W.children=Be}return V(ae.type,J,void 0,void 0,te,W)},en.createContext=function(ae){return ae={$$typeof:c,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null},ae.Provider=ae,ae.Consumer={$$typeof:s,_context:ae},ae},en.createElement=function(ae,fe,P){var W,J={},te=null;if(fe!=null)for(W in fe.key!==void 0&&(te=""+fe.key),fe)Y.call(fe,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(J[W]=fe[W]);var le=arguments.length-2;if(le===1)J.children=P;else if(1<le){for(var Be=Array(le),Re=0;Re<le;Re++)Be[Re]=arguments[Re+2];J.children=Be}if(ae&&ae.defaultProps)for(W in le=ae.defaultProps,le)J[W]===void 0&&(J[W]=le[W]);return V(ae,te,void 0,void 0,null,J)},en.createRef=function(){return{current:null}},en.forwardRef=function(ae){return{$$typeof:h,render:ae}},en.isValidElement=B,en.lazy=function(ae){return{$$typeof:m,_payload:{_status:-1,_result:ae},_init:we}},en.memo=function(ae,fe){return{$$typeof:u,type:ae,compare:fe===void 0?null:fe}},en.startTransition=function(ae){var fe=Q.T,P={};Q.T=P;try{var W=ae(),J=Q.S;J!==null&&J(P,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ae,Pe)}catch(te){Pe(te)}finally{Q.T=fe}},en.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},en.use=function(ae){return Q.H.use(ae)},en.useActionState=function(ae,fe,P){return Q.H.useActionState(ae,fe,P)},en.useCallback=function(ae,fe){return Q.H.useCallback(ae,fe)},en.useContext=function(ae){return Q.H.useContext(ae)},en.useDebugValue=function(){},en.useDeferredValue=function(ae,fe){return Q.H.useDeferredValue(ae,fe)},en.useEffect=function(ae,fe,P){var W=Q.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(ae,fe)},en.useId=function(){return Q.H.useId()},en.useImperativeHandle=function(ae,fe,P){return Q.H.useImperativeHandle(ae,fe,P)},en.useInsertionEffect=function(ae,fe){return Q.H.useInsertionEffect(ae,fe)},en.useLayoutEffect=function(ae,fe){return Q.H.useLayoutEffect(ae,fe)},en.useMemo=function(ae,fe){return Q.H.useMemo(ae,fe)},en.useOptimistic=function(ae,fe){return Q.H.useOptimistic(ae,fe)},en.useReducer=function(ae,fe,P){return Q.H.useReducer(ae,fe,P)},en.useRef=function(ae){return Q.H.useRef(ae)},en.useState=function(ae){return Q.H.useState(ae)},en.useSyncExternalStore=function(ae,fe,P){return Q.H.useSyncExternalStore(ae,fe,P)},en.useTransition=function(){return Q.H.useTransition()},en.version="19.1.0",en}var zw;function Hx(){return zw||(zw=1,p2.exports=UN()),p2.exports}var ee=Hx(),x2={exports:{}},Vf={},v2={exports:{}},y2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function zN(){return Hw||(Hw=1,function(t){function e(de,we){var Pe=de.length;de.push(we);e:for(;0<Pe;){var Ae=Pe-1>>>1,ae=de[Ae];if(0<a(ae,we))de[Ae]=we,de[Pe]=ae,Pe=Ae;else break e}}function r(de){return de.length===0?null:de[0]}function n(de){if(de.length===0)return null;var we=de[0],Pe=de.pop();if(Pe!==we){de[0]=Pe;e:for(var Ae=0,ae=de.length,fe=ae>>>1;Ae<fe;){var P=2*(Ae+1)-1,W=de[P],J=P+1,te=de[J];if(0>a(W,Pe))J<ae&&0>a(te,W)?(de[Ae]=te,de[J]=Pe,Ae=J):(de[Ae]=W,de[P]=Pe,Ae=P);else if(J<ae&&0>a(te,Pe))de[Ae]=te,de[J]=Pe,Ae=J;else break e}}return we}function a(de,we){var Pe=de.sortIndex-we.sortIndex;return Pe!==0?Pe:de.id-we.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],u=[],m=1,v=null,b=3,_=!1,C=!1,A=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate!="undefined"?setImmediate:null;function X(de){for(var we=r(u);we!==null;){if(we.callback===null)n(u);else if(we.startTime<=de)n(u),we.sortIndex=we.expirationTime,e(g,we);else break;we=r(u)}}function Q(de){if(A=!1,X(de),!C)if(r(g)!==null)C=!0,Y||(Y=!0,G());else{var we=r(u);we!==null&&me(Q,we.startTime-de)}}var Y=!1,V=-1,H=5,B=-1;function re(){return j?!0:!(t.unstable_now()-B<H)}function q(){if(j=!1,Y){var de=t.unstable_now();B=de;var we=!0;try{e:{C=!1,A&&(A=!1,D(V),V=-1),_=!0;var Pe=b;try{t:{for(X(de),v=r(g);v!==null&&!(v.expirationTime>de&&re());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,b=v.priorityLevel;var ae=Ae(v.expirationTime<=de);if(de=t.unstable_now(),typeof ae=="function"){v.callback=ae,X(de),we=!0;break t}v===r(g)&&n(g),X(de)}else n(g);v=r(g)}if(v!==null)we=!0;else{var fe=r(u);fe!==null&&me(Q,fe.startTime-de),we=!1}}break e}finally{v=null,b=Pe,_=!1}we=void 0}}finally{we?G():Y=!1}}}var G;if(typeof M=="function")G=function(){M(q)};else if(typeof MessageChannel!="undefined"){var se=new MessageChannel,ye=se.port2;se.port1.onmessage=q,G=function(){ye.postMessage(null)}}else G=function(){L(q,0)};function me(de,we){V=L(function(){de(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(de){switch(b){case 1:case 2:case 3:var we=3;break;default:we=b}var Pe=b;b=we;try{return de()}finally{b=Pe}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(de,we){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Pe=b;b=de;try{return we()}finally{b=Pe}},t.unstable_scheduleCallback=function(de,we,Pe){var Ae=t.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?Ae+Pe:Ae):Pe=Ae,de){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Pe+ae,de={id:m++,callback:we,priorityLevel:de,startTime:Pe,expirationTime:ae,sortIndex:-1},Pe>Ae?(de.sortIndex=Pe,e(u,de),r(g)===null&&de===r(u)&&(A?(D(V),V=-1):A=!0,me(Q,Pe-Ae))):(de.sortIndex=ae,e(g,de),C||_||(C=!0,Y||(Y=!0,G()))),de},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(de){var we=b;return function(){var Pe=b;b=we;try{return de.apply(this,arguments)}finally{b=Pe}}}}(y2)),y2}var qw;function HN(){return qw||(qw=1,v2.exports=zN()),v2.exports}var w2={exports:{}},di={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function qN(){if(Vw)return di;Vw=1;var t=Hx();function e(g){var u="https://react.dev/errors/"+g;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(g,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:g,containerInfo:u,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,u){if(g==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,di.createPortal=function(g,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(g,u,null,m)},di.flushSync=function(g){var u=c.T,m=n.p;try{if(c.T=null,n.p=2,g)return g()}finally{c.T=u,n.p=m,n.d.f()}},di.preconnect=function(g,u){typeof g=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(g,u))},di.prefetchDNS=function(g){typeof g=="string"&&n.d.D(g)},di.preinit=function(g,u){if(typeof g=="string"&&u&&typeof u.as=="string"){var m=u.as,v=h(m,u.crossOrigin),b=typeof u.integrity=="string"?u.integrity:void 0,_=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;m==="style"?n.d.S(g,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:_}):m==="script"&&n.d.X(g,{crossOrigin:v,integrity:b,fetchPriority:_,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},di.preinitModule=function(g,u){if(typeof g=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var m=h(u.as,u.crossOrigin);n.d.M(g,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(g)},di.preload=function(g,u){if(typeof g=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var m=u.as,v=h(m,u.crossOrigin);n.d.L(g,m,{crossOrigin:v,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},di.preloadModule=function(g,u){if(typeof g=="string")if(u){var m=h(u.as,u.crossOrigin);n.d.m(g,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(g)},di.requestFormReset=function(g){n.d.r(g)},di.unstable_batchedUpdates=function(g,u){return g(u)},di.useFormState=function(g,u,m){return c.H.useFormState(g,u,m)},di.useFormStatus=function(){return c.H.useHostTransitionStatus()},di.version="19.1.0",di}var Ww;function VN(){if(Ww)return w2.exports;Ww=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w2.exports=qN(),w2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function WN(){if(Gw)return Vf;Gw=1;var t=HN(),e=Hx(),r=VN();function n(o){var d="https://react.dev/errors/"+o;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var d=o,x=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(x=d.return),o=d.return;while(o)}return d.tag===3?x:null}function c(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function h(o){if(s(o)!==o)throw Error(n(188))}function g(o){var d=o.alternate;if(!d){if(d=s(o),d===null)throw Error(n(188));return d!==o?null:o}for(var x=o,E=d;;){var O=x.return;if(O===null)break;var F=O.alternate;if(F===null){if(E=O.return,E!==null){x=E;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===x)return h(O),o;if(F===E)return h(O),d;F=F.sibling}throw Error(n(188))}if(x.return!==E.return)x=O,E=F;else{for(var ne=!1,Ee=O.child;Ee;){if(Ee===x){ne=!0,x=O,E=F;break}if(Ee===E){ne=!0,E=O,x=F;break}Ee=Ee.sibling}if(!ne){for(Ee=F.child;Ee;){if(Ee===x){ne=!0,x=F,E=O;break}if(Ee===E){ne=!0,E=F,x=O;break}Ee=Ee.sibling}if(!ne)throw Error(n(189))}}if(x.alternate!==E)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?o:d}function u(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o;for(o=o.child;o!==null;){if(d=u(o),d!==null)return d;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),M=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var se=Symbol.for("react.client.reference");function ye(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case Q:return"Suspense";case Y:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case M:return(o.displayName||"Context")+".Provider";case D:return(o._context.displayName||"Context")+".Consumer";case X:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case V:return d=o.displayName||null,d!==null?d:ye(o.type)||"Memo";case H:d=o._payload,o=o._init;try{return ye(o(d))}catch(x){}}return null}var me=Array.isArray,de=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Ae=[],ae=-1;function fe(o){return{current:o}}function P(o){0>ae||(o.current=Ae[ae],Ae[ae]=null,ae--)}function W(o,d){ae++,Ae[ae]=o.current,o.current=d}var J=fe(null),te=fe(null),le=fe(null),Be=fe(null);function Re(o,d){switch(W(le,d),W(te,o),W(J,null),d.nodeType){case 9:case 11:o=(o=d.documentElement)&&(o=o.namespaceURI)?lw(o):0;break;default:if(o=d.tagName,d=d.namespaceURI)d=lw(d),o=cw(d,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}P(J),W(J,o)}function Me(){P(J),P(te),P(le)}function ke(o){o.memoizedState!==null&&W(Be,o);var d=J.current,x=cw(d,o.type);d!==x&&(W(te,o),W(J,x))}function ze(o){te.current===o&&(P(J),P(te)),Be.current===o&&(P(Be),Mf._currentValue=Pe)}var ut=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,Ct=t.unstable_cancelCallback,rt=t.unstable_shouldYield,ge=t.unstable_requestPaint,Ve=t.unstable_now,st=t.unstable_getCurrentPriorityLevel,Ue=t.unstable_ImmediatePriority,Je=t.unstable_UserBlockingPriority,et=t.unstable_NormalPriority,Pt=t.unstable_LowPriority,Mt=t.unstable_IdlePriority,Xt=t.log,cr=t.unstable_setDisableYieldValue,rr=null,lr=null;function hr(o){if(typeof Xt=="function"&&cr(o),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(rr,o)}catch(d){}}var Qt=Math.clz32?Math.clz32:En,Br=Math.log,Yt=Math.LN2;function En(o){return o>>>=0,o===0?32:31-(Br(o)/Yt|0)|0}var ur=256,Vt=4194304;function wr(o){var d=o&42;if(d!==0)return d;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function yr(o,d,x){var E=o.pendingLanes;if(E===0)return 0;var O=0,F=o.suspendedLanes,ne=o.pingedLanes;o=o.warmLanes;var Ee=E&134217727;return Ee!==0?(E=Ee&~F,E!==0?O=wr(E):(ne&=Ee,ne!==0?O=wr(ne):x||(x=Ee&~o,x!==0&&(O=wr(x))))):(Ee=E&~F,Ee!==0?O=wr(Ee):ne!==0?O=wr(ne):x||(x=E&~o,x!==0&&(O=wr(x)))),O===0?0:d!==0&&d!==O&&(d&F)===0&&(F=O&-O,x=d&-d,F>=x||F===32&&(x&4194048)!==0)?d:O}function Zr(o,d){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&d)===0}function Jr(o,d){switch(o){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var o=ur;return ur<<=1,(ur&4194048)===0&&(ur=256),o}function Un(){var o=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),o}function Lr(o){for(var d=[],x=0;31>x;x++)d.push(o);return d}function xa(o,d){o.pendingLanes|=d,d!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function jn(o,d,x,E,O,F){var ne=o.pendingLanes;o.pendingLanes=x,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=x,o.entangledLanes&=x,o.errorRecoveryDisabledLanes&=x,o.shellSuspendCounter=0;var Ee=o.entanglements,He=o.expirationTimes,ht=o.hiddenUpdates;for(x=ne&~x;0<x;){var Tt=31-Qt(x),Ft=1<<Tt;Ee[Tt]=0,He[Tt]=-1;var vt=ht[Tt];if(vt!==null)for(ht[Tt]=null,Tt=0;Tt<vt.length;Tt++){var yt=vt[Tt];yt!==null&&(yt.lane&=-536870913)}x&=~Ft}E!==0&&Ar(o,E,0),F!==0&&O===0&&o.tag!==0&&(o.suspendedLanes|=F&~(ne&~d))}function Ar(o,d,x){o.pendingLanes|=d,o.suspendedLanes&=~d;var E=31-Qt(d);o.entangledLanes|=d,o.entanglements[E]=o.entanglements[E]|1073741824|x&4194090}function Hr(o,d){var x=o.entangledLanes|=d;for(o=o.entanglements;x;){var E=31-Qt(x),O=1<<E;O&d|o[E]&d&&(o[E]|=d),x&=~O}}function qs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function tn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ha(){var o=we.p;return o!==0?o:(o=window.event,o===void 0?32:Tw(o.type))}function ys(o,d){var x=we.p;try{return we.p=o,d()}finally{we.p=x}}var or=Math.random().toString(36).slice(2),On="__reactFiber$"+or,hn="__reactProps$"+or,sa="__reactContainer$"+or,rn="__reactEvents$"+or,Rn="__reactListeners$"+or,he="__reactHandles$"+or,Ne="__reactResources$"+or,Ce="__reactMarker$"+or;function Te(o){delete o[On],delete o[hn],delete o[rn],delete o[Rn],delete o[he]}function Oe(o){var d=o[On];if(d)return d;for(var x=o.parentNode;x;){if(d=x[sa]||x[On]){if(x=d.alternate,d.child!==null||x!==null&&x.child!==null)for(o=hw(o);o!==null;){if(x=o[On])return x;o=hw(o)}return d}o=x,x=o.parentNode}return null}function Fe(o){if(o=o[On]||o[sa]){var d=o.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return o}return null}function it(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o.stateNode;throw Error(n(33))}function wt(o){var d=o[Ne];return d||(d=o[Ne]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Ze(o){o[Ce]=!0}var ft=new Set,mt={};function Ot(o,d){Ut(o,d),Ut(o+"Capture",d)}function Ut(o,d){for(mt[o]=d,o=0;o<d.length;o++)ft.add(d[o])}var Wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gt={},Kt={};function Nr(o){return ut.call(Kt,o)?!0:ut.call(Gt,o)?!1:Wt.test(o)?Kt[o]=!0:(Gt[o]=!0,!1)}function _t(o,d,x){if(Nr(d))if(x===null)o.removeAttribute(d);else{switch(typeof x){case"undefined":case"function":case"symbol":o.removeAttribute(d);return;case"boolean":var E=d.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){o.removeAttribute(d);return}}o.setAttribute(d,""+x)}}function yn(o,d,x){if(x===null)o.removeAttribute(d);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttribute(d,""+x)}}function Sr(o,d,x,E){if(E===null)o.removeAttribute(x);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(x);return}o.setAttributeNS(d,x,""+E)}}var qa,Di;function Ur(o){if(qa===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);qa=d&&d[1]||"",Di=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+o+Di}var qr=!1;function jr(o,d){if(!o||qr)return"";qr=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(d){var Ft=function(){throw Error()};if(Object.defineProperty(Ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ft,[])}catch(yt){var vt=yt}Reflect.construct(o,[],Ft)}else{try{Ft.call()}catch(yt){vt=yt}o.call(Ft.prototype)}}else{try{throw Error()}catch(yt){vt=yt}(Ft=o())&&typeof Ft.catch=="function"&&Ft.catch(function(){})}}catch(yt){if(yt&&vt&&typeof yt.stack=="string")return[yt.stack,vt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=E.DetermineComponentFrameRoot(),ne=F[0],Ee=F[1];if(ne&&Ee){var He=ne.split(`
`),ht=Ee.split(`
`);for(O=E=0;E<He.length&&!He[E].includes("DetermineComponentFrameRoot");)E++;for(;O<ht.length&&!ht[O].includes("DetermineComponentFrameRoot");)O++;if(E===He.length||O===ht.length)for(E=He.length-1,O=ht.length-1;1<=E&&0<=O&&He[E]!==ht[O];)O--;for(;1<=E&&0<=O;E--,O--)if(He[E]!==ht[O]){if(E!==1||O!==1)do if(E--,O--,0>O||He[E]!==ht[O]){var Tt=`
`+He[E].replace(" at new "," at ");return o.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",o.displayName)),Tt}while(1<=E&&0<=O);break}}}finally{qr=!1,Error.prepareStackTrace=x}return(x=o?o.displayName||o.name:"")?Ur(x):""}function ws(o){switch(o.tag){case 26:case 27:case 5:return Ur(o.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return jr(o.type,!1);case 11:return jr(o.type.render,!1);case 1:return jr(o.type,!0);case 31:return Ur("Activity");default:return""}}function Jn(o){try{var d="";do d+=ws(o),o=o.return;while(o);return d}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function es(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ia(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function _i(o){var d=ia(o)?"checked":"value",x=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),E=""+o[d];if(!o.hasOwnProperty(d)&&typeof x!="undefined"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,F=x.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return O.call(this)},set:function(ne){E=""+ne,F.call(this,ne)}}),Object.defineProperty(o,d,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(ne){E=""+ne},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Oo(o){o._valueTracker||(o._valueTracker=_i(o))}function Qn(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var x=d.getValue(),E="";return o&&(E=ia(o)?o.checked?"true":"false":o.value),o=E,o!==x?(d.setValue(o),!0):!1}function va(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(d){return o.body}}var kl=/[\n"\\]/g;function Nn(o){return o.replace(kl,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function vn(o,d,x,E,O,F,ne,Ee){o.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?o.type=ne:o.removeAttribute("type"),d!=null?ne==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+es(d)):o.value!==""+es(d)&&(o.value=""+es(d)):ne!=="submit"&&ne!=="reset"||o.removeAttribute("value"),d!=null?ot(o,ne,es(d)):x!=null?ot(o,ne,es(x)):E!=null&&o.removeAttribute("value"),O==null&&F!=null&&(o.defaultChecked=!!F),O!=null&&(o.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?o.name=""+es(Ee):o.removeAttribute("name")}function Oa(o,d,x,E,O,F,ne,Ee){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(o.type=F),d!=null||x!=null){if(!(F!=="submit"&&F!=="reset"||d!=null))return;x=x!=null?""+es(x):"",d=d!=null?""+es(d):x,Ee||d===o.value||(o.value=d),o.defaultValue=d}E=E!=null?E:O,E=typeof E!="function"&&typeof E!="symbol"&&!!E,o.checked=Ee?o.checked:!!E,o.defaultChecked=!!E,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(o.name=ne)}function ot(o,d,x){d==="number"&&va(o.ownerDocument)===o||o.defaultValue===""+x||(o.defaultValue=""+x)}function je(o,d,x,E){if(o=o.options,d){d={};for(var O=0;O<x.length;O++)d["$"+x[O]]=!0;for(x=0;x<o.length;x++)O=d.hasOwnProperty("$"+o[x].value),o[x].selected!==O&&(o[x].selected=O),O&&E&&(o[x].defaultSelected=!0)}else{for(x=""+es(x),d=null,O=0;O<o.length;O++){if(o[O].value===x){o[O].selected=!0,E&&(o[O].defaultSelected=!0);return}d!==null||o[O].disabled||(d=o[O])}d!==null&&(d.selected=!0)}}function xr(o,d,x){if(d!=null&&(d=""+es(d),d!==o.value&&(o.value=d),x==null)){o.defaultValue!==d&&(o.defaultValue=d);return}o.defaultValue=x!=null?""+es(x):""}function ua(o,d,x,E){if(d==null){if(E!=null){if(x!=null)throw Error(n(92));if(me(E)){if(1<E.length)throw Error(n(93));E=E[0]}x=E}x==null&&(x=""),d=x}x=es(d),o.defaultValue=x,E=o.textContent,E===x&&E!==""&&E!==null&&(o.value=E)}function Fa(o,d){if(d){var x=o.firstChild;if(x&&x===o.lastChild&&x.nodeType===3){x.nodeValue=d;return}}o.textContent=d}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(o,d,x){var E=d.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?E?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="":E?o.setProperty(d,x):typeof x!="number"||x===0||ic.has(d)?d==="float"?o.cssFloat=x:o[d]=(""+x).trim():o[d]=x+"px"}function bs(o,d,x){if(d!=null&&typeof d!="object")throw Error(n(62));if(o=o.style,x!=null){for(var E in x)!x.hasOwnProperty(E)||d!=null&&d.hasOwnProperty(E)||(E.indexOf("--")===0?o.setProperty(E,""):E==="float"?o.cssFloat="":o[E]="");for(var O in d)E=d[O],d.hasOwnProperty(O)&&x[O]!==E&&Ll(o,O,E)}else for(var F in d)d.hasOwnProperty(F)&&Ll(o,F,d[F])}function vr(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(o){return Jo.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ro=null;function ya(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Pi=null,ao=null;function dr(o){var d=Fe(o);if(d&&(o=d.stateNode)){var x=o[hn]||null;e:switch(o=d.stateNode,d.type){case"input":if(vn(o,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),d=x.name,x.type==="radio"&&d!=null){for(x=o;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Nn(""+d)+'"][type="radio"]'),d=0;d<x.length;d++){var E=x[d];if(E!==o&&E.form===o.form){var O=E[hn]||null;if(!O)throw Error(n(90));vn(E,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<x.length;d++)E=x[d],E.form===o.form&&Qn(E)}break e;case"textarea":xr(o,x.value,x.defaultValue);break e;case"select":d=x.value,d!=null&&je(o,!!x.multiple,d,!1)}}}var so=!1;function Ei(o,d,x){if(so)return o(d,x);so=!0;try{var E=o(d);return E}finally{if(so=!1,(Pi!==null||ao!==null)&&(b1(),Pi&&(d=Pi,o=ao,ao=Pi=null,dr(d),o)))for(d=0;d<o.length;d++)dr(o[d])}}function fr(o,d){var x=o.stateNode;if(x===null)return null;var E=x[hn]||null;if(E===null)return null;x=E[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(o=o.type,E=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!E;break e;default:o=!1}if(o)return null;if(x&&typeof x!="function")throw Error(n(231,d,typeof x));return x}var ai=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ir=!1;if(ai)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch(o){Ir=!1}var si=null,Qo=null,el=null;function Fi(){if(el)return el;var o,d=Qo,x=d.length,E,O="value"in si?si.value:si.textContent,F=O.length;for(o=0;o<x&&d[o]===O[o];o++);var ne=x-o;for(E=1;E<=ne&&d[x-E]===O[F-E];E++);return el=O.slice(o,1<E?1-E:void 0)}function ko(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function Ss(){return!0}function Vs(){return!1}function Ra(o){function d(x,E,O,F,ne){this._reactName=x,this._targetInst=O,this.type=E,this.nativeEvent=F,this.target=ne,this.currentTarget=null;for(var Ee in o)o.hasOwnProperty(Ee)&&(x=o[Ee],this[Ee]=x?x(F):F[Ee]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Ss:Vs,this.isPropagationStopped=Vs,this}return m(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),d}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=Ra(As),Cs=m({},As,{view:0,detail:0}),ts=Ra(Cs),tl,rl,io,Ws=m({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==io&&(io&&o.type==="mousemove"?(tl=o.screenX-io.screenX,rl=o.screenY-io.screenY):rl=tl=0,io=o),tl)},movementY:function(o){return"movementY"in o?o.movementY:rl}}),Mi=Ra(Ws),Iu=m({},Ws,{dataTransfer:0}),ln=Ra(Iu),oi=m({},Cs,{relatedTarget:0}),Bi=Ra(oi),Ts=m({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Ra(Ts),xt=m({},As,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Wr=Ra(xt),wa=m({},As,{data:0}),oo=Ra(wa),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Il={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=lc[o])?!!d[o]:!1}function Lo(){return cc}var ba=m({},Cs,{key:function(o){if(o.key){var d=oc[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=ko(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Il[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(o){return o.type==="keypress"?ko(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ko(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Io=Ra(ba),kn=m({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=Ra(kn),js=m({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),bn=Ra(js),I=m({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),ue=Ra(I),Le=m({},Ws,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),We=Ra(Le),nt=m({},As,{newState:0,oldState:0}),Nt=Ra(nt),Dt=[9,13,27,32],nr=ai&&"CompositionEvent"in window,gr=null;ai&&"documentMode"in document&&(gr=document.documentMode);var Dr=ai&&"TextEvent"in window&&!gr,Or=ai&&(!nr||gr&&8<gr&&11>=gr),nn=" ",ea=!1;function Ln(o,d){switch(o){case"keyup":return Dt.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _a=!1;function da(o,d){switch(o){case"compositionend":return oa(d);case"keypress":return d.which!==32?null:(ea=!0,nn);case"textInput":return o=d.data,o===nn&&ea?null:o;default:return null}}function Ni(o,d){if(_a)return o==="compositionend"||!nr&&Ln(o,d)?(o=Fi(),el=Qo=si=null,_a=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Or&&d.locale!=="ko"?null:d.data;default:return null}}var ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Os(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!ka[o.type]:d==="textarea"}function fs(o,d,x,E){Pi?ao?ao.push(E):ao=[E]:Pi=E,d=C1(d,"onChange"),0<d.length&&(x=new ii("onChange","change",null,x,E),o.push({event:x,listeners:d}))}var Ui=null,Va=null;function Dl(o){nw(o,0)}function zi(o){var d=it(o);if(Qn(d))return o}function Pl(o,d){if(o==="change")return d}var Do=!1;if(ai){var In;if(ai){var Po="oninput"in document;if(!Po){var co=document.createElement("div");co.setAttribute("oninput","return;"),Po=typeof co.oninput=="function"}In=Po}else In=!1;Do=In&&(!document.documentMode||9<document.documentMode)}function Si(){Ui&&(Ui.detachEvent("onpropertychange",Xr),Va=Ui=null)}function Xr(o){if(o.propertyName==="value"&&zi(Va)){var d=[];fs(d,Va,o,ya(o)),Ei(Dl,d)}}function rs(o,d,x){o==="focusin"?(Si(),Ui=d,Va=x,Ui.attachEvent("onpropertychange",Xr)):o==="focusout"&&Si()}function oe(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return zi(Va)}function l(o,d){if(o==="click")return zi(d)}function f(o,d){if(o==="input"||o==="change")return zi(d)}function p(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var y=typeof Object.is=="function"?Object.is:p;function w(o,d){if(y(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var x=Object.keys(o),E=Object.keys(d);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var O=x[E];if(!ut.call(d,O)||!y(o[O],d[O]))return!1}return!0}function N(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function T(o,d){var x=N(o);o=0;for(var E;x;){if(x.nodeType===3){if(E=o+x.textContent.length,o<=d&&E>=d)return{node:x,offset:d-o};o=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=N(x)}}function k(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?k(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function U(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var d=va(o.document);d instanceof o.HTMLIFrameElement;){try{var x=typeof d.contentWindow.location.href=="string"}catch(E){x=!1}if(x)o=d.contentWindow;else break;d=va(o.document)}return d}function Z(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}var ie=ai&&"documentMode"in document&&11>=document.documentMode,xe=null,Ie=null,qe=null,Ge=!1;function Qe(o,d,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ge||xe==null||xe!==va(E)||(E=xe,"selectionStart"in E&&Z(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),qe&&w(qe,E)||(qe=E,E=C1(Ie,"onSelect"),0<E.length&&(d=new ii("onSelect","select",null,d,x),o.push({event:d,listeners:E}),d.target=xe)))}function pt(o,d){var x={};return x[o.toLowerCase()]=d.toLowerCase(),x["Webkit"+o]="webkit"+d,x["Moz"+o]="moz"+d,x}var Lt={animationend:pt("Animation","AnimationEnd"),animationiteration:pt("Animation","AnimationIteration"),animationstart:pt("Animation","AnimationStart"),transitionrun:pt("Transition","TransitionRun"),transitionstart:pt("Transition","TransitionStart"),transitioncancel:pt("Transition","TransitionCancel"),transitionend:pt("Transition","TransitionEnd")},Ht={},Bt={};ai&&(Bt=document.createElement("div").style,"AnimationEvent"in window||(delete Lt.animationend.animation,delete Lt.animationiteration.animation,delete Lt.animationstart.animation),"TransitionEvent"in window||delete Lt.transitionend.transition);function Pr(o){if(Ht[o])return Ht[o];if(!Lt[o])return o;var d=Lt[o],x;for(x in d)if(d.hasOwnProperty(x)&&x in Bt)return Ht[o]=d[x];return o}var Cr=Pr("animationend"),Ea=Pr("animationiteration"),Wa=Pr("animationstart"),Na=Pr("transitionrun"),gn=Pr("transitionstart"),fa=Pr("transitioncancel"),La=Pr("transitionend"),Rs=new Map,li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");li.push("scrollEnd");function ha(o,d){Rs.set(o,d),Ot(d,[o])}var Gs=new WeakMap;function cn(o,d){if(typeof o=="object"&&o!==null){var x=Gs.get(o);return x!==void 0?x:(d={value:o,source:d,stack:Jn(d)},Gs.set(o,d),d)}return{value:o,source:d,stack:Jn(d)}}var un=[],ta=0,Ma=0;function Hi(){for(var o=ta,d=Ma=ta=0;d<o;){var x=un[d];un[d++]=null;var E=un[d];un[d++]=null;var O=un[d];un[d++]=null;var F=un[d];if(un[d++]=null,E!==null&&O!==null){var ne=E.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),E.pending=O}F!==0&&O0(x,O,F)}}function Fl(o,d,x,E){un[ta++]=o,un[ta++]=d,un[ta++]=x,un[ta++]=E,Ma|=E,o.lanes|=E,o=o.alternate,o!==null&&(o.lanes|=E)}function Ml(o,d,x,E){return Fl(o,d,x,E),uc(o)}function nl(o,d){return Fl(o,null,null,d),uc(o)}function O0(o,d,x){o.lanes|=x;var E=o.alternate;E!==null&&(E.lanes|=x);for(var O=!1,F=o.return;F!==null;)F.childLanes|=x,E=F.alternate,E!==null&&(E.childLanes|=x),F.tag===22&&(o=F.stateNode,o===null||o._visibility&1||(O=!0)),o=F,F=F.return;return o.tag===3?(F=o.stateNode,O&&d!==null&&(O=31-Qt(x),o=F.hiddenUpdates,E=o[O],E===null?o[O]=[d]:E.push(d),d.lane=x|536870912),F):null}function uc(o){if(50<Of)throw Of=0,Fp=null,Error(n(185));for(var d=o.return;d!==null;)o=d,d=o.return;return o.tag===3?o.stateNode:null}var hs={};function qi(o,d,x,E){this.tag=o,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(o,d,x,E){return new qi(o,d,x,E)}function Hc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fo(o,d){var x=o.alternate;return x===null?(x=ks(o.tag,d,o.key,o.mode),x.elementType=o.elementType,x.type=o.type,x.stateNode=o.stateNode,x.alternate=o,o.alternate=x):(x.pendingProps=d,x.type=o.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=o.flags&65011712,x.childLanes=o.childLanes,x.lanes=o.lanes,x.child=o.child,x.memoizedProps=o.memoizedProps,x.memoizedState=o.memoizedState,x.updateQueue=o.updateQueue,d=o.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=o.sibling,x.index=o.index,x.ref=o.ref,x.refCleanup=o.refCleanup,x}function Pu(o,d){o.flags&=65011714;var x=o.alternate;return x===null?(o.childLanes=0,o.lanes=d,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=x.childLanes,o.lanes=x.lanes,o.child=x.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=x.memoizedProps,o.memoizedState=x.memoizedState,o.updateQueue=x.updateQueue,o.type=x.type,d=x.dependencies,o.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),o}function dc(o,d,x,E,O,F){var ne=0;if(E=o,typeof o=="function")Hc(o)&&(ne=1);else if(typeof o=="string")ne=yN(o,x,J.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=ks(31,x,d,O),o.elementType=B,o.lanes=F,o;case C:return al(x.children,O,F,d);case A:ne=8,O|=24;break;case j:return o=ks(12,x,d,O|2),o.elementType=j,o.lanes=F,o;case Q:return o=ks(13,x,d,O),o.elementType=Q,o.lanes=F,o;case Y:return o=ks(19,x,d,O),o.elementType=Y,o.lanes=F,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:case M:ne=10;break e;case D:ne=9;break e;case X:ne=11;break e;case V:ne=14;break e;case H:ne=16,E=null;break e}ne=29,x=Error(n(130,o===null?"null":typeof o,"")),E=null}return d=ks(ne,x,d,O),d.elementType=o,d.type=E,d.lanes=F,d}function al(o,d,x,E){return o=ks(7,o,E,d),o.lanes=x,o}function R0(o,d,x){return o=ks(6,o,null,d),o.lanes=x,o}function Fu(o,d,x){return d=ks(4,o.children!==null?o.children:[],o.key,d),d.lanes=x,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}var Bl=[],sl=0,qc=null,k0=0,Vi=[],Ai=0,fc=null,il=1,ol="";function hc(o,d){Bl[sl++]=k0,Bl[sl++]=qc,qc=o,k0=d}function Wh(o,d,x){Vi[Ai++]=il,Vi[Ai++]=ol,Vi[Ai++]=fc,fc=o;var E=il;o=ol;var O=32-Qt(E)-1;E&=~(1<<O),x+=1;var F=32-Qt(d)+O;if(30<F){var ne=O-O%5;F=(E&(1<<ne)-1).toString(32),E>>=ne,O-=ne,il=1<<32-Qt(d)+O|x<<O|E,ol=F+o}else il=1<<F|x<<O|E,ol=o}function Mu(o){o.return!==null&&(hc(o,1),Wh(o,1,0))}function Bu(o){for(;o===qc;)qc=Bl[--sl],Bl[sl]=null,k0=Bl[--sl],Bl[sl]=null;for(;o===fc;)fc=Vi[--Ai],Vi[Ai]=null,ol=Vi[--Ai],Vi[Ai]=null,il=Vi[--Ai],Vi[Ai]=null}var ns=null,Ia=null,Tn=!1,Ul=null,Mo=!1,sf=Error(n(519));function gc(o){var d=Error(n(418,""));throw Vc(cn(d,o)),sf}function Gh(o){var d=o.stateNode,x=o.type,E=o.memoizedProps;switch(d[On]=o,d[hn]=E,x){case"dialog":pn("cancel",d),pn("close",d);break;case"iframe":case"object":case"embed":pn("load",d);break;case"video":case"audio":for(x=0;x<kf.length;x++)pn(kf[x],d);break;case"source":pn("error",d);break;case"img":case"image":case"link":pn("error",d),pn("load",d);break;case"details":pn("toggle",d);break;case"input":pn("invalid",d),Oa(d,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),Oo(d);break;case"select":pn("invalid",d);break;case"textarea":pn("invalid",d),ua(d,E.value,E.defaultValue,E.children),Oo(d)}x=E.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||d.textContent===""+x||E.suppressHydrationWarning===!0||ow(d.textContent,x)?(E.popover!=null&&(pn("beforetoggle",d),pn("toggle",d)),E.onScroll!=null&&pn("scroll",d),E.onScrollEnd!=null&&pn("scrollend",d),E.onClick!=null&&(d.onclick=T1),d=!0):d=!1,d||gc(o)}function ll(o){for(ns=o.return;ns;)switch(ns.tag){case 5:case 13:Mo=!1;return;case 27:case 3:Mo=!0;return;default:ns=ns.return}}function $s(o){if(o!==ns)return!1;if(!Tn)return ll(o),Tn=!0,!1;var d=o.tag,x;if((x=d!==3&&d!==27)&&((x=d===5)&&(x=o.type,x=!(x!=="form"&&x!=="button")||Qp(o.type,o.memoizedProps)),x=!x),x&&Ia&&gc(o),ll(o),d===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8)if(x=o.data,x==="/$"){if(d===0){Ia=pl(o.nextSibling);break e}d--}else x!=="$"&&x!=="$!"&&x!=="$?"||d++;o=o.nextSibling}Ia=null}}else d===27?(d=Ia,ou(o.type)?(o=n2,n2=null,Ia=o):Ia=d):Ia=ns?pl(o.stateNode.nextSibling):null;return!0}function Ci(){Ia=ns=null,Tn=!1}function $h(){var o=Ul;return o!==null&&($i===null?$i=o:$i.push.apply($i,o),Ul=null),o}function Vc(o){Ul===null?Ul=[o]:Ul.push(o)}var Bo=fe(null),gs=null,cl=null;function zl(o,d,x){W(Bo,d._currentValue),d._currentValue=x}function Uo(o){o._currentValue=Bo.current,P(Bo)}function L0(o,d,x){for(;o!==null;){var E=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),o===x)break;o=o.return}}function I0(o,d,x,E){var O=o.child;for(O!==null&&(O.return=o);O!==null;){var F=O.dependencies;if(F!==null){var ne=O.child;F=F.firstContext;e:for(;F!==null;){var Ee=F;F=O;for(var He=0;He<d.length;He++)if(Ee.context===d[He]){F.lanes|=x,Ee=F.alternate,Ee!==null&&(Ee.lanes|=x),L0(F.return,x,o),E||(ne=null);break e}F=Ee.next}}else if(O.tag===18){if(ne=O.return,ne===null)throw Error(n(341));ne.lanes|=x,F=ne.alternate,F!==null&&(F.lanes|=x),L0(ne,x,o),ne=null}else ne=O.child;if(ne!==null)ne.return=O;else for(ne=O;ne!==null;){if(ne===o){ne=null;break}if(O=ne.sibling,O!==null){O.return=ne.return,ne=O;break}ne=ne.return}O=ne}}function Wc(o,d,x,E){o=null;for(var O=d,F=!1;O!==null;){if(!F){if((O.flags&524288)!==0)F=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var ne=O.alternate;if(ne===null)throw Error(n(387));if(ne=ne.memoizedProps,ne!==null){var Ee=O.type;y(O.pendingProps.value,ne.value)||(o!==null?o.push(Ee):o=[Ee])}}else if(O===Be.current){if(ne=O.alternate,ne===null)throw Error(n(387));ne.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(o!==null?o.push(Mf):o=[Mf])}O=O.return}o!==null&&I0(d,o,x,E),d.flags|=262144}function D0(o){for(o=o.firstContext;o!==null;){if(!y(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function zo(o){gs=o,cl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function as(o){return P0(gs,o)}function Hl(o,d){return gs===null&&zo(o),P0(o,d)}function P0(o,d){var x=d._currentValue;if(d={context:d,memoizedValue:x,next:null},cl===null){if(o===null)throw Error(n(308));cl=d,o.dependencies={lanes:0,firstContext:d},o.flags|=524288}else cl=cl.next=d;return x}var lp=typeof AbortController!="undefined"?AbortController:function(){var o=[],d=this.signal={aborted:!1,addEventListener:function(x,E){o.push(E)}};this.abort=function(){d.aborted=!0,o.forEach(function(x){return x()})}},Xh=t.unstable_scheduleCallback,cp=t.unstable_NormalPriority,ss={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new lp,data:new Map,refCount:0}}function Uu(o){o.refCount--,o.refCount===0&&Xh(cp,function(){o.controller.abort()})}var zu=null,lf=0,mc=0,ul=null;function up(o,d){if(zu===null){var x=zu=[];lf=0,mc=Vp(),ul={status:"pending",value:void 0,then:function(E){x.push(E)}}}return lf++,d.then(Yh,Yh),d}function Yh(){if(--lf===0&&zu!==null){ul!==null&&(ul.status="fulfilled");var o=zu;zu=null,mc=0,ul=null;for(var d=0;d<o.length;d++)(0,o[d])()}}function Kh(o,d){var x=[],E={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return o.then(function(){E.status="fulfilled",E.value=d;for(var O=0;O<x.length;O++)(0,x[O])(d)},function(O){for(E.status="rejected",E.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),E}var S=de.S;de.S=function(o,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&up(o,d),S!==null&&S(o,d)};var R=fe(null);function z(){var o=R.current;return o!==null?o:ma.pooledCache}function K(o,d){d===null?W(R,R.current):W(R,d.pool)}function ce(){var o=z();return o===null?null:{parent:ss._currentValue,pool:o}}var pe=Error(n(460)),ve=Error(n(474)),be=Error(n(542)),Se={then:function(){}};function De(o){return o=o.status,o==="fulfilled"||o==="rejected"}function $e(){}function dt(o,d,x){switch(x=o[x],x===void 0?o.push(d):x!==d&&(d.then($e,$e),d=x),d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,kt(o),o;default:if(typeof d.status=="string")d.then($e,$e);else{if(o=ma,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=d,o.status="pending",o.then(function(E){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=E}},function(E){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=E}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,kt(o),o}throw lt=d,pe}}var lt=null;function tt(){if(lt===null)throw Error(n(459));var o=lt;return lt=null,o}function kt(o){if(o===pe||o===be)throw Error(n(483))}var bt=!1;function Xe(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ke(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function At(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function It(o,d,x){var E=o.updateQueue;if(E===null)return null;if(E=E.shared,(Wn&2)!==0){var O=E.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),E.pending=d,d=uc(o),O0(o,null,x),d}return Fl(o,E,d,x),uc(o)}function jt(o,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194048)!==0)){var E=d.lanes;E&=o.pendingLanes,x|=E,d.lanes=x,Hr(o,x)}}function ir(o,d){var x=o.updateQueue,E=o.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var O=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var ne={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?O=F=ne:F=F.next=ne,x=x.next}while(x!==null);F===null?O=F=d:F=F.next=d}else O=F=d;x={baseState:E.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:E.shared,callbacks:E.callbacks},o.updateQueue=x;return}o=x.lastBaseUpdate,o===null?x.firstBaseUpdate=d:o.next=d,x.lastBaseUpdate=d}var er=!1;function br(){if(er){var o=ul;if(o!==null)throw o}}function tr(o,d,x,E){er=!1;var O=o.updateQueue;bt=!1;var F=O.firstBaseUpdate,ne=O.lastBaseUpdate,Ee=O.shared.pending;if(Ee!==null){O.shared.pending=null;var He=Ee,ht=He.next;He.next=null,ne===null?F=ht:ne.next=ht,ne=He;var Tt=o.alternate;Tt!==null&&(Tt=Tt.updateQueue,Ee=Tt.lastBaseUpdate,Ee!==ne&&(Ee===null?Tt.firstBaseUpdate=ht:Ee.next=ht,Tt.lastBaseUpdate=He))}if(F!==null){var Ft=O.baseState;ne=0,Tt=ht=He=null,Ee=F;do{var vt=Ee.lane&-536870913,yt=vt!==Ee.lane;if(yt?(Cn&vt)===vt:(E&vt)===vt){vt!==0&&vt===mc&&(er=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var zr=o,Tr=Ee;vt=d;var na=x;switch(Tr.tag){case 1:if(zr=Tr.payload,typeof zr=="function"){Ft=zr.call(na,Ft,vt);break e}Ft=zr;break e;case 3:zr.flags=zr.flags&-65537|128;case 0:if(zr=Tr.payload,vt=typeof zr=="function"?zr.call(na,Ft,vt):zr,vt==null)break e;Ft=m({},Ft,vt);break e;case 2:bt=!0}}vt=Ee.callback,vt!==null&&(o.flags|=64,yt&&(o.flags|=8192),yt=O.callbacks,yt===null?O.callbacks=[vt]:yt.push(vt))}else yt={lane:vt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Tt===null?(ht=Tt=yt,He=Ft):Tt=Tt.next=yt,ne|=vt;if(Ee=Ee.next,Ee===null){if(Ee=O.shared.pending,Ee===null)break;yt=Ee,Ee=yt.next,yt.next=null,O.lastBaseUpdate=yt,O.shared.pending=null}}while(!0);Tt===null&&(He=Ft),O.baseState=He,O.firstBaseUpdate=ht,O.lastBaseUpdate=Tt,F===null&&(O.shared.lanes=0),nu|=ne,o.lanes=ne,o.memoizedState=Ft}}function Sn(o,d){if(typeof o!="function")throw Error(n(191,o));o.call(d)}function Dn(o,d){var x=o.callbacks;if(x!==null)for(o.callbacks=null,o=0;o<x.length;o++)Sn(x[o],d)}var an=fe(null),Qr=fe(0);function qn(o,d){o=Sc,W(Qr,o),W(an,d),Sc=o|d.baseLanes}function Pn(){W(Qr,Sc),W(an,an.current)}function Vr(){Sc=Qr.current,P(an),P(Qr)}var Vn=0,Er=null,Fr=null,_n=null,An=!1,ms=!1,is=!1,Ba=0,Ua=0,Ga=null,Wi=0;function Fn(){throw Error(n(321))}function $a(o,d){if(d===null)return!1;for(var x=0;x<d.length&&x<o.length;x++)if(!y(o[x],d[x]))return!1;return!0}function uo(o,d,x,E,O,F){return Vn=F,Er=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,de.H=o===null||o.memoizedState===null?zv:Hv,is=!1,F=x(E,O),is=!1,ms&&(F=pc(d,x,E,O)),ql(o),F}function ql(o){de.H=l1;var d=Fr!==null&&Fr.next!==null;if(Vn=0,_n=Fr=Er=null,An=!1,Ua=0,Ga=null,d)throw Error(n(300));o===null||Ls||(o=o.dependencies,o!==null&&D0(o)&&(Ls=!0))}function pc(o,d,x,E){Er=o;var O=0;do{if(ms&&(Ga=null),Ua=0,ms=!1,25<=O)throw Error(n(301));if(O+=1,_n=Fr=null,o.updateQueue!=null){var F=o.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}de.H=OE,F=d(x,E)}while(ms);return F}function Vl(){var o=de.H,d=o.useState()[0];return d=typeof d.then=="function"?Wl(d):d,o=o.useState()[0],(Fr!==null?Fr.memoizedState:null)!==o&&(Er.flags|=1024),d}function ga(){var o=Ba!==0;return Ba=0,o}function Hu(o,d,x){d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~x}function F0(o){if(An){for(o=o.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}An=!1}Vn=0,_n=Fr=Er=null,ms=!1,Ua=Ba=0,Ga=null}function Xs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Er.memoizedState=_n=o:_n=_n.next=o,_n}function Sa(){if(Fr===null){var o=Er.alternate;o=o!==null?o.memoizedState:null}else o=Fr.next;var d=_n===null?Er.memoizedState:_n.next;if(d!==null)_n=d,Fr=o;else{if(o===null)throw Er.alternate===null?Error(n(467)):Error(n(310));Fr=o,o={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},_n===null?Er.memoizedState=_n=o:_n=_n.next=o}return _n}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(o){var d=Ua;return Ua+=1,Ga===null&&(Ga=[]),o=dt(Ga,o,d),d=Er,(_n===null?d.memoizedState:_n.next)===null&&(d=d.alternate,de.H=d===null||d.memoizedState===null?zv:Hv),o}function ci(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Wl(o);if(o.$$typeof===M)return as(o)}throw Error(n(438,String(o)))}function Gl(o){var d=null,x=Er.updateQueue;if(x!==null&&(d=x.memoCache),d==null){var E=Er.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(d={data:E.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),x===null&&(x=xc(),Er.updateQueue=x),x.memoCache=d,x=d.data[d.index],x===void 0)for(x=d.data[d.index]=Array(o),E=0;E<o;E++)x[E]=re;return d.index++,x}function ui(o,d){return typeof d=="function"?d(o):d}function qu(o){var d=Sa();return Gc(d,Fr,o)}function Gc(o,d,x){var E=o.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=x;var O=o.baseQueue,F=E.pending;if(F!==null){if(O!==null){var ne=O.next;O.next=F.next,F.next=ne}d.baseQueue=O=F,E.pending=null}if(F=o.baseState,O===null)o.memoizedState=F;else{d=O.next;var Ee=ne=null,He=null,ht=d,Tt=!1;do{var Ft=ht.lane&-536870913;if(Ft!==ht.lane?(Cn&Ft)===Ft:(Vn&Ft)===Ft){var vt=ht.revertLane;if(vt===0)He!==null&&(He=He.next={lane:0,revertLane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),Ft===mc&&(Tt=!0);else if((Vn&vt)===vt){ht=ht.next,vt===mc&&(Tt=!0);continue}else Ft={lane:0,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},He===null?(Ee=He=Ft,ne=F):He=He.next=Ft,Er.lanes|=vt,nu|=vt;Ft=ht.action,is&&x(F,Ft),F=ht.hasEagerState?ht.eagerState:x(F,Ft)}else vt={lane:Ft,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},He===null?(Ee=He=vt,ne=F):He=He.next=vt,Er.lanes|=Ft,nu|=Ft;ht=ht.next}while(ht!==null&&ht!==d);if(He===null?ne=F:He.next=Ee,!y(F,o.memoizedState)&&(Ls=!0,Tt&&(x=ul,x!==null)))throw x;o.memoizedState=F,o.baseState=ne,o.baseQueue=He,E.lastRenderedState=F}return O===null&&(E.lanes=0),[o.memoizedState,E.dispatch]}function M0(o){var d=Sa(),x=d.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=o;var E=x.dispatch,O=x.pending,F=d.memoizedState;if(O!==null){x.pending=null;var ne=O=O.next;do F=o(F,ne.action),ne=ne.next;while(ne!==O);y(F,d.memoizedState)||(Ls=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),x.lastRenderedState=F}return[F,E]}function Vu(o,d,x){var E=Er,O=Sa(),F=Tn;if(F){if(x===void 0)throw Error(n(407));x=x()}else x=d();var ne=!y((Fr||O).memoizedState,x);ne&&(O.memoizedState=x,Ls=!0),O=O.queue;var Ee=$c.bind(null,E,O,o);if(Kc(2048,8,Ee,[o]),O.getSnapshot!==d||ne||_n!==null&&_n.memoizedState.tag&1){if(E.flags|=2048,fl(9,Xu(),Wu.bind(null,E,O,x,d),null),ma===null)throw Error(n(349));F||(Vn&124)!==0||B0(E,d,x)}return x}function B0(o,d,x){o.flags|=16384,o={getSnapshot:d,value:x},d=Er.updateQueue,d===null?(d=xc(),Er.updateQueue=d,d.stores=[o]):(x=d.stores,x===null?d.stores=[o]:x.push(o))}function Wu(o,d,x,E){d.value=x,d.getSnapshot=E,Zh(d)&&Jh(o)}function $c(o,d,x){return x(function(){Zh(d)&&Jh(o)})}function Zh(o){var d=o.getSnapshot;o=o.value;try{var x=d();return!y(o,x)}catch(E){return!0}}function Jh(o){var d=nl(o,2);d!==null&&xo(d,o,2)}function Gu(o){var d=Xs();if(typeof o=="function"){var x=o;if(o=x(),is){hr(!0);try{x()}finally{hr(!1)}}}return d.memoizedState=d.baseState=o,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:o},d}function dl(o,d,x,E){return o.baseState=x,Gc(o,Fr,typeof E=="function"?E:ui)}function dp(o,d,x,E,O){if(o1(o))throw Error(n(485));if(o=d.action,o!==null){var F={payload:O,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){F.listeners.push(ne)}};de.T!==null?x(!0):F.isTransition=!1,E(F),x=d.pending,x===null?(F.next=d.pending=F,Qh(d,F)):(F.next=x.next,d.pending=x.next=F)}}function Qh(o,d){var x=d.action,E=d.payload,O=o.state;if(d.isTransition){var F=de.T,ne={};de.T=ne;try{var Ee=x(O,E),He=de.S;He!==null&&He(ne,Ee),e1(o,d,Ee)}catch(ht){Xc(o,d,ht)}finally{de.T=F}}else try{F=x(O,E),e1(o,d,F)}catch(ht){Xc(o,d,ht)}}function e1(o,d,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(E){cf(o,d,E)},function(E){return Xc(o,d,E)}):cf(o,d,x)}function cf(o,d,x){d.status="fulfilled",d.value=x,uf(d),o.state=x,d=o.pending,d!==null&&(x=d.next,x===d?o.pending=null:(x=x.next,d.next=x,Qh(o,x)))}function Xc(o,d,x){var E=o.pending;if(o.pending=null,E!==null){E=E.next;do d.status="rejected",d.reason=x,uf(d),d=d.next;while(d!==E)}o.action=null}function uf(o){o=o.listeners;for(var d=0;d<o.length;d++)(0,o[d])()}function df(o,d){return d}function $u(o,d){if(Tn){var x=ma.formState;if(x!==null){e:{var E=Er;if(Tn){if(Ia){t:{for(var O=Ia,F=Mo;O.nodeType!==8;){if(!F){O=null;break t}if(O=pl(O.nextSibling),O===null){O=null;break t}}F=O.data,O=F==="F!"||F==="F"?O:null}if(O){Ia=pl(O.nextSibling),E=O.data==="F!";break e}}gc(E)}E=!1}E&&(d=x[0])}}return x=Xs(),x.memoizedState=x.baseState=d,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:d},x.queue=E,x=Mv.bind(null,Er,E),E.dispatch=x,E=Gu(!1),F=fp.bind(null,Er,!1,E.queue),E=Xs(),O={state:d,dispatch:null,action:o,pending:null},E.queue=O,x=dp.bind(null,Er,O,F,x),O.dispatch=x,E.memoizedState=o,[d,x,!1]}function U0(o){var d=Sa();return Yc(d,Fr,o)}function Yc(o,d,x){if(d=Gc(o,d,df)[0],o=qu(ui)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var E=Wl(d)}catch(ne){throw ne===pe?be:ne}else E=d;d=Sa();var O=d.queue,F=O.dispatch;return x!==d.memoizedState&&(Er.flags|=2048,fl(9,Xu(),t1.bind(null,O,x),null)),[E,F,o]}function t1(o,d){o.action=d}function r1(o){var d=Sa(),x=Fr;if(x!==null)return Yc(d,x,o);Sa(),d=d.memoizedState,x=Sa();var E=x.queue.dispatch;return x.memoizedState=o,[d,E,!1]}function fl(o,d,x,E){return o={tag:o,create:x,deps:E,inst:d,next:null},d=Er.updateQueue,d===null&&(d=xc(),Er.updateQueue=d),x=d.lastEffect,x===null?d.lastEffect=o.next=o:(E=x.next,x.next=o,o.next=E,d.lastEffect=o),o}function Xu(){return{destroy:void 0,resource:void 0}}function z0(){return Sa().memoizedState}function fo(o,d,x,E){var O=Xs();E=E===void 0?null:E,Er.flags|=o,O.memoizedState=fl(1|d,Xu(),x,E)}function Kc(o,d,x,E){var O=Sa();E=E===void 0?null:E;var F=O.memoizedState.inst;Fr!==null&&E!==null&&$a(E,Fr.memoizedState.deps)?O.memoizedState=fl(d,F,x,E):(Er.flags|=o,O.memoizedState=fl(1|d,F,x,E))}function ff(o,d){fo(8390656,8,o,d)}function n1(o,d){Kc(2048,8,o,d)}function hf(o,d){return Kc(4,2,o,d)}function vc(o,d){return Kc(4,4,o,d)}function a1(o,d){if(typeof d=="function"){o=o();var x=d(o);return function(){typeof x=="function"?x():d(null)}}if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function gf(o,d,x){x=x!=null?x.concat([o]):null,Kc(4,4,a1.bind(null,d,o),x)}function mf(){}function pf(o,d){var x=Sa();d=d===void 0?null:d;var E=x.memoizedState;return d!==null&&$a(d,E[1])?E[0]:(x.memoizedState=[o,d],o)}function s1(o,d){var x=Sa();d=d===void 0?null:d;var E=x.memoizedState;if(d!==null&&$a(d,E[1]))return E[0];if(E=o(),is){hr(!0);try{o()}finally{hr(!1)}}return x.memoizedState=[E,d],E}function yc(o,d,x){return x===void 0||(Vn&1073741824)!==0?o.memoizedState=d:(o.memoizedState=x,o=Iy(),Er.lanes|=o,nu|=o,x)}function H0(o,d,x,E){return y(x,d)?x:an.current!==null?(o=yc(o,x,E),y(o,d)||(Ls=!0),o):(Vn&42)===0?(Ls=!0,o.memoizedState=x):(o=Iy(),Er.lanes|=o,nu|=o,d)}function Yu(o,d,x,E,O){var F=we.p;we.p=F!==0&&8>F?F:8;var ne=de.T,Ee={};de.T=Ee,fp(o,!1,d,x);try{var He=O(),ht=de.S;if(ht!==null&&ht(Ee,He),He!==null&&typeof He=="object"&&typeof He.then=="function"){var Tt=Kh(He,E);wf(o,d,Tt,po(o))}else wf(o,d,E,po(o))}catch(Ft){wf(o,d,{then:function(){},status:"rejected",reason:Ft},po())}finally{we.p=F,de.T=ne}}function hl(){}function Ho(o,d,x,E){if(o.tag!==5)throw Error(n(476));var O=gl(o).queue;Yu(o,O,d,Pe,x===null?hl:function(){return Ku(o),x(E)})}function gl(o){var d=o.memoizedState;if(d!==null)return d;d={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:Pe},next:null};var x={};return d.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:x},next:null},o.memoizedState=d,o=o.alternate,o!==null&&(o.memoizedState=d),d}function Ku(o){var d=gl(o).next.queue;wf(o,d,{},po())}function Zu(){return as(Mf)}function xf(){return Sa().memoizedState}function i1(){return Sa().memoizedState}function vf(o){for(var d=o.return;d!==null;){switch(d.tag){case 24:case 3:var x=po();o=At(x);var E=It(d,o,x);E!==null&&(xo(E,d,x),jt(E,d,x)),d={cache:of()},o.payload=d;return}d=d.return}}function yf(o,d,x){var E=po();x={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},o1(o)?Bv(d,x):(x=Ml(o,d,x,E),x!==null&&(xo(x,o,E),Uv(x,d,E)))}function Mv(o,d,x){var E=po();wf(o,d,x,E)}function wf(o,d,x,E){var O={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(o1(o))Bv(d,O);else{var F=o.alternate;if(o.lanes===0&&(F===null||F.lanes===0)&&(F=d.lastRenderedReducer,F!==null))try{var ne=d.lastRenderedState,Ee=F(ne,x);if(O.hasEagerState=!0,O.eagerState=Ee,y(Ee,ne))return Fl(o,d,O,0),ma===null&&Hi(),!1}catch(He){}finally{}if(x=Ml(o,d,O,E),x!==null)return xo(x,o,E),Uv(x,d,E),!0}return!1}function fp(o,d,x,E){if(E={lane:2,revertLane:Vp(),action:E,hasEagerState:!1,eagerState:null,next:null},o1(o)){if(d)throw Error(n(479))}else d=Ml(o,x,E,2),d!==null&&xo(d,o,2)}function o1(o){var d=o.alternate;return o===Er||d!==null&&d===Er}function Bv(o,d){ms=An=!0;var x=o.pending;x===null?d.next=d:(d.next=x.next,x.next=d),o.pending=d}function Uv(o,d,x){if((x&4194048)!==0){var E=d.lanes;E&=o.pendingLanes,x|=E,d.lanes=x,Hr(o,x)}}var l1={readContext:as,use:ci,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn,useHostTransitionStatus:Fn,useFormState:Fn,useActionState:Fn,useOptimistic:Fn,useMemoCache:Fn,useCacheRefresh:Fn},zv={readContext:as,use:ci,useCallback:function(o,d){return Xs().memoizedState=[o,d===void 0?null:d],o},useContext:as,useEffect:ff,useImperativeHandle:function(o,d,x){x=x!=null?x.concat([o]):null,fo(4194308,4,a1.bind(null,d,o),x)},useLayoutEffect:function(o,d){return fo(4194308,4,o,d)},useInsertionEffect:function(o,d){fo(4,2,o,d)},useMemo:function(o,d){var x=Xs();d=d===void 0?null:d;var E=o();if(is){hr(!0);try{o()}finally{hr(!1)}}return x.memoizedState=[E,d],E},useReducer:function(o,d,x){var E=Xs();if(x!==void 0){var O=x(d);if(is){hr(!0);try{x(d)}finally{hr(!1)}}}else O=d;return E.memoizedState=E.baseState=O,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:O},E.queue=o,o=o.dispatch=yf.bind(null,Er,o),[E.memoizedState,o]},useRef:function(o){var d=Xs();return o={current:o},d.memoizedState=o},useState:function(o){o=Gu(o);var d=o.queue,x=Mv.bind(null,Er,d);return d.dispatch=x,[o.memoizedState,x]},useDebugValue:mf,useDeferredValue:function(o,d){var x=Xs();return yc(x,o,d)},useTransition:function(){var o=Gu(!1);return o=Yu.bind(null,Er,o.queue,!0,!1),Xs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,d,x){var E=Er,O=Xs();if(Tn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=d(),ma===null)throw Error(n(349));(Cn&124)!==0||B0(E,d,x)}O.memoizedState=x;var F={value:x,getSnapshot:d};return O.queue=F,ff($c.bind(null,E,F,o),[o]),E.flags|=2048,fl(9,Xu(),Wu.bind(null,E,F,x,d),null),x},useId:function(){var o=Xs(),d=ma.identifierPrefix;if(Tn){var x=ol,E=il;x=(E&~(1<<32-Qt(E)-1)).toString(32)+x,d=""+d+"R"+x,x=Ba++,0<x&&(d+="H"+x.toString(32)),d+=""}else x=Wi++,d=""+d+"r"+x.toString(32)+"";return o.memoizedState=d},useHostTransitionStatus:Zu,useFormState:$u,useActionState:$u,useOptimistic:function(o){var d=Xs();d.memoizedState=d.baseState=o;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=x,d=fp.bind(null,Er,!0,x),x.dispatch=d,[o,d]},useMemoCache:Gl,useCacheRefresh:function(){return Xs().memoizedState=vf.bind(null,Er)}},Hv={readContext:as,use:ci,useCallback:pf,useContext:as,useEffect:n1,useImperativeHandle:gf,useInsertionEffect:hf,useLayoutEffect:vc,useMemo:s1,useReducer:qu,useRef:z0,useState:function(){return qu(ui)},useDebugValue:mf,useDeferredValue:function(o,d){var x=Sa();return H0(x,Fr.memoizedState,o,d)},useTransition:function(){var o=qu(ui)[0],d=Sa().memoizedState;return[typeof o=="boolean"?o:Wl(o),d]},useSyncExternalStore:Vu,useId:xf,useHostTransitionStatus:Zu,useFormState:U0,useActionState:U0,useOptimistic:function(o,d){var x=Sa();return dl(x,Fr,o,d)},useMemoCache:Gl,useCacheRefresh:i1},OE={readContext:as,use:ci,useCallback:pf,useContext:as,useEffect:n1,useImperativeHandle:gf,useInsertionEffect:hf,useLayoutEffect:vc,useMemo:s1,useReducer:M0,useRef:z0,useState:function(){return M0(ui)},useDebugValue:mf,useDeferredValue:function(o,d){var x=Sa();return Fr===null?yc(x,o,d):H0(x,Fr.memoizedState,o,d)},useTransition:function(){var o=M0(ui)[0],d=Sa().memoizedState;return[typeof o=="boolean"?o:Wl(o),d]},useSyncExternalStore:Vu,useId:xf,useHostTransitionStatus:Zu,useFormState:r1,useActionState:r1,useOptimistic:function(o,d){var x=Sa();return Fr!==null?dl(x,Fr,o,d):(x.baseState=o,[o,x.queue.dispatch])},useMemoCache:Gl,useCacheRefresh:i1},q0=null,bf=0;function c1(o){var d=bf;return bf+=1,q0===null&&(q0=[]),dt(q0,o,d)}function _f(o,d){d=d.props.ref,o.ref=d!==void 0?d:null}function u1(o,d){throw d.$$typeof===v?Error(n(525)):(o=Object.prototype.toString.call(d),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o)))}function qv(o){var d=o._init;return d(o._payload)}function Vv(o){function d(at,Ye){if(o){var ct=at.deletions;ct===null?(at.deletions=[Ye],at.flags|=16):ct.push(Ye)}}function x(at,Ye){if(!o)return null;for(;Ye!==null;)d(at,Ye),Ye=Ye.sibling;return null}function E(at){for(var Ye=new Map;at!==null;)at.key!==null?Ye.set(at.key,at):Ye.set(at.index,at),at=at.sibling;return Ye}function O(at,Ye){return at=Fo(at,Ye),at.index=0,at.sibling=null,at}function F(at,Ye,ct){return at.index=ct,o?(ct=at.alternate,ct!==null?(ct=ct.index,ct<Ye?(at.flags|=67108866,Ye):ct):(at.flags|=67108866,Ye)):(at.flags|=1048576,Ye)}function ne(at){return o&&at.alternate===null&&(at.flags|=67108866),at}function Ee(at,Ye,ct,Rt){return Ye===null||Ye.tag!==6?(Ye=R0(ct,at.mode,Rt),Ye.return=at,Ye):(Ye=O(Ye,ct),Ye.return=at,Ye)}function He(at,Ye,ct,Rt){var mr=ct.type;return mr===C?Tt(at,Ye,ct.props.children,Rt,ct.key):Ye!==null&&(Ye.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===H&&qv(mr)===Ye.type)?(Ye=O(Ye,ct.props),_f(Ye,ct),Ye.return=at,Ye):(Ye=dc(ct.type,ct.key,ct.props,null,at.mode,Rt),_f(Ye,ct),Ye.return=at,Ye)}function ht(at,Ye,ct,Rt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==ct.containerInfo||Ye.stateNode.implementation!==ct.implementation?(Ye=Fu(ct,at.mode,Rt),Ye.return=at,Ye):(Ye=O(Ye,ct.children||[]),Ye.return=at,Ye)}function Tt(at,Ye,ct,Rt,mr){return Ye===null||Ye.tag!==7?(Ye=al(ct,at.mode,Rt,mr),Ye.return=at,Ye):(Ye=O(Ye,ct),Ye.return=at,Ye)}function Ft(at,Ye,ct){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ye=R0(""+Ye,at.mode,ct),Ye.return=at,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case b:return ct=dc(Ye.type,Ye.key,Ye.props,null,at.mode,ct),_f(ct,Ye),ct.return=at,ct;case _:return Ye=Fu(Ye,at.mode,ct),Ye.return=at,Ye;case H:var Rt=Ye._init;return Ye=Rt(Ye._payload),Ft(at,Ye,ct)}if(me(Ye)||G(Ye))return Ye=al(Ye,at.mode,ct,null),Ye.return=at,Ye;if(typeof Ye.then=="function")return Ft(at,c1(Ye),ct);if(Ye.$$typeof===M)return Ft(at,Hl(at,Ye),ct);u1(at,Ye)}return null}function vt(at,Ye,ct,Rt){var mr=Ye!==null?Ye.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return mr!==null?null:Ee(at,Ye,""+ct,Rt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case b:return ct.key===mr?He(at,Ye,ct,Rt):null;case _:return ct.key===mr?ht(at,Ye,ct,Rt):null;case H:return mr=ct._init,ct=mr(ct._payload),vt(at,Ye,ct,Rt)}if(me(ct)||G(ct))return mr!==null?null:Tt(at,Ye,ct,Rt,null);if(typeof ct.then=="function")return vt(at,Ye,c1(ct),Rt);if(ct.$$typeof===M)return vt(at,Ye,Hl(at,ct),Rt);u1(at,ct)}return null}function yt(at,Ye,ct,Rt,mr){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return at=at.get(ct)||null,Ee(Ye,at,""+Rt,mr);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case b:return at=at.get(Rt.key===null?ct:Rt.key)||null,He(Ye,at,Rt,mr);case _:return at=at.get(Rt.key===null?ct:Rt.key)||null,ht(Ye,at,Rt,mr);case H:var fn=Rt._init;return Rt=fn(Rt._payload),yt(at,Ye,ct,Rt,mr)}if(me(Rt)||G(Rt))return at=at.get(ct)||null,Tt(Ye,at,Rt,mr,null);if(typeof Rt.then=="function")return yt(at,Ye,ct,c1(Rt),mr);if(Rt.$$typeof===M)return yt(at,Ye,ct,Hl(Ye,Rt),mr);u1(Ye,Rt)}return null}function zr(at,Ye,ct,Rt){for(var mr=null,fn=null,_r=Ye,Rr=Ye=0,Ds=null;_r!==null&&Rr<ct.length;Rr++){_r.index>Rr?(Ds=_r,_r=null):Ds=_r.sibling;var Mn=vt(at,_r,ct[Rr],Rt);if(Mn===null){_r===null&&(_r=Ds);break}o&&_r&&Mn.alternate===null&&d(at,_r),Ye=F(Mn,Ye,Rr),fn===null?mr=Mn:fn.sibling=Mn,fn=Mn,_r=Ds}if(Rr===ct.length)return x(at,_r),Tn&&hc(at,Rr),mr;if(_r===null){for(;Rr<ct.length;Rr++)_r=Ft(at,ct[Rr],Rt),_r!==null&&(Ye=F(_r,Ye,Rr),fn===null?mr=_r:fn.sibling=_r,fn=_r);return Tn&&hc(at,Rr),mr}for(_r=E(_r);Rr<ct.length;Rr++)Ds=yt(_r,at,Rr,ct[Rr],Rt),Ds!==null&&(o&&Ds.alternate!==null&&_r.delete(Ds.key===null?Rr:Ds.key),Ye=F(Ds,Ye,Rr),fn===null?mr=Ds:fn.sibling=Ds,fn=Ds);return o&&_r.forEach(function(fu){return d(at,fu)}),Tn&&hc(at,Rr),mr}function Tr(at,Ye,ct,Rt){if(ct==null)throw Error(n(151));for(var mr=null,fn=null,_r=Ye,Rr=Ye=0,Ds=null,Mn=ct.next();_r!==null&&!Mn.done;Rr++,Mn=ct.next()){_r.index>Rr?(Ds=_r,_r=null):Ds=_r.sibling;var fu=vt(at,_r,Mn.value,Rt);if(fu===null){_r===null&&(_r=Ds);break}o&&_r&&fu.alternate===null&&d(at,_r),Ye=F(fu,Ye,Rr),fn===null?mr=fu:fn.sibling=fu,fn=fu,_r=Ds}if(Mn.done)return x(at,_r),Tn&&hc(at,Rr),mr;if(_r===null){for(;!Mn.done;Rr++,Mn=ct.next())Mn=Ft(at,Mn.value,Rt),Mn!==null&&(Ye=F(Mn,Ye,Rr),fn===null?mr=Mn:fn.sibling=Mn,fn=Mn);return Tn&&hc(at,Rr),mr}for(_r=E(_r);!Mn.done;Rr++,Mn=ct.next())Mn=yt(_r,at,Rr,Mn.value,Rt),Mn!==null&&(o&&Mn.alternate!==null&&_r.delete(Mn.key===null?Rr:Mn.key),Ye=F(Mn,Ye,Rr),fn===null?mr=Mn:fn.sibling=Mn,fn=Mn);return o&&_r.forEach(function(RN){return d(at,RN)}),Tn&&hc(at,Rr),mr}function na(at,Ye,ct,Rt){if(typeof ct=="object"&&ct!==null&&ct.type===C&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case b:e:{for(var mr=ct.key;Ye!==null;){if(Ye.key===mr){if(mr=ct.type,mr===C){if(Ye.tag===7){x(at,Ye.sibling),Rt=O(Ye,ct.props.children),Rt.return=at,at=Rt;break e}}else if(Ye.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===H&&qv(mr)===Ye.type){x(at,Ye.sibling),Rt=O(Ye,ct.props),_f(Rt,ct),Rt.return=at,at=Rt;break e}x(at,Ye);break}else d(at,Ye);Ye=Ye.sibling}ct.type===C?(Rt=al(ct.props.children,at.mode,Rt,ct.key),Rt.return=at,at=Rt):(Rt=dc(ct.type,ct.key,ct.props,null,at.mode,Rt),_f(Rt,ct),Rt.return=at,at=Rt)}return ne(at);case _:e:{for(mr=ct.key;Ye!==null;){if(Ye.key===mr)if(Ye.tag===4&&Ye.stateNode.containerInfo===ct.containerInfo&&Ye.stateNode.implementation===ct.implementation){x(at,Ye.sibling),Rt=O(Ye,ct.children||[]),Rt.return=at,at=Rt;break e}else{x(at,Ye);break}else d(at,Ye);Ye=Ye.sibling}Rt=Fu(ct,at.mode,Rt),Rt.return=at,at=Rt}return ne(at);case H:return mr=ct._init,ct=mr(ct._payload),na(at,Ye,ct,Rt)}if(me(ct))return zr(at,Ye,ct,Rt);if(G(ct)){if(mr=G(ct),typeof mr!="function")throw Error(n(150));return ct=mr.call(ct),Tr(at,Ye,ct,Rt)}if(typeof ct.then=="function")return na(at,Ye,c1(ct),Rt);if(ct.$$typeof===M)return na(at,Ye,Hl(at,ct),Rt);u1(at,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,Ye!==null&&Ye.tag===6?(x(at,Ye.sibling),Rt=O(Ye,ct),Rt.return=at,at=Rt):(x(at,Ye),Rt=R0(ct,at.mode,Rt),Rt.return=at,at=Rt),ne(at)):x(at,Ye)}return function(at,Ye,ct,Rt){try{bf=0;var mr=na(at,Ye,ct,Rt);return q0=null,mr}catch(_r){if(_r===pe||_r===be)throw _r;var fn=ks(29,_r,null,at.mode);return fn.lanes=Rt,fn.return=at,fn}finally{}}}var V0=Vv(!0),Wv=Vv(!1),qo=fe(null),$l=null;function Zc(o){var d=o.alternate;W(_s,_s.current&1),W(qo,o),$l===null&&(d===null||an.current!==null||d.memoizedState!==null)&&($l=o)}function Gv(o){if(o.tag===22){if(W(_s,_s.current),W(qo,o),$l===null){var d=o.alternate;d!==null&&d.memoizedState!==null&&($l=o)}}else Jc()}function Jc(){W(_s,_s.current),W(qo,qo.current)}function wc(o){P(qo),$l===o&&($l=null),P(_s)}var _s=fe(0);function d1(o){for(var d=o;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||r2(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function hp(o,d,x,E){d=o.memoizedState,x=x(E,d),x=x==null?d:m({},d,x),o.memoizedState=x,o.lanes===0&&(o.updateQueue.baseState=x)}var gp={enqueueSetState:function(o,d,x){o=o._reactInternals;var E=po(),O=At(E);O.payload=d,x!=null&&(O.callback=x),d=It(o,O,E),d!==null&&(xo(d,o,E),jt(d,o,E))},enqueueReplaceState:function(o,d,x){o=o._reactInternals;var E=po(),O=At(E);O.tag=1,O.payload=d,x!=null&&(O.callback=x),d=It(o,O,E),d!==null&&(xo(d,o,E),jt(d,o,E))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var x=po(),E=At(x);E.tag=2,d!=null&&(E.callback=d),d=It(o,E,x),d!==null&&(xo(d,o,x),jt(d,o,x))}};function $v(o,d,x,E,O,F,ne){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(E,F,ne):d.prototype&&d.prototype.isPureReactComponent?!w(x,E)||!w(O,F):!0}function Xv(o,d,x,E){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,E),d.state!==o&&gp.enqueueReplaceState(d,d.state,null)}function Ju(o,d){var x=d;if("ref"in d){x={};for(var E in d)E!=="ref"&&(x[E]=d[E])}if(o=o.defaultProps){x===d&&(x=m({},x));for(var O in o)x[O]===void 0&&(x[O]=o[O])}return x}var f1=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Yv(o){f1(o)}function Kv(o){console.error(o)}function Zv(o){f1(o)}function h1(o,d){try{var x=o.onUncaughtError;x(d.value,{componentStack:d.stack})}catch(E){setTimeout(function(){throw E})}}function Jv(o,d,x){try{var E=o.onCaughtError;E(x.value,{componentStack:x.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function mp(o,d,x){return x=At(x),x.tag=3,x.payload={element:null},x.callback=function(){h1(o,d)},x}function Qv(o){return o=At(o),o.tag=3,o}function ey(o,d,x,E){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var F=E.value;o.payload=function(){return O(F)},o.callback=function(){Jv(d,x,E)}}var ne=x.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(o.callback=function(){Jv(d,x,E),typeof O!="function"&&(au===null?au=new Set([this]):au.add(this));var Ee=E.stack;this.componentDidCatch(E.value,{componentStack:Ee!==null?Ee:""})})}function RE(o,d,x,E,O){if(x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(d=x.alternate,d!==null&&Wc(d,x,O,!0),x=qo.current,x!==null){switch(x.tag){case 13:return $l===null?Bp():x.alternate===null&&Xa===0&&(Xa=3),x.flags&=-257,x.flags|=65536,x.lanes=O,E===Se?x.flags|=16384:(d=x.updateQueue,d===null?x.updateQueue=new Set([E]):d.add(E),zp(o,E,O)),!1;case 22:return x.flags|=65536,E===Se?x.flags|=16384:(d=x.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([E])},x.updateQueue=d):(x=d.retryQueue,x===null?d.retryQueue=new Set([E]):x.add(E)),zp(o,E,O)),!1}throw Error(n(435,x.tag))}return zp(o,E,O),Bp(),!1}if(Tn)return d=qo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,E!==sf&&(o=Error(n(422),{cause:E}),Vc(cn(o,x)))):(E!==sf&&(d=Error(n(423),{cause:E}),Vc(cn(d,x))),o=o.current.alternate,o.flags|=65536,O&=-O,o.lanes|=O,E=cn(E,x),O=mp(o.stateNode,E,O),ir(o,O),Xa!==4&&(Xa=2)),!1;var F=Error(n(520),{cause:E});if(F=cn(F,x),jf===null?jf=[F]:jf.push(F),Xa!==4&&(Xa=2),d===null)return!0;E=cn(E,x),x=d;do{switch(x.tag){case 3:return x.flags|=65536,o=O&-O,x.lanes|=o,o=mp(x.stateNode,E,o),ir(x,o),!1;case 1:if(d=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(au===null||!au.has(F))))return x.flags|=65536,O&=-O,x.lanes|=O,O=Qv(O),ey(O,o,x,E),ir(x,O),!1}x=x.return}while(x!==null);return!1}var ty=Error(n(461)),Ls=!1;function Ys(o,d,x,E){d.child=o===null?Wv(d,null,x,E):V0(d,o.child,x,E)}function ry(o,d,x,E,O){x=x.render;var F=d.ref;if("ref"in E){var ne={};for(var Ee in E)Ee!=="ref"&&(ne[Ee]=E[Ee])}else ne=E;return zo(d),E=uo(o,d,x,ne,F,O),Ee=ga(),o!==null&&!Ls?(Hu(o,d,O),bc(o,d,O)):(Tn&&Ee&&Mu(d),d.flags|=1,Ys(o,d,E,O),d.child)}function ny(o,d,x,E,O){if(o===null){var F=x.type;return typeof F=="function"&&!Hc(F)&&F.defaultProps===void 0&&x.compare===null?(d.tag=15,d.type=F,ay(o,d,F,E,O)):(o=dc(x.type,null,E,d,d.mode,O),o.ref=d.ref,o.return=d,d.child=o)}if(F=o.child,!Ep(o,O)){var ne=F.memoizedProps;if(x=x.compare,x=x!==null?x:w,x(ne,E)&&o.ref===d.ref)return bc(o,d,O)}return d.flags|=1,o=Fo(F,E),o.ref=d.ref,o.return=d,d.child=o}function ay(o,d,x,E,O){if(o!==null){var F=o.memoizedProps;if(w(F,E)&&o.ref===d.ref)if(Ls=!1,d.pendingProps=E=F,Ep(o,O))(o.flags&131072)!==0&&(Ls=!0);else return d.lanes=o.lanes,bc(o,d,O)}return pp(o,d,x,E,O)}function sy(o,d,x){var E=d.pendingProps,O=E.children,F=o!==null?o.memoizedState:null;if(E.mode==="hidden"){if((d.flags&128)!==0){if(E=F!==null?F.baseLanes|x:x,o!==null){for(O=d.child=o.child,F=0;O!==null;)F=F|O.lanes|O.childLanes,O=O.sibling;d.childLanes=F&~E}else d.childLanes=0,d.child=null;return iy(o,d,E,x)}if((x&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},o!==null&&K(d,F!==null?F.cachePool:null),F!==null?qn(d,F):Pn(),Gv(d);else return d.lanes=d.childLanes=536870912,iy(o,d,F!==null?F.baseLanes|x:x,x)}else F!==null?(K(d,F.cachePool),qn(d,F),Jc(),d.memoizedState=null):(o!==null&&K(d,null),Pn(),Jc());return Ys(o,d,O,x),d.child}function iy(o,d,x,E){var O=z();return O=O===null?null:{parent:ss._currentValue,pool:O},d.memoizedState={baseLanes:x,cachePool:O},o!==null&&K(d,null),Pn(),Gv(d),o!==null&&Wc(o,d,E,!0),null}function g1(o,d){var x=d.ref;if(x===null)o!==null&&o.ref!==null&&(d.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(o===null||o.ref!==x)&&(d.flags|=4194816)}}function pp(o,d,x,E,O){return zo(d),x=uo(o,d,x,E,void 0,O),E=ga(),o!==null&&!Ls?(Hu(o,d,O),bc(o,d,O)):(Tn&&E&&Mu(d),d.flags|=1,Ys(o,d,x,O),d.child)}function oy(o,d,x,E,O,F){return zo(d),d.updateQueue=null,x=pc(d,E,x,O),ql(o),E=ga(),o!==null&&!Ls?(Hu(o,d,F),bc(o,d,F)):(Tn&&E&&Mu(d),d.flags|=1,Ys(o,d,x,F),d.child)}function ly(o,d,x,E,O){if(zo(d),d.stateNode===null){var F=hs,ne=x.contextType;typeof ne=="object"&&ne!==null&&(F=as(ne)),F=new x(E,F),d.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=gp,d.stateNode=F,F._reactInternals=d,F=d.stateNode,F.props=E,F.state=d.memoizedState,F.refs={},Xe(d),ne=x.contextType,F.context=typeof ne=="object"&&ne!==null?as(ne):hs,F.state=d.memoizedState,ne=x.getDerivedStateFromProps,typeof ne=="function"&&(hp(d,x,ne,E),F.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ne=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ne!==F.state&&gp.enqueueReplaceState(F,F.state,null),tr(d,E,F,O),br(),F.state=d.memoizedState),typeof F.componentDidMount=="function"&&(d.flags|=4194308),E=!0}else if(o===null){F=d.stateNode;var Ee=d.memoizedProps,He=Ju(x,Ee);F.props=He;var ht=F.context,Tt=x.contextType;ne=hs,typeof Tt=="object"&&Tt!==null&&(ne=as(Tt));var Ft=x.getDerivedStateFromProps;Tt=typeof Ft=="function"||typeof F.getSnapshotBeforeUpdate=="function",Ee=d.pendingProps!==Ee,Tt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Ee||ht!==ne)&&Xv(d,F,E,ne),bt=!1;var vt=d.memoizedState;F.state=vt,tr(d,E,F,O),br(),ht=d.memoizedState,Ee||vt!==ht||bt?(typeof Ft=="function"&&(hp(d,x,Ft,E),ht=d.memoizedState),(He=bt||$v(d,x,He,E,vt,ht,ne))?(Tt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=ht),F.props=E,F.state=ht,F.context=ne,E=He):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{F=d.stateNode,Ke(o,d),ne=d.memoizedProps,Tt=Ju(x,ne),F.props=Tt,Ft=d.pendingProps,vt=F.context,ht=x.contextType,He=hs,typeof ht=="object"&&ht!==null&&(He=as(ht)),Ee=x.getDerivedStateFromProps,(ht=typeof Ee=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ne!==Ft||vt!==He)&&Xv(d,F,E,He),bt=!1,vt=d.memoizedState,F.state=vt,tr(d,E,F,O),br();var yt=d.memoizedState;ne!==Ft||vt!==yt||bt||o!==null&&o.dependencies!==null&&D0(o.dependencies)?(typeof Ee=="function"&&(hp(d,x,Ee,E),yt=d.memoizedState),(Tt=bt||$v(d,x,Tt,E,vt,yt,He)||o!==null&&o.dependencies!==null&&D0(o.dependencies))?(ht||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(E,yt,He),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(E,yt,He)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||ne===o.memoizedProps&&vt===o.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&vt===o.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=yt),F.props=E,F.state=yt,F.context=He,E=Tt):(typeof F.componentDidUpdate!="function"||ne===o.memoizedProps&&vt===o.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ne===o.memoizedProps&&vt===o.memoizedState||(d.flags|=1024),E=!1)}return F=E,g1(o,d),E=(d.flags&128)!==0,F||E?(F=d.stateNode,x=E&&typeof x.getDerivedStateFromError!="function"?null:F.render(),d.flags|=1,o!==null&&E?(d.child=V0(d,o.child,null,O),d.child=V0(d,null,x,O)):Ys(o,d,x,O),d.memoizedState=F.state,o=d.child):o=bc(o,d,O),o}function cy(o,d,x,E){return Ci(),d.flags|=256,Ys(o,d,x,E),d.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(o){return{baseLanes:o,cachePool:ce()}}function yp(o,d,x){return o=o!==null?o.childLanes&~x:0,d&&(o|=Vo),o}function uy(o,d,x){var E=d.pendingProps,O=!1,F=(d.flags&128)!==0,ne;if((ne=F)||(ne=o!==null&&o.memoizedState===null?!1:(_s.current&2)!==0),ne&&(O=!0,d.flags&=-129),ne=(d.flags&32)!==0,d.flags&=-33,o===null){if(Tn){if(O?Zc(d):Jc(),Tn){var Ee=Ia,He;if(He=Ee){e:{for(He=Ee,Ee=Mo;He.nodeType!==8;){if(!Ee){Ee=null;break e}if(He=pl(He.nextSibling),He===null){Ee=null;break e}}Ee=He}Ee!==null?(d.memoizedState={dehydrated:Ee,treeContext:fc!==null?{id:il,overflow:ol}:null,retryLane:536870912,hydrationErrors:null},He=ks(18,null,null,0),He.stateNode=Ee,He.return=d,d.child=He,ns=d,Ia=null,He=!0):He=!1}He||gc(d)}if(Ee=d.memoizedState,Ee!==null&&(Ee=Ee.dehydrated,Ee!==null))return r2(Ee)?d.lanes=32:d.lanes=536870912,null;wc(d)}return Ee=E.children,E=E.fallback,O?(Jc(),O=d.mode,Ee=m1({mode:"hidden",children:Ee},O),E=al(E,O,x,null),Ee.return=d,E.return=d,Ee.sibling=E,d.child=Ee,O=d.child,O.memoizedState=vp(x),O.childLanes=yp(o,ne,x),d.memoizedState=xp,E):(Zc(d),wp(d,Ee))}if(He=o.memoizedState,He!==null&&(Ee=He.dehydrated,Ee!==null)){if(F)d.flags&256?(Zc(d),d.flags&=-257,d=bp(o,d,x)):d.memoizedState!==null?(Jc(),d.child=o.child,d.flags|=128,d=null):(Jc(),O=E.fallback,Ee=d.mode,E=m1({mode:"visible",children:E.children},Ee),O=al(O,Ee,x,null),O.flags|=2,E.return=d,O.return=d,E.sibling=O,d.child=E,V0(d,o.child,null,x),E=d.child,E.memoizedState=vp(x),E.childLanes=yp(o,ne,x),d.memoizedState=xp,d=O);else if(Zc(d),r2(Ee)){if(ne=Ee.nextSibling&&Ee.nextSibling.dataset,ne)var ht=ne.dgst;ne=ht,E=Error(n(419)),E.stack="",E.digest=ne,Vc({value:E,source:null,stack:null}),d=bp(o,d,x)}else if(Ls||Wc(o,d,x,!1),ne=(x&o.childLanes)!==0,Ls||ne){if(ne=ma,ne!==null&&(E=x&-x,E=(E&42)!==0?1:qs(E),E=(E&(ne.suspendedLanes|x))!==0?0:E,E!==0&&E!==He.retryLane))throw He.retryLane=E,nl(o,E),xo(ne,o,E),ty;Ee.data==="$?"||Bp(),d=bp(o,d,x)}else Ee.data==="$?"?(d.flags|=192,d.child=o.child,d=null):(o=He.treeContext,Ia=pl(Ee.nextSibling),ns=d,Tn=!0,Ul=null,Mo=!1,o!==null&&(Vi[Ai++]=il,Vi[Ai++]=ol,Vi[Ai++]=fc,il=o.id,ol=o.overflow,fc=d),d=wp(d,E.children),d.flags|=4096);return d}return O?(Jc(),O=E.fallback,Ee=d.mode,He=o.child,ht=He.sibling,E=Fo(He,{mode:"hidden",children:E.children}),E.subtreeFlags=He.subtreeFlags&65011712,ht!==null?O=Fo(ht,O):(O=al(O,Ee,x,null),O.flags|=2),O.return=d,E.return=d,E.sibling=O,d.child=E,E=O,O=d.child,Ee=o.child.memoizedState,Ee===null?Ee=vp(x):(He=Ee.cachePool,He!==null?(ht=ss._currentValue,He=He.parent!==ht?{parent:ht,pool:ht}:He):He=ce(),Ee={baseLanes:Ee.baseLanes|x,cachePool:He}),O.memoizedState=Ee,O.childLanes=yp(o,ne,x),d.memoizedState=xp,E):(Zc(d),x=o.child,o=x.sibling,x=Fo(x,{mode:"visible",children:E.children}),x.return=d,x.sibling=null,o!==null&&(ne=d.deletions,ne===null?(d.deletions=[o],d.flags|=16):ne.push(o)),d.child=x,d.memoizedState=null,x)}function wp(o,d){return d=m1({mode:"visible",children:d},o.mode),d.return=o,o.child=d}function m1(o,d){return o=ks(22,o,null,d),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function bp(o,d,x){return V0(d,o.child,null,x),o=wp(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function dy(o,d,x){o.lanes|=d;var E=o.alternate;E!==null&&(E.lanes|=d),L0(o.return,d,x)}function _p(o,d,x,E,O){var F=o.memoizedState;F===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:O}:(F.isBackwards=d,F.rendering=null,F.renderingStartTime=0,F.last=E,F.tail=x,F.tailMode=O)}function fy(o,d,x){var E=d.pendingProps,O=E.revealOrder,F=E.tail;if(Ys(o,d,E.children,x),E=_s.current,(E&2)!==0)E=E&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&dy(o,x,d);else if(o.tag===19)dy(o,x,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}E&=1}switch(W(_s,E),O){case"forwards":for(x=d.child,O=null;x!==null;)o=x.alternate,o!==null&&d1(o)===null&&(O=x),x=x.sibling;x=O,x===null?(O=d.child,d.child=null):(O=x.sibling,x.sibling=null),_p(d,!1,O,x,F);break;case"backwards":for(x=null,O=d.child,d.child=null;O!==null;){if(o=O.alternate,o!==null&&d1(o)===null){d.child=O;break}o=O.sibling,O.sibling=x,x=O,O=o}_p(d,!0,x,null,F);break;case"together":_p(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function bc(o,d,x){if(o!==null&&(d.dependencies=o.dependencies),nu|=d.lanes,(x&d.childLanes)===0)if(o!==null){if(Wc(o,d,x,!1),(x&d.childLanes)===0)return null}else return null;if(o!==null&&d.child!==o.child)throw Error(n(153));if(d.child!==null){for(o=d.child,x=Fo(o,o.pendingProps),d.child=x,x.return=d;o.sibling!==null;)o=o.sibling,x=x.sibling=Fo(o,o.pendingProps),x.return=d;x.sibling=null}return d.child}function Ep(o,d){return(o.lanes&d)!==0?!0:(o=o.dependencies,!!(o!==null&&D0(o)))}function kE(o,d,x){switch(d.tag){case 3:Re(d,d.stateNode.containerInfo),zl(d,ss,o.memoizedState.cache),Ci();break;case 27:case 5:ke(d);break;case 4:Re(d,d.stateNode.containerInfo);break;case 10:zl(d,d.type,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(Zc(d),d.flags|=128,null):(x&d.child.childLanes)!==0?uy(o,d,x):(Zc(d),o=bc(o,d,x),o!==null?o.sibling:null);Zc(d);break;case 19:var O=(o.flags&128)!==0;if(E=(x&d.childLanes)!==0,E||(Wc(o,d,x,!1),E=(x&d.childLanes)!==0),O){if(E)return fy(o,d,x);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),W(_s,_s.current),E)break;return null;case 22:case 23:return d.lanes=0,sy(o,d,x);case 24:zl(d,ss,o.memoizedState.cache)}return bc(o,d,x)}function hy(o,d,x){if(o!==null)if(o.memoizedProps!==d.pendingProps)Ls=!0;else{if(!Ep(o,x)&&(d.flags&128)===0)return Ls=!1,kE(o,d,x);Ls=(o.flags&131072)!==0}else Ls=!1,Tn&&(d.flags&1048576)!==0&&Wh(d,k0,d.index);switch(d.lanes=0,d.tag){case 16:e:{o=d.pendingProps;var E=d.elementType,O=E._init;if(E=O(E._payload),d.type=E,typeof E=="function")Hc(E)?(o=Ju(E,o),d.tag=1,d=ly(null,d,E,o,x)):(d.tag=0,d=pp(null,d,E,o,x));else{if(E!=null){if(O=E.$$typeof,O===X){d.tag=11,d=ry(null,d,E,o,x);break e}else if(O===V){d.tag=14,d=ny(null,d,E,o,x);break e}}throw d=ye(E)||E,Error(n(306,d,""))}}return d;case 0:return pp(o,d,d.type,d.pendingProps,x);case 1:return E=d.type,O=Ju(E,d.pendingProps),ly(o,d,E,O,x);case 3:e:{if(Re(d,d.stateNode.containerInfo),o===null)throw Error(n(387));E=d.pendingProps;var F=d.memoizedState;O=F.element,Ke(o,d),tr(d,E,null,x);var ne=d.memoizedState;if(E=ne.cache,zl(d,ss,E),E!==F.cache&&I0(d,[ss],x,!0),br(),E=ne.element,F.isDehydrated)if(F={element:E,isDehydrated:!1,cache:ne.cache},d.updateQueue.baseState=F,d.memoizedState=F,d.flags&256){d=cy(o,d,E,x);break e}else if(E!==O){O=cn(Error(n(424)),d),Vc(O),d=cy(o,d,E,x);break e}else{switch(o=d.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ia=pl(o.firstChild),ns=d,Tn=!0,Ul=null,Mo=!0,x=Wv(d,null,E,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Ci(),E===O){d=bc(o,d,x);break e}Ys(o,d,E,x)}d=d.child}return d;case 26:return g1(o,d),o===null?(x=xw(d.type,null,d.pendingProps,null))?d.memoizedState=x:Tn||(x=d.type,o=d.pendingProps,E=j1(le.current).createElement(x),E[On]=d,E[hn]=o,Zs(E,x,o),Ze(E),d.stateNode=E):d.memoizedState=xw(d.type,o.memoizedProps,d.pendingProps,o.memoizedState),null;case 27:return ke(d),o===null&&Tn&&(E=d.stateNode=gw(d.type,d.pendingProps,le.current),ns=d,Mo=!0,O=Ia,ou(d.type)?(n2=O,Ia=pl(E.firstChild)):Ia=O),Ys(o,d,d.pendingProps.children,x),g1(o,d),o===null&&(d.flags|=4194304),d.child;case 5:return o===null&&Tn&&((O=E=Ia)&&(E=iN(E,d.type,d.pendingProps,Mo),E!==null?(d.stateNode=E,ns=d,Ia=pl(E.firstChild),Mo=!1,O=!0):O=!1),O||gc(d)),ke(d),O=d.type,F=d.pendingProps,ne=o!==null?o.memoizedProps:null,E=F.children,Qp(O,F)?E=null:ne!==null&&Qp(O,ne)&&(d.flags|=32),d.memoizedState!==null&&(O=uo(o,d,Vl,null,null,x),Mf._currentValue=O),g1(o,d),Ys(o,d,E,x),d.child;case 6:return o===null&&Tn&&((o=x=Ia)&&(x=oN(x,d.pendingProps,Mo),x!==null?(d.stateNode=x,ns=d,Ia=null,o=!0):o=!1),o||gc(d)),null;case 13:return uy(o,d,x);case 4:return Re(d,d.stateNode.containerInfo),E=d.pendingProps,o===null?d.child=V0(d,null,E,x):Ys(o,d,E,x),d.child;case 11:return ry(o,d,d.type,d.pendingProps,x);case 7:return Ys(o,d,d.pendingProps,x),d.child;case 8:return Ys(o,d,d.pendingProps.children,x),d.child;case 12:return Ys(o,d,d.pendingProps.children,x),d.child;case 10:return E=d.pendingProps,zl(d,d.type,E.value),Ys(o,d,E.children,x),d.child;case 9:return O=d.type._context,E=d.pendingProps.children,zo(d),O=as(O),E=E(O),d.flags|=1,Ys(o,d,E,x),d.child;case 14:return ny(o,d,d.type,d.pendingProps,x);case 15:return ay(o,d,d.type,d.pendingProps,x);case 19:return fy(o,d,x);case 31:return E=d.pendingProps,x=d.mode,E={mode:E.mode,children:E.children},o===null?(x=m1(E,x),x.ref=d.ref,d.child=x,x.return=d,d=x):(x=Fo(o.child,E),x.ref=d.ref,d.child=x,x.return=d,d=x),d;case 22:return sy(o,d,x);case 24:return zo(d),E=as(ss),o===null?(O=z(),O===null&&(O=ma,F=of(),O.pooledCache=F,F.refCount++,F!==null&&(O.pooledCacheLanes|=x),O=F),d.memoizedState={parent:E,cache:O},Xe(d),zl(d,ss,O)):((o.lanes&x)!==0&&(Ke(o,d),tr(d,null,null,x),br()),O=o.memoizedState,F=d.memoizedState,O.parent!==E?(O={parent:E,cache:E},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),zl(d,ss,E)):(E=F.cache,zl(d,ss,E),E!==O.cache&&I0(d,[ss],x,!0))),Ys(o,d,d.pendingProps.children,x),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function _c(o){o.flags|=4}function gy(o,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!_w(d)){if(d=qo.current,d!==null&&((Cn&4194048)===Cn?$l!==null:(Cn&62914560)!==Cn&&(Cn&536870912)===0||d!==$l))throw lt=Se,ve;o.flags|=8192}}function p1(o,d){d!==null&&(o.flags|=4),o.flags&16384&&(d=o.tag!==22?Un():536870912,o.lanes|=d,X0|=d)}function Ef(o,d){if(!Tn)switch(o.tailMode){case"hidden":d=o.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?o.tail=null:x.sibling=null;break;case"collapsed":x=o.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:E.sibling=null}}function za(o){var d=o.alternate!==null&&o.alternate.child===o.child,x=0,E=0;if(d)for(var O=o.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags&65011712,E|=O.flags&65011712,O.return=o,O=O.sibling;else for(O=o.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags,E|=O.flags,O.return=o,O=O.sibling;return o.subtreeFlags|=E,o.childLanes=x,d}function LE(o,d,x){var E=d.pendingProps;switch(Bu(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return za(d),null;case 1:return za(d),null;case 3:return x=d.stateNode,E=null,o!==null&&(E=o.memoizedState.cache),d.memoizedState.cache!==E&&(d.flags|=2048),Uo(ss),Me(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&($s(d)?_c(d):o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,$h())),za(d),null;case 26:return x=d.memoizedState,o===null?(_c(d),x!==null?(za(d),gy(d,x)):(za(d),d.flags&=-16777217)):x?x!==o.memoizedState?(_c(d),za(d),gy(d,x)):(za(d),d.flags&=-16777217):(o.memoizedProps!==E&&_c(d),za(d),d.flags&=-16777217),null;case 27:ze(d),x=le.current;var O=d.type;if(o!==null&&d.stateNode!=null)o.memoizedProps!==E&&_c(d);else{if(!E){if(d.stateNode===null)throw Error(n(166));return za(d),null}o=J.current,$s(d)?Gh(d):(o=gw(O,E,x),d.stateNode=o,_c(d))}return za(d),null;case 5:if(ze(d),x=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==E&&_c(d);else{if(!E){if(d.stateNode===null)throw Error(n(166));return za(d),null}if(o=J.current,$s(d))Gh(d);else{switch(O=j1(le.current),o){case 1:o=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:o=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":o=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":o=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof E.is=="string"?O.createElement("select",{is:E.is}):O.createElement("select"),E.multiple?o.multiple=!0:E.size&&(o.size=E.size);break;default:o=typeof E.is=="string"?O.createElement(x,{is:E.is}):O.createElement(x)}}o[On]=d,o[hn]=E;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)o.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=o;e:switch(Zs(o,x,E),x){case"button":case"input":case"select":case"textarea":o=!!E.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&_c(d)}}return za(d),d.flags&=-16777217,null;case 6:if(o&&d.stateNode!=null)o.memoizedProps!==E&&_c(d);else{if(typeof E!="string"&&d.stateNode===null)throw Error(n(166));if(o=le.current,$s(d)){if(o=d.stateNode,x=d.memoizedProps,E=null,O=ns,O!==null)switch(O.tag){case 27:case 5:E=O.memoizedProps}o[On]=d,o=!!(o.nodeValue===x||E!==null&&E.suppressHydrationWarning===!0||ow(o.nodeValue,x)),o||gc(d)}else o=j1(o).createTextNode(E),o[On]=d,d.stateNode=o}return za(d),null;case 13:if(E=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(O=$s(d),E!==null&&E.dehydrated!==null){if(o===null){if(!O)throw Error(n(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[On]=d}else Ci(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;za(d),O=!1}else O=$h(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(wc(d),d):(wc(d),null)}if(wc(d),(d.flags&128)!==0)return d.lanes=x,d;if(x=E!==null,o=o!==null&&o.memoizedState!==null,x){E=d.child,O=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(O=E.alternate.memoizedState.cachePool.pool);var F=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(F=E.memoizedState.cachePool.pool),F!==O&&(E.flags|=2048)}return x!==o&&x&&(d.child.flags|=8192),p1(d,d.updateQueue),za(d),null;case 4:return Me(),o===null&&Xp(d.stateNode.containerInfo),za(d),null;case 10:return Uo(d.type),za(d),null;case 19:if(P(_s),O=d.memoizedState,O===null)return za(d),null;if(E=(d.flags&128)!==0,F=O.rendering,F===null)if(E)Ef(O,!1);else{if(Xa!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(F=d1(o),F!==null){for(d.flags|=128,Ef(O,!1),o=F.updateQueue,d.updateQueue=o,p1(d,o),d.subtreeFlags=0,o=x,x=d.child;x!==null;)Pu(x,o),x=x.sibling;return W(_s,_s.current&1|2),d.child}o=o.sibling}O.tail!==null&&Ve()>y1&&(d.flags|=128,E=!0,Ef(O,!1),d.lanes=4194304)}else{if(!E)if(o=d1(F),o!==null){if(d.flags|=128,E=!0,o=o.updateQueue,d.updateQueue=o,p1(d,o),Ef(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!Tn)return za(d),null}else 2*Ve()-O.renderingStartTime>y1&&x!==536870912&&(d.flags|=128,E=!0,Ef(O,!1),d.lanes=4194304);O.isBackwards?(F.sibling=d.child,d.child=F):(o=O.last,o!==null?o.sibling=F:d.child=F,O.last=F)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=Ve(),d.sibling=null,o=_s.current,W(_s,E?o&1|2:o&1),d):(za(d),null);case 22:case 23:return wc(d),Vr(),E=d.memoizedState!==null,o!==null?o.memoizedState!==null!==E&&(d.flags|=8192):E&&(d.flags|=8192),E?(x&536870912)!==0&&(d.flags&128)===0&&(za(d),d.subtreeFlags&6&&(d.flags|=8192)):za(d),x=d.updateQueue,x!==null&&p1(d,x.retryQueue),x=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),E=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==x&&(d.flags|=2048),o!==null&&P(R),null;case 24:return x=null,o!==null&&(x=o.memoizedState.cache),d.memoizedState.cache!==x&&(d.flags|=2048),Uo(ss),za(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function IE(o,d){switch(Bu(d),d.tag){case 1:return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Uo(ss),Me(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 26:case 27:case 5:return ze(d),null;case 13:if(wc(d),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Ci()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return P(_s),null;case 4:return Me(),null;case 10:return Uo(d.type),null;case 22:case 23:return wc(d),Vr(),o!==null&&P(R),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 24:return Uo(ss),null;case 25:return null;default:return null}}function my(o,d){switch(Bu(d),d.tag){case 3:Uo(ss),Me();break;case 26:case 27:case 5:ze(d);break;case 4:Me();break;case 13:wc(d);break;case 19:P(_s);break;case 10:Uo(d.type);break;case 22:case 23:wc(d),Vr(),o!==null&&P(R);break;case 24:Uo(ss)}}function Nf(o,d){try{var x=d.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var O=E.next;x=O;do{if((x.tag&o)===o){E=void 0;var F=x.create,ne=x.inst;E=F(),ne.destroy=E}x=x.next}while(x!==O)}}catch(Ee){la(d,d.return,Ee)}}function Qc(o,d,x){try{var E=d.updateQueue,O=E!==null?E.lastEffect:null;if(O!==null){var F=O.next;E=F;do{if((E.tag&o)===o){var ne=E.inst,Ee=ne.destroy;if(Ee!==void 0){ne.destroy=void 0,O=d;var He=x,ht=Ee;try{ht()}catch(Tt){la(O,He,Tt)}}}E=E.next}while(E!==F)}}catch(Tt){la(d,d.return,Tt)}}function py(o){var d=o.updateQueue;if(d!==null){var x=o.stateNode;try{Dn(d,x)}catch(E){la(o,o.return,E)}}}function xy(o,d,x){x.props=Ju(o.type,o.memoizedProps),x.state=o.memoizedState;try{x.componentWillUnmount()}catch(E){la(o,d,E)}}function Sf(o,d){try{var x=o.ref;if(x!==null){switch(o.tag){case 26:case 27:case 5:var E=o.stateNode;break;case 30:E=o.stateNode;break;default:E=o.stateNode}typeof x=="function"?o.refCleanup=x(E):x.current=E}}catch(O){la(o,d,O)}}function Xl(o,d){var x=o.ref,E=o.refCleanup;if(x!==null)if(typeof E=="function")try{E()}catch(O){la(o,d,O)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){la(o,d,O)}else x.current=null}function vy(o){var d=o.type,x=o.memoizedProps,E=o.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":x.autoFocus&&E.focus();break e;case"img":x.src?E.src=x.src:x.srcSet&&(E.srcset=x.srcSet)}}catch(O){la(o,o.return,O)}}function Np(o,d,x){try{var E=o.stateNode;tN(E,o.type,x,d),E[hn]=d}catch(O){la(o,o.return,O)}}function yy(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ou(o.type)||o.tag===4}function Sp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||yy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ou(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ap(o,d,x){var E=o.tag;if(E===5||E===6)o=o.stateNode,d?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(o,d):(d=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,d.appendChild(o),x=x._reactRootContainer,x!=null||d.onclick!==null||(d.onclick=T1));else if(E!==4&&(E===27&&ou(o.type)&&(x=o.stateNode,d=null),o=o.child,o!==null))for(Ap(o,d,x),o=o.sibling;o!==null;)Ap(o,d,x),o=o.sibling}function x1(o,d,x){var E=o.tag;if(E===5||E===6)o=o.stateNode,d?x.insertBefore(o,d):x.appendChild(o);else if(E!==4&&(E===27&&ou(o.type)&&(x=o.stateNode),o=o.child,o!==null))for(x1(o,d,x),o=o.sibling;o!==null;)x1(o,d,x),o=o.sibling}function wy(o){var d=o.stateNode,x=o.memoizedProps;try{for(var E=o.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);Zs(d,E,x),d[On]=o,d[hn]=x}catch(F){la(o,o.return,F)}}var Ec=!1,os=!1,Cp=!1,by=typeof WeakSet=="function"?WeakSet:Set,Is=null;function DE(o,d){if(o=o.containerInfo,Zp=D1,o=U(o),Z(o)){if("selectionStart"in o)var x={start:o.selectionStart,end:o.selectionEnd};else e:{x=(x=o.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var O=E.anchorOffset,F=E.focusNode;E=E.focusOffset;try{x.nodeType,F.nodeType}catch(Tr){x=null;break e}var ne=0,Ee=-1,He=-1,ht=0,Tt=0,Ft=o,vt=null;t:for(;;){for(var yt;Ft!==x||O!==0&&Ft.nodeType!==3||(Ee=ne+O),Ft!==F||E!==0&&Ft.nodeType!==3||(He=ne+E),Ft.nodeType===3&&(ne+=Ft.nodeValue.length),(yt=Ft.firstChild)!==null;)vt=Ft,Ft=yt;for(;;){if(Ft===o)break t;if(vt===x&&++ht===O&&(Ee=ne),vt===F&&++Tt===E&&(He=ne),(yt=Ft.nextSibling)!==null)break;Ft=vt,vt=Ft.parentNode}Ft=yt}x=Ee===-1||He===-1?null:{start:Ee,end:He}}else x=null}x=x||{start:0,end:0}}else x=null;for(Jp={focusedElem:o,selectionRange:x},D1=!1,Is=d;Is!==null;)if(d=Is,o=d.child,(d.subtreeFlags&1024)!==0&&o!==null)o.return=d,Is=o;else for(;Is!==null;){switch(d=Is,F=d.alternate,o=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&F!==null){o=void 0,x=d,O=F.memoizedProps,F=F.memoizedState,E=x.stateNode;try{var zr=Ju(x.type,O,x.elementType===x.type);o=E.getSnapshotBeforeUpdate(zr,F),E.__reactInternalSnapshotBeforeUpdate=o}catch(Tr){la(x,x.return,Tr)}}break;case 3:if((o&1024)!==0){if(o=d.stateNode.containerInfo,x=o.nodeType,x===9)t2(o);else if(x===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":t2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=d.sibling,o!==null){o.return=d.return,Is=o;break}Is=d.return}}function _y(o,d,x){var E=x.flags;switch(x.tag){case 0:case 11:case 15:eu(o,x),E&4&&Nf(5,x);break;case 1:if(eu(o,x),E&4)if(o=x.stateNode,d===null)try{o.componentDidMount()}catch(ne){la(x,x.return,ne)}else{var O=Ju(x.type,d.memoizedProps);d=d.memoizedState;try{o.componentDidUpdate(O,d,o.__reactInternalSnapshotBeforeUpdate)}catch(ne){la(x,x.return,ne)}}E&64&&py(x),E&512&&Sf(x,x.return);break;case 3:if(eu(o,x),E&64&&(o=x.updateQueue,o!==null)){if(d=null,x.child!==null)switch(x.child.tag){case 27:case 5:d=x.child.stateNode;break;case 1:d=x.child.stateNode}try{Dn(o,d)}catch(ne){la(x,x.return,ne)}}break;case 27:d===null&&E&4&&wy(x);case 26:case 5:eu(o,x),d===null&&E&4&&vy(x),E&512&&Sf(x,x.return);break;case 12:eu(o,x);break;case 13:eu(o,x),E&4&&Sy(o,x),E&64&&(o=x.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(x=VE.bind(null,x),lN(o,x))));break;case 22:if(E=x.memoizedState!==null||Ec,!E){d=d!==null&&d.memoizedState!==null||os,O=Ec;var F=os;Ec=E,(os=d)&&!F?tu(o,x,(x.subtreeFlags&8772)!==0):eu(o,x),Ec=O,os=F}break;case 30:break;default:eu(o,x)}}function Ey(o){var d=o.alternate;d!==null&&(o.alternate=null,Ey(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&Te(d)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Da=null,Gi=!1;function Nc(o,d,x){for(x=x.child;x!==null;)Ny(o,d,x),x=x.sibling}function Ny(o,d,x){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(rr,x)}catch(F){}switch(x.tag){case 26:os||Xl(x,d),Nc(o,d,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:os||Xl(x,d);var E=Da,O=Gi;ou(x.type)&&(Da=x.stateNode,Gi=!1),Nc(o,d,x),If(x.stateNode),Da=E,Gi=O;break;case 5:os||Xl(x,d);case 6:if(E=Da,O=Gi,Da=null,Nc(o,d,x),Da=E,Gi=O,Da!==null)if(Gi)try{(Da.nodeType===9?Da.body:Da.nodeName==="HTML"?Da.ownerDocument.body:Da).removeChild(x.stateNode)}catch(F){la(x,d,F)}else try{Da.removeChild(x.stateNode)}catch(F){la(x,d,F)}break;case 18:Da!==null&&(Gi?(o=Da,fw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,x.stateNode),Hf(o)):fw(Da,x.stateNode));break;case 4:E=Da,O=Gi,Da=x.stateNode.containerInfo,Gi=!0,Nc(o,d,x),Da=E,Gi=O;break;case 0:case 11:case 14:case 15:os||Qc(2,x,d),os||Qc(4,x,d),Nc(o,d,x);break;case 1:os||(Xl(x,d),E=x.stateNode,typeof E.componentWillUnmount=="function"&&xy(x,d,E)),Nc(o,d,x);break;case 21:Nc(o,d,x);break;case 22:os=(E=os)||x.memoizedState!==null,Nc(o,d,x),os=E;break;default:Nc(o,d,x)}}function Sy(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Hf(o)}catch(x){la(d,d.return,x)}}function PE(o){switch(o.tag){case 13:case 19:var d=o.stateNode;return d===null&&(d=o.stateNode=new by),d;case 22:return o=o.stateNode,d=o._retryCache,d===null&&(d=o._retryCache=new by),d;default:throw Error(n(435,o.tag))}}function Tp(o,d){var x=PE(o);d.forEach(function(E){var O=WE.bind(null,o,E);x.has(E)||(x.add(E),E.then(O,O))})}function ho(o,d){var x=d.deletions;if(x!==null)for(var E=0;E<x.length;E++){var O=x[E],F=o,ne=d,Ee=ne;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(ou(Ee.type)){Da=Ee.stateNode,Gi=!1;break e}break;case 5:Da=Ee.stateNode,Gi=!1;break e;case 3:case 4:Da=Ee.stateNode.containerInfo,Gi=!0;break e}Ee=Ee.return}if(Da===null)throw Error(n(160));Ny(F,ne,O),Da=null,Gi=!1,F=O.alternate,F!==null&&(F.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Ay(d,o),d=d.sibling}var ml=null;function Ay(o,d){var x=o.alternate,E=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ho(d,o),go(o),E&4&&(Qc(3,o,o.return),Nf(3,o),Qc(5,o,o.return));break;case 1:ho(d,o),go(o),E&512&&(os||x===null||Xl(x,x.return)),E&64&&Ec&&(o=o.updateQueue,o!==null&&(E=o.callbacks,E!==null&&(x=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=x===null?E:x.concat(E))));break;case 26:var O=ml;if(ho(d,o),go(o),E&512&&(os||x===null||Xl(x,x.return)),E&4){var F=x!==null?x.memoizedState:null;if(E=o.memoizedState,x===null)if(E===null)if(o.stateNode===null){e:{E=o.type,x=o.memoizedProps,O=O.ownerDocument||O;t:switch(E){case"title":F=O.getElementsByTagName("title")[0],(!F||F[Ce]||F[On]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=O.createElement(E),O.head.insertBefore(F,O.querySelector("head > title"))),Zs(F,E,x),F[On]=o,Ze(F),E=F;break e;case"link":var ne=ww("link","href",O).get(E+(x.href||""));if(ne){for(var Ee=0;Ee<ne.length;Ee++)if(F=ne[Ee],F.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&F.getAttribute("rel")===(x.rel==null?null:x.rel)&&F.getAttribute("title")===(x.title==null?null:x.title)&&F.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ne.splice(Ee,1);break t}}F=O.createElement(E),Zs(F,E,x),O.head.appendChild(F);break;case"meta":if(ne=ww("meta","content",O).get(E+(x.content||""))){for(Ee=0;Ee<ne.length;Ee++)if(F=ne[Ee],F.getAttribute("content")===(x.content==null?null:""+x.content)&&F.getAttribute("name")===(x.name==null?null:x.name)&&F.getAttribute("property")===(x.property==null?null:x.property)&&F.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&F.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ne.splice(Ee,1);break t}}F=O.createElement(E),Zs(F,E,x),O.head.appendChild(F);break;default:throw Error(n(468,E))}F[On]=o,Ze(F),E=F}o.stateNode=E}else bw(O,o.type,o.stateNode);else o.stateNode=yw(O,E,o.memoizedProps);else F!==E?(F===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):F.count--,E===null?bw(O,o.type,o.stateNode):yw(O,E,o.memoizedProps)):E===null&&o.stateNode!==null&&Np(o,o.memoizedProps,x.memoizedProps)}break;case 27:ho(d,o),go(o),E&512&&(os||x===null||Xl(x,x.return)),x!==null&&E&4&&Np(o,o.memoizedProps,x.memoizedProps);break;case 5:if(ho(d,o),go(o),E&512&&(os||x===null||Xl(x,x.return)),o.flags&32){O=o.stateNode;try{Fa(O,"")}catch(yt){la(o,o.return,yt)}}E&4&&o.stateNode!=null&&(O=o.memoizedProps,Np(o,O,x!==null?x.memoizedProps:O)),E&1024&&(Cp=!0);break;case 6:if(ho(d,o),go(o),E&4){if(o.stateNode===null)throw Error(n(162));E=o.memoizedProps,x=o.stateNode;try{x.nodeValue=E}catch(yt){la(o,o.return,yt)}}break;case 3:if(k1=null,O=ml,ml=O1(d.containerInfo),ho(d,o),ml=O,go(o),E&4&&x!==null&&x.memoizedState.isDehydrated)try{Hf(d.containerInfo)}catch(yt){la(o,o.return,yt)}Cp&&(Cp=!1,Cy(o));break;case 4:E=ml,ml=O1(o.stateNode.containerInfo),ho(d,o),go(o),ml=E;break;case 12:ho(d,o),go(o);break;case 13:ho(d,o),go(o),o.child.flags&8192&&o.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Ip=Ve()),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,Tp(o,E)));break;case 22:O=o.memoizedState!==null;var He=x!==null&&x.memoizedState!==null,ht=Ec,Tt=os;if(Ec=ht||O,os=Tt||He,ho(d,o),os=Tt,Ec=ht,go(o),E&8192)e:for(d=o.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(x===null||He||Ec||os||Qu(o)),x=null,d=o;;){if(d.tag===5||d.tag===26){if(x===null){He=x=d;try{if(F=He.stateNode,O)ne=F.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{Ee=He.stateNode;var Ft=He.memoizedProps.style,vt=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null;Ee.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(yt){la(He,He.return,yt)}}}else if(d.tag===6){if(x===null){He=d;try{He.stateNode.nodeValue=O?"":He.memoizedProps}catch(yt){la(He,He.return,yt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===o)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break e;for(;d.sibling===null;){if(d.return===null||d.return===o)break e;x===d&&(x=null),d=d.return}x===d&&(x=null),d.sibling.return=d.return,d=d.sibling}E&4&&(E=o.updateQueue,E!==null&&(x=E.retryQueue,x!==null&&(E.retryQueue=null,Tp(o,x))));break;case 19:ho(d,o),go(o),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,Tp(o,E)));break;case 30:break;case 21:break;default:ho(d,o),go(o)}}function go(o){var d=o.flags;if(d&2){try{for(var x,E=o.return;E!==null;){if(yy(E)){x=E;break}E=E.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var O=x.stateNode,F=Sp(o);x1(o,F,O);break;case 5:var ne=x.stateNode;x.flags&32&&(Fa(ne,""),x.flags&=-33);var Ee=Sp(o);x1(o,Ee,ne);break;case 3:case 4:var He=x.stateNode.containerInfo,ht=Sp(o);Ap(o,ht,He);break;default:throw Error(n(161))}}catch(Tt){la(o,o.return,Tt)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function Cy(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var d=o;Cy(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),o=o.sibling}}function eu(o,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)_y(o,d.alternate,d),d=d.sibling}function Qu(o){for(o=o.child;o!==null;){var d=o;switch(d.tag){case 0:case 11:case 14:case 15:Qc(4,d,d.return),Qu(d);break;case 1:Xl(d,d.return);var x=d.stateNode;typeof x.componentWillUnmount=="function"&&xy(d,d.return,x),Qu(d);break;case 27:If(d.stateNode);case 26:case 5:Xl(d,d.return),Qu(d);break;case 22:d.memoizedState===null&&Qu(d);break;case 30:Qu(d);break;default:Qu(d)}o=o.sibling}}function tu(o,d,x){for(x=x&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var E=d.alternate,O=o,F=d,ne=F.flags;switch(F.tag){case 0:case 11:case 15:tu(O,F,x),Nf(4,F);break;case 1:if(tu(O,F,x),E=F,O=E.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(ht){la(E,E.return,ht)}if(E=F,O=E.updateQueue,O!==null){var Ee=E.stateNode;try{var He=O.shared.hiddenCallbacks;if(He!==null)for(O.shared.hiddenCallbacks=null,O=0;O<He.length;O++)Sn(He[O],Ee)}catch(ht){la(E,E.return,ht)}}x&&ne&64&&py(F),Sf(F,F.return);break;case 27:wy(F);case 26:case 5:tu(O,F,x),x&&E===null&&ne&4&&vy(F),Sf(F,F.return);break;case 12:tu(O,F,x);break;case 13:tu(O,F,x),x&&ne&4&&Sy(O,F);break;case 22:F.memoizedState===null&&tu(O,F,x),Sf(F,F.return);break;case 30:break;default:tu(O,F,x)}d=d.sibling}}function jp(o,d){var x=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),o=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(o=d.memoizedState.cachePool.pool),o!==x&&(o!=null&&o.refCount++,x!=null&&Uu(x))}function Op(o,d){o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&Uu(o))}function Yl(o,d,x,E){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Ty(o,d,x,E),d=d.sibling}function Ty(o,d,x,E){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Yl(o,d,x,E),O&2048&&Nf(9,d);break;case 1:Yl(o,d,x,E);break;case 3:Yl(o,d,x,E),O&2048&&(o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&Uu(o)));break;case 12:if(O&2048){Yl(o,d,x,E),o=d.stateNode;try{var F=d.memoizedProps,ne=F.id,Ee=F.onPostCommit;typeof Ee=="function"&&Ee(ne,d.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(He){la(d,d.return,He)}}else Yl(o,d,x,E);break;case 13:Yl(o,d,x,E);break;case 23:break;case 22:F=d.stateNode,ne=d.alternate,d.memoizedState!==null?F._visibility&2?Yl(o,d,x,E):Af(o,d):F._visibility&2?Yl(o,d,x,E):(F._visibility|=2,W0(o,d,x,E,(d.subtreeFlags&10256)!==0)),O&2048&&jp(ne,d);break;case 24:Yl(o,d,x,E),O&2048&&Op(d.alternate,d);break;default:Yl(o,d,x,E)}}function W0(o,d,x,E,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var F=o,ne=d,Ee=x,He=E,ht=ne.flags;switch(ne.tag){case 0:case 11:case 15:W0(F,ne,Ee,He,O),Nf(8,ne);break;case 23:break;case 22:var Tt=ne.stateNode;ne.memoizedState!==null?Tt._visibility&2?W0(F,ne,Ee,He,O):Af(F,ne):(Tt._visibility|=2,W0(F,ne,Ee,He,O)),O&&ht&2048&&jp(ne.alternate,ne);break;case 24:W0(F,ne,Ee,He,O),O&&ht&2048&&Op(ne.alternate,ne);break;default:W0(F,ne,Ee,He,O)}d=d.sibling}}function Af(o,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var x=o,E=d,O=E.flags;switch(E.tag){case 22:Af(x,E),O&2048&&jp(E.alternate,E);break;case 24:Af(x,E),O&2048&&Op(E.alternate,E);break;default:Af(x,E)}d=d.sibling}}var Cf=8192;function G0(o){if(o.subtreeFlags&Cf)for(o=o.child;o!==null;)jy(o),o=o.sibling}function jy(o){switch(o.tag){case 26:G0(o),o.flags&Cf&&o.memoizedState!==null&&bN(ml,o.memoizedState,o.memoizedProps);break;case 5:G0(o);break;case 3:case 4:var d=ml;ml=O1(o.stateNode.containerInfo),G0(o),ml=d;break;case 22:o.memoizedState===null&&(d=o.alternate,d!==null&&d.memoizedState!==null?(d=Cf,Cf=16777216,G0(o),Cf=d):G0(o));break;default:G0(o)}}function Oy(o){var d=o.alternate;if(d!==null&&(o=d.child,o!==null)){d.child=null;do d=o.sibling,o.sibling=null,o=d;while(o!==null)}}function Tf(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var E=d[x];Is=E,ky(E,o)}Oy(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ry(o),o=o.sibling}function Ry(o){switch(o.tag){case 0:case 11:case 15:Tf(o),o.flags&2048&&Qc(9,o,o.return);break;case 3:Tf(o);break;case 12:Tf(o);break;case 22:var d=o.stateNode;o.memoizedState!==null&&d._visibility&2&&(o.return===null||o.return.tag!==13)?(d._visibility&=-3,v1(o)):Tf(o);break;default:Tf(o)}}function v1(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var x=0;x<d.length;x++){var E=d[x];Is=E,ky(E,o)}Oy(o)}for(o=o.child;o!==null;){switch(d=o,d.tag){case 0:case 11:case 15:Qc(8,d,d.return),v1(d);break;case 22:x=d.stateNode,x._visibility&2&&(x._visibility&=-3,v1(d));break;default:v1(d)}o=o.sibling}}function ky(o,d){for(;Is!==null;){var x=Is;switch(x.tag){case 0:case 11:case 15:Qc(8,x,d);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var E=x.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Uu(x.memoizedState.cache)}if(E=x.child,E!==null)E.return=x,Is=E;else e:for(x=o;Is!==null;){E=Is;var O=E.sibling,F=E.return;if(Ey(E),E===x){Is=null;break e}if(O!==null){O.return=F,Is=O;break e}Is=F}}}var FE={getCacheForType:function(o){var d=as(ss),x=d.data.get(o);return x===void 0&&(x=o(),d.data.set(o,x)),x}},ME=typeof WeakMap=="function"?WeakMap:Map,Wn=0,ma=null,mn=null,Cn=0,Gn=0,mo=null,ru=!1,$0=!1,Rp=!1,Sc=0,Xa=0,nu=0,e0=0,kp=0,Vo=0,X0=0,jf=null,$i=null,Lp=!1,Ip=0,y1=1/0,w1=null,au=null,Ks=0,su=null,Y0=null,K0=0,Dp=0,Pp=null,Ly=null,Of=0,Fp=null;function po(){if((Wn&2)!==0&&Cn!==0)return Cn&-Cn;if(de.T!==null){var o=mc;return o!==0?o:Vp()}return Ha()}function Iy(){Vo===0&&(Vo=(Cn&536870912)===0||Tn?Hs():536870912);var o=qo.current;return o!==null&&(o.flags|=32),Vo}function xo(o,d,x){(o===ma&&(Gn===2||Gn===9)||o.cancelPendingCommit!==null)&&(Z0(o,0),iu(o,Cn,Vo,!1)),xa(o,x),((Wn&2)===0||o!==ma)&&(o===ma&&((Wn&2)===0&&(e0|=x),Xa===4&&iu(o,Cn,Vo,!1)),Kl(o))}function Dy(o,d,x){if((Wn&6)!==0)throw Error(n(327));var E=!x&&(d&124)===0&&(d&o.expiredLanes)===0||Zr(o,d),O=E?zE(o,d):Up(o,d,!0),F=E;do{if(O===0){$0&&!E&&iu(o,d,0,!1);break}else{if(x=o.current.alternate,F&&!BE(x)){O=Up(o,d,!1),F=!1;continue}if(O===2){if(F=d,o.errorRecoveryDisabledLanes&F)var ne=0;else ne=o.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){d=ne;e:{var Ee=o;O=jf;var He=Ee.current.memoizedState.isDehydrated;if(He&&(Z0(Ee,ne).flags|=256),ne=Up(Ee,ne,!1),ne!==2){if(Rp&&!He){Ee.errorRecoveryDisabledLanes|=F,e0|=F,O=4;break e}F=$i,$i=O,F!==null&&($i===null?$i=F:$i.push.apply($i,F))}O=ne}if(F=!1,O!==2)continue}}if(O===1){Z0(o,0),iu(o,d,0,!0);break}e:{switch(E=o,F=O,F){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:iu(E,d,Vo,!ru);break e;case 2:$i=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(O=Ip+300-Ve(),10<O)){if(iu(E,d,Vo,!ru),yr(E,0,!0)!==0)break e;E.timeoutHandle=uw(Py.bind(null,E,x,$i,w1,Lp,d,Vo,e0,X0,ru,F,2,-0,0),O);break e}Py(E,x,$i,w1,Lp,d,Vo,e0,X0,ru,F,0,-0,0)}}break}while(!0);Kl(o)}function Py(o,d,x,E,O,F,ne,Ee,He,ht,Tt,Ft,vt,yt){if(o.timeoutHandle=-1,Ft=d.subtreeFlags,(Ft&8192||(Ft&16785408)===16785408)&&(Ff={stylesheets:null,count:0,unsuspend:wN},jy(d),Ft=_N(),Ft!==null)){o.cancelPendingCommit=Ft(qy.bind(null,o,d,F,x,E,O,ne,Ee,He,Tt,1,vt,yt)),iu(o,F,ne,!ht);return}qy(o,d,F,x,E,O,ne,Ee,He)}function BE(o){for(var d=o;;){var x=d.tag;if((x===0||x===11||x===15)&&d.flags&16384&&(x=d.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var E=0;E<x.length;E++){var O=x[E],F=O.getSnapshot;O=O.value;try{if(!y(F(),O))return!1}catch(ne){return!1}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function iu(o,d,x,E){d&=~kp,d&=~e0,o.suspendedLanes|=d,o.pingedLanes&=~d,E&&(o.warmLanes|=d),E=o.expirationTimes;for(var O=d;0<O;){var F=31-Qt(O),ne=1<<F;E[F]=-1,O&=~ne}x!==0&&Ar(o,x,d)}function b1(){return(Wn&6)===0?(Rf(0),!1):!0}function Mp(){if(mn!==null){if(Gn===0)var o=mn.return;else o=mn,cl=gs=null,F0(o),q0=null,bf=0,o=mn;for(;o!==null;)my(o.alternate,o),o=o.return;mn=null}}function Z0(o,d){var x=o.timeoutHandle;x!==-1&&(o.timeoutHandle=-1,nN(x)),x=o.cancelPendingCommit,x!==null&&(o.cancelPendingCommit=null,x()),Mp(),ma=o,mn=x=Fo(o.current,null),Cn=d,Gn=0,mo=null,ru=!1,$0=Zr(o,d),Rp=!1,X0=Vo=kp=e0=nu=Xa=0,$i=jf=null,Lp=!1,(d&8)!==0&&(d|=d&32);var E=o.entangledLanes;if(E!==0)for(o=o.entanglements,E&=d;0<E;){var O=31-Qt(E),F=1<<O;d|=o[O],E&=~F}return Sc=d,Hi(),x}function Fy(o,d){Er=null,de.H=l1,d===pe||d===be?(d=tt(),Gn=3):d===ve?(d=tt(),Gn=4):Gn=d===ty?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,mo=d,mn===null&&(Xa=1,h1(o,cn(d,o.current)))}function My(){var o=de.H;return de.H=l1,o===null?l1:o}function By(){var o=de.A;return de.A=FE,o}function Bp(){Xa=4,ru||(Cn&4194048)!==Cn&&qo.current!==null||($0=!0),(nu&134217727)===0&&(e0&134217727)===0||ma===null||iu(ma,Cn,Vo,!1)}function Up(o,d,x){var E=Wn;Wn|=2;var O=My(),F=By();(ma!==o||Cn!==d)&&(w1=null,Z0(o,d)),d=!1;var ne=Xa;e:do try{if(Gn!==0&&mn!==null){var Ee=mn,He=mo;switch(Gn){case 8:Mp(),ne=6;break e;case 3:case 2:case 9:case 6:qo.current===null&&(d=!0);var ht=Gn;if(Gn=0,mo=null,J0(o,Ee,He,ht),x&&$0){ne=0;break e}break;default:ht=Gn,Gn=0,mo=null,J0(o,Ee,He,ht)}}UE(),ne=Xa;break}catch(Tt){Fy(o,Tt)}while(!0);return d&&o.shellSuspendCounter++,cl=gs=null,Wn=E,de.H=O,de.A=F,mn===null&&(ma=null,Cn=0,Hi()),ne}function UE(){for(;mn!==null;)Uy(mn)}function zE(o,d){var x=Wn;Wn|=2;var E=My(),O=By();ma!==o||Cn!==d?(w1=null,y1=Ve()+500,Z0(o,d)):$0=Zr(o,d);e:do try{if(Gn!==0&&mn!==null){d=mn;var F=mo;t:switch(Gn){case 1:Gn=0,mo=null,J0(o,d,F,1);break;case 2:case 9:if(De(F)){Gn=0,mo=null,zy(d);break}d=function(){Gn!==2&&Gn!==9||ma!==o||(Gn=7),Kl(o)},F.then(d,d);break e;case 3:Gn=7;break e;case 4:Gn=5;break e;case 7:De(F)?(Gn=0,mo=null,zy(d)):(Gn=0,mo=null,J0(o,d,F,7));break;case 5:var ne=null;switch(mn.tag){case 26:ne=mn.memoizedState;case 5:case 27:var Ee=mn;if(!ne||_w(ne)){Gn=0,mo=null;var He=Ee.sibling;if(He!==null)mn=He;else{var ht=Ee.return;ht!==null?(mn=ht,_1(ht)):mn=null}break t}}Gn=0,mo=null,J0(o,d,F,5);break;case 6:Gn=0,mo=null,J0(o,d,F,6);break;case 8:Mp(),Xa=6;break e;default:throw Error(n(462))}}HE();break}catch(Tt){Fy(o,Tt)}while(!0);return cl=gs=null,de.H=E,de.A=O,Wn=x,mn!==null?0:(ma=null,Cn=0,Hi(),Xa)}function HE(){for(;mn!==null&&!rt();)Uy(mn)}function Uy(o){var d=hy(o.alternate,o,Sc);o.memoizedProps=o.pendingProps,d===null?_1(o):mn=d}function zy(o){var d=o,x=d.alternate;switch(d.tag){case 15:case 0:d=oy(x,d,d.pendingProps,d.type,void 0,Cn);break;case 11:d=oy(x,d,d.pendingProps,d.type.render,d.ref,Cn);break;case 5:F0(d);default:my(x,d),d=mn=Pu(d,Sc),d=hy(x,d,Sc)}o.memoizedProps=o.pendingProps,d===null?_1(o):mn=d}function J0(o,d,x,E){cl=gs=null,F0(d),q0=null,bf=0;var O=d.return;try{if(RE(o,O,d,x,Cn)){Xa=1,h1(o,cn(x,o.current)),mn=null;return}}catch(F){if(O!==null)throw mn=O,F;Xa=1,h1(o,cn(x,o.current)),mn=null;return}d.flags&32768?(Tn||E===1?o=!0:$0||(Cn&536870912)!==0?o=!1:(ru=o=!0,(E===2||E===9||E===3||E===6)&&(E=qo.current,E!==null&&E.tag===13&&(E.flags|=16384))),Hy(d,o)):_1(d)}function _1(o){var d=o;do{if((d.flags&32768)!==0){Hy(d,ru);return}o=d.return;var x=LE(d.alternate,d,Sc);if(x!==null){mn=x;return}if(d=d.sibling,d!==null){mn=d;return}mn=d=o}while(d!==null);Xa===0&&(Xa=5)}function Hy(o,d){do{var x=IE(o.alternate,o);if(x!==null){x.flags&=32767,mn=x;return}if(x=o.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!d&&(o=o.sibling,o!==null)){mn=o;return}mn=o=x}while(o!==null);Xa=6,mn=null}function qy(o,d,x,E,O,F,ne,Ee,He){o.cancelPendingCommit=null;do E1();while(Ks!==0);if((Wn&6)!==0)throw Error(n(327));if(d!==null){if(d===o.current)throw Error(n(177));if(F=d.lanes|d.childLanes,F|=Ma,jn(o,x,F,ne,Ee,He),o===ma&&(mn=ma=null,Cn=0),Y0=d,su=o,K0=x,Dp=F,Pp=O,Ly=E,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,GE(et,function(){return Xy(),null})):(o.callbackNode=null,o.callbackPriority=0),E=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||E){E=de.T,de.T=null,O=we.p,we.p=2,ne=Wn,Wn|=4;try{DE(o,d,x)}finally{Wn=ne,we.p=O,de.T=E}}Ks=1,Vy(),Wy(),Gy()}}function Vy(){if(Ks===1){Ks=0;var o=su,d=Y0,x=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||x){x=de.T,de.T=null;var E=we.p;we.p=2;var O=Wn;Wn|=4;try{Ay(d,o);var F=Jp,ne=U(o.containerInfo),Ee=F.focusedElem,He=F.selectionRange;if(ne!==Ee&&Ee&&Ee.ownerDocument&&k(Ee.ownerDocument.documentElement,Ee)){if(He!==null&&Z(Ee)){var ht=He.start,Tt=He.end;if(Tt===void 0&&(Tt=ht),"selectionStart"in Ee)Ee.selectionStart=ht,Ee.selectionEnd=Math.min(Tt,Ee.value.length);else{var Ft=Ee.ownerDocument||document,vt=Ft&&Ft.defaultView||window;if(vt.getSelection){var yt=vt.getSelection(),zr=Ee.textContent.length,Tr=Math.min(He.start,zr),na=He.end===void 0?Tr:Math.min(He.end,zr);!yt.extend&&Tr>na&&(ne=na,na=Tr,Tr=ne);var at=T(Ee,Tr),Ye=T(Ee,na);if(at&&Ye&&(yt.rangeCount!==1||yt.anchorNode!==at.node||yt.anchorOffset!==at.offset||yt.focusNode!==Ye.node||yt.focusOffset!==Ye.offset)){var ct=Ft.createRange();ct.setStart(at.node,at.offset),yt.removeAllRanges(),Tr>na?(yt.addRange(ct),yt.extend(Ye.node,Ye.offset)):(ct.setEnd(Ye.node,Ye.offset),yt.addRange(ct))}}}}for(Ft=[],yt=Ee;yt=yt.parentNode;)yt.nodeType===1&&Ft.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<Ft.length;Ee++){var Rt=Ft[Ee];Rt.element.scrollLeft=Rt.left,Rt.element.scrollTop=Rt.top}}D1=!!Zp,Jp=Zp=null}finally{Wn=O,we.p=E,de.T=x}}o.current=d,Ks=2}}function Wy(){if(Ks===2){Ks=0;var o=su,d=Y0,x=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||x){x=de.T,de.T=null;var E=we.p;we.p=2;var O=Wn;Wn|=4;try{_y(o,d.alternate,d)}finally{Wn=O,we.p=E,de.T=x}}Ks=3}}function Gy(){if(Ks===4||Ks===3){Ks=0,ge();var o=su,d=Y0,x=K0,E=Ly;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Ks=5:(Ks=0,Y0=su=null,$y(o,o.pendingLanes));var O=o.pendingLanes;if(O===0&&(au=null),tn(x),d=d.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(rr,d,void 0,(d.current.flags&128)===128)}catch(He){}if(E!==null){d=de.T,O=we.p,we.p=2,de.T=null;try{for(var F=o.onRecoverableError,ne=0;ne<E.length;ne++){var Ee=E[ne];F(Ee.value,{componentStack:Ee.stack})}}finally{de.T=d,we.p=O}}(K0&3)!==0&&E1(),Kl(o),O=o.pendingLanes,(x&4194090)!==0&&(O&42)!==0?o===Fp?Of++:(Of=0,Fp=o):Of=0,Rf(0)}}function $y(o,d){(o.pooledCacheLanes&=d)===0&&(d=o.pooledCache,d!=null&&(o.pooledCache=null,Uu(d)))}function E1(o){return Vy(),Wy(),Gy(),Xy()}function Xy(){if(Ks!==5)return!1;var o=su,d=Dp;Dp=0;var x=tn(K0),E=de.T,O=we.p;try{we.p=32>x?32:x,de.T=null,x=Pp,Pp=null;var F=su,ne=K0;if(Ks=0,Y0=su=null,K0=0,(Wn&6)!==0)throw Error(n(331));var Ee=Wn;if(Wn|=4,Ry(F.current),Ty(F,F.current,ne,x),Wn=Ee,Rf(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(rr,F)}catch(He){}return!0}finally{we.p=O,de.T=E,$y(o,d)}}function Yy(o,d,x){d=cn(x,d),d=mp(o.stateNode,d,2),o=It(o,d,2),o!==null&&(xa(o,2),Kl(o))}function la(o,d,x){if(o.tag===3)Yy(o,o,x);else for(;d!==null;){if(d.tag===3){Yy(d,o,x);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(au===null||!au.has(E))){o=cn(x,o),x=Qv(2),E=It(d,x,2),E!==null&&(ey(x,E,d,o),xa(E,2),Kl(E));break}}d=d.return}}function zp(o,d,x){var E=o.pingCache;if(E===null){E=o.pingCache=new ME;var O=new Set;E.set(d,O)}else O=E.get(d),O===void 0&&(O=new Set,E.set(d,O));O.has(x)||(Rp=!0,O.add(x),o=qE.bind(null,o,d,x),d.then(o,o))}function qE(o,d,x){var E=o.pingCache;E!==null&&E.delete(d),o.pingedLanes|=o.suspendedLanes&x,o.warmLanes&=~x,ma===o&&(Cn&x)===x&&(Xa===4||Xa===3&&(Cn&62914560)===Cn&&300>Ve()-Ip?(Wn&2)===0&&Z0(o,0):kp|=x,X0===Cn&&(X0=0)),Kl(o)}function Ky(o,d){d===0&&(d=Un()),o=nl(o,d),o!==null&&(xa(o,d),Kl(o))}function VE(o){var d=o.memoizedState,x=0;d!==null&&(x=d.retryLane),Ky(o,x)}function WE(o,d){var x=0;switch(o.tag){case 13:var E=o.stateNode,O=o.memoizedState;O!==null&&(x=O.retryLane);break;case 19:E=o.stateNode;break;case 22:E=o.stateNode._retryCache;break;default:throw Error(n(314))}E!==null&&E.delete(d),Ky(o,x)}function GE(o,d){return gt(o,d)}var N1=null,Q0=null,Hp=!1,S1=!1,qp=!1,t0=0;function Kl(o){o!==Q0&&o.next===null&&(Q0===null?N1=Q0=o:Q0=Q0.next=o),S1=!0,Hp||(Hp=!0,XE())}function Rf(o,d){if(!qp&&S1){qp=!0;do for(var x=!1,E=N1;E!==null;){if(o!==0){var O=E.pendingLanes;if(O===0)var F=0;else{var ne=E.suspendedLanes,Ee=E.pingedLanes;F=(1<<31-Qt(42|o)+1)-1,F&=O&~(ne&~Ee),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(x=!0,ew(E,F))}else F=Cn,F=yr(E,E===ma?F:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(F&3)===0||Zr(E,F)||(x=!0,ew(E,F));E=E.next}while(x);qp=!1}}function $E(){Zy()}function Zy(){S1=Hp=!1;var o=0;t0!==0&&(rN()&&(o=t0),t0=0);for(var d=Ve(),x=null,E=N1;E!==null;){var O=E.next,F=Jy(E,d);F===0?(E.next=null,x===null?N1=O:x.next=O,O===null&&(Q0=x)):(x=E,(o!==0||(F&3)!==0)&&(S1=!0)),E=O}Rf(o)}function Jy(o,d){for(var x=o.suspendedLanes,E=o.pingedLanes,O=o.expirationTimes,F=o.pendingLanes&-62914561;0<F;){var ne=31-Qt(F),Ee=1<<ne,He=O[ne];He===-1?((Ee&x)===0||(Ee&E)!==0)&&(O[ne]=Jr(Ee,d)):He<=d&&(o.expiredLanes|=Ee),F&=~Ee}if(d=ma,x=Cn,x=yr(o,o===d?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),E=o.callbackNode,x===0||o===d&&(Gn===2||Gn===9)||o.cancelPendingCommit!==null)return E!==null&&E!==null&&Ct(E),o.callbackNode=null,o.callbackPriority=0;if((x&3)===0||Zr(o,x)){if(d=x&-x,d===o.callbackPriority)return d;switch(E!==null&&Ct(E),tn(x)){case 2:case 8:x=Je;break;case 32:x=et;break;case 268435456:x=Mt;break;default:x=et}return E=Qy.bind(null,o),x=gt(x,E),o.callbackPriority=d,o.callbackNode=x,d}return E!==null&&E!==null&&Ct(E),o.callbackPriority=2,o.callbackNode=null,2}function Qy(o,d){if(Ks!==0&&Ks!==5)return o.callbackNode=null,o.callbackPriority=0,null;var x=o.callbackNode;if(E1()&&o.callbackNode!==x)return null;var E=Cn;return E=yr(o,o===ma?E:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),E===0?null:(Dy(o,E,d),Jy(o,Ve()),o.callbackNode!=null&&o.callbackNode===x?Qy.bind(null,o):null)}function ew(o,d){if(E1())return null;Dy(o,d,!0)}function XE(){aN(function(){(Wn&6)!==0?gt(Ue,$E):Zy()})}function Vp(){return t0===0&&(t0=Hs()),t0}function tw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:no(""+o)}function rw(o,d){var x=d.ownerDocument.createElement("input");return x.name=d.name,x.value=d.value,o.id&&x.setAttribute("form",o.id),d.parentNode.insertBefore(x,d),o=new FormData(o),x.parentNode.removeChild(x),o}function YE(o,d,x,E,O){if(d==="submit"&&x&&x.stateNode===O){var F=tw((O[hn]||null).action),ne=E.submitter;ne&&(d=(d=ne[hn]||null)?tw(d.formAction):ne.getAttribute("formAction"),d!==null&&(F=d,ne=null));var Ee=new ii("action","action",null,E,O);o.push({event:Ee,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(t0!==0){var He=ne?rw(O,ne):new FormData(O);Ho(x,{pending:!0,data:He,method:O.method,action:F},null,He)}}else typeof F=="function"&&(Ee.preventDefault(),He=ne?rw(O,ne):new FormData(O),Ho(x,{pending:!0,data:He,method:O.method,action:F},F,He))},currentTarget:O}]})}}for(var Wp=0;Wp<li.length;Wp++){var Gp=li[Wp],KE=Gp.toLowerCase(),ZE=Gp[0].toUpperCase()+Gp.slice(1);ha(KE,"on"+ZE)}ha(Cr,"onAnimationEnd"),ha(Ea,"onAnimationIteration"),ha(Wa,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(Na,"onTransitionRun"),ha(gn,"onTransitionStart"),ha(fa,"onTransitionCancel"),ha(La,"onTransitionEnd"),Ut("onMouseEnter",["mouseout","mouseover"]),Ut("onMouseLeave",["mouseout","mouseover"]),Ut("onPointerEnter",["pointerout","pointerover"]),Ut("onPointerLeave",["pointerout","pointerover"]),Ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kf));function nw(o,d){d=(d&4)!==0;for(var x=0;x<o.length;x++){var E=o[x],O=E.event;E=E.listeners;e:{var F=void 0;if(d)for(var ne=E.length-1;0<=ne;ne--){var Ee=E[ne],He=Ee.instance,ht=Ee.currentTarget;if(Ee=Ee.listener,He!==F&&O.isPropagationStopped())break e;F=Ee,O.currentTarget=ht;try{F(O)}catch(Tt){f1(Tt)}O.currentTarget=null,F=He}else for(ne=0;ne<E.length;ne++){if(Ee=E[ne],He=Ee.instance,ht=Ee.currentTarget,Ee=Ee.listener,He!==F&&O.isPropagationStopped())break e;F=Ee,O.currentTarget=ht;try{F(O)}catch(Tt){f1(Tt)}O.currentTarget=null,F=He}}}}function pn(o,d){var x=d[rn];x===void 0&&(x=d[rn]=new Set);var E=o+"__bubble";x.has(E)||(aw(d,o,2,!1),x.add(E))}function $p(o,d,x){var E=0;d&&(E|=4),aw(x,o,E,d)}var A1="_reactListening"+Math.random().toString(36).slice(2);function Xp(o){if(!o[A1]){o[A1]=!0,ft.forEach(function(x){x!=="selectionchange"&&(JE.has(x)||$p(x,!1,o),$p(x,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[A1]||(d[A1]=!0,$p("selectionchange",!1,d))}}function aw(o,d,x,E){switch(Tw(d)){case 2:var O=SN;break;case 8:O=AN;break;default:O=l2}x=O.bind(null,d,x,o),O=void 0,!Ir||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),E?O!==void 0?o.addEventListener(d,x,{capture:!0,passive:O}):o.addEventListener(d,x,!0):O!==void 0?o.addEventListener(d,x,{passive:O}):o.addEventListener(d,x,!1)}function Yp(o,d,x,E,O){var F=E;if((d&1)===0&&(d&2)===0&&E!==null)e:for(;;){if(E===null)return;var ne=E.tag;if(ne===3||ne===4){var Ee=E.stateNode.containerInfo;if(Ee===O)break;if(ne===4)for(ne=E.return;ne!==null;){var He=ne.tag;if((He===3||He===4)&&ne.stateNode.containerInfo===O)return;ne=ne.return}for(;Ee!==null;){if(ne=Oe(Ee),ne===null)return;if(He=ne.tag,He===5||He===6||He===26||He===27){E=F=ne;continue e}Ee=Ee.parentNode}}E=E.return}Ei(function(){var ht=F,Tt=ya(x),Ft=[];e:{var vt=Rs.get(o);if(vt!==void 0){var yt=ii,zr=o;switch(o){case"keypress":if(ko(x)===0)break e;case"keydown":case"keyup":yt=Io;break;case"focusin":zr="focus",yt=Bi;break;case"focusout":zr="blur",yt=Bi;break;case"beforeblur":case"afterblur":yt=Bi;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=bn;break;case Cr:case Ea:case Wa:yt=Du;break;case La:yt=ue;break;case"scroll":case"scrollend":yt=ts;break;case"wheel":yt=We;break;case"copy":case"cut":case"paste":yt=Wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=lo;break;case"toggle":case"beforetoggle":yt=Nt}var Tr=(d&4)!==0,na=!Tr&&(o==="scroll"||o==="scrollend"),at=Tr?vt!==null?vt+"Capture":null:vt;Tr=[];for(var Ye=ht,ct;Ye!==null;){var Rt=Ye;if(ct=Rt.stateNode,Rt=Rt.tag,Rt!==5&&Rt!==26&&Rt!==27||ct===null||at===null||(Rt=fr(Ye,at),Rt!=null&&Tr.push(Lf(Ye,Rt,ct))),na)break;Ye=Ye.return}0<Tr.length&&(vt=new yt(vt,zr,null,x,Tt),Ft.push({event:vt,listeners:Tr}))}}if((d&7)===0){e:{if(vt=o==="mouseover"||o==="pointerover",yt=o==="mouseout"||o==="pointerout",vt&&x!==Ro&&(zr=x.relatedTarget||x.fromElement)&&(Oe(zr)||zr[sa]))break e;if((yt||vt)&&(vt=Tt.window===Tt?Tt:(vt=Tt.ownerDocument)?vt.defaultView||vt.parentWindow:window,yt?(zr=x.relatedTarget||x.toElement,yt=ht,zr=zr?Oe(zr):null,zr!==null&&(na=s(zr),Tr=zr.tag,zr!==na||Tr!==5&&Tr!==27&&Tr!==6)&&(zr=null)):(yt=null,zr=ht),yt!==zr)){if(Tr=Mi,Rt="onMouseLeave",at="onMouseEnter",Ye="mouse",(o==="pointerout"||o==="pointerover")&&(Tr=lo,Rt="onPointerLeave",at="onPointerEnter",Ye="pointer"),na=yt==null?vt:it(yt),ct=zr==null?vt:it(zr),vt=new Tr(Rt,Ye+"leave",yt,x,Tt),vt.target=na,vt.relatedTarget=ct,Rt=null,Oe(Tt)===ht&&(Tr=new Tr(at,Ye+"enter",zr,x,Tt),Tr.target=ct,Tr.relatedTarget=na,Rt=Tr),na=Rt,yt&&zr)t:{for(Tr=yt,at=zr,Ye=0,ct=Tr;ct;ct=ed(ct))Ye++;for(ct=0,Rt=at;Rt;Rt=ed(Rt))ct++;for(;0<Ye-ct;)Tr=ed(Tr),Ye--;for(;0<ct-Ye;)at=ed(at),ct--;for(;Ye--;){if(Tr===at||at!==null&&Tr===at.alternate)break t;Tr=ed(Tr),at=ed(at)}Tr=null}else Tr=null;yt!==null&&sw(Ft,vt,yt,Tr,!1),zr!==null&&na!==null&&sw(Ft,na,zr,Tr,!0)}}e:{if(vt=ht?it(ht):window,yt=vt.nodeName&&vt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&vt.type==="file")var mr=Pl;else if(Os(vt))if(Do)mr=f;else{mr=oe;var fn=rs}else yt=vt.nodeName,!yt||yt.toLowerCase()!=="input"||vt.type!=="checkbox"&&vt.type!=="radio"?ht&&vr(ht.elementType)&&(mr=Pl):mr=l;if(mr&&(mr=mr(o,ht))){fs(Ft,mr,x,Tt);break e}fn&&fn(o,vt,ht),o==="focusout"&&ht&&vt.type==="number"&&ht.memoizedProps.value!=null&&ot(vt,"number",vt.value)}switch(fn=ht?it(ht):window,o){case"focusin":(Os(fn)||fn.contentEditable==="true")&&(xe=fn,Ie=ht,qe=null);break;case"focusout":qe=Ie=xe=null;break;case"mousedown":Ge=!0;break;case"contextmenu":case"mouseup":case"dragend":Ge=!1,Qe(Ft,x,Tt);break;case"selectionchange":if(ie)break;case"keydown":case"keyup":Qe(Ft,x,Tt)}var _r;if(nr)e:{switch(o){case"compositionstart":var Rr="onCompositionStart";break e;case"compositionend":Rr="onCompositionEnd";break e;case"compositionupdate":Rr="onCompositionUpdate";break e}Rr=void 0}else _a?Ln(o,x)&&(Rr="onCompositionEnd"):o==="keydown"&&x.keyCode===229&&(Rr="onCompositionStart");Rr&&(Or&&x.locale!=="ko"&&(_a||Rr!=="onCompositionStart"?Rr==="onCompositionEnd"&&_a&&(_r=Fi()):(si=Tt,Qo="value"in si?si.value:si.textContent,_a=!0)),fn=C1(ht,Rr),0<fn.length&&(Rr=new oo(Rr,o,null,x,Tt),Ft.push({event:Rr,listeners:fn}),_r?Rr.data=_r:(_r=oa(x),_r!==null&&(Rr.data=_r)))),(_r=Dr?da(o,x):Ni(o,x))&&(Rr=C1(ht,"onBeforeInput"),0<Rr.length&&(fn=new oo("onBeforeInput","beforeinput",null,x,Tt),Ft.push({event:fn,listeners:Rr}),fn.data=_r)),YE(Ft,o,ht,x,Tt)}nw(Ft,d)})}function Lf(o,d,x){return{instance:o,listener:d,currentTarget:x}}function C1(o,d){for(var x=d+"Capture",E=[];o!==null;){var O=o,F=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||F===null||(O=fr(o,x),O!=null&&E.unshift(Lf(o,O,F)),O=fr(o,d),O!=null&&E.push(Lf(o,O,F))),o.tag===3)return E;o=o.return}return[]}function ed(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function sw(o,d,x,E,O){for(var F=d._reactName,ne=[];x!==null&&x!==E;){var Ee=x,He=Ee.alternate,ht=Ee.stateNode;if(Ee=Ee.tag,He!==null&&He===E)break;Ee!==5&&Ee!==26&&Ee!==27||ht===null||(He=ht,O?(ht=fr(x,F),ht!=null&&ne.unshift(Lf(x,ht,He))):O||(ht=fr(x,F),ht!=null&&ne.push(Lf(x,ht,He)))),x=x.return}ne.length!==0&&o.push({event:d,listeners:ne})}var QE=/\r\n?/g,eN=/\u0000|\uFFFD/g;function iw(o){return(typeof o=="string"?o:""+o).replace(QE,`
`).replace(eN,"")}function ow(o,d){return d=iw(d),iw(o)===d}function T1(){}function ra(o,d,x,E,O,F){switch(x){case"children":typeof E=="string"?d==="body"||d==="textarea"&&E===""||Fa(o,E):(typeof E=="number"||typeof E=="bigint")&&d!=="body"&&Fa(o,""+E);break;case"className":yn(o,"class",E);break;case"tabIndex":yn(o,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(o,x,E);break;case"style":bs(o,E,F);break;case"data":if(d!=="object"){yn(o,"data",E);break}case"src":case"href":if(E===""&&(d!=="a"||x!=="href")){o.removeAttribute(x);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){o.removeAttribute(x);break}E=no(""+E),o.setAttribute(x,E);break;case"action":case"formAction":if(typeof E=="function"){o.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(x==="formAction"?(d!=="input"&&ra(o,d,"name",O.name,O,null),ra(o,d,"formEncType",O.formEncType,O,null),ra(o,d,"formMethod",O.formMethod,O,null),ra(o,d,"formTarget",O.formTarget,O,null)):(ra(o,d,"encType",O.encType,O,null),ra(o,d,"method",O.method,O,null),ra(o,d,"target",O.target,O,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){o.removeAttribute(x);break}E=no(""+E),o.setAttribute(x,E);break;case"onClick":E!=null&&(o.onclick=T1);break;case"onScroll":E!=null&&pn("scroll",o);break;case"onScrollEnd":E!=null&&pn("scrollend",o);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(O.children!=null)throw Error(n(60));o.innerHTML=x}}break;case"multiple":o.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":o.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){o.removeAttribute("xlink:href");break}x=no(""+E),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(x,""+E):o.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(x,""):o.removeAttribute(x);break;case"capture":case"download":E===!0?o.setAttribute(x,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(x,E):o.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?o.setAttribute(x,E):o.removeAttribute(x);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?o.removeAttribute(x):o.setAttribute(x,E);break;case"popover":pn("beforetoggle",o),pn("toggle",o),_t(o,"popover",E);break;case"xlinkActuate":Sr(o,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":Sr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":Sr(o,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":Sr(o,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":Sr(o,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":Sr(o,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":Sr(o,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":Sr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":Sr(o,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":_t(o,"is",E);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=wn.get(x)||x,_t(o,x,E))}}function Kp(o,d,x,E,O,F){switch(x){case"style":bs(o,E,F);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(n(61));if(x=E.__html,x!=null){if(O.children!=null)throw Error(n(60));o.innerHTML=x}}break;case"children":typeof E=="string"?Fa(o,E):(typeof E=="number"||typeof E=="bigint")&&Fa(o,""+E);break;case"onScroll":E!=null&&pn("scroll",o);break;case"onScrollEnd":E!=null&&pn("scrollend",o);break;case"onClick":E!=null&&(o.onclick=T1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mt.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(O=x.endsWith("Capture"),d=x.slice(2,O?x.length-7:void 0),F=o[hn]||null,F=F!=null?F[x]:null,typeof F=="function"&&o.removeEventListener(d,F,O),typeof E=="function")){typeof F!="function"&&F!==null&&(x in o?o[x]=null:o.hasAttribute(x)&&o.removeAttribute(x)),o.addEventListener(d,E,O);break e}x in o?o[x]=E:E===!0?o.setAttribute(x,""):_t(o,x,E)}}}function Zs(o,d,x){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",o),pn("load",o);var E=!1,O=!1,F;for(F in x)if(x.hasOwnProperty(F)){var ne=x[F];if(ne!=null)switch(F){case"src":E=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:ra(o,d,F,ne,x,null)}}O&&ra(o,d,"srcSet",x.srcSet,x,null),E&&ra(o,d,"src",x.src,x,null);return;case"input":pn("invalid",o);var Ee=F=ne=O=null,He=null,ht=null;for(E in x)if(x.hasOwnProperty(E)){var Tt=x[E];if(Tt!=null)switch(E){case"name":O=Tt;break;case"type":ne=Tt;break;case"checked":He=Tt;break;case"defaultChecked":ht=Tt;break;case"value":F=Tt;break;case"defaultValue":Ee=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(n(137,d));break;default:ra(o,d,E,Tt,x,null)}}Oa(o,F,Ee,He,ht,ne,O,!1),Oo(o);return;case"select":pn("invalid",o),E=ne=F=null;for(O in x)if(x.hasOwnProperty(O)&&(Ee=x[O],Ee!=null))switch(O){case"value":F=Ee;break;case"defaultValue":ne=Ee;break;case"multiple":E=Ee;default:ra(o,d,O,Ee,x,null)}d=F,x=ne,o.multiple=!!E,d!=null?je(o,!!E,d,!1):x!=null&&je(o,!!E,x,!0);return;case"textarea":pn("invalid",o),F=O=E=null;for(ne in x)if(x.hasOwnProperty(ne)&&(Ee=x[ne],Ee!=null))switch(ne){case"value":E=Ee;break;case"defaultValue":O=Ee;break;case"children":F=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(91));break;default:ra(o,d,ne,Ee,x,null)}ua(o,E,O,F),Oo(o);return;case"option":for(He in x)if(x.hasOwnProperty(He)&&(E=x[He],E!=null))switch(He){case"selected":o.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:ra(o,d,He,E,x,null)}return;case"dialog":pn("beforetoggle",o),pn("toggle",o),pn("cancel",o),pn("close",o);break;case"iframe":case"object":pn("load",o);break;case"video":case"audio":for(E=0;E<kf.length;E++)pn(kf[E],o);break;case"image":pn("error",o),pn("load",o);break;case"details":pn("toggle",o);break;case"embed":case"source":case"link":pn("error",o),pn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ht in x)if(x.hasOwnProperty(ht)&&(E=x[ht],E!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:ra(o,d,ht,E,x,null)}return;default:if(vr(d)){for(Tt in x)x.hasOwnProperty(Tt)&&(E=x[Tt],E!==void 0&&Kp(o,d,Tt,E,x,void 0));return}}for(Ee in x)x.hasOwnProperty(Ee)&&(E=x[Ee],E!=null&&ra(o,d,Ee,E,x,null))}function tN(o,d,x,E){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,F=null,ne=null,Ee=null,He=null,ht=null,Tt=null;for(yt in x){var Ft=x[yt];if(x.hasOwnProperty(yt)&&Ft!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":He=Ft;default:E.hasOwnProperty(yt)||ra(o,d,yt,null,E,Ft)}}for(var vt in E){var yt=E[vt];if(Ft=x[vt],E.hasOwnProperty(vt)&&(yt!=null||Ft!=null))switch(vt){case"type":F=yt;break;case"name":O=yt;break;case"checked":ht=yt;break;case"defaultChecked":Tt=yt;break;case"value":ne=yt;break;case"defaultValue":Ee=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(n(137,d));break;default:yt!==Ft&&ra(o,d,vt,yt,E,Ft)}}vn(o,ne,Ee,He,ht,Tt,F,O);return;case"select":yt=ne=Ee=vt=null;for(F in x)if(He=x[F],x.hasOwnProperty(F)&&He!=null)switch(F){case"value":break;case"multiple":yt=He;default:E.hasOwnProperty(F)||ra(o,d,F,null,E,He)}for(O in E)if(F=E[O],He=x[O],E.hasOwnProperty(O)&&(F!=null||He!=null))switch(O){case"value":vt=F;break;case"defaultValue":Ee=F;break;case"multiple":ne=F;default:F!==He&&ra(o,d,O,F,E,He)}d=Ee,x=ne,E=yt,vt!=null?je(o,!!x,vt,!1):!!E!=!!x&&(d!=null?je(o,!!x,d,!0):je(o,!!x,x?[]:"",!1));return;case"textarea":yt=vt=null;for(Ee in x)if(O=x[Ee],x.hasOwnProperty(Ee)&&O!=null&&!E.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:ra(o,d,Ee,null,E,O)}for(ne in E)if(O=E[ne],F=x[ne],E.hasOwnProperty(ne)&&(O!=null||F!=null))switch(ne){case"value":vt=O;break;case"defaultValue":yt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==F&&ra(o,d,ne,O,E,F)}xr(o,vt,yt);return;case"option":for(var zr in x)if(vt=x[zr],x.hasOwnProperty(zr)&&vt!=null&&!E.hasOwnProperty(zr))switch(zr){case"selected":o.selected=!1;break;default:ra(o,d,zr,null,E,vt)}for(He in E)if(vt=E[He],yt=x[He],E.hasOwnProperty(He)&&vt!==yt&&(vt!=null||yt!=null))switch(He){case"selected":o.selected=vt&&typeof vt!="function"&&typeof vt!="symbol";break;default:ra(o,d,He,vt,E,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tr in x)vt=x[Tr],x.hasOwnProperty(Tr)&&vt!=null&&!E.hasOwnProperty(Tr)&&ra(o,d,Tr,null,E,vt);for(ht in E)if(vt=E[ht],yt=x[ht],E.hasOwnProperty(ht)&&vt!==yt&&(vt!=null||yt!=null))switch(ht){case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(n(137,d));break;default:ra(o,d,ht,vt,E,yt)}return;default:if(vr(d)){for(var na in x)vt=x[na],x.hasOwnProperty(na)&&vt!==void 0&&!E.hasOwnProperty(na)&&Kp(o,d,na,void 0,E,vt);for(Tt in E)vt=E[Tt],yt=x[Tt],!E.hasOwnProperty(Tt)||vt===yt||vt===void 0&&yt===void 0||Kp(o,d,Tt,vt,E,yt);return}}for(var at in x)vt=x[at],x.hasOwnProperty(at)&&vt!=null&&!E.hasOwnProperty(at)&&ra(o,d,at,null,E,vt);for(Ft in E)vt=E[Ft],yt=x[Ft],!E.hasOwnProperty(Ft)||vt===yt||vt==null&&yt==null||ra(o,d,Ft,vt,E,yt)}var Zp=null,Jp=null;function j1(o){return o.nodeType===9?o:o.ownerDocument}function lw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cw(o,d){if(o===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&d==="foreignObject"?0:o}function Qp(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var e2=null;function rN(){var o=window.event;return o&&o.type==="popstate"?o===e2?!1:(e2=o,!0):(e2=null,!1)}var uw=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,aN=typeof queueMicrotask=="function"?queueMicrotask:typeof dw!="undefined"?function(o){return dw.resolve(null).then(o).catch(sN)}:uw;function sN(o){setTimeout(function(){throw o})}function ou(o){return o==="head"}function fw(o,d){var x=d,E=0,O=0;do{var F=x.nextSibling;if(o.removeChild(x),F&&F.nodeType===8)if(x=F.data,x==="/$"){if(0<E&&8>E){x=E;var ne=o.ownerDocument;if(x&1&&If(ne.documentElement),x&2&&If(ne.body),x&4)for(x=ne.head,If(x),ne=x.firstChild;ne;){var Ee=ne.nextSibling,He=ne.nodeName;ne[Ce]||He==="SCRIPT"||He==="STYLE"||He==="LINK"&&ne.rel.toLowerCase()==="stylesheet"||x.removeChild(ne),ne=Ee}}if(O===0){o.removeChild(F),Hf(d);return}O--}else x==="$"||x==="$?"||x==="$!"?O++:E=x.charCodeAt(0)-48;else E=0;x=F}while(x);Hf(d)}function t2(o){var d=o.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var x=d;switch(d=d.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":t2(x),Te(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}o.removeChild(x)}}function iN(o,d,x,E){for(;o.nodeType===1;){var O=x;if(o.nodeName.toLowerCase()!==d.toLowerCase()){if(!E&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(E){if(!o[Ce])switch(d){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(F=o.getAttribute("rel"),F==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(F!==O.rel||o.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||o.getAttribute("title")!==(O.title==null?null:O.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(F=o.getAttribute("src"),(F!==(O.src==null?null:O.src)||o.getAttribute("type")!==(O.type==null?null:O.type)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&F&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(d==="input"&&o.type==="hidden"){var F=O.name==null?null:""+O.name;if(O.type==="hidden"&&o.getAttribute("name")===F)return o}else return o;if(o=pl(o.nextSibling),o===null)break}return null}function oN(o,d,x){if(d==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!x||(o=pl(o.nextSibling),o===null))return null;return o}function r2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function lN(o,d){var x=o.ownerDocument;if(o.data!=="$?"||x.readyState==="complete")d();else{var E=function(){d(),x.removeEventListener("DOMContentLoaded",E)};x.addEventListener("DOMContentLoaded",E),o._reactRetry=E}}function pl(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return o}var n2=null;function hw(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var x=o.data;if(x==="$"||x==="$!"||x==="$?"){if(d===0)return o;d--}else x==="/$"&&d++}o=o.previousSibling}return null}function gw(o,d,x){switch(d=j1(x),o){case"html":if(o=d.documentElement,!o)throw Error(n(452));return o;case"head":if(o=d.head,!o)throw Error(n(453));return o;case"body":if(o=d.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function If(o){for(var d=o.attributes;d.length;)o.removeAttributeNode(d[0]);Te(o)}var Wo=new Map,mw=new Set;function O1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ac=we.d;we.d={f:cN,r:uN,D:dN,C:fN,L:hN,m:gN,X:pN,S:mN,M:xN};function cN(){var o=Ac.f(),d=b1();return o||d}function uN(o){var d=Fe(o);d!==null&&d.tag===5&&d.type==="form"?Ku(d):Ac.r(o)}var td=typeof document=="undefined"?null:document;function pw(o,d,x){var E=td;if(E&&typeof d=="string"&&d){var O=Nn(d);O='link[rel="'+o+'"][href="'+O+'"]',typeof x=="string"&&(O+='[crossorigin="'+x+'"]'),mw.has(O)||(mw.add(O),o={rel:o,crossOrigin:x,href:d},E.querySelector(O)===null&&(d=E.createElement("link"),Zs(d,"link",o),Ze(d),E.head.appendChild(d)))}}function dN(o){Ac.D(o),pw("dns-prefetch",o,null)}function fN(o,d){Ac.C(o,d),pw("preconnect",o,d)}function hN(o,d,x){Ac.L(o,d,x);var E=td;if(E&&o&&d){var O='link[rel="preload"][as="'+Nn(d)+'"]';d==="image"&&x&&x.imageSrcSet?(O+='[imagesrcset="'+Nn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(O+='[imagesizes="'+Nn(x.imageSizes)+'"]')):O+='[href="'+Nn(o)+'"]';var F=O;switch(d){case"style":F=rd(o);break;case"script":F=nd(o)}Wo.has(F)||(o=m({rel:"preload",href:d==="image"&&x&&x.imageSrcSet?void 0:o,as:d},x),Wo.set(F,o),E.querySelector(O)!==null||d==="style"&&E.querySelector(Df(F))||d==="script"&&E.querySelector(Pf(F))||(d=E.createElement("link"),Zs(d,"link",o),Ze(d),E.head.appendChild(d)))}}function gN(o,d){Ac.m(o,d);var x=td;if(x&&o){var E=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+Nn(E)+'"][href="'+Nn(o)+'"]',F=O;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=nd(o)}if(!Wo.has(F)&&(o=m({rel:"modulepreload",href:o},d),Wo.set(F,o),x.querySelector(O)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Pf(F)))return}E=x.createElement("link"),Zs(E,"link",o),Ze(E),x.head.appendChild(E)}}}function mN(o,d,x){Ac.S(o,d,x);var E=td;if(E&&o){var O=wt(E).hoistableStyles,F=rd(o);d=d||"default";var ne=O.get(F);if(!ne){var Ee={loading:0,preload:null};if(ne=E.querySelector(Df(F)))Ee.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":d},x),(x=Wo.get(F))&&a2(o,x);var He=ne=E.createElement("link");Ze(He),Zs(He,"link",o),He._p=new Promise(function(ht,Tt){He.onload=ht,He.onerror=Tt}),He.addEventListener("load",function(){Ee.loading|=1}),He.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,R1(ne,d,E)}ne={type:"stylesheet",instance:ne,count:1,state:Ee},O.set(F,ne)}}}function pN(o,d){Ac.X(o,d);var x=td;if(x&&o){var E=wt(x).hoistableScripts,O=nd(o),F=E.get(O);F||(F=x.querySelector(Pf(O)),F||(o=m({src:o,async:!0},d),(d=Wo.get(O))&&s2(o,d),F=x.createElement("script"),Ze(F),Zs(F,"link",o),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},E.set(O,F))}}function xN(o,d){Ac.M(o,d);var x=td;if(x&&o){var E=wt(x).hoistableScripts,O=nd(o),F=E.get(O);F||(F=x.querySelector(Pf(O)),F||(o=m({src:o,async:!0,type:"module"},d),(d=Wo.get(O))&&s2(o,d),F=x.createElement("script"),Ze(F),Zs(F,"link",o),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},E.set(O,F))}}function xw(o,d,x,E){var O=(O=le.current)?O1(O):null;if(!O)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(d=rd(x.href),x=wt(O).hoistableStyles,E=x.get(d),E||(E={type:"style",instance:null,count:0,state:null},x.set(d,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){o=rd(x.href);var F=wt(O).hoistableStyles,ne=F.get(o);if(ne||(O=O.ownerDocument||O,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(o,ne),(F=O.querySelector(Df(o)))&&!F._p&&(ne.instance=F,ne.state.loading=5),Wo.has(o)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Wo.set(o,x),F||vN(O,o,x,ne.state))),d&&E===null)throw Error(n(528,""));return ne}if(d&&E!==null)throw Error(n(529,""));return null;case"script":return d=x.async,x=x.src,typeof x=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=nd(x),x=wt(O).hoistableScripts,E=x.get(d),E||(E={type:"script",instance:null,count:0,state:null},x.set(d,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function rd(o){return'href="'+Nn(o)+'"'}function Df(o){return'link[rel="stylesheet"]['+o+"]"}function vw(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function vN(o,d,x,E){o.querySelector('link[rel="preload"][as="style"]['+d+"]")?E.loading=1:(d=o.createElement("link"),E.preload=d,d.addEventListener("load",function(){return E.loading|=1}),d.addEventListener("error",function(){return E.loading|=2}),Zs(d,"link",x),Ze(d),o.head.appendChild(d))}function nd(o){return'[src="'+Nn(o)+'"]'}function Pf(o){return"script[async]"+o}function yw(o,d,x){if(d.count++,d.instance===null)switch(d.type){case"style":var E=o.querySelector('style[data-href~="'+Nn(x.href)+'"]');if(E)return d.instance=E,Ze(E),E;var O=m({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return E=(o.ownerDocument||o).createElement("style"),Ze(E),Zs(E,"style",O),R1(E,x.precedence,o),d.instance=E;case"stylesheet":O=rd(x.href);var F=o.querySelector(Df(O));if(F)return d.state.loading|=4,d.instance=F,Ze(F),F;E=vw(x),(O=Wo.get(O))&&a2(E,O),F=(o.ownerDocument||o).createElement("link"),Ze(F);var ne=F;return ne._p=new Promise(function(Ee,He){ne.onload=Ee,ne.onerror=He}),Zs(F,"link",E),d.state.loading|=4,R1(F,x.precedence,o),d.instance=F;case"script":return F=nd(x.src),(O=o.querySelector(Pf(F)))?(d.instance=O,Ze(O),O):(E=x,(O=Wo.get(F))&&(E=m({},x),s2(E,O)),o=o.ownerDocument||o,O=o.createElement("script"),Ze(O),Zs(O,"link",E),o.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(E=d.instance,d.state.loading|=4,R1(E,x.precedence,o));return d.instance}function R1(o,d,x){for(var E=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=E.length?E[E.length-1]:null,F=O,ne=0;ne<E.length;ne++){var Ee=E[ne];if(Ee.dataset.precedence===d)F=Ee;else if(F!==O)break}F?F.parentNode.insertBefore(o,F.nextSibling):(d=x.nodeType===9?x.head:x,d.insertBefore(o,d.firstChild))}function a2(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.title==null&&(o.title=d.title)}function s2(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.integrity==null&&(o.integrity=d.integrity)}var k1=null;function ww(o,d,x){if(k1===null){var E=new Map,O=k1=new Map;O.set(x,E)}else O=k1,E=O.get(x),E||(E=new Map,O.set(x,E));if(E.has(o))return E;for(E.set(o,null),x=x.getElementsByTagName(o),O=0;O<x.length;O++){var F=x[O];if(!(F[Ce]||F[On]||o==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=F.getAttribute(d)||"";ne=o+ne;var Ee=E.get(ne);Ee?Ee.push(F):E.set(ne,[F])}}return E}function bw(o,d,x){o=o.ownerDocument||o,o.head.insertBefore(x,d==="title"?o.querySelector("head > title"):null)}function yN(o,d,x){if(x===1||d.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return o=d.disabled,typeof d.precedence=="string"&&o==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function _w(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ff=null;function wN(){}function bN(o,d,x){if(Ff===null)throw Error(n(475));var E=Ff;if(d.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var O=rd(x.href),F=o.querySelector(Df(O));if(F){o=F._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(E.count++,E=L1.bind(E),o.then(E,E)),d.state.loading|=4,d.instance=F,Ze(F);return}F=o.ownerDocument||o,x=vw(x),(O=Wo.get(O))&&a2(x,O),F=F.createElement("link"),Ze(F);var ne=F;ne._p=new Promise(function(Ee,He){ne.onload=Ee,ne.onerror=He}),Zs(F,"link",x),d.instance=F}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(E.count++,d=L1.bind(E),o.addEventListener("load",d),o.addEventListener("error",d))}}function _N(){if(Ff===null)throw Error(n(475));var o=Ff;return o.stylesheets&&o.count===0&&i2(o,o.stylesheets),0<o.count?function(d){var x=setTimeout(function(){if(o.stylesheets&&i2(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(x)}}:null}function L1(){if(this.count--,this.count===0){if(this.stylesheets)i2(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var I1=null;function i2(o,d){o.stylesheets=null,o.unsuspend!==null&&(o.count++,I1=new Map,d.forEach(EN,o),I1=null,L1.call(o))}function EN(o,d){if(!(d.state.loading&4)){var x=I1.get(o);if(x)var E=x.get(null);else{x=new Map,I1.set(o,x);for(var O=o.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<O.length;F++){var ne=O[F];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(x.set(ne.dataset.precedence,ne),E=ne)}E&&x.set(null,E)}O=d.instance,ne=O.getAttribute("data-precedence"),F=x.get(ne)||E,F===E&&x.set(null,O),x.set(ne,O),this.count++,E=L1.bind(this),O.addEventListener("load",E),O.addEventListener("error",E),F?F.parentNode.insertBefore(O,F.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(O,o.firstChild)),d.state.loading|=4}}var Mf={$$typeof:M,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function NN(o,d,x,E,O,F,ne,Ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=E,this.onUncaughtError=O,this.onCaughtError=F,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function Ew(o,d,x,E,O,F,ne,Ee,He,ht,Tt,Ft){return o=new NN(o,d,x,ne,Ee,He,ht,Ft),d=1,F===!0&&(d|=24),F=ks(3,null,null,d),o.current=F,F.stateNode=o,d=of(),d.refCount++,o.pooledCache=d,d.refCount++,F.memoizedState={element:E,isDehydrated:x,cache:d},Xe(F),o}function Nw(o){return o?(o=hs,o):hs}function Sw(o,d,x,E,O,F){O=Nw(O),E.context===null?E.context=O:E.pendingContext=O,E=At(d),E.payload={element:x},F=F===void 0?null:F,F!==null&&(E.callback=F),x=It(o,E,d),x!==null&&(xo(x,o,d),jt(x,o,d))}function Aw(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var x=o.retryLane;o.retryLane=x!==0&&x<d?x:d}}function o2(o,d){Aw(o,d),(o=o.alternate)&&Aw(o,d)}function Cw(o){if(o.tag===13){var d=nl(o,67108864);d!==null&&xo(d,o,67108864),o2(o,67108864)}}var D1=!0;function SN(o,d,x,E){var O=de.T;de.T=null;var F=we.p;try{we.p=2,l2(o,d,x,E)}finally{we.p=F,de.T=O}}function AN(o,d,x,E){var O=de.T;de.T=null;var F=we.p;try{we.p=8,l2(o,d,x,E)}finally{we.p=F,de.T=O}}function l2(o,d,x,E){if(D1){var O=c2(E);if(O===null)Yp(o,d,E,P1,x),jw(o,E);else if(TN(O,o,d,x,E))E.stopPropagation();else if(jw(o,E),d&4&&-1<CN.indexOf(o)){for(;O!==null;){var F=Fe(O);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var ne=wr(F.pendingLanes);if(ne!==0){var Ee=F;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;ne;){var He=1<<31-Qt(ne);Ee.entanglements[1]|=He,ne&=~He}Kl(F),(Wn&6)===0&&(y1=Ve()+500,Rf(0))}}break;case 13:Ee=nl(F,2),Ee!==null&&xo(Ee,F,2),b1(),o2(F,2)}if(F=c2(E),F===null&&Yp(o,d,E,P1,x),F===O)break;O=F}O!==null&&E.stopPropagation()}else Yp(o,d,E,null,x)}}function c2(o){return o=ya(o),u2(o)}var P1=null;function u2(o){if(P1=null,o=Oe(o),o!==null){var d=s(o);if(d===null)o=null;else{var x=d.tag;if(x===13){if(o=c(d),o!==null)return o;o=null}else if(x===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null)}}return P1=o,null}function Tw(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case Ue:return 2;case Je:return 8;case et:case Pt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var d2=!1,lu=null,cu=null,uu=null,Bf=new Map,Uf=new Map,du=[],CN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jw(o,d){switch(o){case"focusin":case"focusout":lu=null;break;case"dragenter":case"dragleave":cu=null;break;case"mouseover":case"mouseout":uu=null;break;case"pointerover":case"pointerout":Bf.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(d.pointerId)}}function zf(o,d,x,E,O,F){return o===null||o.nativeEvent!==F?(o={blockedOn:d,domEventName:x,eventSystemFlags:E,nativeEvent:F,targetContainers:[O]},d!==null&&(d=Fe(d),d!==null&&Cw(d)),o):(o.eventSystemFlags|=E,d=o.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),o)}function TN(o,d,x,E,O){switch(d){case"focusin":return lu=zf(lu,o,d,x,E,O),!0;case"dragenter":return cu=zf(cu,o,d,x,E,O),!0;case"mouseover":return uu=zf(uu,o,d,x,E,O),!0;case"pointerover":var F=O.pointerId;return Bf.set(F,zf(Bf.get(F)||null,o,d,x,E,O)),!0;case"gotpointercapture":return F=O.pointerId,Uf.set(F,zf(Uf.get(F)||null,o,d,x,E,O)),!0}return!1}function Ow(o){var d=Oe(o.target);if(d!==null){var x=s(d);if(x!==null){if(d=x.tag,d===13){if(d=c(x),d!==null){o.blockedOn=d,ys(o.priority,function(){if(x.tag===13){var E=po();E=qs(E);var O=nl(x,E);O!==null&&xo(O,x,E),o2(x,E)}});return}}else if(d===3&&x.stateNode.current.memoizedState.isDehydrated){o.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}o.blockedOn=null}function F1(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var x=c2(o.nativeEvent);if(x===null){x=o.nativeEvent;var E=new x.constructor(x.type,x);Ro=E,x.target.dispatchEvent(E),Ro=null}else return d=Fe(x),d!==null&&Cw(d),o.blockedOn=x,!1;d.shift()}return!0}function Rw(o,d,x){F1(o)&&x.delete(d)}function jN(){d2=!1,lu!==null&&F1(lu)&&(lu=null),cu!==null&&F1(cu)&&(cu=null),uu!==null&&F1(uu)&&(uu=null),Bf.forEach(Rw),Uf.forEach(Rw)}function M1(o,d){o.blockedOn===d&&(o.blockedOn=null,d2||(d2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jN)))}var B1=null;function kw(o){B1!==o&&(B1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){B1===o&&(B1=null);for(var d=0;d<o.length;d+=3){var x=o[d],E=o[d+1],O=o[d+2];if(typeof E!="function"){if(u2(E||x)===null)continue;break}var F=Fe(x);F!==null&&(o.splice(d,3),d-=3,Ho(F,{pending:!0,data:O,method:x.method,action:E},E,O))}}))}function Hf(o){function d(He){return M1(He,o)}lu!==null&&M1(lu,o),cu!==null&&M1(cu,o),uu!==null&&M1(uu,o),Bf.forEach(d),Uf.forEach(d);for(var x=0;x<du.length;x++){var E=du[x];E.blockedOn===o&&(E.blockedOn=null)}for(;0<du.length&&(x=du[0],x.blockedOn===null);)Ow(x),x.blockedOn===null&&du.shift();if(x=(o.ownerDocument||o).$$reactFormReplay,x!=null)for(E=0;E<x.length;E+=3){var O=x[E],F=x[E+1],ne=O[hn]||null;if(typeof F=="function")ne||kw(x);else if(ne){var Ee=null;if(F&&F.hasAttribute("formAction")){if(O=F,ne=F[hn]||null)Ee=ne.formAction;else if(u2(O)!==null)continue}else Ee=ne.action;typeof Ee=="function"?x[E+1]=Ee:(x.splice(E,3),E-=3),kw(x)}}}function f2(o){this._internalRoot=o}U1.prototype.render=f2.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(n(409));var x=d.current,E=po();Sw(x,E,o,d,null,null)},U1.prototype.unmount=f2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Sw(o.current,2,null,o,null,null),b1(),d[sa]=null}};function U1(o){this._internalRoot=o}U1.prototype.unstable_scheduleHydration=function(o){if(o){var d=Ha();o={blockedOn:null,target:o,priority:d};for(var x=0;x<du.length&&d!==0&&d<du[x].priority;x++);du.splice(x,0,o),x===0&&Ow(o)}};var Lw=e.version;if(Lw!=="19.1.0")throw Error(n(527,Lw,"19.1.0"));we.findDOMNode=function(o){var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=g(d),o=o!==null?u(o):null,o=o===null?null:o.stateNode,o};var ON={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:de,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var z1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z1.isDisabled&&z1.supportsFiber)try{rr=z1.inject(ON),lr=z1}catch(o){}}return Vf.createRoot=function(o,d){if(!a(o))throw Error(n(299));var x=!1,E="",O=Yv,F=Kv,ne=Zv,Ee=null;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(F=d.onCaughtError),d.onRecoverableError!==void 0&&(ne=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Ee=d.unstable_transitionCallbacks)),d=Ew(o,1,!1,null,null,x,E,O,F,ne,Ee,null),o[sa]=d.current,Xp(o),new f2(d)},Vf.hydrateRoot=function(o,d,x){if(!a(o))throw Error(n(299));var E=!1,O="",F=Yv,ne=Kv,Ee=Zv,He=null,ht=null;return x!=null&&(x.unstable_strictMode===!0&&(E=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onUncaughtError!==void 0&&(F=x.onUncaughtError),x.onCaughtError!==void 0&&(ne=x.onCaughtError),x.onRecoverableError!==void 0&&(Ee=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(He=x.unstable_transitionCallbacks),x.formState!==void 0&&(ht=x.formState)),d=Ew(o,1,!0,d,x!=null?x:null,E,O,F,ne,Ee,He,ht),d.context=Nw(null),x=d.current,E=po(),E=qs(E),O=At(E),O.callback=null,It(x,O,E),x=E,d.current.lanes=x,xa(d,x),Kl(d),o[sa]=d.current,Xp(o),new U1(d)},Vf.version="19.1.0",Vf}var $w;function GN(){if($w)return x2.exports;$w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),x2.exports=WN(),x2.exports}var $N=GN(),Wf={},Xw;function XN(){if(Xw)return Wf;Xw=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.parse=c,Wf.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,_){const C=new s,A=b.length;if(A<2)return C;const j=(_==null?void 0:_.decode)||m;let L=0;do{const D=b.indexOf("=",L);if(D===-1)break;const M=b.indexOf(";",L),X=M===-1?A:M;if(D>X){L=b.lastIndexOf(";",D-1)+1;continue}const Q=h(b,L,D),Y=g(b,D,Q),V=b.slice(Q,Y);if(C[V]===void 0){let H=h(b,D+1,X),B=g(b,X,H);const re=j(b.slice(H,B));C[V]=re}L=X+1}while(L<A);return C}function h(b,_,C){do{const A=b.charCodeAt(_);if(A!==32&&A!==9)return _}while(++_<C);return C}function g(b,_,C){for(;_>C;){const A=b.charCodeAt(--_);if(A!==32&&A!==9)return _+1}return C}function u(b,_,C){const A=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const j=A(_);if(!e.test(j))throw new TypeError(`argument val is invalid: ${_}`);let L=b+"="+j;if(!C)return L;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);L+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);L+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);L+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);L+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(L+="; HttpOnly"),C.secure&&(L+="; Secure"),C.partitioned&&(L+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return L}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch(_){return b}}function v(b){return a.call(b)==="[object Date]"}return Wf}XN();var Yw="popstate";function YN(t={}){function e(n,a){let{pathname:s,search:c,hash:h}=n.location;return nx("",{pathname:s,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:vh(a)}return ZN(e,r,null,t)}function Pa(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Yo(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function KN(){return Math.random().toString(36).substring(2,10)}function Kw(t,e){return{usr:t.state,key:t.key,idx:e}}function nx(t,e,r=null,n){return sr(zt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vd(e):e),{state:r,key:e&&e.key||n||KN()})}function vh({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function ZN(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,c=a.history,h="POP",g=null,u=m();u==null&&(u=0,c.replaceState(sr(zt({},c.state),{idx:u}),""));function m(){return(c.state||{idx:null}).idx}function v(){h="POP";let j=m(),L=j==null?null:j-u;u=j,g&&g({action:h,location:A.location,delta:L})}function b(j,L){h="PUSH";let D=nx(A.location,j,L);u=m()+1;let M=Kw(D,u),X=A.createHref(D);try{c.pushState(M,"",X)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(X)}s&&g&&g({action:h,location:A.location,delta:1})}function _(j,L){h="REPLACE";let D=nx(A.location,j,L);u=m();let M=Kw(D,u),X=A.createHref(D);c.replaceState(M,"",X),s&&g&&g({action:h,location:A.location,delta:0})}function C(j){let L=a.location.origin!=="null"?a.location.origin:a.location.href,D=typeof j=="string"?j:vh(j);return D=D.replace(/ $/,"%20"),Pa(L,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,L)}let A={get action(){return h},get location(){return t(a,c)},listen(j){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Yw,v),g=j,()=>{a.removeEventListener(Yw,v),g=null}},createHref(j){return e(a,j)},createURL:C,encodeLocation(j){let L=C(j);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:_,go(j){return c.go(j)}};return A}function S3(t,e,r="/"){return JN(t,e,r,!1)}function JN(t,e,r,n){let a=typeof e=="string"?Vd(e):e,s=Fc(a.pathname||"/",r);if(s==null)return null;let c=A3(t);QN(c);let h=null;for(let g=0;h==null&&g<c.length;++g){let u=uS(s);h=lS(c[g],u,n)}return h}function A3(t,e=[],r=[],n=""){let a=(s,c,h)=>{let g={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};g.relativePath.startsWith("/")&&(Pa(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length));let u=Lc([n,g.relativePath]),m=r.concat(g);s.children&&s.children.length>0&&(Pa(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),A3(s.children,e,m,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:iS(u,s.index),routesMeta:m})};return t.forEach((s,c)=>{var h;if(s.path===""||!((h=s.path)!=null&&h.includes("?")))a(s,c);else for(let g of C3(s.path))a(s,c,g)}),e}function C3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let c=C3(n.join("/")),h=[];return h.push(...c.map(g=>g===""?s:[s,g].join("/"))),a&&h.push(...c),h.map(g=>t.startsWith("/")&&g===""?"/":g)}function QN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:oS(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var eS=/^:[\w-]+$/,tS=3,rS=2,nS=1,aS=10,sS=-2,Zw=t=>t==="*";function iS(t,e){let r=t.split("/"),n=r.length;return r.some(Zw)&&(n+=sS),e&&(n+=rS),r.filter(a=>!Zw(a)).reduce((a,s)=>a+(eS.test(s)?tS:s===""?nS:aS),n)}function oS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function lS(t,e,r=!1){let{routesMeta:n}=t,a={},s="/",c=[];for(let h=0;h<n.length;++h){let g=n[h],u=h===n.length-1,m=s==="/"?e:e.slice(s.length)||"/",v=nm({path:g.relativePath,caseSensitive:g.caseSensitive,end:u},m),b=g.route;if(!v&&u&&r&&!n[n.length-1].route.index&&(v=nm({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},m)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Lc([s,v.pathname]),pathnameBase:gS(Lc([s,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(s=Lc([s,v.pathnameBase]))}return c}function nm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cS(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:n.reduce((u,{paramName:m,isOptional:v},b)=>{if(m==="*"){let C=h[b]||"";c=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const _=h[b];return v&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:c,pattern:t}}function cS(t,e=!1,r=!0){Yo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,g)=>(n.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function uS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function dS(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Vd(t):t;return{pathname:r?r.startsWith("/")?r:fS(r,e):e,search:mS(n),hash:pS(a)}}function fS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function b2(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qx(t){let e=hS(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Vx(t,e,r,n=!1){let a;typeof t=="string"?a=Vd(t):(a=zt({},t),Pa(!a.pathname||!a.pathname.includes("?"),b2("?","pathname","search",a)),Pa(!a.pathname||!a.pathname.includes("#"),b2("#","pathname","hash",a)),Pa(!a.search||!a.search.includes("#"),b2("#","search","hash",a)));let s=t===""||a.pathname==="",c=s?"/":a.pathname,h;if(c==null)h=r;else{let v=e.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?e[v]:"/"}let g=dS(a,h),u=c&&c!=="/"&&c.endsWith("/"),m=(s||c===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(u||m)&&(g.pathname+="/"),g}var Lc=t=>t.join("/").replace(/\/\/+/g,"/"),gS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var T3=["POST","PUT","PATCH","DELETE"];new Set(T3);var vS=["GET",...T3];new Set(vS);var Wd=ee.createContext(null);Wd.displayName="DataRouter";var Rm=ee.createContext(null);Rm.displayName="DataRouterState";var j3=ee.createContext({isTransitioning:!1});j3.displayName="ViewTransition";var yS=ee.createContext(new Map);yS.displayName="Fetchers";var wS=ee.createContext(null);wS.displayName="Await";var Tl=ee.createContext(null);Tl.displayName="Navigation";var jh=ee.createContext(null);jh.displayName="Location";var Ko=ee.createContext({outlet:null,matches:[],isDataRoute:!1});Ko.displayName="Route";var Wx=ee.createContext(null);Wx.displayName="RouteError";function bS(t,{relative:e}={}){Pa(Gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=ee.useContext(Tl),{hash:a,pathname:s,search:c}=Oh(t,{relative:e}),h=s;return r!=="/"&&(h=s==="/"?r:Lc([r,s])),n.createHref({pathname:h,search:c,hash:a})}function Gd(){return ee.useContext(jh)!=null}function to(){return Pa(Gd(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(jh).location}var O3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R3(t){ee.useContext(Tl).static||ee.useLayoutEffect(t)}function Ii(){let{isDataRoute:t}=ee.useContext(Ko);return t?PS():_S()}function _S(){Pa(Gd(),"useNavigate() may be used only in the context of a <Router> component.");let t=ee.useContext(Wd),{basename:e,navigator:r}=ee.useContext(Tl),{matches:n}=ee.useContext(Ko),{pathname:a}=to(),s=JSON.stringify(qx(n)),c=ee.useRef(!1);return R3(()=>{c.current=!0}),ee.useCallback((g,u={})=>{if(Yo(c.current,O3),!c.current)return;if(typeof g=="number"){r.go(g);return}let m=Vx(g,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Lc([e,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[e,r,s,a,t])}var ES=ee.createContext(null);function NS(t){let e=ee.useContext(Ko).outlet;return e&&ee.createElement(ES.Provider,{value:t},e)}function $d(){let{matches:t}=ee.useContext(Ko),e=t[t.length-1];return e?e.params:{}}function Oh(t,{relative:e}={}){let{matches:r}=ee.useContext(Ko),{pathname:n}=to(),a=JSON.stringify(qx(r));return ee.useMemo(()=>Vx(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function SS(t,e){return k3(t,e)}function k3(t,e,r,n){var D;Pa(Gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=ee.useContext(Tl),{matches:c}=ee.useContext(Ko),h=c[c.length-1],g=h?h.params:{},u=h?h.pathname:"/",m=h?h.pathnameBase:"/",v=h&&h.route;{let M=v&&v.path||"";L3(u,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=to(),_;if(e){let M=typeof e=="string"?Vd(e):e;Pa(m==="/"||((D=M.pathname)==null?void 0:D.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=b;let C=_.pathname||"/",A=C;if(m!=="/"){let M=m.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=!s&&r&&r.matches&&r.matches.length>0?r.matches:S3(t,{pathname:A});Yo(v||j!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Yo(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=OS(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},g,M.params),pathname:Lc([m,a.encodeLocation?a.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Lc([m,a.encodeLocation?a.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,r,n);return e&&L?ee.createElement(jh.Provider,{value:{location:zt({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:"POP"}},L):L}function AS(){let t=DS(),e=xS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:s},"ErrorBoundary")," or"," ",ee.createElement("code",{style:s},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),r?ee.createElement("pre",{style:a},r):null,c)}var CS=ee.createElement(AS,null),TS=class extends ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ee.createElement(Ko.Provider,{value:this.props.routeContext},ee.createElement(Wx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jS({routeContext:t,match:e,children:r}){let n=ee.useContext(Wd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(Ko.Provider,{value:t},r)}function OS(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r==null?void 0:r.errors;if(s!=null){let g=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Pa(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,h=-1;if(r)for(let g=0;g<a.length;g++){let u=a[g];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(h=g),u.route.id){let{loaderData:m,errors:v}=r,b=u.route.loader&&!m.hasOwnProperty(u.route.id)&&(!v||v[u.route.id]===void 0);if(u.route.lazy||b){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((g,u,m)=>{let v,b=!1,_=null,C=null;r&&(v=s&&u.route.id?s[u.route.id]:void 0,_=u.route.errorElement||CS,c&&(h<0&&m===0?(L3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):h===m&&(b=!0,C=u.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,m+1)),j=()=>{let L;return v?L=_:b?L=C:u.route.Component?L=ee.createElement(u.route.Component,null):u.route.element?L=u.route.element:L=g,ee.createElement(jS,{match:u,routeContext:{outlet:g,matches:A,isDataRoute:r!=null},children:L})};return r&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?ee.createElement(TS,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):j()},null)}function Gx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RS(t){let e=ee.useContext(Wd);return Pa(e,Gx(t)),e}function kS(t){let e=ee.useContext(Rm);return Pa(e,Gx(t)),e}function LS(t){let e=ee.useContext(Ko);return Pa(e,Gx(t)),e}function $x(t){let e=LS(t),r=e.matches[e.matches.length-1];return Pa(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function IS(){return $x("useRouteId")}function DS(){var n;let t=ee.useContext(Wx),e=kS("useRouteError"),r=$x("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function PS(){let{router:t}=RS("useNavigate"),e=$x("useNavigate"),r=ee.useRef(!1);return R3(()=>{r.current=!0}),ee.useCallback((c,...h)=>_e(null,[c,...h],function*(a,s={}){Yo(r.current,O3),r.current&&(typeof a=="number"?t.navigate(a):yield t.navigate(a,zt({fromRouteId:e},s)))}),[t,e])}var Jw={};function L3(t,e,r){!e&&!Jw[t]&&(Jw[t]=!0,Yo(!1,r))}ee.memo(FS);function FS({routes:t,future:e,state:r}){return k3(t,void 0,r,e)}function Xx({to:t,replace:e,state:r,relative:n}){Pa(Gd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=ee.useContext(Tl);Yo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ee.useContext(Ko),{pathname:c}=to(),h=Ii(),g=Vx(t,qx(s),c,n==="path"),u=JSON.stringify(g);return ee.useEffect(()=>{h(JSON.parse(u),{replace:e,state:r,relative:n})},[h,u,n,e,r]),null}function MS(t){return NS(t.context)}function dn(t){Pa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BS({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){Pa(!Gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=ee.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof r=="string"&&(r=Vd(r));let{pathname:g="/",search:u="",hash:m="",state:v=null,key:b="default"}=r,_=ee.useMemo(()=>{let C=Fc(g,c);return C==null?null:{location:{pathname:C,search:u,hash:m,state:v,key:b},navigationType:n}},[c,g,u,m,v,b,n]);return Yo(_!=null,`<Router basename="${c}"> is not able to match the URL "${g}${u}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:ee.createElement(Tl.Provider,{value:h},ee.createElement(jh.Provider,{children:e,value:_}))}function US({children:t,location:e}){return SS(ax(t),e)}function ax(t,e=[]){let r=[];return ee.Children.forEach(t,(n,a)=>{if(!ee.isValidElement(n))return;let s=[...e,a];if(n.type===ee.Fragment){r.push.apply(r,ax(n.props.children,s));return}Pa(n.type===dn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ax(n.props.children,s)),r.push(c)}),r}var Gg="get",$g="application/x-www-form-urlencoded";function km(t){return t!=null&&typeof t.tagName=="string"}function zS(t){return km(t)&&t.tagName.toLowerCase()==="button"}function HS(t){return km(t)&&t.tagName.toLowerCase()==="form"}function qS(t){return km(t)&&t.tagName.toLowerCase()==="input"}function VS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WS(t,e){return t.button===0&&(!e||e==="_self")&&!VS(t)}function sx(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function GS(t,e){let r=sx(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(s=>{r.append(a,s)})}),r}var V1=null;function $S(){if(V1===null)try{new FormData(document.createElement("form"),0),V1=!1}catch(t){V1=!0}return V1}var XS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _2(t){return t!=null&&!XS.has(t)?(Yo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$g}"`),null):t}function YS(t,e){let r,n,a,s,c;if(HS(t)){let h=t.getAttribute("action");n=h?Fc(h,e):null,r=t.getAttribute("method")||Gg,a=_2(t.getAttribute("enctype"))||$g,s=new FormData(t)}else if(zS(t)||qS(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||h.getAttribute("action");if(n=g?Fc(g,e):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||Gg,a=_2(t.getAttribute("formenctype"))||_2(h.getAttribute("enctype"))||$g,s=new FormData(h,t),!$S()){let{name:u,type:m,value:v}=t;if(m==="image"){let b=u?`${u}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else u&&s.append(u,v)}}else{if(km(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Gg,n=null,a=$g,c=t}return s&&a==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:c}}function Yx(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function KS(t,e){return _e(this,null,function*(){if(t.id in e)return e[t.id];try{let r=yield import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function ZS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}function JS(t,e,r){return _e(this,null,function*(){let n=yield Promise.all(t.map(a=>_e(null,null,function*(){let s=e.routes[a.route.id];if(s){let c=yield KS(s,r);return c.links?c.links():[]}return[]})));return rA(n.flat(1).filter(ZS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?sr(zt({},a),{rel:"prefetch",as:"style"}):sr(zt({},a),{rel:"prefetch"})))})}function Qw(t,e,r,n,a,s){let c=(g,u)=>r[u]?g.route.id!==r[u].route.id:!0,h=(g,u)=>{var m;return r[u].pathname!==g.pathname||((m=r[u].route.path)==null?void 0:m.endsWith("*"))&&r[u].params["*"]!==g.params["*"]};return s==="assets"?e.filter((g,u)=>c(g,u)||h(g,u)):s==="data"?e.filter((g,u)=>{var v;let m=n.routes[g.route.id];if(!m||!m.hasLoader)return!1;if(c(g,u)||h(g,u))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function QS(t,e,{includeHydrateFallback:r}={}){return eA(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function eA(t){return[...new Set(t)]}function tA(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function rA(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let s=JSON.stringify(tA(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}var nA=new Set([100,101,204,205]);function aA(t,e){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&Fc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function I3(){let t=ee.useContext(Wd);return Yx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sA(){let t=ee.useContext(Rm);return Yx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kx=ee.createContext(void 0);Kx.displayName="FrameworkContext";function D3(){let t=ee.useContext(Kx);return Yx(t,"You must render this element inside a <HydratedRouter> element"),t}function iA(t,e){let r=ee.useContext(Kx),[n,a]=ee.useState(!1),[s,c]=ee.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:u,onMouseLeave:m,onTouchStart:v}=e,b=ee.useRef(null);ee.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=L=>{L.forEach(D=>{c(D.isIntersecting)})},j=new IntersectionObserver(A,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[t]),ee.useEffect(()=>{if(n){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[n]);let _=()=>{a(!0)},C=()=>{a(!1),c(!1)};return r?t!=="intent"?[s,b,{}]:[s,b,{onFocus:Gf(h,_),onBlur:Gf(g,C),onMouseEnter:Gf(u,_),onMouseLeave:Gf(m,C),onTouchStart:Gf(v,_)}]:[!1,b,{}]}function Gf(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function oA(r){var n=r,{page:t}=n,e=hu(n,["page"]);let{router:a}=I3(),s=ee.useMemo(()=>S3(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?ee.createElement(cA,zt({page:t,matches:s},e)):null}function lA(t){let{manifest:e,routeModules:r}=D3(),[n,a]=ee.useState([]);return ee.useEffect(()=>{let s=!1;return JS(t,e,r).then(c=>{s||a(c)}),()=>{s=!0}},[t,e,r]),n}function cA(n){var a=n,{page:t,matches:e}=a,r=hu(a,["page","matches"]);let s=to(),{manifest:c,routeModules:h}=D3(),{basename:g}=I3(),{loaderData:u,matches:m}=sA(),v=ee.useMemo(()=>Qw(t,e,m,c,s,"data"),[t,e,m,c,s]),b=ee.useMemo(()=>Qw(t,e,m,c,s,"assets"),[t,e,m,c,s]),_=ee.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,L=!1;if(e.forEach(M=>{var Q;let X=c.routes[M.route.id];!X||!X.hasLoader||(!v.some(Y=>Y.route.id===M.route.id)&&M.route.id in u&&((Q=h[M.route.id])!=null&&Q.shouldRevalidate)||X.hasClientLoader?L=!0:j.add(M.route.id))}),j.size===0)return[];let D=aA(t,g);return L&&j.size>0&&D.searchParams.set("_routes",e.filter(M=>j.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[g,u,s,c,v,e,t,h]),C=ee.useMemo(()=>QS(b,c),[b,c]),A=lA(b);return ee.createElement(ee.Fragment,null,_.map(j=>ee.createElement("link",zt({key:j,rel:"prefetch",as:"fetch",href:j},r))),C.map(j=>ee.createElement("link",zt({key:j,rel:"modulepreload",href:j},r))),A.map(({key:j,link:L})=>ee.createElement("link",zt({key:j},L))))}function uA(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var P3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{P3&&(window.__reactRouterVersion="7.5.3")}catch(t){}function dA({basename:t,children:e,window:r}){let n=ee.useRef();n.current==null&&(n.current=YN({window:r,v5Compat:!0}));let a=n.current,[s,c]=ee.useState({action:a.action,location:a.location}),h=ee.useCallback(g=>{ee.startTransition(()=>c(g))},[c]);return ee.useLayoutEffect(()=>a.listen(h),[a,h]),ee.createElement(BS,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var F3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=ee.forwardRef(function(C,_){var A=C,{onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:c,state:h,target:g,to:u,preventScrollReset:m,viewTransition:v}=A,b=hu(A,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=ee.useContext(Tl),L=typeof u=="string"&&F3.test(u),D,M=!1;if(typeof u=="string"&&L&&(D=u,P3))try{let q=new URL(window.location.href),G=u.startsWith("//")?new URL(q.protocol+u):new URL(u),se=Fc(G.pathname,j);G.origin===q.origin&&se!=null?u=se+G.search+G.hash:M=!0}catch(q){Yo(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=bS(u,{relative:a}),[Q,Y,V]=iA(n,b),H=mA(u,{replace:c,state:h,target:g,preventScrollReset:m,relative:a,viewTransition:v});function B(q){e&&e(q),q.defaultPrevented||H(q)}let re=ee.createElement("a",sr(zt(zt({},b),V),{href:D||X,onClick:M||s?e:B,ref:uA(_,Y),target:g,"data-discover":!L&&r==="render"?"true":void 0}));return Q&&!L?ee.createElement(ee.Fragment,null,re,ee.createElement(oA,{page:X})):re});$t.displayName="Link";var fA=ee.forwardRef(function(v,m){var b=v,{"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:c,viewTransition:h,children:g}=b,u=hu(b,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let _=Oh(c,{relative:u.relative}),C=to(),A=ee.useContext(Rm),{navigator:j,basename:L}=ee.useContext(Tl),D=A!=null&&wA(_)&&h===!0,M=j.encodeLocation?j.encodeLocation(_).pathname:_.pathname,X=C.pathname,Q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(X=X.toLowerCase(),Q=Q?Q.toLowerCase():null,M=M.toLowerCase()),Q&&L&&(Q=Fc(Q,L)||Q);const Y=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let V=X===M||!a&&X.startsWith(M)&&X.charAt(Y)==="/",H=Q!=null&&(Q===M||!a&&Q.startsWith(M)&&Q.charAt(M.length)==="/"),B={isActive:V,isPending:H,isTransitioning:D},re=V?e:void 0,q;typeof n=="function"?q=n(B):q=[n,V?"active":null,H?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(B):s;return ee.createElement($t,sr(zt({},u),{"aria-current":re,className:q,ref:m,style:G,to:c,viewTransition:h}),typeof g=="function"?g(B):g)});fA.displayName="NavLink";var hA=ee.forwardRef((C,_)=>{var A=C,{discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:s,method:c=Gg,action:h,onSubmit:g,relative:u,preventScrollReset:m,viewTransition:v}=A,b=hu(A,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=vA(),L=yA(h,{relative:u}),D=c.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&F3.test(h),X=Q=>{if(g&&g(Q),Q.defaultPrevented)return;Q.preventDefault();let Y=Q.nativeEvent.submitter,V=(Y==null?void 0:Y.getAttribute("formmethod"))||c;j(Y||Q.currentTarget,{fetcherKey:e,method:V,navigate:r,replace:a,state:s,relative:u,preventScrollReset:m,viewTransition:v})};return ee.createElement("form",sr(zt({ref:_,method:D,action:L,onSubmit:n?g:X},b),{"data-discover":!M&&t==="render"?"true":void 0}))});hA.displayName="Form";function gA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M3(t){let e=ee.useContext(Wd);return Pa(e,gA(t)),e}function mA(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:c}={}){let h=Ii(),g=to(),u=Oh(t,{relative:s});return ee.useCallback(m=>{if(WS(m,e)){m.preventDefault();let v=r!==void 0?r:vh(g)===vh(u);h(t,{replace:v,state:n,preventScrollReset:a,relative:s,viewTransition:c})}},[g,h,u,r,n,e,t,a,s,c])}function Lm(t){Yo(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ee.useRef(sx(t)),r=ee.useRef(!1),n=to(),a=ee.useMemo(()=>GS(n.search,r.current?null:e.current),[n.search]),s=Ii(),c=ee.useCallback((h,g)=>{const u=sx(typeof h=="function"?h(a):h);r.current=!0,s("?"+u,g)},[s,a]);return[a,c]}var pA=0,xA=()=>`__${String(++pA)}__`;function vA(){let{router:t}=M3("useSubmit"),{basename:e}=ee.useContext(Tl),r=IS();return ee.useCallback((s,...c)=>_e(null,[s,...c],function*(n,a={}){let{action:h,method:g,encType:u,formData:m,body:v}=YS(n,e);if(a.navigate===!1){let b=a.fetcherKey||xA();yield t.fetch(b,r,a.action||h,{preventScrollReset:a.preventScrollReset,formData:m,body:v,formMethod:a.method||g,formEncType:a.encType||u,flushSync:a.flushSync})}else yield t.navigate(a.action||h,{preventScrollReset:a.preventScrollReset,formData:m,body:v,formMethod:a.method||g,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[t,e,r])}function yA(t,{relative:e}={}){let{basename:r}=ee.useContext(Tl),n=ee.useContext(Ko);Pa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s=zt({},Oh(t||".",{relative:e})),c=to();if(t==null){s.search=c.search;let h=new URLSearchParams(s.search),g=h.getAll("index");if(g.some(m=>m==="")){h.delete("index"),g.filter(v=>v).forEach(v=>h.append("index",v));let m=h.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Lc([r,s.pathname])),vh(s)}function wA(t,e={}){let r=ee.useContext(j3);Pa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=M3("useViewTransitionState"),a=Oh(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Fc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Fc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return nm(a.pathname,c)!=null||nm(a.pathname,s)!=null}new TextEncoder;[...nA];const bA="modulepreload",_A=function(t){return"/"+t},eb={},Co=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(u){return Promise.all(u.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(r.map(u=>{if(u=_A(u),u in eb)return;eb[u]=!0;const m=u.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":bA,m||(b.as="script"),b.crossOrigin="",b.href=u,g&&b.setAttribute("nonce",g),document.head.appendChild(b),m)return new Promise((_,C)=>{b.addEventListener("load",_),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&s(h.reason);return e().catch(s)})};function B3(t,e){return function(){return t.apply(e,arguments)}}const{toString:EA}=Object.prototype,{getPrototypeOf:Zx}=Object,{iterator:Im,toStringTag:U3}=Symbol,Dm=(t=>e=>{const r=EA.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),jl=t=>(t=t.toLowerCase(),e=>Dm(e)===t),Pm=t=>e=>typeof e===t,{isArray:Xd}=Array,yh=Pm("undefined");function NA(t){return t!==null&&!yh(t)&&t.constructor!==null&&!yh(t.constructor)&&Ki(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const z3=jl("ArrayBuffer");function SA(t){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&z3(t.buffer),e}const AA=Pm("string"),Ki=Pm("function"),H3=Pm("number"),Fm=t=>t!==null&&typeof t=="object",CA=t=>t===!0||t===!1,Xg=t=>{if(Dm(t)!=="object")return!1;const e=Zx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(U3 in t)&&!(Im in t)},TA=jl("Date"),jA=jl("File"),OA=jl("Blob"),RA=jl("FileList"),kA=t=>Fm(t)&&Ki(t.pipe),LA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ki(t.append)&&((e=Dm(t))==="formdata"||e==="object"&&Ki(t.toString)&&t.toString()==="[object FormData]"))},IA=jl("URLSearchParams"),[DA,PA,FA,MA]=["ReadableStream","Request","Response","Headers"].map(jl),BA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t=="undefined")return;let n,a;if(typeof t!="object"&&(t=[t]),Xd(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),c=s.length;let h;for(n=0;n<c;n++)h=s[n],e.call(null,t[h],h,t)}}function q3(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const g0=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,V3=t=>!yh(t)&&t!==g0;function ix(){const{caseless:t}=V3(this)&&this||{},e={},r=(n,a)=>{const s=t&&q3(e,a)||a;Xg(e[s])&&Xg(n)?e[s]=ix(e[s],n):Xg(n)?e[s]=ix({},n):Xd(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Rh(arguments[n],r);return e}const UA=(t,e,r,{allOwnKeys:n}={})=>(Rh(e,(a,s)=>{r&&Ki(a)?t[s]=B3(a,r):t[s]=a},{allOwnKeys:n}),t),zA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),HA=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},qA=(t,e,r,n)=>{let a,s,c;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)c=a[s],(!n||n(c,t,e))&&!h[c]&&(e[c]=t[c],h[c]=!0);t=r!==!1&&Zx(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},VA=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},WA=t=>{if(!t)return null;if(Xd(t))return t;let e=t.length;if(!H3(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},GA=(t=>e=>t&&e instanceof t)(typeof Uint8Array!="undefined"&&Zx(Uint8Array)),$A=(t,e)=>{const n=(t&&t[Im]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},XA=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},YA=jl("HTMLFormElement"),KA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),tb=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),ZA=jl("RegExp"),W3=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Rh(r,(a,s)=>{let c;(c=e(a,s,t))!==!1&&(n[s]=c||a)}),Object.defineProperties(t,n)},JA=t=>{W3(t,(e,r)=>{if(Ki(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ki(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},QA=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Xd(t)?n(t):n(String(t).split(e)),r},eC=()=>{},tC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rC(t){return!!(t&&Ki(t.append)&&t[U3]==="FormData"&&t[Im])}const nC=t=>{const e=new Array(10),r=(n,a)=>{if(Fm(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=Xd(n)?[]:{};return Rh(n,(c,h)=>{const g=r(c,a+1);!yh(g)&&(s[h]=g)}),e[a]=void 0,s}}return n};return r(t,0)},aC=jl("AsyncFunction"),sC=t=>t&&(Fm(t)||Ki(t))&&Ki(t.then)&&Ki(t.catch),G3=((t,e)=>t?setImmediate:e?((r,n)=>(g0.addEventListener("message",({source:a,data:s})=>{a===g0&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),g0.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ki(g0.postMessage)),iC=typeof queueMicrotask!="undefined"?queueMicrotask.bind(g0):typeof process!="undefined"&&process.nextTick||G3,oC=t=>t!=null&&Ki(t[Im]),Et={isArray:Xd,isArrayBuffer:z3,isBuffer:NA,isFormData:LA,isArrayBufferView:SA,isString:AA,isNumber:H3,isBoolean:CA,isObject:Fm,isPlainObject:Xg,isReadableStream:DA,isRequest:PA,isResponse:FA,isHeaders:MA,isUndefined:yh,isDate:TA,isFile:jA,isBlob:OA,isRegExp:ZA,isFunction:Ki,isStream:kA,isURLSearchParams:IA,isTypedArray:GA,isFileList:RA,forEach:Rh,merge:ix,extend:UA,trim:BA,stripBOM:zA,inherits:HA,toFlatObject:qA,kindOf:Dm,kindOfTest:jl,endsWith:VA,toArray:WA,forEachEntry:$A,matchAll:XA,isHTMLForm:YA,hasOwnProperty:tb,hasOwnProp:tb,reduceDescriptors:W3,freezeMethods:JA,toObjectSet:QA,toCamelCase:KA,noop:eC,toFiniteNumber:tC,findKey:q3,global:g0,isContextDefined:V3,isSpecCompliantForm:rC,toJSONObject:nC,isAsyncFn:aC,isThenable:sC,setImmediate:G3,asap:iC,isIterable:oC};function Kr(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Et.inherits(Kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Et.toJSONObject(this.config),code:this.code,status:this.status}}});const $3=Kr.prototype,X3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{X3[t]={value:t}});Object.defineProperties(Kr,X3);Object.defineProperty($3,"isAxiosError",{value:!0});Kr.from=(t,e,r,n,a,s)=>{const c=Object.create($3);return Et.toFlatObject(t,c,function(g){return g!==Error.prototype},h=>h!=="isAxiosError"),Kr.call(c,t.message,e,r,n,a),c.cause=t,c.name=t.name,s&&Object.assign(c,s),c};const lC=null;function ox(t){return Et.isPlainObject(t)||Et.isArray(t)}function Y3(t){return Et.endsWith(t,"[]")?t.slice(0,-2):t}function rb(t,e,r){return t?t.concat(e).map(function(a,s){return a=Y3(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function cC(t){return Et.isArray(t)&&!t.some(ox)}const uC=Et.toFlatObject(Et,{},null,function(e){return/^is[A-Z]/.test(e)});function Mm(t,e,r){if(!Et.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Et.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,j){return!Et.isUndefined(j[A])});const n=r.metaTokens,a=r.visitor||m,s=r.dots,c=r.indexes,g=(r.Blob||typeof Blob!="undefined"&&Blob)&&Et.isSpecCompliantForm(e);if(!Et.isFunction(a))throw new TypeError("visitor must be a function");function u(C){if(C===null)return"";if(Et.isDate(C))return C.toISOString();if(!g&&Et.isBlob(C))throw new Kr("Blob is not supported. Use a Buffer instead.");return Et.isArrayBuffer(C)||Et.isTypedArray(C)?g&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,A,j){let L=C;if(C&&!j&&typeof C=="object"){if(Et.endsWith(A,"{}"))A=n?A:A.slice(0,-2),C=JSON.stringify(C);else if(Et.isArray(C)&&cC(C)||(Et.isFileList(C)||Et.endsWith(A,"[]"))&&(L=Et.toArray(C)))return A=Y3(A),L.forEach(function(M,X){!(Et.isUndefined(M)||M===null)&&e.append(c===!0?rb([A],X,s):c===null?A:A+"[]",u(M))}),!1}return ox(C)?!0:(e.append(rb(j,A,s),u(C)),!1)}const v=[],b=Object.assign(uC,{defaultVisitor:m,convertValue:u,isVisitable:ox});function _(C,A){if(!Et.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+A.join("."));v.push(C),Et.forEach(C,function(L,D){(!(Et.isUndefined(L)||L===null)&&a.call(e,L,Et.isString(D)?D.trim():D,A,b))===!0&&_(L,A?A.concat(D):[D])}),v.pop()}}if(!Et.isObject(t))throw new TypeError("data must be an object");return _(t),e}function nb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Jx(t,e){this._pairs=[],t&&Mm(t,this,e)}const K3=Jx.prototype;K3.append=function(e,r){this._pairs.push([e,r])};K3.toString=function(e){const r=e?function(n){return e.call(this,n,nb)}:nb;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function dC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Z3(t,e,r){if(!e)return t;const n=r&&r.encode||dC;Et.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=Et.isURLSearchParams(e)?e.toString():new Jx(e,r).toString(n),s){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class ab{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Et.forEach(this.handlers,function(n){n!==null&&e(n)})}}const J3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fC=typeof URLSearchParams!="undefined"?URLSearchParams:Jx,hC=typeof FormData!="undefined"?FormData:null,gC=typeof Blob!="undefined"?Blob:null,mC={isBrowser:!0,classes:{URLSearchParams:fC,FormData:hC,Blob:gC},protocols:["http","https","file","blob","url","data"]},Qx=typeof window!="undefined"&&typeof document!="undefined",lx=typeof navigator=="object"&&navigator||void 0,pC=Qx&&(!lx||["ReactNative","NativeScript","NS"].indexOf(lx.product)<0),xC=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vC=Qx&&window.location.href||"http://localhost",yC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qx,hasStandardBrowserEnv:pC,hasStandardBrowserWebWorkerEnv:xC,navigator:lx,origin:vC},Symbol.toStringTag,{value:"Module"})),xi=zt(zt({},yC),mC);function wC(t,e){return Mm(t,new xi.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return xi.isNode&&Et.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function bC(t){return Et.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _C(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function Q3(t){function e(r,n,a,s){let c=r[s++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),g=s>=r.length;return c=!c&&Et.isArray(a)?a.length:c,g?(Et.hasOwnProp(a,c)?a[c]=[a[c],n]:a[c]=n,!h):((!a[c]||!Et.isObject(a[c]))&&(a[c]=[]),e(r,n,a[c],s)&&Et.isArray(a[c])&&(a[c]=_C(a[c])),!h)}if(Et.isFormData(t)&&Et.isFunction(t.entries)){const r={};return Et.forEachEntry(t,(n,a)=>{e(bC(n),a,r,0)}),r}return null}function EC(t,e,r){if(Et.isString(t))try{return(e||JSON.parse)(t),Et.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const kh={transitional:J3,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Et.isObject(e);if(s&&Et.isHTMLForm(e)&&(e=new FormData(e)),Et.isFormData(e))return a?JSON.stringify(Q3(e)):e;if(Et.isArrayBuffer(e)||Et.isBuffer(e)||Et.isStream(e)||Et.isFile(e)||Et.isBlob(e)||Et.isReadableStream(e))return e;if(Et.isArrayBufferView(e))return e.buffer;if(Et.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return wC(e,this.formSerializer).toString();if((h=Et.isFileList(e))||n.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Mm(h?{"files[]":e}:e,g&&new g,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),EC(e)):e}],transformResponse:[function(e){const r=this.transitional||kh.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Et.isResponse(e)||Et.isReadableStream(e))return e;if(e&&Et.isString(e)&&(n&&!this.responseType||a)){const c=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?Kr.from(h,Kr.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xi.classes.FormData,Blob:xi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Et.forEach(["delete","get","head","post","put","patch"],t=>{kh.headers[t]={}});const NC=Et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SC=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),n=c.substring(a+1).trim(),!(!r||e[r]&&NC[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},sb=Symbol("internals");function $f(t){return t&&String(t).trim().toLowerCase()}function Yg(t){return t===!1||t==null?t:Et.isArray(t)?t.map(Yg):String(t)}function AC(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const CC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function E2(t,e,r,n,a){if(Et.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Et.isString(e)){if(Et.isString(n))return e.indexOf(n)!==-1;if(Et.isRegExp(n))return n.test(e)}}function TC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function jC(t,e){const r=Et.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,c){return this[n].call(this,e,a,s,c)},configurable:!0})})}let Zi=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(h,g,u){const m=$f(g);if(!m)throw new Error("header name must be a non-empty string");const v=Et.findKey(a,m);(!v||a[v]===void 0||u===!0||u===void 0&&a[v]!==!1)&&(a[v||g]=Yg(h))}const c=(h,g)=>Et.forEach(h,(u,m)=>s(u,m,g));if(Et.isPlainObject(e)||e instanceof this.constructor)c(e,r);else if(Et.isString(e)&&(e=e.trim())&&!CC(e))c(SC(e),r);else if(Et.isObject(e)&&Et.isIterable(e)){let h={},g,u;for(const m of e){if(!Et.isArray(m))throw TypeError("Object iterator must return a key-value pair");h[u=m[0]]=(g=h[u])?Et.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}c(h,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=$f(e),e){const n=Et.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return AC(a);if(Et.isFunction(r))return r.call(this,a,n);if(Et.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=$f(e),e){const n=Et.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||E2(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(c){if(c=$f(c),c){const h=Et.findKey(n,c);h&&(!r||E2(n,n[h],h,r))&&(delete n[h],a=!0)}}return Et.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||E2(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return Et.forEach(this,(a,s)=>{const c=Et.findKey(n,s);if(c){r[c]=Yg(a),delete r[s];return}const h=e?TC(s):String(s).trim();h!==s&&delete r[s],r[h]=Yg(a),n[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Et.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Et.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[sb]=this[sb]={accessors:{}}).accessors,a=this.prototype;function s(c){const h=$f(c);n[h]||(jC(a,c),n[h]=!0)}return Et.isArray(e)?e.forEach(s):s(e),this}};Zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Et.reduceDescriptors(Zi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Et.freezeMethods(Zi);function N2(t,e){const r=this||kh,n=e||r,a=Zi.from(n.headers);let s=n.data;return Et.forEach(t,function(h){s=h.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function e_(t){return!!(t&&t.__CANCEL__)}function Yd(t,e,r){Kr.call(this,t==null?"canceled":t,Kr.ERR_CANCELED,e,r),this.name="CanceledError"}Et.inherits(Yd,Kr,{__CANCEL__:!0});function t_(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Kr("Request failed with status code "+r.status,[Kr.ERR_BAD_REQUEST,Kr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function OC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function RC(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,c;return e=e!==void 0?e:1e3,function(g){const u=Date.now(),m=n[s];c||(c=u),r[a]=g,n[a]=u;let v=s,b=0;for(;v!==a;)b+=r[v++],v=v%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-c<e)return;const _=m&&u-m;return _?Math.round(b*1e3/_):void 0}}function kC(t,e){let r=0,n=1e3/e,a,s;const c=(u,m=Date.now())=>{r=m,a=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const m=Date.now(),v=m-r;v>=n?c(u,m):(a=u,s||(s=setTimeout(()=>{s=null,c(a)},n-v)))},()=>a&&c(a)]}const am=(t,e,r=3)=>{let n=0;const a=RC(50,250);return kC(s=>{const c=s.loaded,h=s.lengthComputable?s.total:void 0,g=c-n,u=a(g),m=c<=h;n=c;const v={loaded:c,total:h,progress:h?c/h:void 0,bytes:g,rate:u||void 0,estimated:u&&h&&m?(h-c)/u:void 0,event:s,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(v)},r)},ib=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},ob=t=>(...e)=>Et.asap(()=>t(...e)),LC=xi.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,xi.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(xi.origin),xi.navigator&&/(msie|trident)/i.test(xi.navigator.userAgent)):()=>!0,IC=xi.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const c=[t+"="+encodeURIComponent(e)];Et.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),Et.isString(n)&&c.push("path="+n),Et.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function r_(t,e,r){let n=!DC(e);return t&&(n||r==!1)?PC(t,e):e}const lb=t=>t instanceof Zi?zt({},t):t;function v0(t,e){e=e||{};const r={};function n(u,m,v,b){return Et.isPlainObject(u)&&Et.isPlainObject(m)?Et.merge.call({caseless:b},u,m):Et.isPlainObject(m)?Et.merge({},m):Et.isArray(m)?m.slice():m}function a(u,m,v,b){if(Et.isUndefined(m)){if(!Et.isUndefined(u))return n(void 0,u,v,b)}else return n(u,m,v,b)}function s(u,m){if(!Et.isUndefined(m))return n(void 0,m)}function c(u,m){if(Et.isUndefined(m)){if(!Et.isUndefined(u))return n(void 0,u)}else return n(void 0,m)}function h(u,m,v){if(v in e)return n(u,m);if(v in t)return n(void 0,u)}const g={url:s,method:s,data:s,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(u,m,v)=>a(lb(u),lb(m),v,!0)};return Et.forEach(Object.keys(Object.assign({},t,e)),function(m){const v=g[m]||a,b=v(t[m],e[m],m);Et.isUndefined(b)&&v!==h||(r[m]=b)}),r}const n_=t=>{const e=v0({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:c,auth:h}=e;e.headers=c=Zi.from(c),e.url=Z3(r_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let g;if(Et.isFormData(r)){if(xi.hasStandardBrowserEnv||xi.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((g=c.getContentType())!==!1){const[u,...m]=g?g.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([u||"multipart/form-data",...m].join("; "))}}if(xi.hasStandardBrowserEnv&&(n&&Et.isFunction(n)&&(n=n(e)),n||n!==!1&&LC(e.url))){const u=a&&s&&IC.read(s);u&&c.set(a,u)}return e},FC=typeof XMLHttpRequest!="undefined",MC=FC&&function(t){return new Promise(function(r,n){const a=n_(t);let s=a.data;const c=Zi.from(a.headers).normalize();let{responseType:h,onUploadProgress:g,onDownloadProgress:u}=a,m,v,b,_,C;function A(){_&&_(),C&&C(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function L(){if(!j)return;const M=Zi.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),Q={data:!h||h==="text"||h==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:M,config:t,request:j};t_(function(V){r(V),A()},function(V){n(V),A()},Q),j=null}"onloadend"in j?j.onloadend=L:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(L)},j.onabort=function(){j&&(n(new Kr("Request aborted",Kr.ECONNABORTED,t,j)),j=null)},j.onerror=function(){n(new Kr("Network Error",Kr.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let X=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Q=a.transitional||J3;a.timeoutErrorMessage&&(X=a.timeoutErrorMessage),n(new Kr(X,Q.clarifyTimeoutError?Kr.ETIMEDOUT:Kr.ECONNABORTED,t,j)),j=null},s===void 0&&c.setContentType(null),"setRequestHeader"in j&&Et.forEach(c.toJSON(),function(X,Q){j.setRequestHeader(Q,X)}),Et.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),h&&h!=="json"&&(j.responseType=a.responseType),u&&([b,C]=am(u,!0),j.addEventListener("progress",b)),g&&j.upload&&([v,_]=am(g),j.upload.addEventListener("progress",v),j.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(m=M=>{j&&(n(!M||M.type?new Yd(null,t,j):M),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const D=OC(a.url);if(D&&xi.protocols.indexOf(D)===-1){n(new Kr("Unsupported protocol "+D+":",Kr.ERR_BAD_REQUEST,t));return}j.send(s||null)})},BC=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,h();const m=u instanceof Error?u:this.reason;n.abort(m instanceof Kr?m:new Yd(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,s(new Kr(`timeout ${e} of ms exceeded`,Kr.ETIMEDOUT))},e);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:g}=n;return g.unsubscribe=()=>Et.asap(h),g}},UC=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},zC=function(t,e){return h2(this,null,function*(){try{for(var r=Fw(HC(t)),n,a,s;n=!(a=yield new r0(r.next())).done;n=!1){const c=a.value;yield*g2(UC(c,e))}}catch(a){s=[a]}finally{try{n&&(a=r.return)&&(yield new r0(a.call(r)))}finally{if(s)throw s[0]}}})},HC=function(t){return h2(this,null,function*(){if(t[Symbol.asyncIterator]){yield*g2(t);return}const e=t.getReader();try{for(;;){const{done:r,value:n}=yield new r0(e.read());if(r)break;yield n}}finally{yield new r0(e.cancel())}})},cb=(t,e,r,n)=>{const a=zC(t,e);let s=0,c,h=u=>{c||(c=!0,n&&n(u))};return new ReadableStream({pull(u){return _e(this,null,function*(){try{const{done:m,value:v}=yield a.next();if(m){h(),u.close();return}let b=v.byteLength;if(r){let _=s+=b;r(_)}u.enqueue(new Uint8Array(v))}catch(m){throw h(m),m}})},cancel(u){return h(u),a.return()}},{highWaterMark:2})},Bm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a_=Bm&&typeof ReadableStream=="function",qC=Bm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):t=>_e(null,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())})),s_=(t,...e)=>{try{return!!t(...e)}catch(r){return!1}},VC=a_&&s_(()=>{let t=!1;const e=new Request(xi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ub=64*1024,cx=a_&&s_(()=>Et.isReadableStream(new Response("").body)),sm={stream:cx&&(t=>t.body)};Bm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!sm[e]&&(sm[e]=Et.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Kr(`Response type '${e}' is not supported`,Kr.ERR_NOT_SUPPORT,n)})})})(new Response);const WC=t=>_e(null,null,function*(){if(t==null)return 0;if(Et.isBlob(t))return t.size;if(Et.isSpecCompliantForm(t))return(yield new Request(xi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Et.isArrayBufferView(t)||Et.isArrayBuffer(t))return t.byteLength;if(Et.isURLSearchParams(t)&&(t=t+""),Et.isString(t))return(yield qC(t)).byteLength}),GC=(t,e)=>_e(null,null,function*(){const r=Et.toFiniteNumber(t.getContentLength());return r==null?WC(e):r}),$C=Bm&&(t=>_e(null,null,function*(){let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:c,onDownloadProgress:h,onUploadProgress:g,responseType:u,headers:m,withCredentials:v="same-origin",fetchOptions:b}=n_(t);u=u?(u+"").toLowerCase():"text";let _=BC([a,s&&s.toAbortSignal()],c),C;const A=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let j;try{if(g&&VC&&r!=="get"&&r!=="head"&&(j=yield GC(m,n))!==0){let Q=new Request(e,{method:"POST",body:n,duplex:"half"}),Y;if(Et.isFormData(n)&&(Y=Q.headers.get("content-type"))&&m.setContentType(Y),Q.body){const[V,H]=ib(j,am(ob(g)));n=cb(Q.body,ub,V,H)}}Et.isString(v)||(v=v?"include":"omit");const L="credentials"in Request.prototype;C=new Request(e,sr(zt({},b),{signal:_,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:L?v:void 0}));let D=yield fetch(C);const M=cx&&(u==="stream"||u==="response");if(cx&&(h||M&&A)){const Q={};["status","statusText","headers"].forEach(B=>{Q[B]=D[B]});const Y=Et.toFiniteNumber(D.headers.get("content-length")),[V,H]=h&&ib(Y,am(ob(h),!0))||[];D=new Response(cb(D.body,ub,V,()=>{H&&H(),A&&A()}),Q)}u=u||"text";let X=yield sm[Et.findKey(sm,u)||"text"](D,t);return!M&&A&&A(),yield new Promise((Q,Y)=>{t_(Q,Y,{data:X,headers:Zi.from(D.headers),status:D.status,statusText:D.statusText,config:t,request:C})})}catch(L){throw A&&A(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Kr("Network Error",Kr.ERR_NETWORK,t,C),{cause:L.cause||L}):Kr.from(L,L&&L.code,t,C)}})),ux={http:lC,xhr:MC,fetch:$C};Et.forEach(ux,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(r){}Object.defineProperty(t,"adapterName",{value:e})}});const db=t=>`- ${t}`,XC=t=>Et.isFunction(t)||t===null||t===!1,i_={getAdapter:t=>{t=Et.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let c;if(n=r,!XC(r)&&(n=ux[(c=String(r)).toLowerCase()],n===void 0))throw new Kr(`Unknown adapter '${c}'`);if(n)break;a[c||"#"+s]=n}if(!n){const s=Object.entries(a).map(([h,g])=>`adapter ${h} `+(g===!1?"is not supported by the environment":"is not available in the build"));let c=e?s.length>1?`since :
`+s.map(db).join(`
`):" "+db(s[0]):"as no adapter specified";throw new Kr("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:ux};function S2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yd(null,t)}function fb(t){return S2(t),t.headers=Zi.from(t.headers),t.data=N2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),i_.getAdapter(t.adapter||kh.adapter)(t).then(function(n){return S2(t),n.data=N2.call(t,t.transformResponse,n),n.headers=Zi.from(n.headers),n},function(n){return e_(n)||(S2(t),n&&n.response&&(n.response.data=N2.call(t,t.transformResponse,n.response),n.response.headers=Zi.from(n.response.headers))),Promise.reject(n)})}const o_="1.9.0",Um={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Um[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const hb={};Um.transitional=function(e,r,n){function a(s,c){return"[Axios v"+o_+"] Transitional option '"+s+"'"+c+(n?". "+n:"")}return(s,c,h)=>{if(e===!1)throw new Kr(a(c," has been removed"+(r?" in "+r:"")),Kr.ERR_DEPRECATED);return r&&!hb[c]&&(hb[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,c,h):!0}};Um.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function YC(t,e,r){if(typeof t!="object")throw new Kr("options must be an object",Kr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],c=e[s];if(c){const h=t[s],g=h===void 0||c(h,s,t);if(g!==!0)throw new Kr("option "+s+" must be "+g,Kr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Kr("Unknown option "+s,Kr.ERR_BAD_OPTION)}}const Kg={assertOptions:YC,validators:Um},Zl=Kg.validators;let m0=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ab,response:new ab}}request(e,r){return _e(this,null,function*(){try{return yield this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch(c){}}throw n}})}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=v0(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Kg.assertOptions(n,{silentJSONParsing:Zl.transitional(Zl.boolean),forcedJSONParsing:Zl.transitional(Zl.boolean),clarifyTimeoutError:Zl.transitional(Zl.boolean)},!1),a!=null&&(Et.isFunction(a)?r.paramsSerializer={serialize:a}:Kg.assertOptions(a,{encode:Zl.function,serialize:Zl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Kg.assertOptions(r,{baseUrl:Zl.spelling("baseURL"),withXsrfToken:Zl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=s&&Et.merge(s.common,s[r.method]);s&&Et.forEach(["delete","get","head","post","put","patch","common"],C=>{delete s[C]}),r.headers=Zi.concat(c,s);const h=[];let g=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(g=g&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const u=[];this.interceptors.response.forEach(function(A){u.push(A.fulfilled,A.rejected)});let m,v=0,b;if(!g){const C=[fb.bind(this),void 0];for(C.unshift.apply(C,h),C.push.apply(C,u),b=C.length,m=Promise.resolve(r);v<b;)m=m.then(C[v++],C[v++]);return m}b=h.length;let _=r;for(v=0;v<b;){const C=h[v++],A=h[v++];try{_=C(_)}catch(j){A.call(this,j);break}}try{m=fb.call(this,_)}catch(C){return Promise.reject(C)}for(v=0,b=u.length;v<b;)m=m.then(u[v++],u[v++]);return m}getUri(e){e=v0(this.defaults,e);const r=r_(e.baseURL,e.url,e.allowAbsoluteUrls);return Z3(r,e.params,e.paramsSerializer)}};Et.forEach(["delete","get","head","options"],function(e){m0.prototype[e]=function(r,n){return this.request(v0(n||{},{method:e,url:r,data:(n||{}).data}))}});Et.forEach(["post","put","patch"],function(e){function r(n){return function(s,c,h){return this.request(v0(h||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:c}))}}m0.prototype[e]=r(),m0.prototype[e+"Form"]=r(!0)});let KC=class l_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const c=new Promise(h=>{n.subscribe(h),s=h}).then(a);return c.cancel=function(){n.unsubscribe(s)},c},e(function(s,c,h){n.reason||(n.reason=new Yd(s,c,h),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new l_(function(a){e=a}),cancel:e}}};function ZC(t){return function(r){return t.apply(null,r)}}function JC(t){return Et.isObject(t)&&t.isAxiosError===!0}const dx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dx).forEach(([t,e])=>{dx[e]=t});function c_(t){const e=new m0(t),r=B3(m0.prototype.request,e);return Et.extend(r,m0.prototype,e,{allOwnKeys:!0}),Et.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return c_(v0(t,a))},r}const ds=c_(kh);ds.Axios=m0;ds.CanceledError=Yd;ds.CancelToken=KC;ds.isCancel=e_;ds.VERSION=o_;ds.toFormData=Mm;ds.AxiosError=Kr;ds.Cancel=ds.CanceledError;ds.all=function(e){return Promise.all(e)};ds.spread=ZC;ds.isAxiosError=JC;ds.mergeConfig=v0;ds.AxiosHeaders=Zi;ds.formToJSON=t=>Q3(Et.isHTMLForm(t)?new FormData(t):t);ds.getAdapter=i_.getAdapter;ds.HttpStatusCode=dx;ds.default=ds;const{Axios:qU,AxiosError:VU,CanceledError:WU,isCancel:GU,CancelToken:$U,VERSION:XU,all:YU,Cancel:KU,isAxiosError:ZU,spread:JU,toFormData:QU,AxiosHeaders:ez,HttpStatusCode:tz,formToJSON:rz,getAdapter:nz,mergeConfig:az}=ds,QC=window.location.hostname==="localhost",ev=QC?"http://localhost:3000/api":"/api",e7=null;console.log("=== API CONFIGURATION ===");console.log("API URL:",ev);console.log("API Version:",e7);console.log("=== API CONFIGURATION END ===");const Gr=ds.create({baseURL:ev,headers:{"Content-Type":"application/json"},withCredentials:!0});Gr.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),console.log(`=== API REQUEST: ${t.method.toUpperCase()} ${t.url} ===`),console.log("Request headers:",t.headers),t.data&&console.log("Request payload:",t.data),t.params&&console.log("Request params:",t.params),t},t=>(console.error("=== API REQUEST ERROR ==="),console.error("Request error:",t),Promise.reject(t)));Gr.interceptors.response.use(t=>(console.log(`=== API RESPONSE: ${t.status} ${t.statusText} ===`),console.log("Response URL:",t.config.url),console.log("Response headers:",t.headers),console.log("Response data:",t.data),console.log("=== API RESPONSE END ==="),t),t=>(console.error("=== API RESPONSE ERROR ==="),console.error("Error:",t),t.response?(console.error("Response status:",t.response.status),console.error("Response headers:",t.response.headers),console.error("Response data:",t.response.data)):t.request?(console.error("No response received:",t.request),console.error("No response received for request to:",t.config.url)):console.error("Request setup error:",t.message),console.error("Request config:",t.config),console.error("=== API RESPONSE ERROR END ==="),t.response&&t.response.status===401&&(console.log("Unauthorized access detected, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const t7=(t,e)=>_e(null,null,function*(){var r,n;try{console.log("Attempting login with:",{email:t,password:e});const a=yield Gr.post("/auth/login",{email:t,password:e});return console.log("Login response:",a.data),a.data}catch(a){throw console.error("Login error:",a),console.error("Error response:",a.response),new Error(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Login failed")}}),r7=t=>_e(null,null,function*(){var e,r;try{console.log("Attempting registration with:",t);const n=yield Gr.post("/auth/register",t);return console.log("Registration response:",n.data),n.data}catch(n){throw console.error("Register error:",n),console.error("Error response:",n.response),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Registration failed")}}),n7=()=>_e(null,null,function*(){try{return console.log("Attempting logout"),localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("Logout successful"),{message:"Logged out successfully"}}catch(t){throw console.error("Logout error:",t),new Error("Logout failed")}}),a7=t=>_e(null,null,function*(){var e,r;try{console.log("Updating user profile with:",t);const n=yield Gr.put("/users/profile",t);console.log("Update profile response:",n.data);const a=localStorage.getItem("user");if(a){const s=JSON.parse(a),c=zt(zt({},s),n.data.data);localStorage.setItem("user",JSON.stringify(c))}return n.data}catch(n){throw console.error("Update profile error:",n),console.error("Error response:",n.response),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to update profile")}}),fx=()=>_e(null,null,function*(){var t,e,r,n,a;try{console.log(" getUserProfile: Fetching user profile");const s=yield Gr.get("/users/profile");console.log(" getUserProfile: Response received:",{status:s.status,statusText:s.statusText,hasData:!!s.data,dataKeys:Object.keys(s.data||{})}),console.log(" getUserProfile: Full response data:",s.data);const c=localStorage.getItem("user");if(c){const h=JSON.parse(c),g=zt(zt({},h),s.data.data);localStorage.setItem("user",JSON.stringify(g)),console.log(" getUserProfile: Updated stored user data")}return s.data}catch(s){throw console.error(" getUserProfile: Error fetching profile:",s),console.error(" getUserProfile: Error details:",{message:s.message,status:(t=s.response)==null?void 0:t.status,statusText:(e=s.response)==null?void 0:e.statusText,data:(r=s.response)==null?void 0:r.data}),new Error(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to fetch profile")}}),u_=ee.createContext(),bi=()=>ee.useContext(u_),s7=({children:t})=>{const[e,r]=ee.useState(null),[n,a]=ee.useState(!0),[s,c]=ee.useState(null);ee.useEffect(()=>{const C=localStorage.getItem("user"),A=localStorage.getItem("token");C&&A&&r(JSON.parse(C)),a(!1)},[]);const _={user:e,loading:n,error:s,login:(C,A)=>_e(null,null,function*(){a(!0),c(null);try{const j=yield t7(C,A);if(j.token){localStorage.setItem("token",j.token),localStorage.setItem("user",JSON.stringify(j.user)),r(j.user);const L=localStorage.getItem("cart");if(L)try{const{importCart:D}=yield Co(()=>_e(null,null,function*(){const{importCart:X}=yield Promise.resolve().then(()=>zm);return{importCart:X}}),[]),M=JSON.parse(L);console.log("Importing cart items to database:",M),yield D(M),localStorage.removeItem("cart"),console.log("Cart imported successfully and removed from localStorage")}catch(D){console.error("Failed to import cart:",D)}}return j}catch(j){throw c(j.message||"Failed to login"),j}finally{a(!1)}}),register:C=>_e(null,null,function*(){a(!0),c(null);try{const A=yield r7(C);return A.verification_required||A.token&&(localStorage.setItem("token",A.token),localStorage.setItem("user",JSON.stringify(A.user)),r(A.user)),A}catch(A){throw c(A.message||"Failed to register"),A}finally{a(!1)}}),logout:()=>_e(null,null,function*(){a(!0);try{yield n7(),localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)}catch(C){console.error("Logout error:",C)}finally{a(!1)}}),isAuthenticated:()=>!!e,isAdmin:()=>e&&e.role==="admin",updateUserData:C=>{if(e){const A=zt(zt({},e),C);r(A),localStorage.setItem("user",JSON.stringify(A))}}};return i.jsx(u_.Provider,{value:_,children:t})},Nd=()=>_e(null,null,function*(){var t,e,r,n;console.log("=== FRONTEND: GET CART REQUEST ===");try{console.log("Sending request to:","/cart");const a=yield Gr.get("/cart");return console.log("Response data:",a.data),console.log("=== FRONTEND: GET CART RESPONSE SUCCESS ==="),a.data}catch(a){throw console.error("=== FRONTEND: GET CART ERROR ==="),console.error("Error fetching cart:",a),console.error("Error response:",a.response),console.error("Error message:",a.message),console.error("Error response data:",(t=a.response)==null?void 0:t.data),console.error("Error response status:",(e=a.response)==null?void 0:e.status),console.error("=== FRONTEND: GET CART ERROR END ==="),new Error(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to fetch cart")}}),d_=(t,e=1)=>_e(null,null,function*(){var r,n,a,s;console.log("=== FRONTEND: ADD TO CART REQUEST ==="),console.log("Product ID:",t),console.log("Quantity:",e);try{console.log("Sending request to:","/cart"),console.log("Request payload:",{product_id:t,quantity:e});const c=yield Gr.post("/cart",{product_id:t,quantity:e});return console.log("Response status:",c.status),console.log("Response data:",c.data),console.log("=== FRONTEND: ADD TO CART RESPONSE SUCCESS ==="),c.data}catch(c){throw console.error("=== FRONTEND: ADD TO CART ERROR ==="),console.error("Error adding to cart:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),console.error("=== FRONTEND: ADD TO CART ERROR END ==="),new Error(((s=(a=c.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to add item to cart")}}),f_=(t,e)=>_e(null,null,function*(){var r,n,a,s;console.log("=== FRONTEND: UPDATE CART ITEM REQUEST ==="),console.log("Item ID:",t),console.log("New quantity:",e);try{console.log(`Trying update cart item endpoint: /cart/${t}`);const c=yield Gr.put(`/cart/${t}`,{quantity:e});return console.log("Update cart item endpoint successful"),console.log("Response data:",c.data),c.data}catch(c){throw console.error("=== FRONTEND: UPDATE CART ITEM ERROR ==="),console.error("Error updating cart item:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),new Error(((s=(a=c.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to update cart item")}}),h_=t=>_e(null,null,function*(){var e,r,n,a;console.log("=== FRONTEND: REMOVE FROM CART REQUEST ==="),console.log("Item ID:",t);try{console.log(`Trying remove from cart endpoint: /cart/${t}`);const s=yield Gr.delete(`/cart/${t}`);return console.log("Remove from cart endpoint successful"),console.log("Response data:",s.data),s.data}catch(s){throw console.error("=== FRONTEND: REMOVE FROM CART ERROR ==="),console.error("Error removing from cart:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(e=s.response)==null?void 0:e.data),console.error("Error response status:",(r=s.response)==null?void 0:r.status),new Error(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to remove item from cart")}}),g_=()=>_e(null,null,function*(){var t,e,r,n;console.log("=== FRONTEND: CLEAR CART REQUEST ===");try{console.log("Trying clear cart endpoint: /cart");const a=yield Gr.delete("/cart");return console.log("Clear cart endpoint successful"),console.log("Response data:",a.data),a.data}catch(a){throw console.error("=== FRONTEND: CLEAR CART ERROR ==="),console.error("Error clearing cart:",a),console.error("Error response:",a.response),console.error("Error message:",a.message),console.error("Error response data:",(t=a.response)==null?void 0:t.data),console.error("Error response status:",(e=a.response)==null?void 0:e.status),new Error(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to clear cart")}}),i7=t=>_e(null,null,function*(){var e,r,n,a;console.log("=== FRONTEND: IMPORT CART REQUEST ==="),console.log("Cart items:",t);try{const s=yield Gr.put("/cart",{items:t,import_mode:"import"});return console.log("Import cart successful:",s.data),s.data}catch(s){throw console.error("=== FRONTEND: IMPORT CART ERROR ==="),console.error("Error importing cart:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(e=s.response)==null?void 0:e.data),console.error("Error response status:",(r=s.response)==null?void 0:r.status),new Error(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to import cart")}}),zm=Object.freeze(Object.defineProperty({__proto__:null,addToCart:d_,clearCart:g_,getCart:Nd,importCart:i7,removeFromCart:h_,updateCartItem:f_},Symbol.toStringTag,{value:"Module"})),m_=ee.createContext(),Kd=()=>ee.useContext(m_),o7=({children:t})=>{const{isAuthenticated:e}=bi(),[r,n]=ee.useState([]),[a,s]=ee.useState(0),[c,h]=ee.useState(0),[g,u]=ee.useState(!1),[m,v]=ee.useState(null);ee.useEffect(()=>{_e(null,null,function*(){var M;if(u(!0),v(null),e())try{console.log("Fetching cart from database for authenticated user");const X=yield Nd();if(n(X.items||[]),s(X.total||0),h(X.count||0),(((M=X.items)==null?void 0:M.length)===0||!X.items)&&localStorage.getItem("cart"))try{const Q=localStorage.getItem("cart"),Y=JSON.parse(Q);if(Y&&Y.length>0){console.log("Importing cart items from localStorage to database:",Y);const{importCart:V}=yield Co(()=>_e(null,null,function*(){const{importCart:B}=yield Promise.resolve().then(()=>zm);return{importCart:B}}),void 0);yield V(Y);const H=yield Nd();n(H.items||[]),s(H.total||0),h(H.count||0),localStorage.removeItem("cart"),console.log("Cart imported successfully and removed from localStorage")}}catch(Q){console.error("Failed to import cart from localStorage:",Q)}}catch(X){console.error("Failed to fetch cart from database:",X),v("Failed to load cart data");const Q=localStorage.getItem("cart");if(Q){const Y=JSON.parse(Q);n(Y);const V=Y.reduce((H,B)=>H+B.price*B.quantity,0);s(V),h(Y.length)}}finally{u(!1)}else{console.log("Using localStorage cart for non-authenticated user");const X=localStorage.getItem("cart");if(X)try{const Q=JSON.parse(X);n(Q);const Y=Q.reduce((V,H)=>V+H.price*H.quantity,0);s(Y),h(Q.length)}catch(Q){console.error("Failed to parse cart from localStorage:",Q),v("Failed to load cart data from localStorage"),localStorage.removeItem("cart")}else n([]),s(0),h(0);u(!1)}})},[e]),ee.useEffect(()=>{if(!e()){localStorage.setItem("cart",JSON.stringify(r));const D=r.reduce((M,X)=>M+X.price*X.quantity,0);s(D),h(r.length)}},[r,e]);const L={cart:r,total:a,loading:g,error:m,addToCart:(D,M=1)=>_e(null,null,function*(){var X,Q,Y;console.log("=== CART CONTEXT: ADD TO CART ==="),console.log("Product:",D),console.log("Quantity:",M),console.log("Available stock:",D.quantity),console.log("Is authenticated:",e());try{if(!D.quantity||D.quantity<=0)throw v("This product is out of stock"),new Error("Product is out of stock");if(M>D.quantity)throw v(`Only ${D.quantity} items available in stock`),new Error(`Requested quantity (${M}) exceeds available stock (${D.quantity})`);const V=D.product_id||D.id,H=r.find(q=>(q.product_id||q.id)===V),B=H?H.quantity:0;if(B+M>D.quantity){const q=D.quantity-B;throw q<=0?(v("You already have the maximum available quantity in your cart"),new Error("Maximum quantity already in cart")):(v(`You can only add ${q} more of this item (${B} already in cart, ${D.quantity} total stock)`),new Error(`Can only add ${q} more items`))}console.log("Stock validation passed"),console.log("Using product_id:",V);try{console.log("Attempting to add to cart via API"),yield d_(V,M),console.log("API call successful"),console.log("Refreshing cart data");const q=yield Nd();console.log("Cart data received:",q),n(q.items||[]),s(q.total||0),h(q.count||0),console.log("Cart state updated from API")}catch(q){console.error("API call failed, falling back to localStorage:",q);const G=((Q=(X=q.response)==null?void 0:X.data)==null?void 0:Q.message)||q.message||"Failed to add item to cart";if(v(G),((Y=q.response)==null?void 0:Y.status)===400)throw console.log("Stock/inventory error - not using localStorage fallback"),new Error(G);if(!e())console.log("Using localStorage for non-authenticated user"),n(se=>{const ye=se.findIndex(me=>(me.product_id||me.id)===V);if(console.log("Existing item index:",ye),ye>=0){console.log("Updating existing item");const me=[...se];return me[ye].quantity+=M,console.log("Updated cart:",me),me}else{console.log("Adding new item");const me=[...se,{product_id:V,name:D.name,price:D.price,quantity:M,image_url:D.image_url,subtotal:D.price*M,stock_quantity:D.quantity}];return console.log("New cart:",me),me}});else throw console.error("API failed for authenticated user and localStorage fallback not available"),new Error(G)}console.log("=== CART CONTEXT: ADD TO CART SUCCESS ===")}catch(V){console.error("=== CART CONTEXT: ADD TO CART ERROR ==="),console.error("Failed to add to cart:",V),console.error("Error message:",V.message),console.error("=== CART CONTEXT: ADD TO CART ERROR END ==="),m||v("Failed to add item to cart")}}),updateQuantity:(D,M,X,Q=null)=>_e(null,null,function*(){try{if(X<=0){v("Quantity must be at least 1");return}const Y=r.find(H=>(H.product_id||H.id)===M),V=Q||(Y==null?void 0:Y.stock_quantity);if(V&&X>V){v(`Only ${V} items available in stock`);return}if(e()){yield f_(D,X);const H=yield Nd();n(H.items||[]),s(H.total||0),h(H.count||0)}else n(H=>H.map(B=>B.product_id===M?sr(zt({},B),{quantity:X,subtotal:B.price*X}):B))}catch(Y){console.error("Failed to update cart item:",Y),v("Failed to update cart item")}}),removeFromCart:(D,M)=>_e(null,null,function*(){try{if(e()){yield h_(D);const X=yield Nd();n(X.items||[]),s(X.total||0),h(X.count||0)}else n(X=>X.filter(Q=>Q.product_id!==M))}catch(X){console.error("Failed to remove from cart:",X),v("Failed to remove item from cart")}}),clearCart:()=>_e(null,null,function*(){try{e()?(yield g_(),n([]),s(0),h(0)):(n([]),s(0),h(0),localStorage.removeItem("cart"))}catch(D){console.error("Failed to clear cart:",D),v("Failed to clear cart")}}),getItemCount:()=>r.reduce((D,M)=>D+parseInt(M.quantity),0)};return i.jsx(m_.Provider,{value:L,children:t})},l7=({id:t,message:e,type:r,onClose:n})=>{const[a,s]=ee.useState(!1);ee.useEffect(()=>{const u=setTimeout(()=>{s(!0)},10);return()=>clearTimeout(u)},[]);const c=()=>{s(!1),setTimeout(()=>{n()},300)},h=()=>{switch(r){case _o.SUCCESS:return"bg-green-100 border-green-500 text-green-800";case _o.ERROR:return"bg-red-100 border-red-500 text-red-800";case _o.WARNING:return"bg-yellow-100 border-yellow-500 text-yellow-800";case _o.INFO:default:return"bg-blue-100 border-blue-500 text-blue-800"}},g=()=>{switch(r){case _o.SUCCESS:return i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});case _o.ERROR:return i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})});case _o.WARNING:return i.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case _o.INFO:default:return i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return i.jsx("div",{className:`transform transition-all duration-300 ease-in-out ${a?"translate-x-0 opacity-100":"translate-x-full opacity-0"} max-w-md w-full shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5 ${h()}`,role:"alert",children:i.jsx("div",{className:"flex-1 p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:g()}),i.jsx("div",{className:"ml-3 flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:e})}),i.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:i.jsxs("button",{className:"inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:c,children:[i.jsx("span",{className:"sr-only",children:"Close"}),i.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})})},p_=ee.createContext(),_o={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},c7=({children:t})=>{const[e,r]=ee.useState([]),n=ee.useCallback((m,v=_o.INFO,b=3e3)=>{const _=Date.now();return r(C=>[...C,{id:_,message:m,type:v,duration:b}]),setTimeout(()=>{a(_)},b),_},[]),a=ee.useCallback(m=>{r(v=>v.filter(b=>b.id!==m))},[]),s=ee.useCallback((m,v)=>n(m,_o.SUCCESS,v),[n]),c=ee.useCallback((m,v)=>n(m,_o.ERROR,v),[n]),h=ee.useCallback((m,v)=>n(m,_o.INFO,v),[n]),g=ee.useCallback((m,v)=>n(m,_o.WARNING,v),[n]),u={toasts:e,addToast:n,removeToast:a,success:s,error:c,info:h,warning:g};return i.jsxs(p_.Provider,{value:u,children:[t,i.jsx("div",{className:"toast-container fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(m=>i.jsx(l7,{id:m.id,message:m.message,type:m.type,onClose:()=>a(m.id)},m.id))})]})},ja=()=>{const t=ee.useContext(p_);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},A2=()=>_e(null,null,function*(){var t,e,r;console.log("=== GET WISHLIST API CALL ===");try{const n=yield Gr.get("/wishlist");if(console.log("Wishlist fetched successfully:",n.data),n.data&&n.data.success){const s=(((t=n.data.data)==null?void 0:t.items)||[]).filter(c=>c&&c.id&&c.products&&c.products.name);return sr(zt({},n.data.data),{items:s,count:s.length})}else return console.warn("Unexpected wishlist response format:",n.data),{items:[],count:0}}catch(n){return console.error("=== GET WISHLIST ERROR ==="),console.error("Error fetching wishlist:",n),console.error("Error response:",n.response),console.error("Error message:",n.message),console.error("Error response data:",(e=n.response)==null?void 0:e.data),console.error("Error response status:",(r=n.response)==null?void 0:r.status),{items:[],count:0}}}),u7=t=>_e(null,null,function*(){var e,r,n,a,s;console.log("=== ADD TO WISHLIST API CALL ==="),console.log("Product ID:",t);try{const c=yield Gr.post("/wishlist",{product_id:t});if(console.log("Added to wishlist successfully:",c.data),c.data&&c.data.success)return c.data;throw new Error(((e=c.data)==null?void 0:e.message)||"Failed to add to wishlist")}catch(c){throw console.error("=== ADD TO WISHLIST ERROR ==="),console.error("Error adding to wishlist:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),new Error(((s=(a=c.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to add to wishlist")}}),x_=t=>_e(null,null,function*(){var e,r,n,a,s;console.log("=== REMOVE FROM WISHLIST API CALL ==="),console.log("Product ID:",t);try{const c=yield Gr.delete("/wishlist",{data:{product_id:t}});if(console.log("Removed from wishlist successfully:",c.data),c.data&&c.data.success)return c.data;throw new Error(((e=c.data)==null?void 0:e.message)||"Failed to remove from wishlist")}catch(c){throw console.error("=== REMOVE FROM WISHLIST ERROR ==="),console.error("Error removing from wishlist:",c),console.error("Error response:",c.response),console.error("Error message:",c.message),console.error("Error response data:",(r=c.response)==null?void 0:r.data),console.error("Error response status:",(n=c.response)==null?void 0:n.status),new Error(((s=(a=c.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to remove from wishlist")}}),d7=(t,e=1)=>_e(null,null,function*(){console.log("=== MOVE TO CART API CALL ==="),console.log("Product ID:",t,"Quantity:",e);try{const{addToCart:r}=yield Co(()=>_e(null,null,function*(){const{addToCart:n}=yield Promise.resolve().then(()=>zm);return{addToCart:n}}),void 0);return yield r(t,e),yield x_(t),console.log("Successfully moved from wishlist to cart"),{success:!0,message:"Item moved to cart"}}catch(r){throw console.error("Error moving to cart:",r),new Error(r.message||"Failed to move item to cart")}}),v_=ee.createContext(),tv=()=>ee.useContext(v_),f7=({children:t})=>{const[e,r]=ee.useState([]),[n,a]=ee.useState(!1),[s,c]=ee.useState(null),{isAuthenticated:h}=bi();let g,u;try{const D=ja();g=D.success,u=D.error}catch(D){console.warn("Toast context not available, using console fallbacks"),g=M=>console.log("Success:",M),u=M=>console.error("Error:",M)}ee.useEffect(()=>{_e(null,null,function*(){if(h()){a(!0),c(null);try{console.log("Fetching wishlist from database for authenticated user");const X=((yield A2()).items||[]).filter(Q=>Q&&Q.id&&Q.products&&Q.products.name);r(X)}catch(M){console.error("Failed to fetch wishlist:",M),c("Failed to load wishlist")}finally{a(!1)}}else r([])})},[h]);const L={wishlist:e,loading:n,error:s,addItem:D=>_e(null,null,function*(){if(!h())return u("Please login to add items to your wishlist"),!1;console.log("=== WISHLIST CONTEXT: ADD ITEM ==="),console.log("Product:",D);try{if(c(null),e.find(Y=>Y.product_id===D.id))return u("Item is already in your wishlist"),!1;yield u7(D.id);const Q=((yield A2()).items||[]).filter(Y=>Y&&Y.id&&Y.products&&Y.products.name);return r(Q),g(`${D.name} added to wishlist`),!0}catch(M){console.error("Failed to add to wishlist:",M);const X=M.message||"Failed to add item to wishlist";return c(X),u(X),!1}}),removeItem:(D,M="Item")=>_e(null,null,function*(){if(!h())return!1;console.log("=== WISHLIST CONTEXT: REMOVE ITEM ==="),console.log("Product ID:",D);try{return c(null),yield x_(D),r(X=>X.filter(Q=>Q&&Q.product_id!==D)),g(`${M} removed from wishlist`),!0}catch(X){console.error("Failed to remove from wishlist:",X);const Q=X.message||"Failed to remove item from wishlist";return c(Q),u(Q),!1}}),moveItemToCart:(D,M=1)=>_e(null,null,function*(){var X;if(!h())return u("Please login to move items to cart"),!1;console.log("=== WISHLIST CONTEXT: MOVE TO CART ==="),console.log("Product ID:",D,"Quantity:",M);try{c(null);const Q=e.find(V=>V.product_id===D),Y=((X=Q==null?void 0:Q.products)==null?void 0:X.name)||"Item";return yield d7(D,M),r(V=>V.filter(H=>H.product_id!==D)),g(`${Y} moved to cart`),!0}catch(Q){console.error("Failed to move to cart:",Q);const Y=Q.message||"Failed to move item to cart";return c(Y),u(Y),!1}}),isInWishlist:D=>{try{return Array.isArray(e)?e.some(M=>M.product_id===D):!1}catch(M){return console.error("Error checking wishlist:",M),!1}},getWishlistCount:()=>{try{return Array.isArray(e)?e.length:0}catch(D){return console.error("Error getting wishlist count:",D),0}},clearWishlist:()=>{r([]),c(null)},refreshWishlist:()=>_e(null,null,function*(){if(h()){a(!0);try{const D=yield A2();r(D.items||[])}catch(D){console.error("Failed to refresh wishlist:",D),c("Failed to refresh wishlist")}finally{a(!1)}}})};return i.jsx(v_.Provider,{value:L,children:t})},h7=ee.createContext(),g7=({children:t})=>{const[e,r]=ee.useState(null),[n,a]=ee.useState(!0);ee.useEffect(()=>{s()},[]);const s=()=>_e(null,null,function*(){try{const u=yield(yield fetch("/api/admin/site-config")).json();u.success&&u.config.logo&&r(u.config.logo)}catch(g){console.error("Error fetching logo:",g)}finally{a(!1)}}),h={logo:e,loading:n,updateLogo:g=>{r(g)},refreshLogo:s};return i.jsx(h7.Provider,{value:h,children:t})},m7=()=>{console.log("=== FORCE RELOADING ALL ASSETS ==="),"caches"in window&&caches.keys().then(r=>{r.forEach(n=>{caches.delete(n),console.log(`Cache ${n} deleted`)})});try{localStorage.clear(),sessionStorage.clear()}catch(r){console.error("Error clearing storage:",r)}const t=new Date().getTime(),e=Math.floor(Math.random()*1e6);window.location.href=`${window.location.pathname}?force_reload=${t}_${e}`},p7=()=>{const t=new URLSearchParams(window.location.search),e=t.get("cache_bust"),r=t.get("force_reload");if(e||r){t.delete("cache_bust"),t.delete("force_reload");const n=window.location.pathname+(t.toString()?`?${t.toString()}`:"");return window.history.replaceState({},document.title,n),console.log(r?"=== PAGE FORCE RELOADED ===":"=== PAGE RELOADED WITH CACHE BUST ==="),!0}return!1},y_=t=>_e(null,null,function*(){var e,r,n,a;try{console.log("Uploading file:",t.name,"Size:",t.size,"Type:",t.type);const s=yield new Promise((v,b)=>{const _=new FileReader;_.onload=()=>{const A=_.result.split(",")[1];v(A)},_.onerror=b,_.readAsDataURL(t)});console.log("File converted to base64, length:",s.length);const h=JSON.parse(localStorage.getItem("user")||"{}").token||"";console.log("Using auth token:",h?"Token exists":"No token");const g={"Content-Type":"application/json"};h&&(g.Authorization=`Bearer ${h}`);const u={filename:t.name,mimetype:t.type,data:s};console.log("Making upload request to:","/upload"),console.log("Headers:",g),console.log("Payload size:",JSON.stringify(u).length,"bytes");const m=yield Gr.post("/upload",u,{headers:g,timeout:3e4,maxContentLength:1/0,maxBodyLength:1/0});if(console.log("Upload response:",m.data),m.data.success){const v=m.data.file_url||((e=m.data.data)==null?void 0:e.url);if(v)return console.log("Upload successful:",v),v;throw console.error("No file URL found in response:",m.data),new Error("No file URL received from server")}else throw new Error(m.data.message||"Upload failed")}catch(s){throw console.error("Error uploading image:",s),console.error("Error details:",((r=s.response)==null?void 0:r.data)||"No response data"),new Error(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to upload image")}}),Su=(...e)=>_e(null,[...e],function*(t={}){var r,n,a,s,c,h;try{console.log(" getProducts: Starting API call with params:",t);const{page:g=1,limit:u=12,search:m="",category:v="",categories:b="",sortBy:_="created_at",sortOrder:C="desc"}=t,A=new URLSearchParams({page:g.toString(),limit:u.toString(),sortBy:_,sortOrder:C});m&&A.append("search",m),v&&A.append("category",v),b&&A.append("categories",b);const j=`/products?${A}`;console.log(" getProducts: Making request to:",j);const L=yield Gr.get(j);console.log(" getProducts: Raw API response:",{status:L.status,statusText:L.statusText,dataKeys:Object.keys(L.data||{}),dataType:typeof L.data,hasData:!!((r=L.data)!=null&&r.data),dataLength:(a=(n=L.data)==null?void 0:n.data)==null?void 0:a.length});const M=(L.data.data||[]).filter(X=>X&&X.id&&X.name).map(X=>sr(zt({},X),{category_id:String(X.category_id)}));return console.log(` getProducts: Processed ${M.length} products (page ${g})`),console.log(" getProducts: Sample products:",M.slice(0,2)),{products:M,pagination:L.data.pagination,filters:L.data.filters}}catch(g){return console.error(" getProducts: Error fetching products:",g),console.error(" getProducts: Error details:",{message:g.message,status:(s=g.response)==null?void 0:s.status,statusText:(c=g.response)==null?void 0:c.statusText,data:(h=g.response)==null?void 0:h.data}),{products:[],pagination:null,filters:null}}}),Hm=t=>_e(null,null,function*(){var e,r,n,a,s,c,h;try{console.log(" getProductById: Fetching product with ID:",t);const g=`/products/${t}`;console.log(" getProductById: Making request to:",g);const u=yield Gr.get(g);return console.log(" getProductById: Response received:",{status:u.status,statusText:u.statusText,hasData:!!((e=u.data)!=null&&e.data),dataKeys:Object.keys(u.data||{})}),console.log(" getProductById: Product data:",u.data.data),u.data.data}catch(g){throw console.error(" getProductById: Error fetching product:",g),console.error(" getProductById: Error details:",{message:g.message,status:(r=g.response)==null?void 0:r.status,statusText:(n=g.response)==null?void 0:n.statusText,data:(a=g.response)==null?void 0:a.data,url:(s=g.config)==null?void 0:s.url}),new Error(((h=(c=g.response)==null?void 0:c.data)==null?void 0:h.message)||"Failed to fetch product")}}),rv=t=>_e(null,null,function*(){try{const n=((yield Gr.get(`/products?search=${t}`)).data.data||[]).map(a=>sr(zt({},a),{category_id:String(a.category_id)}));return console.log(`Search found ${n.length} products for query "${t}"`),n}catch(e){return console.error("Error searching products:",e),[]}}),nv=t=>_e(null,null,function*(){var e,r;try{return(yield Gr.post("/products",t)).data}catch(n){throw console.error("Error creating product:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to create product")}}),w_=t=>_e(null,null,function*(){var e,r;try{return(yield Gr.put(`/products/${t.id}`,t)).data}catch(n){throw console.error("Error updating product:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to update product")}}),im=t=>_e(null,null,function*(){var e,r;try{return(yield Gr.delete(`/products/${t}`)).data}catch(n){throw console.error("Error deleting product:",n),new Error(((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to delete product")}}),b_=t=>_e(null,null,function*(){try{const e=[];for(const r of t)try{const n=yield nv(r);e.push(n)}catch(n){console.error(`Error creating product ${r.name}:`,n)}return e}catch(e){throw console.error("Error in bulk product creation:",e),new Error(e.message||"Failed to import products")}}),x7=Object.freeze(Object.defineProperty({__proto__:null,bulkCreateProducts:b_,createProduct:nv,deleteProduct:im,getProductById:Hm,getProducts:Su,searchProducts:rv,updateProduct:w_,uploadProductImage:y_},Symbol.toStringTag,{value:"Module"})),gb=({placeholder:t="Search products...",className:e="",onSearch:r,initialValue:n=""})=>{const[a,s]=ee.useState(n),[c,h]=ee.useState([]),[g,u]=ee.useState(!1),[m,v]=ee.useState(!1),[b,_]=ee.useState(-1),C=Ii(),A=ee.useRef(null),j=ee.useRef(null),L=ee.useRef(null),D=B=>_e(null,null,function*(){if(B.trim().length<2){h([]),v(!1);return}u(!0);try{const q=(yield rv(B)).slice(0,8).map(G=>sr(zt({},G),{searchKey:`${G.id}-${G.name}`}));h(q),v(!0),_(-1)}catch(re){console.error("Search error:",re),h([])}finally{u(!1)}}),M=B=>{const re=B.target.value;s(re),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{D(re)},300)},X=B=>{B.preventDefault(),a.trim()&&Q(a.trim())},Q=B=>{v(!1),r?r(B):C(`/products?search=${encodeURIComponent(B)}`)},Y=B=>{s(B.name),v(!1),C(`/products/${B.id}`)},V=B=>{var re;if(!(!m||c.length===0))switch(B.key){case"ArrowDown":B.preventDefault(),_(q=>q<c.length-1?q+1:q);break;case"ArrowUp":B.preventDefault(),_(q=>q>0?q-1:-1);break;case"Enter":B.preventDefault(),b>=0&&b<c.length?Y(c[b]):X(B);break;case"Escape":v(!1),_(-1),(re=A.current)==null||re.blur();break}},H=()=>{var B;s(""),h([]),v(!1),_(-1),(B=A.current)==null||B.focus()};return ee.useEffect(()=>{const B=re=>{A.current&&!A.current.contains(re.target)&&j.current&&!j.current.contains(re.target)&&(v(!1),_(-1))};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),ee.useEffect(()=>()=>{L.current&&clearTimeout(L.current)},[]),i.jsxs("div",{className:`relative ${e}`,children:[i.jsxs("form",{onSubmit:X,className:"flex",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{ref:A,type:"text",placeholder:t,className:"w-full px-3 py-2 text-black rounded-l-md border-0 focus:outline-none focus:ring-2 focus:ring-blue-300 pr-8",value:a,onChange:M,onKeyDown:V,onFocus:()=>{c.length>0&&v(!0)},autoComplete:"off"}),a&&i.jsx("button",{type:"button",onClick:H,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",title:"Clear search",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("button",{type:"submit",className:"bg-blue-600 px-3 py-2 rounded-r-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-300 flex items-center justify-center",disabled:g,children:g?i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),m&&c.length>0&&i.jsx("div",{ref:j,className:"absolute top-full left-0 right-0 card border border-slate-600 shadow-lg z-50 max-h-80 overflow-y-auto",children:c.map((B,re)=>i.jsx("div",{className:`p-3 cursor-pointer border-b border-slate-600 last:border-b-0 hover:bg-slate-700 text-slate-100 ${re===b?"bg-emerald-600":""}`,onClick:()=>Y(B),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex-shrink-0",children:B.image_url?i.jsx("img",{src:B.image_url,alt:B.name,className:"w-full h-full object-cover rounded",onError:q=>{q.target.style.display="none"}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:B.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["$",parseFloat(B.price).toFixed(2)]}),B.quantity<=0&&i.jsx("p",{className:"text-xs text-red-500",children:"Out of stock"})]})]})},B.searchKey))})]})},v7=()=>{const{user:t,isAuthenticated:e,isAdmin:r,logout:n}=bi(),{getItemCount:a}=Kd(),{getWishlistCount:s}=tv(),c=Ii(),h=to(),[g,u]=ee.useState(!1),m=()=>_e(null,null,function*(){yield n(),c("/")});return i.jsx("header",{className:"bg-[#1a1a1a] text-[#F5F0E1] shadow-lg sticky top-0 z-50 border-b-2 border-[#8B2332]",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"flex justify-between items-center h-20",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs($t,{to:"/",className:"flex items-center space-x-3 hover:opacity-90 transition-opacity group",children:[i.jsx("img",{src:"/images/sardaarji-autoparts-logo.png",alt:"Sardaarji Autoparts",className:"h-14 w-auto rounded"}),i.jsxs("div",{className:"hidden sm:block",children:[i.jsx("span",{className:"text-xl font-bold tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"SARDAARJI AUTOPARTS"}),i.jsx("span",{className:"block text-xs text-[#B8860B] tracking-widest",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"VINTAGE MOTORCYCLE PARTS"})]})]})}),i.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-6",children:[i.jsxs("nav",{className:"flex items-center space-x-2",children:[i.jsx($t,{to:"/",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${h.pathname==="/"?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Home"}),i.jsx($t,{to:"/products",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${h.pathname.startsWith("/products")?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Parts Catalog"}),e()&&i.jsx($t,{to:"/orders",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${h.pathname.startsWith("/orders")?"bg-[#8B2332] text-white":"hover:bg-[#8B2332] hover:text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"My Orders"}),r()&&i.jsx($t,{to:"/admin",className:`px-4 py-2 rounded-lg font-semibold uppercase tracking-wide text-sm transition-all duration-200 ${h.pathname.startsWith("/admin")?"bg-[#996f09] text-white":"bg-[#B8860B] hover:bg-[#996f09] text-white"}`,style:{fontFamily:"'Oswald', sans-serif"},children:"Admin"})]}),i.jsx(gb,{placeholder:"Search parts...",className:"w-48"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[e()&&i.jsxs($t,{to:"/wishlist",className:"relative p-2 hover:bg-[#333] rounded-lg transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s()>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-[#8B2332] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s()})]}),i.jsxs($t,{to:"/cart",className:"relative p-2 hover:bg-[#333] rounded-lg transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),a()>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-[#8B2332] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a()})]}),e()?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs($t,{to:"/profile",className:"px-3 py-2 rounded-lg hover:bg-[#333] transition-colors text-sm",children:["Hi, ",t.first_name]}),i.jsx("button",{onClick:m,className:"px-3 py-2 rounded-lg hover:bg-[#8B2332] transition-colors text-sm",children:"Logout"})]}):i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx($t,{to:"/login",className:"btn-vintage-red px-4 py-2 text-sm",style:{fontFamily:"'Oswald', sans-serif"},children:"Login"})})]})]}),i.jsx("div",{className:"md:hidden",children:i.jsx("button",{onClick:()=>u(!g),className:"p-2 rounded-lg hover:bg-[#333] transition-colors","aria-label":"Toggle menu",children:g?i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),i.jsx("div",{className:`md:hidden ${g?"block":"hidden"} border-t border-[#333] pb-4`,children:i.jsxs("div",{className:"px-2 pt-2 space-y-1",children:[i.jsx($t,{to:"/",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Home"}),i.jsx($t,{to:"/products",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Parts Catalog"}),e()&&i.jsxs(i.Fragment,{children:[i.jsx($t,{to:"/orders",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"My Orders"}),i.jsxs($t,{to:"/wishlist",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:["Wishlist (",s(),")"]})]}),i.jsxs($t,{to:"/cart",className:"block px-4 py-3 rounded-lg hover:bg-[#333] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:["Cart (",a(),")"]}),r()&&i.jsx($t,{to:"/admin",className:"block px-4 py-3 rounded-lg bg-[#B8860B] hover:bg-[#996f09] font-semibold uppercase tracking-wide",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Admin Panel"}),i.jsx("div",{className:"pt-2",children:i.jsx(gb,{placeholder:"Search parts...",className:"w-full"})}),i.jsx("div",{className:"pt-2 border-t border-[#333]",children:e()?i.jsxs(i.Fragment,{children:[i.jsxs($t,{to:"/profile",className:"block px-4 py-3 rounded-lg hover:bg-[#333]",onClick:()=>u(!1),children:["Profile (",t.first_name,")"]}),i.jsx("button",{onClick:()=>{m(),u(!1)},className:"block w-full text-left px-4 py-3 rounded-lg hover:bg-[#8B2332] text-[#F5F0E1]",children:"Logout"})]}):i.jsxs(i.Fragment,{children:[i.jsx($t,{to:"/login",className:"block px-4 py-3 rounded-lg bg-[#8B2332] hover:bg-[#9B3342] font-semibold uppercase tracking-wide text-center",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Login"}),i.jsx($t,{to:"/register",className:"block px-4 py-3 mt-2 rounded-lg border border-[#8B2332] hover:bg-[#8B2332] font-semibold uppercase tracking-wide text-center",onClick:()=>u(!1),style:{fontFamily:"'Oswald', sans-serif"},children:"Register"})]})})]})})]})})},y7=()=>{const t=new Date().getFullYear();return i.jsx("footer",{className:"bg-[#1a1a1a] text-[#F5F0E1] py-12 border-t-2 border-[#8B2332]",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-16 w-auto"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xl font-bold tracking-wide block",style:{fontFamily:"'Oswald', sans-serif"},children:"VINTAGE YAMAHA"}),i.jsx("span",{className:"text-xs text-[#B8860B] tracking-widest",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"MOTORCYCLE PARTS"})]})]}),i.jsx("p",{className:"text-[#A8A090] leading-relaxed text-sm",style:{fontFamily:"'Roboto Slab', serif"},children:"Your premier source for vintage Yamaha motorcycle parts. Authentic parts for classic RD, DT, and more."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#B8860B] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Quick Links"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx($t,{to:"/products",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Parts Catalog"})}),i.jsx("li",{children:i.jsx($t,{to:"/products/category/1",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Engine Parts"})}),i.jsx("li",{children:i.jsx($t,{to:"/products/category/2",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Electrical"})}),i.jsx("li",{children:i.jsx($t,{to:"/products/category/3",className:"text-[#A8A090] hover:text-[#F5F0E1] transition-colors",children:"Bodywork"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#B8860B] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Contact Us"}),i.jsxs("address",{className:"not-italic text-[#A8A090] space-y-3 text-sm",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsxs("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Motorcycle Lane, Bike City"]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"(555) 123-4567"]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx("svg",{className:"w-4 h-4 mr-3 text-[#8B2332] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@vintageyamahaparts.com"]})]})]})]}),i.jsxs("div",{className:"border-t border-[#333] mt-10 pt-6 text-center",children:[i.jsxs("p",{className:"text-[#A8A090] text-sm",style:{fontFamily:"'Roboto Slab', serif"},children:[" ",t," Vintage Yamaha Parts. All rights reserved."]}),i.jsx("p",{className:"text-[#B8860B] text-xs mt-2 uppercase tracking-widest",style:{fontFamily:"'Oswald', sans-serif"},children:"Authentic Parts  Expert Knowledge  Fast Shipping"})]})]})})},w7=()=>{const t=to(),e=[{to:"/admin",label:"Dashboard",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]})},{to:"/admin/products",label:"Products",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},{to:"/admin/orders",label:"Orders",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{to:"/admin/users",label:"Users",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{to:"/admin/user-approval",label:"Approval",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{to:"/admin/reviews",label:"Reviews",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{to:"/admin/analytics",label:"Analytics",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{to:"/admin/logs",label:"Logs",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{to:"/admin/logo",label:"Logo",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{to:"/admin/inventory",label:"Inventory",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})},{to:"/admin/settings",label:"Settings",icon:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];return i.jsx("div",{className:"bg-[#1a1a1a] border-b-2 border-[#333]",children:i.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[i.jsx("div",{className:"md:hidden py-2",children:i.jsx("select",{className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded-md py-3 px-3 text-base font-medium",value:t.pathname,onChange:r=>window.location.href=r.target.value,style:{fontFamily:"'Oswald', sans-serif"},children:e.map(r=>i.jsx("option",{value:r.to,children:r.label},r.to))})}),i.jsx("div",{className:"hidden md:block overflow-x-auto scrollbar-hide",children:i.jsx("nav",{className:"flex space-x-1 min-w-max","aria-label":"Tabs",children:e.map(r=>{const n=t.pathname===r.to||r.to!=="/admin"&&t.pathname.startsWith(r.to);return i.jsxs($t,{to:r.to,className:`flex items-center space-x-1.5 py-3 px-3 lg:px-4 border-b-3 text-sm transition-all uppercase tracking-wide whitespace-nowrap ${n?"border-[#8B2332] text-[#F5F0E1] bg-[#8B2332]/10":"border-transparent text-[#A8A090] hover:text-[#F5F0E1] hover:bg-[#333]/50"}`,style:{fontFamily:"'Oswald', sans-serif",fontWeight:500},children:[r.icon,i.jsx("span",{className:"hidden lg:inline",children:r.label}),i.jsx("span",{className:"lg:hidden",children:r.label.substring(0,4)})]},r.to)})})})]})})},b7=()=>i.jsxs("div",{className:"min-h-screen",style:{background:"#D4C5A9"},children:[i.jsxs("div",{className:"bg-[#1a1a1a] border-b border-[#333]",children:[i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsx("h1",{className:"text-2xl font-bold text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Admin Panel"})}),i.jsx(w7,{})]}),i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(MS,{})})]}),qm=()=>_e(null,null,function*(){try{const r=((yield Gr.get("/categories")).data.data||[]).filter(a=>a&&a.id&&a.name).map(a=>sr(zt({},a),{id:String(a.id),name:a.name.trim()})),n=Array.from(new Map(r.map(a=>[a.name.toLowerCase(),a])).values());return n.sort((a,s)=>a.name.localeCompare(s.name)),console.log("API - Fetched distinct categories:",n),n}catch(t){return console.error("Error fetching categories:",t),[]}}),_7=t=>{try{return new URL(t),!0}catch(e){return!1}},mb=()=>window.location.origin,E7=t=>t&&t.includes("supabase.co/storage/v1/object/public/"),Ru=(t,e=null)=>{if(!t||t.trim()===""||t==="nan"||t==="undefined"||t==="null")return null;if(console.log("Processing image URL:",t),E7(t))return console.log("Using Supabase Storage URL as-is:",t),t;if(t.startsWith("http://")||t.startsWith("https://"))return console.log("Using external URL as-is:",t),t;if(_7(t)){const n=window.location.origin,a=new URL(t);return a.hostname.includes("localhost")&&!n.includes("localhost")?(console.log("Converting localhost URL to current domain:",t),`${n}${a.pathname}`):(console.log("Using valid URL as-is:",t),t)}if(t.startsWith("/")){const n=`${mb()}${t}`;return console.log("Processed relative URL (with /):",n),n}const r=`${mb()}/${t}`;return console.log("Processed relative URL (without /):",r),r},N7=(t,e=null)=>{const r=t.target.src;if(console.error("Image failed to load:",r),r.includes("placeholder-image.svg")||t.target.hasAttribute("data-using-fallback")){console.log("Already using fallback image, preventing infinite loop"),t.target.removeAttribute("src"),t.target.classList.add("image-load-error");const a=document.createElement("div");a.className="w-full h-full flex items-center justify-center bg-gray-200",a.innerHTML='<span class="text-gray-500 text-sm">Image unavailable</span>',t.target.parentNode&&(t.target.parentNode.appendChild(a),t.target.style.display="none");return}const n="/Modparts/placeholder-image.svg";t.target.setAttribute("data-using-fallback","true"),t.target.src=e||n,t.target.classList.add("image-load-error")},on=({size:t="md",text:e="Loading...",showText:r=!0,className:n="",variant:a="gear"})=>{const s={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},c={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},h=()=>{const v={sm:{large:32,small:24,offset:18},md:{large:48,small:36,offset:28},lg:{large:64,small:48,offset:38},xl:{large:80,small:60,offset:48}},b=v[t]||v.md;return i.jsxs("div",{className:"relative",style:{width:b.large+b.offset,height:b.large},children:[i.jsx("img",{src:"/images/gear-large.png",alt:"",className:"absolute animate-spin",style:{width:b.large,height:b.large,left:0,top:0,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.4))",animationDuration:"3s"}}),i.jsx("img",{src:"/images/gear-small.png",alt:"",className:"absolute",style:{width:b.small,height:b.small,right:0,top:(b.large-b.small)/2,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.4))",animation:"spin 2s linear infinite reverse"}})]})},g=({className:v})=>i.jsx("div",{className:`${v} border-4 border-slate-600 border-t-emerald-500 rounded-full animate-spin`}),u=({className:v})=>i.jsxs("div",{className:`flex space-x-1 ${v}`,children:[i.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),m=()=>{const v=`${s[t]} text-emerald-500`;switch(a){case"gear":case"rusted":return i.jsx(h,{});case"simple":return i.jsx(g,{className:v});case"dots":return i.jsx(u,{className:v});default:return i.jsx(h,{})}};return i.jsxs("div",{className:`flex flex-col items-center justify-center space-y-3 ${n}`,children:[m(),r&&i.jsx("p",{className:`text-gray-600 font-medium ${c[t]}`,children:e})]})},S7=({isVisible:t,text:e="Loading...",variant:r="gear",backdrop:n=!0})=>t?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 backdrop-blur-sm"}),i.jsx("div",{className:"relative card-elevated p-8",children:i.jsx(on,{size:"lg",text:e,variant:r,className:"text-center"})})]}):null,rc=({text:t="Loading...",variant:e="gear",size:r="sm"})=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(on,{size:r,text:"",showText:!1,variant:e}),i.jsx("span",{className:"text-gray-600 text-sm",children:t})]}),av=({product:t,size:e="md",variant:r="icon",className:n=""})=>{const{isInWishlist:a,addItem:s,removeItem:c}=tv(),{isAuthenticated:h}=bi(),{error:g}=ja(),[u,m]=ee.useState(!1),v=h()?a(t.id):!1,b=D=>_e(null,null,function*(){if(D.preventDefault(),D.stopPropagation(),!h()){g("Please login to add items to your wishlist");return}m(!0);try{v?yield c(t.id,t.name):yield s(t)}catch(M){console.error("Error toggling wishlist:",M)}finally{m(!1)}}),_={sm:"w-6 h-6 p-1",md:"w-8 h-8 p-1.5",lg:"w-10 h-10 p-2",xl:"w-12 h-12 p-2.5"},C={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"},A={sm:"text-sm px-2 py-1",md:"text-base px-3 py-2",lg:"text-lg px-4 py-2",xl:"text-xl px-5 py-3"},j=({filled:D,className:M})=>i.jsx("svg",{className:M,fill:D?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:D?0:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),L=({className:D})=>i.jsxs("svg",{className:`${D} animate-spin`,fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return r==="icon"?i.jsx("button",{onClick:b,disabled:u,className:`
          ${_[e]}
          ${v?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          transition-colors duration-200 rounded-full hover:bg-gray-800/50
          ${n}
        `,title:v?"Remove from wishlist":"Add to wishlist",children:u?i.jsx(L,{className:C[e]}):i.jsx(j,{filled:v,className:C[e]})}):r==="button"?i.jsxs("button",{onClick:b,disabled:u,className:`
          ${A[e]}
          ${v?"bg-red-500 text-white hover:bg-red-600":"bg-gray-700 text-gray-200 hover:bg-gray-600"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2
          ${n}
        `,children:[u?i.jsx(L,{className:"w-4 h-4"}):i.jsx(j,{filled:v,className:"w-4 h-4"}),i.jsx("span",{children:u?"Processing...":v?"Remove from Wishlist":"Add to Wishlist"})]}):r==="text"?i.jsxs("button",{onClick:b,disabled:u,className:`
          ${A[e]}
          ${v?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"}
          ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          transition-colors duration-200 flex items-center space-x-1
          ${n}
        `,children:[u?i.jsx(L,{className:"w-4 h-4"}):i.jsx(j,{filled:v,className:"w-4 h-4"}),i.jsx("span",{children:u?"Processing...":v?"In Wishlist":"Add to Wishlist"})]}):null},_0=c=>{var h=c,{src:t,alt:e,className:r="",placeholderText:n="No Image Available",showIcon:a=!0}=h,s=hu(h,["src","alt","className","placeholderText","showIcon"]);const[g,u]=ee.useState(!1),[m,v]=ee.useState(!1),b=()=>{u(!0),v(!1)},_=()=>{v(!0),u(!1)};return!t||t==="nan"||t==="undefined"||t==="null"||t.includes("/nan")||g?i.jsxs("div",sr(zt({className:`flex flex-col items-center justify-center bg-gray-100 text-gray-500 ${r}`},s),{children:[a&&i.jsx("svg",{className:"w-12 h-12 mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"text-sm font-medium text-center px-2",children:n})]})):i.jsxs(i.Fragment,{children:[!m&&i.jsx("div",sr(zt({className:`flex items-center justify-center bg-gray-200 ${r}`},s),{children:i.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mb-2"}),i.jsx("div",{className:"w-16 h-3 bg-gray-300 rounded"})]})})),i.jsx("img",zt({src:t,alt:e,className:`${r} ${m?"":"hidden"}`,onError:b,onLoad:_},s))]})},A7=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState([]),[a,s]=ee.useState(!0),c=g=>g?`/images/categories/${g.toLowerCase().replace(/\s+/g,"-")}.jpg`:null,h=g=>{g.target.style.display="none"};return ee.useEffect(()=>{_e(null,null,function*(){try{const u=yield Su({limit:100}),v=(u.products||u).sort(()=>.5-Math.random()).slice(0,4);e(v);const b=yield qm();n(b)}catch(u){console.error("Error fetching data:",u)}finally{s(!1)}})},[]),i.jsxs("div",{className:"bg-[#1a1a1a]",children:[i.jsx("section",{className:"relative py-24 mb-12 overflow-hidden",style:{backgroundImage:"linear-gradient(rgba(26,26,26,0.6), rgba(26,26,26,0.9)), url(/images/login-motorcycle.jpg)",backgroundSize:"cover",backgroundPosition:"center"},children:i.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[i.jsx("div",{className:"mb-8",children:i.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-40 md:h-52 w-auto mx-auto drop-shadow-2xl"})}),i.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Bebas Neue', sans-serif"},children:"Vintage Yamaha Parts"}),i.jsx("p",{className:"text-xl mb-10 text-[#D4CFC0] max-w-2xl mx-auto",style:{fontFamily:"'Roboto Slab', serif"},children:"Authentic parts for classic Yamaha motorcycles. RD, DT, and more."}),i.jsxs($t,{to:"/products",className:"btn-vintage-red inline-flex items-center space-x-3 text-lg px-10 py-5",children:[i.jsx("span",{style:{fontFamily:"'Oswald', sans-serif"},children:"Browse Parts Catalog"}),i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),i.jsxs("section",{className:"mb-16 px-4",children:[i.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Shop by Category"}),a?i.jsx("div",{className:"text-center py-8",children:i.jsx(on,{size:"lg",text:"Loading categories...",variant:"gear"})}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:r.filter(g=>g&&g.id&&g.name).map(g=>i.jsxs($t,{to:`/products/category/${g.id}`,className:"relative overflow-hidden rounded-lg text-center hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl group min-h-[200px] flex flex-col border border-[#333]",children:[i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#2d2d2d] to-[#1a1a1a]",children:[i.jsx("img",{src:c(g.name),alt:`${g.name} category`,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity duration-300",onError:h}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#1a1a1a]/90 via-[#1a1a1a]/50 to-transparent group-hover:from-[#1a1a1a]/80 transition-all duration-300"})]}),i.jsx("div",{className:"relative z-10 p-6 flex flex-col justify-end h-full",children:i.jsxs("div",{className:"transform group-hover:translate-y-[-4px] transition-transform duration-300",children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:g.name}),i.jsx("p",{className:"text-[#A8A090] text-xs md:text-sm line-clamp-2",children:g.description})]})})]},g.id))})]}),i.jsxs("section",{className:"mb-16 px-4",children:[i.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"Featured Parts"}),a?i.jsx("div",{className:"text-center py-8",children:i.jsx(on,{size:"lg",text:"Loading featured products...",variant:"gear"})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.filter(g=>g&&g.id&&g.name).map(g=>i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden group hover:border-[#8B2332] transition-all duration-300",children:[i.jsxs("div",{className:"h-48 relative",children:[i.jsx(_0,{src:Ru(g.image_url),alt:g.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",placeholderText:"No Image"}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(av,{product:g,size:"md",variant:"icon"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2 text-[#F5F0E1] group-hover:text-[#B8860B] transition-colors uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:g.name}),i.jsx("p",{className:"text-[#A8A090] mb-4 text-sm",children:g.category_name}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-[#8B2332] font-bold text-xl",children:["$",parseFloat(g.price).toFixed(2)]}),i.jsx($t,{to:`/products/${g.id}`,className:"btn-vintage-gray px-4 py-2 text-sm",children:"View Details"})]})]})]},g.id))}),i.jsx("div",{className:"text-center mt-12",children:i.jsxs($t,{to:"/products",className:"btn-vintage-gray inline-flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),i.jsx("span",{style:{fontFamily:"'Oswald', sans-serif"},children:"View All Parts"})]})})]}),i.jsx("section",{className:"bg-[#242424] py-16 px-4 border-t border-b border-[#333]",children:i.jsxs("div",{className:"container mx-auto",children:[i.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-[#F5F0E1] uppercase tracking-wider",style:{fontFamily:"'Oswald', sans-serif"},children:"About Vintage Yamaha Parts"}),i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsx("p",{className:"text-lg mb-6 text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"We specialize in providing authentic parts for classic Yamaha motorcycles. Whether you're restoring a vintage RD350 or maintaining your classic DT, we have the parts you need."}),i.jsx("p",{className:"text-lg mb-6 text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"Our inventory includes genuine OEM parts and quality aftermarket alternatives, ensuring you can find exactly what you need at competitive prices."}),i.jsx("p",{className:"text-lg text-[#D4CFC0] leading-relaxed",style:{fontFamily:"'Roboto Slab', serif"},children:"With over 15 years of experience in the vintage motorcycle parts industry, we pride ourselves on our knowledge, customer service, and fast worldwide shipping."})]})]})})]})},C7=({min:t,max:e,minValue:r,maxValue:n,onChange:a,onAfterChange:s})=>{const[c,h]=ee.useState(null),g=ee.useRef(null),u=e-t,m=j=>(j-t)/u*100,v=m(r),b=m(n),_=(j,L)=>{j.preventDefault(),h(L)},C=()=>{c&&(h(null),s&&s({min:r,max:n}))},A=j=>{if(!c||!g.current)return;const L=g.current.getBoundingClientRect(),D=L.width,X=(j.type.includes("touch")?j.touches[0].clientX:j.clientX)-L.left,Q=Math.min(Math.max(X/D,0),1);let Y=Math.round(Q*u+t);if(Y=Math.max(t,Math.min(e,Y)),c==="min"){const V=Math.min(Y,n-1);a({min:V,max:n})}else if(c==="max"){const V=Math.max(Y,r+1);a({min:r,max:V})}};return ee.useEffect(()=>{const j=()=>{C()},L=D=>{A(D)};return c&&(document.addEventListener("mousemove",L),document.addEventListener("mouseup",j),document.addEventListener("touchmove",L),document.addEventListener("touchend",j)),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",j),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",j)}},[c]),i.jsxs("div",{className:"relative w-full h-6 mt-8 mb-4",children:[i.jsx("div",{ref:g,className:"absolute h-2 w-full bg-gray-300 rounded-full top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"absolute h-full bg-blue-600 rounded-full",style:{left:`${v}%`,width:`${b-v}%`}})}),i.jsx("div",{className:`absolute w-5 h-5 bg-white border-2 border-blue-600 rounded-full top-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-grab ${c==="min"?"cursor-grabbing":""}`,style:{left:`${v}%`},onMouseDown:j=>_(j,"min"),onTouchStart:j=>_(j,"min"),role:"slider","aria-valuemin":t,"aria-valuemax":e,"aria-valuenow":r,tabIndex:0}),i.jsx("div",{className:`absolute w-5 h-5 bg-white border-2 border-blue-600 rounded-full top-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-grab ${c==="max"?"cursor-grabbing":""}`,style:{left:`${b}%`},onMouseDown:j=>_(j,"max"),onTouchStart:j=>_(j,"max"),role:"slider","aria-valuemin":t,"aria-valuemax":e,"aria-valuenow":n,tabIndex:0})]})},Vm=({totalItems:t,itemsPerPage:e,currentPage:r,onPageChange:n,onItemsPerPageChange:a})=>{const[s,c]=ee.useState(""),h=e===-1?1:Math.ceil(t/e),g=()=>{const _=[];if(h<=5)for(let A=1;A<=h;A++)_.push(A);else{_.push(1);let A=Math.max(2,r-1),j=Math.min(h-1,r+1);r<=2&&(j=Math.min(h-1,4)),r>=h-1&&(A=Math.max(2,h-3)),A>2&&_.push("...");for(let L=A;L<=j;L++)_.push(L);j<h-1&&_.push("..."),h>1&&_.push(h)}return _},u=()=>{r>1&&n(r-1)},m=()=>{r<h&&n(r+1)},v=_=>{_.preventDefault();const C=parseInt(s,10);!isNaN(C)&&C>=1&&C<=h&&(n(C),c(""))},b=_=>{const C=_.target.value==="all"?-1:parseInt(_.target.value,10);a(C),n(1)};return h<=1?null:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-6 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Show"}),i.jsxs("select",{className:"border rounded p-1 text-sm",value:e===-1?"all":e,onChange:b,children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"}),i.jsx("option",{value:"all",children:"All"})]}),i.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{onClick:u,disabled:r===1,className:`px-3 py-1 rounded border ${r===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-slate-700 text-emerald-400 hover:bg-slate-600"}`,children:"Previous"}),g().map((_,C)=>i.jsx("button",{onClick:()=>typeof _=="number"&&n(_),className:`px-3 py-1 rounded border ${_===r?"bg-emerald-600 text-white":_==="..."?"bg-slate-600 text-slate-400 cursor-default":"bg-slate-700 text-emerald-400 hover:bg-slate-600"}`,disabled:_==="...",children:_},C)),i.jsx("button",{onClick:m,disabled:r===h,className:`px-3 py-1 rounded border ${r===h?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-600 hover:bg-blue-50"}`,children:"Next"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("form",{onSubmit:v,className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Go to"}),i.jsx("input",{type:"text",value:s,onChange:_=>c(_.target.value),className:"border rounded p-1 w-12 text-center text-sm","aria-label":"Jump to page"}),i.jsx("button",{type:"submit",className:"px-2 py-1 bg-gray-200 rounded text-sm hover:bg-gray-300",children:"Go"})]})})]})},pb=()=>{var Me;const{categoryId:t}=$d(),e=to(),{addToCart:r}=Kd(),{success:n}=ja(),[a,s]=ee.useState([]),[c,h]=ee.useState([]),[g,u]=ee.useState(!0),[m,v]=ee.useState(null),[b,_]=ee.useState(1),[C,A]=ee.useState(12),[j,L]=ee.useState({min:0,max:99999}),[D,M]=ee.useState({min:0,max:99999}),[X,Q]=ee.useState([]),[Y,V]=ee.useState({inStock:!1,outOfStock:!1}),[H,B]=ee.useState({}),[re,q]=ee.useState("name-asc"),[G,se]=ee.useState({categories:!0,priceRange:!0,availability:!0,sortOptions:!0}),[ye,me]=ee.useState(!1),[de,we]=ee.useState(t?String(t):"all"),Pe=ee.useRef(!1),Ae=new URLSearchParams(e.search).get("search");ee.useEffect(()=>{if(Pe.current=!0,t){const ke=String(t);we(ke),Q(ze=>ze.length===0?[ke]:ze)}else we("all"),Q([]);setTimeout(()=>{Pe.current=!1},0)},[t]),ee.useEffect(()=>{_e(null,null,function*(){try{const ut=(yield qm()).map(gt=>sr(zt({},gt),{id:String(gt.id)}));h(ut)}catch(ze){console.error("Error fetching categories:",ze)}})},[]),ee.useEffect(()=>{if(Pe.current)return;_e(null,null,function*(){u(!0);try{let ze;if(Ae)console.log(" Using search API for query:",Ae),ze={products:yield rv(Ae),pagination:null};else{console.log(" Using paginated API for product listing");let ut=[];if(t&&X.length===0?(ut=[String(t)],console.log(" Using URL category:",t)):X.length>0&&(ut=X,console.log(" Using selected categories:",X)),ze=yield Su({page:b,limit:C,sortBy:"created_at",sortOrder:"desc",categories:ut.length>0?ut.join(","):void 0,minPrice:j.min>0?j.min:void 0,maxPrice:j.max<99999?j.max:void 0}),t&&X.length===0){const gt=String(t);we(gt)}}s(ze.products||[]),v(ze.pagination)}catch(ze){console.error("Error fetching products:",ze),s([]),v(null)}finally{u(!1)}})},[t,Ae,b,C,X,j]);const ae=()=>{Q([]);const ke={min:0,max:99999};L(ke),M(ke),V({inStock:!1,outOfStock:!1}),we("all")},fe=ke=>{se(ze=>sr(zt({},ze),{[ke]:!ze[ke]}))},P=ke=>{Q(ze=>ze.includes(ke)?ze.filter(ut=>ut!==ke):[...ze,ke])},W=ke=>{M(ke)},J=ke=>{L(ke)},te=ke=>{V(ze=>sr(zt({},ze),{[ke]:!ze[ke]}))},le=ke=>{q(ke.target.value)},Be=[...a].filter(ke=>{let ze=!0;return Y.inStock&&!Y.outOfStock?ze=ke.quantity>0:!Y.inStock&&Y.outOfStock&&(ze=ke.quantity<=0),ze}).sort((ke,ze)=>{switch(re){case"name-asc":return ke.name.localeCompare(ze.name);case"name-desc":return ze.name.localeCompare(ke.name);case"price-asc":return parseFloat(ke.price)-parseFloat(ze.price);case"price-desc":return parseFloat(ze.price)-parseFloat(ke.price);default:return 0}});console.log(" ProductList: After filtering:",{originalCount:a.length,filteredCount:Be.length,sampleFiltered:Be.slice(0,2).map(ke=>({id:ke.id,name:ke.name}))});const Re=ke=>_e(null,null,function*(){if(!H[ke.id]){B(ze=>sr(zt({},ze),{[ke.id]:!0}));try{yield r(ke),n(`${ke.name} added to cart!`)}catch(ze){console.error("Failed to add to cart:",ze)}finally{B(ze=>sr(zt({},ze),{[ke.id]:!1}))}}});return i.jsx("div",{className:"min-h-screen bg-[#1a1a1a]",children:i.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:Ae?`Search Results for "${Ae}"`:t?`${((Me=c.find(ke=>ke.id===t))==null?void 0:Me.name)||"Category"} Parts`:"Parts Catalog"}),i.jsxs("div",{className:"flex flex-col md:flex-row mb-8",children:[i.jsxs("div",{className:"w-full md:w-1/4 mb-4 md:mb-0 md:mr-6",children:[i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs("button",{onClick:()=>me(ke=>!ke),className:"btn-primary w-full py-2 px-4 flex items-center justify-center",children:[i.jsx("span",{className:"mr-2",children:ye?"Hide Filters":"Show Filters"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})]})}),i.jsxs("div",{className:`bg-[#242424] border border-[#333] rounded-lg p-4 ${!ye&&"hidden md:block"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Filters"}),i.jsx("button",{onClick:ae,className:"text-sm text-[#B8860B] hover:text-[#d4a50d]",children:"Clear All"})]}),i.jsxs("div",{className:"mb-6 border-b border-[#444] pb-4",children:[i.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-[#D4CFC0] mb-2",onClick:()=>fe("categories"),children:[i.jsx("span",{children:"Categories"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${G.categories?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),G.categories&&i.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#333] border border-[#444] rounded p-2 mt-2",children:c.map(ke=>{const ze=String(ke.id);return i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("input",{type:"checkbox",id:`category-${ze}`,checked:X.includes(ze),onChange:()=>P(ze),className:"mr-2 accent-[#8B2332]"}),i.jsx("label",{htmlFor:`category-${ze}`,className:"text-sm text-[#D4CFC0]",children:ke.name})]},ze)})})]}),i.jsxs("div",{className:"mb-6 border-b pb-4",children:[i.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>fe("priceRange"),children:[i.jsx("span",{children:"Price Range"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${G.priceRange?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),G.priceRange&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["$",D.min]}),i.jsxs("span",{className:"text-sm font-medium",children:["$",D.max===99999?"99999+":D.max]})]}),i.jsx(C7,{min:0,max:1e3,minValue:Math.min(D.min,1e3),maxValue:Math.min(D.max,1e3),onChange:ke=>{const ze={min:ke.min,max:ke.max===1e3?99999:ke.max};W(ze)},onAfterChange:ke=>{const ze={min:ke.min,max:ke.max===1e3?99999:ke.max};J(ze)}}),i.jsxs("div",{className:"flex space-x-2 mt-4",children:[i.jsx("div",{className:"w-1/2",children:i.jsx("input",{type:"number",placeholder:"Min",value:D.min,onChange:ke=>{const ze=parseInt(ke.target.value,10);if(!isNaN(ze)){const ut=Math.max(0,Math.min(ze,D.max-1));W({min:ut,max:D.max})}},onBlur:()=>J(D),className:"w-full p-2 border rounded text-sm",min:0,max:D.max-1})}),i.jsx("div",{className:"w-1/2",children:i.jsx("input",{type:"number",placeholder:"Max",value:D.max,onChange:ke=>{const ze=parseInt(ke.target.value,10);if(!isNaN(ze)){const ut=Math.min(99999,Math.max(ze,D.min+1));W({min:D.min,max:ut})}},onBlur:()=>J(D),className:"w-full p-2 border rounded text-sm",min:D.min+1,max:99999})})]})]})]}),i.jsxs("div",{className:"mb-6 border-b pb-4",children:[i.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>fe("availability"),children:[i.jsx("span",{children:"Availability"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${G.availability?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),G.availability&&i.jsxs("div",{className:"space-y-2 mt-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"availability-in-stock",checked:Y.inStock,onChange:()=>te("inStock"),className:"mr-2"}),i.jsx("label",{htmlFor:"availability-in-stock",className:"text-sm",children:"In Stock"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"availability-out-of-stock",checked:Y.outOfStock,onChange:()=>te("outOfStock"),className:"mr-2"}),i.jsx("label",{htmlFor:"availability-out-of-stock",className:"text-sm",children:"Out of Stock"})]})]})]}),i.jsxs("div",{children:[i.jsxs("button",{className:"w-full flex justify-between items-center font-semibold text-gray-700 mb-2",onClick:()=>fe("sortOptions"),children:[i.jsx("span",{children:"Sort By"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${G.sortOptions?"transform rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),G.sortOptions&&i.jsxs("select",{className:"w-full p-2 border rounded mt-2",value:re,onChange:le,children:[i.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),i.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),i.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),i.jsx("option",{value:"price-desc",children:"Price (High to Low)"})]})]})]})]}),i.jsxs("div",{className:"w-full md:w-3/4",children:[(X.length>0||j.min!==0||j.max!==1e3||Y.inStock||Y.outOfStock)&&i.jsx("div",{className:"bg-gray-100 p-3 rounded mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Active Filters:"}),X.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1",children:X.map(ke=>{const ze=String(ke);console.log(`Looking for category with ID: ${ze}`);const ut=c.find(gt=>String(gt.id)===ze);return console.log("Found category:",ut),ut?i.jsxs("span",{className:"bg-emerald-600 text-emerald-100 text-xs px-2 py-1 rounded-full flex items-center",children:[ut.name,i.jsx("button",{onClick:()=>P(ze),className:"ml-1 text-emerald-100 hover:text-white",children:""})]},ze):null})}),(j.min>0||j.max<99999)&&i.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center",children:["Price: $",j.min," - $",j.max===99999?"Any":j.max,i.jsx("button",{onClick:()=>{const ke={min:0,max:99999};L(ke),M(ke)},className:"ml-1 text-green-800 hover:text-green-900",title:"Clear price filter",children:""})]}),(Y.inStock||Y.outOfStock)&&i.jsxs("div",{className:"flex flex-wrap gap-1",children:[Y.inStock&&i.jsxs("span",{className:"bg-emerald-600 text-emerald-100 text-xs px-2 py-1 rounded-full flex items-center",children:["In Stock",i.jsx("button",{onClick:()=>te("inStock"),className:"ml-1 text-emerald-100 hover:text-white",children:""})]}),Y.outOfStock&&i.jsxs("span",{className:"bg-slate-600 text-slate-100 text-xs px-2 py-1 rounded-full flex items-center",children:["Out of Stock",i.jsx("button",{onClick:()=>te("outOfStock"),className:"ml-1 text-slate-100 hover:text-white",children:""})]})]}),i.jsx("button",{onClick:ae,className:"text-xs text-red-600 hover:text-red-800 ml-auto",children:"Clear All Filters"})]})}),g?i.jsx("div",{className:"text-center py-8",children:i.jsx(on,{size:"xl",text:"Loading products...",variant:"gear"})}):a.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-xl text-gray-600",children:"No products available."}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Check your internet connection or try refreshing the page."})]}):Be.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-xl text-gray-600",children:"No products match your filters."}),i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Found ",a.length," total products, but none match your current filters."]}),(X.length>0||j.min>0||j.max<99999||Y.inStock||Y.outOfStock)&&i.jsxs("button",{onClick:ae,className:"mt-4 text-blue-600 hover:text-blue-800",children:["Clear all filters to see all ",a.length," products"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",Be.length," ",Be.length===1?"product":"products",a.length>Be.length&&` (filtered from ${a.length})`]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Be.filter(ke=>ke&&ke.id&&ke.name).map(ke=>i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden group hover:border-[#8B2332] transition-all duration-300",children:[i.jsxs("div",{className:"h-48 relative bg-slate-700",children:[i.jsx(_0,{src:Ru(ke.image_url),alt:ke.name,className:"w-full h-full object-contain",placeholderText:"No Image Available",loading:"lazy"}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(av,{product:ke,size:"md",variant:"icon"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-1 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:ke.name}),i.jsx("p",{className:"text-sm text-[#A8A090] mb-2",children:ke.category_name}),i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("span",{className:"text-sm bg-emerald-600 text-emerald-100 px-2 py-1 rounded",children:ke.condition_status}),i.jsx("span",{className:`ml-2 text-sm font-semibold px-2 py-1 rounded ${ke.quantity<=0?"bg-red-600/20 text-red-400":ke.quantity<=5?"bg-yellow-600/20 text-yellow-400":"bg-green-600/20 text-green-400"}`,children:ke.quantity>0?` ${ke.quantity} in stock`:" Out of stock"})]}),i.jsxs("p",{className:"text-[#8B2332] font-bold text-xl mb-3",children:["$",parseFloat(ke.price).toFixed(2)]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx($t,{to:`/products/${ke.id}`,className:"btn-vintage-gray px-4 py-2 text-sm",children:"Details"}),i.jsx("button",{onClick:()=>Re(ke),className:`btn-primary flex items-center justify-center px-4 py-2 text-sm ${ke.quantity<=0||H[ke.id]?"opacity-50 cursor-not-allowed":""}`,disabled:ke.quantity<=0||H[ke.id],children:H[ke.id]?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Adding..."]}):"Add to Cart"})]})]})]},ke.id))}),!Ae&&m&&i.jsxs("div",{className:"mt-8",children:[i.jsx(Vm,{totalItems:m.totalItems,itemsPerPage:C,currentPage:b,onPageChange:_,onItemsPerPageChange:A}),i.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:["Showing ",(b-1)*C+1," to ",Math.min(b*C,m.totalItems)," of ",m.totalItems," products"]})]})]})]})]})]})})},T7=(r,...n)=>_e(null,[r,...n],function*(t,e={}){try{const{page:a=1,limit:s=10,sort:c="newest"}=e;console.log(` Fetching reviews for product ${t}`);const h=new URLSearchParams({product_id:t,page:a.toString(),limit:s.toString(),sort:c}),g=yield Gr.get(`/reviews?${h}`);if(g.data.success)return g.data.data;throw new Error(g.data.message||"Failed to fetch product reviews")}catch(a){throw console.error("Error fetching product reviews:",a),a}}),j7=t=>_e(null,null,function*(){try{const{productId:e,rating:r,title:n,text:a}=t;if(console.log(` Creating review for product ${e}`),!e||!r||r<1||r>5)throw new Error("Product ID and valid rating (1-5) are required");const s=yield Gr.post("/reviews",{product_id:e,rating:parseInt(r),title:n||null,comment:a||null});if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to create review")}catch(e){throw console.error("Error creating review:",e),e}}),__=t=>_e(null,null,function*(){try{console.log(` Deleting review ${t}`);const e=yield Gr.delete(`/reviews?review_id=${t}`);if(e.data.success)return!0;throw new Error(e.data.message||"Failed to delete review")}catch(e){throw console.error("Error deleting review:",e),e}}),O7=(t,e)=>_e(null,null,function*(){try{console.log(` Voting on review ${t}: ${e?"helpful":"not helpful"}`);const r=yield Gr.post("/reviews/helpful",{review_id:t,is_helpful:e});if(r.data.success)return r.data.data;throw new Error(r.data.message||"Failed to vote on review helpfulness")}catch(r){throw console.error("Error voting on review helpfulness:",r),r}}),R7=(...e)=>_e(null,[...e],function*(t={}){try{const{page:r=1,limit:n=20,status:a="all"}=t;console.log(" Fetching all reviews (admin)");const s=new URLSearchParams({page:r.toString(),limit:n.toString(),status:a}),c=yield Gr.get(`/reviews?${s}`);if(c.data.success)return c.data.data;throw new Error(c.data.message||"Failed to fetch all reviews")}catch(r){throw console.error("Error fetching all reviews:",r),r}}),k7=(t,e)=>_e(null,null,function*(){try{console.log(` Moderating review ${t}: ${e?"approved":"rejected"}`);const r=yield Gr.put(`/reviews?review_id=${t}`,{is_approved:e});if(r.data.success)return r.data.data;throw new Error(r.data.message||"Failed to moderate review")}catch(r){throw console.error("Error moderating review:",r),r}}),E_=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),L7=t=>{const e=new Date(t),n=Math.floor((new Date-e)/1e3);if(n<60)return"Just now";if(n<3600){const a=Math.floor(n/60);return`${a} minute${a>1?"s":""} ago`}else if(n<86400){const a=Math.floor(n/3600);return`${a} hour${a>1?"s":""} ago`}else if(n<2592e3){const a=Math.floor(n/86400);return`${a} day${a>1?"s":""} ago`}else return E_(t)},Wm=({rating:t=0,maxRating:e=5,size:r="md",interactive:n=!1,onChange:a=null,showValue:s=!1,className:c="",precision:h=1})=>{const[g,u]=ee.useState(0),[m,v]=ee.useState(t),b={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"},_={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},C=b[r]||b.md,A=_[r]||_.md,j=Y=>{!n||!a||(v(Y),a(Y))},L=Y=>{n&&u(Y)},D=()=>{n&&u(0)},M=Y=>{const V=n&&g>0?g:m||t,H=Y+1;if(V>=H)return 100;if(V>Y&&V<H){const B=(V-Y)*100;return Math.min(100,Math.max(0,B))}else return 0},X=Y=>{const V=M(Y),H=Y+1,B=n&&a;return i.jsxs("div",{className:`relative inline-block ${B?"cursor-pointer":""}`,onClick:()=>j(H),onMouseEnter:()=>L(H),onMouseLeave:D,children:[i.jsx("svg",{className:`${C} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),V>0&&i.jsx("div",{className:"absolute top-0 left-0 overflow-hidden",style:{width:`${V}%`},children:i.jsx("svg",{className:`${C} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},Y)},Q=n&&g>0?g:m||t;return i.jsxs("div",{className:`flex items-center space-x-1 ${c}`,children:[i.jsx("div",{className:"flex items-center space-x-0.5",children:Array.from({length:e},(Y,V)=>X(V))}),s&&i.jsx("span",{className:`ml-2 font-medium text-gray-700 ${A}`,children:Q>0?Q.toFixed(1):"0.0"})]})},N_=({rating:t=0,reviewCount:e=0,size:r="md",showCount:n=!0,className:a=""})=>{const s={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},c=s[r]||s.md;return i.jsxs("div",{className:`flex items-center space-x-2 ${a}`,children:[i.jsx(Wm,{rating:t,size:r,interactive:!1,showValue:!0}),n&&i.jsxs("span",{className:`text-gray-500 ${c}`,children:["(",e," ",e===1?"review":"reviews",")"]})]})},I7=({value:t=0,onChange:e,size:r="lg",required:n=!1,error:a=null,label:s="Rating",className:c=""})=>{const[h,g]=ee.useState(t),u=m=>{g(m),e&&e(m)};return i.jsxs("div",{className:`space-y-2 ${c}`,children:[s&&i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[s," ",n&&i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Wm,{rating:h,size:r,interactive:!0,onChange:u,showValue:!1}),i.jsx("span",{className:"text-sm text-gray-600",children:h>0?`${h} star${h>1?"s":""}`:"Click to rate"})]}),a&&i.jsx("p",{className:"text-sm text-red-600",children:a})]})},D7=({distribution:t={},totalReviews:e=0,className:r=""})=>(Math.max(...Object.values(t)),i.jsx("div",{className:`space-y-2 ${r}`,children:[5,4,3,2,1].map(n=>{const a=t[n]||0,s=e>0?a/e*100:0;return i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-1 w-12",children:[i.jsx("span",{className:"text-sm font-medium",children:n}),i.jsx("svg",{className:"w-3 h-3 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),i.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${s}%`}})}),i.jsx("span",{className:"text-sm text-gray-600 w-8 text-right",children:a})]},n)})})),Zd=({isOpen:t,onClose:e,onConfirm:r,title:n="Confirm Action",message:a="Are you sure you want to proceed?",confirmText:s="Confirm",cancelText:c="Cancel",confirmButtonClass:h="bg-red-600 hover:bg-red-700"})=>{const[g,u]=ee.useState(!1);ee.useEffect(()=>{u(!!t)},[t]);const m=()=>{r(),e()};return t?i.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[i.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 ${g?"opacity-50":"opacity-0"}`,onClick:e}),i.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-6 text-center sm:p-0",children:i.jsxs("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full ${g?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[i.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:i.jsxs("div",{className:"sm:flex sm:items-start",children:[i.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:i.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[i.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n}),i.jsx("div",{className:"mt-2",children:i.jsx("p",{className:"text-sm text-gray-500",children:a})})]})]})}),i.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[i.jsx("button",{type:"button",className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm ${h}`,onClick:m,children:s}),i.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:e,children:c})]})]})})]}):null},Jd=()=>{const[t,e]=ee.useState(!1),[r,n]=ee.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),[a,s]=ee.useState([]),c=ee.useCallback(()=>{e(!1),a[1]&&a[1]()},[a]),h=ee.useCallback(()=>{e(!1),a[0]&&a[0]()},[a]),g=ee.useCallback((u={})=>new Promise((m,v)=>{n(zt(zt({},r),u)),s([m,v]),e(!0)}),[r]);return{isOpen:t,confirm:g,handleClose:c,handleConfirm:h,dialogProps:r}},P7=({productId:t,productName:e})=>{const[r,n]=ee.useState([]),[a,s]=ee.useState({averageRating:0,totalReviews:0,ratingDistribution:{}}),[c,h]=ee.useState(!0),[g,u]=ee.useState(null),[m,v]=ee.useState(!1),[b,_]=ee.useState("newest"),[C,A]=ee.useState(1),[j,L]=ee.useState({}),{user:D,isAuthenticated:M}=bi(),{success:X,error:Q}=ja(),{isOpen:Y,confirm:V,handleClose:H,handleConfirm:B,dialogProps:re}=Jd();ee.useEffect(()=>{q()},[t,b,C]);const q=()=>_e(null,null,function*(){try{h(!0),u(null);const de=yield T7(t,{page:C,limit:10,sort:b});n(de.reviews||[]),s(de.statistics||{averageRating:0,totalReviews:0,ratingDistribution:{}}),L(de.pagination||{})}catch(de){u(de.message),Q("Failed to load reviews: "+de.message)}finally{h(!1)}}),G=de=>_e(null,null,function*(){try{const we=yield j7(zt({productId:t},de));X("Review submitted successfully!"),v(!1),q()}catch(we){Q("Failed to submit review: "+we.message)}}),se=de=>_e(null,null,function*(){try{yield V({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield __(de),X("Review deleted successfully"),q()}catch(we){Q("Failed to delete review: "+we.message)}}catch(we){console.log("Review deletion cancelled")}}),ye=(de,we)=>_e(null,null,function*(){if(!M){Q("Please log in to vote on reviews");return}try{yield O7(de,we),X("Vote recorded successfully"),q()}catch(Pe){Q("Failed to record vote: "+Pe.message)}}),me=[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"highest_rating",label:"Highest Rating"},{value:"lowest_rating",label:"Lowest Rating"},{value:"most_helpful",label:"Most Helpful"}];return c&&r.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx(on,{size:"lg",text:"Loading reviews..."})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Customer Reviews"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"text-4xl font-bold text-gray-900",children:a.averageRating.toFixed(1)}),i.jsx("div",{children:i.jsx(N_,{rating:a.averageRating,reviewCount:a.totalReviews,size:"lg"})})]}),M&&i.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Write a Review"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Rating Breakdown"}),i.jsx(D7,{distribution:a.ratingDistribution,totalReviews:a.totalReviews})]})]})]}),m&&i.jsx(M7,{productName:e,onSubmit:G,onCancel:()=>v(!1)}),i.jsxs("div",{className:"space-y-6",children:[r.length>0&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[a.totalReviews," Review",a.totalReviews!==1?"s":""]}),i.jsx("select",{value:b,onChange:de=>_(de.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:me.map(de=>i.jsx("option",{value:de.value,children:de.label},de.value))})]}),g?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"text-red-600 mb-4",children:g}),i.jsx("button",{onClick:q,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-gray-500 mb-4",children:"No reviews yet"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Be the first to review this product!"}),M&&i.jsx("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Write the First Review"})]}):i.jsx("div",{className:"space-y-6",children:r.map(de=>i.jsx(F7,{review:de,currentUser:D,onDelete:se,onHelpfulVote:ye},de.id))}),j.totalPages>1&&i.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[i.jsx("button",{onClick:()=>A(de=>Math.max(1,de-1)),disabled:C===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:j.totalPages},(de,we)=>we+1).map(de=>i.jsx("button",{onClick:()=>A(de),className:`px-3 py-2 border rounded-lg ${C===de?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:de},de)),i.jsx("button",{onClick:()=>A(de=>Math.min(j.totalPages,de+1)),disabled:C===j.totalPages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),i.jsx(Zd,{isOpen:Y,onClose:H,onConfirm:B,title:re.title,message:re.message,confirmText:re.confirmText,cancelText:re.cancelText,confirmButtonClass:re.confirmButtonClass})]})},F7=({review:t,currentUser:e,onDelete:r,onHelpfulVote:n})=>{const a=e&&e.id===t.user.id;return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Wm,{rating:t.rating,size:"sm"}),i.jsx("span",{className:"font-semibold text-gray-900",children:t.user.name}),t.isVerifiedPurchase&&i.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),i.jsx("div",{className:"text-sm text-gray-500",children:L7(t.createdAt)})]}),a&&i.jsx("button",{onClick:()=>r(t.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]}),i.jsxs("div",{className:"space-y-3",children:[t.title&&i.jsx("h4",{className:"font-semibold text-gray-900",children:t.title}),t.text&&i.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.text})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{onClick:()=>n(t.id,!0),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L9 7m5 3v10M9 7H6a2 2 0 00-2 2v8a2 2 0 002 2h8.5"})}),i.jsxs("span",{children:["Helpful (",t.helpfulCount,")"]})]}),i.jsxs("button",{onClick:()=>n(t.id,!1),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-800",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L15 17m-5-3v-10M15 17h4a2 2 0 002-2V7a2 2 0 00-2-2H6.5"})}),i.jsxs("span",{children:["Not Helpful (",t.notHelpfulCount||0,")"]})]})]}),i.jsx("div",{className:"text-sm text-gray-500",children:E_(t.createdAt)})]})]})},M7=({productName:t,onSubmit:e,onCancel:r})=>{const[n,a]=ee.useState({rating:0,title:"",text:""}),[s,c]=ee.useState(!1),[h,g]=ee.useState({}),u=()=>{const v={};return(!n.rating||n.rating<1||n.rating>5)&&(v.rating="Please select a rating"),n.title&&n.title.length>255&&(v.title="Title must be 255 characters or less"),n.text&&n.text.length>5e3&&(v.text="Review must be 5000 characters or less"),g(v),Object.keys(v).length===0},m=v=>_e(null,null,function*(){if(v.preventDefault(),!!u()){c(!0);try{yield e(n)}finally{c(!1)}}});return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Write a Review"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"mb-6",children:i.jsx("h4",{className:"font-semibold text-gray-900",children:t})}),i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsx(I7,{value:n.rating,onChange:v=>a(b=>sr(zt({},b),{rating:v})),required:!0,error:h.rating,label:"Overall Rating"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title (Optional)"}),i.jsx("input",{type:"text",value:n.title,onChange:v=>a(b=>sr(zt({},b),{title:v.target.value})),placeholder:"Summarize your review",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:255}),h.title&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review (Optional)"}),i.jsx("textarea",{value:n.text,onChange:v=>a(b=>sr(zt({},b),{text:v.target.value})),placeholder:"Share your experience with this product",rows:6,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:5e3}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[h.text&&i.jsx("p",{className:"text-sm text-red-600",children:h.text}),i.jsxs("p",{className:"text-sm text-gray-500 ml-auto",children:[n.text.length,"/5000 characters"]})]})]}),i.jsxs("div",{className:"flex space-x-3 pt-6",children:[i.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit Review"})]})]})]})})})},B7=()=>{const{id:t}=$d(),e=Ii(),{addToCart:r,error:n}=Kd(),{success:a,error:s}=ja(),[c,h]=ee.useState(null),[g,u]=ee.useState(!0),[m,v]=ee.useState(null),[b,_]=ee.useState(1),[C,A]=ee.useState(!1),[j,L]=ee.useState(!1);ee.useEffect(()=>{n&&s(n)},[n,s]),ee.useEffect(()=>{_e(null,null,function*(){u(!0);try{const Y=yield Hm(t);h(Y)}catch(Y){console.error("Error fetching product:",Y),v(Y.message||"Failed to load product")}finally{u(!1)}})},[t]);const D=Q=>{const Y=parseInt(Q.target.value);Y>0&&Y<=c.quantity&&_(Y)},M=()=>_e(null,null,function*(){if(!C){A(!0);try{yield r(c,b),a(`${b} ${c.name} added to cart!`)}catch(Q){const Y=n||Q.message||"Failed to add item to cart";s(Y),console.error("Failed to add to cart:",Q)}finally{A(!1)}}}),X=()=>_e(null,null,function*(){if(!j){L(!0);try{yield r(c,b),e("/cart")}catch(Q){const Y=n||Q.message||"Failed to add item to cart";s(Y),console.error("Failed to add to cart for buy now:",Q)}finally{L(!1)}}});return g?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading product details...",variant:"gear"})}):m?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-red-600 mb-4",children:m}),i.jsx($t,{to:"/products",className:"text-blue-600 hover:underline",children:"Back to Products"})]}):c?i.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[i.jsx("div",{className:"mb-6",children:i.jsxs($t,{to:"/products",className:"text-[#B8860B] hover:text-[#d4a50d] flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Parts Catalog"]})}),i.jsx("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden",children:i.jsxs("div",{className:"md:flex",children:[i.jsx("div",{className:"md:w-1/2 h-64 md:h-auto bg-[#333]",children:i.jsx(_0,{src:Ru(c.image_url),alt:c.name,className:"w-full h-full object-contain",placeholderText:"No Image Available"})}),i.jsxs("div",{className:"md:w-1/2 p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:c.name}),i.jsx("div",{className:"mb-2",children:i.jsx(N_,{rating:4.5,reviewCount:0,size:"md"})}),i.jsxs("p",{className:"text-[#A8A090]",children:["Category: ",c.category_name]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("span",{className:"bg-[#8B2332] text-[#F5F0E1] px-3 py-1 rounded-full text-sm font-semibold mr-3",children:c.condition_status}),i.jsx("span",{className:`text-sm font-semibold ${c.quantity>0?"text-[#B8860B]":"text-red-400"}`,children:c.quantity>0?`${c.quantity} in stock`:"Out of stock"})]}),i.jsxs("p",{className:"text-3xl font-bold text-[#8B2332]",children:["$",parseFloat(c.price).toFixed(2)]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Description"}),i.jsx("p",{className:"text-[#D4CFC0]",style:{fontFamily:"'Roboto Slab', serif"},children:c.description})]}),c.quantity>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-[#D4CFC0] mb-2",children:"Quantity"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{className:"bg-[#333] text-[#F5F0E1] px-3 py-1 rounded-l hover:bg-[#444] transition-colors",onClick:()=>b>1&&_(b-1),children:"-"}),i.jsx("input",{type:"number",min:"1",max:c.quantity,value:b,onChange:D,className:"form-input-vintage w-16 text-center border-t border-b border-[#444] py-1 rounded-none"}),i.jsx("button",{className:"bg-[#333] text-[#F5F0E1] px-3 py-1 rounded-r hover:bg-[#444] transition-colors",onClick:()=>b<c.quantity&&_(b+1),children:"+"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[i.jsx("button",{onClick:M,className:`btn-vintage-red flex items-center justify-center ${c.quantity<=0||C?"opacity-50 cursor-not-allowed":""}`,disabled:c.quantity<=0||C,children:C?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Add to Cart"]})}),i.jsx(av,{product:c,size:"lg",variant:"button",className:"flex-shrink-0"}),i.jsx("button",{onClick:X,className:`btn-vintage-gray flex items-center justify-center ${c.quantity<=0||j?"opacity-50 cursor-not-allowed":""}`,disabled:c.quantity<=0||j,children:j?i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Buy Now"]})})]})]})]})}),i.jsx("div",{className:"mt-12",children:i.jsx(P7,{productId:c.id,productName:c.name})})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-xl mb-4",children:"Product not found"}),i.jsx($t,{to:"/products",className:"text-blue-600 hover:underline",children:"Back to Products"})]})},U7=()=>{const{cart:t,total:e,loading:r,error:n,updateQuantity:a,removeFromCart:s,clearCart:c}=Kd(),{isAuthenticated:h}=bi(),g=Ii(),{isOpen:u,confirm:m,handleClose:v,handleConfirm:b,dialogProps:_}=Jd(),[C,A]=ee.useState(new Set),j=(X,Q,Y,V=null)=>{Y>0&&a(X,Q,Y,V)},L=(X,Q)=>_e(null,null,function*(){try{yield m({title:"Remove Item",message:"Are you sure you want to remove this item from your cart?",confirmText:"Remove",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});const Y=`${X}-${Q}`;A(V=>new Set([...V,Y]));try{yield s(X,Q)}finally{A(V=>{const H=new Set(V);return H.delete(Y),H})}}catch(Y){console.log("Item removal cancelled")}}),D=()=>_e(null,null,function*(){try{yield m({title:"Clear Cart",message:"Are you sure you want to clear your entire cart? This action cannot be undone.",confirmText:"Clear Cart",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),c()}catch(X){console.log("Clear cart cancelled")}}),M=()=>{h()?g("/checkout"):g("/login",{state:{from:"/checkout"}})};return i.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[i.jsx(Zd,{isOpen:u,onClose:v,onConfirm:b,title:_.title,message:_.message,confirmText:_.confirmText,cancelText:_.cancelText,confirmButtonClass:_.confirmButtonClass}),i.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Your Cart"}),r?i.jsx("div",{className:"text-center py-12 card",children:i.jsx(on,{size:"xl",text:"Loading your cart...",variant:"gear"})}):n?i.jsxs("div",{className:"text-center py-12 card",children:[i.jsx("p",{className:"text-xl text-red-600 mb-6",children:n}),i.jsx($t,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Browse Products"})]}):t.length===0?i.jsxs("div",{className:"text-center py-12 bg-[#242424] border border-[#333] rounded-lg",children:[i.jsx("p",{className:"text-xl text-[#A8A090] mb-6",children:"Your cart is empty"}),i.jsx($t,{to:"/products",className:"btn-vintage-red inline-block",children:"Continue Shopping"})]}):i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i.jsxs("div",{className:"lg:w-2/3",children:[i.jsx("div",{className:"bg-[#242424] border border-[#333] rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-[#333]",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-4 text-[#F5F0E1]",children:"Product"}),i.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Price"}),i.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Quantity"}),i.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Total"}),i.jsx("th",{className:"text-center p-4 text-[#F5F0E1]",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-[#444]",children:t.map(X=>i.jsxs("tr",{children:[i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-200 mb-2 sm:mb-0 sm:mr-4",children:X.image_url?i.jsx("img",{src:Ru(X.image_url),alt:X.name,className:"w-full h-full object-cover",onError:Q=>N7(Q)}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-xs",children:"No image"})}),i.jsxs("div",{children:[i.jsx($t,{to:`/products/${X.product_id}`,className:"font-semibold text-[#F5F0E1] hover:text-[#B8860B]",children:X.name}),X.stock_quantity&&X.stock_quantity<5&&i.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Only ",X.stock_quantity," left in stock!"]})]})]})}),i.jsxs("td",{className:"p-4 text-center text-[#D4CFC0]",children:["$",parseFloat(X.price).toFixed(2)]}),i.jsxs("td",{className:"p-4 text-center",children:[i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("button",{className:"bg-gray-200 px-2 py-1 rounded-l hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed",onClick:()=>j(X.id,X.product_id,X.quantity-1,X.stock_quantity),disabled:X.quantity<=1,children:"-"}),i.jsx("input",{type:"number",min:"1",max:X.stock_quantity||999,value:X.quantity,onChange:Q=>{const Y=parseInt(Q.target.value);isNaN(Y)||j(X.id,X.product_id,Y,X.stock_quantity)},className:"w-16 text-center border-t border-b py-1"}),i.jsx("button",{className:"bg-gray-200 px-2 py-1 rounded-r hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed",onClick:()=>j(X.id,X.product_id,X.quantity+1,X.stock_quantity),disabled:X.stock_quantity&&X.quantity>=X.stock_quantity,children:"+"})]}),X.stock_quantity&&X.quantity>=X.stock_quantity&&i.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Maximum stock reached"})]}),i.jsxs("td",{className:"p-4 text-center font-semibold text-[#8B2332]",children:["$",X.subtotal?parseFloat(X.subtotal).toFixed(2):(parseFloat(X.price)*X.quantity).toFixed(2)]}),i.jsx("td",{className:"p-4 text-center",children:(()=>{const Q=`${X.id}-${X.product_id}`,Y=C.has(Q);return i.jsx("button",{onClick:()=>L(X.id,X.product_id),className:`${Y?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800"}`,"aria-label":"Remove item",disabled:Y,children:Y?i.jsx("svg",{className:"animate-spin h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})})()})]},X.id))})]})}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between gap-4",children:[i.jsxs($t,{to:"/products",className:"text-blue-800 hover:underline flex items-center justify-center sm:justify-start",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Continue Shopping"]}),i.jsxs("button",{onClick:D,className:"text-red-600 hover:underline flex items-center justify-center sm:justify-end",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Clear Cart"]})]})]}),i.jsx("div",{className:"lg:w-1/3",children:i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mt-6 lg:mt-0",children:[i.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1] uppercase",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),i.jsxs("div",{className:"border-t border-b border-[#444] py-4 mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2 text-[#D4CFC0]",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:["$",e.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[i.jsx("span",{children:"Shipping"}),i.jsx("span",{children:"Calculated at checkout"})]}),i.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[i.jsx("span",{children:"Tax"}),i.jsx("span",{children:"Calculated at checkout"})]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg mb-6 text-[#F5F0E1]",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{className:"text-[#8B2332]",children:["$",e.toFixed(2)]})]}),i.jsx("button",{onClick:M,className:"btn-vintage-red w-full",disabled:r||t.length===0,children:r?"Loading...":"Proceed to Checkout"})]})})]})]})},S_=()=>_e(null,null,function*(){console.log("=== FETCHING MY ORDERS ===");try{const t=yield Gr.get("/orders");console.log("Orders fetched successfully:",t.data);let e=[];if(t.data&&t.data.data)e=t.data.data;else if(Array.isArray(t.data))e=t.data;else return console.warn("Unexpected response format:",t.data),[];return e.map(n=>sr(zt({},n),{items:(n.order_items||[]).map(a=>{var s;return console.log("Transforming order item:",a),zt({id:a.id,product_id:a.product_id,quantity:a.quantity||0,price:a.price||0,product_name:((s=a.product)==null?void 0:s.name)||"Unknown Product"},a)})}))}catch(t){return console.error("Error fetching orders:",t),t.response&&(console.error("Response status:",t.response.status),console.error("Response data:",t.response.data)),[]}}),z7=()=>_e(null,null,function*(){console.log("=== CREATING TEST ORDER ===");try{const t={shipping_address:"Test Address, Test City, Test State 12345",payment_method:"test",items:[{product_id:1,quantity:1,price:10}],payment_status:"completed",transaction_id:"test_"+Date.now(),reference_number:"TEST_"+Date.now(),order_number:"ORD_"+Date.now(),first_name:"Test",last_name:"User",email:"test@example.com",city:"Test City",state:"Test State",zip_code:"12345",phone:"555-0123"},e=yield Gr.post("/orders",t);return console.log("Test order created successfully:",e.data),e.data.data?[e.data.data]:[]}catch(t){return console.error("Error creating test order:",t),t.response&&(console.error("Response status:",t.response.status),console.error("Response data:",t.response.data)),[]}}),A_=t=>_e(null,null,function*(){console.log("=== FETCHING ORDER BY ID ===",t);try{const e=yield Gr.get("/orders");console.log("Orders fetched successfully:",e.data);let r=[];e.data&&e.data.data?r=e.data.data:Array.isArray(e.data)&&(r=e.data);const n=r.find(a=>a.id==t);if(n){console.log("Order found:",n);const a=sr(zt({},n),{items:(n.order_items||[]).map(s=>{var c;return console.log("Transforming order item for single order:",s),zt({id:s.id,product_id:s.product_id,quantity:s.quantity||0,price:s.price||0,product_name:((c=s.product)==null?void 0:c.name)||"Unknown Product"},s)})});return console.log("Transformed order:",a),a}else return console.log("Order not found with ID:",t),null}catch(e){return console.error("Error fetching order:",e),e.response&&(console.error("Response status:",e.response.status),console.error("Response data:",e.response.data)),null}}),H7=t=>_e(null,null,function*(){var e,r,n,a;console.log("=== CREATE ORDER API CALL ==="),console.log("Order data:",t);try{console.log("Sending request to: /orders");const s=yield Gr.post("/orders",t);return console.log("Order creation response:",s.data),console.log("=== CREATE ORDER API CALL SUCCESS ==="),s.data}catch(s){throw console.error("=== CREATE ORDER API CALL ERROR ==="),console.error("Error creating order:",s),console.error("Error response:",s.response),console.error("Error message:",s.message),console.error("Error response data:",(e=s.response)==null?void 0:e.data),console.error("Error response status:",(r=s.response)==null?void 0:r.status),new Error(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to create order")}}),q7=t=>_e(null,null,function*(){return console.log("=== GET ORDER BY ID API CALL (WRAPPER) ==="),console.log("Order ID:",t),A_(t)}),V7=()=>_e(null,null,function*(){var t,e;console.log("=== GET ALL ORDERS API CALL ===");try{console.log("Fetching all orders from admin endpoint: /admin/orders");const r=yield Gr.get("/admin/orders");return console.log("All orders fetched successfully:",r.data),r.data&&r.data.success?r.data.data||[]:(console.warn("Unexpected response format:",r.data),[])}catch(r){return console.error("=== GET ALL ORDERS API CALL ERROR ==="),console.error("Error fetching all orders:",r),console.error("Error response:",r.response),console.error("Error message:",r.message),console.error("Error response data:",(t=r.response)==null?void 0:t.data),console.error("Error response status:",(e=r.response)==null?void 0:e.status),[]}}),W7=(t,e)=>_e(null,null,function*(){var r,n,a,s,c;console.log("=== UPDATE ORDER STATUS API CALL ==="),console.log("Order ID:",t),console.log("New status:",e);try{console.log("Updating order status via admin endpoint: /admin/orders");const h=yield Gr.put("/admin/orders",{id:t,status:e});if(console.log("Order status updated successfully:",h.data),h.data&&h.data.success)return h.data;throw new Error(((r=h.data)==null?void 0:r.message)||"Failed to update order status")}catch(h){throw console.error("=== UPDATE ORDER STATUS API CALL ERROR ==="),console.error("Error updating order status:",h),console.error("Error response:",h.response),console.error("Error message:",h.message),console.error("Error response data:",(n=h.response)==null?void 0:n.data),console.error("Error response status:",(a=h.response)==null?void 0:a.status),new Error(((c=(s=h.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to update order status")}}),G7=({amount:t,onSuccess:e,customerInfo:r})=>{const[n,a]=ee.useState(!1),[s,c]=ee.useState(!1),{success:h}=ja(),g=()=>_e(null,null,function*(){c(!0),setTimeout(()=>{a(!0),h("Order confirmed! You will pay cash on delivery."),e({payment_method:"cash_on_delivery",payment_status:"pending",amount:t,currency:"USD",transaction_id:`COD_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}),c(!1)},1500)});return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"h-6 w-6 text-green-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Cash on Delivery"}),i.jsx("p",{className:"text-green-700",children:"Pay when your order is delivered to your doorstep"})]})]})}),i.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Amount:"}),i.jsxs("span",{className:"font-bold text-lg",children:["$",t.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Payment Method:"}),i.jsx("span",{children:"Cash on Delivery"})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Delivery Address:"}),i.jsxs("span",{className:"text-right max-w-xs",children:[r.firstName," ",r.lastName,i.jsx("br",{}),r.address,i.jsx("br",{}),r.city,", ",r.state," ",r.zipCode]})]})]})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Notes:"}),i.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsx("li",{children:" Please keep the exact amount ready"}),i.jsx("li",{children:" Our delivery person will collect payment"}),i.jsx("li",{children:" You can inspect the product before payment"}),i.jsx("li",{children:" Delivery usually takes 2-5 business days"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"cod-terms",checked:n,onChange:u=>a(u.target.checked),className:"h-4 w-4 text-blue-600"}),i.jsxs("label",{htmlFor:"cod-terms",className:"text-sm text-gray-700",children:["I agree to pay $",t.toFixed(2)," in cash upon delivery"]})]}),i.jsx("button",{onClick:g,disabled:!n||s,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Confirm Order - Pay $${t.toFixed(2)} on Delivery`})]})},$7=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...r)=>Co(()=>_e(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>Qd);return{default:n}}),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class sv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class X7 extends sv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xb extends sv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vb extends sv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hx||(hx={}));var Y7=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};class K7{constructor(e,{headers:r={},customFetch:n,region:a=hx.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=$7(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Y7(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:c}=r;let h={},{region:g}=r;g||(g=this.region);const u=new URL(`${this.url}/${e}`);g&&g!=="any"&&(h["x-region"]=g,u.searchParams.set("forceFunctionRegion",g));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob!="undefined"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(h["Content-Type"]="text/plain",m=c):typeof FormData!="undefined"&&c instanceof FormData?m=c:(h["Content-Type"]="application/json",m=JSON.stringify(c)));const v=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:m}).catch(A=>{throw new X7(A)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new xb(v);if(!v.ok)throw new vb(v);let _=((n=v.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield v.json():_==="application/octet-stream"?C=yield v.blob():_==="text/event-stream"?C=v:_==="multipart/form-data"?C=yield v.formData():C=yield v.text(),{data:C,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof vb||a instanceof xb?a.context:void 0}}})}}var Ps={},sd={},id={},od={},ld={},cd={},Z7=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Hd=Z7();const J7=Hd.fetch,C_=Hd.fetch.bind(Hd),T_=Hd.Headers,Q7=Hd.Request,eT=Hd.Response,Qd=Object.freeze(Object.defineProperty({__proto__:null,Headers:T_,Request:Q7,Response:eT,default:C_,fetch:J7},Symbol.toStringTag,{value:"Module"})),tT=FN(Qd);var W1={},yb;function j_(){if(yb)return W1;yb=1,Object.defineProperty(W1,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return W1.default=t,W1}var wb;function O_(){if(wb)return cd;wb=1;var t=cd&&cd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cd,"__esModule",{value:!0});const e=t(tT),r=t(j_());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch=="undefined"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,c){return this.headers=Object.assign({},this.headers),this.headers[s]=c,this}then(s,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(u=>_e(this,null,function*(){var m,v,b;let _=null,C=null,A=null,j=u.status,L=u.statusText;if(u.ok){if(this.method!=="HEAD"){const Q=yield u.text();Q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=Q:C=JSON.parse(Q))}const M=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),X=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");M&&X&&X.length>1&&(A=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(_={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,A=null,j=406,L="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const M=yield u.text();try{_=JSON.parse(M),Array.isArray(_)&&u.status===404&&(C=[],_=null,j=200,L="OK")}catch(X){u.status===404&&M===""?(j=204,L="No Content"):_={message:M}}if(_&&this.isMaybeSingle&&(!((b=_==null?void 0:_.details)===null||b===void 0)&&b.includes("0 rows"))&&(_=null,j=200,L="OK"),_&&this.shouldThrowOnError)throw new r.default(_)}return{error:_,data:C,count:A,status:j,statusText:L}}));return this.shouldThrowOnError||(g=g.catch(u=>{var m,v,b;return{error:{message:`${(m=u==null?void 0:u.name)!==null&&m!==void 0?m:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(v=u==null?void 0:u.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=u==null?void 0:u.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(s,c)}returns(){return this}overrideTypes(){return this}}return cd.default=n,cd}var bb;function R_(){if(bb)return ld;bb=1;var t=ld&&ld.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ld,"__esModule",{value:!0});const e=t(O_());class r extends e.default{select(a){let s=!1;const c=(a!=null?a:"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:c,foreignTable:h,referencedTable:g=h}={}){const u=g?`${g}.order`:"order",m=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:c=s}={}){const h=typeof c=="undefined"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,s,{foreignTable:c,referencedTable:h=c}={}){const g=typeof h=="undefined"?"offset":`${h}.offset`,u=typeof h=="undefined"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:c=!1,buffers:h=!1,wal:g=!1,format:u="text"}={}){var m;const v=[a?"analyze":null,s?"verbose":null,c?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${b}"; options=${v};`,u==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ld.default=r,ld}var _b;function iv(){if(_b)return od;_b=1;var t=od&&od.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(od,"__esModule",{value:!0});const e=t(R_());class r extends e.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const c=Array.from(new Set(s)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:c,type:h}={}){let g="";h==="plain"?g="pl":h==="phrase"?g="ph":h==="websearch"&&(g="w");const u=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${g}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(a,s,c){return this.url.searchParams.append(a,`not.${s}.${c}`),this}or(a,{foreignTable:s,referencedTable:c=s}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,s,c){return this.url.searchParams.append(a,`${s}.${c}`),this}}return od.default=r,od}var Eb;function k_(){if(Eb)return id;Eb=1;var t=id&&id.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(id,"__esModule",{value:!0});const e=t(iv());class r{constructor(a,{headers:s={},schema:c,fetch:h}){this.url=a,this.headers=s,this.schema=c,this.fetch=h}select(a,{head:s=!1,count:c}={}){const h=s?"HEAD":"GET";let g=!1;const u=(a!=null?a:"*").split("").map(m=>/\s/.test(m)&&!g?"":(m==='"'&&(g=!g),m)).join("");return this.url.searchParams.set("select",u),c&&(this.headers.Prefer=`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:c=!0}={}){const h="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),s&&g.push(`count=${s}`),c||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const u=a.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(u.length>0){const m=[...new Set(u)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:c=!1,count:h,defaultToNull:g=!0}={}){const u="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&m.push(this.headers.Prefer),h&&m.push(`count=${h}`),g||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(a)){const v=a.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(v.length>0){const b=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const c="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),s&&h.push(`count=${s}`),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return id.default=r,id}var Xf={},Yf={},Nb;function rT(){return Nb||(Nb=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.version=void 0,Yf.version="0.0.0-automated"),Yf}var Sb;function nT(){if(Sb)return Xf;Sb=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.DEFAULT_HEADERS=void 0;const t=rT();return Xf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Xf}var Ab;function aT(){if(Ab)return sd;Ab=1;var t=sd&&sd.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sd,"__esModule",{value:!0});const e=t(k_()),r=t(iv()),n=nT();class a{constructor(c,{headers:h={},schema:g,fetch:u}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),h),this.schemaName=g,this.fetch=u}from(c){const h=new URL(`${this.url}/${c}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:g=!1,get:u=!1,count:m}={}){let v;const b=new URL(`${this.url}/rpc/${c}`);let _;g||u?(v=g?"HEAD":"GET",Object.entries(h).filter(([A,j])=>j!==void 0).map(([A,j])=>[A,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([A,j])=>{b.searchParams.append(A,j)})):(v="POST",_=h);const C=Object.assign({},this.headers);return m&&(C.Prefer=`count=${m}`),new r.default({method:v,url:b,headers:C,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return sd.default=a,sd}var Cb;function sT(){if(Cb)return Ps;Cb=1;var t=Ps&&Ps.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.PostgrestError=Ps.PostgrestBuilder=Ps.PostgrestTransformBuilder=Ps.PostgrestFilterBuilder=Ps.PostgrestQueryBuilder=Ps.PostgrestClient=void 0;const e=t(aT());Ps.PostgrestClient=e.default;const r=t(k_());Ps.PostgrestQueryBuilder=r.default;const n=t(iv());Ps.PostgrestFilterBuilder=n.default;const a=t(R_());Ps.PostgrestTransformBuilder=a.default;const s=t(O_());Ps.PostgrestBuilder=s.default;const c=t(j_());return Ps.PostgrestError=c.default,Ps.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:c.default},Ps}var iT=sT();const oT=Om(iT),{PostgrestClient:lT,PostgrestQueryBuilder:sz,PostgrestFilterBuilder:iz,PostgrestTransformBuilder:oz,PostgrestBuilder:lz,PostgrestError:cz}=oT;function cT(){if(typeof WebSocket!="undefined")return WebSocket;if(typeof global.WebSocket!="undefined")return global.WebSocket;if(typeof window.WebSocket!="undefined")return window.WebSocket;if(typeof self.WebSocket!="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const uT=cT(),dT="2.11.15",fT=`realtime-js/${dT}`,hT="1.0.0",L_=1e4,gT=1e3;var lh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(lh||(lh={}));var pi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pi||(pi={}));var Nl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Nl||(Nl={}));var gx;(function(t){t.websocket="websocket"})(gx||(gx={}));var d0;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(d0||(d0={}));class mT{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),s=r.getUint8(2);let c=this.HEADER_LENGTH+2;const h=n.decode(e.slice(c,c+a));c=c+a;const g=n.decode(e.slice(c,c+s));c=c+s;const u=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:g,payload:u}}}class I_{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pa;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pa||(pa={}));const Tb=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,c)=>(s[c]=pT(c,t,e,a),s),{})},pT=(t,e,r,n)=>{const a=e.find(h=>h.name===t),s=a==null?void 0:a.type,c=r[t];return s&&!n.includes(s)?D_(s,c):mx(c)},D_=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return wT(e,r)}switch(t){case pa.bool:return xT(e);case pa.float4:case pa.float8:case pa.int2:case pa.int4:case pa.int8:case pa.numeric:case pa.oid:return vT(e);case pa.json:case pa.jsonb:return yT(e);case pa.timestamp:return bT(e);case pa.abstime:case pa.date:case pa.daterange:case pa.int4range:case pa.int8range:case pa.money:case pa.reltime:case pa.text:case pa.time:case pa.timestamptz:case pa.timetz:case pa.tsrange:case pa.tstzrange:return mx(e);default:return mx(e)}},mx=t=>t,xT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},yT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const c=t.slice(1,r);try{s=JSON.parse("["+c+"]")}catch(h){s=c?c.split(","):[]}return s.map(h=>D_(e,h))}return t},bT=t=>typeof t=="string"?t.replace(" ","T"):t,P_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class C2{constructor(e,r,n={},a=L_){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jb||(jb={}));class ch{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ch.syncState(this.state,a,s,c),this.pendingDiffs.forEach(g=>{this.state=ch.syncDiff(this.state,g,s,c)}),this.pendingDiffs=[],h()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ch.syncDiff(this.state,a,s,c),h())}),this.onJoin((a,s,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:c})}),this.onLeave((a,s,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const s=this.cloneDeep(e),c=this.transformState(r),h={},g={};return this.map(s,(u,m)=>{c[u]||(g[u]=m)}),this.map(c,(u,m)=>{const v=s[u];if(v){const b=m.map(j=>j.presence_ref),_=v.map(j=>j.presence_ref),C=m.filter(j=>_.indexOf(j.presence_ref)<0),A=v.filter(j=>b.indexOf(j.presence_ref)<0);C.length>0&&(h[u]=C),A.length>0&&(g[u]=A)}else h[u]=m}),this.syncDiff(s,{joins:h,leaves:g},n,a)}static syncDiff(e,r,n,a){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(h,g)=>{var u;const m=(u=e[h])!==null&&u!==void 0?u:[];if(e[h]=this.cloneDeep(g),m.length>0){const v=e[h].map(_=>_.presence_ref),b=m.filter(_=>v.indexOf(_.presence_ref)<0);e[h].unshift(...b)}n(h,m,g)}),this.map(c,(h,g)=>{let u=e[h];if(!u)return;const m=g.map(v=>v.presence_ref);u=u.filter(v=>m.indexOf(v.presence_ref)<0),e[h]=u,a(h,u,g),u.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ob;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ob||(Ob={}));var Rb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rb||(Rb={}));var Rc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rc||(Rc={}));class ov{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new C2(this,Nl.join,this.params,this.timeout),this.rejoinTimer=new I_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pi.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nl.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new ch(this),this.broadcastEndpointURL=P_(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pi.closed){const{config:{broadcast:s,presence:c,private:h}}=this.params;this._onError(m=>e==null?void 0:e(Rc.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Rc.CLOSED));const g={},u={broadcast:s,presence:c,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",v=>_e(this,[v],function*({postgres_changes:m}){var b;if(this.socket.setAuth(),m===void 0){e==null||e(Rc.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,C=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,A=[];for(let j=0;j<C;j++){const L=_[j],{filter:{event:D,schema:M,table:X,filter:Q}}=L,Y=m&&m[j];if(Y&&Y.event===D&&Y.schema===M&&Y.table===X&&Y.filter===Q)A.push(Object.assign(Object.assign({},L),{id:Y.id}));else{this.unsubscribe(),this.state=pi.errored,e==null||e(Rc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Rc.SUBSCRIBED);return}})).receive("error",m=>{this.state=pi.errored,e==null||e(Rc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return _e(this,arguments,function*(e,r={}){return yield this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)})}untrack(){return _e(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,r,n){return this._on(e,r,n)}send(n){return _e(this,arguments,function*(e,r={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:h}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const m=yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return yield(s=m.body)===null||s===void 0?void 0:s.cancel(),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,g,u;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||u===void 0)&&u.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new C2(this,Nl.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,r,n){return _e(this,null,function*(){const a=new AbortController,s=setTimeout(()=>a.abort(),n),c=yield this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),c})}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new C2(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,s;const c=e.toLocaleLowerCase(),{close:h,error:g,leave:u,join:m}=Nl;if(n&&[h,g,u,m].indexOf(c)>=0&&n!==this._joinRef())return;let b=this._onMessage(c,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var C,A,j;return((C=_.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(A=_.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===c}).map(_=>_.callback(b,n)):(s=this.bindings[c])===null||s===void 0||s.filter(_=>{var C,A,j,L,D,M;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const X=_.id,Q=(C=_.filter)===null||C===void 0?void 0:C.event;return X&&((A=r.ids)===null||A===void 0?void 0:A.includes(X))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const X=(D=(L=_==null?void 0:_.filter)===null||L===void 0?void 0:L.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return X==="*"||X===((M=r==null?void 0:r.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:A,table:j,commit_timestamp:L,type:D,errors:M}=C;b=Object.assign(Object.assign({},{schema:A,table:j,commit_timestamp:L,eventType:D,new:{},old:{},errors:M}),this._getPayloadRecords(C))}_.callback(b,n)})}_isClosed(){return this.state===pi.closed}_isJoined(){return this.state===pi.joined}_isJoining(){return this.state===pi.joining}_isLeaving(){return this.state===pi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ov.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Nl.close,{},e)}_onError(e){this._on(Nl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Tb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Tb(e.columns,e.old_record)),r}}const kb=()=>{},_T=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ET{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=L_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kb,this.ref=0,this.logger=kb,this.conn=null,this.sendBuffer=[],this.serializer=new mT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let c;return s?c=s:typeof fetch=="undefined"?c=(...h)=>Co(()=>_e(this,null,function*(){const{default:g}=yield Promise.resolve().then(()=>Qd);return{default:g}}),void 0).then(({default:g})=>g(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${gx.websocket}`,this.httpEndpoint=P_(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,c)=>c(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new I_(()=>_e(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=uT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hT}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r!=null?r:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}removeChannel(e){return _e(this,null,function*(){const r=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),r})}removeAllChannels(){return _e(this,null,function*(){const e=yield Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case lh.connecting:return d0.Connecting;case lh.open:return d0.Open;case lh.closing:return d0.Closing;default:return d0.Closed}}isConnected(){return this.connectionState()===d0.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new ov(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:a,ref:s}=e,c=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?c():this.sendBuffer.push(c)}setAuth(e=null){return _e(this,null,function*(){let r=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:fT};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Nl.access_token,{access_token:r})}))})}sendHeartbeat(){return _e(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(gT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:s,ref:c}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${c&&"("+c+")"||""}`,s),Array.from(this.channels).filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,c)),this.stateChangeCallbacks.message.forEach(h=>h(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Nl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([_T],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NT extends lv{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class px extends lv{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var ST=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};const F_=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...r)=>Co(()=>_e(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>Qd);return{default:n}}),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},AT=()=>ST(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Co(()=>Promise.resolve().then(()=>Qd),void 0)).Response:Response}),xx=t=>{if(Array.isArray(t))return t.map(r=>xx(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[a]=xx(n)}),e};var E0=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};const T2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CT=(t,e,r)=>E0(void 0,void 0,void 0,function*(){const n=yield AT();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new NT(T2(a),t.status||500))}).catch(a=>{e(new px(T2(a),a))}):e(new px(T2(t),t))}),TT=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Lh(t,e,r,n,a,s){return E0(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(r,TT(e,n,a,s)).then(g=>{if(!g.ok)throw g;return n!=null&&n.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>CT(g,h,n))})})}function om(t,e,r,n){return E0(this,void 0,void 0,function*(){return Lh(t,"GET",e,r,n)})}function wu(t,e,r,n,a){return E0(this,void 0,void 0,function*(){return Lh(t,"POST",e,n,a,r)})}function jT(t,e,r,n,a){return E0(this,void 0,void 0,function*(){return Lh(t,"PUT",e,n,a,r)})}function OT(t,e,r,n){return E0(this,void 0,void 0,function*(){return Lh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function M_(t,e,r,n,a){return E0(this,void 0,void 0,function*(){return Lh(t,"DELETE",e,n,a,r)})}var Xi=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};const RT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kT{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=F_(a)}uploadOrUpdate(e,r,n,a){return Xi(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},Lb),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob!="undefined"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),g&&s.append("metadata",this.encodeMetadata(g)),s.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(s=n,s.append("cacheControl",c.cacheControl),g&&s.append("metadata",this.encodeMetadata(g))):(s=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const u=this._removeEmptyFolders(r),m=this._getFinalPath(u),v=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:e,body:s,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),b=yield v.json();return v.ok?{data:{path:u,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(s){if(Fs(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Xi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Xi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),c=this._getFinalPath(s),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",r);try{let g;const u=Object.assign({upsert:Lb.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(g=new FormData,g.append("cacheControl",u.cacheControl),g.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(g=n,g.append("cacheControl",u.cacheControl)):(g=n,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:m}),b=yield v.json();return v.ok?{data:{path:s,fullPath:b.Key},error:null}:{data:null,error:b}}catch(g){if(Fs(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,r){return Xi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield wu(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(this.url+s.url),h=c.searchParams.get("token");if(!h)throw new lv("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(n){if(Fs(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xi(this,void 0,void 0,function*(){try{return{data:yield wu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Fs(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Xi(this,void 0,void 0,function*(){try{return{data:{path:(yield wu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Fs(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Xi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),s=yield wu(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(a){if(Fs(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Xi(this,void 0,void 0,function*(){try{const a=yield wu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(a){if(Fs(a))return{data:null,error:a};throw a}})}download(e,r){return Xi(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)!="undefined"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=s?`?${s}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield om(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Fs(h))return{data:null,error:h};throw h}})}info(e){return Xi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield om(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xx(n),error:null}}catch(n){if(Fs(n))return{data:null,error:n};throw n}})}exists(e){return Xi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield OT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Fs(n)&&n instanceof px){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const h=typeof(r==null?void 0:r.transform)!="undefined"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&a.push(g);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${n}${u}`)}}}remove(e){return Xi(this,void 0,void 0,function*(){try{return{data:yield M_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Fs(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},RT),r),{prefix:e||""});return{data:yield wu(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Fs(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const LT="2.7.1",IT={"X-Client-Info":`storage-js/${LT}`};var ud=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};class DT{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},IT),r),this.fetch=F_(n)}listBuckets(){return ud(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Fs(e))return{data:null,error:e};throw e}})}getBucket(e){return ud(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Fs(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ud(this,void 0,void 0,function*(){try{return{data:yield wu(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Fs(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ud(this,void 0,void 0,function*(){try{return{data:yield jT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Fs(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ud(this,void 0,void 0,function*(){try{return{data:yield wu(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Fs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ud(this,void 0,void 0,function*(){try{return{data:yield M_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Fs(r))return{data:null,error:r};throw r}})}}class PT extends DT{constructor(e,r={},n){super(e,r,n)}from(e){return new kT(this.url,this.headers,e,this.fetch)}}const FT="2.52.0";let sh="";typeof Deno!="undefined"?sh="deno":typeof document!="undefined"?sh="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?sh="react-native":sh="node";const MT={"X-Client-Info":`supabase-js-${sh}/${FT}`},BT={headers:MT},UT={schema:"public"},zT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HT={};var qT=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};const VT=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=C_:e=fetch,(...r)=>e(...r)},WT=()=>typeof Headers=="undefined"?T_:Headers,GT=(t,e,r)=>{const n=VT(r),a=WT();return(s,c)=>qT(void 0,void 0,void 0,function*(){var h;const g=(h=yield e())!==null&&h!==void 0?h:t;let u=new a(c==null?void 0:c.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${g}`),n(s,Object.assign(Object.assign({},c),{headers:u}))})};var $T=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};function XT(t){return t.endsWith("/")?t:t+"/"}function YT(t,e){var r,n;const{db:a,auth:s,realtime:c,global:h}=t,{db:g,auth:u,realtime:m,global:v}=e,b={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},m),c),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>$T(this,void 0,void 0,function*(){return""})};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}const B_="2.71.1",Sd=30*1e3,vx=3,j2=vx*Sd,KT="http://localhost:9999",ZT="supabase.auth.token",JT={"X-Client-Info":`gotrue-js/${B_}`},yx="X-Supabase-Api-Version",U_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ej=10*60*1e3;class cv extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Yr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class tj extends cv{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rj(t){return Yr(t)&&t.name==="AuthApiError"}class z_ extends cv{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ku extends cv{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class yu extends ku{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nj(t){return Yr(t)&&t.name==="AuthSessionMissingError"}class G1 extends ku{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $1 extends ku{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class X1 extends ku{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aj(t){return Yr(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ib extends ku{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wx extends ku{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function O2(t){return Yr(t)&&t.name==="AuthRetryableFetchError"}class Db extends ku{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bx extends ku{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pb=` 	
\r=`.split(""),sj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pb.length;e+=1)t[Pb[e].charCodeAt(0)]=-2;for(let e=0;e<lm.length;e+=1)t[lm[e].charCodeAt(0)]=e;return t})();function Fb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lm[n]),e.queuedBits-=6}}function H_(t,e,r){const n=sj[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mb(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=c=>{lj(c,n,r)};for(let c=0;c<t.length;c+=1)H_(t.charCodeAt(c),a,s);return e.join("")}function ij(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function oj(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ij(n,e)}}function lj(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function cj(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)H_(t.charCodeAt(a),r,n);return new Uint8Array(e)}function uj(t){const e=[];return oj(t,r=>e.push(r)),new Uint8Array(e)}function dj(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Fb(a,r,n)),Fb(null,r,n),e.join("")}function fj(t){return Math.round(Date.now()/1e3)+t}function hj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _l=()=>typeof window!="undefined"&&typeof document!="undefined",n0={tested:!1,writable:!1},q_=()=>{if(!_l())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(n0.tested)return n0.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),n0.tested=!0,n0.writable=!0}catch(e){n0.tested=!0,n0.writable=!1}return n0.writable};function gj(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{e[s]=a})}catch(n){}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const V_=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...r)=>Co(()=>_e(null,null,function*(){const{default:n}=yield Promise.resolve().then(()=>Qd);return{default:n}}),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ad=(t,e,r)=>_e(null,null,function*(){yield t.setItem(e,JSON.stringify(r))}),a0=(t,e)=>_e(null,null,function*(){const r=yield t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}}),gu=(t,e)=>_e(null,null,function*(){yield t.removeItem(e)});class Gm{constructor(){this.promise=new Gm.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Gm.promiseConstructor=Promise;function R2(t){const e=t.split(".");if(e.length!==3)throw new bx("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!QT.test(e[n]))throw new bx("JWT not in base64url format");return{header:JSON.parse(Mb(e[0])),payload:JSON.parse(Mb(e[1])),signature:cj(e[2]),raw:{header:e[0],payload:e[1]}}}function pj(t){return _e(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function xj(t,e){return new Promise((n,a)=>{_e(null,null,function*(){for(let s=0;s<1/0;s++)try{const c=yield t(s);if(!e(s,null,c)){n(c);return}}catch(c){if(!e(s,c)){a(c);return}}})})}function vj(t){return("0"+t.toString(16)).substr(-2)}function yj(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,vj).join("")}function wj(t){return _e(this,null,function*(){const r=new TextEncoder().encode(t),n=yield crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")})}function bj(t){return _e(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=yield wj(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function dd(t,e,r=!1){return _e(this,null,function*(){const n=yj();let a=n;r&&(a+="/PASSWORD_RECOVERY"),yield Ad(t,`${e}-code-verifier`,a);const s=yield bj(n);return[s,n===s?"plain":"s256"]})}const _j=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ej(t){const e=t.headers.get(yx);if(!e||!e.match(_j))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(r){return null}}function Nj(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Sj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Aj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fd(t){if(!Aj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function k2(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bb(t){return JSON.parse(JSON.stringify(t))}var Cj=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const c0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Tj=[502,503,504];function Ub(t){return _e(this,null,function*(){var e;if(!mj(t))throw new wx(c0(t),0);if(Tj.includes(t.status))throw new wx(c0(t),t.status);let r;try{r=yield t.json()}catch(s){throw new z_(c0(s),s)}let n;const a=Ej(t);if(a&&a.getTime()>=U_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Db(c0(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new Db(c0(r),t.status,r.weak_password.reasons);throw new tj(c0(r),t.status||500,n)})}const jj=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};function xn(t,e,r,n){return _e(this,null,function*(){var a;const s=Object.assign({},n==null?void 0:n.headers);s[yx]||(s[yx]=U_["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=yield Oj(t,e,r+h,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(g):{data:Object.assign({},g),error:null}})}function Oj(t,e,r,n,a,s){return _e(this,null,function*(){const c=jj(e,n,a,s);let h;try{h=yield t(r,Object.assign({},c))}catch(g){throw console.error(g),new wx(c0(g),0)}if(h.ok||(yield Ub(h)),n!=null&&n.noResolveJson)return h;try{return yield h.json()}catch(g){yield Ub(g)}})}function jc(t){var e;let r=null;Ij(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fj(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zb(t){const e=jc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rj(t){return{data:t,error:null}}function kj(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=t,c=Cj(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function Lj(t){return t}function Ij(t){return t.access_token&&t.refresh_token&&t.expires_in}const L2=["global","local","others"];var Dj=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Pj{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=V_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n){return _e(this,arguments,function*(e,r=L2[0]){if(L2.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${L2.join(", ")}`);try{return yield xn(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Yr(a))return{data:null,error:a};throw a}})}inviteUserByEmail(n){return _e(this,arguments,function*(e,r={}){try{return yield xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bu})}catch(a){if(Yr(a))return{data:{user:null},error:a};throw a}})}generateLink(e){return _e(this,null,function*(){try{const{options:r}=e,n=Dj(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),yield xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Yr(r))return{data:{properties:null,user:null},error:r};throw r}})}createUser(e){return _e(this,null,function*(){try{return yield xn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bu})}catch(r){if(Yr(r))return{data:{user:null},error:r};throw r}})}listUsers(e){return _e(this,null,function*(){var r,n,a,s,c,h,g;try{const u={nextPage:null,lastPage:0,total:0},m=yield xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:Lj});if(m.error)throw m.error;const v=yield m.json(),b=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(g=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(C=>{const A=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);u[`${j}Page`]=A}),u.total=parseInt(b)),{data:Object.assign(Object.assign({},v),u),error:null}}catch(u){if(Yr(u))return{data:{users:[]},error:u};throw u}})}getUserById(e){return _e(this,null,function*(){fd(e);try{return yield xn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bu})}catch(r){if(Yr(r))return{data:{user:null},error:r};throw r}})}updateUserById(e,r){return _e(this,null,function*(){fd(e);try{return yield xn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:bu})}catch(n){if(Yr(n))return{data:{user:null},error:n};throw n}})}deleteUser(e,r=!1){return _e(this,null,function*(){fd(e);try{return yield xn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:bu})}catch(n){if(Yr(n))return{data:{user:null},error:n};throw n}})}_listFactors(e){return _e(this,null,function*(){fd(e.userId);try{const{data:r,error:n}=yield xn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}_deleteFactor(e){return _e(this,null,function*(){fd(e.userId),fd(e.id);try{return{data:yield xn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}}function Hb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Fj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self!="undefined"&&(self.globalThis=self)}}const hd={debug:!!(globalThis&&q_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mj extends W_{}function Bj(t,e,r){return _e(this,null,function*(){hd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),hd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},a=>_e(null,null,function*(){if(a){hd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return yield r()}finally{hd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw hd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Mj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hd.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield r()}})))})}Fj();const Uj={url:KT,storageKey:ZT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function qb(t,e,r){return _e(this,null,function*(){return yield r()})}const gd={};class wh{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wh.nextInstanceID,wh.nextInstanceID+=1,this.instanceID>0&&_l()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Uj),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=V_(a.fetch),this.lock=a.lock||qb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:_l()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bj:this.lock=qb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:q_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Hb(this.memoryStorage)),_l()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",s=>_e(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var e,r;return(r=(e=gd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gd[this.storageKey]=Object.assign(Object.assign({},gd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gd[this.storageKey]=Object.assign(Object.assign({},gd[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B_}) ${new Date().toISOString()}`,...e),this}initialize(){return _e(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=_e(this,null,function*(){return yield this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return _e(this,null,function*(){var e;try{const r=gj(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":(yield this._isPKCECallback(r))&&(n="pkce"),_l()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=yield this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),aj(s)){const g=(e=s.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),yield this._saveSession(c),setTimeout(()=>_e(this,null,function*(){h==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield this._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return Yr(r)?{error:r}:{error:new z_("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return _e(this,null,function*(){var r,n,a;try{const s=yield xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:jc}),{data:c,error:h}=s;if(h||!c)return{data:{user:null,session:null},error:h};const g=c.session,u=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:u,session:g},error:null}}catch(s){if(Yr(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return _e(this,null,function*(){var r,n,a;try{let s;if("email"in e){const{email:m,password:v,options:b}=e;let _=null,C=null;this.flowType==="pkce"&&([_,C]=yield dd(this.storage,this.storageKey)),s=yield xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:m,password:v,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:_,code_challenge_method:C},xform:jc})}else if("phone"in e){const{phone:m,password:v,options:b}=e;s=yield xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:jc})}else throw new $1("You must provide either an email or phone number and a password");const{data:c,error:h}=s;if(h||!c)return{data:{user:null,session:null},error:h};const g=c.session,u=c.user;return c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:u,session:g},error:null}}catch(s){if(Yr(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return _e(this,null,function*(){try{let r;if("email"in e){const{email:s,password:c,options:h}=e;r=yield xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zb})}else if("phone"in e){const{phone:s,password:c,options:h}=e;r=yield xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zb})}else throw new $1("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new G1}:(n.session&&(yield this._saveSession(n.session),yield this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Yr(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){return _e(this,null,function*(){var r,n,a,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return _e(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>_e(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return _e(this,null,function*(){const{chain:r}=e;if(r==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(e){return _e(this,null,function*(){var r,n,a,s,c,h,g,u,m,v,b,_;let C,A;if("message"in e)C=e.message,A=e.signature;else{const{chain:j,wallet:L,statement:D,options:M}=e;let X;if(_l())if(typeof L=="object")X=L;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))X=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=L}const Q=new URL((r=M==null?void 0:M.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in X&&X.signIn){const Y=yield X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),D?{statement:D}:null));let V;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")V=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)V=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)C=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),A=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Q.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(a=(n=M==null?void 0:M.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=M==null?void 0:M.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M==null?void 0:M.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((v=(m=M==null?void 0:M.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...M.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Y=yield X.signMessage(new TextEncoder().encode(C),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=Y}}try{const{data:j,error:L}=yield xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:dj(A)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:jc});if(L)throw L;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new G1}:(j.session&&(yield this._saveSession(j.session),yield this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:L})}catch(j){if(Yr(j))return{data:{user:null,session:null},error:j};throw j}})}_exchangeCodeForSession(e){return _e(this,null,function*(){const r=yield a0(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r!=null?r:"").split("/");try{const{data:s,error:c}=yield xn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:jc});if(yield gu(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new G1}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a!=null?a:null}),error:c})}catch(s){if(Yr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return _e(this,null,function*(){try{const{options:r,provider:n,token:a,access_token:s,nonce:c}=e,h=yield xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jc}),{data:g,error:u}=h;return u?{data:{user:null,session:null},error:u}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new G1}:(g.session&&(yield this._saveSession(g.session),yield this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:u})}catch(r){if(Yr(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(e){return _e(this,null,function*(){var r,n,a,s,c;try{if("email"in e){const{email:h,options:g}=e;let u=null,m=null;this.flowType==="pkce"&&([u,m]=yield dd(this.storage,this.storageKey));const{error:v}=yield xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(n=g==null?void 0:g.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:u,code_challenge_method:m},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:g}=e,{data:u,error:m}=yield xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m}}throw new $1("You must provide either an email or phone number.")}catch(h){if(Yr(h))return{data:{user:null,session:null},error:h};throw h}})}verifyOtp(e){return _e(this,null,function*(){var r,n;try{let a,s;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:h}=yield xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:jc});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,u=c.user;return g!=null&&g.access_token&&(yield this._saveSession(g),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:u,session:g},error:null}}catch(a){if(Yr(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithSSO(e){return _e(this,null,function*(){var r,n,a;try{let s=null,c=null;return this.flowType==="pkce"&&([s,c]=yield dd(this.storage,this.storageKey)),yield xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:Rj})}catch(s){if(Yr(s))return{data:null,error:s};throw s}})}reauthenticate(){return _e(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return _e(this,null,function*(){try{return yield this._useSession(e=>_e(this,null,function*(){const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new yu;const{error:a}=yield xn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}}))}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return _e(this,null,function*(){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:s}=e,{error:c}=yield xn(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:a,options:s}=e,{data:c,error:h}=yield xn(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new $1("You must provide either an email or phone number and a type")}catch(r){if(Yr(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return _e(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){return this._useSession(r=>_e(this,null,function*(){return r}))}))})}_acquireLock(e,r){return _e(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=_e(this,null,function*(){return yield n,yield r()});return this.pendingInLock.push(_e(this,null,function*(){try{yield a}catch(s){}})),a}return yield this.lock(`lock:${this.storageKey}`,e,()=>_e(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push(_e(this,null,function*(){try{yield n}catch(a){}})),yield n;this.pendingInLock.length;){const a=[...this.pendingInLock];yield Promise.all(a),this.pendingInLock.splice(0,a.length)}return yield n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return _e(this,null,function*(){this._debug("#_useSession","begin");try{const r=yield this.__loadSession();return yield e(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return _e(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=yield a0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<j2:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=yield a0(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=k2()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,u,m)=>(!c&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,u,m))})}return{data:{session:e},error:null}}const{session:a,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return _e(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return _e(this,null,function*(){try{return e?yield xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bu}):yield this._useSession(r=>_e(this,null,function*(){var n,a,s;const{data:c,error:h}=r;if(h)throw h;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yu}:yield xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:bu})}))}catch(r){if(Yr(r))return nj(r)&&(yield this._removeSession(),yield gu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(n){return _e(this,arguments,function*(e,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._updateUser(e,r)}))})}_updateUser(n){return _e(this,arguments,function*(e,r={}){try{return yield this._useSession(a=>_e(this,null,function*(){const{data:s,error:c}=a;if(c)throw c;if(!s.session)throw new yu;const h=s.session;let g=null,u=null;this.flowType==="pkce"&&e.email!=null&&([g,u]=yield dd(this.storage,this.storageKey));const{data:m,error:v}=yield xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:u}),jwt:h.access_token,xform:bu});if(v)throw v;return h.user=m.user,yield this._saveSession(h),yield this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}}))}catch(a){if(Yr(a))return{data:{user:null},error:a};throw a}})}setSession(e){return _e(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return _e(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new yu;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:c}=R2(e.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{session:h,error:g}=yield this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};s=h}else{const{data:h,error:g}=yield this._getUser(e.access_token);if(g)throw g;s={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:n-r,expires_at:n},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Yr(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(e){return _e(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return _e(this,null,function*(){try{return yield this._useSession(r=>_e(this,null,function*(){var n;if(!e){const{data:c,error:h}=r;if(h)throw h;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yu;const{session:a,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(Yr(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(e,r){return _e(this,null,function*(){try{if(!_l())throw new X1("No browser detected.");if(e.error||e.error_description||e.error_code)throw new X1(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ib("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new X1("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ib("No code detected.");const{data:D,error:M}=yield this._exchangeCodeForSession(e.code);if(M)throw M;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:c,expires_in:h,expires_at:g,token_type:u}=e;if(!s||!h||!c||!u)throw new X1("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(h);let b=m+v;g&&(b=parseInt(g));const _=b-m;_*1e3<=Sd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const C=b-v;m-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,m):m-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,m);const{data:A,error:j}=yield this._getUser(s);if(j)throw j;const L={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:v,expires_at:b,refresh_token:c,token_type:u,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:e.type},error:null}}catch(n){if(Yr(n))return{data:{session:null,redirectType:null},error:n};throw n}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return _e(this,null,function*(){const r=yield a0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)})}signOut(){return _e(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return _e(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(r=>_e(this,null,function*(){var n;const{data:a,error:s}=r;if(s)return{error:s};const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:h}=yield this.admin.signOut(c,e);if(h&&!(rj(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(yield this._removeSession(),yield gu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const r=hj(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),_e(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:n}}}_emitInitialSession(e){return _e(this,null,function*(){return yield this._useSession(r=>_e(this,null,function*(){var n,a;try{const{data:{session:s},error:c}=r;if(c)throw c;yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(n){return _e(this,arguments,function*(e,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=yield dd(this.storage,this.storageKey,!0));try{return yield xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(Yr(c))return{data:null,error:c};throw c}})}getUserIdentities(){return _e(this,null,function*(){var e;try{const{data:r,error:n}=yield this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}linkIdentity(e){return _e(this,null,function*(){var r;try{const{data:n,error:a}=yield this._useSession(s=>_e(this,null,function*(){var c,h,g,u,m;const{data:v,error:b}=s;if(b)throw b;const _=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return yield xn(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(u=v.session)===null||u===void 0?void 0:u.access_token)!==null&&m!==void 0?m:void 0})}));if(a)throw a;return _l()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Yr(n))return{data:{provider:e.provider,url:null},error:n};throw n}})}unlinkIdentity(e){return _e(this,null,function*(){try{return yield this._useSession(r=>_e(this,null,function*(){var n,a;const{data:s,error:c}=r;if(c)throw c;return yield xn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})}))}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return _e(this,null,function*(){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return yield xj(a=>_e(this,null,function*(){return a>0&&(yield pj(200*Math.pow(2,a-1))),this._debug(r,"refreshing attempt",a),yield xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jc})}),(a,s)=>{const c=200*Math.pow(2,a);return s&&O2(s)&&Date.now()+c-n<Sd})}catch(n){if(this._debug(r,"error",n),Yr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,r){return _e(this,null,function*(){const n=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),_l()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}})}_recoverAndRefresh(){return _e(this,null,function*(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=yield a0(this.storage,this.storageKey);if(a&&this.userStorage){let c=yield a0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},yield Ad(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:k2()}else if(a&&!a.user&&!a.user){const c=yield a0(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,yield gu(this.storage,this.storageKey+"-user"),yield Ad(this.storage,this.storageKey,a)):a.user=k2()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&(yield this._removeSession());return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<j2;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${j2}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=yield this._callRefreshToken(a.refresh_token);c&&(console.error(c),O2(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),yield this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=yield this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else yield this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}})}_callRefreshToken(e){return _e(this,null,function*(){var r,n;if(!e)throw new yu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Gm;const{data:s,error:c}=yield this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new yu;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const h={session:s.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(s){if(this._debug(a,"error",s),Yr(s)){const c={session:null,error:s};return O2(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}})}_notifyAllSubscribers(e,r,n=!0){return _e(this,null,function*(){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(h=>_e(this,null,function*(){try{yield h.callback(e,r)}catch(g){s.push(g)}}));if(yield Promise.all(c),s.length>0){for(let h=0;h<s.length;h+=1)console.error(s[h]);throw s[0]}}finally{this._debug(a,"end")}})}_saveSession(e){return _e(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&(yield Ad(this.userStorage,this.storageKey+"-user",{user:r.user}));const a=Object.assign({},r);delete a.user;const s=Bb(a);yield Ad(this.storage,this.storageKey,s)}else{const a=Bb(r);yield Ad(this.storage,this.storageKey,a)}})}_removeSession(){return _e(this,null,function*(){this._debug("#_removeSession()"),yield gu(this.storage,this.storageKey),yield gu(this.storage,this.storageKey+"-code-verifier"),yield gu(this.storage,this.storageKey+"-user"),this.userStorage&&(yield gu(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_l()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return _e(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>_e(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return _e(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return _e(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return _e(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return _e(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>_e(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(r=>_e(this,null,function*(){const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Sd}ms, refresh threshold is ${vx} ticks`),a<=vx&&(yield this._callRefreshToken(n.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof W_)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return _e(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!_l()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>_e(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return _e(this,null,function*(){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>_e(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,r,n){return _e(this,null,function*(){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=yield dd(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`})}_unenroll(e){return _e(this,null,function*(){try{return yield this._useSession(r=>_e(this,null,function*(){var n;const{data:a,error:s}=r;return s?{data:null,error:s}:yield xn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}_enroll(e){return _e(this,null,function*(){try{return yield this._useSession(r=>_e(this,null,function*(){var n,a;const{data:s,error:c}=r;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:u}=yield xn(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})}))}catch(r){if(Yr(r))return{data:null,error:r};throw r}})}_verify(e){return _e(this,null,function*(){return this._acquireLock(-1,()=>_e(this,null,function*(){try{return yield this._useSession(r=>_e(this,null,function*(){var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:c,error:h}=yield xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})}))}catch(r){if(Yr(r))return{data:null,error:r};throw r}}))})}_challenge(e){return _e(this,null,function*(){return this._acquireLock(-1,()=>_e(this,null,function*(){try{return yield this._useSession(r=>_e(this,null,function*(){var n;const{data:a,error:s}=r;return s?{data:null,error:s}:yield xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})}))}catch(r){if(Yr(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(e){return _e(this,null,function*(){const{data:r,error:n}=yield this._challenge({factorId:e.factorId});return n?{data:null,error:n}:yield this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})})}_listFactors(){return _e(this,null,function*(){const{data:{user:e},error:r}=yield this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),s=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return _e(this,null,function*(){return this._acquireLock(-1,()=>_e(this,null,function*(){return yield this._useSession(e=>_e(this,null,function*(){var r,n;const{data:{session:a},error:s}=e;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=R2(a.access_token);let h=null;c.aal&&(h=c.aal);let g=h;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const m=c.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:m},error:null}}))}))})}fetchJwk(n){return _e(this,arguments,function*(e,r={keys:[]}){let a=r.keys.find(g=>g.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(g=>g.kid===e),a&&this.jwks_cached_at+ej>s)return a;const{data:c,error:h}=yield xn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=s,a=c.keys.find(g=>g.kid===e),!a)?null:a})}getClaims(n){return _e(this,arguments,function*(e,r={}){try{let a=e;if(!a){const{data:C,error:A}=yield this.getSession();if(A||!C.session)return{data:null,error:A};a=C.session.access_token}const{header:s,payload:c,signature:h,raw:{header:g,payload:u}}=R2(a);r!=null&&r.allowExpired||Nj(c.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:C}=yield this.getUser(a);if(C)throw C;return{data:{claims:c,header:s,signature:h},error:null}}const v=Sj(s.alg),b=yield crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!(yield crypto.subtle.verify(v,b,h,uj(`${g}.${u}`))))throw new bx("Invalid JWT signature");return{data:{claims:c,header:s,signature:h},error:null}}catch(a){if(Yr(a))return{data:null,error:a};throw a}})}}wh.nextInstanceID=0;const zj=wh;class Hj extends zj{constructor(e){super(e)}}var qj=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})};class Vj{constructor(e,r,n){var a,s,c;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=XT(e),g=new URL(h);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const u=`sb-${g.hostname.split(".")[0]}-auth-token`,m={db:UT,realtime:HT,auth:Object.assign(Object.assign({},zT),{storageKey:u}),global:BT},v=YT(n!=null?n:{},m);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=v.global.headers)!==null&&s!==void 0?s:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(b,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=GT(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new lT(new URL("rest/v1",g).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new K7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new PT(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return qj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:c,lock:h,debug:g},u,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hj({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:c,lock:h,debug:g,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ET(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wj=(t,e,r)=>new Vj(t,e,r),Gj="https://uwizdypmlvfvegklnogq.supabase.co",$j="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3aXpkeXBtbHZmdmVna2xub2dxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5Mzk3MDUsImV4cCI6MjA2NjUxNTcwNX0.KQ3_XiXJERD7mA4iZOaon82hcR7g6PBigelW_rie7Ew",mu=Wj(Gj,$j,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});class Xj{constructor(){this.supabaseUrl=void 0}sendOrderConfirmation(e){return _e(this,null,function*(){try{console.log(" Sending order confirmation email for order:",e.id);const r=yield this.prepareOrderEmailData(e,"order_confirmation"),{data:n,error:a}=yield mu.functions.invoke("send-order-email",{body:{type:"order_confirmation",data:r}});if(a)throw console.error(" Failed to send order confirmation email:",a),a;return console.log(" Order confirmation email sent successfully:",n),n}catch(r){throw console.error(" Email service error:",r),new Error(`Failed to send order confirmation email: ${r.message}`)}})}sendOrderStatusUpdate(e,r){return _e(this,null,function*(){try{console.log(` Sending order status update email: ${r} for order:`,e.id);const n=this.getEmailTypeFromStatus(r),a=yield this.prepareOrderEmailData(e,n),{data:s,error:c}=yield mu.functions.invoke("send-order-email",{body:{type:n,data:a}});if(c)throw console.error(" Failed to send order status email:",c),c;return console.log(" Order status email sent successfully:",s),s}catch(n){throw console.error(" Email service error:",n),new Error(`Failed to send order status email: ${n.message}`)}})}sendWelcomeEmail(e){return _e(this,null,function*(){try{console.log(" Sending welcome email to:",e.email);const{data:r,error:n}=yield mu.functions.invoke("send-order-email",{body:{type:"welcome",data:{userEmail:e.email,userName:`${e.first_name} ${e.last_name}`,userId:e.id}}});if(n)throw console.error(" Failed to send welcome email:",n),n;return console.log(" Welcome email sent successfully:",r),r}catch(r){console.error(" Email service error:",r),console.warn(" Welcome email failed, but continuing...")}})}prepareOrderEmailData(e,r){return _e(this,null,function*(){try{const{data:n,error:a}=yield mu.from("users").select("first_name, last_name, email").eq("id",e.user_id).single();if(a)throw new Error(`Failed to fetch user data: ${a.message}`);const{data:s,error:c}=yield mu.from("order_items").select(`
          quantity,
          price,
          products (
            name,
            description
          )
        `).eq("order_id",e.id);if(c)throw new Error(`Failed to fetch order items: ${c.message}`);const h=s.map(u=>({name:u.products.name,quantity:u.quantity,price:parseFloat(u.price),total:u.quantity*parseFloat(u.price)}));return{orderId:e.id,userEmail:n.email,userName:`${n.first_name} ${n.last_name}`,orderTotal:parseFloat(e.total_amount),orderItems:h,orderStatus:e.status,shippingAddress:{address:e.shipping_address||"",city:e.shipping_city||"",state:e.shipping_state||"",zipCode:e.shipping_zip_code||""},billingAddress:{address:e.billing_address||e.shipping_address||"",city:e.billing_city||e.shipping_city||"",state:e.billing_state||e.shipping_state||"",zipCode:e.billing_zip_code||e.shipping_zip_code||""},paymentMethod:e.payment_method||"Not specified",orderDate:new Date(e.created_at).toLocaleDateString(),estimatedDelivery:this.calculateEstimatedDelivery(e.created_at)}}catch(n){throw console.error(" Error preparing email data:",n),n}})}getEmailTypeFromStatus(e){return{pending:"order_confirmation",processing:"order_processing",shipped:"order_shipped",delivered:"order_delivered",cancelled:"order_cancelled"}[e]||"order_status_update"}calculateEstimatedDelivery(e){const r=new Date(e),n=new Date(r);return n.setDate(n.getDate()+7),n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getEmailLogs(e){return _e(this,null,function*(){try{const{data:r,error:n}=yield mu.from("email_logs").select("*").eq("order_id",e).order("created_at",{ascending:!1});if(n)throw n;return r}catch(r){throw console.error(" Error fetching email logs:",r),r}})}resendOrderEmail(e,r){return _e(this,null,function*(){try{const{data:n,error:a}=yield mu.from("orders").select("*").eq("id",e).single();if(a)throw new Error(`Failed to fetch order: ${a.message}`);return r==="order_confirmation"?yield this.sendOrderConfirmation(n):yield this.sendOrderStatusUpdate(n,n.status)}catch(n){throw console.error(" Error resending email:",n),n}})}testEmailConfiguration(){return _e(this,null,function*(){try{console.log(" Testing email configuration...");const{data:e,error:r}=yield mu.functions.invoke("send-order-email",{body:{type:"test",data:{userEmail:"test@example.com",userName:"Test User",orderId:"TEST-"+Date.now(),orderTotal:99.99,orderItems:[{name:"Test Product",quantity:1,price:99.99}],orderStatus:"pending",shippingAddress:{address:"123 Test St",city:"Test City",state:"TS",zipCode:"12345"}}}});if(r)throw console.error(" Email test error:",r),r;return console.log(" Email test successful:",e),{success:!0,message:"Email configuration is working correctly",data:e}}catch(e){console.error(" Email configuration test failed:",e);let r=e.message;return e.message.includes("domain")?r=`Domain verification issue. Try using a default email provider domain like 'onboarding@resend.dev' instead of a custom domain. Original error: ${e.message}`:e.message.includes("API key")?r=`API key issue. Check that your email provider API key is correctly set in Supabase environment variables. Original error: ${e.message}`:e.message.includes("Function not found")&&(r=`Edge function not deployed. Run 'supabase functions deploy send-order-email' to deploy the email function. Original error: ${e.message}`),{success:!1,error:r}}})}}const G_=new Xj,Yj=({amount:t,onSuccess:e,customerInfo:r})=>{const[n,a]=ee.useState(!1),[s,c]=ee.useState(!1),{success:h}=ja(),g=`YRD${Date.now()}${Math.random().toString(36).substr(2,4).toUpperCase()}`,u={bankName:"First National Bank",accountName:"Yamaha RD Parts Ltd",accountNumber:"1234567890",routingNumber:"021000021",reference:g},m=()=>_e(null,null,function*(){c(!0),setTimeout(()=>{h("Order confirmed! Please complete the bank transfer to process your order."),e({payment_method:"bank_transfer",payment_status:"pending_payment",amount:t,currency:"USD",reference_number:g,transaction_id:`BT_${g}`}),c(!1)},1e3)}),v=b=>{navigator.clipboard.writeText(b),h("Copied to clipboard!")};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"h-6 w-6 text-blue-600 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Bank Transfer"}),i.jsx("p",{className:"text-blue-700",children:"Transfer money directly to our bank account"})]})]})}),i.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Bank Transfer Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Bank Name:"}),i.jsx("p",{className:"font-medium",children:u.bankName})]}),i.jsx("button",{onClick:()=>v(u.bankName),className:"text-blue-600 hover:text-blue-800",children:""})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Account Name:"}),i.jsx("p",{className:"font-medium",children:u.accountName})]}),i.jsx("button",{onClick:()=>v(u.accountName),className:"text-blue-600 hover:text-blue-800",children:""})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Account Number:"}),i.jsx("p",{className:"font-medium",children:u.accountNumber})]}),i.jsx("button",{onClick:()=>v(u.accountNumber),className:"text-blue-600 hover:text-blue-800",children:""})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Routing Number:"}),i.jsx("p",{className:"font-medium",children:u.routingNumber})]}),i.jsx("button",{onClick:()=>v(u.routingNumber),className:"text-blue-600 hover:text-blue-800",children:""})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-yellow-50 rounded border border-yellow-200",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-yellow-700",children:"Reference Number:"}),i.jsx("p",{className:"font-bold text-yellow-800",children:u.reference}),i.jsx("p",{className:"text-xs text-yellow-600",children:" Include this in transfer description"})]}),i.jsx("button",{onClick:()=>v(u.reference),className:"text-yellow-700 hover:text-yellow-900",children:""})]}),i.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded border border-green-200",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-green-700",children:"Amount to Transfer:"}),i.jsxs("p",{className:"font-bold text-green-800 text-lg",children:["$",t.toFixed(2)," USD"]})]}),i.jsx("button",{onClick:()=>v(t.toFixed(2)),className:"text-green-700 hover:text-green-900",children:""})]})]})]}),i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Transfer Instructions:"}),i.jsxs("ol",{className:"text-sm text-orange-700 space-y-1 list-decimal list-inside",children:[i.jsx("li",{children:"Log into your online banking or visit your bank"}),i.jsx("li",{children:"Set up a new transfer to the account details above"}),i.jsxs("li",{children:["Enter the exact amount: ",i.jsxs("strong",{children:["$",t.toFixed(2)]})]}),i.jsxs("li",{children:["Include reference number: ",i.jsx("strong",{children:u.reference})]}),i.jsx("li",{children:"Complete the transfer"}),i.jsx("li",{children:"Your order will be processed within 1-2 business days"})]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Important:"}),i.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[i.jsx("li",{children:" Transfer fees may apply from your bank"}),i.jsx("li",{children:" International transfers may take 3-5 business days"}),i.jsx("li",{children:" Always include the reference number"}),i.jsx("li",{children:" Keep your transfer receipt for records"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"transfer-terms",checked:n,onChange:b=>a(b.target.checked),className:"h-4 w-4 text-blue-600"}),i.jsx("label",{htmlFor:"transfer-terms",className:"text-sm text-gray-700",children:"I understand the transfer instructions and will complete the payment"})]}),i.jsx("button",{onClick:m,disabled:!n||s,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Confirm Order - I Will Transfer the Money"})]})},Kj=({amount:t,onSuccess:e,customerInfo:r})=>{const[n,a]=ee.useState(!1),[s,c]=ee.useState(!1),{success:h}=ja(),g=`YRD-${Date.now()}`,u={company:"Yamaha RD Parts",address:"123 Motorcycle Lane",city:"Bike City",state:"BC",zipCode:"12345",country:"USA"},m=()=>_e(null,null,function*(){c(!0),setTimeout(()=>{h("Order confirmed! Please mail your check to complete the purchase."),e({payment_method:"check",payment_status:"pending_payment",amount:t,currency:"USD",order_number:g,transaction_id:`CHECK_${g}`}),c(!1)},1e3)}),v=()=>{const b=`${u.company}
${u.address}
${u.city}, ${u.state} ${u.zipCode}
${u.country}`;navigator.clipboard.writeText(b),h("Address copied to clipboard!")};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"card p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"h-6 w-6 text-emerald-400 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Check / Money Order"}),i.jsx("p",{className:"text-slate-300",children:"Mail us a check or money order"})]})]})}),i.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Payment Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Order Number:"}),i.jsx("span",{className:"font-bold",children:g})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Amount to Pay:"}),i.jsxs("span",{className:"font-bold text-lg",children:["$",t.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Make Check Payable To:"}),i.jsx("span",{className:"font-medium",children:u.company})]})]})]}),i.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h4",{className:"font-semibold",children:"Mailing Address"}),i.jsx("button",{onClick:v,className:"text-blue-600 hover:text-blue-800 text-sm",children:" Copy Address"})]}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-blue-500",children:[i.jsx("p",{className:"font-medium",children:u.company}),i.jsx("p",{children:u.address}),i.jsxs("p",{children:[u.city,", ",u.state," ",u.zipCode]}),i.jsx("p",{children:u.country})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Check Writing Instructions:"}),i.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[i.jsxs("li",{children:["Write check for exactly ",i.jsxs("strong",{children:["$",t.toFixed(2)]})]}),i.jsxs("li",{children:["Make payable to: ",i.jsx("strong",{children:u.company})]}),i.jsxs("li",{children:["Write order number ",i.jsx("strong",{children:g})," in memo line"]}),i.jsx("li",{children:"Include your name and order details in the envelope"}),i.jsx("li",{children:"Mail to the address above"})]})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Notes:"}),i.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[i.jsx("li",{children:" Processing begins when check is received and clears"}),i.jsx("li",{children:" Allow 7-10 business days for check processing"}),i.jsx("li",{children:" Returned checks incur a $25 fee"}),i.jsx("li",{children:" Money orders are processed faster than personal checks"}),i.jsx("li",{children:" Keep a copy of your check for records"})]})]}),i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"What to Include in Envelope:"}),i.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[i.jsxs("li",{children:[" Check or money order for $",t.toFixed(2)]}),i.jsxs("li",{children:[" Order number: ",g]}),i.jsxs("li",{children:[" Your name: ",r.firstName," ",r.lastName]}),i.jsxs("li",{children:[" Your email: ",r.email]}),i.jsx("li",{children:" Shipping address (if different from check address)"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"check-terms",checked:n,onChange:b=>a(b.target.checked),className:"h-4 w-4 text-emerald-400"}),i.jsxs("label",{htmlFor:"check-terms",className:"text-sm text-gray-700",children:["I will mail a check/money order for $",t.toFixed(2)," to the address above"]})]}),i.jsx("button",{onClick:m,disabled:!n||s,className:"btn-primary w-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:s?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Confirm Order - I Will Mail Payment"})]})},Zj=()=>{var X;const{cart:t,total:e,clearCart:r}=Kd(),{user:n}=bi(),{success:a,error:s}=ja(),c=Ii(),[h,g]=ee.useState({firstName:(n==null?void 0:n.first_name)||"",lastName:(n==null?void 0:n.last_name)||"",email:(n==null?void 0:n.email)||"",address:(n==null?void 0:n.address)||"",city:(n==null?void 0:n.city)||"",state:(n==null?void 0:n.state)||"",zipCode:(n==null?void 0:n.zip_code)||"",phone:(n==null?void 0:n.phone)||"",paymentMethod:"cash_on_delivery"}),[u,m]=ee.useState(1),[v,b]=ee.useState(!1),[_,C]=ee.useState(null),A=[{id:"cash_on_delivery",name:"Cash on Delivery",description:"Pay when your order is delivered",icon:"",popular:!0},{id:"bank_transfer",name:"Bank Transfer",description:"Transfer money directly to our bank",icon:"",popular:!1},{id:"check",name:"Check / Money Order",description:"Mail us a check or money order",icon:"",popular:!1}];ee.useEffect(()=>{_e(null,null,function*(){if(n)try{const Y=yield fx(),V=Y.data||Y;console.log(" Checkout: Profile data for pre-population:",V),g(H=>sr(zt({},H),{firstName:V.first_name||n.first_name||"",lastName:V.last_name||n.last_name||"",email:V.email||n.email||"",address:V.address||n.address||"",city:V.city||n.city||"",state:V.state||n.state||"",zipCode:V.zip_code||n.zip_code||"",phone:V.phone||n.phone||""})),console.log(" Checkout: Form data updated with profile data")}catch(Y){console.error("Error fetching user profile:",Y)}})},[n]);const j=Q=>{const{name:Y,value:V}=Q.target;g(H=>sr(zt({},H),{[Y]:V}))},L=Q=>{Q.preventDefault(),m(2)},D=Q=>{g(Y=>sr(zt({},Y),{paymentMethod:Q})),m(3)},M=Q=>_e(null,null,function*(){b(!0);try{const Y=t.map(re=>({product_id:re.product_id||re.id,quantity:re.quantity,price:re.price})),V=`${h.firstName} ${h.lastName}, ${h.address}, ${h.city}, ${h.state} ${h.zipCode}, Phone: ${h.phone}`,H={items:Y,total_amount:e,shipping_address:V,payment_method:Q.payment_method,payment_status:Q.payment_status,transaction_id:Q.transaction_id,reference_number:Q.reference_number||null,order_number:Q.order_number||null,first_name:h.firstName,last_name:h.lastName,email:h.email,city:h.city,state:h.state,zip_code:h.zipCode,phone:h.phone},B=yield H7(H);if(!B||!B.order_id)throw new Error("Invalid response from server");try{console.log(" Sending order confirmation email for order:",B.order_id),yield G_.sendOrderConfirmation(B.order),console.log(" Order confirmation email sent successfully")}catch(re){console.error(" Failed to send order confirmation email:",re)}yield r(),a("Order placed successfully! Check your email for confirmation."),c(`/order-confirmation/${B.order_id}`)}catch(Y){console.error("Error creating order:",Y),s("Order creation failed. Please contact support.")}finally{b(!1)}});return t.length===0?(c("/cart"),null):i.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"Checkout"}),i.jsxs("div",{className:"flex items-center mb-8",children:[i.jsxs("div",{className:`flex items-center ${u>=1?"text-[#B8860B]":"text-gray-500"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=1?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"1"}),i.jsx("span",{className:"ml-2",children:"Shipping"})]}),i.jsx("div",{className:`w-16 h-1 mx-4 ${u>=2?"bg-[#8B2332]":"bg-gray-600"}`}),i.jsxs("div",{className:`flex items-center ${u>=2?"text-[#B8860B]":"text-gray-500"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=2?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"2"}),i.jsx("span",{className:"ml-2",children:"Payment Method"})]}),i.jsx("div",{className:`w-16 h-1 mx-4 ${u>=3?"bg-[#8B2332]":"bg-gray-600"}`}),i.jsxs("div",{className:`flex items-center ${u>=3?"text-[#B8860B]":"text-gray-500"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u>=3?"bg-[#8B2332] text-white":"bg-gray-600"}`,children:"3"}),i.jsx("span",{className:"ml-2",children:"Payment"})]})]}),_&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:_}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i.jsxs("div",{className:"lg:w-2/3",children:[u===1&&i.jsx("form",{onSubmit:L,children:i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Shipping Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"First Name"}),i.jsx("input",{type:"text",name:"firstName",value:h.firstName,onChange:j,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Last Name"}),i.jsx("input",{type:"text",name:"lastName",value:h.lastName,onChange:j,className:"form-input-vintage",required:!0})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"form-label-vintage",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:h.email,onChange:j,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"form-label-vintage",children:"Address"}),i.jsx("input",{type:"text",name:"address",value:h.address,onChange:j,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"City"}),i.jsx("input",{type:"text",name:"city",value:h.city,onChange:j,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"State"}),i.jsx("input",{type:"text",name:"state",value:h.state,onChange:j,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Zip Code"}),i.jsx("input",{type:"text",name:"zipCode",value:h.zipCode,onChange:j,className:"form-input-vintage",required:!0})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"form-label-vintage",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:j,className:"form-input-vintage",required:!0})]}),i.jsx("button",{type:"submit",className:"btn-vintage-red w-full",children:"Continue to Payment Method"})]})}),u===2&&i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("button",{onClick:()=>m(1),className:"text-[#B8860B] hover:text-[#d4a50d] mr-4",children:" Back to Shipping"}),i.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Choose Payment Method"})]}),i.jsx("div",{className:"space-y-4",children:A.map(Q=>i.jsxs("div",{onClick:()=>D(Q.id),className:"border border-[#444] rounded-lg p-4 cursor-pointer hover:border-[#8B2332] hover:bg-[#333] transition-colors relative",children:[Q.popular&&i.jsx("span",{className:"absolute top-2 right-2 bg-[#8B2332] text-white text-xs px-2 py-1 rounded",children:"Popular"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-2xl mr-4",children:Q.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-[#F5F0E1]",children:Q.name}),i.jsx("p",{className:"text-[#A8A090] text-sm",children:Q.description})]})]})]},Q.id))})]}),u===3&&i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("button",{onClick:()=>m(2),className:"text-[#B8860B] hover:text-[#d4a50d] mr-4",children:" Back to Payment Method"}),i.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Payment Details"})]}),h.paymentMethod==="cash_on_delivery"&&i.jsx(G7,{amount:e,onSuccess:M,customerInfo:h}),h.paymentMethod==="bank_transfer"&&i.jsx(Yj,{amount:e,onSuccess:M,customerInfo:h}),h.paymentMethod==="check"&&i.jsx(Kj,{amount:e,onSuccess:M,customerInfo:h})]})]}),i.jsx("div",{className:"lg:w-1/3",children:i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 sticky top-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-4 text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),i.jsx("div",{className:"mb-4",children:t.map(Q=>i.jsxs("div",{className:"flex justify-between py-2 border-b border-[#444]",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-[#F5F0E1]",children:Q.name}),i.jsxs("p",{className:"text-sm text-[#A8A090]",children:["Qty: ",Q.quantity]})]}),i.jsxs("p",{className:"font-semibold text-[#D4CFC0]",children:["$",(parseFloat(Q.price)*Q.quantity).toFixed(2)]})]},Q.id))}),i.jsxs("div",{className:"border-t border-[#444] pt-4 mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2 text-[#D4CFC0]",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:["$",e.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[i.jsx("span",{children:"Shipping"}),i.jsx("span",{children:"$0.00"})]}),i.jsxs("div",{className:"flex justify-between mb-2 text-[#A8A090]",children:[i.jsx("span",{children:"Tax"}),i.jsx("span",{children:"$0.00"})]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-[#444] pt-4 text-[#F5F0E1]",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{className:"text-[#8B2332]",children:["$",e.toFixed(2)]})]}),u>=2&&i.jsxs("div",{className:"mt-4 p-3 bg-[#333] rounded",children:[i.jsx("p",{className:"text-sm text-[#A8A090]",children:"Payment Method:"}),i.jsx("p",{className:"font-semibold text-[#F5F0E1]",children:(X=A.find(Q=>Q.id===h.paymentMethod))==null?void 0:X.name})]})]})})]})]})},Jj=()=>{const{id:t}=$d(),[e,r]=ee.useState(null),[n,a]=ee.useState(!0),[s,c]=ee.useState(null);return ee.useEffect(()=>{_e(null,null,function*(){a(!0);try{const g=yield q7(t);r(g)}catch(g){c(g.message||"Failed to load order details")}finally{a(!1)}})},[t]),n?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading order details...",variant:"gear"})}):s?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-red-600 mb-4",children:s}),i.jsx($t,{to:"/orders",className:"text-blue-600 hover:underline",children:"View All Orders"})]}):e?i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-6 py-8 rounded-lg mb-8 text-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Order Confirmed!"}),i.jsx("p",{className:"text-lg",children:"Thank you for your purchase."}),i.jsxs("p",{className:"text-lg",children:["Your order number is: ",i.jsxs("span",{className:"font-semibold",children:["#",e.id||"N/A"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Order Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Order Information"}),i.jsxs("p",{children:["Order Date & Time: ",new Date(e.created_at||Date.now()).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})]}),i.jsxs("p",{children:["Status: ",i.jsx("span",{className:"capitalize",children:e.status||"pending"})]}),i.jsxs("p",{children:["Payment Method: ",e.payment_method?e.payment_method.replace("_"," "):"Not specified"]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Shipping Address"}),i.jsx("p",{children:e.shipping_address||"No shipping address provided"})]})]}),i.jsx("h3",{className:"font-semibold mb-2",children:"Order Items"}),i.jsx("div",{className:"border rounded overflow-hidden mb-4",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3",children:"Product"}),i.jsx("th",{className:"text-center p-3",children:"Price"}),i.jsx("th",{className:"text-center p-3",children:"Quantity"}),i.jsx("th",{className:"text-right p-3",children:"Total"})]})}),i.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map(h=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"p-3",children:h.product_name||"Unknown Product"}),i.jsxs("td",{className:"p-3 text-center",children:["$",parseFloat(h.price||0).toFixed(2)]}),i.jsx("td",{className:"p-3 text-center",children:h.quantity||1}),i.jsxs("td",{className:"p-3 text-right",children:["$",(parseFloat(h.price||0)*(h.quantity||1)).toFixed(2)]})]},h.id)):i.jsx("tr",{className:"border-t",children:i.jsx("td",{colSpan:"4",className:"p-3 text-center text-gray-500",children:"No items found for this order"})})}),i.jsx("tfoot",{className:"bg-gray-50",children:i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{colSpan:"3",className:"p-3 text-right font-semibold",children:"Total:"}),i.jsxs("td",{className:"p-3 text-right font-bold",children:["$",parseFloat(e.total_amount||0).toFixed(2)]})]})})]})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx($t,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Continue Shopping"}),i.jsx($t,{to:"/orders",className:"bg-gray-200 text-gray-800 px-6 py-3 rounded font-semibold hover:bg-gray-300",children:"View All Orders"})]})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-xl mb-4",children:"Order not found"}),i.jsx($t,{to:"/orders",className:"text-blue-600 hover:underline",children:"View All Orders"})]})},Vb=t=>{const e=new Date(t),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getDate().toString().padStart(2,"0"),a=r[e.getMonth()],s=e.getFullYear();return`${n}-${a}-${s}`},s0=t=>{const e=new Date(t),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=e.getDate().toString().padStart(2,"0"),a=r[e.getMonth()],s=e.getFullYear(),c=e.getHours(),h=e.getMinutes().toString().padStart(2,"0"),g=c>=12?"PM":"AM",u=c%12||12;return`${n}-${a}-${s} ${u}:${h} ${g}`},Wb=()=>{const{id:t}=$d(),[e,r]=ee.useState(null),[n,a]=ee.useState(!0),[s,c]=ee.useState(null),h=to(),g=new URLSearchParams(h.search).get("print")==="true";ee.useEffect(()=>{_e(null,null,function*(){a(!0);try{console.log("Fetching order details for ID:",t);const v=yield A_(t);console.log("Successfully fetched order:",v),r(v)}catch(v){console.error("Error fetching order:",v),c(v.message||"Failed to load order details")}finally{a(!1)}})},[t]),ee.useEffect(()=>{if(g&&e&&!n){const m=setTimeout(()=>{window.print()},1e3);return()=>clearTimeout(m)}},[g,e,n]);const u=m=>{switch(m){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-slate-600 text-slate-100"}};return n?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading order details...",variant:"gear"})}):s?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-red-600 mb-4",children:s}),i.jsx($t,{to:"/orders",className:"text-blue-600 hover:underline",children:"Back to My Orders"})]}):e?i.jsxs("div",{className:"container mx-auto px-4 single-page",children:[i.jsx("div",{className:"mb-6 back-button",children:i.jsxs($t,{to:"/orders",className:"text-blue-600 hover:underline flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to My Orders"]})}),i.jsxs("div",{className:"invoice-header hidden print:block",children:[i.jsx("h1",{children:"INVOICE"}),i.jsx("p",{children:"Yamaha RD Parts Shop"}),i.jsxs("p",{children:["Invoice #: ",e.id]}),i.jsxs("p",{children:["Date: ",Vb(e.created_at||Date.now())]})]}),i.jsxs("div",{className:"card p-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-white mb-1",children:["Order #",e.id||"N/A"]}),i.jsxs("p",{className:"text-gray-300",children:["Placed on ",s0(e.created_at||Date.now())]})]}),i.jsx("div",{className:"mt-2 md:mt-0",children:i.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-semibold ${u(e.status&&typeof e.status=="string"?e.status:"pending")}`,children:e.status&&typeof e.status=="string"&&e.status.length>0?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Pending"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 order-details-grid no-break",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Shipping Information"}),i.jsx("p",{className:"text-gray-300",children:e.shipping_address||"No shipping address provided"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Payment Information"}),i.jsxs("p",{className:"text-gray-300",children:["Method: ",e.payment_method?e.payment_method.replace("_"," "):"Not specified"]}),i.jsxs("p",{className:"text-gray-300",children:["Total: $",parseFloat(e.total_amount||0).toFixed(2)]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 order-details-grid no-break",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Billing Information"}),e.billing_info?i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-gray-300",children:e.billing_info.name}),i.jsx("p",{className:"text-gray-300",children:e.billing_info.email}),e.billing_info.phone&&i.jsx("p",{className:"text-gray-300",children:e.billing_info.phone}),e.billing_info.address&&i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300",children:e.billing_info.address}),i.jsx("p",{className:"text-gray-700",children:[e.billing_info.city,e.billing_info.state,e.billing_info.zip_code].filter(Boolean).join(", ")})]})]}):i.jsx("p",{className:"text-gray-300",children:"No billing information available"})]}),i.jsx("div",{className:"flex justify-end items-start no-print",children:i.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 inline-flex items-center text-sm font-medium",style:{width:"auto",minWidth:"auto"},children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Invoice"]})})]}),i.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Order Items"}),i.jsx("div",{className:"border rounded overflow-hidden no-break",children:i.jsxs("table",{className:"w-full order-items",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3 text-white",children:"Product"}),i.jsx("th",{className:"text-center p-3 text-white",children:"Price"}),i.jsx("th",{className:"text-center p-3 text-white",children:"Quantity"}),i.jsx("th",{className:"text-right p-3 text-white",children:"Total"})]})}),i.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map(m=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"p-3 text-white",children:m.product_name||"Unknown Product"}),i.jsxs("td",{className:"p-3 text-center text-white",children:["$",parseFloat(m.price||0).toFixed(2)]}),i.jsx("td",{className:"p-3 text-center text-white",children:m.quantity||1}),i.jsxs("td",{className:"p-3 text-right text-white",children:["$",(parseFloat(m.price||0)*(m.quantity||1)).toFixed(2)]})]},m.id)):i.jsx("tr",{className:"border-t",children:i.jsx("td",{colSpan:"4",className:"p-3 text-center text-gray-500",children:"No items found for this order"})})}),i.jsx("tfoot",{className:"bg-gray-50",children:i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{colSpan:"3",className:"p-3 text-right font-semibold text-white",children:"Total:"}),i.jsxs("td",{className:"p-3 text-right font-bold text-white",children:["$",parseFloat(e.total_amount||0).toFixed(2)]})]})})]})})]}),i.jsxs("div",{className:"card p-6 order-timeline",children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Order Timeline"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"mr-4",children:i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:"Order Placed"}),i.jsx("p",{className:"text-sm text-gray-300",children:s0(e.created_at||Date.now())})]})]}),e.status_history&&e.status_history.length>0&&e.status_history.filter(m=>m.status!=="pending").map((m,v)=>{let b="bg-blue-500",_=i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})});m.status==="processing"?b="bg-blue-500":m.status==="shipped"?(b="bg-emerald-500",_=i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2a1 1 0 00.9-.5l3-5A1 1 0 0016 3H4a1 1 0 00-1 1z"})]})):m.status==="delivered"?(b="bg-green-500",_=i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})})):m.status==="cancelled"&&(b="bg-red-500",_=i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}));const C=m.status.charAt(0).toUpperCase()+m.status.slice(1);return i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"mr-4",children:i.jsx("div",{className:`w-8 h-8 ${b} rounded-full flex items-center justify-center text-white`,children:_})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:C}),i.jsx("p",{className:"text-sm text-gray-300",children:s0(m.timestamp)})]})]},`status-${v}`)}),(!e.status_history||e.status_history.length<=1)&&i.jsxs(i.Fragment,{children:[e.status&&e.status!=="pending"&&i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"mr-4",children:i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:"Processing"}),i.jsx("p",{className:"text-sm text-gray-300",children:s0(e.updated_at||e.created_at)})]})]}),e.status&&(e.status==="shipped"||e.status==="delivered")&&i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"mr-4",children:i.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center text-white",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1v-5h2a1 1 0 00.9-.5l3-5A1 1 0 0016 3H4a1 1 0 00-1 1z"})]})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Shipped"}),i.jsx("p",{className:"text-sm text-gray-600",children:s0(e.updated_at||e.created_at)})]})]}),e.status&&e.status==="delivered"&&i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"mr-4",children:i.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"})})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Delivered"}),i.jsx("p",{className:"text-sm text-gray-600",children:s0(e.updated_at||e.created_at)})]})]}),e.status&&e.status==="cancelled"&&i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"mr-4",children:i.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"Cancelled"}),i.jsx("p",{className:"text-sm text-gray-600",children:s0(e.updated_at||e.created_at)})]})]})]})]})]}),i.jsxs("div",{className:"invoice-footer hidden print:block no-break",children:[i.jsx("p",{children:"Thank you for your business!"}),i.jsxs("p",{children:["For questions: support@yamahaparts.com | Generated: ",Vb(new Date)]})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-xl mb-4",children:"Order not found"}),i.jsx($t,{to:"/orders",className:"text-blue-600 hover:underline",children:"Back to My Orders"})]})},Qj=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[a,s]=ee.useState(null),[c,h]=ee.useState(!1),g=()=>_e(null,null,function*(){n(!0),s(null);try{console.log("Fetching orders...");const b=yield S_();console.log("Orders fetched:",b),Array.isArray(b)?e(b):(console.error("Invalid data format received:",b),s("Received invalid data format from server."))}catch(b){console.error("Error in loadOrders:",b),s("Failed to load orders. Please try again.")}finally{n(!1)}}),u=()=>_e(null,null,function*(){h(!0),s(null);try{const b=yield z7();e(b)}catch(b){console.error("Error in handleCreateTestOrder:",b),s("Failed to create test order. Please try again.")}finally{h(!1)}});ee.useEffect(()=>{g()},[]);const m=b=>{switch(b){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-slate-600 text-slate-100"}},v=b=>{const _={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(b).toLocaleString(void 0,_)};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"My Orders"}),r?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(on,{size:"xl",text:"Loading your orders...",variant:"gear"})}):a?i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[i.jsx("p",{children:a}),i.jsx("button",{onClick:g,className:"mt-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Try Again"})]}):t.length===0?i.jsxs("div",{className:"text-center py-12 card",children:[i.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"You don't have any orders yet"}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[i.jsx($t,{to:"/products",className:"bg-blue-800 text-white px-6 py-3 rounded font-semibold hover:bg-blue-700",children:"Browse Products"}),i.jsx("button",{onClick:u,disabled:c,className:`${c?"bg-gray-400":"bg-green-600 hover:bg-green-700"} text-white px-6 py-3 rounded font-semibold flex items-center space-x-2`,children:c?i.jsx(rc,{text:"Creating...",variant:"gear",size:"sm"}):"Create Test Order"})]})]}):i.jsx("div",{className:"card overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Method"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-600",children:t.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",b.id]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-sm text-gray-500",children:v(b.created_at)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(b.total_amount).toFixed(2)]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m(b.status)}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.payment_method.replace("_"," ").replace(/\b\w/g,_=>_.toUpperCase())}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsx($t,{to:`/order/${b.id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},b.id))})]})})}),i.jsx("div",{className:"mt-8 text-center",children:i.jsx($t,{to:"/products",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-800 hover:bg-blue-700",children:"Continue Shopping"})})]})},eO=()=>{const{user:t,isAuthenticated:e,updateUserData:r}=bi(),{success:n,error:a}=ja(),[s,c]=ee.useState([]),[h,g]=ee.useState(!0),[u,m]=ee.useState(!0),[v,b]=ee.useState(null),[_,C]=ee.useState(!1),[A,j]=ee.useState(!1),[L,D]=ee.useState(!0),[M,X]=ee.useState(!0),[Q,Y]=ee.useState({first_name:"",last_name:"",email:"",phone:"",address:"",city:"",state:"",zip_code:"",shipping_address:"",shipping_city:"",shipping_state:"",shipping_zip_code:"",billing_address:"",billing_city:"",billing_state:"",billing_zip_code:"",preferred_address:"shipping",preferred_payment_method:"credit_card"});ee.useEffect(()=>{_e(null,null,function*(){if(!e()){g(!1);return}try{g(!0),console.log(" Profile: Fetching user profile data...");const G=yield fx();console.log(" Profile: Fetched profile data:",G);const se=G.data||G;Y({first_name:se.first_name||"",last_name:se.last_name||"",email:se.email||"",phone:se.phone||"",address:se.address||"",city:se.city||"",state:se.state||"",zip_code:se.zip_code||"",shipping_address:se.shipping_address||"",shipping_city:se.shipping_city||"",shipping_state:se.shipping_state||"",shipping_zip_code:se.shipping_zip_code||"",billing_address:se.billing_address||"",billing_city:se.billing_city||"",billing_state:se.billing_state||"",billing_zip_code:se.billing_zip_code||"",preferred_address:se.preferred_address||"shipping",preferred_payment_method:se.preferred_payment_method||"credit_card"}),D(!se.shipping_address),X(!se.billing_address),console.log(" Profile: Form data updated with profile data")}catch(G){console.error(" Profile: Error fetching profile:",G),a("Failed to load profile data"),t&&(console.log(" Profile: Falling back to user context data"),Y({first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",phone:t.phone||"",address:t.address||"",city:t.city||"",state:t.state||"",zip_code:t.zip_code||"",shipping_address:t.shipping_address||"",shipping_city:t.shipping_city||"",shipping_state:t.shipping_state||"",shipping_zip_code:t.shipping_zip_code||"",billing_address:t.billing_address||"",billing_city:t.billing_city||"",billing_state:t.billing_state||"",billing_zip_code:t.billing_zip_code||"",preferred_address:t.preferred_address||"shipping",preferred_payment_method:t.preferred_payment_method||"credit_card"}),D(!t.shipping_address),X(!t.billing_address))}finally{g(!1)}})},[e,a]),ee.useEffect(()=>{_e(null,null,function*(){if(!e()){m(!1);return}m(!0);try{console.log(" Profile: Fetching recent orders...");const se=(yield S_()).sort((ye,me)=>new Date(me.created_at)-new Date(ye.created_at)).slice(0,5);c(se),console.log(" Profile: Recent orders loaded:",se.length)}catch(G){console.error(" Profile: Error loading orders:",G),b("Failed to load recent orders")}finally{m(!1)}})},[e]);const V=q=>{const{name:G,value:se}=q.target;Y(ye=>sr(zt({},ye),{[G]:se}))},H=q=>_e(null,null,function*(){q.preventDefault(),j(!0);try{const G=yield a7(Q);console.log("Profile update response:",G),r(Q);const se=yield fx(),ye=se.data||se;console.log("Fresh profile data after update:",ye),r(ye),Y({first_name:ye.first_name||"",last_name:ye.last_name||"",email:ye.email||"",phone:ye.phone||"",address:ye.address||"",city:ye.city||"",state:ye.state||"",zip_code:ye.zip_code||"",shipping_address:ye.shipping_address||"",shipping_city:ye.shipping_city||"",shipping_state:ye.shipping_state||"",shipping_zip_code:ye.shipping_zip_code||"",billing_address:ye.billing_address||"",billing_city:ye.billing_city||"",billing_state:ye.billing_state||"",billing_zip_code:ye.billing_zip_code||"",preferred_address:ye.preferred_address||"shipping",preferred_payment_method:ye.preferred_payment_method||"credit_card"}),D(!ye.shipping_address),X(!ye.billing_address),n("Profile updated successfully"),C(!1)}catch(G){console.error("Error updating profile:",G),a(G.message||"Failed to update profile")}finally{j(!1)}}),B=q=>{const G={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return new Date(q).toLocaleString(void 0,G)},re=q=>{switch(q){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e()?i.jsxs("div",{className:"container mx-auto px-4 py-8 bg-[#1a1a1a] min-h-screen",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6 text-[#F5F0E1] uppercase tracking-wide",style:{fontFamily:"'Oswald', sans-serif"},children:"My Profile"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Personal Information"}),!_&&!h&&i.jsx("button",{onClick:()=>C(!0),className:"btn-vintage-red",children:"Edit Profile"})]}),h?i.jsx("div",{className:"text-center py-8",children:i.jsx(on,{size:"lg",text:"Loading profile...",variant:"gear"})}):_?i.jsxs("form",{onSubmit:H,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"First Name"}),i.jsx("input",{type:"text",name:"first_name",value:Q.first_name,onChange:V,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Name cannot be changed"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Last Name"}),i.jsx("input",{type:"text",name:"last_name",value:Q.last_name,onChange:V,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Name cannot be changed"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:Q.email,onChange:V,className:"w-full p-2 border rounded bg-gray-100 cursor-not-allowed",readOnly:!0,title:"Email cannot be changed"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:Q.phone,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Primary Address"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",name:"address",value:Q.address,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),i.jsx("input",{type:"text",name:"city",value:Q.city,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),i.jsx("input",{type:"text",name:"state",value:Q.state,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),i.jsx("input",{type:"text",name:"zip_code",value:Q.zip_code,onChange:V,className:"w-full p-2 border rounded"})]})]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Shipping Address"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("input",{type:"checkbox",id:"same-as-primary-shipping",checked:L,onChange:q=>{const G=q.target.checked;D(G),Y(G?se=>sr(zt({},se),{shipping_address:"",shipping_city:"",shipping_state:"",shipping_zip_code:""}):se=>sr(zt({},se),{shipping_address:se.address||"",shipping_city:se.city||"",shipping_state:se.state||"",shipping_zip_code:se.zip_code||""}))},className:"mr-2"}),i.jsx("label",{htmlFor:"same-as-primary-shipping",className:"text-gray-700",children:"Same as primary address"})]}),L?i.jsx("p",{className:"text-sm text-gray-600 italic",children:"Using primary address for shipping"}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",name:"shipping_address",value:Q.shipping_address,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),i.jsx("input",{type:"text",name:"shipping_city",value:Q.shipping_city,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),i.jsx("input",{type:"text",name:"shipping_state",value:Q.shipping_state,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),i.jsx("input",{type:"text",name:"shipping_zip_code",value:Q.shipping_zip_code,onChange:V,className:"w-full p-2 border rounded"})]})]})]})]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Billing Address"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("input",{type:"checkbox",id:"same-as-primary-billing",checked:M,onChange:q=>{const G=q.target.checked;X(G),Y(G?se=>sr(zt({},se),{billing_address:"",billing_city:"",billing_state:"",billing_zip_code:""}):se=>sr(zt({},se),{billing_address:se.address||"",billing_city:se.city||"",billing_state:se.state||"",billing_zip_code:se.zip_code||""}))},className:"mr-2"}),i.jsx("label",{htmlFor:"same-as-primary-billing",className:"text-gray-700",children:"Same as primary address"})]}),M?i.jsx("p",{className:"text-sm text-gray-600 italic",children:"Using primary address for billing"}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",name:"billing_address",value:Q.billing_address,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),i.jsx("input",{type:"text",name:"billing_city",value:Q.billing_city,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"State"}),i.jsx("input",{type:"text",name:"billing_state",value:Q.billing_state,onChange:V,className:"w-full p-2 border rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),i.jsx("input",{type:"text",name:"billing_zip_code",value:Q.billing_zip_code,onChange:V,className:"w-full p-2 border rounded"})]})]})]})]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Address Preferences"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Preferred Address for Checkout"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"radio",id:"shipping",name:"preferred_address",value:"shipping",checked:Q.preferred_address==="shipping",onChange:V,className:"mr-2"}),i.jsx("label",{htmlFor:"shipping",children:"Shipping Address"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"radio",id:"billing",name:"preferred_address",value:"billing",checked:Q.preferred_address==="billing",onChange:V,className:"mr-2"}),i.jsx("label",{htmlFor:"billing",children:"Billing Address"})]})]})]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Payment Preferences"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Preferred Payment Method"}),i.jsxs("select",{name:"preferred_payment_method",value:Q.preferred_payment_method,onChange:V,className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"credit_card",children:"Credit Card"}),i.jsx("option",{value:"paypal",children:"PayPal"}),i.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),i.jsxs("div",{className:"flex justify-end mt-6",children:[i.jsx("button",{type:"button",onClick:()=>C(!1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded mr-2 hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-800 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",disabled:A,children:A?i.jsx(rc,{text:"Saving...",variant:"gear",size:"sm"}):"Save Changes"})]})]}):i.jsxs("div",{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Name"}),i.jsxs("p",{children:[t.first_name," ",t.last_name]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Email"}),i.jsx("p",{children:t.email})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Phone"}),i.jsx("p",{children:t.phone||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-600",children:"Member Since"}),i.jsx("p",{children:t.created_at?new Date(t.created_at).toLocaleDateString():"N/A"})]})]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Primary Address"}),i.jsx("p",{children:t.address||"No address provided"}),t.city&&t.state&&i.jsxs("p",{children:[t.city,", ",t.state," ",t.zip_code]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Shipping Address"}),t.shipping_address?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:t.shipping_address}),t.shipping_city&&t.shipping_state&&i.jsxs("p",{children:[t.shipping_city,", ",t.shipping_state," ",t.shipping_zip_code]})]}):i.jsx("p",{className:"text-gray-600 italic",children:"Using primary address for shipping"}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Billing Address"}),t.billing_address?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:t.billing_address}),t.billing_city&&t.billing_state&&i.jsxs("p",{children:[t.billing_city,", ",t.billing_state," ",t.billing_zip_code]})]}):i.jsx("p",{className:"text-gray-600 italic",children:"Using primary address for billing"}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Address Preferences"}),i.jsxs("p",{children:["Preferred Address for Checkout: ",Q.preferred_address==="billing"?"Billing Address":"Shipping Address"]}),i.jsx("h3",{className:"text-lg font-semibold mb-2 mt-6",children:"Payment Preferences"}),i.jsxs("p",{children:["Preferred Payment Method: ",Q.preferred_payment_method?Q.preferred_payment_method.replace("_"," ").replace(/\b\w/g,q=>q.toUpperCase()):"Not set"]})]})]})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-[#242424] border border-[#333] rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Recent Orders"}),i.jsx($t,{to:"/orders",className:"text-[#B8860B] hover:text-[#d4a50d] text-sm",children:"View All"})]}),u?i.jsx("div",{className:"text-center py-4",children:i.jsx(on,{size:"md",text:"Loading orders...",variant:"gear"})}):v?i.jsx("div",{className:"text-center py-4 text-red-600",children:v}):s.length===0?i.jsx("div",{className:"text-center py-4 text-gray-600",children:"No orders found"}):i.jsx("div",{className:"space-y-4",children:s.map(q=>i.jsxs("div",{className:"border rounded p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold",children:["Order #",q.id]}),i.jsx("p",{className:"text-sm text-gray-600",children:B(q.created_at)})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${re(q.status)}`,children:q.status.charAt(0).toUpperCase()+q.status.slice(1)})]}),i.jsxs("p",{className:"font-medium",children:["$",parseFloat(q.total_amount).toFixed(2)]}),i.jsx("div",{className:"mt-2",children:i.jsx($t,{to:`/order/${q.id}`,className:"text-blue-600 hover:underline text-sm",children:"View Details"})})]},q.id))})]})})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-xl mb-4",children:"Please log in to view your profile"}),i.jsx($t,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"})]})},$_=({text:t="Continue with Google",className:e="",disabled:r=!1,variant:n="primary"})=>{const[a,s]=ee.useState(!1),c=()=>{if(r||a)return;s(!0),console.log(" Initiating Google OAuth...");const v="https://www.partsformyrd350.com";window.location.href=`${v}/auth/google`},m=`
    w-full flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 
    ${{primary:"bg-slate-800 border border-slate-600 text-slate-200 hover:bg-slate-700 focus:ring-emerald-500 shadow-sm",outline:"border-2 border-slate-600 text-slate-300 hover:border-slate-500 hover:bg-slate-800 focus:ring-emerald-500"}[n]} 
    ${r||a?"opacity-50 cursor-not-allowed":""} 
    ${e}
  `.trim();return i.jsx("button",{type:"button",onClick:c,disabled:r||a,className:m,children:a?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t]})})},X_=ee.forwardRef(({onVerify:t,className:e=""},r)=>{const[n,a]=ee.useState(""),[s,c]=ee.useState(!1),h=ee.useRef(Date.now());return ee.useImperativeHandle(r,()=>({verify:()=>{const g=Date.now()-h.current;return n!==""||g<2e3?(console.log(" Bot detected:",{honeypotFilled:n!=="",tooFast:g<2e3}),t&&t(!1),!1):(c(!0),t&&t(!0),!0)},reset:()=>{a(""),c(!1),h.current=Date.now()},isVerified:()=>s})),i.jsxs("div",{className:`honeypot-protection ${e}`,children:[i.jsx("input",{type:"text",name:"website",value:n,onChange:g=>a(g.target.value),style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none",tabIndex:-1},tabIndex:"-1",autoComplete:"off"}),i.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{children:"Protected by advanced security"})]})]})});X_.displayName="HoneypotProtection";const tO=()=>{var L;const{login:t,loading:e}=bi(),r=Ii(),n=to(),[a]=Lm(),[s,c]=ee.useState({email:"",password:""}),[h,g]=ee.useState(null),[u,m]=ee.useState(!1),v=ee.useRef(null),b=((L=n.state)==null?void 0:L.from)||"/";ee.useEffect(()=>{const D=a.get("status"),M=a.get("email"),X=a.get("error");if(D==="pending_verification"&&M)g(`Please verify your email address (${M}) to complete your registration.`);else if(D==="pending_approval"&&M)g(`Your account (${M}) is pending admin approval.`);else if(X)switch(X){case"oauth_failed":case"oauth_error":case"oauth_no_user":case"callback_error":g("Google authentication failed. Please try again.");break;case"account_rejected":g("Your account has been rejected. Please contact support.");break;case"account_suspended":g("Your account has been suspended. Please contact support.");break;default:g("Authentication failed. Please try again.")}},[a]);const _=D=>{const{name:M,value:X}=D.target;c(Q=>sr(zt({},Q),{[M]:X}))},C=D=>_e(null,null,function*(){if(D.preventDefault(),g(null),v.current&&!v.current.verify()){g("Security verification failed. Please try again.");return}try{const M=yield t(s.email,s.password);setTimeout(()=>{r(b,{replace:!0})},500)}catch(M){g(M.message||"Login failed"),v.current&&v.current.reset()}}),A=D=>{m(D),h&&h.includes("security verification")&&g(null)},j=()=>i.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:i.jsx("path",{d:"M19,7H18V6A1,1,0,0,0,17,5H7A1,1,0,0,0,6,6V7H5A1,1,0,0,0,4,8V19a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V8A1,1,0,0,0,19,7ZM8,7h8V8H8ZM18,19a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V10H18ZM14,3V4H10V3a1,1,0,0,1,2,0h0a1,1,0,0,1,2,0Z"})});return i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/login-motorcycle.jpg)",filter:"grayscale(100%)"},children:i.jsx("div",{className:"w-full h-full bg-black/20"})}),i.jsx("div",{className:"w-full lg:w-1/2 backdrop-vintage-paper flex items-center justify-center p-8",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-32 w-auto drop-shadow-lg"})}),i.jsx("h1",{className:"heading-vintage text-center",children:"Login to Your Garage"}),h&&i.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:h}),i.jsxs("form",{onSubmit:C,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:s.email,onChange:_,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Password"}),i.jsx("input",{type:"password",name:"password",value:s.password,onChange:_,className:"form-input-vintage",required:!0})]}),i.jsx("div",{className:"text-right",children:i.jsx($t,{to:"/forgot-password",className:"link-vintage",children:"Forgot Password?"})}),i.jsx("div",{className:"hidden",children:i.jsx(X_,{ref:v,onVerify:A})}),i.jsx("button",{type:"submit",className:"btn-vintage-red w-full",disabled:e,children:e?i.jsx(rc,{text:"Logging in...",variant:"gear",size:"sm"}):i.jsxs(i.Fragment,{children:[i.jsx(j,{}),i.jsx("span",{children:"Log In"})]})}),i.jsx($t,{to:"/register",className:"btn-vintage-gray w-full block text-center",children:"Create Account"})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t-2 border-[#C0B8A8]"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-4 bg-[#F5F0E1] text-[#666] font-medium uppercase tracking-wide",children:"Or continue with"})})]}),i.jsx($_,{text:"Sign in with Google",disabled:e})]})})]})},rO=({password:t,userInfo:e={}})=>{const[r,n]=ee.useState("none"),[a,s]=ee.useState([]),[c,h]=ee.useState([]),[g,u]=ee.useState([]),m=[{id:"length",text:"At least 8 characters long",regex:/.{8,}/},{id:"uppercase",text:"At least one uppercase letter (A-Z)",regex:/[A-Z]/},{id:"lowercase",text:"At least one lowercase letter (a-z)",regex:/[a-z]/},{id:"number",text:"At least one number (0-9)",regex:/[0-9]/},{id:"special",text:"At least one special character (!@#$%^&*)",regex:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/}],v=["password","password123","123456","123456789","qwerty","abc123","password1","admin","letmein","welcome","monkey","1234567890"];ee.useEffect(()=>{if(!t){n("none"),s([]),h([]),u([]);return}b(t)},[t,e]);const b=j=>{var Q;const L=[],D=[],M=[];if(m.forEach(Y=>{const V=Y.regex.test(j);M.push(sr(zt({},Y),{met:V})),V||L.push(Y.text)}),v.includes(j.toLowerCase())&&L.push("This password is too common. Please choose a more unique password"),/^(.)\1+$/.test(j)&&L.push("Password cannot be all the same character"),/^(012|123|234|345|456|567|678|789|890|abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz)/i.test(j)&&L.push("Password cannot contain simple sequences"),/^(qwerty|asdfgh|zxcvbn|qwertyui|asdfghjk|zxcvbnm)/i.test(j)&&L.push("Password cannot be based on keyboard patterns"),e){const Y=[e.firstName,e.lastName,(Q=e.email)==null?void 0:Q.split("@")[0],e.phone].filter(Boolean);for(const V of Y)if(V&&j.toLowerCase().includes(V.toLowerCase())){L.push("Password cannot contain your personal information");break}}const X=_(j);X==="weak"?D.push("Consider using a longer password with more variety"):X==="medium"&&D.push("Good password! Consider adding more special characters for extra security"),s(L),h(D),u(M),n(X)},_=j=>{let L=0;return j.length>=8&&(L+=1),j.length>=12&&(L+=1),j.length>=16&&(L+=1),/[a-z]/.test(j)&&(L+=1),/[A-Z]/.test(j)&&(L+=1),/[0-9]/.test(j)&&(L+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(j)&&(L+=1),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?].*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(j)&&(L+=1),/(.)\1{2,}/.test(j)||(L+=1),j.length>=20&&(L+=1),L<=3?"weak":L<=5?"medium":L<=7?"strong":"very-strong"},C=()=>{switch(r){case"weak":return"bg-red-500";case"medium":return"bg-yellow-500";case"strong":return"bg-blue-500";case"very-strong":return"bg-green-500";default:return"bg-gray-300"}},A=()=>{switch(r){case"weak":return"w-1/4";case"medium":return"w-2/4";case"strong":return"w-3/4";case"very-strong":return"w-full";default:return"w-0"}};return t?i.jsxs("div",{className:"mt-3 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password Strength"}),i.jsx("span",{className:`text-sm font-medium capitalize ${r==="weak"?"text-red-600":r==="medium"?"text-yellow-600":r==="strong"?"text-blue-600":r==="very-strong"?"text-green-600":"text-gray-500"}`,children:r==="very-strong"?"Very Strong":r})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${C()} ${A()}`})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password Requirements"}),i.jsx("div",{className:"space-y-1",children:g.map(j=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${j.met?"bg-green-500":"bg-gray-300"}`,children:j.met&&i.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("span",{className:`text-sm ${j.met?"text-green-700":"text-gray-600"}`,children:j.text})]},j.id))})]}),a.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"Password Issues"}),i.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:a.map((j,L)=>i.jsxs("li",{className:"flex items-start space-x-1",children:[i.jsx("span",{className:"text-red-500 mt-0.5",children:""}),i.jsx("span",{children:j})]},L))})]}),c.length>0&&a.length===0&&i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:[i.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Suggestions"}),i.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:c.map((j,L)=>i.jsxs("li",{className:"flex items-start space-x-1",children:[i.jsx("span",{className:"text-yellow-500 mt-0.5",children:""}),i.jsx("span",{children:j})]},L))})]}),r==="very-strong"&&a.length===0&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Excellent! Your password is very strong."})]})})]}):null},nO=()=>{const{register:t,loading:e}=bi(),r=Ii(),[n,a]=ee.useState({email:"",password:"",confirmPassword:"",first_name:"",last_name:"",address:"",phone:""}),[s,c]=ee.useState(null),[h,g]=ee.useState(!1),[u,m]=ee.useState(!1),[v,b]=ee.useState(""),_=A=>{const{name:j,value:L}=A.target;a(D=>sr(zt({},D),{[j]:L}))},C=A=>_e(null,null,function*(){if(A.preventDefault(),c(null),n.password!==n.confirmPassword){c("Passwords do not match");return}try{const j=n,{confirmPassword:L}=j,D=hu(j,["confirmPassword"]),M=yield t(D);M!=null&&M.verification_required?(m(!0),b(D.email),g(!1)):(g(!0),setTimeout(()=>{r("/login")},2e3))}catch(L){c(L.message||"Registration failed")}});return i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/login-motorcycle.jpg)",filter:"grayscale(100%)"},children:i.jsx("div",{className:"w-full h-full bg-black/20"})}),i.jsx("div",{className:"w-full lg:w-1/2 backdrop-vintage-paper flex items-center justify-center p-8 overflow-y-auto",children:i.jsxs("div",{className:"w-full max-w-lg",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("img",{src:"/images/vintage-logo.png",alt:"Vintage Yamaha Parts",className:"h-24 w-auto drop-shadow-lg"})}),i.jsx("h1",{className:"heading-vintage text-center text-2xl",children:"Create Your Account"}),s&&i.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:s}),h&&i.jsx("div",{className:"bg-green-100 border-2 border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:"Registration successful! Redirecting to login..."}),u&&i.jsxs("div",{className:"bg-yellow-100 border-2 border-yellow-400 text-yellow-800 px-4 py-3 rounded-lg mb-6",children:[i.jsx("strong",{children:"Email Verification Required"}),i.jsxs("p",{className:"mt-2",children:["We've sent a verification link to ",i.jsx("strong",{children:v}),"."]}),i.jsx("p",{className:"mt-2",children:"Please check your email to activate your account."}),i.jsx($t,{to:"/login",className:"link-vintage mt-3 inline-block",children:"Back to Login"})]}),i.jsxs("form",{onSubmit:C,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"First Name"}),i.jsx("input",{type:"text",name:"first_name",value:n.first_name,onChange:_,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Last Name"}),i.jsx("input",{type:"text",name:"last_name",value:n.last_name,onChange:_,className:"form-input-vintage",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:n.email,onChange:_,className:"form-input-vintage",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:_,className:"form-input-vintage"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Address"}),i.jsx("textarea",{name:"address",value:n.address,onChange:_,className:"form-input-vintage",rows:"2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Password"}),i.jsx("input",{type:"password",name:"password",value:n.password,onChange:_,className:"form-input-vintage",required:!0,minLength:"8",placeholder:"Enter a strong password"}),i.jsx(rO,{password:n.password,userInfo:{firstName:n.first_name,lastName:n.last_name,email:n.email,phone:n.phone}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"form-label-vintage",children:"Confirm Password"}),i.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:_,className:"form-input-vintage",required:!0})]}),i.jsx("button",{type:"submit",className:"btn-vintage-red w-full",disabled:e||h,children:e?i.jsx(rc,{text:"Creating Account...",variant:"gear",size:"sm"}):"Create Account"})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t-2 border-[#C0B8A8]"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-4 bg-[#F5F0E1] text-[#666] font-medium uppercase tracking-wide",children:"Or continue with"})})]}),i.jsx($_,{text:"Sign up with Google",disabled:e||h}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-[#3D3D3D]",children:["Already have an account?"," ",i.jsx($t,{to:"/login",className:"link-vintage",children:"Sign In"})]})})]})})]})},aO=()=>{const[t]=Lm(),e=Ii(),{login:r}=bi(),{success:n,error:a}=ja(),[s,c]=ee.useState(!0),[h,g]=ee.useState(!1),[u,m]=ee.useState(null),[v,b]=ee.useState(!1),[_,C]=ee.useState(!1);return ee.useEffect(()=>{_e(null,null,function*(){var L;const j=t.get("token");if(!j){m("Invalid verification link. No token provided."),c(!1);return}try{const D=yield Gr.get(`/auth/verify-email?token=${j}`);if(D.data.already_verified)b(!0),n("Email already verified! You can now login.");else if(g(!0),n("Email verified successfully! Welcome to Sardaarji Auto Parts!"),D.data.token){const M={user:D.data.user,token:D.data.token};r(M),setTimeout(()=>{e("/products")},2e3)}}catch(D){console.error("Email verification error:",D);const M=(L=D.response)==null?void 0:L.data;M!=null&&M.expired?(C(!0),m("Verification link has expired. Please request a new verification email.")):m((M==null?void 0:M.message)||"Email verification failed. Please try again."),a((M==null?void 0:M.message)||"Email verification failed")}finally{c(!1)}})},[t,r,e,n,a]),s?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"text-center",children:i.jsx(on,{size:"xl",text:"Verifying your email...",variant:"gear"})})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsx("div",{className:"text-center",children:i.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Email Verification"})}),i.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[h&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Verified Successfully! "}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to Sardaarji Auto Parts! Your account is now active and you're being logged in."}),i.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to products page..."})]}),v&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Already Verified "}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Your email is already verified. You can login to your account."}),i.jsx($t,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Go to Login"})]}),u&&i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Failed"}),i.jsx("p",{className:"text-gray-600 mb-4",children:u}),_&&i.jsx("div",{className:"space-y-3",children:i.jsx($t,{to:"/resend-verification",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Request New Verification Email"})}),i.jsx("div",{className:"mt-4",children:i.jsx($t,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})]})})},sO=()=>{const{success:t,error:e}=ja(),[r,n]=ee.useState(""),[a,s]=ee.useState(!1),[c,h]=ee.useState(!1),[g,u]=ee.useState(0),m=v=>_e(null,null,function*(){var b,_;if(v.preventDefault(),!r){e("Please enter your email address");return}s(!0);try{const C=yield Gr.post("/auth/resend-verification",{email:r});h(!0),t("Verification email sent! Please check your inbox.")}catch(C){console.error("Resend verification error:",C);const A=(b=C.response)==null?void 0:b.data;((_=C.response)==null?void 0:_.status)===429?(u((A==null?void 0:A.retry_after)||60),e((A==null?void 0:A.message)||"Please wait before requesting another email")):e((A==null?void 0:A.message)||"Failed to send verification email")}finally{s(!1)}});return ee.useState(()=>{if(g>0){const v=setInterval(()=>{u(b=>b<=1?(clearInterval(v),0):b-1)},1e3);return()=>clearInterval(v)}},[g]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Resend Verification Email"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address to receive a new verification link"})]}),i.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[c?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Email Sent! "}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a new verification email to ",i.jsx("strong",{children:r}),". Please check your inbox and click the verification link."]}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Don't see the email? Check your spam folder."}),i.jsx("button",{onClick:()=>{h(!1),n("")},className:"text-blue-600 hover:text-blue-500 text-sm",children:"Send to a different email"})]}):i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:v=>n(v.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",disabled:a||g>0})]}),g>0&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:["Please wait ",g," seconds before requesting another email."]})}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:a||g>0,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?i.jsx(on,{size:"sm",text:"Sending..."}):g>0?`Wait ${g}s`:"Send Verification Email"})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx($t,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})})},iO=()=>{const t=Ii(),[e]=Lm(),{setUser:r}=bi(),[n,a]=ee.useState("processing"),[s,c]=ee.useState("Processing authentication...");return ee.useEffect(()=>{_e(null,null,function*(){try{console.log(" Processing OAuth callback...");const g=e.get("token"),u=e.get("user"),m=e.get("oauth_success"),v=e.get("error");if(v){switch(console.error(" OAuth error:",v),a("error"),v){case"oauth_failed":c("Google authentication failed. Please try again.");break;case"oauth_error":c("An error occurred during authentication. Please try again.");break;case"oauth_no_user":c("Unable to retrieve user information from Google. Please try again.");break;case"account_rejected":c("Your account has been rejected. Please contact support.");break;case"account_suspended":c("Your account has been suspended. Please contact support.");break;case"account_inactive":c("Your account is not active. Please contact support.");break;case"callback_error":c("An error occurred processing your authentication. Please try again.");break;default:c("Authentication failed. Please try again.")}setTimeout(()=>{t("/login",{replace:!0})},3e3);return}if(m==="true"&&g&&u){console.log(" OAuth success, processing user data...");try{const b=JSON.parse(u);localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(b)),r&&r(b),console.log(" User authenticated successfully:",b.email),a("success"),c(`Welcome, ${b.first_name||b.email}! Redirecting...`);const _=localStorage.getItem("cart");if(_)try{console.log(" Migrating cart from localStorage...");const{importCart:C}=yield Co(()=>_e(null,null,function*(){const{importCart:j}=yield Promise.resolve().then(()=>zm);return{importCart:j}}),void 0),A=JSON.parse(_);yield C(A),localStorage.removeItem("cart"),console.log(" Cart migrated successfully")}catch(C){console.error(" Failed to migrate cart:",C)}setTimeout(()=>{t("/",{replace:!0})},2e3)}catch(b){console.error(" Error parsing user data:",b),a("error"),c("Error processing authentication data. Please try logging in again."),setTimeout(()=>{t("/login",{replace:!0})},3e3)}}else console.error(" Missing required OAuth parameters"),a("error"),c("Invalid authentication response. Please try again."),setTimeout(()=>{t("/login",{replace:!0})},3e3)}catch(g){console.error(" OAuth callback error:",g),a("error"),c("An unexpected error occurred. Please try again."),setTimeout(()=>{t("/login",{replace:!0})},3e3)}})},[e,t,r]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[n==="processing"&&i.jsxs(i.Fragment,{children:[i.jsx(on,{size:"lg"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mt-4",children:"Authenticating..."}),i.jsx("p",{className:"text-gray-600 mt-2",children:s})]}),n==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold text-green-900",children:"Authentication Successful!"}),i.jsx("p",{className:"text-green-700 mt-2",children:s})]}),n==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold text-red-900",children:"Authentication Failed"}),i.jsx("p",{className:"text-red-700 mt-2",children:s}),i.jsx("p",{className:"text-gray-600 text-sm mt-4",children:"Redirecting to login page..."})]})]})})},oO=()=>{const[t,e]=ee.useState(""),[r,n]=ee.useState(!1),[a,s]=ee.useState(null),[c,h]=ee.useState(!1),g=v=>{e(v.target.value),a&&s(null)},u=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),m=v=>_e(null,null,function*(){if(v.preventDefault(),!t){s("Email is required");return}if(!u(t)){s("Please enter a valid email address");return}n(!0),s(null);try{console.log(" Requesting password reset for:",t);const _=yield(yield fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})})).json();_.success?(console.log(" Password reset request successful"),h(!0)):(console.error(" Password reset request failed:",_.message),s(_.message||"Failed to send reset email"))}catch(b){console.error(" Password reset request error:",b),s("An error occurred. Please try again.")}finally{n(!1)}});return c?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),i.jsx("h2",{className:"text-xl font-semibold text-green-900 mb-4",children:"Check Your Email"}),i.jsx("p",{className:"text-green-700 mb-6",children:"If an account with that email exists, we've sent you a password reset link."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-4 text-left",children:[i.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"What's next?"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Check your email inbox (and spam folder)"}),i.jsx("li",{children:" Click the reset link in the email"}),i.jsx("li",{children:" The link expires in 1 hour"}),i.jsx("li",{children:" Create your new password"})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx($t,{to:"/login",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-200 text-center",children:"Back to Login"}),i.jsx("button",{onClick:()=>{h(!1),e("")},className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50 transition duration-200",children:"Try Again"})]})]})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Forgot Password?"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"No worries! Enter your email address and we'll send you a reset link."})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("form",{onSubmit:m,children:[a&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:g,required:!0,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email address",disabled:r})]}),i.jsx("button",{type:"submit",disabled:r||!t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:r?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsx(rc,{}),i.jsx("span",{className:"ml-2",children:"Sending Reset Link..."})]}):"Send Reset Link"})]}),i.jsxs("div",{className:"mt-6 text-center space-y-2",children:[i.jsx($t,{to:"/login",className:"block text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"}),i.jsxs("div",{className:"text-gray-500 text-sm",children:["Don't have an account?"," ",i.jsx($t,{to:"/register",className:"text-blue-600 hover:text-blue-500",children:"Sign up here"})]})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:" Need Help?"}),i.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("p",{children:" Make sure you enter the email address you used to register"}),i.jsx("p",{children:" Check your spam/junk folder if you don't see the email"}),i.jsx("p",{children:" The reset link expires in 1 hour for security"}),i.jsx("p",{children:" If you signed up with Google, you can still set a password"})]})]})]})})},lO=()=>{const t=Ii(),[e]=Lm(),r=e.get("token"),[n,a]=ee.useState({newPassword:"",confirmPassword:""}),[s,c]=ee.useState(!1),[h,g]=ee.useState(null),[u,m]=ee.useState(!1),[v,b]=ee.useState(null);ee.useEffect(()=>{r?b(!0):(b(!1),g("Invalid reset link. Please request a new password reset."))},[r]);const _=j=>{const{name:L,value:D}=j.target;a(M=>sr(zt({},M),{[L]:D})),h&&g(null)},C=()=>n.newPassword?n.newPassword.length<6?(g("Password must be at least 6 characters long"),!1):n.newPassword!==n.confirmPassword?(g("Passwords do not match"),!1):!0:(g("New password is required"),!1),A=j=>_e(null,null,function*(){if(j.preventDefault(),!!C()){c(!0),g(null);try{console.log(" Submitting password reset...");const D=yield(yield fetch("/api/auth/reset-password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,newPassword:n.newPassword})})).json();D.success?(console.log(" Password reset successful"),m(!0),setTimeout(()=>{t("/login",{state:{message:"Password reset successful! Please log in with your new password."}})},3e3)):(console.error(" Password reset failed:",D.message),g(D.message||"Failed to reset password"))}catch(L){console.error(" Password reset error:",L),g("An error occurred. Please try again.")}finally{c(!1)}}});return v===!1?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-4",children:"Invalid Reset Link"}),i.jsx("p",{className:"text-red-700 mb-6",children:"This password reset link is invalid or has expired. Please request a new password reset."}),i.jsx($t,{to:"/login",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition duration-200",children:"Back to Login"})]})}):u?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow p-6 text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold text-green-900 mb-4",children:"Password Reset Successful!"}),i.jsx("p",{className:"text-green-700 mb-6",children:"Your password has been reset successfully. You can now log in with your new password."}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Redirecting to login page..."})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Your Password"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("form",{onSubmit:A,children:[h&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:h}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),i.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:n.newPassword,onChange:_,required:!0,minLength:6,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your new password",disabled:s}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),i.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:_,required:!0,minLength:6,className:"w-full p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm your new password",disabled:s})]})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full mt-6 bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:s?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsx(rc,{}),i.jsx("span",{className:"ml-2",children:"Resetting Password..."})]}):"Reset Password"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx($t,{to:"/login",className:"text-blue-600 hover:text-blue-500 text-sm",children:"Back to Login"})})]})]})})},cO=()=>_e(null,null,function*(){try{const t=localStorage.getItem("token");if(!t)throw new Error("No authentication token found");console.log("Fetching dashboard data from Node.js API...");const e=yield fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const r=yield e.json();if(r.success)return console.log("Dashboard data fetched successfully"),r.data;throw new Error(r.message||"Failed to fetch dashboard data")}catch(t){return console.error("Error fetching dashboard data:",t),console.log("API failed, using fallback data"),{total_products:87,total_orders:0,orders_by_status:{pending:0,processing:0,shipped:0,delivered:0,cancelled:0},total_customers:0,total_revenue:0,recent_orders:[],low_stock:[]}}});console.log("Dashboard component loaded - version with all links - updated with cache control");const uO=()=>{const[t,e]=ee.useState(null),[r,n]=ee.useState(!0),[a,s]=ee.useState(null);return ee.useEffect(()=>{_e(null,null,function*(){n(!0);try{const h=yield cO();e(h)}catch(h){s(h.message||"Failed to load dashboard data")}finally{n(!1)}})},[]),r?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading dashboard data...",variant:"gear"})}):a?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-red-600 mb-4",children:a}),i.jsx($t,{to:"/",className:"text-blue-600 hover:underline",children:"Return to Home"})]}):i.jsxs("div",{children:[i.jsx("div",{className:"flex flex-col space-y-4 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dashboard Overview"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("a",{href:"/Modparts/restart.php",target:"_blank",rel:"noopener noreferrer",className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Restart Server"]}),i.jsxs("button",{onClick:m7,className:"flex items-center bg-midnight-600 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-500 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})}),"Clear Cache & Reload"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300 text-sm",children:"Total Products"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:t.total_products})]})]})}),i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-gray-300 text-sm",children:"Total Orders"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:t.total_orders}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-x-2 gap-y-1 text-xs",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-1"}),i.jsx("span",{className:"text-gray-300",children:"Pending: "}),i.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.pending})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 mr-1"}),i.jsx("span",{className:"text-gray-300",children:"Processing: "}),i.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.processing})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 mr-1"}),i.jsx("span",{className:"text-gray-300",children:"Shipped: "}),i.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.shipped})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 mr-1"}),i.jsx("span",{className:"text-gray-300",children:"Delivered: "}),i.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.delivered})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400 mr-1"}),i.jsx("span",{className:"text-gray-300",children:"Cancelled: "}),i.jsx("span",{className:"ml-1 font-semibold text-white",children:t.orders_by_status.cancelled})]})]}),i.jsx("div",{className:"mt-3 space-y-1.5",children:t.total_orders>0?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center text-xs",children:[i.jsx("div",{className:"w-16 text-gray-300",children:"Pending"}),i.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${t.orders_by_status.pending/t.total_orders*100}%`}})})]}),i.jsxs("div",{className:"flex items-center text-xs",children:[i.jsx("div",{className:"w-16 text-gray-300",children:"Processing"}),i.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-400",style:{width:`${t.orders_by_status.processing/t.total_orders*100}%`}})})]}),i.jsxs("div",{className:"flex items-center text-xs",children:[i.jsx("div",{className:"w-16 text-midnight-300",children:"Shipped"}),i.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-emerald-400",style:{width:`${t.orders_by_status.shipped/t.total_orders*100}%`}})})]}),i.jsxs("div",{className:"flex items-center text-xs",children:[i.jsx("div",{className:"w-16 text-midnight-300",children:"Delivered"}),i.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-400",style:{width:`${t.orders_by_status.delivered/t.total_orders*100}%`}})})]}),i.jsxs("div",{className:"flex items-center text-xs",children:[i.jsx("div",{className:"w-16 text-midnight-300",children:"Cancelled"}),i.jsx("div",{className:"flex-1 h-2 bg-midnight-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-red-400",style:{width:`${t.orders_by_status.cancelled/t.total_orders*100}%`}})})]})]}):i.jsx("p",{className:"text-xs text-midnight-400",children:"No orders to display"})})]})]})}),i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-midnight-300 text-sm",children:"Total Customers"}),i.jsx("p",{className:"text-2xl font-bold text-midnight-50",children:t.total_customers})]})]})}),i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-midnight-600 text-midnight-100 mr-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",parseFloat(t.total_revenue||0).toFixed(2)]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[i.jsx("div",{className:"px-6 py-4 border-b border-midnight-700",children:i.jsx("h2",{className:"text-xl font-semibold text-midnight-50",children:"Recent Orders"})}),i.jsxs("div",{className:"p-6",children:[t.recent_orders.length===0?i.jsx("p",{className:"text-midnight-400",children:"No recent orders"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[500px]",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-midnight-800",children:[i.jsx("th",{className:"text-left p-2 text-white min-w-[100px]",children:"Order #"}),i.jsx("th",{className:"text-left p-2 text-white min-w-[150px]",children:"Customer"}),i.jsx("th",{className:"text-left p-2 text-white min-w-[120px]",children:"Status"}),i.jsx("th",{className:"text-right p-2 text-white min-w-[100px]",children:"Amount"})]})}),i.jsx("tbody",{children:t.recent_orders.map(c=>i.jsxs("tr",{className:"border-t border-midnight-700",children:[i.jsx("td",{className:"p-2",children:i.jsxs($t,{to:`/admin/orders/${c.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:["#",c.id]})}),i.jsxs("td",{className:"p-2 text-white",children:[c.first_name," ",c.last_name]}),i.jsx("td",{className:"p-2",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${!c.status||typeof c.status!="string"?"bg-gray-600 text-gray-100":c.status==="pending"?"bg-yellow-600 text-yellow-100":c.status==="processing"?"bg-blue-600 text-blue-100":c.status==="shipped"?"bg-emerald-600 text-emerald-100":c.status==="delivered"?"bg-green-600 text-green-100":"bg-red-600 text-red-100"}`,children:c.status&&typeof c.status=="string"&&c.status.length>0?c.status.charAt(0).toUpperCase()+c.status.slice(1):"Pending"})}),i.jsxs("td",{className:"p-2 text-right text-white",children:["$",parseFloat(c.total_amount||0).toFixed(2)]})]},c.id))})]})}),i.jsx("div",{className:"mt-4 text-right",children:i.jsx($t,{to:"/admin/orders",className:"text-midnight-300 hover:text-midnight-100 hover:underline",children:"View All Orders"})})]})]}),i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[i.jsx("div",{className:"px-6 py-4 border-b border-midnight-700",children:i.jsx("h2",{className:"text-xl font-semibold text-midnight-50",children:"Low Stock Products"})}),i.jsxs("div",{className:"p-6",children:[t.low_stock.length===0?i.jsx("p",{className:"text-midnight-400",children:"No low stock products"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[400px]",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-midnight-800",children:[i.jsx("th",{className:"text-left p-2 text-white min-w-[200px]",children:"Product"}),i.jsx("th",{className:"text-right p-2 text-white min-w-[80px]",children:"Stock"}),i.jsx("th",{className:"text-center p-2 text-white min-w-[120px]",children:"Action"})]})}),i.jsx("tbody",{children:t.low_stock.map(c=>i.jsxs("tr",{className:"border-t border-midnight-700",children:[i.jsx("td",{className:"p-2",children:i.jsx($t,{to:`/admin/products/edit/${c.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:c.name})}),i.jsx("td",{className:"p-2 text-right",children:i.jsx("span",{className:`font-semibold ${c.quantity<=0?"text-red-400":"text-yellow-400"}`,children:c.quantity})}),i.jsx("td",{className:"p-2 text-center",children:i.jsx($t,{to:`/admin/products/edit/${c.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:"Update Stock"})})]},c.id))})]})}),i.jsx("div",{className:"mt-4 text-right",children:i.jsx($t,{to:"/admin/products",className:"text-midnight-300 hover:text-midnight-100 hover:underline",children:"View All Products"})})]})]})]})]})};var Zg={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var dO=Zg.exports,Gb;function fO(){return Gb||(Gb=1,function(t,e){((r,n)=>{t.exports=n()})(dO,function r(){var n=typeof self!="undefined"?self:typeof window!="undefined"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,c=n.IS_PAPA_WORKER||!1,h={},g=0,u={};function m(H){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(B){var re=Q(B);re.chunkSize=parseInt(re.chunkSize),B.step||B.chunk||(re.chunkSize=null),this._handle=new A(re),(this._handle.streamer=this)._config=re}.call(this,H),this.parseChunk=function(B,re){var q=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<q){let se=this._config.newline;se||(G=this._config.quoteChar||'"',se=this._handle.guessLineEndings(B,G)),B=[...B.split(se).slice(q)].join(se)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(G=this._config.beforeFirstChunk(B))!==void 0&&(B=G),this.isFirstChunk=!1,this._halted=!1;var q=this._partialLine+B,G=(this._partialLine="",this._handle.parse(q,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(B=G.meta.cursor,q=(this._finished||(this._partialLine=q.substring(B-this._baseIndex),this._baseIndex=B),G&&G.data&&(this._rowCount+=G.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)n.postMessage({results:G,workerId:u.WORKER_ID,finished:q});else if(V(this._config.chunk)&&!re){if(this._config.chunk(G,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=G=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(G.data),this._completeResults.errors=this._completeResults.errors.concat(G.errors),this._completeResults.meta=G.meta),this._completed||!q||!V(this._config.complete)||G&&G.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),q||G&&G.meta.paused||this._nextChunk(),G}this._halted=!0},this._sendError=function(B){V(this._config.error)?this._config.error(B):c&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:B,finished:!1})}}function v(H){var B;(H=H||{}).chunkSize||(H.chunkSize=u.RemoteChunkSize),m.call(this,H),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(re){this._input=re,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(B=new XMLHttpRequest,this._config.withCredentials&&(B.withCredentials=this._config.withCredentials),s||(B.onload=Y(this._chunkLoaded,this),B.onerror=Y(this._chunkError,this)),B.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var re,q=this._config.downloadRequestHeaders;for(re in q)B.setRequestHeader(re,q[re])}var G;this._config.chunkSize&&(G=this._start+this._config.chunkSize-1,B.setRequestHeader("Range","bytes="+this._start+"-"+G));try{B.send(this._config.downloadRequestBody)}catch(se){this._chunkError(se.message)}s&&B.status===0&&this._chunkError()}},this._chunkLoaded=function(){B.readyState===4&&(B.status<200||400<=B.status?this._chunkError():(this._start+=this._config.chunkSize||B.responseText.length,this._finished=!this._config.chunkSize||this._start>=(re=>(re=re.getResponseHeader("Content-Range"))!==null?parseInt(re.substring(re.lastIndexOf("/")+1)):-1)(B),this.parseChunk(B.responseText)))},this._chunkError=function(re){re=B.statusText||re,this._sendError(new Error(re))}}function b(H){(H=H||{}).chunkSize||(H.chunkSize=u.LocalChunkSize),m.call(this,H);var B,re,q=typeof FileReader!="undefined";this.stream=function(G){this._input=G,re=G.slice||G.webkitSlice||G.mozSlice,q?((B=new FileReader).onload=Y(this._chunkLoaded,this),B.onerror=Y(this._chunkError,this)):B=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var G=this._input,se=(this._config.chunkSize&&(se=Math.min(this._start+this._config.chunkSize,this._input.size),G=re.call(G,this._start,se)),B.readAsText(G,this._config.encoding));q||this._chunkLoaded({target:{result:se}})},this._chunkLoaded=function(G){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(G.target.result)},this._chunkError=function(){this._sendError(B.error)}}function _(H){var B;m.call(this,H=H||{}),this.stream=function(re){return B=re,this._nextChunk()},this._nextChunk=function(){var re,q;if(!this._finished)return re=this._config.chunkSize,B=re?(q=B.substring(0,re),B.substring(re)):(q=B,""),this._finished=!B,this.parseChunk(q)}}function C(H){m.call(this,H=H||{});var B=[],re=!0,q=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(G){this._input=G,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){q&&B.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),B.length?this.parseChunk(B.shift()):re=!0},this._streamData=Y(function(G){try{B.push(typeof G=="string"?G:G.toString(this._config.encoding)),re&&(re=!1,this._checkIsFinished(),this.parseChunk(B.shift()))}catch(se){this._streamError(se)}},this),this._streamError=Y(function(G){this._streamCleanUp(),this._sendError(G)},this),this._streamEnd=Y(function(){this._streamCleanUp(),q=!0,this._streamData("")},this),this._streamCleanUp=Y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(H){var B,re,q,G,se=Math.pow(2,53),ye=-se,me=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,de=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,we=this,Pe=0,Ae=0,ae=!1,fe=!1,P=[],W={data:[],errors:[],meta:{}};function J(Re){return H.skipEmptyLines==="greedy"?Re.join("").trim()==="":Re.length===1&&Re[0].length===0}function te(){if(W&&q&&(Be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),q=!1),H.skipEmptyLines&&(W.data=W.data.filter(function(ze){return!J(ze)})),le()){let ze=function(ut,gt){V(H.transformHeader)&&(ut=H.transformHeader(ut,gt)),P.push(ut)};if(W)if(Array.isArray(W.data[0])){for(var Re=0;le()&&Re<W.data.length;Re++)W.data[Re].forEach(ze);W.data.splice(0,1)}else W.data.forEach(ze)}function Me(ze,ut){for(var gt=H.header?{}:[],Ct=0;Ct<ze.length;Ct++){var rt=Ct,ge=ze[Ct],ge=((Ve,st)=>(Ue=>(H.dynamicTypingFunction&&H.dynamicTyping[Ue]===void 0&&(H.dynamicTyping[Ue]=H.dynamicTypingFunction(Ue)),(H.dynamicTyping[Ue]||H.dynamicTyping)===!0))(Ve)?st==="true"||st==="TRUE"||st!=="false"&&st!=="FALSE"&&((Ue=>{if(me.test(Ue)&&(Ue=parseFloat(Ue),ye<Ue&&Ue<se))return 1})(st)?parseFloat(st):de.test(st)?new Date(st):st===""?null:st):st)(rt=H.header?Ct>=P.length?"__parsed_extra":P[Ct]:rt,ge=H.transform?H.transform(ge,rt):ge);rt==="__parsed_extra"?(gt[rt]=gt[rt]||[],gt[rt].push(ge)):gt[rt]=ge}return H.header&&(Ct>P.length?Be("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+Ct,Ae+ut):Ct<P.length&&Be("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+Ct,Ae+ut)),gt}var ke;W&&(H.header||H.dynamicTyping||H.transform)&&(ke=1,!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(Me),ke=W.data.length):W.data=Me(W.data,0),H.header&&W.meta&&(W.meta.fields=P),Ae+=ke)}function le(){return H.header&&P.length===0}function Be(Re,Me,ke,ze){Re={type:Re,code:Me,message:ke},ze!==void 0&&(Re.row=ze),W.errors.push(Re)}V(H.step)&&(G=H.step,H.step=function(Re){W=Re,le()?te():(te(),W.data.length!==0&&(Pe+=Re.data.length,H.preview&&Pe>H.preview?re.abort():(W.data=W.data[0],G(W,we))))}),this.parse=function(Re,Me,ke){var ze=H.quoteChar||'"',ze=(H.newline||(H.newline=this.guessLineEndings(Re,ze)),q=!1,H.delimiter?V(H.delimiter)&&(H.delimiter=H.delimiter(Re),W.meta.delimiter=H.delimiter):((ze=((ut,gt,Ct,rt,ge)=>{var Ve,st,Ue,Je;ge=ge||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var et=0;et<ge.length;et++){for(var Pt,Mt=ge[et],Xt=0,cr=0,rr=0,lr=(Ue=void 0,new L({comments:rt,delimiter:Mt,newline:gt,preview:10}).parse(ut)),hr=0;hr<lr.data.length;hr++)Ct&&J(lr.data[hr])?rr++:(Pt=lr.data[hr].length,cr+=Pt,Ue===void 0?Ue=Pt:0<Pt&&(Xt+=Math.abs(Pt-Ue),Ue=Pt));0<lr.data.length&&(cr/=lr.data.length-rr),(st===void 0||Xt<=st)&&(Je===void 0||Je<cr)&&1.99<cr&&(st=Xt,Ve=Mt,Je=cr)}return{successful:!!(H.delimiter=Ve),bestDelimiter:Ve}})(Re,H.newline,H.skipEmptyLines,H.comments,H.delimitersToGuess)).successful?H.delimiter=ze.bestDelimiter:(q=!0,H.delimiter=u.DefaultDelimiter),W.meta.delimiter=H.delimiter),Q(H));return H.preview&&H.header&&ze.preview++,B=Re,re=new L(ze),W=re.parse(B,Me,ke),te(),ae?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,re.abort(),B=V(H.chunk)?"":B.substring(re.getCharIndex())},this.resume=function(){we.streamer._halted?(ae=!1,we.streamer.parseChunk(B,!0)):setTimeout(we.resume,3)},this.aborted=function(){return fe},this.abort=function(){fe=!0,re.abort(),W.meta.aborted=!0,V(H.complete)&&H.complete(W),B=""},this.guessLineEndings=function(ut,ze){ut=ut.substring(0,1048576);var ze=new RegExp(j(ze)+"([^]*?)"+j(ze),"gm"),ke=(ut=ut.replace(ze,"")).split("\r"),ze=ut.split(`
`),ut=1<ze.length&&ze[0].length<ke[0].length;if(ke.length===1||ut)return`
`;for(var gt=0,Ct=0;Ct<ke.length;Ct++)ke[Ct][0]===`
`&&gt++;return gt>=ke.length/2?`\r
`:"\r"}}function j(H){return H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(H){var B=(H=H||{}).delimiter,re=H.newline,q=H.comments,G=H.step,se=H.preview,ye=H.fastMode,me=null,de=!1,we=H.quoteChar==null?'"':H.quoteChar,Pe=we;if(H.escapeChar!==void 0&&(Pe=H.escapeChar),(typeof B!="string"||-1<u.BAD_DELIMITERS.indexOf(B))&&(B=","),q===B)throw new Error("Comment character same as delimiter");q===!0?q="#":(typeof q!="string"||-1<u.BAD_DELIMITERS.indexOf(q))&&(q=!1),re!==`
`&&re!=="\r"&&re!==`\r
`&&(re=`
`);var Ae=0,ae=!1;this.parse=function(fe,P,W){if(typeof fe!="string")throw new Error("Input must be a string");var J=fe.length,te=B.length,le=re.length,Be=q.length,Re=V(G),Me=[],ke=[],ze=[],ut=Ae=0;if(!fe)return Xt();if(ye||ye!==!1&&fe.indexOf(we)===-1){for(var gt=fe.split(re),Ct=0;Ct<gt.length;Ct++){if(ze=gt[Ct],Ae+=ze.length,Ct!==gt.length-1)Ae+=re.length;else if(W)return Xt();if(!q||ze.substring(0,Be)!==q){if(Re){if(Me=[],Je(ze.split(B)),cr(),ae)return Xt()}else Je(ze.split(B));if(se&&se<=Ct)return Me=Me.slice(0,se),Xt(!0)}}return Xt()}for(var rt=fe.indexOf(B,Ae),ge=fe.indexOf(re,Ae),Ve=new RegExp(j(Pe)+j(we),"g"),st=fe.indexOf(we,Ae);;)if(fe[Ae]===we)for(st=Ae,Ae++;;){if((st=fe.indexOf(we,st+1))===-1)return W||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Me.length,index:Ae}),Pt();if(st===J-1)return Pt(fe.substring(Ae,st).replace(Ve,we));if(we===Pe&&fe[st+1]===Pe)st++;else if(we===Pe||st===0||fe[st-1]!==Pe){rt!==-1&&rt<st+1&&(rt=fe.indexOf(B,st+1));var Ue=et((ge=ge!==-1&&ge<st+1?fe.indexOf(re,st+1):ge)===-1?rt:Math.min(rt,ge));if(fe.substr(st+1+Ue,te)===B){ze.push(fe.substring(Ae,st).replace(Ve,we)),fe[Ae=st+1+Ue+te]!==we&&(st=fe.indexOf(we,Ae)),rt=fe.indexOf(B,Ae),ge=fe.indexOf(re,Ae);break}if(Ue=et(ge),fe.substring(st+1+Ue,st+1+Ue+le)===re){if(ze.push(fe.substring(Ae,st).replace(Ve,we)),Mt(st+1+Ue+le),rt=fe.indexOf(B,Ae),st=fe.indexOf(we,Ae),Re&&(cr(),ae))return Xt();if(se&&Me.length>=se)return Xt(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Me.length,index:Ae}),st++}}else if(q&&ze.length===0&&fe.substring(Ae,Ae+Be)===q){if(ge===-1)return Xt();Ae=ge+le,ge=fe.indexOf(re,Ae),rt=fe.indexOf(B,Ae)}else if(rt!==-1&&(rt<ge||ge===-1))ze.push(fe.substring(Ae,rt)),Ae=rt+te,rt=fe.indexOf(B,Ae);else{if(ge===-1)break;if(ze.push(fe.substring(Ae,ge)),Mt(ge+le),Re&&(cr(),ae))return Xt();if(se&&Me.length>=se)return Xt(!0)}return Pt();function Je(rr){Me.push(rr),ut=Ae}function et(rr){var lr=0;return lr=rr!==-1&&(rr=fe.substring(st+1,rr))&&rr.trim()===""?rr.length:lr}function Pt(rr){return W||(rr===void 0&&(rr=fe.substring(Ae)),ze.push(rr),Ae=J,Je(ze),Re&&cr()),Xt()}function Mt(rr){Ae=rr,Je(ze),ze=[],ge=fe.indexOf(re,Ae)}function Xt(rr){if(H.header&&!P&&Me.length&&!de){var lr=Me[0],hr={},Qt=new Set(lr);let Br=!1;for(let Yt=0;Yt<lr.length;Yt++){let En=lr[Yt];if(hr[En=V(H.transformHeader)?H.transformHeader(En,Yt):En]){let ur,Vt=hr[En];for(;ur=En+"_"+Vt,Vt++,Qt.has(ur););Qt.add(ur),lr[Yt]=ur,hr[En]++,Br=!0,(me=me===null?{}:me)[ur]=En}else hr[En]=1,lr[Yt]=En;Qt.add(En)}Br&&console.warn("Duplicate headers found and renamed."),de=!0}return{data:Me,errors:ke,meta:{delimiter:B,linebreak:re,aborted:ae,truncated:!!rr,cursor:ut+(P||0),renamedHeaders:me}}}function cr(){G(Xt()),Me=[],ke=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return Ae}}function D(H){var B=H.data,re=h[B.workerId],q=!1;if(B.error)re.userError(B.error,B.file);else if(B.results&&B.results.data){var G={abort:function(){q=!0,M(B.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:X,resume:X};if(V(re.userStep)){for(var se=0;se<B.results.data.length&&(re.userStep({data:B.results.data[se],errors:B.results.errors,meta:B.results.meta},G),!q);se++);delete B.results}else V(re.userChunk)&&(re.userChunk(B.results,G,B.file),delete B.results)}B.finished&&!q&&M(B.workerId,B.results)}function M(H,B){var re=h[H];V(re.userComplete)&&re.userComplete(B),re.terminate(),delete h[H]}function X(){throw new Error("Not implemented.")}function Q(H){if(typeof H!="object"||H===null)return H;var B,re=Array.isArray(H)?[]:{};for(B in H)re[B]=Q(H[B]);return re}function Y(H,B){return function(){H.apply(B,arguments)}}function V(H){return typeof H=="function"}return u.parse=function(H,B){var re=(B=B||{}).dynamicTyping||!1;if(V(re)&&(B.dynamicTypingFunction=re,re={}),B.dynamicTyping=re,B.transform=!!V(B.transform)&&B.transform,!B.worker||!u.WORKERS_SUPPORTED)return re=null,u.NODE_STREAM_INPUT,typeof H=="string"?(H=(q=>q.charCodeAt(0)!==65279?q:q.slice(1))(H),re=new(B.download?v:_)(B)):H.readable===!0&&V(H.read)&&V(H.on)?re=new C(B):(n.File&&H instanceof File||H instanceof Object)&&(re=new b(B)),re.stream(H);(re=(()=>{var q;return!!u.WORKERS_SUPPORTED&&(q=(()=>{var G=n.URL||n.webkitURL||null,se=r.toString();return u.BLOB_URL||(u.BLOB_URL=G.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",se,")();"],{type:"text/javascript"})))})(),(q=new n.Worker(q)).onmessage=D,q.id=g++,h[q.id]=q)})()).userStep=B.step,re.userChunk=B.chunk,re.userComplete=B.complete,re.userError=B.error,B.step=V(B.step),B.chunk=V(B.chunk),B.complete=V(B.complete),B.error=V(B.error),delete B.worker,re.postMessage({input:H,config:B,workerId:re.id})},u.unparse=function(H,B){var re=!1,q=!0,G=",",se=`\r
`,ye='"',me=ye+ye,de=!1,we=null,Pe=!1,Ae=((()=>{if(typeof B=="object"){if(typeof B.delimiter!="string"||u.BAD_DELIMITERS.filter(function(P){return B.delimiter.indexOf(P)!==-1}).length||(G=B.delimiter),typeof B.quotes!="boolean"&&typeof B.quotes!="function"&&!Array.isArray(B.quotes)||(re=B.quotes),typeof B.skipEmptyLines!="boolean"&&typeof B.skipEmptyLines!="string"||(de=B.skipEmptyLines),typeof B.newline=="string"&&(se=B.newline),typeof B.quoteChar=="string"&&(ye=B.quoteChar),typeof B.header=="boolean"&&(q=B.header),Array.isArray(B.columns)){if(B.columns.length===0)throw new Error("Option columns is empty");we=B.columns}B.escapeChar!==void 0&&(me=B.escapeChar+ye),B.escapeFormulae instanceof RegExp?Pe=B.escapeFormulae:typeof B.escapeFormulae=="boolean"&&B.escapeFormulae&&(Pe=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(ye),"g"));if(typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(H)){if(!H.length||Array.isArray(H[0]))return ae(null,H,de);if(typeof H[0]=="object")return ae(we||Object.keys(H[0]),H,de)}else if(typeof H=="object")return typeof H.data=="string"&&(H.data=JSON.parse(H.data)),Array.isArray(H.data)&&(H.fields||(H.fields=H.meta&&H.meta.fields||we),H.fields||(H.fields=Array.isArray(H.data[0])?H.fields:typeof H.data[0]=="object"?Object.keys(H.data[0]):[]),Array.isArray(H.data[0])||typeof H.data[0]=="object"||(H.data=[H.data])),ae(H.fields||[],H.data||[],de);throw new Error("Unable to serialize unrecognized input");function ae(P,W,J){var te="",le=(typeof P=="string"&&(P=JSON.parse(P)),typeof W=="string"&&(W=JSON.parse(W)),Array.isArray(P)&&0<P.length),Be=!Array.isArray(W[0]);if(le&&q){for(var Re=0;Re<P.length;Re++)0<Re&&(te+=G),te+=fe(P[Re],Re);0<W.length&&(te+=se)}for(var Me=0;Me<W.length;Me++){var ke=(le?P:W[Me]).length,ze=!1,ut=le?Object.keys(W[Me]).length===0:W[Me].length===0;if(J&&!le&&(ze=J==="greedy"?W[Me].join("").trim()==="":W[Me].length===1&&W[Me][0].length===0),J==="greedy"&&le){for(var gt=[],Ct=0;Ct<ke;Ct++){var rt=Be?P[Ct]:Ct;gt.push(W[Me][rt])}ze=gt.join("").trim()===""}if(!ze){for(var ge=0;ge<ke;ge++){0<ge&&!ut&&(te+=G);var Ve=le&&Be?P[ge]:ge;te+=fe(W[Me][Ve],ge)}Me<W.length-1&&(!J||0<ke&&!ut)&&(te+=se)}}return te}function fe(P,W){var J,te;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(te=!1,Pe&&typeof P=="string"&&Pe.test(P)&&(P="'"+P,te=!0),J=P.toString().replace(Ae,me),(te=te||re===!0||typeof re=="function"&&re(P,W)||Array.isArray(re)&&re[W]||((le,Be)=>{for(var Re=0;Re<Be.length;Re++)if(-1<le.indexOf(Be[Re]))return!0;return!1})(J,u.BAD_DELIMITERS)||-1<J.indexOf(G)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?ye+J+ye:J)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=L,u.ParserHandle=A,u.NetworkStreamer=v,u.FileStreamer=b,u.StringStreamer=_,u.ReadableStreamStreamer=C,n.jQuery&&((a=n.jQuery).fn.parse=function(H){var B=H.config||{},re=[];return this.each(function(se){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ye=0;ye<this.files.length;ye++)re.push({file:this.files[ye],inputElem:this,instanceConfig:a.extend({},B)})}),q(),this;function q(){if(re.length===0)V(H.complete)&&H.complete();else{var se,ye,me,de,we=re[0];if(V(H.before)){var Pe=H.before(we.file,we.inputElem);if(typeof Pe=="object"){if(Pe.action==="abort")return se="AbortError",ye=we.file,me=we.inputElem,de=Pe.reason,void(V(H.error)&&H.error({name:se},ye,me,de));if(Pe.action==="skip")return void G();typeof Pe.config=="object"&&(we.instanceConfig=a.extend(we.instanceConfig,Pe.config))}else if(Pe==="skip")return void G()}var Ae=we.instanceConfig.complete;we.instanceConfig.complete=function(ae){V(Ae)&&Ae(ae,we.file,we.inputElem),G()},u.parse(we.file,we.instanceConfig)}}function G(){re.splice(0,1),q()}}),c&&(n.onmessage=function(H){H=H.data,u.WORKER_ID===void 0&&H&&(u.WORKER_ID=H.workerId),typeof H.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(H.input,H.config),finished:!0}):(n.File&&H.input instanceof File||H.input instanceof Object)&&(H=u.parse(H.input,H.config))&&n.postMessage({workerId:u.WORKER_ID,results:H,finished:!0})}),(v.prototype=Object.create(m.prototype)).constructor=v,(b.prototype=Object.create(m.prototype)).constructor=b,(_.prototype=Object.create(_.prototype)).constructor=_,(C.prototype=Object.create(m.prototype)).constructor=C,u})}(Zg)),Zg.exports}var hO=fO();const gO=Om(hO),mO=[["name","price","category_id","quantity","description","condition_status","part_number","barcode","warehouse_id","bin_number"],["Universal Piston Kit","149.99","Engine Parts","10","High-quality universal piston kit.","New","PK-001","123456789","1","A-01"],["Front Brake Caliper","89.95","Brakes","5","Refurbished front brake caliper.","Refurbished","BC-102","","1","B-05"],["Electrical Wiring Harness","75.50","Electrical","8","Complete wiring harness.","New","WH-200","","2","C-10"],["Carburetor Rebuild Kit","45.00","Engine Parts","15","Complete rebuild kit.","New","CRK-55","","1","A-02"],["Headlight Assembly","65.75","Bodywork","3","Chrome headlight assembly.","Used","HL-88","","2","D-03"]],pO=()=>{let t="";mO.forEach(a=>{const s=a.map(c=>typeof c=="string"&&(c.includes(",")||c.includes('"')||c.includes(`
`))?`"${c.replace(/"/g,'""')}"`:c);t+=s.join(",")+`
`});const e=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.setAttribute("download","sample-products.csv"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},xO=({isOpen:t,onClose:e,onImport:r,categories:n})=>{const[a,s]=ee.useState(null),[c,h]=ee.useState(""),[g,u]=ee.useState([]),[m,v]=ee.useState([]),[b,_]=ee.useState([]),[C,A]=ee.useState(!1),[j,L]=ee.useState(""),[D,M]=ee.useState(1),[X,Q]=ee.useState({}),[Y]=ee.useState(["name","price","category_id","quantity"]),V=ee.useRef(null),{error:H,success:B}=ja();ee.useEffect(()=>{t||(s(null),h(""),u([]),v([]),_([]),A(!1),L(""),M(1),Q({}))},[t]);const re=de=>{const we=de.target.files[0];if(we){if(we.type!=="text/csv"&&!we.name.endsWith(".csv")){L("Please select a valid CSV file"),s(null),h("");return}s(we),h(we.name),L(""),q(we)}},q=de=>{A(!0),gO.parse(de,{header:!0,skipEmptyLines:!0,complete:we=>{if(we.data.length===0){L("The CSV file is empty"),A(!1);return}const Pe=Object.keys(we.data[0]);v(Pe);const Ae={};Pe.forEach(ae=>{const fe=ae.toLowerCase().trim().replace(/\s+/g,"_");Y.includes(fe)&&(Ae[fe]=ae)}),Q(Ae),u(we.data),_(we.data.slice(0,5)),A(!1),M(2)},error:we=>{L(`Error parsing CSV: ${we.message}`),A(!1)}})},G=()=>{const de=Y.filter(we=>!X[we]);return de.length>0?(L(`Missing required field mappings: ${de.join(", ")}`),!1):!0},se=()=>{if(G())try{const de=g.map((we,Pe)=>{const Ae={};return Object.entries(X).forEach(([ae,fe])=>{let P=we[fe];if(ae==="price"&&(P=parseFloat(P.replace(/[^0-9.-]+/g,"")),isNaN(P)))throw new Error(`Invalid price in row ${Pe+1}: ${we[fe]}`);if(ae==="quantity"&&(P=parseInt(P,10),isNaN(P)))throw new Error(`Invalid quantity in row ${Pe+1}: ${we[fe]}`);if(ae==="category_id"){let W=null;if(isNaN(parseInt(P))||(W=n.find(J=>String(J.id)===String(P))),W||(W=n.find(J=>J.name.toLowerCase()===String(P).toLowerCase())),!W){const J=n.map(te=>`${te.id}: ${te.name}`).join(", ");throw new Error(`Invalid category in row ${Pe+1}: "${P}". Available categories are: ${J}`)}P=W.id,console.log(`Mapped category "${P}" to ID: ${W.id} (${W.name})`)}Ae[ae]=P}),Ae.description=Ae.description||"",Ae.image_url="",Ae.condition_status=Ae.condition_status||"New",Ae.part_number=Ae.part_number||"",Ae.barcode=Ae.barcode||"",Ae.warehouse_id=Ae.warehouse_id||"",Ae.bin_number=Ae.bin_number||"",Ae});r(de),B(`Successfully processed ${de.length} products for import`),e()}catch(de){L(de.message)}},ye=de=>{de.preventDefault(),de.stopPropagation()},me=de=>{if(de.preventDefault(),de.stopPropagation(),de.dataTransfer.files&&de.dataTransfer.files.length>0){const we=de.dataTransfer.files[0];we.type==="text/csv"||we.name.endsWith(".csv")?(s(we),h(we.name),L(""),q(we)):L("Please drop a valid CSV file")}};return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"bg-blue-800 text-white px-6 py-4 flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Import Products from CSV"}),i.jsx("button",{onClick:e,className:"text-white hover:text-gray-200",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[D===1&&i.jsxs("div",{children:[i.jsx("p",{className:"mb-4 text-gray-700",children:"Upload a CSV file containing product data. The file should have columns for product name, price, category, and quantity."}),i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 text-blue-700 rounded-md",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{children:"Tip:"})," You can ",i.jsx("button",{onClick:pO,className:"text-blue-600 underline hover:text-blue-800 bg-transparent border-none p-0 cursor-pointer font-normal",type:"button",children:"download a sample CSV file"})," to see the expected format."]}),i.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-100",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Available Categories:"}),i.jsx("div",{className:"mt-1 text-xs grid grid-cols-2 md:grid-cols-3 gap-1",children:n.map(de=>i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"font-medium",children:[de.id,":"]})," ",de.name]},de.id))})]})]}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{var de;return(de=V.current)==null?void 0:de.click()},onDragOver:ye,onDrop:me,children:[i.jsx("input",{type:"file",ref:V,onChange:re,accept:".csv",className:"hidden"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Drag and drop a CSV file here, or click to select a file"}),c&&i.jsx("p",{className:"mt-2 text-blue-600",children:c})]})]}),D===2&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preview Data"}),i.jsx("p",{className:"mb-4 text-gray-700",children:"Review the first 5 rows of your CSV file and map the columns to product fields."}),b.length>0&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsx("tr",{children:m.map((de,we)=>{var Pe;return i.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[de,i.jsxs("select",{className:"block w-full mt-1 text-sm border-gray-300 rounded-md",value:((Pe=Object.entries(X).find(([Ae,ae])=>ae===de))==null?void 0:Pe[0])||"",onChange:Ae=>{const ae=Object.entries(X).find(([fe,P])=>P===de);if(ae){const fe=zt({},X);delete fe[ae[0]],Ae.target.value&&(fe[Ae.target.value]=de),Q(fe)}else Ae.target.value&&Q(sr(zt({},X),{[Ae.target.value]:de}))},children:[i.jsx("option",{value:"",children:"-- Map to field --"}),i.jsx("option",{value:"name",children:"Product Name"}),i.jsx("option",{value:"price",children:"Price"}),i.jsx("option",{value:"category_id",children:"Category"}),i.jsx("option",{value:"quantity",children:"Quantity"}),i.jsx("option",{value:"description",children:"Description"}),i.jsx("option",{value:"condition_status",children:"Condition"}),i.jsx("option",{value:"part_number",children:"Part Number"}),i.jsx("option",{value:"barcode",children:"Barcode"}),i.jsx("option",{value:"warehouse_id",children:"Warehouse ID"}),i.jsx("option",{value:"bin_number",children:"Bin Number"})]})]},we)})})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((de,we)=>i.jsx("tr",{children:m.map((Pe,Ae)=>i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de[Pe]},Ae))},we))})]})})]}),j&&i.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-md",children:j})]}),i.jsxs("div",{className:"bg-gray-100 px-6 py-4 flex justify-between",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),i.jsxs("div",{children:[D===2&&i.jsx("button",{onClick:()=>M(1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 mr-2",children:"Back"}),D===1&&i.jsx("button",{onClick:()=>{var de;return(de=V.current)==null?void 0:de.click()},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",disabled:C,children:C?"Processing...":"Select File"}),D===2&&i.jsx("button",{onClick:se,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300",disabled:C||Object.keys(X).length===0,children:"Import Products"})]})]})]})}):null},uv=({progress:t,isVisible:e,onComplete:r})=>{const[n,a]=ee.useState(0);return ee.useEffect(()=>{if(e){a(0);const s=setTimeout(()=>{a(t)},100);return()=>clearTimeout(s)}},[e,t]),ee.useEffect(()=>{if(n>=100&&r){const s=setTimeout(()=>{r()},500);return()=>clearTimeout(s)}},[n,r]),e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Exporting Data"}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-2",children:i.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300 ease-out",style:{width:`${n}%`}})}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[Math.round(n),"%"]})]}),i.jsx("p",{className:"mt-3 text-sm text-gray-600",children:n<100?"Please wait while your file is being prepared...":"Export complete! Your download will begin shortly."})]})}):null};function Yn(t){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(t)}var vi=Uint8Array,Ao=Uint16Array,dv=Int32Array,$m=new vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xm=new vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_x=new vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Y_=function(t,e){for(var r=new Ao(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new dv(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},K_=Y_($m,2),Z_=K_.b,Ex=K_.r;Z_[28]=258,Ex[258]=28;var J_=Y_(Xm,0),vO=J_.b,$b=J_.r,Nx=new Ao(32768);for(var Ca=0;Ca<32768;++Ca){var pu=(Ca&43690)>>1|(Ca&21845)<<1;pu=(pu&52428)>>2|(pu&13107)<<2,pu=(pu&61680)>>4|(pu&3855)<<4,Nx[Ca]=((pu&65280)>>8|(pu&255)<<8)>>1}var nc=function(t,e,r){for(var n=t.length,a=0,s=new Ao(e);a<n;++a)t[a]&&++s[t[a]-1];var c=new Ao(e);for(a=1;a<e;++a)c[a]=c[a-1]+s[a-1]<<1;var h;if(r){h=new Ao(1<<e);var g=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],m=e-t[a],v=c[t[a]-1]++<<m,b=v|(1<<m)-1;v<=b;++v)h[Nx[v]>>g]=u}else for(h=new Ao(n),a=0;a<n;++a)t[a]&&(h[a]=Nx[c[t[a]-1]++]>>15-t[a]);return h},Au=new vi(288);for(var Ca=0;Ca<144;++Ca)Au[Ca]=8;for(var Ca=144;Ca<256;++Ca)Au[Ca]=9;for(var Ca=256;Ca<280;++Ca)Au[Ca]=7;for(var Ca=280;Ca<288;++Ca)Au[Ca]=8;var bh=new vi(32);for(var Ca=0;Ca<32;++Ca)bh[Ca]=5;var yO=nc(Au,9,0),wO=nc(Au,9,1),bO=nc(bh,5,0),_O=nc(bh,5,1),I2=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},xl=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},D2=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},fv=function(t){return(t+7)/8|0},Q_=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new vi(t.subarray(e,r))},EO=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],El=function(t,e,r){var n=new Error(e||EO[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,El),!r)throw n;return n},NO=function(t,e,r,n){var a=t.length,s=0;if(!a||e.f&&!e.l)return r||new vi(0);var c=!r,h=c||e.i!=2,g=e.i;c&&(r=new vi(a*3));var u=function(ze){var ut=r.length;if(ze>ut){var gt=new vi(Math.max(ut*2,ze));gt.set(r),r=gt}},m=e.f||0,v=e.p||0,b=e.b||0,_=e.l,C=e.d,A=e.m,j=e.n,L=a*8;do{if(!_){m=xl(t,v,1);var D=xl(t,v+1,3);if(v+=3,D)if(D==1)_=wO,C=_O,A=9,j=5;else if(D==2){var Y=xl(t,v,31)+257,V=xl(t,v+10,15)+4,H=Y+xl(t,v+5,31)+1;v+=14;for(var B=new vi(H),re=new vi(19),q=0;q<V;++q)re[_x[q]]=xl(t,v+q*3,7);v+=V*3;for(var G=I2(re),se=(1<<G)-1,ye=nc(re,G,1),q=0;q<H;){var me=ye[xl(t,v,se)];v+=me&15;var M=me>>4;if(M<16)B[q++]=M;else{var de=0,we=0;for(M==16?(we=3+xl(t,v,3),v+=2,de=B[q-1]):M==17?(we=3+xl(t,v,7),v+=3):M==18&&(we=11+xl(t,v,127),v+=7);we--;)B[q++]=de}}var Pe=B.subarray(0,Y),Ae=B.subarray(Y);A=I2(Pe),j=I2(Ae),_=nc(Pe,A,1),C=nc(Ae,j,1)}else El(1);else{var M=fv(v)+4,X=t[M-4]|t[M-3]<<8,Q=M+X;if(Q>a){g&&El(0);break}h&&u(b+X),r.set(t.subarray(M,Q),b),e.b=b+=X,e.p=v=Q*8,e.f=m;continue}if(v>L){g&&El(0);break}}h&&u(b+131072);for(var ae=(1<<A)-1,fe=(1<<j)-1,P=v;;P=v){var de=_[D2(t,v)&ae],W=de>>4;if(v+=de&15,v>L){g&&El(0);break}if(de||El(2),W<256)r[b++]=W;else if(W==256){P=v,_=null;break}else{var J=W-254;if(W>264){var q=W-257,te=$m[q];J=xl(t,v,(1<<te)-1)+Z_[q],v+=te}var le=C[D2(t,v)&fe],Be=le>>4;le||El(3),v+=le&15;var Ae=vO[Be];if(Be>3){var te=Xm[Be];Ae+=D2(t,v)&(1<<te)-1,v+=te}if(v>L){g&&El(0);break}h&&u(b+131072);var Re=b+J;if(b<Ae){var Me=s-Ae,ke=Math.min(Ae,Re);for(Me+b<0&&El(3);b<ke;++b)r[b]=n[Me+b]}for(;b<Re;++b)r[b]=r[b-Ae]}}e.l=_,e.p=P,e.b=b,e.f=m,_&&(m=1,e.m=A,e.d=C,e.n=j)}while(!m);return b!=r.length&&c?Q_(r,0,b):r.subarray(0,b)},Cc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Kf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},P2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,s=r.slice();if(!a)return{t:t6,l:0};if(a==1){var c=new vi(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(Q,Y){return Q.f-Y.f}),r.push({s:-1,f:25001});var h=r[0],g=r[1],u=0,m=1,v=2;for(r[0]={s:-1,f:h.f+g.f,l:h,r:g};m!=a-1;)h=r[r[u].f<r[v].f?u++:v++],g=r[u!=m&&r[u].f<r[v].f?u++:v++],r[m++]={s:-1,f:h.f+g.f,l:h,r:g};for(var b=s[0].s,n=1;n<a;++n)s[n].s>b&&(b=s[n].s);var _=new Ao(b+1),C=Sx(r[m-1],_,0);if(C>e){var n=0,A=0,j=C-e,L=1<<j;for(s.sort(function(Y,V){return _[V.s]-_[Y.s]||Y.f-V.f});n<a;++n){var D=s[n].s;if(_[D]>e)A+=L-(1<<C-_[D]),_[D]=e;else break}for(A>>=j;A>0;){var M=s[n].s;_[M]<e?A-=1<<e-_[M]++-1:++n}for(;n>=0&&A;--n){var X=s[n].s;_[X]==e&&(--_[X],++A)}C=e}return{t:new vi(_),l:C}},Sx=function(t,e,r){return t.s==-1?Math.max(Sx(t.l,e,r+1),Sx(t.r,e,r+1)):e[t.s]=r},Xb=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ao(++e),n=0,a=t[0],s=1,c=function(g){r[n++]=g},h=1;h<=e;++h)if(t[h]==a&&h!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(a),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(a);s=1,a=t[h]}return{c:r.subarray(0,n),n:e}},Zf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},e6=function(t,e,r){var n=r.length,a=fv(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<n;++s)t[a+s+4]=r[s];return(a+4+n)*8},Yb=function(t,e,r,n,a,s,c,h,g,u,m){Cc(e,m++,r),++a[256];for(var v=P2(a,15),b=v.t,_=v.l,C=P2(s,15),A=C.t,j=C.l,L=Xb(b),D=L.c,M=L.n,X=Xb(A),Q=X.c,Y=X.n,V=new Ao(19),H=0;H<D.length;++H)++V[D[H]&31];for(var H=0;H<Q.length;++H)++V[Q[H]&31];for(var B=P2(V,7),re=B.t,q=B.l,G=19;G>4&&!re[_x[G-1]];--G);var se=u+5<<3,ye=Zf(a,Au)+Zf(s,bh)+c,me=Zf(a,b)+Zf(s,A)+c+14+3*G+Zf(V,re)+2*V[16]+3*V[17]+7*V[18];if(g>=0&&se<=ye&&se<=me)return e6(e,m,t.subarray(g,g+u));var de,we,Pe,Ae;if(Cc(e,m,1+(me<ye)),m+=2,me<ye){de=nc(b,_,0),we=b,Pe=nc(A,j,0),Ae=A;var ae=nc(re,q,0);Cc(e,m,M-257),Cc(e,m+5,Y-1),Cc(e,m+10,G-4),m+=14;for(var H=0;H<G;++H)Cc(e,m+3*H,re[_x[H]]);m+=3*G;for(var fe=[D,Q],P=0;P<2;++P)for(var W=fe[P],H=0;H<W.length;++H){var J=W[H]&31;Cc(e,m,ae[J]),m+=re[J],J>15&&(Cc(e,m,W[H]>>5&127),m+=W[H]>>12)}}else de=yO,we=Au,Pe=bO,Ae=bh;for(var H=0;H<h;++H){var te=n[H];if(te>255){var J=te>>18&31;Kf(e,m,de[J+257]),m+=we[J+257],J>7&&(Cc(e,m,te>>23&31),m+=$m[J]);var le=te&31;Kf(e,m,Pe[le]),m+=Ae[le],le>3&&(Kf(e,m,te>>5&8191),m+=Xm[le])}else Kf(e,m,de[te]),m+=we[te]}return Kf(e,m,de[256]),m+we[256]},SO=new dv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),t6=new vi(0),AO=function(t,e,r,n,a,s){var c=s.z||t.length,h=new vi(n+c+5*(1+Math.ceil(c/7e3))+a),g=h.subarray(n,h.length-a),u=s.l,m=(s.r||0)&7;if(e){m&&(g[0]=s.r>>3);for(var v=SO[e-1],b=v>>13,_=v&8191,C=(1<<r)-1,A=s.p||new Ao(32768),j=s.h||new Ao(C+1),L=Math.ceil(r/3),D=2*L,M=function(Ct){return(t[Ct]^t[Ct+1]<<L^t[Ct+2]<<D)&C},X=new dv(25e3),Q=new Ao(288),Y=new Ao(32),V=0,H=0,B=s.i||0,re=0,q=s.w||0,G=0;B+2<c;++B){var se=M(B),ye=B&32767,me=j[se];if(A[ye]=me,j[se]=ye,q<=B){var de=c-B;if((V>7e3||re>24576)&&(de>423||!u)){m=Yb(t,g,0,X,Q,Y,H,re,G,B-G,m),re=V=H=0,G=B;for(var we=0;we<286;++we)Q[we]=0;for(var we=0;we<30;++we)Y[we]=0}var Pe=2,Ae=0,ae=_,fe=ye-me&32767;if(de>2&&se==M(B-fe))for(var P=Math.min(b,de)-1,W=Math.min(32767,B),J=Math.min(258,de);fe<=W&&--ae&&ye!=me;){if(t[B+Pe]==t[B+Pe-fe]){for(var te=0;te<J&&t[B+te]==t[B+te-fe];++te);if(te>Pe){if(Pe=te,Ae=fe,te>P)break;for(var le=Math.min(fe,te-2),Be=0,we=0;we<le;++we){var Re=B-fe+we&32767,Me=A[Re],ke=Re-Me&32767;ke>Be&&(Be=ke,me=Re)}}}ye=me,me=A[ye],fe+=ye-me&32767}if(Ae){X[re++]=268435456|Ex[Pe]<<18|$b[Ae];var ze=Ex[Pe]&31,ut=$b[Ae]&31;H+=$m[ze]+Xm[ut],++Q[257+ze],++Y[ut],q=B+Pe,++V}else X[re++]=t[B],++Q[t[B]]}}for(B=Math.max(B,q);B<c;++B)X[re++]=t[B],++Q[t[B]];m=Yb(t,g,u,X,Q,Y,H,re,G,B-G,m),u||(s.r=m&7|g[m/8|0]<<3,m-=7,s.h=j,s.p=A,s.i=B,s.w=q)}else{for(var B=s.w||0;B<c+u;B+=65535){var gt=B+65535;gt>=c&&(g[m/8|0]=u,gt=c),m=e6(g,m+1,t.subarray(B,gt))}s.i=c}return Q_(h,0,n+fv(m)+a)},r6=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,s=r.length|0,c=0;c!=s;){for(var h=Math.min(c+2655,s);c<h;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},CO=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),c=new vi(s.length+t.length);c.set(s),c.set(t,s.length),t=c,a.w=s.length}return AO(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},n6=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},TO=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=r6();a.p(e.dictionary),n6(t,2,a.d())}},jO=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&El(6,"invalid zlib data"),(t[1]>>5&1)==1&&El(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Ax(t,e){e||(e={});var r=r6();r.p(t);var n=CO(t,e,e.dictionary?6:2,4);return TO(n,e),n6(n,n.length-4,r.d()),n}function OO(t,e){return NO(t.subarray(jO(t),-4),{i:2},e,e)}var RO=typeof TextDecoder!="undefined"&&new TextDecoder,kO=0;try{RO.decode(t6,{stream:!0}),kO=1}catch(t){}var Mr=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function F2(){Mr.console&&typeof Mr.console.log=="function"&&Mr.console.log.apply(Mr.console,arguments)}var ca={log:F2,warn:function(t){Mr.console&&(typeof Mr.console.warn=="function"?Mr.console.warn.apply(Mr.console,arguments):F2.call(null,arguments))},error:function(t){Mr.console&&(typeof Mr.console.error=="function"?Mr.console.error.apply(Mr.console,arguments):F2(t))}};function M2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){u0(n.response,e,r)},n.onerror=function(){ca.error("could not download file")},n.send()}function Kb(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(r){}return e.status>=200&&e.status<=299}function Y1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var uh,Cx,u0=Mr.saveAs||((typeof window=="undefined"?"undefined":Yn(window))!=="object"||window!==Mr?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Mr.URL||Mr.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Kb(a.href)?M2(t,e,r):Y1(a,a.target="_blank"):Y1(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Y1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Kb(t))M2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Y1(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:Yn(s)!=="object"&&(ca.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return M2(t,e,r);var a=t.type==="application/octet-stream",s=/constructor/i.test(Mr.HTMLElement)||Mr.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s)&&(typeof FileReader=="undefined"?"undefined":Yn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var m=h.result;m=c?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},h.readAsDataURL(t)}else{var g=Mr.URL||Mr.webkitURL,u=g.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){g.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function a6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,c=a.exec(t);c&&(e=s(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),g=this.g.toString(16),u=this.b.toString(16);return h.length==1&&(h="0"+h),g.length==1&&(g="0"+g),u.length==1&&(u="0"+u),"#"+h+g+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function B2(t,e){var r=t[0],n=t[1],a=t[2],s=t[3];r=fi(r,n,a,s,e[0],7,-680876936),s=fi(s,r,n,a,e[1],12,-389564586),a=fi(a,s,r,n,e[2],17,606105819),n=fi(n,a,s,r,e[3],22,-1044525330),r=fi(r,n,a,s,e[4],7,-176418897),s=fi(s,r,n,a,e[5],12,1200080426),a=fi(a,s,r,n,e[6],17,-1473231341),n=fi(n,a,s,r,e[7],22,-45705983),r=fi(r,n,a,s,e[8],7,1770035416),s=fi(s,r,n,a,e[9],12,-1958414417),a=fi(a,s,r,n,e[10],17,-42063),n=fi(n,a,s,r,e[11],22,-1990404162),r=fi(r,n,a,s,e[12],7,1804603682),s=fi(s,r,n,a,e[13],12,-40341101),a=fi(a,s,r,n,e[14],17,-1502002290),r=hi(r,n=fi(n,a,s,r,e[15],22,1236535329),a,s,e[1],5,-165796510),s=hi(s,r,n,a,e[6],9,-1069501632),a=hi(a,s,r,n,e[11],14,643717713),n=hi(n,a,s,r,e[0],20,-373897302),r=hi(r,n,a,s,e[5],5,-701558691),s=hi(s,r,n,a,e[10],9,38016083),a=hi(a,s,r,n,e[15],14,-660478335),n=hi(n,a,s,r,e[4],20,-405537848),r=hi(r,n,a,s,e[9],5,568446438),s=hi(s,r,n,a,e[14],9,-1019803690),a=hi(a,s,r,n,e[3],14,-187363961),n=hi(n,a,s,r,e[8],20,1163531501),r=hi(r,n,a,s,e[13],5,-1444681467),s=hi(s,r,n,a,e[2],9,-51403784),a=hi(a,s,r,n,e[7],14,1735328473),r=gi(r,n=hi(n,a,s,r,e[12],20,-1926607734),a,s,e[5],4,-378558),s=gi(s,r,n,a,e[8],11,-2022574463),a=gi(a,s,r,n,e[11],16,1839030562),n=gi(n,a,s,r,e[14],23,-35309556),r=gi(r,n,a,s,e[1],4,-1530992060),s=gi(s,r,n,a,e[4],11,1272893353),a=gi(a,s,r,n,e[7],16,-155497632),n=gi(n,a,s,r,e[10],23,-1094730640),r=gi(r,n,a,s,e[13],4,681279174),s=gi(s,r,n,a,e[0],11,-358537222),a=gi(a,s,r,n,e[3],16,-722521979),n=gi(n,a,s,r,e[6],23,76029189),r=gi(r,n,a,s,e[9],4,-640364487),s=gi(s,r,n,a,e[12],11,-421815835),a=gi(a,s,r,n,e[15],16,530742520),r=mi(r,n=gi(n,a,s,r,e[2],23,-995338651),a,s,e[0],6,-198630844),s=mi(s,r,n,a,e[7],10,1126891415),a=mi(a,s,r,n,e[14],15,-1416354905),n=mi(n,a,s,r,e[5],21,-57434055),r=mi(r,n,a,s,e[12],6,1700485571),s=mi(s,r,n,a,e[3],10,-1894986606),a=mi(a,s,r,n,e[10],15,-1051523),n=mi(n,a,s,r,e[1],21,-2054922799),r=mi(r,n,a,s,e[8],6,1873313359),s=mi(s,r,n,a,e[15],10,-30611744),a=mi(a,s,r,n,e[6],15,-1560198380),n=mi(n,a,s,r,e[13],21,1309151649),r=mi(r,n,a,s,e[4],6,-145523070),s=mi(s,r,n,a,e[11],10,-1120210379),a=mi(a,s,r,n,e[2],15,718787259),n=mi(n,a,s,r,e[9],21,-343485551),t[0]=_u(r,t[0]),t[1]=_u(n,t[1]),t[2]=_u(a,t[2]),t[3]=_u(s,t[3])}function Ym(t,e,r,n,a,s){return e=_u(_u(e,t),_u(n,s)),_u(e<<a|e>>>32-a,r)}function fi(t,e,r,n,a,s,c){return Ym(e&r|~e&n,t,e,a,s,c)}function hi(t,e,r,n,a,s,c){return Ym(e&n|r&~n,t,e,a,s,c)}function gi(t,e,r,n,a,s,c){return Ym(e^r^n,t,e,a,s,c)}function mi(t,e,r,n,a,s,c){return Ym(r^(e|~n),t,e,a,s,c)}function s6(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)B2(n,LO(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(B2(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,B2(n,a),n}function LO(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}uh=Mr.atob.bind(Mr),Cx=Mr.btoa.bind(Mr);var Zb="0123456789abcdef".split("");function IO(t){for(var e="",r=0;r<4;r++)e+=Zb[t>>8*r+4&15]+Zb[t>>8*r&15];return e}function DO(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Tx(t){return s6(t).map(DO).join("")}var PO=function(t){for(var e=0;e<t.length;e++)t[e]=IO(t[e]);return t.join("")}(s6("hello"))!="5d41402abc4b2a76b9719d911017c592";function _u(t,e){if(PO){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function jx(t,e){var r,n,a,s;if(t!==r){for(var c=(a=t,s=1+(256/t.length>>0),new Array(s+1).join(a)),h=[],g=0;g<256;g++)h[g]=g;var u=0;for(g=0;g<256;g++){var m=h[g];u=(u+m+c.charCodeAt(g))%256,h[g]=h[u],h[u]=m}r=t,n=h}else h=n;var v=e.length,b=0,_=0,C="";for(g=0;g<v;g++)_=(_+(m=h[b=(b+1)%256]))%256,h[b]=h[_],h[_]=m,c=h[(h[b]+h[_])%256],C+=String.fromCharCode(e.charCodeAt(g)^c);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Jb={print:4,modify:8,copy:16,"annot-forms":32};function Cd(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(h){if(Jb.perm!==void 0)throw new Error("Invalid permission: "+h);a+=Jb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^a)),this.encryptionKey=Tx(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=jx(this.encryptionKey,this.padding)}function Td(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function Qb(t){if(Yn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[r]){var c=e[r][s];try{c[0].apply(t,n)}catch(h){Mr.console&&ca.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function cm(t){if(!(this instanceof cm))return new cm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function i6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function f0(t,e,r,n,a){if(!(this instanceof f0))return new f0(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,i6.call(this,n,a)}function Od(t,e,r,n,a){if(!(this instanceof Od))return new Od(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,i6.call(this,n,a)}function kr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],c=[],h=1,g=16,u="S",m=null;Yn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,s=t.compress||t.compressPdf||s,(m=t.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),h=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(g=t.floatPrecision),u=t.defaultPathOperation||"S"),c=t.filters||(s===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,b={},_={internal:{},__private__:{}};_.__private__.PubSub=Qb;var C="1.3",A=_.__private__.getPdfVersion=function(){return C};_.__private__.setPdfVersion=function(I){C=I};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return j};var L=_.__private__.getPageFormat=function(I){return j[I]};a=a||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},M=D.COMPAT;function X(){this.saveGraphicsState(),ge(new or(Yt,0,0,-Yt,0,js()*Yt).toString()+" cm"),this.setFontSize(this.getFontSize()/Yt),u="n",M=D.ADVANCED}function Q(){this.restoreGraphicsState(),u="S",M=D.COMPAT}var Y=_.__private__.combineFontStyleAndFontWeight=function(I,ue){if(I=="bold"&&ue=="normal"||I=="bold"&&ue==400||I=="normal"&&ue=="italic"||I=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(I=ue==400||ue==="normal"?I==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||I!=="normal"?(ue==700?"bold":ue)+""+I:"bold"),I};_.advancedAPI=function(I){var ue=M===D.COMPAT;return ue&&X.call(this),typeof I!="function"||(I(this),ue&&Q.call(this)),this},_.compatAPI=function(I){var ue=M===D.ADVANCED;return ue&&Q.call(this),typeof I!="function"||(I(this),ue&&X.call(this)),this},_.isAdvancedAPI=function(){return M===D.ADVANCED};var V,H=function(I){if(M!==D.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=_.roundToPrecision=_.__private__.roundToPrecision=function(I,ue){var Le=e||ue;if(isNaN(I)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(Le).replace(/0+$/,"")};V=_.hpf=_.__private__.hpf=typeof g=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return B(I,g)}:g==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return B(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return B(I,16)};var re=_.f2=_.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return B(I,2)},q=_.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return B(I,3)},G=_.scale=_.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return M===D.COMPAT?I*Yt:M===D.ADVANCED?I:void 0},se=function(I){return M===D.COMPAT?js()-I:M===D.ADVANCED?I:void 0},ye=function(I){return G(se(I))};_.__private__.setPrecision=_.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var me,de="00000000000000000000000000000000",we=_.__private__.getFileId=function(){return de},Pe=_.__private__.setFileId=function(I){return de=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(ya=new Cd(m.userPermissions,m.userPassword,m.ownerPassword,de)),de};_.setFileId=function(I){return Pe(I),this},_.getFileId=function(){return we()};var Ae=_.__private__.convertDateToPDFDate=function(I){var ue=I.getTimezoneOffset(),Le=ue<0?"+":"-",We=Math.floor(Math.abs(ue/60)),nt=Math.abs(ue%60),Nt=[Le,J(We),"'",J(nt),"'"].join("");return["D:",I.getFullYear(),J(I.getMonth()+1),J(I.getDate()),J(I.getHours()),J(I.getMinutes()),J(I.getSeconds()),Nt].join("")},ae=_.__private__.convertPDFDateToDate=function(I){var ue=parseInt(I.substr(2,4),10),Le=parseInt(I.substr(6,2),10)-1,We=parseInt(I.substr(8,2),10),nt=parseInt(I.substr(10,2),10),Nt=parseInt(I.substr(12,2),10),Dt=parseInt(I.substr(14,2),10);return new Date(ue,Le,We,nt,Nt,Dt,0)},fe=_.__private__.setCreationDate=function(I){var ue;if(I===void 0&&(I=new Date),I instanceof Date)ue=Ae(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=I}return me=ue},P=_.__private__.getCreationDate=function(I){var ue=me;return I==="jsDate"&&(ue=ae(me)),ue};_.setCreationDate=function(I){return fe(I),this},_.getCreationDate=function(I){return P(I)};var W,J=_.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},te=_.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},le=0,Be=[],Re=[],Me=0,ke=[],ze=[],ut=!1,gt=Re,Ct=function(){le=0,Me=0,Re=[],Be=[],ke=[],Ce=Rn(),Te=Rn()};_.__private__.setCustomOutputDestination=function(I){ut=!0,gt=I};var rt=function(I){ut||(gt=I)};_.__private__.resetCustomOutputDestination=function(){ut=!1,gt=Re};var ge=_.__private__.out=function(I){return I=I.toString(),Me+=I.length+1,gt.push(I),gt},Ve=_.__private__.write=function(I){return ge(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},st=_.__private__.getArrayBuffer=function(I){for(var ue=I.length,Le=new ArrayBuffer(ue),We=new Uint8Array(Le);ue--;)We[ue]=I.charCodeAt(ue);return Le},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Ue};var Je=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(I){return Je=M===D.ADVANCED?I/Yt:I,this};var et,Pt=_.__private__.getFontSize=_.getFontSize=function(){return M===D.COMPAT?Je:Je*Yt},Mt=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(I){return Mt=I,this},_.__private__.getR2L=_.getR2L=function(){return Mt};var Xt,cr=_.__private__.setZoomMode=function(I){var ue=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))et=I;else if(isNaN(I)){if(ue.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');et=I}else et=parseInt(I,10)};_.__private__.getZoomMode=function(){return et};var rr,lr=_.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Xt=I};_.__private__.getPageMode=function(){return Xt};var hr=_.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');rr=I};_.__private__.getLayoutMode=function(){return rr},_.__private__.setDisplayMode=_.setDisplayMode=function(I,ue,Le){return cr(I),hr(ue),lr(Le),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(I){if(Object.keys(Qt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[I]},_.__private__.getDocumentProperties=function(){return Qt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(I){for(var ue in Qt)Qt.hasOwnProperty(ue)&&I[ue]&&(Qt[ue]=I[ue]);return this},_.__private__.setDocumentProperty=function(I,ue){if(Object.keys(Qt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[I]=ue};var Br,Yt,En,ur,Vt,wr={},yr={},Zr=[],Jr={},Hs={},Un={},Lr={},xa=null,jn=0,Ar=[],Hr=new Qb(_),qs=t.hotfixes||[],tn={},Ha={},ys=[],or=function I(ue,Le,We,nt,Nt,Dt){if(!(this instanceof I))return new I(ue,Le,We,nt,Nt,Dt);isNaN(ue)&&(ue=1),isNaN(Le)&&(Le=0),isNaN(We)&&(We=0),isNaN(nt)&&(nt=1),isNaN(Nt)&&(Nt=0),isNaN(Dt)&&(Dt=0),this._matrix=[ue,Le,We,nt,Nt,Dt]};Object.defineProperty(or.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(or.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(or.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(or.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(or.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(or.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(or.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(or.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(or.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(or.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(or.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(or.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(or.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(or.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(or.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(or.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),or.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(I)},or.prototype.multiply=function(I){var ue=I.sx*this.sx+I.shy*this.shx,Le=I.sx*this.shy+I.shy*this.sy,We=I.shx*this.sx+I.sy*this.shx,nt=I.shx*this.shy+I.sy*this.sy,Nt=I.tx*this.sx+I.ty*this.shx+this.tx,Dt=I.tx*this.shy+I.ty*this.sy+this.ty;return new or(ue,Le,We,nt,Nt,Dt)},or.prototype.decompose=function(){var I=this.sx,ue=this.shy,Le=this.shx,We=this.sy,nt=this.tx,Nt=this.ty,Dt=Math.sqrt(I*I+ue*ue),nr=(I/=Dt)*Le+(ue/=Dt)*We;Le-=I*nr,We-=ue*nr;var gr=Math.sqrt(Le*Le+We*We);return nr/=gr,I*(We/=gr)<ue*(Le/=gr)&&(I=-I,ue=-ue,nr=-nr,Dt=-Dt),{scale:new or(Dt,0,0,gr,0,0),translate:new or(1,0,0,1,nt,Nt),rotate:new or(I,ue,-ue,I,0,0),skew:new or(1,0,nr,1,0,0)}},or.prototype.toString=function(I){return this.join(" ")},or.prototype.inversed=function(){var I=this.sx,ue=this.shy,Le=this.shx,We=this.sy,nt=this.tx,Nt=this.ty,Dt=1/(I*We-ue*Le),nr=We*Dt,gr=-ue*Dt,Dr=-Le*Dt,Or=I*Dt;return new or(nr,gr,Dr,Or,-nr*nt-Dr*Nt,-gr*nt-Or*Nt)},or.prototype.applyToPoint=function(I){var ue=I.x*this.sx+I.y*this.shx+this.tx,Le=I.x*this.shy+I.y*this.sy+this.ty;return new Il(ue,Le)},or.prototype.applyToRectangle=function(I){var ue=this.applyToPoint(I),Le=this.applyToPoint(new Il(I.x+I.w,I.y+I.h));return new lc(ue.x,ue.y,Le.x-ue.x,Le.y-ue.y)},or.prototype.clone=function(){var I=this.sx,ue=this.shy,Le=this.shx,We=this.sy,nt=this.tx,Nt=this.ty;return new or(I,ue,Le,We,nt,Nt)},_.Matrix=or;var On=_.matrixMult=function(I,ue){return ue.multiply(I)},hn=new or(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=hn;var sa=function(I,ue){if(!Hs[I]){var Le=(ue instanceof f0?"Sh":"P")+(Object.keys(Jr).length+1).toString(10);ue.id=Le,Hs[I]=Le,Jr[Le]=ue,Hr.publish("addPattern",ue)}};_.ShadingPattern=f0,_.TilingPattern=Od,_.addShadingPattern=function(I,ue){return H("addShadingPattern()"),sa(I,ue),this},_.beginTilingPattern=function(I){H("beginTilingPattern()"),Lo(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},_.endTilingPattern=function(I,ue){H("endTilingPattern()"),ue.stream=ze[W].join(`
`),sa(I,ue),Hr.publish("endTilingPattern",ue),ys.pop().restore()};var rn=_.__private__.newObject=function(){var I=Rn();return he(I,!0),I},Rn=_.__private__.newObjectDeferred=function(){return le++,Be[le]=function(){return Me},le},he=function(I,ue){return ue=typeof ue=="boolean"&&ue,Be[I]=Me,ue&&ge(I+" 0 obj"),I},Ne=_.__private__.newAdditionalObject=function(){var I={objId:Rn(),content:""};return ke.push(I),I},Ce=Rn(),Te=Rn(),Oe=_.__private__.decodeColorString=function(I){var ue=I.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length===5&&(ue[4]==="k"||ue[4]==="K")&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Le=parseFloat(ue[0]);ue=[Le,Le,Le,"r"]}for(var We="#",nt=0;nt<3;nt++)We+=("0"+Math.floor(255*parseFloat(ue[nt])).toString(16)).slice(-2);return We},Fe=_.__private__.encodeColorString=function(I){var ue;typeof I=="string"&&(I={ch1:I});var Le=I.ch1,We=I.ch2,nt=I.ch3,Nt=I.ch4,Dt=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Le=="string"&&Le.charAt(0)!=="#"){var nr=new a6(Le);if(nr.ok)Le=nr.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if(typeof Le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),typeof Le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var gr=parseInt(Le.substr(1),16);Le=gr>>16&255,We=gr>>8&255,nt=255&gr}if(We===void 0||Nt===void 0&&Le===We&&We===nt)if(typeof Le=="string")ue=Le+" "+Dt[0];else switch(I.precision){case 2:ue=re(Le/255)+" "+Dt[0];break;case 3:default:ue=q(Le/255)+" "+Dt[0]}else if(Nt===void 0||Yn(Nt)==="object"){if(Nt&&!isNaN(Nt.a)&&Nt.a===0)return ue=["1.","1.","1.",Dt[1]].join(" ");if(typeof Le=="string")ue=[Le,We,nt,Dt[1]].join(" ");else switch(I.precision){case 2:ue=[re(Le/255),re(We/255),re(nt/255),Dt[1]].join(" ");break;default:case 3:ue=[q(Le/255),q(We/255),q(nt/255),Dt[1]].join(" ")}}else if(typeof Le=="string")ue=[Le,We,nt,Nt,Dt[2]].join(" ");else switch(I.precision){case 2:ue=[re(Le),re(We),re(nt),re(Nt),Dt[2]].join(" ");break;case 3:default:ue=[q(Le),q(We),q(nt),q(Nt),Dt[2]].join(" ")}return ue},it=_.__private__.getFilters=function(){return c},wt=_.__private__.putStream=function(I){var ue=(I=I||{}).data||"",Le=I.filters||it(),We=I.alreadyAppliedFilters||[],nt=I.addLength1||!1,Nt=ue.length,Dt=I.objectId,nr=function(_a){return _a};if(m!==null&&Dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(nr=ya.encryptor(Dt,0));var gr={};Le===!0&&(Le=["FlateEncode"]);var Dr=I.additionalKeyValues||[],Or=(gr=kr.API.processDataByFilters!==void 0?kr.API.processDataByFilters(ue,Le):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(We)?We.join(" "):We.toString());if(gr.data.length!==0&&(Dr.push({key:"Length",value:gr.data.length}),nt===!0&&Dr.push({key:"Length1",value:Nt})),Or.length!=0)if(Or.split("/").length-1==1)Dr.push({key:"Filter",value:Or});else{Dr.push({key:"Filter",value:"["+Or+"]"});for(var nn=0;nn<Dr.length;nn+=1)if(Dr[nn].key==="DecodeParms"){for(var ea=[],Ln=0;Ln<gr.reverseChain.split("/").length-1;Ln+=1)ea.push("null");ea.push(Dr[nn].value),Dr[nn].value="["+ea.join(" ")+"]"}}ge("<<");for(var oa=0;oa<Dr.length;oa++)ge("/"+Dr[oa].key+" "+Dr[oa].value);ge(">>"),gr.data.length!==0&&(ge("stream"),ge(nr(gr.data)),ge("endstream"))},Ze=_.__private__.putPage=function(I){var ue=I.number,Le=I.data,We=I.objId,nt=I.contentsObjId;he(We,!0),ge("<</Type /Page"),ge("/Parent "+I.rootDictionaryObjId+" 0 R"),ge("/Resources "+I.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(V(I.mediaBox.bottomLeftX))+" "+parseFloat(V(I.mediaBox.bottomLeftY))+" "+V(I.mediaBox.topRightX)+" "+V(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ge("/CropBox ["+V(I.cropBox.bottomLeftX)+" "+V(I.cropBox.bottomLeftY)+" "+V(I.cropBox.topRightX)+" "+V(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ge("/BleedBox ["+V(I.bleedBox.bottomLeftX)+" "+V(I.bleedBox.bottomLeftY)+" "+V(I.bleedBox.topRightX)+" "+V(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ge("/TrimBox ["+V(I.trimBox.bottomLeftX)+" "+V(I.trimBox.bottomLeftY)+" "+V(I.trimBox.topRightX)+" "+V(I.trimBox.topRightY)+"]"),I.artBox!==null&&ge("/ArtBox ["+V(I.artBox.bottomLeftX)+" "+V(I.artBox.bottomLeftY)+" "+V(I.artBox.topRightX)+" "+V(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ge("/UserUnit "+I.userUnit),Hr.publish("putPage",{objId:We,pageContext:Ar[ue],pageNumber:ue,page:Le}),ge("/Contents "+nt+" 0 R"),ge(">>"),ge("endobj");var Nt=Le.join(`
`);return M===D.ADVANCED&&(Nt+=`
Q`),he(nt,!0),wt({data:Nt,filters:it(),objectId:nt}),ge("endobj"),We},ft=_.__private__.putPages=function(){var I,ue,Le=[];for(I=1;I<=jn;I++)Ar[I].objId=Rn(),Ar[I].contentsObjId=Rn();for(I=1;I<=jn;I++)Le.push(Ze({number:I,data:ze[I],objId:Ar[I].objId,contentsObjId:Ar[I].contentsObjId,mediaBox:Ar[I].mediaBox,cropBox:Ar[I].cropBox,bleedBox:Ar[I].bleedBox,trimBox:Ar[I].trimBox,artBox:Ar[I].artBox,userUnit:Ar[I].userUnit,rootDictionaryObjId:Ce,resourceDictionaryObjId:Te}));he(Ce,!0),ge("<</Type /Pages");var We="/Kids [";for(ue=0;ue<jn;ue++)We+=Le[ue]+" 0 R ";ge(We+"]"),ge("/Count "+jn),ge(">>"),ge("endobj"),Hr.publish("postPutPages")},mt=function(I){Hr.publish("putFont",{font:I,out:ge,newObject:rn,putStream:wt}),I.isAlreadyPutted!==!0&&(I.objectNumber=rn(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+Td(I.postScriptName)),ge("/Subtype /Type1"),typeof I.encoding=="string"&&ge("/Encoding /"+I.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},Ot=function(){for(var I in wr)wr.hasOwnProperty(I)&&(v===!1||v===!0&&b.hasOwnProperty(I))&&mt(wr[I])},Ut=function(I){I.objectNumber=rn();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[V(I.x),V(I.y),V(I.x+I.width),V(I.y+I.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var Le=I.pages[1].join(`
`);wt({data:Le,additionalKeyValues:ue,objectId:I.objectNumber}),ge("endobj")},Wt=function(){for(var I in tn)tn.hasOwnProperty(I)&&Ut(tn[I])},Gt=function(I,ue){var Le,We=[],nt=1/(ue-1);for(Le=0;Le<1;Le+=nt)We.push(Le);if(We.push(1),I[0].offset!=0){var Nt={offset:0,color:I[0].color};I.unshift(Nt)}if(I[I.length-1].offset!=1){var Dt={offset:1,color:I[I.length-1].color};I.push(Dt)}for(var nr="",gr=0,Dr=0;Dr<We.length;Dr++){for(Le=We[Dr];Le>I[gr+1].offset;)gr++;var Or=I[gr].offset,nn=(Le-Or)/(I[gr+1].offset-Or),ea=I[gr].color,Ln=I[gr+1].color;nr+=te(Math.round((1-nn)*ea[0]+nn*Ln[0]).toString(16))+te(Math.round((1-nn)*ea[1]+nn*Ln[1]).toString(16))+te(Math.round((1-nn)*ea[2]+nn*Ln[2]).toString(16))}return nr.trim()},Kt=function(I,ue){ue||(ue=21);var Le=rn(),We=Gt(I.colors,ue),nt=[];nt.push({key:"FunctionType",value:"0"}),nt.push({key:"Domain",value:"[0.0 1.0]"}),nt.push({key:"Size",value:"["+ue+"]"}),nt.push({key:"BitsPerSample",value:"8"}),nt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wt({data:We,additionalKeyValues:nt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),ge("endobj"),I.objectNumber=rn(),ge("<< /ShadingType "+I.type),ge("/ColorSpace /DeviceRGB");var Nt="/Coords ["+V(parseFloat(I.coords[0]))+" "+V(parseFloat(I.coords[1]))+" ";I.type===2?Nt+=V(parseFloat(I.coords[2]))+" "+V(parseFloat(I.coords[3])):Nt+=V(parseFloat(I.coords[2]))+" "+V(parseFloat(I.coords[3]))+" "+V(parseFloat(I.coords[4]))+" "+V(parseFloat(I.coords[5])),ge(Nt+="]"),I.matrix&&ge("/Matrix ["+I.matrix.toString()+"]"),ge("/Function "+Le+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Nr=function(I,ue){var Le=Rn(),We=rn();ue.push({resourcesOid:Le,objectOid:We}),I.objectNumber=We;var nt=[];nt.push({key:"Type",value:"/Pattern"}),nt.push({key:"PatternType",value:"1"}),nt.push({key:"PaintType",value:"1"}),nt.push({key:"TilingType",value:"1"}),nt.push({key:"BBox",value:"["+I.boundingBox.map(V).join(" ")+"]"}),nt.push({key:"XStep",value:V(I.xStep)}),nt.push({key:"YStep",value:V(I.yStep)}),nt.push({key:"Resources",value:Le+" 0 R"}),I.matrix&&nt.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),wt({data:I.stream,additionalKeyValues:nt,objectId:I.objectNumber}),ge("endobj")},_t=function(I){var ue;for(ue in Jr)Jr.hasOwnProperty(ue)&&(Jr[ue]instanceof f0?Kt(Jr[ue]):Jr[ue]instanceof Od&&Nr(Jr[ue],I))},yn=function(I){for(var ue in I.objectNumber=rn(),ge("<<"),I)switch(ue){case"opacity":ge("/ca "+re(I[ue]));break;case"stroke-opacity":ge("/CA "+re(I[ue]))}ge(">>"),ge("endobj")},Sr=function(){var I;for(I in Un)Un.hasOwnProperty(I)&&yn(Un[I])},qa=function(){for(var I in ge("/XObject <<"),tn)tn.hasOwnProperty(I)&&tn[I].objectNumber>=0&&ge("/"+I+" "+tn[I].objectNumber+" 0 R");Hr.publish("putXobjectDict"),ge(">>")},Di=function(){ya.oid=rn(),ge("<<"),ge("/Filter /Standard"),ge("/V "+ya.v),ge("/R "+ya.r),ge("/U <"+ya.toHexString(ya.U)+">"),ge("/O <"+ya.toHexString(ya.O)+">"),ge("/P "+ya.P),ge(">>"),ge("endobj")},Ur=function(){for(var I in ge("/Font <<"),wr)wr.hasOwnProperty(I)&&(v===!1||v===!0&&b.hasOwnProperty(I))&&ge("/"+I+" "+wr[I].objectNumber+" 0 R");ge(">>")},qr=function(){if(Object.keys(Jr).length>0){for(var I in ge("/Shading <<"),Jr)Jr.hasOwnProperty(I)&&Jr[I]instanceof f0&&Jr[I].objectNumber>=0&&ge("/"+I+" "+Jr[I].objectNumber+" 0 R");Hr.publish("putShadingPatternDict"),ge(">>")}},jr=function(I){if(Object.keys(Jr).length>0){for(var ue in ge("/Pattern <<"),Jr)Jr.hasOwnProperty(ue)&&Jr[ue]instanceof _.TilingPattern&&Jr[ue].objectNumber>=0&&Jr[ue].objectNumber<I&&ge("/"+ue+" "+Jr[ue].objectNumber+" 0 R");Hr.publish("putTilingPatternDict"),ge(">>")}},ws=function(){if(Object.keys(Un).length>0){var I;for(I in ge("/ExtGState <<"),Un)Un.hasOwnProperty(I)&&Un[I].objectNumber>=0&&ge("/"+I+" "+Un[I].objectNumber+" 0 R");Hr.publish("putGStateDict"),ge(">>")}},Jn=function(I){he(I.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ur(),qr(),jr(I.objectOid),ws(),qa(),ge(">>"),ge("endobj")},es=function(){var I=[];Ot(),Sr(),Wt(),_t(I),Hr.publish("putResources"),I.forEach(Jn),Jn({resourcesOid:Te,objectOid:Number.MAX_SAFE_INTEGER}),Hr.publish("postPutResources")},ia=function(){Hr.publish("putAdditionalObjects");for(var I=0;I<ke.length;I++){var ue=ke[I];he(ue.objId,!0),ge(ue.content),ge("endobj")}Hr.publish("postPutAdditionalObjects")},_i=function(I){yr[I.fontName]=yr[I.fontName]||{},yr[I.fontName][I.fontStyle]=I.id},Oo=function(I,ue,Le,We,nt){var Nt={id:"F"+(Object.keys(wr).length+1).toString(10),postScriptName:I,fontName:ue,fontStyle:Le,encoding:We,isStandardFont:nt||!1,metadata:{}};return Hr.publish("addFont",{font:Nt,instance:this}),wr[Nt.id]=Nt,_i(Nt),Nt.id},Qn=function(I){for(var ue=0,Le=Ue.length;ue<Le;ue++){var We=Oo.call(this,I[ue][0],I[ue][1],I[ue][2],Ue[ue][3],!0);v===!1&&(b[We]=!0);var nt=I[ue][0].split("-");_i({id:We,fontName:nt[0],fontStyle:nt[1]||""})}Hr.publish("addFonts",{fonts:wr,dictionary:yr})},va=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(We){var ue=We.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Le="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+We.message;if(!Mr.console)throw new Error(Le);Mr.console.error(Le,We),Mr.alert&&alert(Le)}},I.foo.bar=I,I.foo},kl=function(I,ue){var Le,We,nt,Nt,Dt,nr,gr,Dr,Or;if(nt=(ue=ue||{}).sourceEncoding||"Unicode",Dt=ue.outputEncoding,(ue.autoencode||Dt)&&wr[Br].metadata&&wr[Br].metadata[nt]&&wr[Br].metadata[nt].encoding&&(Nt=wr[Br].metadata[nt].encoding,!Dt&&wr[Br].encoding&&(Dt=wr[Br].encoding),!Dt&&Nt.codePages&&(Dt=Nt.codePages[0]),typeof Dt=="string"&&(Dt=Nt[Dt]),Dt)){for(gr=!1,nr=[],Le=0,We=I.length;Le<We;Le++)(Dr=Dt[I.charCodeAt(Le)])?nr.push(String.fromCharCode(Dr)):nr.push(I[Le]),nr[Le].charCodeAt(0)>>8&&(gr=!0);I=nr.join("")}for(Le=I.length;gr===void 0&&Le!==0;)I.charCodeAt(Le-1)>>8&&(gr=!0),Le--;if(!gr)return I;for(nr=ue.noBOM?[]:[254,255],Le=0,We=I.length;Le<We;Le++){if((Or=(Dr=I.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nr.push(Or),nr.push(Dr-(Or<<8))}return String.fromCharCode.apply(void 0,nr)},Nn=_.__private__.pdfEscape=_.pdfEscape=function(I,ue){return kl(I,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vn=_.__private__.beginPage=function(I){ze[++jn]=[],Ar[jn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},je(jn),rt(ze[W])},Oa=function(I,ue){var Le,We,nt;switch(r=ue||r,typeof I=="string"&&(Le=L(I.toLowerCase()),Array.isArray(Le)&&(We=Le[0],nt=Le[1])),Array.isArray(I)&&(We=I[0]*Yt,nt=I[1]*Yt),isNaN(We)&&(We=a[0],nt=a[1]),(We>14400||nt>14400)&&(ca.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),We=Math.min(14400,We),nt=Math.min(14400,nt)),a=[We,nt],r.substr(0,1)){case"l":nt>We&&(a=[nt,We]);break;case"p":We>nt&&(a=[nt,We])}vn(a),ts(ii),ge(oi),wa!==0&&ge(wa+" J"),oo!==0&&ge(oo+" j"),Hr.publish("addPage",{pageNumber:jn})},ot=function(I){I>0&&I<=jn&&(ze.splice(I,1),Ar.splice(I,1),jn--,W>jn&&(W=jn),this.setPage(W))},je=function(I){I>0&&I<=jn&&(W=I)},xr=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return ze.length-1},ua=function(I,ue,Le){var We,nt=void 0;return Le=Le||{},I=I!==void 0?I:wr[Br].fontName,ue=ue!==void 0?ue:wr[Br].fontStyle,We=I.toLowerCase(),yr[We]!==void 0&&yr[We][ue]!==void 0?nt=yr[We][ue]:yr[I]!==void 0&&yr[I][ue]!==void 0?nt=yr[I][ue]:Le.disableWarning===!1&&ca.warn("Unable to look up font label for font '"+I+"', '"+ue+"'. Refer to getFontList() for available fonts."),nt||Le.noFallback||(nt=yr.times[ue])==null&&(nt=yr.times.normal),nt},Fa=_.__private__.putInfo=function(){var I=rn(),ue=function(We){return We};for(var Le in m!==null&&(ue=ya.encryptor(I,0)),ge("<<"),ge("/Producer ("+Nn(ue("jsPDF "+kr.version))+")"),Qt)Qt.hasOwnProperty(Le)&&Qt[Le]&&ge("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Nn(ue(Qt[Le]))+")");ge("/CreationDate ("+Nn(ue(me))+")"),ge(">>"),ge("endobj")},ic=_.__private__.putCatalog=function(I){var ue=(I=I||{}).rootDictionaryObjId||Ce;switch(rn(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+ue+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+et;Le.substr(Le.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+re(et)+"]")}switch(rr||(rr="continuous"),rr){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}Xt&&ge("/PageMode /"+Xt),Hr.publish("putCatalog"),ge(">>"),ge("endobj")},Ll=_.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(le+1)),ge("/Root "+le+" 0 R"),ge("/Info "+(le-1)+" 0 R"),m!==null&&ge("/Encrypt "+ya.oid+" 0 R"),ge("/ID [ <"+de+"> <"+de+"> ]"),ge(">>")},bs=_.__private__.putHeader=function(){ge("%PDF-"+C),ge("%")},vr=_.__private__.putXRef=function(){var I="0000000000";ge("xref"),ge("0 "+(le+1)),ge("0000000000 65535 f ");for(var ue=1;ue<=le;ue++)typeof Be[ue]=="function"?ge((I+Be[ue]()).slice(-10)+" 00000 n "):Be[ue]!==void 0?ge((I+Be[ue]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},wn=_.__private__.buildDocument=function(){Ct(),rt(Re),Hr.publish("buildDocument"),bs(),ft(),ia(),es(),m!==null&&Di(),Fa(),ic();var I=Me;return vr(),Ll(),ge("startxref"),ge(""+I),ge("%%EOF"),rt(ze[W]),Re.join(`
`)},Jo=_.__private__.getBlob=function(I){return new Blob([st(I)],{type:"application/pdf"})},no=_.output=_.__private__.output=va(function(I,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",I){case void 0:return wn();case"save":_.save(ue.filename);break;case"arraybuffer":return st(wn());case"blob":return Jo(wn());case"bloburi":case"bloburl":if(Mr.URL!==void 0&&typeof Mr.URL.createObjectURL=="function")return Mr.URL&&Mr.URL.createObjectURL(Jo(wn()))||void 0;ca.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",We=wn();try{Le=Cx(We)}catch(Ln){Le=Cx(unescape(encodeURIComponent(We)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mr)==="[object Window]"){var nt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(nt=ue.pdfObjectUrl,Nt="");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nt+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",nr=Mr.open();return nr!==null&&nr.document.write(Dt),nr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mr)==="[object Window]"){var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',Dr=Mr.open();if(Dr!==null){Dr.document.write(gr);var Or=this;Dr.document.documentElement.querySelector("#pdfViewer").onload=function(){Dr.document.title=ue.filename,Dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Or.output("bloburl"))}}return Dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',ea=Mr.open();if(ea!==null&&(ea.document.write(nn),ea.document.title=ue.filename),ea||typeof safari=="undefined")return ea;break;case"datauri":case"dataurl":return Mr.document.location.href=this.output("datauristring",ue);default:return null}}),Ro=function(I){return Array.isArray(qs)===!0&&qs.indexOf(I)>-1};switch(n){case"pt":Yt=1;break;case"mm":Yt=72/25.4;break;case"cm":Yt=72/2.54;break;case"in":Yt=72;break;case"px":Yt=Ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":Yt=12;break;case"ex":Yt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Yt=n}var ya=null;fe(),Pe();var Pi=function(I){return m!==null?ya.encryptor(I,0):function(ue){return ue}},ao=_.__private__.getPageInfo=_.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ar[I].objId,pageNumber:I,pageContext:Ar[I]}},dr=_.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in Ar)if(Ar[ue].objId===I)break;return ao(ue)},so=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Ar[W].objId,pageNumber:W,pageContext:Ar[W]}};_.addPage=function(){return Oa.apply(this,arguments),this},_.setPage=function(){return je.apply(this,arguments),rt.call(this,ze[W]),this},_.insertPage=function(I){return this.addPage(),this.movePage(W,I),this},_.movePage=function(I,ue){var Le,We;if(I>ue){Le=ze[I],We=Ar[I];for(var nt=I;nt>ue;nt--)ze[nt]=ze[nt-1],Ar[nt]=Ar[nt-1];ze[ue]=Le,Ar[ue]=We,this.setPage(ue)}else if(I<ue){Le=ze[I],We=Ar[I];for(var Nt=I;Nt<ue;Nt++)ze[Nt]=ze[Nt+1],Ar[Nt]=Ar[Nt+1];ze[ue]=Le,Ar[ue]=We,this.setPage(ue)}return this},_.deletePage=function(){return ot.apply(this,arguments),this},_.__private__.text=_.text=function(I,ue,Le,We,nt){var Nt,Dt,nr,gr,Dr,Or,nn,ea,Ln,oa=(We=We||{}).scope||this;if(typeof I=="number"&&typeof ue=="number"&&(typeof Le=="string"||Array.isArray(Le))){var _a=Le;Le=ue,ue=I,I=_a}if(arguments[3]instanceof or?(H("The transform parameter of text() with a Matrix value"),Ln=nt):(nr=arguments[4],gr=arguments[5],Yn(nn=arguments[3])==="object"&&nn!==null||(typeof nr=="string"&&(gr=nr,nr=null),typeof nn=="string"&&(gr=nn,nn=null),typeof nn=="number"&&(nr=nn,nn=null),We={flags:nn,angle:nr,align:gr})),isNaN(ue)||isNaN(Le)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return oa;var da="",Ni=!1,ka=typeof We.lineHeightFactor=="number"?We.lineHeightFactor:As,Os=oa.internal.scaleFactor;function fs(cn){return cn=cn.split("	").join(Array(We.TabLen||9).join(" ")),Nn(cn,nn)}function Ui(cn){for(var un,ta=cn.concat(),Ma=[],Hi=ta.length;Hi--;)typeof(un=ta.shift())=="string"?Ma.push(un):Array.isArray(cn)&&(un.length===1||un[1]===void 0&&un[2]===void 0)?Ma.push(un[0]):Ma.push([un[0],un[1],un[2]]);return Ma}function Va(cn,un){var ta;if(typeof cn=="string")ta=un(cn)[0];else if(Array.isArray(cn)){for(var Ma,Hi,Fl=cn.concat(),Ml=[],nl=Fl.length;nl--;)typeof(Ma=Fl.shift())=="string"?Ml.push(un(Ma)[0]):Array.isArray(Ma)&&typeof Ma[0]=="string"&&(Hi=un(Ma[0],Ma[1],Ma[2]),Ml.push([Hi[0],Hi[1],Hi[2]]));ta=Ml}return ta}var Dl=!1,zi=!0;if(typeof I=="string")Dl=!0;else if(Array.isArray(I)){var Pl=I.concat();Dt=[];for(var Do,In=Pl.length;In--;)(typeof(Do=Pl.shift())!="string"||Array.isArray(Do)&&typeof Do[0]!="string")&&(zi=!1);Dl=zi}if(Dl===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Po=Je/oa.internal.scaleFactor,co=Po*(ka-1);switch(We.baseline){case"bottom":Le-=co;break;case"top":Le+=Po-co;break;case"hanging":Le+=Po-2*co;break;case"middle":Le+=Po/2-co}if((Or=We.maxWidth||0)>0&&(typeof I=="string"?I=oa.splitTextToSize(I,Or):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(cn,un){return cn.concat(oa.splitTextToSize(un,Or))},[]))),Nt={text:I,x:ue,y:Le,options:We,mutex:{pdfEscape:Nn,activeFontKey:Br,fonts:wr,activeFontSize:Je}},Hr.publish("preProcessText",Nt),I=Nt.text,nr=(We=Nt.options).angle,!(Ln instanceof or)&&nr&&typeof nr=="number"){nr*=Math.PI/180,We.rotationDirection===0&&(nr=-nr),M===D.ADVANCED&&(nr=-nr);var Si=Math.cos(nr),Xr=Math.sin(nr);Ln=new or(Si,Xr,-Xr,Si,0,0)}else nr&&nr instanceof or&&(Ln=nr);M!==D.ADVANCED||Ln||(Ln=hn),(Dr=We.charSpace||xt)!==void 0&&(da+=V(G(Dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ea=We.horizontalScale)!==void 0&&(da+=V(100*ea)+` Tz
`),We.lang;var rs=-1,oe=We.renderingMode!==void 0?We.renderingMode:We.stroke,l=oa.internal.getCurrentPageInfo().pageContext;switch(oe){case 0:case!1:case"fill":rs=0;break;case 1:case!0:case"stroke":rs=1;break;case 2:case"fillThenStroke":rs=2;break;case 3:case"invisible":rs=3;break;case 4:case"fillAndAddForClipping":rs=4;break;case 5:case"strokeAndAddPathForClipping":rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":rs=6;break;case 7:case"addToPathForClipping":rs=7}var f=l.usedRenderingMode!==void 0?l.usedRenderingMode:-1;rs!==-1?da+=rs+` Tr
`:f!==-1&&(da+=`0 Tr
`),rs!==-1&&(l.usedRenderingMode=rs),gr=We.align||"left";var p,y=Je*ka,w=oa.internal.pageSize.getWidth(),N=wr[Br];Dr=We.charSpace||xt,Or=We.maxWidth||0,nn=Object.assign({autoencode:!0,noBOM:!0},We.flags);var T=[],k=function(cn){return oa.getStringUnitWidth(cn,{font:N,charSpace:Dr,fontSize:Je,doKerning:!1})*Je/Os};if(Object.prototype.toString.call(I)==="[object Array]"){var U;Dt=Ui(I),gr!=="left"&&(p=Dt.map(k));var Z,ie=0;if(gr==="right"){ue-=p[0],I=[],In=Dt.length;for(var xe=0;xe<In;xe++)xe===0?(Z=Ws(ue),U=Mi(Le)):(Z=G(ie-p[xe]),U=-y),I.push([Dt[xe],Z,U]),ie=p[xe]}else if(gr==="center"){ue-=p[0]/2,I=[],In=Dt.length;for(var Ie=0;Ie<In;Ie++)Ie===0?(Z=Ws(ue),U=Mi(Le)):(Z=G((ie-p[Ie])/2),U=-y),I.push([Dt[Ie],Z,U]),ie=p[Ie]}else if(gr==="left"){I=[],In=Dt.length;for(var qe=0;qe<In;qe++)I.push(Dt[qe])}else if(gr==="justify"&&N.encoding==="Identity-H"){I=[],In=Dt.length,Or=Or!==0?Or:w;for(var Ge=0,Qe=0;Qe<In;Qe++)if(U=Qe===0?Mi(Le):-y,Z=Qe===0?Ws(ue):Ge,Qe<In-1){var pt=G((Or-p[Qe])/(Dt[Qe].split(" ").length-1)),Lt=Dt[Qe].split(" ");I.push([Lt[0]+" ",Z,U]),Ge=0;for(var Ht=1;Ht<Lt.length;Ht++){var Bt=(k(Lt[Ht-1]+" "+Lt[Ht])-k(Lt[Ht]))*Os+pt;Ht==Lt.length-1?I.push([Lt[Ht],Bt,0]):I.push([Lt[Ht]+" ",Bt,0]),Ge-=Bt}}else I.push([Dt[Qe],Z,U]);I.push(["",Ge,0])}else{if(gr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],In=Dt.length,Or=Or!==0?Or:w,Qe=0;Qe<In;Qe++)U=Qe===0?Mi(Le):-y,Z=Qe===0?Ws(ue):0,Qe<In-1?T.push(V(G((Or-p[Qe])/(Dt[Qe].split(" ").length-1)))):T.push(0),I.push([Dt[Qe],Z,U])}}var Pr=typeof We.R2L=="boolean"?We.R2L:Mt;Pr===!0&&(I=Va(I,function(cn,un,ta){return[cn.split("").reverse().join(""),un,ta]})),Nt={text:I,x:ue,y:Le,options:We,mutex:{pdfEscape:Nn,activeFontKey:Br,fonts:wr,activeFontSize:Je}},Hr.publish("postProcessText",Nt),I=Nt.text,Ni=Nt.mutex.isHex||!1;var Cr=wr[Br].encoding;Cr!=="WinAnsiEncoding"&&Cr!=="StandardEncoding"||(I=Va(I,function(cn,un,ta){return[fs(cn),un,ta]})),Dt=Ui(I),I=[];for(var Ea,Wa,Na,gn=0,fa=1,La=Array.isArray(Dt[0])?fa:gn,Rs="",li=function(cn,un,ta){var Ma="";return ta instanceof or?(ta=typeof We.angle=="number"?On(ta,new or(1,0,0,1,cn,un)):On(new or(1,0,0,1,cn,un),ta),M===D.ADVANCED&&(ta=On(new or(1,0,0,-1,0,0),ta)),Ma=ta.join(" ")+` Tm
`):Ma=V(cn)+" "+V(un)+` Td
`,Ma},ha=0;ha<Dt.length;ha++){switch(Rs="",La){case fa:Na=(Ni?"<":"(")+Dt[ha][0]+(Ni?">":")"),Ea=parseFloat(Dt[ha][1]),Wa=parseFloat(Dt[ha][2]);break;case gn:Na=(Ni?"<":"(")+Dt[ha]+(Ni?">":")"),Ea=Ws(ue),Wa=Mi(Le)}T!==void 0&&T[ha]!==void 0&&(Rs=T[ha]+` Tw
`),ha===0?I.push(Rs+li(Ea,Wa,Ln)+Na):La===gn?I.push(Rs+Na):La===fa&&I.push(Rs+li(Ea,Wa,Ln)+Na)}I=La===gn?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Gs=`BT
/`;return Gs+=Br+" "+Je+` Tf
`,Gs+=V(Je*ka)+` TL
`,Gs+=Ts+`
`,Gs+=da,Gs+=I,ge(Gs+="ET"),b[Br]=!0,oa};var Ei=_.__private__.clip=_.clip=function(I){return ge(I==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Ei("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ge("n"),this};var fr=_.__private__.isValidStyle=function(I){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ue=!0),ue};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(I){return fr(I)&&(u=I),this};var ai=_.__private__.getStyle=_.getStyle=function(I){var ue=u;switch(I){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=I}return ue},Ir=_.close=function(){return ge("h"),this};_.stroke=function(){return ge("S"),this},_.fill=function(I){return Hn("f",I),this},_.fillEvenOdd=function(I){return Hn("f*",I),this},_.fillStroke=function(I){return Hn("B",I),this},_.fillStrokeEvenOdd=function(I){return Hn("B*",I),this};var Hn=function(I,ue){Yn(ue)==="object"?el(ue,I):ge(I)},si=function(I){I===null||M===D.ADVANCED&&I===void 0||(I=ai(I),ge(I))};function Qo(I,ue,Le,We,nt){var Nt=new Od(ue||this.boundingBox,Le||this.xStep,We||this.yStep,this.gState,nt||this.matrix);Nt.stream=this.stream;var Dt=I+"$$"+this.cloneIndex+++"$$";return sa(Dt,Nt),Nt}var el=function(I,ue){var Le=Hs[I.key],We=Jr[Le];if(We instanceof f0)ge("q"),ge(Fi(ue)),We.gState&&_.setGState(We.gState),ge(I.matrix.toString()+" cm"),ge("/"+Le+" sh"),ge("Q");else if(We instanceof Od){var nt=new or(1,0,0,-1,0,js());I.matrix&&(nt=nt.multiply(I.matrix||hn),Le=Qo.call(We,I.key,I.boundingBox,I.xStep,I.yStep,nt).id),ge("q"),ge("/Pattern cs"),ge("/"+Le+" scn"),We.gState&&_.setGState(We.gState),ge(ue),ge("Q")}},Fi=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ko=_.moveTo=function(I,ue){return ge(V(G(I))+" "+V(ye(ue))+" m"),this},Ss=_.lineTo=function(I,ue){return ge(V(G(I))+" "+V(ye(ue))+" l"),this},Vs=_.curveTo=function(I,ue,Le,We,nt,Nt){return ge([V(G(I)),V(ye(ue)),V(G(Le)),V(ye(We)),V(G(nt)),V(ye(Nt)),"c"].join(" ")),this};_.__private__.line=_.line=function(I,ue,Le,We,nt){if(isNaN(I)||isNaN(ue)||isNaN(Le)||isNaN(We)||!fr(nt))throw new Error("Invalid arguments passed to jsPDF.line");return M===D.COMPAT?this.lines([[Le-I,We-ue]],I,ue,[1,1],nt||"S"):this.lines([[Le-I,We-ue]],I,ue,[1,1]).stroke()},_.__private__.lines=_.lines=function(I,ue,Le,We,nt,Nt){var Dt,nr,gr,Dr,Or,nn,ea,Ln,oa,_a,da,Ni;if(typeof I=="number"&&(Ni=Le,Le=ue,ue=I,I=Ni),We=We||[1,1],Nt=Nt||!1,isNaN(ue)||isNaN(Le)||!Array.isArray(I)||!Array.isArray(We)||!fr(nt)||typeof Nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ko(ue,Le),Dt=We[0],nr=We[1],Dr=I.length,_a=ue,da=Le,gr=0;gr<Dr;gr++)(Or=I[gr]).length===2?(_a=Or[0]*Dt+_a,da=Or[1]*nr+da,Ss(_a,da)):(nn=Or[0]*Dt+_a,ea=Or[1]*nr+da,Ln=Or[2]*Dt+_a,oa=Or[3]*nr+da,_a=Or[4]*Dt+_a,da=Or[5]*nr+da,Vs(nn,ea,Ln,oa,_a,da));return Nt&&Ir(),si(nt),this},_.path=function(I){for(var ue=0;ue<I.length;ue++){var Le=I[ue],We=Le.c;switch(Le.op){case"m":ko(We[0],We[1]);break;case"l":Ss(We[0],We[1]);break;case"c":Vs.apply(this,We);break;case"h":Ir()}}return this},_.__private__.rect=_.rect=function(I,ue,Le,We,nt){if(isNaN(I)||isNaN(ue)||isNaN(Le)||isNaN(We)||!fr(nt))throw new Error("Invalid arguments passed to jsPDF.rect");return M===D.COMPAT&&(We=-We),ge([V(G(I)),V(ye(ue)),V(G(Le)),V(G(We)),"re"].join(" ")),si(nt),this},_.__private__.triangle=_.triangle=function(I,ue,Le,We,nt,Nt,Dt){if(isNaN(I)||isNaN(ue)||isNaN(Le)||isNaN(We)||isNaN(nt)||isNaN(Nt)||!fr(Dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-I,We-ue],[nt-Le,Nt-We],[I-nt,ue-Nt]],I,ue,[1,1],Dt,!0),this},_.__private__.roundedRect=_.roundedRect=function(I,ue,Le,We,nt,Nt,Dt){if(isNaN(I)||isNaN(ue)||isNaN(Le)||isNaN(We)||isNaN(nt)||isNaN(Nt)||!fr(Dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nr=4/3*(Math.SQRT2-1);return nt=Math.min(nt,.5*Le),Nt=Math.min(Nt,.5*We),this.lines([[Le-2*nt,0],[nt*nr,0,nt,Nt-Nt*nr,nt,Nt],[0,We-2*Nt],[0,Nt*nr,-nt*nr,Nt,-nt,Nt],[2*nt-Le,0],[-nt*nr,0,-nt,-Nt*nr,-nt,-Nt],[0,2*Nt-We],[0,-Nt*nr,nt*nr,-Nt,nt,-Nt]],I+nt,ue,[1,1],Dt,!0),this},_.__private__.ellipse=_.ellipse=function(I,ue,Le,We,nt){if(isNaN(I)||isNaN(ue)||isNaN(Le)||isNaN(We)||!fr(nt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*Le,Dt=4/3*(Math.SQRT2-1)*We;return ko(I+Le,ue),Vs(I+Le,ue-Dt,I+Nt,ue-We,I,ue-We),Vs(I-Nt,ue-We,I-Le,ue-Dt,I-Le,ue),Vs(I-Le,ue+Dt,I-Nt,ue+We,I,ue+We),Vs(I+Nt,ue+We,I+Le,ue+Dt,I+Le,ue),si(nt),this},_.__private__.circle=_.circle=function(I,ue,Le,We){if(isNaN(I)||isNaN(ue)||isNaN(Le)||!fr(We))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ue,Le,Le,We)},_.setFont=function(I,ue,Le){return Le&&(ue=Y(ue,Le)),Br=ua(I,ue,{disableWarning:!1}),this};var Ra=_.__private__.getFont=_.getFont=function(){return wr[ua.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var I,ue,Le={};for(I in yr)if(yr.hasOwnProperty(I))for(ue in Le[I]=[],yr[I])yr[I].hasOwnProperty(ue)&&Le[I].push(ue);return Le},_.addFont=function(I,ue,Le,We,nt){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nt.indexOf(arguments[3])!==-1?nt=arguments[3]:arguments[3]&&Nt.indexOf(arguments[3])==-1&&(Le=Y(Le,We)),nt=nt||"Identity-H",Oo.call(this,I,ue,Le,nt)};var As,ii=t.lineWidth||.200025,Cs=_.__private__.getLineWidth=_.getLineWidth=function(){return ii},ts=_.__private__.setLineWidth=_.setLineWidth=function(I){return ii=I,ge(V(G(I))+" w"),this};_.__private__.setLineDash=kr.API.setLineDash=kr.API.setLineDashPattern=function(I,ue){if(I=I||[],ue=ue||0,isNaN(ue)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(Le){return V(G(Le))}).join(" "),ue=V(G(ue)),ge("["+I+"] "+ue+" d"),this};var tl=_.__private__.getLineHeight=_.getLineHeight=function(){return Je*As};_.__private__.getLineHeight=_.getLineHeight=function(){return Je*As};var rl=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(As=I),this},io=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return As};rl(t.lineHeight);var Ws=_.__private__.getHorizontalCoordinate=function(I){return G(I)},Mi=_.__private__.getVerticalCoordinate=function(I){return M===D.ADVANCED?I:Ar[W].mediaBox.topRightY-Ar[W].mediaBox.bottomLeftY-G(I)},Iu=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(I){return V(Ws(I))},ln=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(I){return V(Mi(I))},oi=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Oe(oi)},_.__private__.setStrokeColor=_.setDrawColor=function(I,ue,Le,We){return oi=Fe({ch1:I,ch2:ue,ch3:Le,ch4:We,pdfColorType:"draw",precision:2}),ge(oi),this};var Bi=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Oe(Bi)},_.__private__.setFillColor=_.setFillColor=function(I,ue,Le,We){return Bi=Fe({ch1:I,ch2:ue,ch3:Le,ch4:We,pdfColorType:"fill",precision:2}),ge(Bi),this};var Ts=t.textColor||"0 g",Du=_.__private__.getTextColor=_.getTextColor=function(){return Oe(Ts)};_.__private__.setTextColor=_.setTextColor=function(I,ue,Le,We){return Ts=Fe({ch1:I,ch2:ue,ch3:Le,ch4:We,pdfColorType:"text",precision:3}),this};var xt=t.charSpace,Wr=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(xt||0)};_.__private__.setCharSpace=_.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xt=I,this};var wa=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(I){var ue=_.CapJoinStyles[I];if(ue===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wa=ue,ge(ue+" J"),this};var oo=0;_.__private__.setLineJoin=_.setLineJoin=function(I){var ue=_.CapJoinStyles[I];if(ue===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oo=ue,ge(ue+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(V(G(I))+" M"),this},_.GState=cm,_.setGState=function(I){(I=typeof I=="string"?Un[Lr[I]]:oc(null,I)).equals(xa)||(ge("/"+I.id+" gs"),xa=I)};var oc=function(I,ue){if(!I||!Lr[I]){var Le=!1;for(var We in Un)if(Un.hasOwnProperty(We)&&Un[We].equals(ue)){Le=!0;break}if(Le)ue=Un[We];else{var nt="GS"+(Object.keys(Un).length+1).toString(10);Un[nt]=ue,ue.id=nt}return I&&(Lr[I]=ue.id),Hr.publish("addGState",ue),ue}};_.addGState=function(I,ue){return oc(I,ue),this},_.saveGraphicsState=function(){return ge("q"),Zr.push({key:Br,size:Je,color:Ts}),this},_.restoreGraphicsState=function(){ge("Q");var I=Zr.pop();return Br=I.key,Je=I.size,Ts=I.color,xa=null,this},_.setCurrentTransformationMatrix=function(I){return ge(I.toString()+" cm"),this},_.comment=function(I){return ge("#"+I),this};var Il=function(I,ue){var Le=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Nt){isNaN(Nt)||(Le=parseFloat(Nt))}});var We=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return We},set:function(Nt){isNaN(Nt)||(We=parseFloat(Nt))}});var nt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nt},set:function(Nt){nt=Nt.toString()}}),this},lc=function(I,ue,Le,We){Il.call(this,I,ue),this.type="rect";var nt=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nt},set:function(Dt){isNaN(Dt)||(nt=parseFloat(Dt))}});var Nt=We||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(Dt){isNaN(Dt)||(Nt=parseFloat(Dt))}}),this},cc=function(){this.page=jn,this.currentPage=W,this.pages=ze.slice(0),this.pagesContext=Ar.slice(0),this.x=En,this.y=ur,this.matrix=Vt,this.width=kn(W),this.height=js(W),this.outputDestination=gt,this.id="",this.objectNumber=-1};cc.prototype.restore=function(){jn=this.page,W=this.currentPage,Ar=this.pagesContext,ze=this.pages,En=this.x,ur=this.y,Vt=this.matrix,lo(W,this.width),bn(W,this.height),gt=this.outputDestination};var Lo=function(I,ue,Le,We,nt){ys.push(new cc),jn=W=0,ze=[],En=I,ur=ue,Vt=nt,vn([Le,We])},ba=function(I){if(Ha[I])ys.pop().restore();else{var ue=new cc,Le="Xo"+(Object.keys(tn).length+1).toString(10);ue.id=Le,Ha[I]=Le,tn[Le]=ue,Hr.publish("addFormObject",ue),ys.pop().restore()}};for(var Io in _.beginFormObject=function(I,ue,Le,We,nt){return Lo(I,ue,Le,We,nt),this},_.endFormObject=function(I){return ba(I),this},_.doFormObject=function(I,ue){var Le=tn[Ha[I]];return ge("q"),ge(ue.toString()+" cm"),ge("/"+Le.id+" Do"),ge("Q"),this},_.getFormObject=function(I){var ue=tn[Ha[I]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},_.save=function(I,ue){return I=I||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(u0(Jo(wn()),I),typeof u0.unload=="function"&&Mr.setTimeout&&setTimeout(u0.unload,911),this):new Promise(function(Le,We){try{var nt=u0(Jo(wn()),I);typeof u0.unload=="function"&&Mr.setTimeout&&setTimeout(u0.unload,911),Le(nt)}catch(Nt){We(Nt.message)}})},kr.API)kr.API.hasOwnProperty(Io)&&(Io==="events"&&kr.API.events.length?function(I,ue){var Le,We,nt;for(nt=ue.length-1;nt!==-1;nt--)Le=ue[nt][0],We=ue[nt][1],I.subscribe.apply(I,[Le].concat(typeof We=="function"?[We]:We))}(Hr,kr.API.events):_[Io]=kr.API[Io]);var kn=_.getPageWidth=function(I){return(Ar[I=I||W].mediaBox.topRightX-Ar[I].mediaBox.bottomLeftX)/Yt},lo=_.setPageWidth=function(I,ue){Ar[I].mediaBox.topRightX=ue*Yt+Ar[I].mediaBox.bottomLeftX},js=_.getPageHeight=function(I){return(Ar[I=I||W].mediaBox.topRightY-Ar[I].mediaBox.bottomLeftY)/Yt},bn=_.setPageHeight=function(I,ue){Ar[I].mediaBox.topRightY=ue*Yt+Ar[I].mediaBox.bottomLeftY};return _.internal={pdfEscape:Nn,getStyle:ai,getFont:Ra,getFontSize:Pt,getCharSpace:Wr,getTextColor:Du,getLineHeight:tl,getLineHeightFactor:io,getLineWidth:Cs,write:Ve,getHorizontalCoordinate:Ws,getVerticalCoordinate:Mi,getCoordinateString:Iu,getVerticalCoordinateString:ln,collections:{},newObject:rn,newAdditionalObject:Ne,newObjectDeferred:Rn,newObjectDeferredBegin:he,getFilters:it,putStream:wt,events:Hr,scaleFactor:Yt,pageSize:{getWidth:function(){return kn(W)},setWidth:function(I){lo(W,I)},getHeight:function(){return js(W)},setHeight:function(I){bn(W,I)}},encryptionOptions:m,encryption:ya,getEncryptor:Pi,output:no,getNumberOfPages:xr,pages:ze,out:ge,f2:re,f3:q,getPageInfo:ao,getPageInfoByObjId:dr,getCurrentPageInfo:so,getPDFVersion:A,Point:Il,Rectangle:lc,Matrix:or,hasHotfix:Ro},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return kn(W)},set:function(I){lo(W,I)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return js(W)},set:function(I){bn(W,I)},enumerable:!0,configurable:!0}),Qn.call(_,Ue),Br="F1",Oa(a,r),Hr.publish("initialized"),_}Cd.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Cd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cd.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Cd.prototype.processOwnerPassword=function(t,e){return jx(Tx(e).substr(0,5),t)},Cd.prototype.encryptor=function(t,e){var r=Tx(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return jx(r,n)}},cm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Yn(t)!==Yn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},kr.API={events:[]},kr.version="3.0.1";var Ka=kr.API,hv=1,N0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},md=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$r=function(t){return t.toFixed(2)},xu=function(t){return t.toFixed(5)};Ka.__acroform__={};var ro=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},e4=function(t){return t*hv},Jl=function(t){var e=new l6,r=pr.internal.getHeight(t)||0,n=pr.internal.getWidth(t)||0;return e.BBox=[0,0,Number($r(n)),Number($r(r))],e},FO=Ka.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},MO=Ka.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},BO=Ka.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},ls=Ka.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BO(t,e-1)},cs=Ka.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return FO(t,e-1)},us=Ka.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return MO(t,e-1)},UO=Ka.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],s=t[1],c=t[2],h=t[3],g={};return g.lowerLeft_X=r(a)||0,g.lowerLeft_Y=n(s+h)||0,g.upperRight_X=r(a+c)||0,g.upperRight_Y=n(s)||0,[Number($r(g.lowerLeft_X)),Number($r(g.lowerLeft_Y)),Number($r(g.upperRight_X)),Number($r(g.upperRight_Y))]},zO=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Ox(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+$r(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Jl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Ox=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(q){return q.split(`
`)}):a.map(function(q){return[q]});var s=r,c=pr.internal.getHeight(t)||0;c=c<0?-c:c;var h=pr.internal.getWidth(t)||0;h=h<0?-h:h;var g=function(q,G,se){if(q+1<a.length){var ye=G+" "+a[q+1][0];return K1(ye,t,se).width<=h-4}return!1};s++;e:for(;s>0;){e="",s--;var u,m,v=K1("3",t,s).height,b=t.multiline?c-s:(c-v)/2,_=b+=2,C=0,A=0,j=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+K1(e,t,s=12).width+", FieldWidth:"+h+`
`;break}for(var L="",D=0,M=0;M<a.length;M++)if(a.hasOwnProperty(M)){var X=!1;if(a[M].length!==1&&j!==a[M].length-1){if((v+2)*(D+2)+2>c)continue e;L+=a[M][j],X=!0,A=M,M--}else{L=(L+=a[M][j]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var Q=parseInt(M),Y=g(Q,L,s),V=M>=a.length-1;if(Y&&!V){L+=" ",j=0;continue}if(Y||V){if(V)A=Q;else if(t.multiline&&(v+2)*(D+2)+2>c)continue e}else{if(!t.multiline||(v+2)*(D+2)+2>c)continue e;A=Q}}for(var H="",B=C;B<=A;B++){var re=a[B];if(t.multiline){if(B===A){H+=re[j]+" ",j=(j+1)%re.length;continue}if(B===C){H+=re[re.length-1]+" ";continue}}H+=re[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,m=K1(H,t,s).width,t.textAlign){case"right":u=h-m-2;break;case"center":u=(h-m)/2;break;case"left":default:u=2}e+=$r(u)+" "+$r(_)+` Td
`,e+="("+N0(H)+`) Tj
`,e+=-$r(u)+` 0 Td
`,_=-(s+2),m=0,C=X?A:A+1,D++,L=""}break}return n.text=e,n.fontSize=s,n},K1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},HO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qO=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},VO=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Yn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},WO=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ol.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(HO)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new c6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&qO(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var h=n[c],g=[],u=h.Rect;if(h.Rect&&(h.Rect=UO(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=pr.createDefaultAppearanceStream(h),Yn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(g=h.getKeyValueListForStream()),h.Rect=u,h.hasAppearanceStream&&!h.appearanceStreamContent){var m=zO(h);g.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(h.appearanceStreamContent){var v="";for(var b in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(b)){var _=h.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var C=_[c];typeof C=="function"&&(C=C.call(a,h)),v+="/"+c+" "+C+" ",a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C)}}else typeof(C=_)=="function"&&(C=C.call(a,h)),v+="/"+c+" "+C,a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C);v+=">>"}g.push({key:"AP",value:`<<
`+v+">>"})}a.internal.putStream({additionalKeyValues:g,objectId:h.objId}),a.internal.out("endobj")}s&&VO(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},o6=Ka.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(c){return c};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),Yn(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+N0(n(t[s].toString()))+")"):a+=t[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},U2=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+N0(n(t))+")"},tc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tc.prototype.toString=function(){return this.objId+" 0 R"},tc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},tc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:o6(a,this.objId,this.scope)}):a instanceof tc?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var l6=function(){tc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ro(l6,tc);var c6=function(){tc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+N0(r(t))+")"}},set:function(r){t=r}})};ro(c6,tc);var Ol=function t(){tc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ls(e,3)},set:function(L){L?this.F=cs(e,3):this.F=us(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');r=L}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(L){n=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(L){n[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(L){n[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(L){n[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(L){n[3]=L}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof um)return;s="FieldObject"+t.FieldNum++}var L=function(D){return D};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+N0(L(s))+")"},set:function(L){s=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(L){s=L}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(L){g=L}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/hv:u},set:function(L){u=L}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(L){m=L}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof um||this instanceof p0))return U2(v,this.objId,this.scope)},set:function(L){L=L.toString(),v=L}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ms?b:U2(b,this.objId,this.scope)},set:function(L){L=L.toString(),b=this instanceof Ms?L:L.substr(0,1)==="("?md(L.substr(1,L.length-2)):md(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ms?md(b.substr(1,b.length-1)):b},set:function(L){L=L.toString(),b=this instanceof Ms?"/"+L:L}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ms?_:U2(_,this.objId,this.scope)},set:function(L){L=L.toString(),_=this instanceof Ms?L:L.substr(0,1)==="("?md(L.substr(1,L.length-2)):md(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ms?md(_.substr(1,_.length-1)):_},set:function(L){L=L.toString(),_=this instanceof Ms?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(L){L=!!L,A=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(L){C=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,1)},set:function(L){L?this.Ff=cs(this.Ff,1):this.Ff=us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,2)},set:function(L){L?this.Ff=cs(this.Ff,2):this.Ff=us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,3)},set:function(L){L?this.Ff=cs(this.Ff,3):this.Ff=us(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');j=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(j){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};ro(Ol,tc);var Ld=function(){Ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return o6(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,c,h){h||(h=1);for(var g,u=[];g=c.exec(s);)u.push(g[h]);return u}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,18)},set:function(r){r?this.Ff=cs(this.Ff,18):this.Ff=us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=cs(this.Ff,19):this.Ff=us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,20)},set:function(r){r?(this.Ff=cs(this.Ff,20),e.sort()):this.Ff=us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,22)},set:function(r){r?this.Ff=cs(this.Ff,22):this.Ff=us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,23)},set:function(r){r?this.Ff=cs(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,27)},set:function(r){r?this.Ff=cs(this.Ff,27):this.Ff=us(this.Ff,27)}}),this.hasAppearanceStream=!1};ro(Ld,Ol);var Id=function(){Ld.call(this),this.fontName="helvetica",this.combo=!1};ro(Id,Ld);var Dd=function(){Id.call(this),this.combo=!0};ro(Dd,Id);var Jg=function(){Dd.call(this),this.edit=!0};ro(Jg,Dd);var Ms=function(){Ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,15)},set:function(r){r?this.Ff=cs(this.Ff,15):this.Ff=us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,16)},set:function(r){r?this.Ff=cs(this.Ff,16):this.Ff=us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,17)},set:function(r){r?this.Ff=cs(this.Ff,17):this.Ff=us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,26)},set:function(r){r?this.Ff=cs(this.Ff,26):this.Ff=us(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+N0(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Yn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ro(Ms,Ol);var Qg=function(){Ms.call(this),this.pushButton=!0};ro(Qg,Ms);var Pd=function(){Ms.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ro(Pd,Ms);var um=function(){var t,e;Ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),n)c.push("/"+s+" ("+N0(a(n[s]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Yn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ro(um,Ol),Pd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Pd.prototype.createOption=function(t){var e=new um;return e.Parent=this,e.optionName=t,this.Kids.push(e),GO.call(this.scope,e),e};var em=function(){Ms.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pr.CheckBox.createAppearanceStream()};ro(em,Ms);var p0=function(){Ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,13)},set:function(e){e?this.Ff=cs(this.Ff,13):this.Ff=us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,21)},set:function(e){e?this.Ff=cs(this.Ff,21):this.Ff=us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,23)},set:function(e){e?this.Ff=cs(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,24)},set:function(e){e?this.Ff=cs(this.Ff,24):this.Ff=us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,25)},set:function(e){e?this.Ff=cs(this.Ff,25):this.Ff=us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,26)},set:function(e){e?this.Ff=cs(this.Ff,26):this.Ff=us(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ro(p0,Ol);var tm=function(){p0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,14)},set:function(t){t?this.Ff=cs(this.Ff,14):this.Ff=us(this.Ff,14)}}),this.password=!0};ro(tm,p0);var pr={CheckBox:{createAppearanceStream:function(){return{N:{On:pr.CheckBox.YesNormal},D:{On:pr.CheckBox.YesPushDown,Off:pr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=Ox(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+$r(pr.internal.getWidth(t))+" "+$r(pr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+$r(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],s=pr.internal.getHeight(t),c=pr.internal.getWidth(t),h=Ox(t,t.caption);return a.push("1 g"),a.push("0 0 "+$r(c)+" "+$r(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+$r(c-1)+" "+$r(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+$r(h.fontSize)+" Tf "+n),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$r(pr.internal.getWidth(t))+" "+$r(pr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:pr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=pr.RadioButton.Circle.YesNormal,e.D[t]=pr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=pr.internal.getWidth(t)<=pr.internal.getHeight(t)?pr.internal.getWidth(t)/4:pr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=pr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xu(pr.internal.getWidth(t)/2)+" "+xu(pr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=pr.internal.getWidth(t)<=pr.internal.getHeight(t)?pr.internal.getWidth(t)/4:pr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*pr.internal.Bezier_C).toFixed(5)),c=Number((n*pr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xu(pr.internal.getWidth(t)/2)+" "+xu(pr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xu(pr.internal.getWidth(t)/2)+" "+xu(pr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=pr.internal.getWidth(t)<=pr.internal.getHeight(t)?pr.internal.getWidth(t)/4:pr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*pr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xu(pr.internal.getWidth(t)/2)+" "+xu(pr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:pr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=pr.RadioButton.Cross.YesNormal,e.D[t]=pr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Jl(t);e.scope=t.scope;var r=[],n=pr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+$r(pr.internal.getWidth(t)-2)+" "+$r(pr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push($r(n.x1.x)+" "+$r(n.x1.y)+" m"),r.push($r(n.x2.x)+" "+$r(n.x2.y)+" l"),r.push($r(n.x4.x)+" "+$r(n.x4.y)+" m"),r.push($r(n.x3.x)+" "+$r(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=pr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+$r(pr.internal.getWidth(t))+" "+$r(pr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+$r(pr.internal.getWidth(t)-2)+" "+$r(pr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push($r(r.x1.x)+" "+$r(r.x1.y)+" m"),n.push($r(r.x2.x)+" "+$r(r.x2.y)+" l"),n.push($r(r.x4.x)+" "+$r(r.x4.y)+" m"),n.push($r(r.x3.x)+" "+$r(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Jl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$r(pr.internal.getWidth(t))+" "+$r(pr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};pr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=pr.internal.getWidth(t),r=pr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},pr.internal.getWidth=function(t){var e=0;return Yn(t)==="object"&&(e=e4(t.Rect[2])),e},pr.internal.getHeight=function(t){var e=0;return Yn(t)==="object"&&(e=e4(t.Rect[3])),e};var GO=Ka.addField=function(t){if(WO(this,t),!(t instanceof Ol))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ka.AcroFormChoiceField=Ld,Ka.AcroFormListBox=Id,Ka.AcroFormComboBox=Dd,Ka.AcroFormEditBox=Jg,Ka.AcroFormButton=Ms,Ka.AcroFormPushButton=Qg,Ka.AcroFormRadioButton=Pd,Ka.AcroFormCheckBox=em,Ka.AcroFormTextField=p0,Ka.AcroFormPasswordField=tm,Ka.AcroFormAppearance=pr,Ka.AcroForm={ChoiceField:Ld,ListBox:Id,ComboBox:Dd,EditBox:Jg,Button:Ms,PushButton:Qg,RadioButton:Pd,CheckBox:em,TextField:p0,PasswordField:tm,Appearance:pr},kr.AcroForm={ChoiceField:Ld,ListBox:Id,ComboBox:Dd,EditBox:Jg,Button:Ms,PushButton:Qg,RadioButton:Pd,CheckBox:em,TextField:p0,PasswordField:tm,Appearance:pr};kr.AcroForm;function u6(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(q,G){var se,ye,me,de,we,Pe=e;if((G=G||e)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(Y(q))for(we in r)for(me=r[we],se=0;se<me.length;se+=1){for(de=!0,ye=0;ye<me[se].length;ye+=1)if(me[se][ye]!==void 0&&me[se][ye]!==q[ye]){de=!1;break}if(de===!0){Pe=we;break}}else for(we in r)for(me=r[we],se=0;se<me.length;se+=1){for(de=!0,ye=0;ye<me[se].length;ye+=1)if(me[se][ye]!==void 0&&me[se][ye]!==q.charCodeAt(ye)){de=!1;break}if(de===!0){Pe=we;break}}return Pe===e&&G!==e&&(Pe=G),Pe},a=function q(G){for(var se=this.internal.write,ye=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:G.width}),de.push({key:"Height",value:G.height}),G.colorSpace===j.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===j.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var we="",Pe=0,Ae=G.transparency.length;Pe<Ae;Pe++)we+=G.transparency[Pe]+" "+G.transparency[Pe]+" ";de.push({key:"Mask",value:"["+we+"]"})}G.sMask!==void 0&&de.push({key:"SMask",value:G.objectId+1+" 0 R"});var ae=G.filter!==void 0?["/"+G.filter]:void 0;if(ye({data:G.data,additionalKeyValues:de,alreadyAppliedFilters:ae,objectId:G.objectId}),se("endobj"),"sMask"in G&&G.sMask!==void 0){var fe="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,P={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:fe,data:G.sMask};"filter"in G&&(P.filter=G.filter),q.call(this,P)}if(G.colorSpace===j.INDEXED){var W=this.internal.newObject();ye({data:H(new Uint8Array(G.palette)),objectId:W}),se("endobj")}},s=function(){var q=this.internal.collections.addImage_images;for(var G in q)a.call(this,q[G])},c=function(){var q,G=this.internal.collections.addImage_images,se=this.internal.write;for(var ye in G)se("/I"+(q=G[ye]).index,q.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",c))},g=function(){var q=this.internal.collections.addImage_images;return h.call(this),q},u=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(q){return typeof t["process"+q.toUpperCase()]=="function"},v=function(q){return Yn(q)==="object"&&q.nodeType===1},b=function(q,G){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var se=""+q.getAttribute("src");if(se.indexOf("data:image/")===0)return uh(unescape(se).split("base64,").pop());var ye=t.loadFile(se,!0);if(ye!==void 0)return ye}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var me;switch(G){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return uh(q.toDataURL(me,1).split("base64,").pop())}},_=function(q){var G=this.internal.collections.addImage_images;if(G){for(var se in G)if(q===G[se].alias)return G[se]}},C=function(q,G,se){return q||G||(q=-96,G=-96),q<0&&(q=-1*se.width*72/q/this.internal.scaleFactor),G<0&&(G=-1*se.height*72/G/this.internal.scaleFactor),q===0&&(q=G*se.width/se.height),G===0&&(G=q*se.height/se.width),[q,G]},A=function(q,G,se,ye,me,de){var we=C.call(this,se,ye,me),Pe=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,ae=g.call(this);if(se=we[0],ye=we[1],ae[me.index]=me,de){de*=Math.PI/180;var fe=Math.cos(de),P=Math.sin(de),W=function(te){return te.toFixed(4)},J=[W(fe),W(P),W(-1*P),W(fe),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,Pe(q),Ae(G+ye),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Pe(se),"0","0",Pe(ye),"0","0","cm"].join(" "))):this.internal.write([Pe(se),"0","0",Pe(ye),Pe(q),Ae(G+ye),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(q){var G,se,ye=0;if(typeof q=="string")for(se=q.length,G=0;G<se;G++)ye=(ye<<5)-ye+q.charCodeAt(G),ye|=0;else if(Y(q))for(se=q.byteLength/2,G=0;G<se;G++)ye=(ye<<5)-ye+q[G],ye|=0;return ye},M=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var G=!0;return q.length===0&&(G=!1),q.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(G=!1),G},X=t.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var G=q.indexOf(",");return G<0?null:q.substring(0,G).trim().endsWith("base64")?q.substring(G+1):null},Q=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};t.__addimage__.isArrayBuffer=function(q){return Q()&&q instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(q){return Q()&&typeof Uint32Array!="undefined"&&(q instanceof Int8Array||q instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)},V=t.__addimage__.binaryStringToUint8Array=function(q){for(var G=q.length,se=new Uint8Array(G),ye=0;ye<G;ye++)se[ye]=q.charCodeAt(ye);return se},H=t.__addimage__.arrayBufferToBinaryString=function(q){for(var G="",se=Y(q)?q:new Uint8Array(q),ye=0;ye<se.length;ye+=8192)G+=String.fromCharCode.apply(null,se.subarray(ye,ye+8192));return G};t.addImage=function(){var q,G,se,ye,me,de,we,Pe,Ae;if(typeof arguments[1]=="number"?(G=e,se=arguments[1],ye=arguments[2],me=arguments[3],de=arguments[4],we=arguments[5],Pe=arguments[6],Ae=arguments[7]):(G=arguments[1],se=arguments[2],ye=arguments[3],me=arguments[4],de=arguments[5],we=arguments[6],Pe=arguments[7],Ae=arguments[8]),Yn(q=arguments[0])==="object"&&!v(q)&&"imageData"in q){var ae=q;q=ae.imageData,G=ae.format||G||e,se=ae.x||se||0,ye=ae.y||ye||0,me=ae.w||ae.width||me,de=ae.h||ae.height||de,we=ae.alias||we,Pe=ae.compression||Pe,Ae=ae.rotation||ae.angle||Ae}var fe=this.internal.getFilters();if(Pe===void 0&&fe.indexOf("FlateEncode")!==-1&&(Pe="SLOW"),isNaN(se)||isNaN(ye))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var P=B.call(this,q,G,we,Pe);return A.call(this,se,ye,me,de,P,Ae),this};var B=function(q,G,se,ye){var me,de,we;if(typeof q=="string"&&n(q)===e){q=unescape(q);var Pe=re(q,!1);(Pe!==""||(Pe=t.loadFile(q,!0))!==void 0)&&(q=Pe)}if(v(q)&&(q=b(q,G)),G=n(q,G),!m(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((we=se)==null||we.length===0)&&(se=function(Ae){return typeof Ae=="string"||Y(Ae)?D(Ae):Y(Ae.data)?D(Ae.data):null}(q)),(me=_.call(this,se))||(Q()&&(q instanceof Uint8Array||G==="RGBA"||(de=q,q=V(q))),me=this["process"+G.toUpperCase()](q,u.call(this),se,function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in t.image_compression?Ae:L.NONE}(ye),de)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},re=t.__addimage__.convertBase64ToBinaryString=function(q,G){G=typeof G!="boolean"||G;var se,ye="";if(typeof q=="string"){var me;se=(me=X(q))!==null&&me!==void 0?me:q;try{ye=uh(se)}catch(de){if(G)throw M(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ye};t.getImageProperties=function(q){var G,se,ye="";if(v(q)&&(q=b(q)),typeof q=="string"&&n(q)===e&&((ye=re(q,!1))===""&&(ye=t.loadFile(q)||""),q=ye),se=n(q),!m(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(!Q()||q instanceof Uint8Array||(q=V(q)),!(G=this["process"+se.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=se,G}})(kr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};kr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,s,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,m=!1,v=0;v<u.length&&!m;v++)switch((n=u[v]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var b=0;b<u.length;b++){n=u[b];var _=this.internal.pdfEscape,C=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(A.objId),D=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+h(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y)+"] ")+"/Contents ("+_(L(n.contents))+")",s+=" /Popup "+j.objId+" 0 R",s+=" /P "+g.objId+" 0 R",s+=" /T ("+_(L(D))+") >>",A.content=s;var M=A.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+h(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+h(n.bounds.y)+"] ")+" /Parent "+M,n.open&&(s+=" /Open true"),s+=" >>",j.content=s,this.internal.write(A.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+h(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y+n.bounds.h)+"] ";var X=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+_(C(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+X+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var Q=this.annotations._nameMap[n.options.name];n.options.pageNumber=Q.page,n.options.top=Q.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+_(C(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var Y=h(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,s,c){var h=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:g(r),y:u(n),w:g(r+a),h:u(n+s)},options:c,type:"link"})},t.textWithLink=function(r,n,a,s){var c,h,g=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){h=s.maxWidth;var m=this.splitTextToSize(r,h).length;c=Math.ceil(u*m)}else h=g,c=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=g/2),s.align==="right"&&(n-=g),this.link(n,a-u,h,c,s),g},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(kr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},h=t.__arabicParser__.isArabicEndLetter=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length<=2},g=t.__arabicParser__.isArabicAlfLetter=function(A){return c(A)&&a.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length>=3};var m=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return c(A)&&s(A)&&e[A.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(A){var j=0,L=r,D="",M=0;for(j=0;j<A.length;j+=1)L[A.charCodeAt(j)]!==void 0?(M++,typeof(L=L[A.charCodeAt(j)])=="number"&&(D+=String.fromCharCode(L),L=r,M=0),j===A.length-1&&(L=r,D+=A.charAt(j-(M-1)),j-=M-1,M=0)):(L=r,D+=A.charAt(j-M),j-=M,M=0);return D};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&n[A.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(A,j,L){return c(A)?s(A)===!1?-1:!u(A)||!c(j)&&!c(L)||!c(L)&&h(j)||h(A)&&!c(j)||h(A)&&g(j)||h(A)&&h(j)?0:m(A)&&c(j)&&!h(j)&&c(L)&&u(L)?3:h(A)||!c(L)?1:2:-1},_=function(A){var j=0,L=0,D=0,M="",X="",Q="",Y=(A=A||"").split("\\s+"),V=[];for(j=0;j<Y.length;j+=1){for(V.push(""),L=0;L<Y[j].length;L+=1)M=Y[j][L],X=Y[j][L-1],Q=Y[j][L+1],c(M)?(D=b(M,X,Q),V[j]+=D!==-1?String.fromCharCode(e[M.charCodeAt(0)][D]):M):V[j]+=M;V[j]=v(V[j])}return V.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var A,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(j)){var D=0;for(L=[],D=0;D<j.length;D+=1)Array.isArray(j[D])?L.push([_(j[D][0]),j[D][1],j[D][2]]):L.push([_(j[D])]);A=L}else A=_(j);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",C])}(kr.API),kr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(h){r=h}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(h){n=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(h){s=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(kr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(A){g=A}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(A){_=A}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(A){C=A}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(g){return n.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},t.getTextDimensions=function(g,u){n.call(this);var m=(u=u||{}).fontSize||this.getFontSize(),v=u.font||this.getFont(),b=u.scaleFactor||this.internal.scaleFactor,_=0,C=0,A=0,j=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var L=u.maxWidth;L>0?typeof g=="string"?g=this.splitTextToSize(g,L):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(M,X){return M.concat(j.splitTextToSize(X,L))},[])):g=Array.isArray(g)?g:[g];for(var D=0;D<g.length;D++)_<(A=this.getStringUnitWidth(g[D],{font:v})*m)&&(_=A);return _!==0&&(C=g.length),{w:_/=b,h:Math.max((C*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var g=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var g;g=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===g.lineNumber?(g.x=(u.x||0)+(u.width||0),g.y=u.y||0):u.y+u.height+g.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=v.top,_&&b&&(this.printHeaderRow(g.lineNumber,!0),g.y+=b[0].height)):g.y=u.y+u.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,r===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-m,g.y+m,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+m,{align:"center",baseline:"top",maxWidth:g.width-m-m}):this.text(g.text,g.x+m,g.y+m,{align:"left",baseline:"top",maxWidth:g.width-m-m})),this.internal.__cell__.lastCell=g,this};t.table=function(g,u,m,v,b){if(n.call(this),!m)throw new Error("No data for PDF table.");var _,C,A,j,L=[],D=[],M=[],X={},Q={},Y=[],V=[],H=(b=b||{}).autoSize||!1,B=b.printHeaders!==!1,re=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,q=b.margins||Object.assign({width:this.getPageWidth()},e),G=typeof b.padding=="number"?b.padding:3,se=b.headerBackgroundColor||"#c8c8c8",ye=b.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=ye,this.setFontSize(re),v==null)D=L=Object.keys(m[0]),M=L.map(function(){return"left"});else if(Array.isArray(v)&&Yn(v[0])==="object")for(L=v.map(function(ae){return ae.name}),D=v.map(function(ae){return ae.prompt||ae.name||""}),M=v.map(function(ae){return ae.align||"left"}),_=0;_<v.length;_+=1)Q[v[_].name]=v[_].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(D=L=v,M=L.map(function(){return"left"}));if(H||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<L.length;_+=1){for(X[j=L[_]]=m.map(function(ae){return ae[j]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(D[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=X[j],this.setFont(void 0,"normal"),A=0;A<C.length;A+=1)Y.push(this.getTextDimensions(C[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[j]=Math.max.apply(null,Y)+G+G,Y=[]}if(B){var me={};for(_=0;_<L.length;_+=1)me[L[_]]={},me[L[_]].text=D[_],me[L[_]].align=M[_];var de=h.call(this,me,Q);V=L.map(function(ae){return new s(g,u,Q[ae],de,me[ae].text,void 0,me[ae].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var we=v.reduce(function(ae,fe){return ae[fe.name]=fe.align,ae},{});for(_=0;_<m.length;_+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:_,data:m[_]},this);var Pe=h.call(this,m[_],Q);for(A=0;A<L.length;A+=1){var Ae=m[_][L[A]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:_,col:A,data:Ae},this),c.call(this,new s(g,u,Q[L[A]],Pe,Ae,_+2,we[L[A]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=u,this};var h=function(g,u){var m=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(g).map(function(_){var C=g[_];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,u[_]-m-m)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/b+m+m},this).reduce(function(_,C){return Math.max(_,C)},0)};t.setTableHeaderRow=function(g){n.call(this),this.internal.__cell__.tableHeaderRow=g},t.printHeaderRow=function(g,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){m=this.internal.__cell__.tableHeaderRow[_].clone(),u&&(m.y=this.internal.__cell__.margins.top||0,b.push(m)),m.lineNumber=g;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,m),this.setTextColor(C)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}}(kr.API);var d6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},f6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Rx=u6(f6),h6=[100,200,300,400,500,600,700,800,900],$O=u6(h6);function kx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return d6[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(s){return typeof Rx[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function t4(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var XO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},r4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function n4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function YO(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},XO,r.genericFontFamilies||{}),s=null,c=null,h=0;h<e.length;++h)if(a[(s=kx(e[h])).family]&&(s.family=a[s.family]),t.hasOwnProperty(s.family)){c=t[s.family];break}if(!(c=c||t[n]))throw new Error("Could not find a font-family for the rule '"+n4(s)+"' and default family '"+n+"'.");if(c=function(g,u){if(u[g])return u[g];var m=Rx[g],v=m<=Rx.normal?-1:1,b=t4(u,f6,m,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+g);return b}(s.stretch,c),c=function(g,u){if(u[g])return u[g];for(var m=d6[g],v=0;v<m.length;++v)if(u[m[v]])return u[m[v]];throw new Error("Could not find a matching font-style for "+g)}(s.style,c),!(c=function(g,u){if(u[g])return u[g];if(g===400&&u[500])return u[500];if(g===500&&u[400])return u[400];var m=$O[g],v=t4(u,h6,m,g<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+g);return v}(s.weight,c)))throw new Error("Failed to resolve a font for the rule '"+n4(s)+"'.");return c}function a4(t){return t.trimLeft()}function KO(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function ZO(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Z1,s4,i4,z2=["times"];(function(t){var e,r,n,a,s,c,h,g,u,m=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new g,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new c,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new c,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,g=this.internal.Matrix,u=new m}]);var v=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=P;Object.defineProperty(this,"pdf",{get:function(){return W}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(rt){J=!!rt}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(rt){te=!!rt}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(rt){isNaN(rt)||(le=rt)}});var Be=0;Object.defineProperty(this,"posY",{get:function(){return Be},set:function(rt){isNaN(rt)||(Be=rt)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(rt){var ge;typeof rt=="number"?ge=[rt,rt,rt,rt]:((ge=new Array(4))[0]=rt[0],ge[1]=rt.length>=2?rt[1]:ge[0],ge[2]=rt.length>=3?rt[2]:ge[0],ge[3]=rt.length>=4?rt[3]:ge[1]),u.margin=ge}});var Re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Re},set:function(rt){Re=rt}});var Me=0;Object.defineProperty(this,"lastBreak",{get:function(){return Me},set:function(rt){Me=rt}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(rt){ke=rt}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(rt){rt instanceof m&&(u=rt)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(rt){u.path=rt}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(rt){ze=rt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(rt){var ge;ge=b(rt),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(rt){var ge=b(rt);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(rt){["butt","round","square"].indexOf(rt)!==-1&&(this.ctx.lineCap=rt,this.pdf.setLineCap(rt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(rt){isNaN(rt)||(this.ctx.lineWidth=rt,this.pdf.setLineWidth(rt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(rt){["bevel","round","miter"].indexOf(rt)!==-1&&(this.ctx.lineJoin=rt,this.pdf.setLineJoin(rt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(rt){isNaN(rt)||(this.ctx.miterLimit=rt,this.pdf.setMiterLimit(rt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(rt){this.ctx.textBaseline=rt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(rt){["right","end","center","left","start"].indexOf(rt)!==-1&&(this.ctx.textAlign=rt)}});var ut=null;function gt(rt,ge){if(ut===null){var Ve=function(st){var Ue=[];return Object.keys(st).forEach(function(Je){st[Je].forEach(function(et){var Pt=null;switch(et){case"bold":Pt={family:Je,weight:"bold"};break;case"italic":Pt={family:Je,style:"italic"};break;case"bolditalic":Pt={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":Pt={family:Je}}Pt!==null&&(Pt.ref={name:Je,style:et},Ue.push(Pt))})}),Ue}(rt.getFontList());ut=function(st){for(var Ue={},Je=0;Je<st.length;++Je){var et=kx(st[Je]),Pt=et.family,Mt=et.stretch,Xt=et.style,cr=et.weight;Ue[Pt]=Ue[Pt]||{},Ue[Pt][Mt]=Ue[Pt][Mt]||{},Ue[Pt][Mt][Xt]=Ue[Pt][Mt][Xt]||{},Ue[Pt][Mt][Xt][cr]=et}return Ue}(Ve.concat(ge))}return ut}var Ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ct},set:function(rt){ut=null,Ct=rt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(rt){var ge;if(this.ctx.font=rt,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(rt))!==null){var Ve=ge[1];ge[2];var st=ge[3],Ue=ge[4];ge[5];var Je=ge[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(et==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Pt=function(Qt){var Br,Yt,En=[],ur=Qt.trim();if(ur==="")return z2;if(ur in r4)return[r4[ur]];for(;ur!=="";){switch(Yt=null,Br=(ur=a4(ur)).charAt(0)){case'"':case"'":Yt=KO(ur.substring(1),Br);break;default:Yt=ZO(ur)}if(Yt===null||(En.push(Yt[0]),(ur=a4(Yt[1]))!==""&&ur.charAt(0)!==","))return z2;ur=ur.replace(/^,/,"")}return En}(Je);if(this.fontFaces){var Mt=YO(gt(this.pdf,this.fontFaces),Pt.map(function(Qt){return{family:Qt,stretch:"normal",weight:st,style:Ve}}));this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var Xt="";(st==="bold"||parseInt(st,10)>=700||Ve==="bold")&&(Xt="bold"),Ve==="italic"&&(Xt+="italic"),Xt.length===0&&(Xt="normal");for(var cr="",rr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lr=0;lr<Pt.length;lr++){if(this.pdf.internal.getFont(Pt[lr],Xt,{noFallback:!0,disableWarning:!0})!==void 0){cr=Pt[lr];break}if(Xt==="bolditalic"&&this.pdf.internal.getFont(Pt[lr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)cr=Pt[lr],Xt="bold";else if(this.pdf.internal.getFont(Pt[lr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){cr=Pt[lr],Xt="normal";break}}if(cr===""){for(var hr=0;hr<Pt.length;hr++)if(rr[Pt[hr]]){cr=rr[Pt[hr]];break}}cr=cr===""?"Times":cr,this.pdf.setFont(cr,Xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(rt){this.ctx.globalCompositeOperation=rt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(rt){this.ctx.globalAlpha=rt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(rt){this.ctx.lineDashOffset=rt,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(rt){this.ctx.lineDash=rt,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(rt){this.ctx.ignoreClearRect=!!rt}})};v.prototype.setLineDash=function(P){this.lineDash=P},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){X.call(this,"fill",!1)},v.prototype.stroke=function(){X.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(P,W){if(isNaN(P)||isNaN(W))throw ca.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new c(P,W));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(P,W)},v.prototype.closePath=function(){var P=new c(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Yn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){P=new c(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(P.x,P.y)},v.prototype.lineTo=function(P,W){if(isNaN(P)||isNaN(W))throw ca.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new c(P,W));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new c(J.x,J.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),X.call(this,null,!0)},v.prototype.quadraticCurveTo=function(P,W,J,te){if(isNaN(J)||isNaN(te)||isNaN(P)||isNaN(W))throw ca.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new c(J,te)),Be=this.ctx.transform.applyToPoint(new c(P,W));this.path.push({type:"qct",x1:Be.x,y1:Be.y,x:le.x,y:le.y}),this.ctx.lastPoint=new c(le.x,le.y)},v.prototype.bezierCurveTo=function(P,W,J,te,le,Be){if(isNaN(le)||isNaN(Be)||isNaN(P)||isNaN(W)||isNaN(J)||isNaN(te))throw ca.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Re=this.ctx.transform.applyToPoint(new c(le,Be)),Me=this.ctx.transform.applyToPoint(new c(P,W)),ke=this.ctx.transform.applyToPoint(new c(J,te));this.path.push({type:"bct",x1:Me.x,y1:Me.y,x2:ke.x,y2:ke.y,x:Re.x,y:Re.y}),this.ctx.lastPoint=new c(Re.x,Re.y)},v.prototype.arc=function(P,W,J,te,le,Be){if(isNaN(P)||isNaN(W)||isNaN(J)||isNaN(te)||isNaN(le))throw ca.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Be=!!Be,!this.ctx.transform.isIdentity){var Re=this.ctx.transform.applyToPoint(new c(P,W));P=Re.x,W=Re.y;var Me=this.ctx.transform.applyToPoint(new c(0,J)),ke=this.ctx.transform.applyToPoint(new c(0,0));J=Math.sqrt(Math.pow(Me.x-ke.x,2)+Math.pow(Me.y-ke.y,2))}Math.abs(le-te)>=2*Math.PI&&(te=0,le=2*Math.PI),this.path.push({type:"arc",x:P,y:W,radius:J,startAngle:te,endAngle:le,counterclockwise:Be})},v.prototype.arcTo=function(P,W,J,te,le){throw new Error("arcTo not implemented.")},v.prototype.rect=function(P,W,J,te){if(isNaN(P)||isNaN(W)||isNaN(J)||isNaN(te))throw ca.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,W),this.lineTo(P+J,W),this.lineTo(P+J,W+te),this.lineTo(P,W+te),this.lineTo(P,W),this.lineTo(P+J,W),this.lineTo(P,W)},v.prototype.fillRect=function(P,W,J,te){if(isNaN(P)||isNaN(W)||isNaN(J)||isNaN(te))throw ca.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,W,J,te),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},v.prototype.strokeRect=function(P,W,J,te){if(isNaN(P)||isNaN(W)||isNaN(J)||isNaN(te))throw ca.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(P,W,J,te),this.stroke())},v.prototype.clearRect=function(P,W,J,te){if(isNaN(P)||isNaN(W)||isNaN(J)||isNaN(te))throw ca.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,W,J,te))},v.prototype.save=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},v.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(W),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(P){var W,J,te,le;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))W=0,J=0,te=0,le=0;else{var Be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Be!==null)W=parseInt(Be[1]),J=parseInt(Be[2]),te=parseInt(Be[3]),le=1;else if((Be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)W=parseInt(Be[1]),J=parseInt(Be[2]),te=parseInt(Be[3]),le=parseFloat(Be[4]);else{if(le=1,typeof P=="string"&&P.charAt(0)!=="#"){var Re=new a6(P);P=Re.ok?Re.toHex():"#000000"}P.length===4?(W=P.substring(1,2),W+=W,J=P.substring(2,3),J+=J,te=P.substring(3,4),te+=te):(W=P.substring(1,3),J=P.substring(3,5),te=P.substring(5,7)),W=parseInt(W,16),J=parseInt(J,16),te=parseInt(te,16)}}return{r:W,g:J,b:te,a:le,style:P}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(P,W,J,te){if(isNaN(W)||isNaN(J)||typeof P!="string")throw ca.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!_.call(this)){var le=Pe(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;G.call(this,{text:P,x:W,y:J,scale:Be,angle:le,align:this.textAlign,maxWidth:te})}},v.prototype.strokeText=function(P,W,J,te){if(isNaN(W)||isNaN(J)||typeof P!="string")throw ca.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){te=isNaN(te)?void 0:te;var le=Pe(this.ctx.transform.rotation),Be=this.ctx.transform.scaleX;G.call(this,{text:P,x:W,y:J,scale:Be,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:te})}},v.prototype.measureText=function(P){if(typeof P!="string")throw ca.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,J=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),le=W.getStringUnitWidth(P)*te/W.internal.scaleFactor,Be=function(Re){var Me=(Re=Re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Me}}),this};return new Be({width:le*=Math.round(96*J/72*1e4)/1e4})},v.prototype.scale=function(P,W){if(isNaN(P)||isNaN(W))throw ca.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new g(P,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.rotate=function(P){if(isNaN(P))throw ca.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new g(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},v.prototype.translate=function(P,W){if(isNaN(P)||isNaN(W))throw ca.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new g(1,0,0,1,P,W);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.transform=function(P,W,J,te,le,Be){if(isNaN(P)||isNaN(W)||isNaN(J)||isNaN(te)||isNaN(le)||isNaN(Be))throw ca.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Re=new g(P,W,J,te,le,Be);this.ctx.transform=this.ctx.transform.multiply(Re)},v.prototype.setTransform=function(P,W,J,te,le,Be){P=isNaN(P)?1:P,W=isNaN(W)?0:W,J=isNaN(J)?0:J,te=isNaN(te)?1:te,le=isNaN(le)?0:le,Be=isNaN(Be)?0:Be,this.ctx.transform=new g(P,W,J,te,le,Be)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(P,W,J,te,le,Be,Re,Me,ke){var ze=this.pdf.getImageProperties(P),ut=1,gt=1,Ct=1,rt=1;te!==void 0&&Me!==void 0&&(Ct=Me/te,rt=ke/le,ut=ze.width/te*Me/te,gt=ze.height/le*ke/le),Be===void 0&&(Be=W,Re=J,W=0,J=0),te!==void 0&&Me===void 0&&(Me=te,ke=le),te===void 0&&Me===void 0&&(Me=ze.width,ke=ze.height);for(var ge,Ve=this.ctx.transform.decompose(),st=Pe(Ve.rotate.shx),Ue=new g,Je=(Ue=(Ue=(Ue=Ue.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new h(Be-W*Ct,Re-J*rt,te*ut,le*gt)),et=j.call(this,Je),Pt=[],Mt=0;Mt<et.length;Mt+=1)Pt.indexOf(et[Mt])===-1&&Pt.push(et[Mt]);if(M(Pt),this.autoPaging)for(var Xt=Pt[0],cr=Pt[Pt.length-1],rr=Xt;rr<cr+1;rr++){this.pdf.setPage(rr);var lr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hr=rr===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Br=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yt=rr===1?0:Qt+(rr-2)*Br;if(this.ctx.clip_path.length!==0){var En=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ge,this.posX+this.margin[3],-Yt+hr+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=En}var ur=JSON.parse(JSON.stringify(Je));ur=D([ur],this.posX+this.margin[3],-Yt+hr+this.ctx.prevPageLastElemOffset)[0];var Vt=(rr>Xt||rr<cr)&&A.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lr,Br,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",ur.x,ur.y,ur.w,ur.h,null,null,st),Vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,st)};var j=function(P,W,J){var te=[];W=W||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":te.push(Math.floor((P.y+le)/J)+1);break;case"arc":te.push(Math.floor((P.y+le-P.radius)/J)+1),te.push(Math.floor((P.y+le+P.radius)/J)+1);break;case"qct":var Be=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);te.push(Math.floor((Be.y+le)/J)+1),te.push(Math.floor((Be.y+Be.h+le)/J)+1);break;case"bct":var Re=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);te.push(Math.floor((Re.y+le)/J)+1),te.push(Math.floor((Re.y+Re.h+le)/J)+1);break;case"rect":te.push(Math.floor((P.y+le)/J)+1),te.push(Math.floor((P.y+P.h+le)/J)+1)}for(var Me=0;Me<te.length;Me+=1)for(;this.pdf.internal.getNumberOfPages()<te[Me];)L.call(this);return te},L=function(){var P=this.fillStyle,W=this.strokeStyle,J=this.font,te=this.lineCap,le=this.lineWidth,Be=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=W,this.font=J,this.lineCap=te,this.lineWidth=le,this.lineJoin=Be},D=function(P,W,J){for(var te=0;te<P.length;te++)switch(P[te].type){case"bct":P[te].x2+=W,P[te].y2+=J;case"qct":P[te].x1+=W,P[te].y1+=J;case"mt":case"lt":case"arc":default:P[te].x+=W,P[te].y+=J}return P},M=function(P){return P.sort(function(W,J){return W-J})},X=function(P,W){for(var J,te,le=this.fillStyle,Be=this.strokeStyle,Re=this.lineCap,Me=this.lineWidth,ke=Math.abs(Me*this.ctx.transform.scaleX),ze=this.lineJoin,ut=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),Ct=[],rt=0;rt<gt.length;rt++)if(gt[rt].x!==void 0)for(var ge=j.call(this,gt[rt]),Ve=0;Ve<ge.length;Ve+=1)Ct.indexOf(ge[Ve])===-1&&Ct.push(ge[Ve]);for(var st=0;st<Ct.length;st++)for(;this.pdf.internal.getNumberOfPages()<Ct[st];)L.call(this);if(M(Ct),this.autoPaging)for(var Ue=Ct[0],Je=Ct[Ct.length-1],et=Ue;et<Je+1;et++){this.pdf.setPage(et),this.fillStyle=le,this.strokeStyle=Be,this.lineCap=Re,this.lineWidth=ke,this.lineJoin=ze;var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=et===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],cr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rr=et===1?0:Xt+(et-2)*cr;if(this.ctx.clip_path.length!==0){var lr=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(J,this.posX+this.margin[3],-rr+Mt+this.ctx.prevPageLastElemOffset),Q.call(this,P,!0),this.path=lr}if(te=JSON.parse(JSON.stringify(ut)),this.path=D(te,this.posX+this.margin[3],-rr+Mt+this.ctx.prevPageLastElemOffset),W===!1||et===0){var hr=(et>Ue||et<Je)&&A.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,cr,null).clip().discardPath()),Q.call(this,P,W),hr&&this.pdf.restoreGraphicsState()}this.lineWidth=Me}else this.lineWidth=ke,Q.call(this,P,W),this.lineWidth=Me;this.path=ut},Q=function(P,W){if((P!=="stroke"||W||!C.call(this))&&(P==="stroke"||W||!_.call(this))){for(var J,te,le=[],Be=this.path,Re=0;Re<Be.length;Re++){var Me=Be[Re];switch(Me.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Me,deltas:[],abs:[]});break;case"lt":var ke=le.length;if(Be[Re-1]&&!isNaN(Be[Re-1].x)&&(J=[Me.x-Be[Re-1].x,Me.y-Be[Re-1].y],ke>0)){for(;ke>=0;ke--)if(le[ke-1].close!==!0&&le[ke-1].begin!==!0){le[ke-1].deltas.push(J),le[ke-1].abs.push(Me);break}}break;case"bct":J=[Me.x1-Be[Re-1].x,Me.y1-Be[Re-1].y,Me.x2-Be[Re-1].x,Me.y2-Be[Re-1].y,Me.x-Be[Re-1].x,Me.y-Be[Re-1].y],le[le.length-1].deltas.push(J);break;case"qct":var ze=Be[Re-1].x+2/3*(Me.x1-Be[Re-1].x),ut=Be[Re-1].y+2/3*(Me.y1-Be[Re-1].y),gt=Me.x+2/3*(Me.x1-Me.x),Ct=Me.y+2/3*(Me.y1-Me.y),rt=Me.x,ge=Me.y;J=[ze-Be[Re-1].x,ut-Be[Re-1].y,gt-Be[Re-1].x,Ct-Be[Re-1].y,rt-Be[Re-1].x,ge-Be[Re-1].y],le[le.length-1].deltas.push(J);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Me)}}te=W?null:P==="stroke"?"stroke":"fill";for(var Ve=!1,st=0;st<le.length;st++)if(le[st].arc)for(var Ue=le[st].abs,Je=0;Je<Ue.length;Je++){var et=Ue[Je];et.type==="arc"?H.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,W,!Ve):se.call(this,et.x,et.y),Ve=!0}else if(le[st].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(le[st].begin!==!0){var Pt=le[st].start.x,Mt=le[st].start.y;ye.call(this,le[st].deltas,Pt,Mt),Ve=!0}te&&B.call(this,te),W&&re.call(this)}},Y=function(P){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-J;case"top":return P+W-J;case"hanging":return P+W-2*J;case"middle":return P+W/2-J;case"ideographic":return P;case"alphabetic":default:return P}},V=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(W,J){this.colorStops.push([W,J])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(P,W,J,te,le,Be,Re,Me,ke){for(var ze=de.call(this,J,te,le,Be),ut=0;ut<ze.length;ut++){var gt=ze[ut];ut===0&&(ke?q.call(this,gt.x1+P,gt.y1+W):se.call(this,gt.x1+P,gt.y1+W)),me.call(this,P,W,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}Me?re.call(this):B.call(this,Re)},B=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(P,W){this.pdf.internal.out(r(P)+" "+n(W)+" m")},G=function(P){var W;switch(P.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var J=this.pdf.getTextDimensions(P.text),te=Y.call(this,P.y),le=V.call(this,te)-J.h,Be=this.ctx.transform.applyToPoint(new c(P.x,te)),Re=this.ctx.transform.decompose(),Me=new g;Me=(Me=(Me=Me.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var ke,ze,ut,gt=this.ctx.transform.applyToRectangle(new h(P.x,te,J.w,J.h)),Ct=Me.applyToRectangle(new h(P.x,le,J.w,J.h)),rt=j.call(this,Ct),ge=[],Ve=0;Ve<rt.length;Ve+=1)ge.indexOf(rt[Ve])===-1&&ge.push(rt[Ve]);if(M(ge),this.autoPaging)for(var st=ge[0],Ue=ge[ge.length-1],Je=st;Je<Ue+1;Je++){this.pdf.setPage(Je);var et=Je===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[2],Xt=Mt-this.margin[0],cr=this.pdf.internal.pageSize.width-this.margin[1],rr=cr-this.margin[3],lr=Je===1?0:Pt+(Je-2)*Xt;if(this.ctx.clip_path.length!==0){var hr=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ke,this.posX+this.margin[3],-1*lr+et),Q.call(this,"fill",!0),this.path=hr}var Qt=D([JSON.parse(JSON.stringify(Ct))],this.posX+this.margin[3],-lr+et+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*P.scale),ut=this.lineWidth,this.lineWidth=ut*P.scale);var Br=this.autoPaging!=="text";if(Br||Qt.y+Qt.h<=Mt){if(Br||Qt.y>=et&&Qt.x<=cr){var Yt=Br?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||cr-Qt.x)[0],En=D([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-lr+et+this.ctx.prevPageLastElemOffset)[0],ur=Br&&(Je>st||Je<Ue)&&A.call(this);ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rr,Xt,null).clip().discardPath()),this.pdf.text(Yt,En.x,En.y,{angle:P.angle,align:W,renderingMode:P.renderingMode}),ur&&this.pdf.restoreGraphicsState()}}else Qt.y<Mt&&(this.ctx.prevPageLastElemOffset+=Mt-Qt.y);P.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=ut)}else P.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*P.scale),ut=this.lineWidth,this.lineWidth=ut*P.scale),this.pdf.text(P.text,Be.x+this.posX,Be.y+this.posY,{angle:P.angle,align:W,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=ut)},se=function(P,W,J,te){J=J||0,te=te||0,this.pdf.internal.out(r(P+J)+" "+n(W+te)+" l")},ye=function(P,W,J){return this.pdf.lines(P,W,J,null,null)},me=function(P,W,J,te,le,Be,Re,Me){this.pdf.internal.out([e(a(J+P)),e(s(te+W)),e(a(le+P)),e(s(Be+W)),e(a(Re+P)),e(s(Me+W)),"c"].join(" "))},de=function(P,W,J,te){for(var le=2*Math.PI,Be=Math.PI/2;W>J;)W-=le;var Re=Math.abs(J-W);Re<le&&te&&(Re=le-Re);for(var Me=[],ke=te?-1:1,ze=W;Re>1e-5;){var ut=ze+ke*Math.min(Re,Be);Me.push(we.call(this,P,ze,ut)),Re-=Math.abs(ut-ze),ze=ut}return Me},we=function(P,W,J){var te=(J-W)/2,le=P*Math.cos(te),Be=P*Math.sin(te),Re=le,Me=-Be,ke=Re*Re+Me*Me,ze=ke+Re*le+Me*Be,ut=4/3*(Math.sqrt(2*ke*ze)-ze)/(Re*Be-Me*le),gt=Re-ut*Me,Ct=Me+ut*Re,rt=gt,ge=-Ct,Ve=te+W,st=Math.cos(Ve),Ue=Math.sin(Ve);return{x1:P*Math.cos(W),y1:P*Math.sin(W),x2:gt*st-Ct*Ue,y2:gt*Ue+Ct*st,x3:rt*st-ge*Ue,y3:rt*Ue+ge*st,x4:P*Math.cos(J),y4:P*Math.sin(J)}},Pe=function(P){return 180*P/Math.PI},Ae=function(P,W,J,te,le,Be){var Re=P+.5*(J-P),Me=W+.5*(te-W),ke=le+.5*(J-le),ze=Be+.5*(te-Be),ut=Math.min(P,le,Re,ke),gt=Math.max(P,le,Re,ke),Ct=Math.min(W,Be,Me,ze),rt=Math.max(W,Be,Me,ze);return new h(ut,Ct,gt-ut,rt-Ct)},ae=function(P,W,J,te,le,Be,Re,Me){var ke,ze,ut,gt,Ct,rt,ge,Ve,st,Ue,Je,et,Pt,Mt,Xt=J-P,cr=te-W,rr=le-J,lr=Be-te,hr=Re-le,Qt=Me-Be;for(ze=0;ze<41;ze++)st=(ge=(ut=P+(ke=ze/40)*Xt)+ke*((Ct=J+ke*rr)-ut))+ke*(Ct+ke*(le+ke*hr-Ct)-ge),Ue=(Ve=(gt=W+ke*cr)+ke*((rt=te+ke*lr)-gt))+ke*(rt+ke*(Be+ke*Qt-rt)-Ve),ze==0?(Je=st,et=Ue,Pt=st,Mt=Ue):(Je=Math.min(Je,st),et=Math.min(et,Ue),Pt=Math.max(Pt,st),Mt=Math.max(Mt,Ue));return new h(Math.round(Je),Math.round(et),Math.round(Pt-Je),Math.round(Mt-et))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,W,J=(P=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:W}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(kr.API),function(t){var e=function(s){var c,h,g,u,m,v,b,_,C,A;for(h=[],g=0,u=(s+=c="\0\0\0\0".slice(s.length%4||4)).length;u>g;g+=4)(m=(s.charCodeAt(g)<<24)+(s.charCodeAt(g+1)<<16)+(s.charCodeAt(g+2)<<8)+s.charCodeAt(g+3))!==0?(v=(m=((m=((m=((m=(m-(A=m%85))/85)-(C=m%85))/85)-(_=m%85))/85)-(b=m%85))/85)%85,h.push(v+33,b+33,_+33,C+33,A+33)):h.push(122);return function(j,L){for(var D=L;D>0;D--)j.pop()}(h,c.length),String.fromCharCode.apply(String,h)+"~>"},r=function(s){var c,h,g,u,m,v=String,b="length",_=255,C="charCodeAt",A="slice",j="replace";for(s[A](-2),s=s[A](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),g=[],u=0,m=(s+=c="uuuuu"[A](s[b]%5||5))[b];m>u;u+=5)h=52200625*(s[C](u)-33)+614125*(s[C](u+1)-33)+7225*(s[C](u+2)-33)+85*(s[C](u+3)-33)+(s[C](u+4)-33),g.push(_&h>>24,_&h>>16,_&h>>8,_&h);return function(L,D){for(var M=D;M>0;M--)L.pop()}(g,c[b]),v.fromCharCode.apply(v,g)},n=function(s){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),c.test(s)===!1)return"";for(var h="",g=0;g<s.length;g+=2)h+=String.fromCharCode("0x"+(s[g]+s[g+1]));return h},a=function(s){for(var c=new Uint8Array(s.length),h=s.length;h--;)c[h]=s.charCodeAt(h);return s=(c=Ax(c)).reduce(function(g,u){return g+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,c){var h=0,g=s||"",u=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":g=r(g),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=e(g),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=n(g),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=g.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=a(g),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:g,reverseChain:u.reverse().join(" ")}}}(kr.API),function(t){t.loadFile=function(e,r,n){return function(a,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=function(g,u,m){var v=new XMLHttpRequest,b=0,_=function(C){var A=C.length,j=[],L=String.fromCharCode;for(b=0;b<A;b+=1)j.push(L(255&C.charCodeAt(b)));return j.join("")};if(v.open("GET",g,!u),v.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(v.onload=function(){v.status===200?m(_(this.responseText)):m(void 0)}),v.send(null),u&&v.status===200)return _(v.responseText)}(a,s,c)}catch(g){}return h}(e,r,n)},t.loadImageFile=t.loadFile}(kr.API),function(t){function e(){return(Mr.html2canvas?Promise.resolve(Mr.html2canvas):Co(()=>import("./html2canvas.esm-CiaFdv3w.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(Mr.DOMPurify?Promise.resolve(Mr.DOMPurify):Co(()=>import("./purify.es-BDD-b7lE.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var h=Yn(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(c,h){var g=document.createElement(c);for(var u in h.className&&(g.className=h.className),h.innerHTML&&h.dompurify&&(g.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)g.style[u]=h.style[u];return g},s=function c(h){var g=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),u=c.convert(Promise.resolve(),g);return u=(u=u.setProgress(1,c,1,[c])).set(h)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(c,h){return c.__proto__=h||s.prototype,c},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(c,h){return this.then(function(){switch(h=h||function(g){switch(n(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(r).then(function(g){return this.set({src:a("div",{innerHTML:c,dompurify:g})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},s.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function g(u,m){for(var v=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),b=u.firstChild;b;b=b.nextSibling)m!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(g(b,m));return u.nodeType===1&&(u.nodeName==="CANVAS"?(v.width=u.width,v.height=u.height,v.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(v.value=u.value),v.addEventListener("load",function(){v.scrollTop=u.scrollTop,v.scrollLeft=u.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,h(this.prop.container,g)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(h){var g=this.opt.jsPDF,u=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=u,u)for(var b=0;b<u.length;++b){var _=u[b],C=_.src.find(function(A){return A.format==="truetype"});C&&g.addFont(C.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,g.context2d.save(!0),h(this.prop.container,v)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(c,h,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},s.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},s.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},s.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(c){if(n(c)!=="object")return this;var h=Object.keys(c||{}).map(function(g){if(g in s.template.prop)return function(){this.prop[g]=c[g]};switch(g){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[g]=c[g]}}},this);return this.then(function(){return this.thenList(h)})},s.prototype.get=function(c,h){return this.then(function(){var g=c in s.template.prop?this.prop[c]:this.opt[c];return h?h(g):g})},s.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},s.prototype.setPageSize=function(c){function h(g,u){return Math.floor(g*u/72*96)}return this.then(function(){(c=c||kr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},s.prototype.setProgress=function(c,h,g,u){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),g!=null&&(this.progress.n=g),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(c,h,g,u){return this.setProgress(c?this.progress.val+c:null,h||null,g?this.progress.n+g:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(c,h){var g=this;return this.thenCore(c,h,function(u,m){return g.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(v){return g.updateProgress(null,u),v}).then(u,m).then(function(v){return g.updateProgress(1),v})})},s.prototype.thenCore=function(c,h,g){g=g||Promise.prototype.then,c&&(c=c.bind(this)),h&&(h=h.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),m=g.call(u,c,h);return s.convert(m,this.__proto__)},s.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},s.prototype.thenList=function(c){var h=this;return c.forEach(function(g){h=h.thenCore(g)}),h},s.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return s.convert(h,this)},s.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},s.prototype.error=function(c){return this.then(function(){throw new Error(c)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,kr.getPageSize=function(c,h,g){if(Yn(c)==="object"){var u=c;c=u.orientation,h=u.unit||h,g=u.format||g}h=h||"mm",g=g||"a4",c=(""+(c||"P")).toLowerCase();var m,v=(""+g).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+h}var _,C=0,A=0;if(b.hasOwnProperty(v))C=b[v][1]/m,A=b[v][0]/m;else try{C=g[1],A=g[0]}catch(j){throw new Error("Invalid format: "+g)}if(c==="p"||c==="portrait")c="p",A>C&&(_=A,A=C,C=_);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",C>A&&(_=A,A=C,C=_)}return{width:A,height:C,unit:h,k:m,orientation:c}},t.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(kx):null;var g=new s(h);return h.worker?g:g.from(c).doCallback()}}(kr.API),kr.API.addJS=function(t){return i4=t,this.internal.events.subscribe("postPutResources",function(){Z1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Z1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),s4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+i4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Z1!==void 0&&s4!==void 0&&this.internal.out("/Names <</JavaScript "+Z1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var c=a[s],h=n.exec(c);if(h!=null){var g=h[1];r.internal.newObjectDeferredBegin(g,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,m=[];for(s=0;s<u;s++){var v=r.internal.newObject();m.push(v);var b=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var _=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<m.length;s++)r.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+_+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var c={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var c=n.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var g=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(kr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,s,c,h){var g,u=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(g=function(v){for(var b,_=256*v.charCodeAt(4)+v.charCodeAt(5),C=v.length,A={width:0,height:0,numcomponents:1},j=4;j<C;j+=2){if(j+=_,e.indexOf(v.charCodeAt(j+1))!==-1){b=256*v.charCodeAt(j+5)+v.charCodeAt(j+6),A={width:256*v.charCodeAt(j+7)+v.charCodeAt(j+8),height:b,numcomponents:v.charCodeAt(j+9)};break}_=256*v.charCodeAt(j+2)+v.charCodeAt(j+3)}return A}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}m={data:r,width:g.width,height:g.height,colorSpace:h,bitsPerComponent:8,filter:u,index:n,alias:a}}return m}}(kr.API);var pd,J1,o4,l4,c4,JO=function(){var t,e,r;function n(s){var c,h,g,u,m,v,b,_,C,A,j,L,D,M;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(c=this.readUInt32(),C=function(){var X,Q;for(Q=[],X=0;X<4;++X)Q.push(String.fromCharCode(this.data[this.pos++]));return Q}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),u=this.readUInt16()||100,v.delay=1e3*m/u,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(C==="fdAT"&&(this.pos+=4,c-=4),s=(v!=null?v.data:void 0)||this.imgData,L=0;0<=c?L<c:L>c;0<=c?++L:--L)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(g=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>g)throw new Error("More transparent colors than palette size");if((A=g-this.transparency.indexed.length)>0)for(D=0;0<=A?D<A:D>A;0<=A?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":b=(j=this.read(c)).indexOf(0),_=String.fromCharCode.apply(String,j.slice(0,b)),this.text[_]=String.fromCharCode.apply(String,j.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(M=this.colorType)===4||M===6,h=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*h,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var c,h;for(h=[],c=0;0<=s?c<s:c>s;0<=s?++c:--c)h.push(this.data[this.pos++]);return h},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var c=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*c),g=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function m(v,b,_,C){var A,j,L,D,M,X,Q,Y,V,H,B,re,q,G,se,ye,me,de,we,Pe,Ae,ae=Math.ceil((u.width-v)/_),fe=Math.ceil((u.height-b)/C),P=u.width==ae&&u.height==fe;for(G=c*ae,re=P?h:new Uint8Array(G*fe),X=s.length,q=0,j=0;q<fe&&g<X;){switch(s[g++]){case 0:for(D=me=0;me<G;D=me+=1)re[j++]=s[g++];break;case 1:for(D=de=0;de<G;D=de+=1)A=s[g++],M=D<c?0:re[j-c],re[j++]=(A+M)%256;break;case 2:for(D=we=0;we<G;D=we+=1)A=s[g++],L=(D-D%c)/c,se=q&&re[(q-1)*G+L*c+D%c],re[j++]=(se+A)%256;break;case 3:for(D=Pe=0;Pe<G;D=Pe+=1)A=s[g++],L=(D-D%c)/c,M=D<c?0:re[j-c],se=q&&re[(q-1)*G+L*c+D%c],re[j++]=(A+Math.floor((M+se)/2))%256;break;case 4:for(D=Ae=0;Ae<G;D=Ae+=1)A=s[g++],L=(D-D%c)/c,M=D<c?0:re[j-c],q===0?se=ye=0:(se=re[(q-1)*G+L*c+D%c],ye=L&&re[(q-1)*G+(L-1)*c+D%c]),Q=M+se-ye,Y=Math.abs(Q-M),H=Math.abs(Q-se),B=Math.abs(Q-ye),V=Y<=H&&Y<=B?M:H<=B?se:ye,re[j++]=(A+V)%256;break;default:throw new Error("Invalid filter algorithm: "+s[g-1])}if(!P){var W=((b+q*C)*u.width+v)*c,J=q*G;for(D=0;D<ae;D+=1){for(var te=0;te<c;te+=1)h[W++]=re[J++];W+=(_-1)*c}}q++}}return s=OO(s),u.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),h},n.prototype.decodePalette=function(){var s,c,h,g,u,m,v,b,_;for(h=this.palette,m=this.transparency.indexed||[],u=new Uint8Array((m.length||0)+h.length),g=0,s=0,c=v=0,b=h.length;v<b;c=v+=3)u[g++]=h[c],u[g++]=h[c+1],u[g++]=h[c+2],u[g++]=(_=m[s++])!=null?_:255;return u},n.prototype.copyToImageData=function(s,c){var h,g,u,m,v,b,_,C,A,j,L;if(g=this.colors,A=null,h=this.hasAlphaChannel,this.palette.length&&(A=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),g=4,h=!0),C=(u=s.data||s).length,v=A||c,m=b=0,g===1)for(;m<C;)_=A?4*c[m/4]:b,j=v[_++],u[m++]=j,u[m++]=j,u[m++]=j,u[m++]=h?v[_++]:255,b=_;else for(;m<C;)_=A?4*c[m/4]:b,u[m++]=v[_++],u[m++]=v[_++],u[m++]=v[_++],u[m++]=h?v[_++]:255,b=_},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Mr)==="[object Window]"){try{e=Mr.document.createElement("canvas"),r=e.getContext("2d")}catch(s){return!1}return!0}return!1};return a(),t=function(s){var c;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(c=new Image).src=e.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var c,h,g,u,m,v,b,_;if(this.animation){for(_=[],h=m=0,v=(b=this.animation.frames).length;m<v;h=++m)c=b[h],g=s.createImageData(c.width,c.height),u=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(g,u),c.imageData=g,_.push(c.image=t(g));return _}},n.prototype.renderFrame=function(s,c){var h,g,u;return h=(g=this.animation.frames)[c],u=g[c-1],c===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),h.blendOp===0&&s.clearRect(h.xOffset,h.yOffset,h.width,h.height),s.drawImage(h.image,h.xOffset,h.yOffset)},n.prototype.animate=function(s){var c,h,g,u,m,v,b=this;return h=0,v=this.animation,u=v.numFrames,g=v.frames,m=v.numPlays,(c=function(){var _,C;if(_=h++%u,C=g[_],b.renderFrame(s,_),u>1&&h/u<m)return b.animation._timeout=setTimeout(c,C.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var c,h;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,c=s.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(h=c.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),c.putImageData(h,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function QO(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,c=1<<(7&a)+1;t[e++],t[e++];var h=null,g=null;s&&(h=e,g=c,e+=3*c);var u=!0,m=[],v=0,b=null,_=0,C=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];v=t[e++]|t[e++]<<8,b=t[e++],(1&A)==0&&(b=null),_=A>>2&7,e++;break;case 254:for(;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,X=t[e++],Q=X>>6&1,Y=1<<(7&X)+1,V=h,H=g,B=!1;X>>7&&(B=!0,V=e,H=Y,e+=3*Y);var re=e;for(e++;;){var q;if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}m.push({x:j,y:L,width:D,height:M,has_local_palette:B,palette_offset:V,palette_size:H,data_offset:re,data_length:e-re,transparent_index:b,interlaced:!!Q,delay:v,disposal:_});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return C},this.frameInfo=function(G){if(G<0||G>=m.length)throw new Error("Frame index out of range.");return m[G]},this.decodeAndBlitFrameBGRA=function(G,se){var ye=this.frameInfo(G),me=ye.width*ye.height,de=new Uint8Array(me);u4(t,ye.data_offset,de,me);var we=ye.palette_offset,Pe=ye.transparent_index;Pe===null&&(Pe=256);var Ae=ye.width,ae=r-Ae,fe=Ae,P=4*(ye.y*r+ye.x),W=4*((ye.y+ye.height)*r+ye.x),J=P,te=4*ae;ye.interlaced===!0&&(te+=4*r*7);for(var le=8,Be=0,Re=de.length;Be<Re;++Be){var Me=de[Be];if(fe===0&&(fe=Ae,(J+=te)>=W&&(te=4*ae+4*r*(le-1),J=P+(Ae+ae)*(le<<1),le>>=1)),Me===Pe)J+=4;else{var ke=t[we+3*Me],ze=t[we+3*Me+1],ut=t[we+3*Me+2];se[J++]=ut,se[J++]=ze,se[J++]=ke,se[J++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(G,se){var ye=this.frameInfo(G),me=ye.width*ye.height,de=new Uint8Array(me);u4(t,ye.data_offset,de,me);var we=ye.palette_offset,Pe=ye.transparent_index;Pe===null&&(Pe=256);var Ae=ye.width,ae=r-Ae,fe=Ae,P=4*(ye.y*r+ye.x),W=4*((ye.y+ye.height)*r+ye.x),J=P,te=4*ae;ye.interlaced===!0&&(te+=4*r*7);for(var le=8,Be=0,Re=de.length;Be<Re;++Be){var Me=de[Be];if(fe===0&&(fe=Ae,(J+=te)>=W&&(te=4*ae+4*r*(le-1),J=P+(Ae+ae)*(le<<1),le>>=1)),Me===Pe)J+=4;else{var ke=t[we+3*Me],ze=t[we+3*Me+1],ut=t[we+3*Me+2];se[J++]=ke,se[J++]=ze,se[J++]=ut,se[J++]=255}--fe}}}function u4(t,e,r,n){for(var a=t[e++],s=1<<a,c=s+1,h=c+1,g=a+1,u=(1<<g)-1,m=0,v=0,b=0,_=t[e++],C=new Int32Array(4096),A=null;;){for(;m<16&&_!==0;)v|=t[e++]<<m,m+=8,_===1?_=t[e++]:--_;if(m<g)break;var j=v&u;if(v>>=g,m-=g,j!==s){if(j===c)break;for(var L=j<h?j:A,D=0,M=L;M>s;)M=C[M]>>8,++D;var X=M;if(b+D+(L!==j?1:0)>n)return void ca.log("Warning, gif stream longer than expected.");r[b++]=X;var Q=b+=D;for(L!==j&&(r[b++]=X),M=L;D--;)M=C[M],r[--Q]=255&M,M>>=8;A!==null&&h<4096&&(C[h++]=A<<8|X,h>=u+1&&g<12&&(++g,u=u<<1|1)),A=j}else h=c+1,u=(1<<(g=a+1))-1,A=null}return b!==n&&ca.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H2(t){var e,r,n,a,s,c=Math.floor,h=new Array(64),g=new Array(64),u=new Array(64),m=new Array(64),v=new Array(65535),b=new Array(65535),_=new Array(64),C=new Array(64),A=[],j=0,L=7,D=new Array(64),M=new Array(64),X=new Array(64),Q=new Array(256),Y=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],ye=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(P,W){for(var J=0,te=0,le=new Array,Be=1;Be<=16;Be++){for(var Re=1;Re<=P[Be];Re++)le[W[te]]=[],le[W[te]][0]=J,le[W[te]][1]=Be,te++,J++;J*=2}return le}function we(P){for(var W=P[0],J=P[1]-1;J>=0;)W&1<<J&&(j|=1<<L),J--,--L<0&&(j==255?(Pe(255),Pe(0)):Pe(j),L=7,j=0)}function Pe(P){A.push(P)}function Ae(P){Pe(P>>8&255),Pe(255&P)}function ae(P,W,J,te,le){for(var Be,Re=le[0],Me=le[240],ke=function(Ue,Je){var et,Pt,Mt,Xt,cr,rr,lr,hr,Qt,Br,Yt=0;for(Qt=0;Qt<8;++Qt){et=Ue[Yt],Pt=Ue[Yt+1],Mt=Ue[Yt+2],Xt=Ue[Yt+3],cr=Ue[Yt+4],rr=Ue[Yt+5],lr=Ue[Yt+6];var En=et+(hr=Ue[Yt+7]),ur=et-hr,Vt=Pt+lr,wr=Pt-lr,yr=Mt+rr,Zr=Mt-rr,Jr=Xt+cr,Hs=Xt-cr,Un=En+Jr,Lr=En-Jr,xa=Vt+yr,jn=Vt-yr;Ue[Yt]=Un+xa,Ue[Yt+4]=Un-xa;var Ar=.707106781*(jn+Lr);Ue[Yt+2]=Lr+Ar,Ue[Yt+6]=Lr-Ar;var Hr=.382683433*((Un=Hs+Zr)-(jn=wr+ur)),qs=.5411961*Un+Hr,tn=1.306562965*jn+Hr,Ha=.707106781*(xa=Zr+wr),ys=ur+Ha,or=ur-Ha;Ue[Yt+5]=or+qs,Ue[Yt+3]=or-qs,Ue[Yt+1]=ys+tn,Ue[Yt+7]=ys-tn,Yt+=8}for(Yt=0,Qt=0;Qt<8;++Qt){et=Ue[Yt],Pt=Ue[Yt+8],Mt=Ue[Yt+16],Xt=Ue[Yt+24],cr=Ue[Yt+32],rr=Ue[Yt+40],lr=Ue[Yt+48];var On=et+(hr=Ue[Yt+56]),hn=et-hr,sa=Pt+lr,rn=Pt-lr,Rn=Mt+rr,he=Mt-rr,Ne=Xt+cr,Ce=Xt-cr,Te=On+Ne,Oe=On-Ne,Fe=sa+Rn,it=sa-Rn;Ue[Yt]=Te+Fe,Ue[Yt+32]=Te-Fe;var wt=.707106781*(it+Oe);Ue[Yt+16]=Oe+wt,Ue[Yt+48]=Oe-wt;var Ze=.382683433*((Te=Ce+he)-(it=rn+hn)),ft=.5411961*Te+Ze,mt=1.306562965*it+Ze,Ot=.707106781*(Fe=he+rn),Ut=hn+Ot,Wt=hn-Ot;Ue[Yt+40]=Wt+ft,Ue[Yt+24]=Wt-ft,Ue[Yt+8]=Ut+mt,Ue[Yt+56]=Ut-mt,Yt++}for(Qt=0;Qt<64;++Qt)Br=Ue[Qt]*Je[Qt],_[Qt]=Br>0?Br+.5|0:Br-.5|0;return _}(P,W),ze=0;ze<64;++ze)C[V[ze]]=ke[ze];var ut=C[0]-J;J=C[0],ut==0?we(te[0]):(we(te[b[Be=32767+ut]]),we(v[Be]));for(var gt=63;gt>0&&C[gt]==0;)gt--;if(gt==0)return we(Re),J;for(var Ct,rt=1;rt<=gt;){for(var ge=rt;C[rt]==0&&rt<=gt;)++rt;var Ve=rt-ge;if(Ve>=16){Ct=Ve>>4;for(var st=1;st<=Ct;++st)we(Me);Ve&=15}Be=32767+C[rt],we(le[(Ve<<4)+b[Be]]),we(v[Be]),rt++}return gt!=63&&we(Re),J}function fe(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(W){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var le=c((J[te]*W+50)/100);le=Math.min(Math.max(le,1),255),h[V[te]]=le}for(var Be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Re=0;Re<64;Re++){var Me=c((Be[Re]*W+50)/100);Me=Math.min(Math.max(Me,1),255),g[V[Re]]=Me}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,ut=0;ut<8;ut++)for(var gt=0;gt<8;gt++)u[ze]=1/(h[V[ze]]*ke[ut]*ke[gt]*8),m[ze]=1/(g[V[ze]]*ke[ut]*ke[gt]*8),ze++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,W){W&&fe(W),A=new Array,j=0,L=7,Ae(65496),Ae(65504),Ae(16),Pe(74),Pe(70),Pe(73),Pe(70),Pe(0),Pe(1),Pe(1),Pe(0),Ae(1),Ae(1),Pe(0),Pe(0),function(){Ae(65499),Ae(132),Pe(0);for(var Pt=0;Pt<64;Pt++)Pe(h[Pt]);Pe(1);for(var Mt=0;Mt<64;Mt++)Pe(g[Mt])}(),function(Pt,Mt){Ae(65472),Ae(17),Pe(8),Ae(Mt),Ae(Pt),Pe(3),Pe(1),Pe(17),Pe(0),Pe(2),Pe(17),Pe(1),Pe(3),Pe(17),Pe(1)}(P.width,P.height),function(){Ae(65476),Ae(418),Pe(0);for(var Pt=0;Pt<16;Pt++)Pe(H[Pt+1]);for(var Mt=0;Mt<=11;Mt++)Pe(B[Mt]);Pe(16);for(var Xt=0;Xt<16;Xt++)Pe(re[Xt+1]);for(var cr=0;cr<=161;cr++)Pe(q[cr]);Pe(1);for(var rr=0;rr<16;rr++)Pe(G[rr+1]);for(var lr=0;lr<=11;lr++)Pe(se[lr]);Pe(17);for(var hr=0;hr<16;hr++)Pe(ye[hr+1]);for(var Qt=0;Qt<=161;Qt++)Pe(me[Qt])}(),Ae(65498),Ae(12),Pe(3),Pe(1),Pe(0),Pe(2),Pe(17),Pe(3),Pe(17),Pe(0),Pe(63),Pe(0);var J=0,te=0,le=0;j=0,L=7,this.encode.displayName="_encode_";for(var Be,Re,Me,ke,ze,ut,gt,Ct,rt,ge=P.data,Ve=P.width,st=P.height,Ue=4*Ve,Je=0;Je<st;){for(Be=0;Be<Ue;){for(ze=Ue*Je+Be,gt=-1,Ct=0,rt=0;rt<64;rt++)ut=ze+(Ct=rt>>3)*Ue+(gt=4*(7&rt)),Je+Ct>=st&&(ut-=Ue*(Je+1+Ct-st)),Be+gt>=Ue&&(ut-=Be+gt-Ue+4),Re=ge[ut++],Me=ge[ut++],ke=ge[ut++],D[rt]=(Y[Re]+Y[Me+256>>0]+Y[ke+512>>0]>>16)-128,M[rt]=(Y[Re+768>>0]+Y[Me+1024>>0]+Y[ke+1280>>0]>>16)-128,X[rt]=(Y[Re+1280>>0]+Y[Me+1536>>0]+Y[ke+1792>>0]>>16)-128;J=ae(D,u,J,e,n),te=ae(M,m,te,r,a),le=ae(X,m,le,r,a),Be+=32}Je+=8}if(L>=0){var et=[];et[1]=L+1,et[0]=(1<<L+1)-1,we(et)}return Ae(65497),new Uint8Array(A)},t=t||50,function(){for(var P=String.fromCharCode,W=0;W<256;W++)Q[W]=P(W)}(),e=de(H,B),r=de(G,se),n=de(re,q),a=de(ye,me),function(){for(var P=1,W=2,J=1;J<=15;J++){for(var te=P;te<W;te++)b[32767+te]=J,v[32767+te]=[],v[32767+te][1]=J,v[32767+te][0]=te;for(var le=-(W-1);le<=-P;le++)b[32767+le]=J,v[32767+le]=[],v[32767+le][1]=J,v[32767+le][0]=W-1+le;P<<=1,W<<=1}}(),function(){for(var P=0;P<256;P++)Y[P]=19595*P,Y[P+256>>0]=38470*P,Y[P+512>>0]=7471*P+32768,Y[P+768>>0]=-11059*P,Y[P+1024>>0]=-21709*P,Y[P+1280>>0]=32768*P+8421375,Y[P+1536>>0]=-27439*P,Y[P+1792>>0]=-5329*P}(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function d4(t){function e(H){if(!H)throw Error("assert :P")}function r(H,B,re){for(var q=0;4>q;q++)if(H[B+q]!=re.charCodeAt(q))return!0;return!1}function n(H,B,re,q,G){for(var se=0;se<G;se++)H[B+se]=re[q+se]}function a(H,B,re,q){for(var G=0;G<q;G++)H[B+G]=re}function s(H){return new Int32Array(H)}function c(H,B){for(var re=[],q=0;q<H;q++)re.push(new B);return re}function h(H,B){var re=[];return function q(G,se,ye){for(var me=ye[se],de=0;de<me&&(G.push(ye.length>se+1?[]:new B),!(ye.length<se+1));de++)q(G[de],se+1,ye)}(re,0,H),re}var g=function(){var H=this;function B(S,R){for(var z=1<<R-1>>>0;S&z;)z>>>=1;return z?(S&z-1)+z:S}function re(S,R,z,K,ce){e(!(K%z));do S[R+(K-=z)]=ce;while(0<K)}function q(S,R,z,K,ce){if(e(2328>=ce),512>=ce)var pe=s(512);else if((pe=s(ce))==null)return 0;return function(ve,be,Se,De,$e,dt){var lt,tt,kt=be,bt=1<<Se,Xe=s(16),Ke=s(16);for(e($e!=0),e(De!=null),e(ve!=null),e(0<Se),tt=0;tt<$e;++tt){if(15<De[tt])return 0;++Xe[De[tt]]}if(Xe[0]==$e)return 0;for(Ke[1]=0,lt=1;15>lt;++lt){if(Xe[lt]>1<<lt)return 0;Ke[lt+1]=Ke[lt]+Xe[lt]}for(tt=0;tt<$e;++tt)lt=De[tt],0<De[tt]&&(dt[Ke[lt]++]=tt);if(Ke[15]==1)return(De=new G).g=0,De.value=dt[0],re(ve,kt,1,bt,De),bt;var At,It=-1,jt=bt-1,ir=0,er=1,br=1,tr=1<<Se;for(tt=0,lt=1,$e=2;lt<=Se;++lt,$e<<=1){if(er+=br<<=1,0>(br-=Xe[lt]))return 0;for(;0<Xe[lt];--Xe[lt])(De=new G).g=lt,De.value=dt[tt++],re(ve,kt+ir,$e,tr,De),ir=B(ir,lt)}for(lt=Se+1,$e=2;15>=lt;++lt,$e<<=1){if(er+=br<<=1,0>(br-=Xe[lt]))return 0;for(;0<Xe[lt];--Xe[lt]){if(De=new G,(ir&jt)!=It){for(kt+=tr,At=1<<(It=lt)-Se;15>It&&!(0>=(At-=Xe[It]));)++It,At<<=1;bt+=tr=1<<(At=It-Se),ve[be+(It=ir&jt)].g=At+Se,ve[be+It].value=kt-be-It}De.g=lt-Se,De.value=dt[tt++],re(ve,kt+(ir>>Se),$e,tr,De),ir=B(ir,lt)}}return er!=2*Ke[15]-1?0:bt}(S,R,z,K,ce,pe)}function G(){this.value=this.g=0}function se(){this.value=this.g=0}function ye(){this.G=c(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(In,se)}function me(S,R,z,K){e(S!=null),e(R!=null),e(2147483648>K),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=R,S.pa=z,S.Jd=R,S.Yc=z+K,S.Zc=4<=K?z+K-4+1:z,Be(S)}function de(S,R){for(var z=0;0<R--;)z|=Me(S,128)<<R;return z}function we(S,R){var z=de(S,R);return Re(S)?-z:z}function Pe(S,R,z,K){var ce,pe=0;for(e(S!=null),e(R!=null),e(4294967288>K),S.Sb=K,S.Ra=0,S.u=0,S.h=0,4<K&&(K=4),ce=0;ce<K;++ce)pe+=R[z+ce]<<8*ce;S.Ra=pe,S.bb=K,S.oa=R,S.pa=z}function Ae(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Si-8>>>0,++S.bb,S.u-=8;J(S)&&(S.h=1,S.u=0)}function ae(S,R){if(e(0<=R),!S.h&&R<=co){var z=W(S)&Po[R];return S.u+=R,Ae(S),z}return S.h=1,S.u=0}function fe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(S){return S.Ra>>>(S.u&Si-1)>>>0}function J(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Si}function te(S,R){S.u=R,S.h=J(S)}function le(S){S.u>=Xr&&(e(S.u>=Xr),Ae(S))}function Be(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Re(S){return de(S,1)}function Me(S,R){var z=S.Ca;0>S.b&&Be(S);var K=S.b,ce=z*R>>>8,pe=(S.I>>>K>ce)+0;for(pe?(z-=ce,S.I-=ce+1<<K>>>0):z=ce+1,K=z,ce=0;256<=K;)ce+=8,K>>=8;return K=7^ce+rs[K],S.b-=K,S.Ca=(z<<K)-1,pe}function ke(S,R,z){S[R+0]=z>>24&255,S[R+1]=z>>16&255,S[R+2]=z>>8&255,S[R+3]=z>>0&255}function ze(S,R){return S[R+0]<<0|S[R+1]<<8}function ut(S,R){return ze(S,R)|S[R+2]<<16}function gt(S,R){return ze(S,R)|ze(S,R+2)<<16}function Ct(S,R){var z=1<<R;return e(S!=null),e(0<R),S.X=s(z),S.X==null?0:(S.Mb=32-R,S.Xa=R,1)}function rt(S,R){e(S!=null),e(R!=null),e(S.Xa==R.Xa),n(R.X,0,S.X,0,1<<R.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function Ve(S,R,z,K){e(z!=null),e(K!=null);var ce=z[0],pe=K[0];return ce==0&&(ce=(S*pe+R/2)/R),pe==0&&(pe=(R*ce+S/2)/S),0>=ce||0>=pe?0:(z[0]=ce,K[0]=pe,1)}function st(S,R){return S+(1<<R)-1>>>R}function Ue(S,R){return((4278255360&S)+(4278255360&R)>>>0&4278255360)+((16711935&S)+(16711935&R)>>>0&16711935)>>>0}function Je(S,R){H[R]=function(z,K,ce,pe,ve,be,Se){var De;for(De=0;De<ve;++De){var $e=H[S](be[Se+De-1],ce,pe+De);be[Se+De]=Ue(z[K+De],$e)}}}function et(){this.ud=this.hd=this.jd=0}function Pt(S,R){return((4278124286&(S^R))>>>1)+(S&R)>>>0}function Mt(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Xt(S,R){return Mt(S+(S-R+.5>>1))}function cr(S,R,z){return Math.abs(R-z)-Math.abs(S-z)}function rr(S,R,z,K,ce,pe,ve){for(K=pe[ve-1],z=0;z<ce;++z)pe[ve+z]=K=Ue(S[R+z],K)}function lr(S,R,z,K,ce){var pe;for(pe=0;pe<z;++pe){var ve=S[R+pe],be=ve>>8&255,Se=16711935&(Se=(Se=16711935&ve)+((be<<16)+be));K[ce+pe]=(4278255360&ve)+Se>>>0}}function hr(S,R){R.jd=S>>0&255,R.hd=S>>8&255,R.ud=S>>16&255}function Qt(S,R,z,K,ce,pe){var ve;for(ve=0;ve<K;++ve){var be=R[z+ve],Se=be>>>8,De=be,$e=255&($e=($e=be>>>16)+((S.jd<<24>>24)*(Se<<24>>24)>>>5));De=255&(De=(De=De+((S.hd<<24>>24)*(Se<<24>>24)>>>5))+((S.ud<<24>>24)*($e<<24>>24)>>>5)),ce[pe+ve]=(4278255360&be)+($e<<16)+De}}function Br(S,R,z,K,ce){H[R]=function(pe,ve,be,Se,De,$e,dt,lt,tt){for(Se=dt;Se<lt;++Se)for(dt=0;dt<tt;++dt)De[$e++]=ce(be[K(pe[ve++])])},H[S]=function(pe,ve,be,Se,De,$e,dt){var lt=8>>pe.b,tt=pe.Ea,kt=pe.K[0],bt=pe.w;if(8>lt)for(pe=(1<<pe.b)-1,bt=(1<<lt)-1;ve<be;++ve){var Xe,Ke=0;for(Xe=0;Xe<tt;++Xe)Xe&pe||(Ke=K(Se[De++])),$e[dt++]=ce(kt[Ke&bt]),Ke>>=lt}else H["VP8LMapColor"+z](Se,De,kt,bt,$e,dt,ve,be,tt)}}function Yt(S,R,z,K,ce){for(z=R+z;R<z;){var pe=S[R++];K[ce++]=pe>>16&255,K[ce++]=pe>>8&255,K[ce++]=pe>>0&255}}function En(S,R,z,K,ce){for(z=R+z;R<z;){var pe=S[R++];K[ce++]=pe>>16&255,K[ce++]=pe>>8&255,K[ce++]=pe>>0&255,K[ce++]=pe>>24&255}}function ur(S,R,z,K,ce){for(z=R+z;R<z;){var pe=(ve=S[R++])>>16&240|ve>>12&15,ve=ve>>0&240|ve>>28&15;K[ce++]=pe,K[ce++]=ve}}function Vt(S,R,z,K,ce){for(z=R+z;R<z;){var pe=(ve=S[R++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;K[ce++]=pe,K[ce++]=ve}}function wr(S,R,z,K,ce){for(z=R+z;R<z;){var pe=S[R++];K[ce++]=pe>>0&255,K[ce++]=pe>>8&255,K[ce++]=pe>>16&255}}function yr(S,R,z,K,ce,pe){if(pe==0)for(z=R+z;R<z;)ke(K,((pe=S[R++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),ce+=32;else n(K,ce,S,R,z)}function Zr(S,R){H[R][0]=H[S+"0"],H[R][1]=H[S+"1"],H[R][2]=H[S+"2"],H[R][3]=H[S+"3"],H[R][4]=H[S+"4"],H[R][5]=H[S+"5"],H[R][6]=H[S+"6"],H[R][7]=H[S+"7"],H[R][8]=H[S+"8"],H[R][9]=H[S+"9"],H[R][10]=H[S+"10"],H[R][11]=H[S+"11"],H[R][12]=H[S+"12"],H[R][13]=H[S+"13"],H[R][14]=H[S+"0"],H[R][15]=H[S+"0"]}function Jr(S){return S==Fu||S==Bl||S==sl||S==qc}function Hs(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Hs,this.f.kb=new Un,this.sd=null}function xa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ar(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Hr(S,R){var z=S.T,K=R.ba.f.RGBA,ce=K.eb,pe=K.fb+S.ka*K.A,ve=gs[R.ba.S],be=S.y,Se=S.O,De=S.f,$e=S.N,dt=S.ea,lt=S.W,tt=R.cc,kt=R.dc,bt=R.Mc,Xe=R.Nc,Ke=S.ka,At=S.ka+S.T,It=S.U,jt=It+1>>1;for(Ke==0?ve(be,Se,null,null,De,$e,dt,lt,De,$e,dt,lt,ce,pe,null,null,It):(ve(R.ec,R.fc,be,Se,tt,kt,bt,Xe,De,$e,dt,lt,ce,pe-K.A,ce,pe,It),++z);Ke+2<At;Ke+=2)tt=De,kt=$e,bt=dt,Xe=lt,$e+=S.Rc,lt+=S.Rc,pe+=2*K.A,ve(be,(Se+=2*S.fa)-S.fa,be,Se,tt,kt,bt,Xe,De,$e,dt,lt,ce,pe-K.A,ce,pe,It);return Se+=S.fa,S.j+At<S.o?(n(R.ec,R.fc,be,Se,It),n(R.cc,R.dc,De,$e,jt),n(R.Mc,R.Nc,dt,lt,jt),z--):1&At||ve(be,Se,null,null,De,$e,dt,lt,De,$e,dt,lt,ce,pe+K.A,null,null,It),z}function qs(S,R,z){var K=S.F,ce=[S.J];if(K!=null){var pe=S.U,ve=R.ba.S,be=ve==dc||ve==sl;R=R.ba.f.RGBA;var Se=[0],De=S.ka;Se[0]=S.T,S.Kb&&(De==0?--Se[0]:(--De,ce[0]-=S.width),S.j+S.ka+S.T==S.o&&(Se[0]=S.o-S.j-De));var $e=R.eb;De=R.fb+De*R.A,S=un(K,ce[0],S.width,pe,Se,$e,De+(be?0:3),R.A),e(z==Se),S&&Jr(ve)&&Gs($e,De,be,pe,Se,R.A)}return 0}function tn(S){var R=S.ma,z=R.ba.S,K=11>z,ce=z==Hc||z==Pu||z==dc||z==al||z==12||Jr(z);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!zi(R.Oa,S,ce?11:12))return 0;if(ce&&Jr(z)&&Dt(),S.da)alert("todo:use_scaling");else{if(K){if(R.Ib=Ar,S.Kb){if(z=S.U+1>>1,R.memory=s(S.U+2*z),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+S.U,R.Mc=R.cc,R.Nc=R.dc+z,R.Ib=Hr,Dt()}}else alert("todo:EmitYUV");ce&&(R.Jb=qs,K&&nt())}if(K&&!Xh){for(S=0;256>S;++S)cp[S]=89858*(S-128)+as>>zo,Uu[S]=-22014*(S-128)+as,of[S]=-45773*(S-128),ss[S]=113618*(S-128)+as>>zo;for(S=Hl;S<P0;++S)R=76283*(S-16)+as>>zo,zu[S-Hl]=ka(R,255),lf[S-Hl]=ka(R+8>>4,15);Xh=1}return 1}function Ha(S){var R=S.ma,z=S.U,K=S.T;return e(!(1&S.ka)),0>=z||0>=K?0:(z=R.Ib(S,R),R.Jb!=null&&R.Jb(S,R,z),R.Dc+=z,1)}function ys(S){S.ma.memory=null}function or(S,R,z,K){return ae(S,8)!=47?0:(R[0]=ae(S,14)+1,z[0]=ae(S,14)+1,K[0]=ae(S,1),ae(S,3)!=0?0:!S.h)}function On(S,R){if(4>S)return S+1;var z=S-2>>1;return(2+(1&S)<<z)+ae(R,z)+1}function hn(S,R){return 120<R?R-120:1<=(z=((z=ol[R-1])>>4)*S+(8-(15&z)))?z:1;var z}function sa(S,R,z){var K=W(z),ce=S[R+=255&K].g-8;return 0<ce&&(te(z,z.u+8),K=W(z),R+=S[R].value,R+=K&(1<<ce)-1),te(z,z.u+S[R].g),S[R].value}function rn(S,R,z){return z.g+=S.g,z.value+=S.value<<R>>>0,e(8>=z.g),S.g}function Rn(S,R,z){var K=S.xc;return e((R=K==0?0:S.vc[S.md*(z>>K)+(R>>K)])<S.Wb),S.Ya[R]}function he(S,R,z,K){var ce=S.ab,pe=S.c*R,ve=S.C;R=ve+R;var be=z,Se=K;for(K=S.Ta,z=S.Ua;0<ce--;){var De=S.gc[ce],$e=ve,dt=R,lt=be,tt=Se,kt=(Se=K,be=z,De.Ea);switch(e($e<dt),e(dt<=De.nc),De.hc){case 2:f(lt,tt,(dt-$e)*kt,Se,be);break;case 0:var bt=$e,Xe=dt,Ke=Se,At=be,It=(tr=De).Ea;bt==0&&(oe(lt,tt,null,null,1,Ke,At),rr(lt,tt+1,0,0,It-1,Ke,At+1),tt+=It,At+=It,++bt);for(var jt=1<<tr.b,ir=jt-1,er=st(It,tr.b),br=tr.K,tr=tr.w+(bt>>tr.b)*er;bt<Xe;){var Sn=br,Dn=tr,an=1;for(l(lt,tt,Ke,At-It,1,Ke,At);an<It;){var Qr=(an&~ir)+jt;Qr>It&&(Qr=It),(0,T[Sn[Dn++]>>8&15])(lt,tt+ +an,Ke,At+an-It,Qr-an,Ke,At+an),an=Qr}tt+=It,At+=It,++bt&ir||(tr+=er)}dt!=De.nc&&n(Se,be-kt,Se,be+(dt-$e-1)*kt,kt);break;case 1:for(kt=lt,Xe=tt,It=(lt=De.Ea)-(At=lt&~(Ke=(tt=1<<De.b)-1)),bt=st(lt,De.b),jt=De.K,De=De.w+($e>>De.b)*bt;$e<dt;){for(ir=jt,er=De,br=new et,tr=Xe+At,Sn=Xe+lt;Xe<tr;)hr(ir[er++],br),k(br,kt,Xe,tt,Se,be),Xe+=tt,be+=tt;Xe<Sn&&(hr(ir[er++],br),k(br,kt,Xe,It,Se,be),Xe+=It,be+=It),++$e&Ke||(De+=bt)}break;case 3:if(lt==Se&&tt==be&&0<De.b){for(Xe=Se,lt=kt=be+(dt-$e)*kt-(At=(dt-$e)*st(De.Ea,De.b)),tt=Se,Ke=be,bt=[],At=(It=At)-1;0<=At;--At)bt[At]=tt[Ke+At];for(At=It-1;0<=At;--At)Xe[lt+At]=bt[At];p(De,$e,dt,Se,kt,Se,be)}else p(De,$e,dt,lt,tt,Se,be)}be=K,Se=z}Se!=z&&n(K,z,be,Se,pe)}function Ne(S,R){var z=S.V,K=S.Ba+S.c*S.C,ce=R-S.C;if(e(R<=S.l.o),e(16>=ce),0<ce){var pe=S.l,ve=S.Ta,be=S.Ua,Se=pe.width;if(he(S,ce,z,K),ce=be=[be],e((z=S.C)<(K=R)),e(pe.v<pe.va),K>pe.o&&(K=pe.o),z<pe.j){var De=pe.j-z;z=pe.j,ce[0]+=De*Se}if(z>=K?z=0:(ce[0]+=4*pe.v,pe.ka=z-pe.j,pe.U=pe.va-pe.v,pe.T=K-z,z=1),z){if(be=be[0],11>(z=S.ca).S){var $e=z.f.RGBA,dt=(K=z.S,ce=pe.U,pe=pe.T,De=$e.eb,$e.A),lt=pe;for($e=$e.fb+S.Ma*$e.A;0<lt--;){var tt=ve,kt=be,bt=ce,Xe=De,Ke=$e;switch(K){case ks:U(tt,kt,bt,Xe,Ke);break;case Hc:Z(tt,kt,bt,Xe,Ke);break;case Fu:Z(tt,kt,bt,Xe,Ke),Gs(Xe,Ke,0,bt,1,0);break;case Fo:Ie(tt,kt,bt,Xe,Ke);break;case Pu:yr(tt,kt,bt,Xe,Ke,1);break;case Bl:yr(tt,kt,bt,Xe,Ke,1),Gs(Xe,Ke,0,bt,1,0);break;case dc:yr(tt,kt,bt,Xe,Ke,0);break;case sl:yr(tt,kt,bt,Xe,Ke,0),Gs(Xe,Ke,1,bt,1,0);break;case al:ie(tt,kt,bt,Xe,Ke);break;case qc:ie(tt,kt,bt,Xe,Ke),cn(Xe,Ke,bt,1,0);break;case R0:xe(tt,kt,bt,Xe,Ke);break;default:e(0)}be+=Se,$e+=dt}S.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=z.height)}}S.C=R,e(S.C<=S.i)}function Ce(S){var R;if(0<S.ua)return 0;for(R=0;R<S.Wb;++R){var z=S.Ya[R].G,K=S.Ya[R].H;if(0<z[1][K[1]+0].g||0<z[2][K[2]+0].g||0<z[3][K[3]+0].g)return 0}return 1}function Te(S,R,z,K,ce,pe){if(S.Z!=0){var ve=S.qd,be=S.rd;for(e(Bo[S.Z]!=null);R<z;++R)Bo[S.Z](ve,be,K,ce,K,ce,pe),ve=K,be=ce,ce+=pe;S.qd=ve,S.rd=be}}function Oe(S,R){var z=S.l.ma,K=z.Z==0||z.Z==1?S.l.j:S.C;if(K=S.C<K?K:S.C,e(R<=S.l.o),R>K){var ce=S.l.width,pe=z.ca,ve=z.tb+ce*K,be=S.V,Se=S.Ba+S.c*K,De=S.gc;e(S.ab==1),e(De[0].hc==3),w(De[0],K,R,be,Se,pe,ve),Te(z,K,R,pe,ve,ce)}S.C=S.Ma=R}function Fe(S,R,z,K,ce,pe,ve){var be=S.$/K,Se=S.$%K,De=S.m,$e=S.s,dt=z+S.$,lt=dt;ce=z+K*ce;var tt=z+K*pe,kt=280+$e.ua,bt=S.Pb?be:16777216,Xe=0<$e.ua?$e.Wa:null,Ke=$e.wc,At=dt<tt?Rn($e,Se,be):null;e(S.C<pe),e(tt<=ce);var It=!1;e:for(;;){for(;It||dt<tt;){var jt=0;if(be>=bt){var ir=dt-z;e((bt=S).Pb),bt.wd=bt.m,bt.xd=ir,0<bt.s.ua&&rt(bt.s.Wa,bt.s.vb),bt=be+Wh}if(Se&Ke||(At=Rn($e,Se,be)),e(At!=null),At.Qb&&(R[dt]=At.qb,It=!0),!It)if(le(De),At.jc){jt=De,ir=R;var er=dt,br=At.pd[W(jt)&In-1];e(At.jc),256>br.g?(te(jt,jt.u+br.g),ir[er]=br.value,jt=0):(te(jt,jt.u+br.g-256),e(256<=br.value),jt=br.value),jt==0&&(It=!0)}else jt=sa(At.G[0],At.H[0],De);if(De.h)break;if(It||256>jt){if(!It)if(At.nd)R[dt]=(At.qb|jt<<8)>>>0;else{if(le(De),It=sa(At.G[1],At.H[1],De),le(De),ir=sa(At.G[2],At.H[2],De),er=sa(At.G[3],At.H[3],De),De.h)break;R[dt]=(er<<24|It<<16|jt<<8|ir)>>>0}if(It=!1,++dt,++Se>=K&&(Se=0,++be,ve!=null&&be<=pe&&!(be%16)&&ve(S,be),Xe!=null))for(;lt<dt;)jt=R[lt++],Xe.X[(506832829*jt&4294967295)>>>Xe.Mb]=jt}else if(280>jt){if(jt=On(jt-256,De),ir=sa(At.G[4],At.H[4],De),le(De),ir=hn(K,ir=On(ir,De)),De.h)break;if(dt-z<ir||ce-dt<jt)break e;for(er=0;er<jt;++er)R[dt+er]=R[dt+er-ir];for(dt+=jt,Se+=jt;Se>=K;)Se-=K,++be,ve!=null&&be<=pe&&!(be%16)&&ve(S,be);if(e(dt<=ce),Se&Ke&&(At=Rn($e,Se,be)),Xe!=null)for(;lt<dt;)jt=R[lt++],Xe.X[(506832829*jt&4294967295)>>>Xe.Mb]=jt}else{if(!(jt<kt))break e;for(It=jt-280,e(Xe!=null);lt<dt;)jt=R[lt++],Xe.X[(506832829*jt&4294967295)>>>Xe.Mb]=jt;jt=dt,e(!(It>>>(ir=Xe).Xa)),R[jt]=ir.X[It],It=!0}It||e(De.h==J(De))}if(S.Pb&&De.h&&dt<ce)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&rt(S.s.vb,S.s.Wa);else{if(De.h)break e;ve!=null&&ve(S,be>pe?pe:be),S.a=0,S.$=dt-z}return 1}return S.a=3,0}function it(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var R=S.Wa;R!=null&&(R.X=null),S.vb=null,e(S!=null)}function wt(){var S=new ba;return S==null?null:(S.a=0,S.xb=Vc,Zr("Predictor","VP8LPredictors"),Zr("Predictor","VP8LPredictors_C"),Zr("PredictorAdd","VP8LPredictorsAdd"),Zr("PredictorAdd","VP8LPredictorsAdd_C"),f=lr,k=Qt,U=Yt,Z=En,ie=ur,xe=Vt,Ie=wr,H.VP8LMapColor32b=y,H.VP8LMapColor8b=N,S)}function Ze(S,R,z,K,ce){var pe=1,ve=[S],be=[R],Se=K.m,De=K.s,$e=null,dt=0;e:for(;;){if(z)for(;pe&&ae(Se,1);){var lt=ve,tt=be,kt=K,bt=1,Xe=kt.m,Ke=kt.gc[kt.ab],At=ae(Xe,2);if(kt.Oc&1<<At)pe=0;else{switch(kt.Oc|=1<<At,Ke.hc=At,Ke.Ea=lt[0],Ke.nc=tt[0],Ke.K=[null],++kt.ab,e(4>=kt.ab),At){case 0:case 1:Ke.b=ae(Xe,3)+2,bt=Ze(st(Ke.Ea,Ke.b),st(Ke.nc,Ke.b),0,kt,Ke.K),Ke.K=Ke.K[0];break;case 3:var It,jt=ae(Xe,8)+1,ir=16<jt?0:4<jt?1:2<jt?2:3;if(lt[0]=st(Ke.Ea,ir),Ke.b=ir,It=bt=Ze(jt,1,0,kt,Ke.K)){var er,br=jt,tr=Ke,Sn=1<<(8>>tr.b),Dn=s(Sn);if(Dn==null)It=0;else{var an=tr.K[0],Qr=tr.w;for(Dn[0]=tr.K[0][0],er=1;er<1*br;++er)Dn[er]=Ue(an[Qr+er],Dn[er-1]);for(;er<4*Sn;++er)Dn[er]=0;tr.K[0]=null,tr.K[0]=Dn,It=1}}bt=It;break;case 2:break;default:e(0)}pe=bt}}if(ve=ve[0],be=be[0],pe&&ae(Se,1)&&!(pe=1<=(dt=ae(Se,4))&&11>=dt)){K.a=3;break e}var qn;if(qn=pe)t:{var Pn,Vr,Vn,Er=K,Fr=ve,_n=be,An=dt,ms=z,is=Er.m,Ba=Er.s,Ua=[null],Ga=1,Wi=0,Fn=hc[An];r:for(;;){if(ms&&ae(is,1)){var $a=ae(is,3)+2,uo=st(Fr,$a),ql=st(_n,$a),pc=uo*ql;if(!Ze(uo,ql,0,Er,Ua))break r;for(Ua=Ua[0],Ba.xc=$a,Pn=0;Pn<pc;++Pn){var Vl=Ua[Pn]>>8&65535;Ua[Pn]=Vl,Vl>=Ga&&(Ga=Vl+1)}}if(is.h)break r;for(Vr=0;5>Vr;++Vr){var ga=Ai[Vr];!Vr&&0<An&&(ga+=1<<An),Wi<ga&&(Wi=ga)}var Hu=c(Ga*Fn,G),F0=Ga,Xs=c(F0,ye);if(Xs==null)var Sa=null;else e(65536>=F0),Sa=Xs;var xc=s(Wi);if(Sa==null||xc==null||Hu==null){Er.a=1;break r}var Wl=Hu;for(Pn=Vn=0;Pn<Ga;++Pn){var ci=Sa[Pn],Gl=ci.G,ui=ci.H,qu=0,Gc=1,M0=0;for(Vr=0;5>Vr;++Vr){ga=Ai[Vr],Gl[Vr]=Wl,ui[Vr]=Vn,!Vr&&0<An&&(ga+=1<<An);a:{var Vu,B0=ga,Wu=Er,$c=xc,Zh=Wl,Jh=Vn,Gu=0,dl=Wu.m,dp=ae(dl,1);if(a($c,0,0,B0),dp){var Qh=ae(dl,1)+1,e1=ae(dl,1),cf=ae(dl,e1==0?1:8);$c[cf]=1,Qh==2&&($c[cf=ae(dl,8)]=1);var Xc=1}else{var uf=s(19),df=ae(dl,4)+4;if(19<df){Wu.a=3;var $u=0;break a}for(Vu=0;Vu<df;++Vu)uf[il[Vu]]=ae(dl,3);var U0=void 0,Yc=void 0,t1=Wu,r1=uf,fl=B0,Xu=$c,z0=0,fo=t1.m,Kc=8,ff=c(128,G);n:for(;q(ff,0,7,r1,19);){if(ae(fo,1)){var n1=2+2*ae(fo,3);if((U0=2+ae(fo,n1))>fl)break n}else U0=fl;for(Yc=0;Yc<fl&&U0--;){le(fo);var hf=ff[0+(127&W(fo))];te(fo,fo.u+hf.g);var vc=hf.value;if(16>vc)Xu[Yc++]=vc,vc!=0&&(Kc=vc);else{var a1=vc==16,gf=vc-16,mf=Vi[gf],pf=ae(fo,k0[gf])+mf;if(Yc+pf>fl)break n;for(var s1=a1?Kc:0;0<pf--;)Xu[Yc++]=s1}}z0=1;break n}z0||(t1.a=3),Xc=z0}(Xc=Xc&&!dl.h)&&(Gu=q(Zh,Jh,8,$c,B0)),Xc&&Gu!=0?$u=Gu:(Wu.a=3,$u=0)}if($u==0)break r;if(Gc&&fc[Vr]==1&&(Gc=Wl[Vn].g==0),qu+=Wl[Vn].g,Vn+=$u,3>=Vr){var yc,H0=xc[0];for(yc=1;yc<ga;++yc)xc[yc]>H0&&(H0=xc[yc]);M0+=H0}}if(ci.nd=Gc,ci.Qb=0,Gc&&(ci.qb=(Gl[3][ui[3]+0].value<<24|Gl[1][ui[1]+0].value<<16|Gl[2][ui[2]+0].value)>>>0,qu==0&&256>Gl[0][ui[0]+0].value&&(ci.Qb=1,ci.qb+=Gl[0][ui[0]+0].value<<8)),ci.jc=!ci.Qb&&6>M0,ci.jc){var Yu,hl=ci;for(Yu=0;Yu<In;++Yu){var Ho=Yu,gl=hl.pd[Ho],Ku=hl.G[0][hl.H[0]+Ho];256<=Ku.value?(gl.g=Ku.g+256,gl.value=Ku.value):(gl.g=0,gl.value=0,Ho>>=rn(Ku,8,gl),Ho>>=rn(hl.G[1][hl.H[1]+Ho],16,gl),Ho>>=rn(hl.G[2][hl.H[2]+Ho],0,gl),rn(hl.G[3][hl.H[3]+Ho],24,gl))}}}Ba.vc=Ua,Ba.Wb=Ga,Ba.Ya=Sa,Ba.yc=Hu,qn=1;break t}qn=0}if(!(pe=qn)){K.a=3;break e}if(0<dt){if(De.ua=1<<dt,!Ct(De.Wa,dt)){K.a=1,pe=0;break e}}else De.ua=0;var Zu=K,xf=ve,i1=be,vf=Zu.s,yf=vf.xc;if(Zu.c=xf,Zu.i=i1,vf.md=st(xf,yf),vf.wc=yf==0?-1:(1<<yf)-1,z){K.xb=$h;break e}if(($e=s(ve*be))==null){K.a=1,pe=0;break e}pe=(pe=Fe(K,$e,0,ve,be,be,null))&&!Se.h;break e}return pe?(ce!=null?ce[0]=$e:(e($e==null),e(z)),K.$=0,z||it(De)):it(De),pe}function ft(S,R){var z=S.c*S.i,K=z+R+16*R;return e(S.c<=R),S.V=s(K),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+z+R,1)}function mt(S,R){var z=S.C,K=R-z,ce=S.V,pe=S.Ba+S.c*z;for(e(R<=S.l.o);0<K;){var ve=16<K?16:K,be=S.l.ma,Se=S.l.width,De=Se*ve,$e=be.ca,dt=be.tb+Se*z,lt=S.Ta,tt=S.Ua;he(S,ve,ce,pe),ta(lt,tt,$e,dt,De),Te(be,z,z+ve,$e,dt,Se),K-=ve,ce+=ve*S.c,z+=ve}e(z==R),S.C=S.Ma=R}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function Ut(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Gt(){this.Yb=function(){var S=[];return function R(z,K,ce){for(var pe=ce[K],ve=0;ve<pe&&(z.push(ce.length>K+1?[]:0),!(ce.length<K+1));ve++)R(z[ve],K+1,ce)}(S,0,[3,11]),S}()}function Kt(){this.jb=s(3),this.Wc=h([4,8],Gt),this.Xc=h([4,17],Gt)}function Nr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function _t(){this.ld=this.La=this.dd=this.tc=0}function yn(){this.Na=this.la=0}function Sr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Di(){this.uc=this.M=this.Nb=0,this.wa=Array(new _t),this.Y=0,this.ya=Array(new qa),this.aa=0,this.l=new jr}function Ur(){this.y=s(16),this.f=s(8),this.ea=s(8)}function qr(){this.cb=this.a=0,this.sc="",this.m=new fe,this.Od=new Ot,this.Kc=new Ut,this.ed=new Nr,this.Qa=new Wt,this.Ic=this.$c=this.Aa=0,this.D=new Di,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,fe),this.ia=0,this.pb=c(4,Sr),this.Pa=new Kt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ur),this.Hd=0,this.rb=Array(new yn),this.sb=0,this.wa=Array(new _t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qa),this.L=this.aa=0,this.gd=h([4,2],_t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function jr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ws(){var S=new qr;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,ns||(ns=_i)),S}function Jn(S,R,z){return S.a==0&&(S.a=R,S.sc=z,S.cb=0),0}function es(S,R,z){return 3<=z&&S[R+0]==157&&S[R+1]==1&&S[R+2]==42}function ia(S,R){if(S==null)return 0;if(S.a=0,S.sc="OK",R==null)return Jn(S,2,"null VP8Io passed to VP8GetHeaders()");var z=R.data,K=R.w,ce=R.ha;if(4>ce)return Jn(S,7,"Truncated header.");var pe=z[K+0]|z[K+1]<<8|z[K+2]<<16,ve=S.Od;if(ve.Rb=!(1&pe),ve.td=pe>>1&7,ve.yd=pe>>4&1,ve.ub=pe>>5,3<ve.td)return Jn(S,3,"Incorrect keyframe parameters.");if(!ve.yd)return Jn(S,4,"Frame not displayable.");K+=3,ce-=3;var be=S.Kc;if(ve.Rb){if(7>ce)return Jn(S,7,"cannot parse picture header");if(!es(z,K,ce))return Jn(S,3,"Bad code word");be.c=16383&(z[K+4]<<8|z[K+3]),be.Td=z[K+4]>>6,be.i=16383&(z[K+6]<<8|z[K+5]),be.Ud=z[K+6]>>6,K+=7,ce-=7,S.za=be.c+15>>4,S.Ub=be.i+15>>4,R.width=be.c,R.height=be.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,a((pe=S.Pa).jb,0,255,pe.jb.length),e((pe=S.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,a(pe.Zb,0,0,pe.Zb.length),a(pe.Lb,0,0,pe.Lb)}if(ve.ub>ce)return Jn(S,7,"bad partition length");me(pe=S.m,z,K,ve.ub),K+=ve.ub,ce-=ve.ub,ve.Rb&&(be.Ld=Re(pe),be.Kd=Re(pe)),be=S.Qa;var Se,De=S.Pa;if(e(pe!=null),e(be!=null),be.Cb=Re(pe),be.Cb){if(be.Bb=Re(pe),Re(pe)){for(be.Fb=Re(pe),Se=0;4>Se;++Se)be.Zb[Se]=Re(pe)?we(pe,7):0;for(Se=0;4>Se;++Se)be.Lb[Se]=Re(pe)?we(pe,6):0}if(be.Bb)for(Se=0;3>Se;++Se)De.jb[Se]=Re(pe)?de(pe,8):255}else be.Bb=0;if(pe.Ka)return Jn(S,3,"cannot parse segment header");if((be=S.ed).zd=Re(pe),be.Tb=de(pe,6),be.wb=de(pe,3),be.Pc=Re(pe),be.Pc&&Re(pe)){for(De=0;4>De;++De)Re(pe)&&(be.vd[De]=we(pe,6));for(De=0;4>De;++De)Re(pe)&&(be.od[De]=we(pe,6))}if(S.L=be.Tb==0?0:be.zd?1:2,pe.Ka)return Jn(S,3,"cannot parse filter header");var $e=ce;if(ce=Se=K,K=Se+$e,be=$e,S.Xb=(1<<de(S.m,2))-1,$e<3*(De=S.Xb))z=7;else{for(Se+=3*De,be-=3*De,$e=0;$e<De;++$e){var dt=z[ce+0]|z[ce+1]<<8|z[ce+2]<<16;dt>be&&(dt=be),me(S.Jc[+$e],z,Se,dt),Se+=dt,be-=dt,ce+=3}me(S.Jc[+De],z,Se,be),z=Se<K?0:5}if(z!=0)return Jn(S,z,"cannot parse partitions");for(z=de(Se=S.m,7),ce=Re(Se)?we(Se,4):0,K=Re(Se)?we(Se,4):0,be=Re(Se)?we(Se,4):0,De=Re(Se)?we(Se,4):0,Se=Re(Se)?we(Se,4):0,$e=S.Qa,dt=0;4>dt;++dt){if($e.Cb){var lt=$e.Zb[dt];$e.Fb||(lt+=z)}else{if(0<dt){S.pb[dt]=S.pb[0];continue}lt=z}var tt=S.pb[dt];tt.Sc[0]=Mu[ka(lt+ce,127)],tt.Sc[1]=Bu[ka(lt+0,127)],tt.Eb[0]=2*Mu[ka(lt+K,127)],tt.Eb[1]=101581*Bu[ka(lt+be,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=Mu[ka(lt+De,117)],tt.Qc[1]=Bu[ka(lt+Se,127)],tt.lc=lt+Se}if(!ve.Rb)return Jn(S,4,"Not a key frame.");for(Re(pe),ve=S.Pa,z=0;4>z;++z){for(ce=0;8>ce;++ce)for(K=0;3>K;++K)for(be=0;11>be;++be)De=Me(pe,gc[z][ce][K][be])?de(pe,8):Mo[z][ce][K][be],ve.Wc[z][ce].Yb[K][be]=De;for(ce=0;17>ce;++ce)ve.Xc[z][ce]=ve.Wc[z][Gh[ce]]}return S.kc=Re(pe),S.kc&&(S.Bd=de(pe,8)),S.cb=1}function _i(S,R,z,K,ce,pe,ve){var be=R[ce].Yb[z];for(z=0;16>ce;++ce){if(!Me(S,be[z+0]))return ce;for(;!Me(S,be[z+1]);)if(be=R[++ce].Yb[0],z=0,ce==16)return 16;var Se=R[ce+1].Yb;if(Me(S,be[z+2])){var De=S,$e=0;if(Me(De,(lt=be)[(dt=z)+3]))if(Me(De,lt[dt+6])){for(be=0,dt=2*($e=Me(De,lt[dt+8]))+(lt=Me(De,lt[dt+9+$e])),$e=0,lt=Ia[dt];lt[be];++be)$e+=$e+Me(De,lt[be]);$e+=3+(8<<dt)}else Me(De,lt[dt+7])?($e=7+2*Me(De,165),$e+=Me(De,145)):$e=5+Me(De,159);else $e=Me(De,lt[dt+4])?3+Me(De,lt[dt+5]):2;be=Se[2]}else $e=1,be=Se[1];Se=ve+Tn[ce],0>(De=S).b&&Be(De);var dt,lt=De.b,tt=(dt=De.Ca>>1)-(De.I>>lt)>>31;--De.b,De.Ca+=tt,De.Ca|=1,De.I-=(dt+1&tt)<<lt,pe[Se]=(($e^tt)-tt)*K[(0<ce)+0]}return 16}function Oo(S){var R=S.rb[S.sb-1];R.la=0,R.Na=0,a(S.zc,0,0,S.zc.length),S.ja=0}function Qn(S,R){if(S==null)return 0;if(R==null)return Jn(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!ia(S,R))return 0;if(e(S.cb),R.ac==null||R.ac(R)){R.ob&&(S.L=0);var z=ul[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=R.v-z>>4,S.zb=R.j-z>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=R.o+15+z>>4,S.Hb=R.va+15+z>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var K=S.ed;for(z=0;4>z;++z){var ce;if(S.Qa.Cb){var pe=S.Qa.Lb[z];S.Qa.Fb||(pe+=K.Tb)}else pe=K.Tb;for(ce=0;1>=ce;++ce){var ve=S.gd[z][ce],be=pe;if(K.Pc&&(be+=K.vd[0],ce&&(be+=K.od[0])),0<(be=0>be?0:63<be?63:be)){var Se=be;0<K.wb&&(Se=4<K.wb?Se>>2:Se>>1)>9-K.wb&&(Se=9-K.wb),1>Se&&(Se=1),ve.dd=Se,ve.tc=2*be+Se,ve.ld=40<=be?2:15<=be?1:0}else ve.tc=0;ve.La=ce}}}z=0}else Jn(S,6,"Frame setup failed"),z=S.a;if(z=z==0){if(z){S.$c=0,0<S.Aa||(S.Ic=Yh);e:{z=S.Ic,K=4*(Se=S.za);var De=32*Se,$e=Se+1,dt=0<S.L?Se*(0<S.Aa?2:1):0,lt=(S.Aa==2?2:1)*Se;if((ve=K+832+(ce=3*(16*z+ul[S.L])/2*De)+(pe=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=ve)z=0;else{if(ve>S.Vb){if(S.Vb=0,S.Ec=s(ve),S.Fc=0,S.Ec==null){z=Jn(S,1,"no memory during frame initialization.");break e}S.Vb=ve}ve=S.Ec,be=S.Fc,S.Ac=ve,S.Bc=be,be+=K,S.Gd=c(De,Ur),S.Hd=0,S.rb=c($e+1,yn),S.sb=1,S.wa=dt?c(dt,_t):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=Se),e(!0),S.oc=ve,S.pc=be,be+=832,S.ya=c(lt,qa),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=Se),S.R=16*Se,S.B=8*Se,Se=(De=ul[S.L])*S.R,De=De/2*S.B,S.sa=ve,S.ta=be+Se,S.qa=S.sa,S.ra=S.ta+16*z*S.R+De,S.Ha=S.qa,S.Ia=S.ra+8*z*S.B+De,S.$c=0,be+=ce,S.mb=pe?ve:null,S.nb=pe?be:null,e(be+pe<=S.Fc+S.Vb),Oo(S),a(S.Ac,S.Bc,0,K),z=1}}if(z){if(R.ka=0,R.y=S.sa,R.O=S.ta,R.f=S.qa,R.N=S.ra,R.ea=S.Ha,R.Vd=S.Ia,R.fa=S.R,R.Rc=S.B,R.F=null,R.J=0,!nl){for(z=-255;255>=z;++z)Ma[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)Hi[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)Fl[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)Ml[255+z]=0>z?0:255<z?255:z;nl=1}qe=Fa,Ge=ot,pt=je,Lt=xr,Ht=ua,Qe=Oa,Bt=Bi,Pr=Ts,Cr=Wr,Ea=wa,Wa=Du,Na=xt,gn=oo,fa=oc,La=io,Rs=Ws,li=Mi,ha=Iu,$s[0]=fr,$s[1]=Ll,$s[2]=so,$s[3]=Ei,$s[4]=ai,$s[5]=Hn,$s[6]=Ir,$s[7]=si,$s[8]=el,$s[9]=Qo,ll[0]=Ro,ll[1]=vr,ll[2]=wn,ll[3]=Jo,ll[4]=ya,ll[5]=Pi,ll[6]=ao,Ci[0]=Vs,Ci[1]=bs,Ci[2]=Fi,Ci[3]=ko,Ci[4]=As,Ci[5]=Ra,Ci[6]=ii,z=1}else z=0}z&&(z=function(tt,kt){for(tt.M=0;tt.M<tt.Va;++tt.M){var bt,Xe=tt.Jc[tt.M&tt.Xb],Ke=tt.m,At=tt;for(bt=0;bt<At.za;++bt){var It=Ke,jt=At,ir=jt.Ac,er=jt.Bc+4*bt,br=jt.zc,tr=jt.ya[jt.aa+bt];if(jt.Qa.Bb?tr.$b=Me(It,jt.Pa.jb[0])?2+Me(It,jt.Pa.jb[2]):Me(It,jt.Pa.jb[1]):tr.$b=0,jt.kc&&(tr.Ad=Me(It,jt.Bd)),tr.Za=!Me(It,145)+0,tr.Za){var Sn=tr.Ob,Dn=0;for(jt=0;4>jt;++jt){var an,Qr=br[0+jt];for(an=0;4>an;++an){Qr=sf[ir[er+an]][Qr];for(var qn=Ul[Me(It,Qr[0])];0<qn;)qn=Ul[2*qn+Me(It,Qr[qn])];Qr=-qn,ir[er+an]=Qr}n(Sn,Dn,ir,er,4),Dn+=4,br[0+jt]=Qr}}else Qr=Me(It,156)?Me(It,128)?1:3:Me(It,163)?2:0,tr.Ob[0]=Qr,a(ir,er,Qr,4),a(br,0,Qr,4);tr.Dd=Me(It,142)?Me(It,114)?Me(It,183)?1:3:2:0}if(At.m.Ka)return Jn(tt,7,"Premature end-of-partition0 encountered.");for(;tt.ja<tt.za;++tt.ja){if(At=Xe,It=(Ke=tt).rb[Ke.sb-1],ir=Ke.rb[Ke.sb+Ke.ja],bt=Ke.ya[Ke.aa+Ke.ja],er=Ke.kc?bt.Ad:0)It.la=ir.la=0,bt.Za||(It.Na=ir.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var Pn,Vr;if(It=ir,ir=At,er=Ke.Pa.Xc,br=Ke.ya[Ke.aa+Ke.ja],tr=Ke.pb[br.$b],jt=br.ad,Sn=0,Dn=Ke.rb[Ke.sb-1],Qr=an=0,a(jt,Sn,0,384),br.Za)var Vn=0,Er=er[3];else{qn=s(16);var Fr=It.Na+Dn.Na;if(Fr=ns(ir,er[1],Fr,tr.Eb,0,qn,0),It.Na=Dn.Na=(0<Fr)+0,1<Fr)qe(qn,0,jt,Sn);else{var _n=qn[0]+3>>3;for(qn=0;256>qn;qn+=16)jt[Sn+qn]=_n}Vn=1,Er=er[0]}var An=15&It.la,ms=15&Dn.la;for(qn=0;4>qn;++qn){var is=1&ms;for(_n=Vr=0;4>_n;++_n)An=An>>1|(is=(Fr=ns(ir,Er,Fr=is+(1&An),tr.Sc,Vn,jt,Sn))>Vn)<<7,Vr=Vr<<2|(3<Fr?3:1<Fr?2:jt[Sn+0]!=0),Sn+=16;An>>=4,ms=ms>>1|is<<7,an=(an<<8|Vr)>>>0}for(Er=An,Vn=ms>>4,Pn=0;4>Pn;Pn+=2){for(Vr=0,An=It.la>>4+Pn,ms=Dn.la>>4+Pn,qn=0;2>qn;++qn){for(is=1&ms,_n=0;2>_n;++_n)Fr=is+(1&An),An=An>>1|(is=0<(Fr=ns(ir,er[2],Fr,tr.Qc,0,jt,Sn)))<<3,Vr=Vr<<2|(3<Fr?3:1<Fr?2:jt[Sn+0]!=0),Sn+=16;An>>=2,ms=ms>>1|is<<5}Qr|=Vr<<4*Pn,Er|=An<<4<<Pn,Vn|=(240&ms)<<Pn}It.la=Er,Dn.la=Vn,br.Hc=an,br.Gc=Qr,br.ia=43690&Qr?0:tr.ia,er=!(an|Qr)}if(0<Ke.L&&(Ke.wa[Ke.Y+Ke.ja]=Ke.gd[bt.$b][bt.Za],Ke.wa[Ke.Y+Ke.ja].La|=!er),At.Ka)return Jn(tt,7,"Premature end-of-file encountered.")}if(Oo(tt),Ke=kt,At=1,bt=(Xe=tt).D,It=0<Xe.L&&Xe.M>=Xe.zb&&Xe.M<=Xe.Va,Xe.Aa==0)e:{if(bt.M=Xe.M,bt.uc=It,Va(Xe,bt),At=1,bt=(Vr=Xe.D).Nb,It=(Qr=ul[Xe.L])*Xe.R,ir=Qr/2*Xe.B,qn=16*bt*Xe.R,_n=8*bt*Xe.B,er=Xe.sa,br=Xe.ta-It+qn,tr=Xe.qa,jt=Xe.ra-ir+_n,Sn=Xe.Ha,Dn=Xe.Ia-ir+_n,ms=(An=Vr.M)==0,an=An>=Xe.Va-1,Xe.Aa==2&&Va(Xe,Vr),Vr.uc)for(is=(Fr=Xe).D.M,e(Fr.D.uc),Vr=Fr.yb;Vr<Fr.Hb;++Vr){Vn=Vr,Er=is;var Ba=(Ua=(ga=Fr).D).Nb;Pn=ga.R;var Ua=Ua.wa[Ua.Y+Vn],Ga=ga.sa,Wi=ga.ta+16*Ba*Pn+16*Vn,Fn=Ua.dd,$a=Ua.tc;if($a!=0)if(e(3<=$a),ga.L==1)0<Vn&&Rs(Ga,Wi,Pn,$a+4),Ua.La&&ha(Ga,Wi,Pn,$a),0<Er&&La(Ga,Wi,Pn,$a+4),Ua.La&&li(Ga,Wi,Pn,$a);else{var uo=ga.B,ql=ga.qa,pc=ga.ra+8*Ba*uo+8*Vn,Vl=ga.Ha,ga=ga.Ia+8*Ba*uo+8*Vn;Ba=Ua.ld,0<Vn&&(Pr(Ga,Wi,Pn,$a+4,Fn,Ba),Ea(ql,pc,Vl,ga,uo,$a+4,Fn,Ba)),Ua.La&&(Na(Ga,Wi,Pn,$a,Fn,Ba),fa(ql,pc,Vl,ga,uo,$a,Fn,Ba)),0<Er&&(Bt(Ga,Wi,Pn,$a+4,Fn,Ba),Cr(ql,pc,Vl,ga,uo,$a+4,Fn,Ba)),Ua.La&&(Wa(Ga,Wi,Pn,$a,Fn,Ba),gn(ql,pc,Vl,ga,uo,$a,Fn,Ba))}}if(Xe.ia&&alert("todo:DitherRow"),Ke.put!=null){if(Vr=16*An,An=16*(An+1),ms?(Ke.y=Xe.sa,Ke.O=Xe.ta+qn,Ke.f=Xe.qa,Ke.N=Xe.ra+_n,Ke.ea=Xe.Ha,Ke.W=Xe.Ia+_n):(Vr-=Qr,Ke.y=er,Ke.O=br,Ke.f=tr,Ke.N=jt,Ke.ea=Sn,Ke.W=Dn),an||(An-=Qr),An>Ke.o&&(An=Ke.o),Ke.F=null,Ke.J=null,Xe.Fa!=null&&0<Xe.Fa.length&&Vr<An&&(Ke.J=bn(Xe,Ke,Vr,An-Vr),Ke.F=Xe.mb,Ke.F==null&&Ke.F.length==0)){At=Jn(Xe,3,"Could not decode alpha data.");break e}Vr<Ke.j&&(Qr=Ke.j-Vr,Vr=Ke.j,e(!(1&Qr)),Ke.O+=Xe.R*Qr,Ke.N+=Xe.B*(Qr>>1),Ke.W+=Xe.B*(Qr>>1),Ke.F!=null&&(Ke.J+=Ke.width*Qr)),Vr<An&&(Ke.O+=Ke.v,Ke.N+=Ke.v>>1,Ke.W+=Ke.v>>1,Ke.F!=null&&(Ke.J+=Ke.v),Ke.ka=Vr-Ke.j,Ke.U=Ke.va-Ke.v,Ke.T=An-Vr,At=Ke.put(Ke))}bt+1!=Xe.Ic||an||(n(Xe.sa,Xe.ta-It,er,br+16*Xe.R,It),n(Xe.qa,Xe.ra-ir,tr,jt+8*Xe.B,ir),n(Xe.Ha,Xe.Ia-ir,Sn,Dn+8*Xe.B,ir))}if(!At)return Jn(tt,6,"Output aborted.")}return 1}(S,R)),R.bc!=null&&R.bc(R),z&=1}return z?(S.cb=0,z):0}function va(S,R,z,K,ce){ce=S[R+z+32*K]+(ce>>3),S[R+z+32*K]=-256&ce?0>ce?0:255:ce}function kl(S,R,z,K,ce,pe){va(S,R,0,z,K+ce),va(S,R,1,z,K+pe),va(S,R,2,z,K-pe),va(S,R,3,z,K-ce)}function Nn(S){return(20091*S>>16)+S}function vn(S,R,z,K){var ce,pe=0,ve=s(16);for(ce=0;4>ce;++ce){var be=S[R+0]+S[R+8],Se=S[R+0]-S[R+8],De=(35468*S[R+4]>>16)-Nn(S[R+12]),$e=Nn(S[R+4])+(35468*S[R+12]>>16);ve[pe+0]=be+$e,ve[pe+1]=Se+De,ve[pe+2]=Se-De,ve[pe+3]=be-$e,pe+=4,R++}for(ce=pe=0;4>ce;++ce)be=(S=ve[pe+0]+4)+ve[pe+8],Se=S-ve[pe+8],De=(35468*ve[pe+4]>>16)-Nn(ve[pe+12]),va(z,K,0,0,be+($e=Nn(ve[pe+4])+(35468*ve[pe+12]>>16))),va(z,K,1,0,Se+De),va(z,K,2,0,Se-De),va(z,K,3,0,be-$e),pe++,K+=32}function Oa(S,R,z,K){var ce=S[R+0]+4,pe=35468*S[R+4]>>16,ve=Nn(S[R+4]),be=35468*S[R+1]>>16;kl(z,K,0,ce+ve,S=Nn(S[R+1]),be),kl(z,K,1,ce+pe,S,be),kl(z,K,2,ce-pe,S,be),kl(z,K,3,ce-ve,S,be)}function ot(S,R,z,K,ce){vn(S,R,z,K),ce&&vn(S,R+16,z,K+4)}function je(S,R,z,K){Ge(S,R+0,z,K,1),Ge(S,R+32,z,K+128,1)}function xr(S,R,z,K){var ce;for(S=S[R+0]+4,ce=0;4>ce;++ce)for(R=0;4>R;++R)va(z,K,R,ce,S)}function ua(S,R,z,K){S[R+0]&&Lt(S,R+0,z,K),S[R+16]&&Lt(S,R+16,z,K+4),S[R+32]&&Lt(S,R+32,z,K+128),S[R+48]&&Lt(S,R+48,z,K+128+4)}function Fa(S,R,z,K){var ce,pe=s(16);for(ce=0;4>ce;++ce){var ve=S[R+0+ce]+S[R+12+ce],be=S[R+4+ce]+S[R+8+ce],Se=S[R+4+ce]-S[R+8+ce],De=S[R+0+ce]-S[R+12+ce];pe[0+ce]=ve+be,pe[8+ce]=ve-be,pe[4+ce]=De+Se,pe[12+ce]=De-Se}for(ce=0;4>ce;++ce)ve=(S=pe[0+4*ce]+3)+pe[3+4*ce],be=pe[1+4*ce]+pe[2+4*ce],Se=pe[1+4*ce]-pe[2+4*ce],De=S-pe[3+4*ce],z[K+0]=ve+be>>3,z[K+16]=De+Se>>3,z[K+32]=ve-be>>3,z[K+48]=De-Se>>3,K+=64}function ic(S,R,z){var K,ce=R-32,pe=hs,ve=255-S[ce-1];for(K=0;K<z;++K){var be,Se=pe,De=ve+S[R-1];for(be=0;be<z;++be)S[R+be]=Se[De+S[ce+be]];R+=32}}function Ll(S,R){ic(S,R,4)}function bs(S,R){ic(S,R,8)}function vr(S,R){ic(S,R,16)}function wn(S,R){var z;for(z=0;16>z;++z)n(S,R+32*z,S,R-32,16)}function Jo(S,R){var z;for(z=16;0<z;--z)a(S,R,S[R-1],16),R+=32}function no(S,R,z){var K;for(K=0;16>K;++K)a(R,z+32*K,S,16)}function Ro(S,R){var z,K=16;for(z=0;16>z;++z)K+=S[R-1+32*z]+S[R+z-32];no(K>>5,S,R)}function ya(S,R){var z,K=8;for(z=0;16>z;++z)K+=S[R-1+32*z];no(K>>4,S,R)}function Pi(S,R){var z,K=8;for(z=0;16>z;++z)K+=S[R+z-32];no(K>>4,S,R)}function ao(S,R){no(128,S,R)}function dr(S,R,z){return S+2*R+z+2>>2}function so(S,R){var z,K=R-32;for(K=new Uint8Array([dr(S[K-1],S[K+0],S[K+1]),dr(S[K+0],S[K+1],S[K+2]),dr(S[K+1],S[K+2],S[K+3]),dr(S[K+2],S[K+3],S[K+4])]),z=0;4>z;++z)n(S,R+32*z,K,0,K.length)}function Ei(S,R){var z=S[R-1],K=S[R-1+32],ce=S[R-1+64],pe=S[R-1+96];ke(S,R+0,16843009*dr(S[R-1-32],z,K)),ke(S,R+32,16843009*dr(z,K,ce)),ke(S,R+64,16843009*dr(K,ce,pe)),ke(S,R+96,16843009*dr(ce,pe,pe))}function fr(S,R){var z,K=4;for(z=0;4>z;++z)K+=S[R+z-32]+S[R-1+32*z];for(K>>=3,z=0;4>z;++z)a(S,R+32*z,K,4)}function ai(S,R){var z=S[R-1+0],K=S[R-1+32],ce=S[R-1+64],pe=S[R-1-32],ve=S[R+0-32],be=S[R+1-32],Se=S[R+2-32],De=S[R+3-32];S[R+0+96]=dr(K,ce,S[R-1+96]),S[R+1+96]=S[R+0+64]=dr(z,K,ce),S[R+2+96]=S[R+1+64]=S[R+0+32]=dr(pe,z,K),S[R+3+96]=S[R+2+64]=S[R+1+32]=S[R+0+0]=dr(ve,pe,z),S[R+3+64]=S[R+2+32]=S[R+1+0]=dr(be,ve,pe),S[R+3+32]=S[R+2+0]=dr(Se,be,ve),S[R+3+0]=dr(De,Se,be)}function Ir(S,R){var z=S[R+1-32],K=S[R+2-32],ce=S[R+3-32],pe=S[R+4-32],ve=S[R+5-32],be=S[R+6-32],Se=S[R+7-32];S[R+0+0]=dr(S[R+0-32],z,K),S[R+1+0]=S[R+0+32]=dr(z,K,ce),S[R+2+0]=S[R+1+32]=S[R+0+64]=dr(K,ce,pe),S[R+3+0]=S[R+2+32]=S[R+1+64]=S[R+0+96]=dr(ce,pe,ve),S[R+3+32]=S[R+2+64]=S[R+1+96]=dr(pe,ve,be),S[R+3+64]=S[R+2+96]=dr(ve,be,Se),S[R+3+96]=dr(be,Se,Se)}function Hn(S,R){var z=S[R-1+0],K=S[R-1+32],ce=S[R-1+64],pe=S[R-1-32],ve=S[R+0-32],be=S[R+1-32],Se=S[R+2-32],De=S[R+3-32];S[R+0+0]=S[R+1+64]=pe+ve+1>>1,S[R+1+0]=S[R+2+64]=ve+be+1>>1,S[R+2+0]=S[R+3+64]=be+Se+1>>1,S[R+3+0]=Se+De+1>>1,S[R+0+96]=dr(ce,K,z),S[R+0+64]=dr(K,z,pe),S[R+0+32]=S[R+1+96]=dr(z,pe,ve),S[R+1+32]=S[R+2+96]=dr(pe,ve,be),S[R+2+32]=S[R+3+96]=dr(ve,be,Se),S[R+3+32]=dr(be,Se,De)}function si(S,R){var z=S[R+0-32],K=S[R+1-32],ce=S[R+2-32],pe=S[R+3-32],ve=S[R+4-32],be=S[R+5-32],Se=S[R+6-32],De=S[R+7-32];S[R+0+0]=z+K+1>>1,S[R+1+0]=S[R+0+64]=K+ce+1>>1,S[R+2+0]=S[R+1+64]=ce+pe+1>>1,S[R+3+0]=S[R+2+64]=pe+ve+1>>1,S[R+0+32]=dr(z,K,ce),S[R+1+32]=S[R+0+96]=dr(K,ce,pe),S[R+2+32]=S[R+1+96]=dr(ce,pe,ve),S[R+3+32]=S[R+2+96]=dr(pe,ve,be),S[R+3+64]=dr(ve,be,Se),S[R+3+96]=dr(be,Se,De)}function Qo(S,R){var z=S[R-1+0],K=S[R-1+32],ce=S[R-1+64],pe=S[R-1+96];S[R+0+0]=z+K+1>>1,S[R+2+0]=S[R+0+32]=K+ce+1>>1,S[R+2+32]=S[R+0+64]=ce+pe+1>>1,S[R+1+0]=dr(z,K,ce),S[R+3+0]=S[R+1+32]=dr(K,ce,pe),S[R+3+32]=S[R+1+64]=dr(ce,pe,pe),S[R+3+64]=S[R+2+64]=S[R+0+96]=S[R+1+96]=S[R+2+96]=S[R+3+96]=pe}function el(S,R){var z=S[R-1+0],K=S[R-1+32],ce=S[R-1+64],pe=S[R-1+96],ve=S[R-1-32],be=S[R+0-32],Se=S[R+1-32],De=S[R+2-32];S[R+0+0]=S[R+2+32]=z+ve+1>>1,S[R+0+32]=S[R+2+64]=K+z+1>>1,S[R+0+64]=S[R+2+96]=ce+K+1>>1,S[R+0+96]=pe+ce+1>>1,S[R+3+0]=dr(be,Se,De),S[R+2+0]=dr(ve,be,Se),S[R+1+0]=S[R+3+32]=dr(z,ve,be),S[R+1+32]=S[R+3+64]=dr(K,z,ve),S[R+1+64]=S[R+3+96]=dr(ce,K,z),S[R+1+96]=dr(pe,ce,K)}function Fi(S,R){var z;for(z=0;8>z;++z)n(S,R+32*z,S,R-32,8)}function ko(S,R){var z;for(z=0;8>z;++z)a(S,R,S[R-1],8),R+=32}function Ss(S,R,z){var K;for(K=0;8>K;++K)a(R,z+32*K,S,8)}function Vs(S,R){var z,K=8;for(z=0;8>z;++z)K+=S[R+z-32]+S[R-1+32*z];Ss(K>>4,S,R)}function Ra(S,R){var z,K=4;for(z=0;8>z;++z)K+=S[R+z-32];Ss(K>>3,S,R)}function As(S,R){var z,K=4;for(z=0;8>z;++z)K+=S[R-1+32*z];Ss(K>>3,S,R)}function ii(S,R){Ss(128,S,R)}function Cs(S,R,z){var K=S[R-z],ce=S[R+0],pe=3*(ce-K)+O0[1020+S[R-2*z]-S[R+z]],ve=uc[112+(pe+4>>3)];S[R-z]=hs[255+K+uc[112+(pe+3>>3)]],S[R+0]=hs[255+ce-ve]}function ts(S,R,z,K){var ce=S[R+0],pe=S[R+z];return qi[255+S[R-2*z]-S[R-z]]>K||qi[255+pe-ce]>K}function tl(S,R,z,K){return 4*qi[255+S[R-z]-S[R+0]]+qi[255+S[R-2*z]-S[R+z]]<=K}function rl(S,R,z,K,ce){var pe=S[R-3*z],ve=S[R-2*z],be=S[R-z],Se=S[R+0],De=S[R+z],$e=S[R+2*z],dt=S[R+3*z];return 4*qi[255+be-Se]+qi[255+ve-De]>K?0:qi[255+S[R-4*z]-pe]<=ce&&qi[255+pe-ve]<=ce&&qi[255+ve-be]<=ce&&qi[255+dt-$e]<=ce&&qi[255+$e-De]<=ce&&qi[255+De-Se]<=ce}function io(S,R,z,K){var ce=2*K+1;for(K=0;16>K;++K)tl(S,R+K,z,ce)&&Cs(S,R+K,z)}function Ws(S,R,z,K){var ce=2*K+1;for(K=0;16>K;++K)tl(S,R+K*z,1,ce)&&Cs(S,R+K*z,1)}function Mi(S,R,z,K){var ce;for(ce=3;0<ce;--ce)io(S,R+=4*z,z,K)}function Iu(S,R,z,K){var ce;for(ce=3;0<ce;--ce)Ws(S,R+=4,z,K)}function ln(S,R,z,K,ce,pe,ve,be){for(pe=2*pe+1;0<ce--;){if(rl(S,R,z,pe,ve))if(ts(S,R,z,be))Cs(S,R,z);else{var Se=S,De=R,$e=z,dt=Se[De-2*$e],lt=Se[De-$e],tt=Se[De+0],kt=Se[De+$e],bt=Se[De+2*$e],Xe=27*(At=O0[1020+3*(tt-lt)+O0[1020+dt-kt]])+63>>7,Ke=18*At+63>>7,At=9*At+63>>7;Se[De-3*$e]=hs[255+Se[De-3*$e]+At],Se[De-2*$e]=hs[255+dt+Ke],Se[De-$e]=hs[255+lt+Xe],Se[De+0]=hs[255+tt-Xe],Se[De+$e]=hs[255+kt-Ke],Se[De+2*$e]=hs[255+bt-At]}R+=K}}function oi(S,R,z,K,ce,pe,ve,be){for(pe=2*pe+1;0<ce--;){if(rl(S,R,z,pe,ve))if(ts(S,R,z,be))Cs(S,R,z);else{var Se=S,De=R,$e=z,dt=Se[De-$e],lt=Se[De+0],tt=Se[De+$e],kt=uc[112+((bt=3*(lt-dt))+4>>3)],bt=uc[112+(bt+3>>3)],Xe=kt+1>>1;Se[De-2*$e]=hs[255+Se[De-2*$e]+Xe],Se[De-$e]=hs[255+dt+bt],Se[De+0]=hs[255+lt-kt],Se[De+$e]=hs[255+tt-Xe]}R+=K}}function Bi(S,R,z,K,ce,pe){ln(S,R,z,1,16,K,ce,pe)}function Ts(S,R,z,K,ce,pe){ln(S,R,1,z,16,K,ce,pe)}function Du(S,R,z,K,ce,pe){var ve;for(ve=3;0<ve;--ve)oi(S,R+=4*z,z,1,16,K,ce,pe)}function xt(S,R,z,K,ce,pe){var ve;for(ve=3;0<ve;--ve)oi(S,R+=4,1,z,16,K,ce,pe)}function Wr(S,R,z,K,ce,pe,ve,be){ln(S,R,ce,1,8,pe,ve,be),ln(z,K,ce,1,8,pe,ve,be)}function wa(S,R,z,K,ce,pe,ve,be){ln(S,R,1,ce,8,pe,ve,be),ln(z,K,1,ce,8,pe,ve,be)}function oo(S,R,z,K,ce,pe,ve,be){oi(S,R+4*ce,ce,1,8,pe,ve,be),oi(z,K+4*ce,ce,1,8,pe,ve,be)}function oc(S,R,z,K,ce,pe,ve,be){oi(S,R+4,1,ce,8,pe,ve,be),oi(z,K+4,1,ce,8,pe,ve,be)}function Il(){this.ba=new Lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lo(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ye,this.yc=new G}function ba(){this.xb=this.a=0,this.l=new jr,this.ca=new Lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lo,this.ab=0,this.gc=c(4,cc),this.Oc=0}function Io(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new jr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kn(S,R,z,K,ce,pe,ve){for(S=S==null?0:S[R+0],R=0;R<ve;++R)ce[pe+R]=S+z[K+R]&255,S=ce[pe+R]}function lo(S,R,z,K,ce,pe,ve){var be;if(S==null)kn(null,null,z,K,ce,pe,ve);else for(be=0;be<ve;++be)ce[pe+be]=S[R+be]+z[K+be]&255}function js(S,R,z,K,ce,pe,ve){if(S==null)kn(null,null,z,K,ce,pe,ve);else{var be,Se=S[R+0],De=Se,$e=Se;for(be=0;be<ve;++be)De=$e+(Se=S[R+be])-De,$e=z[K+be]+(-256&De?0>De?0:255:De)&255,De=Se,ce[pe+be]=$e}}function bn(S,R,z,K){var ce=R.width,pe=R.o;if(e(S!=null&&R!=null),0>z||0>=K||z+K>pe)return null;if(!S.Cc){if(S.ga==null){var ve;if(S.ga=new Io,(ve=S.ga==null)||(ve=R.width*R.o,e(S.Gb.length==0),S.Gb=s(ve),S.Uc=0,S.Gb==null?ve=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ve=1),ve=!ve),!ve){ve=S.ga;var be=S.Fa,Se=S.P,De=S.qc,$e=S.mb,dt=S.nb,lt=Se+1,tt=De-1,kt=ve.l;if(e(be!=null&&$e!=null&&R!=null),Bo[0]=null,Bo[1]=kn,Bo[2]=lo,Bo[3]=js,ve.ca=$e,ve.tb=dt,ve.c=R.width,ve.i=R.height,e(0<ve.c&&0<ve.i),1>=De)R=0;else if(ve.$a=be[Se+0]>>0&3,ve.Z=be[Se+0]>>2&3,ve.Lc=be[Se+0]>>4&3,Se=be[Se+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||Se)R=0;else if(kt.put=Ha,kt.ac=tn,kt.bc=ys,kt.ma=ve,kt.width=R.width,kt.height=R.height,kt.Da=R.Da,kt.v=R.v,kt.va=R.va,kt.j=R.j,kt.o=R.o,ve.$a)e:{e(ve.$a==1),R=wt();t:for(;;){if(R==null){R=0;break e}if(e(ve!=null),ve.mc=R,R.c=ve.c,R.i=ve.i,R.l=ve.l,R.l.ma=ve,R.l.width=ve.c,R.l.height=ve.i,R.a=0,Pe(R.m,be,lt,tt),!Ze(ve.c,ve.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&Ce(R.s)?(ve.ic=1,be=R.c*R.i,R.Ta=null,R.Ua=0,R.V=s(be),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(ve.ic=0,R=ft(R,ve.c)),!R))break t;R=1;break e}ve.mc=null,R=0}else R=tt>=ve.c*ve.i;ve=!R}if(ve)return null;S.ga.Lc!=1?S.Ga=0:K=pe-z}e(S.ga!=null),e(z+K<=pe);e:{if(R=(be=S.ga).c,pe=be.l.o,be.$a==0){if(lt=S.rc,tt=S.Vc,kt=S.Fa,Se=S.P+1+z*R,De=S.mb,$e=S.nb+z*R,e(Se<=S.P+S.qc),be.Z!=0)for(e(Bo[be.Z]!=null),ve=0;ve<K;++ve)Bo[be.Z](lt,tt,kt,Se,De,$e,R),lt=De,tt=$e,$e+=R,Se+=R;else for(ve=0;ve<K;++ve)n(De,$e,kt,Se,R),lt=De,tt=$e,$e+=R,Se+=R;S.rc=lt,S.Vc=tt}else{if(e(be.mc!=null),R=z+K,e((ve=be.mc)!=null),e(R<=ve.i),ve.C>=R)R=1;else if(be.ic||nt(),be.ic){be=ve.V,lt=ve.Ba,tt=ve.c;var bt=ve.i,Xe=(kt=1,Se=ve.$/tt,De=ve.$%tt,$e=ve.m,dt=ve.s,ve.$),Ke=tt*bt,At=tt*R,It=dt.wc,jt=Xe<At?Rn(dt,De,Se):null;e(Xe<=Ke),e(R<=bt),e(Ce(dt));t:for(;;){for(;!$e.h&&Xe<At;){if(De&It||(jt=Rn(dt,De,Se)),e(jt!=null),le($e),256>(bt=sa(jt.G[0],jt.H[0],$e)))be[lt+Xe]=bt,++Xe,++De>=tt&&(De=0,++Se<=R&&!(Se%16)&&Oe(ve,Se));else{if(!(280>bt)){kt=0;break t}bt=On(bt-256,$e);var ir,er=sa(jt.G[4],jt.H[4],$e);if(le($e),!(Xe>=(er=hn(tt,er=On(er,$e)))&&Ke-Xe>=bt)){kt=0;break t}for(ir=0;ir<bt;++ir)be[lt+Xe+ir]=be[lt+Xe+ir-er];for(Xe+=bt,De+=bt;De>=tt;)De-=tt,++Se<=R&&!(Se%16)&&Oe(ve,Se);Xe<At&&De&It&&(jt=Rn(dt,De,Se))}e($e.h==J($e))}Oe(ve,Se>R?R:Se);break t}!kt||$e.h&&Xe<Ke?(kt=0,ve.a=$e.h?5:3):ve.$=Xe,R=kt}else R=Fe(ve,ve.V,ve.Ba,ve.c,ve.i,R,mt);if(!R){K=0;break e}}z+K>=pe&&(S.Cc=1),K=1}if(!K)return null;if(S.Cc&&((K=S.ga)!=null&&(K.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+z*ce}function I(S,R,z,K,ce,pe){for(;0<ce--;){var ve,be=S,Se=R+(z?1:0),De=S,$e=R+(z?0:3);for(ve=0;ve<K;++ve){var dt=De[$e+4*ve];dt!=255&&(dt*=32897,be[Se+4*ve+0]=be[Se+4*ve+0]*dt>>23,be[Se+4*ve+1]=be[Se+4*ve+1]*dt>>23,be[Se+4*ve+2]=be[Se+4*ve+2]*dt>>23)}R+=pe}}function ue(S,R,z,K,ce){for(;0<K--;){var pe;for(pe=0;pe<z;++pe){var ve=S[R+2*pe+0],be=15&(De=S[R+2*pe+1]),Se=4369*be,De=(240&De|De>>4)*Se>>16;S[R+2*pe+0]=(240&ve|ve>>4)*Se>>16&240|(15&ve|ve<<4)*Se>>16>>4&15,S[R+2*pe+1]=240&De|be}R+=ce}}function Le(S,R,z,K,ce,pe,ve,be){var Se,De,$e=255;for(De=0;De<ce;++De){for(Se=0;Se<K;++Se){var dt=S[R+Se];pe[ve+4*Se]=dt,$e&=dt}R+=z,ve+=be}return $e!=255}function We(S,R,z,K,ce){var pe;for(pe=0;pe<ce;++pe)z[K+pe]=S[R+pe]>>8}function nt(){Gs=I,cn=ue,un=Le,ta=We}function Nt(S,R,z){H[S]=function(K,ce,pe,ve,be,Se,De,$e,dt,lt,tt,kt,bt,Xe,Ke,At,It){var jt,ir=It-1>>1,er=be[Se+0]|De[$e+0]<<16,br=dt[lt+0]|tt[kt+0]<<16;e(K!=null);var tr=3*er+br+131074>>2;for(R(K[ce+0],255&tr,tr>>16,bt,Xe),pe!=null&&(tr=3*br+er+131074>>2,R(pe[ve+0],255&tr,tr>>16,Ke,At)),jt=1;jt<=ir;++jt){var Sn=be[Se+jt]|De[$e+jt]<<16,Dn=dt[lt+jt]|tt[kt+jt]<<16,an=er+Sn+br+Dn+524296,Qr=an+2*(Sn+br)>>3;tr=Qr+er>>1,er=(an=an+2*(er+Dn)>>3)+Sn>>1,R(K[ce+2*jt-1],255&tr,tr>>16,bt,Xe+(2*jt-1)*z),R(K[ce+2*jt-0],255&er,er>>16,bt,Xe+(2*jt-0)*z),pe!=null&&(tr=an+br>>1,er=Qr+Dn>>1,R(pe[ve+2*jt-1],255&tr,tr>>16,Ke,At+(2*jt-1)*z),R(pe[ve+2*jt+0],255&er,er>>16,Ke,At+(2*jt+0)*z)),er=Sn,br=Dn}1&It||(tr=3*er+br+131074>>2,R(K[ce+It-1],255&tr,tr>>16,bt,Xe+(It-1)*z),pe!=null&&(tr=3*br+er+131074>>2,R(pe[ve+It-1],255&tr,tr>>16,Ke,At+(It-1)*z)))}}function Dt(){gs[ks]=cl,gs[Hc]=Uo,gs[Fo]=zl,gs[Pu]=L0,gs[dc]=I0,gs[al]=Wc,gs[R0]=D0,gs[Fu]=Uo,gs[Bl]=L0,gs[sl]=I0,gs[qc]=Wc}function nr(S){return S&-16384?0>S?0:255:S>>lp}function gr(S,R){return nr((19077*S>>8)+(26149*R>>8)-14234)}function Dr(S,R,z){return nr((19077*S>>8)-(6419*R>>8)-(13320*z>>8)+8708)}function Or(S,R){return nr((19077*S>>8)+(33050*R>>8)-17685)}function nn(S,R,z,K,ce){K[ce+0]=gr(S,z),K[ce+1]=Dr(S,R,z),K[ce+2]=Or(S,R)}function ea(S,R,z,K,ce){K[ce+0]=Or(S,R),K[ce+1]=Dr(S,R,z),K[ce+2]=gr(S,z)}function Ln(S,R,z,K,ce){var pe=Dr(S,R,z);R=pe<<3&224|Or(S,R)>>3,K[ce+0]=248&gr(S,z)|pe>>5,K[ce+1]=R}function oa(S,R,z,K,ce){var pe=240&Or(S,R)|15;K[ce+0]=240&gr(S,z)|Dr(S,R,z)>>4,K[ce+1]=pe}function _a(S,R,z,K,ce){K[ce+0]=255,nn(S,R,z,K,ce+1)}function da(S,R,z,K,ce){ea(S,R,z,K,ce),K[ce+3]=255}function Ni(S,R,z,K,ce){nn(S,R,z,K,ce),K[ce+3]=255}function ka(S,R){return 0>S?0:S>R?R:S}function Os(S,R,z){H[S]=function(K,ce,pe,ve,be,Se,De,$e,dt){for(var lt=$e+(-2&dt)*z;$e!=lt;)R(K[ce+0],pe[ve+0],be[Se+0],De,$e),R(K[ce+1],pe[ve+0],be[Se+0],De,$e+z),ce+=2,++ve,++Se,$e+=2*z;1&dt&&R(K[ce+0],pe[ve+0],be[Se+0],De,$e)}}function fs(S,R,z){return z==0?S==0?R==0?6:5:R==0?4:0:z}function Ui(S,R,z,K,ce){switch(S>>>30){case 3:Ge(R,z,K,ce,0);break;case 2:Qe(R,z,K,ce);break;case 1:Lt(R,z,K,ce)}}function Va(S,R){var z,K,ce=R.M,pe=R.Nb,ve=S.oc,be=S.pc+40,Se=S.oc,De=S.pc+584,$e=S.oc,dt=S.pc+600;for(z=0;16>z;++z)ve[be+32*z-1]=129;for(z=0;8>z;++z)Se[De+32*z-1]=129,$e[dt+32*z-1]=129;for(0<ce?ve[be-1-32]=Se[De-1-32]=$e[dt-1-32]=129:(a(ve,be-32-1,127,21),a(Se,De-32-1,127,9),a($e,dt-32-1,127,9)),K=0;K<S.za;++K){var lt=R.ya[R.aa+K];if(0<K){for(z=-1;16>z;++z)n(ve,be+32*z-4,ve,be+32*z+12,4);for(z=-1;8>z;++z)n(Se,De+32*z-4,Se,De+32*z+4,4),n($e,dt+32*z-4,$e,dt+32*z+4,4)}var tt=S.Gd,kt=S.Hd+K,bt=lt.ad,Xe=lt.Hc;if(0<ce&&(n(ve,be-32,tt[kt].y,0,16),n(Se,De-32,tt[kt].f,0,8),n($e,dt-32,tt[kt].ea,0,8)),lt.Za){var Ke=ve,At=be-32+16;for(0<ce&&(K>=S.za-1?a(Ke,At,tt[kt].y[15],4):n(Ke,At,tt[kt+1].y,0,4)),z=0;4>z;z++)Ke[At+128+z]=Ke[At+256+z]=Ke[At+384+z]=Ke[At+0+z];for(z=0;16>z;++z,Xe<<=2)Ke=ve,At=be+mc[z],$s[lt.Ob[z]](Ke,At),Ui(Xe,bt,16*+z,Ke,At)}else if(Ke=fs(K,ce,lt.Ob[0]),ll[Ke](ve,be),Xe!=0)for(z=0;16>z;++z,Xe<<=2)Ui(Xe,bt,16*+z,ve,be+mc[z]);for(z=lt.Gc,Ke=fs(K,ce,lt.Dd),Ci[Ke](Se,De),Ci[Ke]($e,dt),Xe=bt,Ke=Se,At=De,255&(lt=z>>0)&&(170&lt?pt(Xe,256,Ke,At):Ht(Xe,256,Ke,At)),lt=$e,Xe=dt,255&(z>>=8)&&(170&z?pt(bt,320,lt,Xe):Ht(bt,320,lt,Xe)),ce<S.Ub-1&&(n(tt[kt].y,0,ve,be+480,16),n(tt[kt].f,0,Se,De+224,8),n(tt[kt].ea,0,$e,dt+224,8)),z=8*pe*S.B,tt=S.sa,kt=S.ta+16*K+16*pe*S.R,bt=S.qa,lt=S.ra+8*K+z,Xe=S.Ha,Ke=S.Ia+8*K+z,z=0;16>z;++z)n(tt,kt+z*S.R,ve,be+32*z,16);for(z=0;8>z;++z)n(bt,lt+z*S.B,Se,De+32*z,8),n(Xe,Ke+z*S.B,$e,dt+32*z,8)}}function Dl(S,R,z,K,ce,pe,ve,be,Se){var De=[0],$e=[0],dt=0,lt=Se!=null?Se.kd:0,tt=Se!=null?Se:new lc;if(S==null||12>z)return 7;tt.data=S,tt.w=R,tt.ha=z,R=[R],z=[z],tt.gb=[tt.gb];e:{var kt=R,bt=z,Xe=tt.gb;if(e(S!=null),e(bt!=null),e(Xe!=null),Xe[0]=0,12<=bt[0]&&!r(S,kt[0],"RIFF")){if(r(S,kt[0]+8,"WEBP")){Xe=3;break e}var Ke=gt(S,kt[0]+4);if(12>Ke||4294967286<Ke){Xe=3;break e}if(lt&&Ke>bt[0]-8){Xe=7;break e}Xe[0]=Ke,kt[0]+=12,bt[0]-=12}Xe=0}if(Xe!=0)return Xe;for(Ke=0<tt.gb[0],z=z[0];;){e:{var At=S;bt=R,Xe=z;var It=De,jt=$e,ir=kt=[0];if((tr=dt=[dt])[0]=0,8>Xe[0])Xe=7;else{if(!r(At,bt[0],"VP8X")){if(gt(At,bt[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var er=gt(At,bt[0]+8),br=1+ut(At,bt[0]+12);if(2147483648<=br*(At=1+ut(At,bt[0]+15))){Xe=3;break e}ir!=null&&(ir[0]=er),It!=null&&(It[0]=br),jt!=null&&(jt[0]=At),bt[0]+=18,Xe[0]-=18,tr[0]=1}Xe=0}}if(dt=dt[0],kt=kt[0],Xe!=0)return Xe;if(bt=!!(2&kt),!Ke&&dt)return 3;if(pe!=null&&(pe[0]=!!(16&kt)),ve!=null&&(ve[0]=bt),be!=null&&(be[0]=0),ve=De[0],kt=$e[0],dt&&bt&&Se==null){Xe=0;break}if(4>z){Xe=7;break}if(Ke&&dt||!Ke&&!dt&&!r(S,R[0],"ALPH")){z=[z],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{er=S,Xe=R,Ke=z;var tr=tt.gb;It=tt.na,jt=tt.P,ir=tt.Sa,br=22,e(er!=null),e(Ke!=null),At=Xe[0];var Sn=Ke[0];for(e(It!=null),e(ir!=null),It[0]=null,jt[0]=null,ir[0]=0;;){if(Xe[0]=At,Ke[0]=Sn,8>Sn){Xe=7;break e}var Dn=gt(er,At+4);if(4294967286<Dn){Xe=3;break e}var an=8+Dn+1&-2;if(br+=an,0<tr&&br>tr){Xe=3;break e}if(!r(er,At,"VP8 ")||!r(er,At,"VP8L")){Xe=0;break e}if(Sn[0]<an){Xe=7;break e}r(er,At,"ALPH")||(It[0]=er,jt[0]=At+8,ir[0]=Dn),At+=an,Sn-=an}}if(z=z[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],Xe!=0)break}z=[z],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(tr=S,Xe=R,Ke=z,It=tt.gb[0],jt=tt.Ja,ir=tt.xa,er=Xe[0],At=!r(tr,er,"VP8 "),br=!r(tr,er,"VP8L"),e(tr!=null),e(Ke!=null),e(jt!=null),e(ir!=null),8>Ke[0])Xe=7;else{if(At||br){if(tr=gt(tr,er+4),12<=It&&tr>It-12){Xe=3;break e}if(lt&&tr>Ke[0]-8){Xe=7;break e}jt[0]=tr,Xe[0]+=8,Ke[0]-=8,ir[0]=br}else ir[0]=5<=Ke[0]&&tr[er+0]==47&&!(tr[er+4]>>5),jt[0]=Ke[0];Xe=0}if(z=z[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],R=R[0],Xe!=0)break;if(4294967286<tt.Ja)return 3;if(be==null||bt||(be[0]=tt.xa?2:1),ve=[ve],kt=[kt],tt.xa){if(5>z){Xe=7;break}be=ve,lt=kt,bt=pe,S==null||5>z?S=0:5<=z&&S[R+0]==47&&!(S[R+4]>>5)?(Ke=[0],tr=[0],It=[0],Pe(jt=new P,S,R,z),or(jt,Ke,tr,It)?(be!=null&&(be[0]=Ke[0]),lt!=null&&(lt[0]=tr[0]),bt!=null&&(bt[0]=It[0]),S=1):S=0):S=0}else{if(10>z){Xe=7;break}be=kt,S==null||10>z||!es(S,R+3,z-3)?S=0:(lt=S[R+0]|S[R+1]<<8|S[R+2]<<16,bt=16383&(S[R+7]<<8|S[R+6]),S=16383&(S[R+9]<<8|S[R+8]),1&lt||3<(lt>>1&7)||!(lt>>4&1)||lt>>5>=tt.Ja||!bt||!S?S=0:(ve&&(ve[0]=bt),be&&(be[0]=S),S=1))}if(!S||(ve=ve[0],kt=kt[0],dt&&(De[0]!=ve||$e[0]!=kt)))return 3;Se!=null&&(Se[0]=tt,Se.offset=R-Se.w,e(4294967286>R-Se.w),e(Se.offset==Se.ha-z));break}return Xe==0||Xe==7&&dt&&Se==null?(pe!=null&&(pe[0]|=tt.na!=null&&0<tt.na.length),K!=null&&(K[0]=ve),ce!=null&&(ce[0]=kt),0):Xe}function zi(S,R,z){var K=R.width,ce=R.height,pe=0,ve=0,be=K,Se=ce;if(R.Da=S!=null&&0<S.Da,R.Da&&(be=S.cd,Se=S.bd,pe=S.v,ve=S.j,11>z||(pe&=-2,ve&=-2),0>pe||0>ve||0>=be||0>=Se||pe+be>K||ve+Se>ce))return 0;if(R.v=pe,R.j=ve,R.va=pe+be,R.o=ve+Se,R.U=be,R.T=Se,R.da=S!=null&&0<S.da,R.da){if(!Ve(be,Se,z=[S.ib],pe=[S.hb]))return 0;R.ib=z[0],R.hb=pe[0]}return R.ob=S!=null&&S.ob,R.Kb=S==null||!S.Sd,R.da&&(R.ob=R.ib<3*K/4&&R.hb<3*ce/4,R.Kb=0),1}function Pl(S){if(S==null)return 2;if(11>S.S){var R=S.f.RGBA;R.fb+=(S.height-1)*R.A,R.A=-R.A}else R=S.f.kb,S=S.height,R.O+=(S-1)*R.fa,R.fa=-R.fa,R.N+=(S-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(S-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(S-1)*R.lb,R.lb=-R.lb);return 0}function Do(S,R,z,K){if(K==null||0>=S||0>=R)return 2;if(z!=null){if(z.Da){var ce=z.cd,pe=z.bd,ve=-2&z.v,be=-2&z.j;if(0>ve||0>be||0>=ce||0>=pe||ve+ce>S||be+pe>R)return 2;S=ce,R=pe}if(z.da){if(!Ve(S,R,ce=[z.ib],pe=[z.hb]))return 2;S=ce[0],R=pe[0]}}K.width=S,K.height=R;e:{var Se=K.width,De=K.height;if(S=K.S,0>=Se||0>=De||!(S>=ks&&13>S))S=2;else{if(0>=K.Rd&&K.sd==null){ve=pe=ce=R=0;var $e=(be=Se*Kh[S])*De;if(11>S||(pe=(De+1)/2*(R=(Se+1)/2),S==12&&(ve=(ce=Se)*De)),(De=s($e+2*pe+ve))==null){S=1;break e}K.sd=De,11>S?((Se=K.f.RGBA).eb=De,Se.fb=0,Se.A=be,Se.size=$e):((Se=K.f.kb).y=De,Se.O=0,Se.fa=be,Se.Fd=$e,Se.f=De,Se.N=0+$e,Se.Ab=R,Se.Cd=pe,Se.ea=De,Se.W=0+$e+pe,Se.Db=R,Se.Ed=pe,S==12&&(Se.F=De,Se.J=0+$e+2*pe),Se.Tc=ve,Se.lb=ce)}if(R=1,ce=K.S,pe=K.width,ve=K.height,ce>=ks&&13>ce)if(11>ce)S=K.f.RGBA,R&=(be=Math.abs(S.A))*(ve-1)+pe<=S.size,R&=be>=pe*Kh[ce],R&=S.eb!=null;else{S=K.f.kb,be=(pe+1)/2,$e=(ve+1)/2,Se=Math.abs(S.fa),De=Math.abs(S.Ab);var dt=Math.abs(S.Db),lt=Math.abs(S.lb),tt=lt*(ve-1)+pe;R&=Se*(ve-1)+pe<=S.Fd,R&=De*($e-1)+be<=S.Cd,R=(R&=dt*($e-1)+be<=S.Ed)&Se>=pe&De>=be&dt>=be,R&=S.y!=null,R&=S.f!=null,R&=S.ea!=null,ce==12&&(R&=lt>=pe,R&=tt<=S.Tc,R&=S.F!=null)}else R=0;S=R?0:2}}return S!=0||z!=null&&z.fd&&(S=Pl(K)),S}var In=64,Po=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],co=24,Si=32,Xr=8,rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(S){return S},H.Predictor2=function(S,R,z){return R[z+0]},H.Predictor3=function(S,R,z){return R[z+1]},H.Predictor4=function(S,R,z){return R[z-1]},H.Predictor5=function(S,R,z){return Pt(Pt(S,R[z+1]),R[z+0])},H.Predictor6=function(S,R,z){return Pt(S,R[z-1])},H.Predictor7=function(S,R,z){return Pt(S,R[z+0])},H.Predictor8=function(S,R,z){return Pt(R[z-1],R[z+0])},H.Predictor9=function(S,R,z){return Pt(R[z+0],R[z+1])},H.Predictor10=function(S,R,z){return Pt(Pt(S,R[z-1]),Pt(R[z+0],R[z+1]))},H.Predictor11=function(S,R,z){var K=R[z+0];return 0>=cr(K>>24&255,S>>24&255,(R=R[z-1])>>24&255)+cr(K>>16&255,S>>16&255,R>>16&255)+cr(K>>8&255,S>>8&255,R>>8&255)+cr(255&K,255&S,255&R)?K:S},H.Predictor12=function(S,R,z){var K=R[z+0];return(Mt((S>>24&255)+(K>>24&255)-((R=R[z-1])>>24&255))<<24|Mt((S>>16&255)+(K>>16&255)-(R>>16&255))<<16|Mt((S>>8&255)+(K>>8&255)-(R>>8&255))<<8|Mt((255&S)+(255&K)-(255&R)))>>>0},H.Predictor13=function(S,R,z){var K=R[z-1];return(Xt((S=Pt(S,R[z+0]))>>24&255,K>>24&255)<<24|Xt(S>>16&255,K>>16&255)<<16|Xt(S>>8&255,K>>8&255)<<8|Xt(S>>0&255,K>>0&255))>>>0};var oe=H.PredictorAdd0;H.PredictorAdd1=rr,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var l=H.PredictorAdd2;Br("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Br("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var f,p=H.ColorIndexInverseTransform,y=H.MapARGB,w=H.VP8LColorIndexInverseTransformAlpha,N=H.MapAlpha,T=H.VP8LPredictorsAdd=[];T.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var k,U,Z,ie,xe,Ie,qe,Ge,Qe,pt,Lt,Ht,Bt,Pr,Cr,Ea,Wa,Na,gn,fa,La,Rs,li,ha,Gs,cn,un,ta,Ma=s(511),Hi=s(2041),Fl=s(225),Ml=s(767),nl=0,O0=Hi,uc=Fl,hs=Ml,qi=Ma,ks=0,Hc=1,Fo=2,Pu=3,dc=4,al=5,R0=6,Fu=7,Bl=8,sl=9,qc=10,k0=[2,3,7],Vi=[3,3,11],Ai=[280,256,256,256,40],fc=[0,1,1,1,0],il=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ol=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Wh=8,Mu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ns=null,Ia=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ul=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ll=[],$s=[],Ci=[],$h=1,Vc=2,Bo=[],gs=[];Nt("UpsampleRgbLinePair",nn,3),Nt("UpsampleBgrLinePair",ea,3),Nt("UpsampleRgbaLinePair",Ni,4),Nt("UpsampleBgraLinePair",da,4),Nt("UpsampleArgbLinePair",_a,4),Nt("UpsampleRgba4444LinePair",oa,2),Nt("UpsampleRgb565LinePair",Ln,2);var cl=H.UpsampleRgbLinePair,zl=H.UpsampleBgrLinePair,Uo=H.UpsampleRgbaLinePair,L0=H.UpsampleBgraLinePair,I0=H.UpsampleArgbLinePair,Wc=H.UpsampleRgba4444LinePair,D0=H.UpsampleRgb565LinePair,zo=16,as=1<<zo-1,Hl=-227,P0=482,lp=6,Xh=0,cp=s(256),ss=s(256),of=s(256),Uu=s(256),zu=s(P0-Hl),lf=s(P0-Hl);Os("YuvToRgbRow",nn,3),Os("YuvToBgrRow",ea,3),Os("YuvToRgbaRow",Ni,4),Os("YuvToBgraRow",da,4),Os("YuvToArgbRow",_a,4),Os("YuvToRgba4444Row",oa,2),Os("YuvToRgb565Row",Ln,2);var mc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ul=[0,2,8],up=[8,7,6,4,4,2,2,2,1,1,1,1],Yh=1;this.WebPDecodeRGBA=function(S,R,z,K,ce){var pe=Hc,ve=new Il,be=new Lr;ve.ba=be,be.S=pe,be.width=[be.width],be.height=[be.height];var Se=be.width,De=be.height,$e=new xa;if($e==null||S==null)var dt=2;else e($e!=null),dt=Dl(S,R,z,$e.width,$e.height,$e.Pd,$e.Qd,$e.format,null);if(dt!=0?Se=0:(Se!=null&&(Se[0]=$e.width[0]),De!=null&&(De[0]=$e.height[0]),Se=1),Se){be.width=be.width[0],be.height=be.height[0],K!=null&&(K[0]=be.width),ce!=null&&(ce[0]=be.height);e:{if(K=new jr,(ce=new lc).data=S,ce.w=R,ce.ha=z,ce.kd=1,R=[0],e(ce!=null),((S=Dl(ce.data,ce.w,ce.ha,null,null,null,R,null,ce))==0||S==7)&&R[0]&&(S=4),(R=S)==0){if(e(ve!=null),K.data=ce.data,K.w=ce.w+ce.offset,K.ha=ce.ha-ce.offset,K.put=Ha,K.ac=tn,K.bc=ys,K.ma=ve,ce.xa){if((S=wt())==null){ve=1;break e}if(function(lt,tt){var kt=[0],bt=[0],Xe=[0];t:for(;;){if(lt==null)return 0;if(tt==null)return lt.a=2,0;if(lt.l=tt,lt.a=0,Pe(lt.m,tt.data,tt.w,tt.ha),!or(lt.m,kt,bt,Xe)){lt.a=3;break t}if(lt.xb=Vc,tt.width=kt[0],tt.height=bt[0],!Ze(kt[0],bt[0],1,lt,null))break t;return 1}return e(lt.a!=0),0}(S,K)){if(K=(R=Do(K.width,K.height,ve.Oa,ve.ba))==0){t:{K=S;r:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((z=K.l)!=null),e((ce=z.ma)!=null),K.xb!=0){if(K.ca=ce.ba,K.tb=ce.tb,e(K.ca!=null),!zi(ce.Oa,z,Pu)){K.a=2;break r}if(!ft(K,z.width)||z.da)break r;if((z.da||Jr(K.ca.S))&&nt(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&nt()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!Ct(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Fe(K,K.V,K.Ba,K.c,K.i,z.o,Ne))break r;ce.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(R=S.a)}else R=S.a}else{if((S=new ws)==null){ve=1;break e}if(S.Fa=ce.na,S.P=ce.P,S.qc=ce.Sa,ia(S,K)){if((R=Do(K.width,K.height,ve.Oa,ve.ba))==0){if(S.Aa=0,z=ve.Oa,e((ce=S)!=null),z!=null){if(0<(Se=0>(Se=z.Md)?0:100<Se?255:255*Se/100)){for(De=$e=0;4>De;++De)12>(dt=ce.pb[De]).lc&&(dt.ia=Se*up[0>dt.lc?0:dt.lc]>>3),$e|=dt.ia;$e&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=z.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}Qn(S,K)||(R=S.a)}}else R=S.a}R==0&&ve.Oa!=null&&ve.Oa.fd&&(R=Pl(ve.ba))}ve=R}pe=ve!=0?null:11>pe?be.f.RGBA.eb:be.f.kb.y}else pe=null;return pe};var Kh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(H,B){for(var re="",q=0;q<4;q++)re+=String.fromCharCode(H[B++]);return re}function m(H,B){return(H[B+0]<<0|H[B+1]<<8|H[B+2]<<16)>>>0}function v(H,B){return(H[B+0]<<0|H[B+1]<<8|H[B+2]<<16|H[B+3]<<24)>>>0}new g;var b=[0],_=[0],C=[],A=new g,j=t,L=function(H,B){var re={},q=0,G=!1,se=0,ye=0;if(re.frames=[],!function(W,J,te,le){for(var Be=0;Be<le;Be++)if(W[J+Be]!=te.charCodeAt(Be))return!0;return!1}(H,B,"RIFF",4)){for(v(H,B+=4),B+=8;B<H.length;){var me=u(H,B),de=v(H,B+=4);B+=4;var we=de+(1&de);switch(me){case"VP8 ":case"VP8L":re.frames[q]===void 0&&(re.frames[q]={}),(ae=re.frames[q]).src_off=G?ye:B-8,ae.src_size=se+de+8,q++,G&&(G=!1,se=0,ye=0);break;case"VP8X":(ae=re.header={}).feature_flags=H[B];var Pe=B+4;ae.canvas_width=1+m(H,Pe),Pe+=3,ae.canvas_height=1+m(H,Pe),Pe+=3;break;case"ALPH":G=!0,se=we+8,ye=B-8;break;case"ANIM":(ae=re.header).bgcolor=v(H,B),Pe=B+4,ae.loop_count=(fe=H)[(P=Pe)+0]<<0|fe[P+1]<<8,Pe+=2;break;case"ANMF":var Ae,ae;(ae=re.frames[q]={}).offset_x=2*m(H,B),B+=3,ae.offset_y=2*m(H,B),B+=3,ae.width=1+m(H,B),B+=3,ae.height=1+m(H,B),B+=3,ae.duration=m(H,B),B+=3,Ae=H[B++],ae.dispose=1&Ae,ae.blend=Ae>>1&1}me!="ANMF"&&(B+=we)}var fe,P;return re}}(j,0);L.response=j,L.rgbaoutput=!0,L.dataurl=!1;var D=L.header?L.header:null,M=L.frames?L.frames:null;if(D){D.loop_counter=D.loop_count,b=[D.canvas_height],_=[D.canvas_width];for(var X=0;X<M.length&&M[X].blend!=0;X++);}var Q=M[0],Y=A.WebPDecodeRGBA(j,Q.src_off,Q.src_size,_,b);Q.rgba=Y,Q.imgwidth=_[0],Q.imgheight=b[0];for(var V=0;V<_[0]*b[0]*4;V++)C[V]=Y[V];return this.width=_,this.height=b,this.data=C,this}(function(t){var e=function(){return typeof Ax=="function"},r=function(b,_,C,A){var j=4,L=c;switch(A){case t.image_compression.FAST:j=1,L=s;break;case t.image_compression.MEDIUM:j=6,L=h;break;case t.image_compression.SLOW:j=9,L=g}b=n(b,_,C,L);var D=Ax(b,{level:j});return t.__addimage__.arrayBufferToBinaryString(D)},n=function(b,_,C,A){for(var j,L,D,M=b.length/_,X=new Uint8Array(b.length+M),Q=m(),Y=0;Y<M;Y+=1){if(D=Y*_,j=b.subarray(D,D+_),A)X.set(A(j,C,L),D+Y);else{for(var V,H=Q.length,B=[];V<H;V+=1)B[V]=Q[V](j,C,L);var re=v(B.concat());X.set(B[re],D+Y)}L=j}return X},a=function(b){var _=Array.apply([],b);return _.unshift(0),_},s=function(b,_){var C,A=[],j=b.length;A[0]=1;for(var L=0;L<j;L+=1)C=b[L-_]||0,A[L+1]=b[L]-C+256&255;return A},c=function(b,_,C){var A,j=[],L=b.length;j[0]=2;for(var D=0;D<L;D+=1)A=C&&C[D]||0,j[D+1]=b[D]-A+256&255;return j},h=function(b,_,C){var A,j,L=[],D=b.length;L[0]=3;for(var M=0;M<D;M+=1)A=b[M-_]||0,j=C&&C[M]||0,L[M+1]=b[M]+256-(A+j>>>1)&255;return L},g=function(b,_,C){var A,j,L,D,M=[],X=b.length;M[0]=4;for(var Q=0;Q<X;Q+=1)A=b[Q-_]||0,j=C&&C[Q]||0,L=C&&C[Q-_]||0,D=u(A,j,L),M[Q+1]=b[Q]-D+256&255;return M},u=function(b,_,C){if(b===_&&_===C)return b;var A=Math.abs(_-C),j=Math.abs(b-C),L=Math.abs(b+_-C-C);return A<=j&&A<=L?b:j<=L?_:C},m=function(){return[a,s,c,h,g]},v=function(b){var _=b.map(function(C){return C.reduce(function(A,j){return A+Math.abs(j)},0)});return _.indexOf(Math.min.apply(null,_))};t.processPNG=function(b,_,C,A){var j,L,D,M,X,Q,Y,V,H,B,re,q,G,se,ye,me=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(D=new JO(b)).imgData,L=D.bits,j=D.colorSpace,X=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){H=(V=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,re=new Uint8Array(H*D.colors),B=new Uint8Array(H);var we,Pe=D.pixelBitlength-D.bits;for(se=0,ye=0;se<H;se++){for(G=V[se],we=0;we<Pe;)re[ye++]=G>>>we&255,we+=D.bits;B[se]=G>>>we&255}}if(D.bits===16){H=(V=new Uint32Array(D.decodePixels().buffer)).length,re=new Uint8Array(H*(32/D.pixelBitlength)*D.colors),B=new Uint8Array(H*(32/D.pixelBitlength)),q=D.colors>1,se=0,ye=0;for(var Ae=0;se<H;)G=V[se++],re[ye++]=G>>>0&255,q&&(re[ye++]=G>>>16&255,G=V[se++],re[ye++]=G>>>0&255),B[Ae++]=G>>>16&255;L=8}A!==t.image_compression.NONE&&e()?(b=r(re,D.width*D.colors,D.colors,A),Y=r(B,D.width,1,A)):(b=re,Y=B,me=void 0)}if(D.colorType===3&&(j=this.color_spaces.INDEXED,Q=D.palette,D.transparency.indexed)){var ae=D.transparency.indexed,fe=0;for(se=0,H=ae.length;se<H;++se)fe+=ae[se];if((fe/=255)===H-1&&ae.indexOf(0)!==-1)M=[ae.indexOf(0)];else if(fe!==H){for(V=D.decodePixels(),B=new Uint8Array(V.length),se=0,H=V.length;se<H;se++)B[se]=ae[V[se]];Y=r(B,D.width,1)}}var P=function(W){var J;switch(W){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(A);return me===this.decode.FLATE_DECODE&&(de="/Predictor "+P+" "),de+="/Colors "+X+" /BitsPerComponent "+L+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(Y&&this.__addimage__.isArrayBuffer(Y)||this.__addimage__.isArrayBufferView(Y))&&(Y=this.__addimage__.arrayBufferToBinaryString(Y)),{alias:C,data:b,index:_,filter:me,decodeParameters:de,transparency:M,palette:Q,sMask:Y,predictor:P,width:D.width,height:D.height,bitsPerComponent:L,colorSpace:j}}}})(kr.API),function(t){t.processGIF89A=function(e,r,n,a){var s=new QO(e),c=s.width,h=s.height,g=[];s.decodeAndBlitFrameRGBA(0,g);var u={data:g,width:c,height:h},m=new H2(100).encode(u,100);return t.processJPEG.call(this,m,r,n,a)},t.processGIF87A=t.processGIF89A}(kr.API),vl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ca.log("bit decode error:"+r)}},vl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var g=this.palette[s>>7-h&1];this.data[c+4*h]=g.blue,this.data[c+4*h+1]=g.green,this.data[c+4*h+2]=g.red,this.data[c+4*h+3]=255}r!==0&&(this.pos+=4-r)}},vl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,h=s>>4,g=15&s,u=this.palette[h];if(this.data[c]=u.blue,this.data[c+1]=u.green,this.data[c+2]=u.red,this.data[c+3]=255,2*a+1>=this.width)break;u=this.palette[g],this.data[c+4]=u.blue,this.data[c+4+1]=u.green,this.data[c+4+2]=u.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},vl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},vl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&e)/e*255|0,h=(s>>5&e)/e*255|0,g=(s>>10&e)/e*255|0,u=s>>15?255:0,m=n*this.width*4+4*a;this.data[m]=g,this.data[m+1]=h,this.data[m+2]=c,this.data[m+3]=u}this.pos+=t}},vl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,g=(c>>5&r)/r*255|0,u=(c>>11)/e*255|0,m=a*this.width*4+4*s;this.data[m]=u,this.data[m+1]=g,this.data[m+2]=h,this.data[m+3]=255}this.pos+=t}},vl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},vl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*r;this.data[h]=s,this.data[h+1]=a,this.data[h+2]=n,this.data[h+3]=c}},vl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var s=new vl(e,!1),c=s.width,h=s.height,g={data:s.getData(),width:c,height:h},u=new H2(100).encode(g,100);return t.processJPEG.call(this,u,r,n,a)}}(kr.API),d4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var s=new d4(e),c=s.width,h=s.height,g={data:s.getData(),width:c,height:h},u=new H2(100).encode(g,100);return t.processJPEG.call(this,u,r,n,a)}}(kr.API),kr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,s=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,g=0,u=0;u<a;u+=4){var m=n[u],v=n[u+1],b=n[u+2],_=n[u+3];s[h++]=m,s[h++]=v,s[h++]=b,c[g++]=_}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:C,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},kr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pd=kr.API,J1=pd.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,g=h.fof?h.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=u.fof?u.fof:1,v=e.doKerning!==!1,b=0,_=t.length,C=0,A=h[0]||g,j=[];for(r=0;r<_;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/s)||0)/1e3):(b=v&&Yn(u[n])==="object"&&!isNaN(parseInt(u[n][C],10))?u[n][C]/m:0,j.push((h[n]||A)/g+b)),C=n;return j},o4=pd.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return pd.processArabic&&(t=pd.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:J1.apply(this,arguments).reduce(function(s,c){return s+c},0)},l4=function(t,e,r,n){for(var a=[],s=0,c=t.length,h=0;s!==c&&h+e[s]<r;)h+=e[s],s++;a.push(t.slice(0,s));var g=s;for(h=0;s!==c;)h+e[s]>n&&(a.push(t.slice(g,s)),h=0,g=s),h+=e[s],s++;return g!==s&&a.push(t.slice(g,s)),a},c4=function(t,e,r){r||(r={});var n,a,s,c,h,g,u,m=[],v=[m],b=r.textIndent||0,_=0,C=0,A=t.split(" "),j=J1.apply(this,[" ",r])[0];if(g=r.lineIndent===-1?A[0].length+2:r.lineIndent||0){var L=Array(g).join(" "),D=[];A.map(function(X){(X=X.split(/\s*\n/)).length>1?D=D.concat(X.map(function(Q,Y){return(Y&&Q.length?`
`:"")+Q})):D.push(X[0])}),A=D,g=o4.apply(this,[L,r])}for(s=0,c=A.length;s<c;s++){var M=0;if(n=A[s],g&&n[0]==`
`&&(n=n.substr(1),M=1),b+_+(C=(a=J1.apply(this,[n,r])).reduce(function(X,Q){return X+Q},0))>e||M){if(C>e){for(h=l4.apply(this,[n,a,e-(b+_),e]),m.push(h.shift()),m=[h.pop()];h.length;)v.push([h.shift()]);C=a.slice(n.length-(m[0]?m[0].length:0)).reduce(function(X,Q){return X+Q},0)}else m=[n];v.push(m),b=C+g,_=j}else m.push(n),b+=_+C,_=j}return u=g?function(X,Q){return(Q?L:"")+X.join(" ")}:function(X){return X.join(" ")},v.map(u)},pd.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var v=this.internal.getFont(m.fontName,m.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var h,g,u=[];for(h=0,g=n.length;h<g;h++)u=u.concat(c4.apply(this,[n[h],c,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var s=function(v){return"0x"+parseInt(v,10).toString(16)},c=t.__fontmetrics__.compress=function(v){var b,_,C,A,j=["{"];for(var L in v){if(b=v[L],isNaN(parseInt(L,10))?_="'"+L+"'":(L=parseInt(L,10),_=(_=s(L).slice(2)).slice(0,-1)+n[_.slice(-1)]),typeof b=="number")b<0?(C=s(b).slice(3),A="-"):(C=s(b).slice(2),A=""),C=A+C.slice(0,-1)+n[C.slice(-1)];else{if(Yn(b)!=="object")throw new Error("Don't know what to do with value type "+Yn(b)+".");C=c(b)}j.push(_+C)}return j.push("}"),j.join("")},h=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,_,C,A,j={},L=1,D=j,M=[],X="",Q="",Y=v.length-1,V=1;V<Y;V+=1)(A=v[V])=="'"?b?(C=b.join(""),b=void 0):b=[]:b?b.push(A):A=="{"?(M.push([D,C]),D={},C=void 0):A=="}"?((_=M.pop())[0][_[1]]=D,C=void 0,D=_[0]):A=="-"?L=-1:C===void 0?r.hasOwnProperty(A)?(X+=r[A],C=parseInt(X,16)*L,L=1,X=""):X+=A:r.hasOwnProperty(A)?(Q+=r[A],D[C]=parseInt(Q,16)*L,L=1,C=void 0,Q=""):Q+=A;return j},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},m={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var b=v.font,_=m.Unicode[b.postScriptName];_&&(b.metadata.Unicode={},b.metadata.Unicode.widths=_.widths,b.metadata.Unicode.kerning=_.kerning);var C=u.Unicode[b.postScriptName];C&&(b.metadata.Unicode.encoding=C,b.encoding=C.codePages[0])}])}(kr.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(uh(h)),c.metadata=t.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])}(kr),function(t){function e(){return(Mr.canvg?Promise.resolve(Mr.canvg):Co(()=>import("./index.es-BBFgdfEu.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}kr.API.addSvgAsImage=function(r,n,a,s,c,h,g,u){if(isNaN(n)||isNaN(a))throw ca.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(c))throw ca.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=s,m.height=c;var v=m.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,m.width,m.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(C){return C.fromString(v,r,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(b)}).then(function(){_.addImage(m.toDataURL("image/jpeg",1),n,a,s,c,g,u)})}}(),kr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},kr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),g=[],u=0,m=0,v=0;function b(C,A){var j,L=!1;for(j=0;j<C.length;j+=1)C[j]===A&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=h.length;for(v=0;v<_;v+=1)r[h[v]].value=r[h[v]].defaultValue,r[h[v]].explicitSet=!1}if(Yn(t)==="object"){for(a in t)if(s=t[a],b(h,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&b(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")g.push(String(s[u]-1));else if(s[u].length>1){for(m=0;m<s[u].length;m+=1)typeof s[u][m]!="number"&&(n=!1);n===!0&&g.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+g.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,A=[];for(C in r)r[C].explicitSet===!0&&(r[C].type==="name"?A.push("/"+C+" /"+r[C].value):A.push("/"+C+" "+r[C].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+c.length+h.length+a.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+c+h+g),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(kr.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,c){for(var h,g=c.metadata.Unicode.widths,u=["","0","00","000","0000"],m=[""],v=0,b=s.length;v<b;++v){if(h=c.metadata.characterToGlyph(s.charCodeAt(v)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=s.charCodeAt(v),g.indexOf(h)==-1&&(g.push(h),g.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return m.join("");h=h.toString(16),m.push(u[4-h.length],h)}return m.join("")},n=function(s){var c,h,g,u,m,v,b;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],v=0,b=(h=Object.keys(s).sort(function(_,C){return _-C})).length;v<b;v++)c=h[v],g.length>=100&&(m+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(u=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),g.push("<"+c+"><"+u+">"));return g.length&&(m+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(c){var h=c.font,g=c.out,u=c.newObject,m=c.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="Identity-H"){for(var v=h.metadata.Unicode.widths,b=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",C=0;C<b.length;C++)_+=String.fromCharCode(b[C]);var A=u();m({data:_,addLength1:!0,objectId:A}),g("endobj");var j=u();m({data:n(h.metadata.toUnicode),addLength1:!0,objectId:j}),g("endobj");var L=u();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+Td(h.fontName)),g("/FontFile2 "+A+" 0 R"),g("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),g("/Flags "+h.metadata.flags),g("/StemV "+h.metadata.stemV),g("/ItalicAngle "+h.metadata.italicAngle),g("/Ascent "+h.metadata.ascender),g("/Descent "+h.metadata.decender),g("/CapHeight "+h.metadata.capHeight),g(">>"),g("endobj");var D=u();g("<<"),g("/Type /Font"),g("/BaseFont /"+Td(h.fontName)),g("/FontDescriptor "+L+" 0 R"),g("/W "+t.API.PDFObject.convert(v)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+h.encoding+")"),g(">>"),g(">>"),g("endobj"),h.objectNumber=u(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+j+" 0 R"),g("/BaseFont /"+Td(h.fontName)),g("/Encoding /"+h.encoding),g("/DescendantFonts ["+D+" 0 R]"),g(">>"),g("endobj"),h.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(c){var h=c.font,g=c.out,u=c.newObject,m=c.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var v=h.metadata.rawData,b="",_=0;_<v.length;_++)b+=String.fromCharCode(v[_]);var C=u();m({data:b,addLength1:!0,objectId:C}),g("endobj");var A=u();m({data:n(h.metadata.toUnicode),addLength1:!0,objectId:A}),g("endobj");var j=u();g("<<"),g("/Descent "+h.metadata.decender),g("/CapHeight "+h.metadata.capHeight),g("/StemV "+h.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+C+" 0 R"),g("/Flags 96"),g("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),g("/FontName /"+Td(h.fontName)),g("/ItalicAngle "+h.metadata.italicAngle),g("/Ascent "+h.metadata.ascender),g(">>"),g("endobj"),h.objectNumber=u();for(var L=0;L<h.metadata.hmtx.widths.length;L++)h.metadata.hmtx.widths[L]=parseInt(h.metadata.hmtx.widths[L]*(1e3/h.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Td(h.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),g("endobj"),h.isAlreadyPutted=!0}})(s)}]);var a=function(s){var c,h=s.text||"",g=s.x,u=s.y,m=s.options||{},v=s.mutex||{},b=v.pdfEscape,_=v.activeFontKey,C=v.fonts,A=_,j="",L=0,D="",M=C[A].encoding;if(C[A].encoding!=="Identity-H")return{text:h,x:g,y:u,options:m,mutex:v};for(D=h,A=_,Array.isArray(h)&&(D=h[0]),L=0;L<D.length;L+=1)C[A].metadata.hasOwnProperty("cmap")&&(c=C[A].metadata.cmap.unicode.codeMap[D[L].charCodeAt(0)]),c||D[L].charCodeAt(0)<256&&C[A].metadata.hasOwnProperty("Unicode")?j+=D[L]:j+="";var X="";return parseInt(A.slice(1))<14||M==="WinAnsiEncoding"?X=b(j,A).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(X=r(j,C[A])),v.isHex=!0,{text:X,x:g,y:u,options:m,mutex:v}};e.events.push(["postProcessText",function(s){var c=s.text||"",h=[],g={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var u=0;for(u=0;u<c.length;u+=1)Array.isArray(c[u])&&c[u].length===3?h.push([a(Object.assign({},g,{text:c[u][0]})).text,c[u][1],c[u][2]]):h.push(a(Object.assign({},g,{text:c[u]})).text);s.text=h}else s.text=a(Object.assign({},g,{text:c})).text}])}(kr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(kr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,s,c,h,g,u,m,v=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,M=0;this.__bidiEngine__={};var X=function(q){var G=q.charCodeAt(),se=G>>8,ye=A[se];return ye!==void 0?v[256*ye+(255&G)]:se===252||se===253?"AL":L.test(se)?"L":se===8?"R":"N"},Q=function(q){for(var G,se=0;se<q.length;se++){if((G=X(q.charAt(se)))==="L")return!1;if(G==="R")return!0}return!1},Y=function(q,G,se,ye){var me,de,we,Pe,Ae=G[ye];switch(Ae){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&(Ae="AN");break;case"AL":D=!0,Ae="R";break;case"WS":Ae="N";break;case"CS":ye<1||ye+1>=G.length||(me=se[ye-1])!=="EN"&&me!=="AN"||(de=G[ye+1])!=="EN"&&de!=="AN"?Ae="N":D&&(de="AN"),Ae=de===me?de:"N";break;case"ES":Ae=(me=ye>0?se[ye-1]:"B")==="EN"&&ye+1<G.length&&G[ye+1]==="EN"?"EN":"N";break;case"ET":if(ye>0&&se[ye-1]==="EN"){Ae="EN";break}if(D){Ae="N";break}for(we=ye+1,Pe=G.length;we<Pe&&G[we]==="ET";)we++;Ae=we<Pe&&G[we]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(Pe=G.length,we=ye+1;we<Pe&&G[we]==="NSM";)we++;if(we<Pe){var ae=q[ye],fe=ae>=1425&&ae<=2303||ae===64286;if(me=G[we],fe&&(me==="R"||me==="AL")){Ae="R";break}}}Ae=ye<1||(me=G[ye-1])==="B"?"N":se[ye-1];break;case"B":D=!1,a=!0,Ae=M;break;case"S":s=!0,Ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":Ae="N"}return Ae},V=function(q,G,se){var ye=q.split("");return se&&H(ye,se,{hiLevel:M}),ye.reverse(),G&&G.reverse(),ye.join("")},H=function(q,G,se){var ye,me,de,we,Pe,Ae=-1,ae=q.length,fe=0,P=[],W=M?_:b,J=[];for(D=!1,a=!1,s=!1,me=0;me<ae;me++)J[me]=X(q[me]);for(de=0;de<ae;de++){if(Pe=fe,P[de]=Y(q,J,P,de),ye=240&(fe=W[Pe][C[P[de]]]),fe&=15,G[de]=we=W[fe][5],ye>0)if(ye===16){for(me=Ae;me<de;me++)G[me]=1;Ae=-1}else Ae=-1;if(W[fe][6])Ae===-1&&(Ae=de);else if(Ae>-1){for(me=Ae;me<de;me++)G[me]=we;Ae=-1}J[de]==="B"&&(G[de]=0),se.hiLevel|=we}s&&function(te,le,Be){for(var Re=0;Re<Be;Re++)if(te[Re]==="S"){le[Re]=M;for(var Me=Re-1;Me>=0&&te[Me]==="WS";Me--)le[Me]=M}}(J,G,ae)},B=function(q,G,se,ye,me){if(!(me.hiLevel<q)){if(q===1&&M===1&&!a)return G.reverse(),void(se&&se.reverse());for(var de,we,Pe,Ae,ae=G.length,fe=0;fe<ae;){if(ye[fe]>=q){for(Pe=fe+1;Pe<ae&&ye[Pe]>=q;)Pe++;for(Ae=fe,we=Pe-1;Ae<we;Ae++,we--)de=G[Ae],G[Ae]=G[we],G[we]=de,se&&(de=se[Ae],se[Ae]=se[we],se[we]=de);fe=Pe}fe++}}},re=function(q,G,se){var ye=q.split(""),me={hiLevel:M};return se||(se=[]),H(ye,se,me),function(de,we,Pe){if(Pe.hiLevel!==0&&m)for(var Ae,ae=0;ae<de.length;ae++)we[ae]===1&&(Ae=j.indexOf(de[ae]))>=0&&(de[ae]=j[Ae+1])}(ye,se,me),B(2,ye,G,se,me),B(1,ye,G,se,me),ye.join("")};return this.__bidiEngine__.doBidiReorder=function(q,G,se){if(function(me,de){if(de)for(var we=0;we<me.length;we++)de[we]=we;h===void 0&&(h=Q(me)),u===void 0&&(u=Q(me))}(q,G),c||!g||u)if(c&&g&&h^u)M=h?1:0,q=V(q,G,se);else if(!c&&g&&u)M=h?1:0,q=re(q,G,se),q=V(q,G);else if(!c||h||g||u){if(c&&!g&&h^u)q=V(q,G),h?(M=0,q=re(q,G,se)):(M=1,q=re(q,G,se),q=V(q,G));else if(c&&h&&!g&&u)M=1,q=re(q,G,se),q=V(q,G);else if(!c&&!g&&h^u){var ye=m;h?(M=1,q=re(q,G,se),M=0,m=!1,q=re(q,G,se),m=ye):(M=0,q=re(q,G,se),q=V(q,G),M=1,m=!1,q=re(q,G,se),m=ye,q=V(q,G))}}else M=0,q=re(q,G,se);else M=h?1:0,q=re(q,G,se);return q},this.__bidiEngine__.setOptions=function(q){q&&(c=q.isInputVisual,g=q.isOutputVisual,h=q.isInputRtl,u=q.isOutputRtl,m=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([r.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([r.doBidiReorder(a[h])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(kr),kr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Cu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new g9(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new e9(this.contents),this.head=new r9(this),this.name=new o9(this),this.cmap=new g6(this),this.toUnicode={},this.hhea=new n9(this),this.maxp=new l9(this),this.hmtx=new c9(this),this.post=new s9(this),this.os2=new a9(this),this.loca=new h9(this),this.glyf=new u9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,h,g,u;for(u=[],c=0,h=(g=this.bbox).length;c<h;c++)e=g[c],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,s,c,h;for(c=0,s=0,h=(e=""+e).length;0<=h?s<h:s>h;s=0<=h?++s:--s)a=e.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Rl,Cu=function(){function t(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,s,c,h,g;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),c=this.readByte(),h=this.readByte(),g=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^c)+256*(255^h)+(255^g)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*c+256*h+g},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),e9=function(){var t;function e(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,s,c,h,g,u,m,v,b,_,C,A;for(A in _=Object.keys(r).length,g=Math.log(2),v=16*Math.floor(Math.log(_)/g),c=Math.floor(v/g),m=16*_-v,(a=new Cu).writeInt(this.scalarType),a.writeShort(_),a.writeShort(v),a.writeShort(c),a.writeShort(m),s=16*_,u=a.pos+s,h=null,C=[],r)for(b=r[A],a.writeString(A),a.writeInt(t(b)),a.writeInt(u),a.writeInt(b.length),C=C.concat(b),A==="head"&&(h=u),u+=b.length;u%4;)C.push(0),u++;return a.write(C),n=2981146554-t(a.data),a.pos=h+8,a.writeUInt32(n),a.data},t=function(r){var n,a,s,c;for(r=m6.call(r);r.length%4;)r.push(0);for(s=new Cu(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=s.readUInt32();return 4294967295&a},e}(),t9={}.hasOwnProperty,sc=function(t,e){for(var r in e)t9.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Rl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var r9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Cu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),f4=function(){function t(e,r){var n,a,s,c,h,g,u,m,v,b,_,C,A,j,L,D,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=e.readByte();break;case 4:for(_=e.readUInt16(),b=_/2,e.pos+=6,s=function(){var X,Q;for(Q=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Q.push(e.readUInt16());return Q}(),e.pos+=2,A=function(){var X,Q;for(Q=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Q.push(e.readUInt16());return Q}(),u=function(){var X,Q;for(Q=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Q.push(e.readUInt16());return Q}(),m=function(){var X,Q;for(Q=[],g=X=0;0<=b?X<b:X>b;g=0<=b?++X:--X)Q.push(e.readUInt16());return Q}(),a=(this.length-e.pos+this.offset)/2,h=function(){var X,Q;for(Q=[],g=X=0;0<=a?X<a:X>a;g=0<=a?++X:--X)Q.push(e.readUInt16());return Q}(),g=L=0,M=s.length;L<M;g=++L)for(j=s[g],n=D=C=A[g];C<=j?D<=j:D>=j;n=C<=j?++D:--D)m[g]===0?c=n+u[g]:(c=h[m[g]/2+(n-C)-(b-g)]||0)!==0&&(c+=u[g]),this.codeMap[n]=65535&c}e.pos=v}return t.encode=function(e,r){var n,a,s,c,h,g,u,m,v,b,_,C,A,j,L,D,M,X,Q,Y,V,H,B,re,q,G,se,ye,me,de,we,Pe,Ae,ae,fe,P,W,J,te,le,Be,Re,Me,ke,ze,ut;switch(ye=new Cu,c=Object.keys(e).sort(function(gt,Ct){return gt-Ct}),r){case"macroman":for(A=0,j=function(){var gt=[];for(C=0;C<256;++C)gt.push(0);return gt}(),D={0:0},s={},me=0,Ae=c.length;me<Ae;me++)D[Me=e[a=c[me]]]==null&&(D[Me]=++A),s[a]={old:e[a],new:D[e[a]]},j[a]=D[e[a]];return ye.writeUInt16(1),ye.writeUInt16(0),ye.writeUInt32(12),ye.writeUInt16(0),ye.writeUInt16(262),ye.writeUInt16(0),ye.write(j),{charMap:s,subtable:ye.data,maxGlyphID:A+1};case"unicode":for(G=[],v=[],M=0,D={},n={},L=u=null,de=0,ae=c.length;de<ae;de++)D[Q=e[a=c[de]]]==null&&(D[Q]=++M),n[a]={old:Q,new:D[Q]},h=D[Q]-a,L!=null&&h===u||(L&&v.push(L),G.push(a),u=h),L=a;for(L&&v.push(L),v.push(65535),G.push(65535),re=2*(B=G.length),H=2*Math.pow(Math.log(B)/Math.LN2,2),b=Math.log(H/2)/Math.LN2,V=2*B-H,g=[],Y=[],_=[],C=we=0,fe=G.length;we<fe;C=++we){if(q=G[C],m=v[C],q===65535){g.push(0),Y.push(0);break}if(q-(se=n[q].new)>=32768)for(g.push(0),Y.push(2*(_.length+B-C)),a=Pe=q;q<=m?Pe<=m:Pe>=m;a=q<=m?++Pe:--Pe)_.push(n[a].new);else g.push(se-q),Y.push(0)}for(ye.writeUInt16(3),ye.writeUInt16(1),ye.writeUInt32(12),ye.writeUInt16(4),ye.writeUInt16(16+8*B+2*_.length),ye.writeUInt16(0),ye.writeUInt16(re),ye.writeUInt16(H),ye.writeUInt16(b),ye.writeUInt16(V),Be=0,P=v.length;Be<P;Be++)a=v[Be],ye.writeUInt16(a);for(ye.writeUInt16(0),Re=0,W=G.length;Re<W;Re++)a=G[Re],ye.writeUInt16(a);for(ke=0,J=g.length;ke<J;ke++)h=g[ke],ye.writeUInt16(h);for(ze=0,te=Y.length;ze<te;ze++)X=Y[ze],ye.writeUInt16(X);for(ut=0,le=_.length;ut<le;ut++)A=_[ut],ye.writeUInt16(A);return{charMap:n,subtable:ye.data,maxGlyphID:M+1}}},t}(),g6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new f4(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=f4.encode(r,n),(s=new Cu).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),n9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),a9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),s9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var c;for(a=r.readUInt16(),this.glyphNameIndex=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=function(){var h,g,u;for(u=[],c=h=0,g=this.file.maxp.numGlyphs;0<=g?h<g:h>g;c=0<=g?++h:--h)u.push(r.readUInt32());return u}.call(this)}},e}(),i9=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},o9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,s,c,h,g,u,m,v,b,_;for(r.pos=this.offset,r.readShort(),n=r.readShort(),g=r.readShort(),a=[],c=0;0<=n?c<n:c>n;c=0<=n?++c:--c)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+g+r.readShort()});for(u={},c=v=0,b=a.length;v<b;c=++v)s=a[c],r.pos=s.offset,m=r.readString(s.length),h=new i9(m,s),u[_=s.nameID]==null&&(u[_]=[]),u[s.nameID].push(h);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(C){this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),l9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),c9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,s,c,h,g,u;for(r.pos=this.offset,this.metrics=[],n=0,g=this.file.hhea.numberOfMetrics;0<=g?n<g:n>g;n=0<=g?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,v;for(v=[],n=m=0;0<=s?m<s:m>s;n=0<=s?++m:--m)v.push(r.readInt16());return v}(),this.widths=function(){var m,v,b,_;for(_=[],m=0,v=(b=this.metrics).length;m<v;m++)c=b[m],_.push(c.advance);return _}.call(this),a=this.widths[this.widths.length-1],u=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),m6=[].slice,u9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,s,c,h,g,u,m,v,b;return r in this.cache?this.cache[r]:(c=this.file.loca,n=this.file.contents,a=c.indexOf(r),(s=c.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,h=(g=new Cu(n.read(s))).readShort(),m=g.readShort(),b=g.readShort(),u=g.readShort(),v=g.readShort(),this.cache[r]=h===-1?new f9(g,m,b,u,v):new d9(g,h,m,b,u,v),this.cache[r]))},e.prototype.encode=function(r,n,a){var s,c,h,g,u;for(h=[],c=[],g=0,u=n.length;g<u;g++)s=r[n[g]],c.push(h.length),s&&(h=h.concat(s.encode(a)));return c.push(h.length),{table:h,offsets:c}},e}(),d9=function(){function t(e,r,n,a,s,c){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),f9=function(){function t(e,r,n,a,s){var c,h;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Cu(m6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),h9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sc(e,Rl),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var s,c;for(c=[],a=0,s=this.length;a<s;a+=2)c.push(2*r.readUInt16());return c}.call(this):function(){var s,c;for(c=[],a=0,s=this.length;a<s;a+=4)c.push(r.readUInt32());return c}.call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,c=0,h=0;h<a.length;++h)if(a[h]=s,c<n.length&&n[c]==h){++c,a[h]=s;var g=this.offsets[h],u=this.offsets[h+1]-g;u>0&&(s+=u)}for(var m=new Array(4*a.length),v=0;v<a.length;++v)m[4*v+3]=255&a[v],m[4*v+2]=(65280&a[v])>>8,m[4*v+1]=(16711680&a[v])>>16,m[4*v]=(4278190080&a[v])>>24;return m},e}(),g9=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,s,c,h,g;for(a={},c=0,h=e.length;c<h;c++)a[s=e[c]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in g=this.glyphsFor(r))n=g[s],a[s]=n;return a},t.prototype.encode=function(e,r){var n,a,s,c,h,g,u,m,v,b,_,C,A,j,L;for(a in n=g6.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},L=n.charMap)_[(g=L[a]).old]=g.new;for(C in b=n.maxGlyphID,c)C in _||(_[C]=b++);return m=function(D){var M,X;for(M in X={},D)X[D[M]]=M;return X}(_),v=Object.keys(m).sort(function(D,M){return D-M}),A=function(){var D,M,X;for(X=[],D=0,M=v.length;D<M;D++)h=v[D],X.push(m[h]);return X}(),s=this.font.glyf.encode(c,A,_),u=this.font.loca.encode(s.offsets,A),j={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();kr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,s,c;if(Array.isArray(r))return"["+function(){var h,g,u;for(u=[],h=0,g=r.length;h<g;h++)n=r[h],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)c=r[a],s.push("/"+a+" "+e.convert(c));return s.push(">>"),s.join(`
`)}return""+r},e}();function p6(t,e,r,n,a){n=n||{};var s=1.15,c=a.internal.scaleFactor,h=a.internal.getFontSize()/c,g=a.getLineHeightFactor?a.getLineHeightFactor():s,u=h*g,m=/\r\n|\r|\n/g,v="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(v=typeof t=="string"?t.split(m):t,b=v.length||1),r+=h*(2-s),n.valign==="middle"?r-=b/2*u:n.valign==="bottom"&&(r-=b*u),n.halign==="center"||n.halign==="right"){var _=h;if(n.halign==="center"&&(_*=.5),v&&b>=1){for(var C=0;C<v.length;C++)a.text(v[C],e-a.getStringUnitWidth(v[C])*_,r),r+=u;return a}e-=a.getStringUnitWidth(t)*_}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var h4={},Fd=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:h4=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),h=c.fontStyle,g=c.fontName;if(e.font&&(g=e.font),e.fontStyle){h=e.fontStyle;var u=this.getFontList()[g];u&&u.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),h=u[0])}if(this.jsPDFDocument.setFont(g,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var m=t.unifyColor(e.fillColor);m&&(n=this.jsPDFDocument).setFillColor.apply(n,m),m=t.unifyColor(e.textColor),m&&(a=this.jsPDFDocument).setTextColor.apply(a,m),m=t.unifyColor(e.lineColor),m&&(s=this.jsPDFDocument).setDrawColor.apply(s,m),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,s){return this.jsPDFDocument.rect(e,r,n,a,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return h4||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Lx=function(t,e){return Lx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Lx(t,e)};function x6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var v6=function(t){x6(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function m9(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function p9(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function dm(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,c){return Math.max(s,c)},0);return a}function y6(t,e,r,n){var a=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:s});var c=w6(a,!1);c&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,c)}function w6(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Km(t,e){var r,n,a,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function b6(t,e){var r=Km(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function x9(t,e,r,n,a){var s={},c=1.3333333333333333,h=q2(e,function(M){return a.getComputedStyle(M).backgroundColor});h!=null&&(s.fillColor=h);var g=q2(e,function(M){return a.getComputedStyle(M).color});g!=null&&(s.textColor=g);var u=y9(n,r);u&&(s.cellPadding=u);var m="borderTopColor",v=c*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var _=(parseFloat(b)||0)/v;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/v,right:(parseFloat(n.borderRightWidth)||0)/v,bottom:(parseFloat(n.borderBottomWidth)||0)/v,left:(parseFloat(n.borderLeftWidth)||0)/v},s.lineWidth.top||(s.lineWidth.right?m="borderRightColor":s.lineWidth.bottom?m="borderBottomColor":s.lineWidth.left&&(m="borderLeftColor"));var C=q2(e,function(M){return a.getComputedStyle(M)[m]});C!=null&&(s.lineColor=C);var A=["left","right","center","justify"];A.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),A=["middle","bottom","top"],A.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var j=parseInt(n.fontSize||"");isNaN(j)||(s.fontSize=j/c);var L=v9(n);L&&(s.fontStyle=L);var D=(n.fontFamily||"").toLowerCase();return t.indexOf(D)!==-1&&(s.font=D),s}function v9(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function q2(t,e){var r=_6(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function _6(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:_6(t.parentElement,e):r}function y9(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(h){return parseInt(h||"0")/n}),c=Km(s,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function E6(t,e,r,n,a){var s,c;n===void 0&&(n=!1),a===void 0&&(a=!1);var h;typeof e=="string"?h=r.document.querySelector(e):h=e;var g=Object.keys(t.getFontList()),u=t.scaleFactor(),m=[],v=[],b=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:m,body:v,foot:b};for(var _=0;_<h.rows.length;_++){var C=h.rows[_],A=(c=(s=C==null?void 0:C.parentElement)===null||s===void 0?void 0:s.tagName)===null||c===void 0?void 0:c.toLowerCase(),j=w9(g,u,r,C,n,a);j&&(A==="thead"?m.push(j):A==="tfoot"?b.push(j):v.push(j))}return{head:m,body:v,foot:b}}function w9(t,e,r,n,a,s){for(var c=new v6(n),h=0;h<n.cells.length;h++){var g=n.cells[h],u=r.getComputedStyle(g);if(a||u.display!=="none"){var m=void 0;s&&(m=x9(t,g,e,u,r)),c.push({rowSpan:g.rowSpan,colSpan:g.colSpan,styles:m,_element:g,content:b9(g)})}}var v=r.getComputedStyle(n);if(c.length>0&&(a||v.display!=="none"))return c}function b9(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function _9(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function kc(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),c=1;c<arguments.length;c++){var h=arguments[c];if(h!=null)for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(s[g]=h[g])}return s}function N6(t,e){var r=new Fd(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();_9(a,n,e);var s=kc({},a,n,e),c;typeof window!="undefined"&&(c=window);var h=E9(a,n,e),g=N9(a,n,e),u=S9(r,s),m=C9(r,s,c);return{id:e.tableId,content:m,hooks:g,styles:h,settings:u}}function E9(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(g){if(g==="columnStyles"){var u=t[g],m=e[g],v=r[g];n.columnStyles=kc({},u,m,v)}else{var b=[t,e,r],_=b.map(function(C){return C[g]||{}});n[g]=kc({},_[0],_[1],_[2])}},s=0,c=Object.keys(n);s<c.length;s++){var h=c[s];a(h)}return n}function N9(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,c=n;s<c.length;s++){var h=c[s];h.didParseCell&&a.didParseCell.push(h.didParseCell),h.willDrawCell&&a.willDrawCell.push(h.willDrawCell),h.didDrawCell&&a.didDrawCell.push(h.didDrawCell),h.willDrawPage&&a.willDrawPage.push(h.willDrawPage),h.didDrawPage&&a.didDrawPage.push(h.didDrawPage)}return a}function S9(t,e){var r,n,a,s,c,h,g,u,m,v,b,_,C=Km(e.margin,40/t.scaleFactor()),A=(r=A9(t,e.startY))!==null&&r!==void 0?r:C.top,j;e.showFoot===!0?j="everyPage":e.showFoot===!1?j="never":j=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var L;e.showHead===!0?L="everyPage":e.showHead===!1?L="never":L=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var D=(s=e.useCss)!==null&&s!==void 0?s:!1,M=e.theme||(D?"plain":"striped"),X=!!e.horizontalPageBreak,Q=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:D,theme:M,startY:A,margin:C,pageBreak:(g=e.pageBreak)!==null&&g!==void 0?g:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(m=e.tableWidth)!==null&&m!==void 0?m:"auto",showHead:L,showFoot:j,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:X,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function A9(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var c=r.startPageNumber+r.pageNumber-1;s=c===a}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function C9(t,e,r){var n=e.head||[],a=e.body||[],s=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(r){var h=E6(t,e.html,r,c,e.useCss)||{};n=h.head||n,a=h.body||n,s=h.foot||n}else console.error("Cannot parse html in non browser environment")}var g=e.columns||T9(n,a,s);return{columns:g,head:n,body:a,foot:s}}function T9(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var c=1,h;Array.isArray(n)?h=n[parseInt(s)]:h=n[s],typeof h=="object"&&!Array.isArray(h)&&(c=(h==null?void 0:h.colSpan)||1);for(var g=0;g<c;g++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(g>0?"_".concat(g):"");var m={dataKey:u};a.push(m)}}),a}var Ix=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),j9=function(t){x6(e,t);function e(r,n,a,s,c,h){var g=t.call(this,r,n,h)||this;return g.cell=a,g.row=s,g.column=c,g.section=s.section,g}return e}(Ix),O9=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,s,c){for(var h=0,g=r;h<g.length;h++){var u=g[h],m=new j9(e,this,n,a,s,c),v=u(m)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],v)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new Ix(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new Ix(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),S6=function(){function t(e,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof v6&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,s){var c=n.cells[s.index];if(!c)return 0;var h=r.getLineHeight(c.styles.fontSize),g=c.padding("vertical"),u=g+h;return u>a?u:a},0)},t}(),A6=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=s!=null?""+s:"",h=/\r\n|\r|\n/g;this.text=c.split(h)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Km(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),R9=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var s=a[n],c=s.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(r=Math.max(r,c.styles.cellWidth))}return r},t}();function k9(t,e){L9(t,e);var r=[],n=0;e.columns.forEach(function(s){var c=s.getMaxCustomCellWidth(e);c?s.width=c:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=Dx(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=Dx(r,a,function(s){return s.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),D9(e),P9(e,t),I9(e)}function L9(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=b6(t,e);e.allRows().forEach(function(s){for(var c=0,h=e.columns;c<h.length;c++){var g=h[c],u=s.cells[g.index];if(u){var m=e.hooks.didParseCell;e.callCellHooks(t,m,u,s,g,null);var v=u.padding("horizontal");u.contentWidth=dm(u.text,u.styles,t)+v;var b=dm(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=b+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var _=10/r;u.minWidth=u.styles.minCellWidth||_,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var c=0,h=e.columns;c<h.length;c++){var g=h[c],u=s.cells[g.index];if(u&&u.colSpan===1)g.wrappedWidth=Math.max(g.wrappedWidth,u.wrappedWidth),g.minWidth=Math.max(g.minWidth,u.minWidth),g.minReadableWidth=Math.max(g.minReadableWidth,u.minReadableWidth);else{var m=e.styles.columnStyles[g.dataKey]||e.styles.columnStyles[g.index]||{},v=m.cellWidth||m.minCellWidth;v&&typeof v=="number"&&(g.minWidth=v,g.wrappedWidth=v)}u&&(u.colSpan>1&&!g.minWidth&&(g.minWidth=u.minWidth),u.colSpan>1&&!g.wrappedWidth&&(g.wrappedWidth=u.minWidth))}})}function Dx(t,e,r){for(var n=e,a=t.reduce(function(_,C){return _+C.wrappedWidth},0),s=0;s<t.length;s++){var c=t[s],h=c.wrappedWidth/a,g=n*h,u=c.width+g,m=r(c),v=u<m?m:u;e-=v-c.width,c.width=v}if(e=Math.round(e*1e10)/1e10,e){var b=t.filter(function(_){return e<0?_.width>r(_):!0});b.length&&(e=Dx(b,e,r))}return e}function I9(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var s=n[a],c=0,h=t.columns;c<h.length;c++){var g=h[c],u=e[g.index];if(r>1)r--,delete s.cells[g.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[g.index],u.left--,u.left<=1&&delete e[g.index];else{var m=s.cells[g.index];if(!m)continue;if(m.height=s.height,m.rowSpan>1){var v=n.length-a,b=m.rowSpan>v?v:m.rowSpan;e[g.index]={cell:m,left:b,row:s}}}}}function D9(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,s=0,c=0,h=0;h<t.columns.length;h++){var g=t.columns[h];if(c-=1,c>1&&t.columns[h+1])s+=g.width,delete n.cells[g.index];else if(a){var u=a;delete n.cells[g.index],a=null,u.width=g.width+s}else{var u=n.cells[g.index];if(!u)continue;if(c=u.colSpan,s=0,u.colSpan>1){a=u,s+=g.width;continue}u.width=g.width+s}}}function P9(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var s=a[n],c=0,h=t.columns;c<h.length;c++){var g=h[c],u=s.cells[g.index];if(u){e.applyStyles(u.styles,!0);var m=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,m+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=g4(u.text,m,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=g4(u.text,m,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var v=u.styles.overflow(u.text,m);typeof v=="string"?u.text=[v]:u.text=v}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<b*u.rowSpan?r={height:b,count:u.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>s.height&&(s.height=b)}}r.count--}}function g4(t,e,r,n,a){return t.map(function(s){return F9(s,e,r,n,a)})}function F9(t,e,r,n,a){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=dm(t,r,n))return t;for(;e<dm(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function C6(t,e){var r=new Fd(t),n=M9(e,r.scaleFactor()),a=new O9(e,n);return k9(r,a),r.applyStyles(r.userStyles),a}function M9(t,e){var r=t.content,n=U9(r.columns);if(r.head.length===0){var a=m4(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=m4(n,"foot");a&&r.foot.push(a)}var s=t.settings.theme,c=t.styles;return{columns:n,head:V2("head",r.head,n,c,s,e),body:V2("body",r.body,n,c,s,e),foot:V2("foot",r.foot,n,c,s,e)}}function V2(t,e,r,n,a,s){var c={},h=e.map(function(g,u){for(var m=0,v={},b=0,_=0,C=0,A=r;C<A.length;C++){var j=A[C];if(c[j.index]==null||c[j.index].left===0)if(_===0){var L=void 0;Array.isArray(g)?L=g[j.index-b-m]:L=g[j.dataKey];var D={};typeof L=="object"&&!Array.isArray(L)&&(D=(L==null?void 0:L.styles)||{});var M=z9(t,j,u,a,n,s,D),X=new A6(L,M,t);v[j.dataKey]=X,v[j.index]=X,_=X.colSpan-1,c[j.index]={left:X.rowSpan-1,times:_}}else _--,b++;else c[j.index].left--,_=c[j.index].times,m++}return new S6(g,u,t,v)});return h}function m4(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=B9(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function B9(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function U9(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new R9(a,e,r)})}function z9(t,e,r,n,a,s,c){var h=p9(n),g;t==="head"?g=a.headStyles:t==="body"?g=a.bodyStyles:t==="foot"&&(g=a.footStyles);var u=kc({},h.table,h[t],a.styles,g),m=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},v=t==="body"?m:{},b=t==="body"&&r%2===0?kc({},h.alternateRow,a.alternateRowStyles):{},_=m9(s),C=kc({},_,u,b,v);return kc(C,c)}function H9(t,e,r){var n;r===void 0&&(r={});var a=b6(t,e),s=new Map,c=[],h=[],g=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?g=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(g=[e.settings.horizontalPageBreakRepeat]),g.forEach(function(b){var _=e.columns.find(function(C){return C.dataKey===b||C.index===b});_&&!s.has(_.index)&&(s.set(_.index,!0),c.push(_.index),h.push(e.columns[_.index]),a-=_.wrappedWidth)});for(var u=!0,m=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;m<e.columns.length;){if(s.has(m)){m++;continue}var v=e.columns[m].wrappedWidth;if(u||a>=v)u=!1,c.push(m),h.push(e.columns[m]),a-=v;else break;m++}return{colIndexes:c,columns:h,lastIndex:m-1}}function q9(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=H9(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function T6(t,e){var r=e.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=n+a.bottom+c;if(r.pageBreak==="avoid"){var g=e.body,u=g.reduce(function(b,_){return b+_.height},0);h+=u}var m=new Fd(t);(r.pageBreak==="always"||r.startY!=null&&h>m.pageSize().height)&&(O6(m),s.y=a.top),e.callWillDrawPageHooks(m,s);var v=kc({},s);e.startPageNumber=m.pageNumber(),r.horizontalPageBreak?V9(m,e,v,s):(m.applyStyles(m.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(b){return Mc(m,e,b,s,e.columns)}),m.applyStyles(m.userStyles),e.body.forEach(function(b,_){var C=_===e.body.length-1;fm(m,e,b,C,v,s,e.columns)}),m.applyStyles(m.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(b){return Mc(m,e,b,s,e.columns)})),y6(m,e,v,s),e.callEndPageHooks(m,s),e.finalY=s.y,t.lastAutoTable=e,m.applyStyles(m.userStyles)}function V9(t,e,r,n){var a=q9(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,m){t.applyStyles(t.userStyles),m>0?dh(t,e,r,n,u.columns,!0):p4(t,e,n,u.columns),W9(t,e,r,n,u.columns),W2(t,e,n,u.columns)});else for(var c=-1,h=a[0],g=function(){var u=c;if(h){t.applyStyles(t.userStyles);var m=h.columns;c>=0?dh(t,e,r,n,m,!0):p4(t,e,n,m),u=x4(t,e,c+1,n,m),W2(t,e,n,m)}var v=u-c;a.slice(1).forEach(function(b){t.applyStyles(t.userStyles),dh(t,e,r,n,b.columns,!0),x4(t,e,c+1,n,b.columns,v),W2(t,e,n,b.columns)}),c=u};c<e.body.length-1;)g()}function p4(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(s){return Mc(t,e,s,r,n)})}function W9(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(s,c){var h=c===e.body.length-1;fm(t,e,s,h,r,n,a)})}function x4(t,e,r,n,a,s){t.applyStyles(t.userStyles),s=s!=null?s:e.body.length;var c=Math.min(r+s,e.body.length),h=-1;return e.body.slice(r,c).forEach(function(g,u){var m=r+u===e.body.length-1,v=j6(t,e,m,n);g.canEntireRowFit(v,a)&&(Mc(t,e,g,n,a),h=r+u)}),h}function W2(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(s){return Mc(t,e,s,r,n)})}function G9(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),s=Math.floor((e-a)/n);return Math.max(0,s)}function $9(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var s=0,c=0,h=r.columns;c<h.length;c++){var g=h[c],u=t.cells[g.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var m=new A6(u.raw,u.styles,u.section);m=kc(m,u),m.text=[];var v=G9(u,e,n);u.text.length>v&&(m.text=u.text.splice(v,u.text.length));var b=n.scaleFactor(),_=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(b,_),u.contentHeight>=e&&(u.contentHeight=e,m.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),m.contentHeight=m.getContentHeight(b,_),m.contentHeight>s&&(s=m.contentHeight),a[g.index]=m}}var C=new S6(t.raw,-1,t.section,a,!0);C.height=s;for(var A=0,j=r.columns;A<j.length;A++){var g=j[A],m=C.cells[g.index];m&&(m.height=C.height);var u=t.cells[g.index];u&&(u.height=t.height)}return C}function X9(t,e,r,n){var a=t.pageSize().height,s=n.settings.margin,c=s.top+s.bottom,h=a-c;e.section==="body"&&(h-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var g=e.getMinimumRowHeight(n.columns,t),u=g<r;if(g>h)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var m=e.hasRowSpan(n.columns),v=e.getMaxCellHeight(n.columns)>h;return v?(m&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||n.settings.rowPageBreak==="avoid")}function fm(t,e,r,n,a,s,c){var h=j6(t,e,n,s);if(r.canEntireRowFit(h,c))Mc(t,e,r,s,c);else if(X9(t,r,h,e)){var g=$9(r,h,e,t);Mc(t,e,r,s,c),dh(t,e,a,s,c),fm(t,e,g,n,a,s,c)}else dh(t,e,a,s,c),fm(t,e,r,n,a,s,c)}function Mc(t,e,r,n,a){n.x=e.settings.margin.left;for(var s=0,c=a;s<c.length;s++){var h=c[s],g=r.cells[h.index];if(!g){n.x+=h.width;continue}t.applyStyles(g.styles),g.x=n.x,g.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,g,r,h,n);if(u===!1){n.x+=h.width;continue}Y9(t,g,n);var m=g.getTextPos();p6(g.text,m.x,m.y,{halign:g.styles.halign,valign:g.styles.valign,maxWidth:Math.ceil(g.width-g.padding("left")-g.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,g,r,h,n),n.x+=h.width}n.y+=r.height}function Y9(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=w6(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),K9(t,e,r,n.lineWidth))}function K9(t,e,r,n){var a,s,c,h;n.top&&(a=r.x,s=r.y,c=r.x+e.width,h=r.y,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),g(n.top,a,s,c,h)),n.bottom&&(a=r.x,s=r.y+e.height,c=r.x+e.width,h=r.y+e.height,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),g(n.bottom,a,s,c,h)),n.left&&(a=r.x,s=r.y,c=r.x,h=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(h+=.5*n.bottom),g(n.left,a,s,c,h)),n.right&&(a=r.x+e.width,s=r.y,c=r.x+e.width,h=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(h+=.5*n.bottom),g(n.right,a,s,c,h));function g(u,m,v,b,_){t.getDocument().setLineWidth(u),t.getDocument().line(m,v,b,_,"S")}}function j6(t,e,r,n){var a=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function dh(t,e,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(h){return Mc(t,e,h,n,a)}),e.callEndPageHooks(t,n);var c=e.settings.margin;y6(t,e,r,n),O6(t),e.pageNumber++,n.x=c.left,n.y=c.top,r.y=c.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return Mc(t,e,h,n,a)}),t.applyStyles(t.userStyles))}function O6(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Z9(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=N6(this,n),s=C6(this,a);return T6(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){p6(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Fd.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Fd.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window=="undefined")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Fd(this),s=E6(a,e,window,r,!1),c=s.head,h=s.body,g=((n=c[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:g,rows:h,data:h}}}var G2;function J9(t,e){var r=N6(t,e),n=C6(t,r);T6(t,n)}try{if(typeof window!="undefined"&&window){var v4=window,y4=v4.jsPDF||((G2=v4.jspdf)===null||G2===void 0?void 0:G2.jsPDF);y4&&Z9(y4)}}catch(t){console.error("Could not apply autoTable plugin",t)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var hm={};hm.version="0.18.5";var R6=1252,Q9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],k6=function(t){Q9.indexOf(t)!=-1&&(R6=t)};function eR(){k6(1252)}var _h=function(t){k6(t)};function tR(){_h(1200),eR()}var Q1=function(e){return String.fromCharCode(e)},w4=function(e){return String.fromCharCode(e)},b4,Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Eh(t){for(var e="",r=0,n=0,a=0,s=0,c=0,h=0,g=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),c=(r&3)<<4|n>>4,a=t.charCodeAt(u++),h=(n&15)<<2|a>>6,g=a&63,isNaN(n)?h=g=64:isNaN(a)&&(g=64),e+=Eu.charAt(s)+Eu.charAt(c)+Eu.charAt(h)+Eu.charAt(g);return e}function Bc(t){var e="",r=0,n=0,a=0,s=0,c=0,h=0,g=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=Eu.indexOf(t.charAt(u++)),c=Eu.indexOf(t.charAt(u++)),r=s<<2|c>>4,e+=String.fromCharCode(r),h=Eu.indexOf(t.charAt(u++)),n=(c&15)<<4|h>>2,h!==64&&(e+=String.fromCharCode(n)),g=Eu.indexOf(t.charAt(u++)),a=(h&3)<<6|g,g!==64&&(e+=String.fromCharCode(a));return e}var zn=function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node}(),zc=function(){if(typeof Buffer!="undefined"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch(e){t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function y0(t){return zn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array!="undefined"?new Uint8Array(t):new Array(t)}function _4(t){return zn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array!="undefined"?new Uint8Array(t):new Array(t)}var Sl=function(e){return zn?zc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Zm(t){if(typeof ArrayBuffer=="undefined")return Sl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Ih(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function rR(t){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(t)}var ei=zn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:zc(e)}))}:function(t){if(typeof Uint8Array!="undefined"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function nR(t){for(var e=[],r=0,n=t.length+250,a=y0(t.length+255),s=0;s<t.length;++s){var c=t.charCodeAt(s);if(c<128)a[r++]=c;else if(c<2048)a[r++]=192|c>>6&31,a[r++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var h=t.charCodeAt(++s)&1023;a[r++]=240|c>>8&7,a[r++]=128|c>>2&63,a[r++]=128|h>>6&15|(c&3)<<4,a[r++]=128|h&63}else a[r++]=224|c>>12&15,a[r++]=128|c>>6&63,a[r++]=128|c&63;r>n&&(e.push(a.slice(0,r)),r=0,a=y0(65535),n=65530)}return e.push(a.slice(0,r)),ei(e)}var fh=/\u0000/g,eg=/[\u0001-\u0006]/g;function Md(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Al(t,e){var r=""+t;return r.length>=e?r:Ja("0",e-r.length)+r}function gv(t,e){var r=""+t;return r.length>=e?r:Ja(" ",e-r.length)+r}function gm(t,e){var r=""+t;return r.length>=e?r:r+Ja(" ",e-r.length)}function aR(t,e){var r=""+Math.round(t);return r.length>=e?r:Ja("0",e-r.length)+r}function sR(t,e){var r=""+t;return r.length>=e?r:Ja("0",e-r.length)+r}var E4=Math.pow(2,32);function xd(t,e){if(t>E4||t<-E4)return aR(t,e);var r=Math.round(t);return sR(r,e)}function mm(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var N4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iR(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Qa={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},S4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},oR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function pm(t,e,r){for(var n=t<0?-1:1,a=t*n,s=0,c=1,h=0,g=1,u=0,m=0,v=Math.floor(a);u<e&&(v=Math.floor(a),h=v*c+s,m=v*u+g,!(a-v<5e-8));)a=1/(a-v),s=c,c=h,g=u,u=m;if(m>e&&(u>e?(m=g,h=s):(m=u,h=c)),!r)return[0,n*h,m];var b=Math.floor(n*h/m);return[b,n*h-b*m,m]}function tg(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),s=0,c=[],h={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(h.u)<1e-6&&(h.u=0),e&&e.date1904&&(n+=1462),h.u>.9999&&(h.u=0,++a==86400&&(h.T=a=0,++n,++h.D)),n===60)c=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)c=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),c=[g.getFullYear(),g.getMonth()+1,g.getDate()],s=g.getDay(),n<60&&(s=(s+6)%7),r&&(s=gR(g,c))}return h.y=c[0],h.m=c[1],h.d=c[2],h.S=a%60,a=Math.floor(a/60),h.M=a%60,a=Math.floor(a/60),h.H=a,h.q=s,h}var L6=new Date(1899,11,31,0,0,0),lR=L6.getTime(),cR=new Date(1900,2,1,0,0,0);function I6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=cR&&(r+=24*60*60*1e3),(r-(lR+(t.getTimezoneOffset()-L6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function mv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uR(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function dR(t){var e=t<0?12:11,r=mv(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function fR(t){var e=mv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function hR(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=dR(t):e===10?r=t.toFixed(10).substr(0,12):r=fR(t),mv(uR(r.toUpperCase()))}function Px(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):hR(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Tu(14,I6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gR(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function mR(t,e,r,n){var a="",s=0,c=0,h=r.y,g,u=0;switch(t){case 98:h=r.y+543;case 121:switch(e.length){case 1:case 2:g=h%100,u=2;break;default:g=h%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:g=r.m,u=e.length;break;case 3:return $2[r.m-1][1];case 5:return $2[r.m-1][0];default:return $2[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:g=r.d,u=e.length;break;case 3:return N4[r.q][0];default:return N4[r.q][1]}break;case 104:switch(e.length){case 1:case 2:g=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:g=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:g=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Al(r.S,e.length):(n>=2?c=n===3?1e3:100:c=n===1?10:1,s=Math.round(c*(r.S+r.u)),s>=60*c&&(s=0),e==="s"?s===0?"0":""+s/c:(a=Al(s,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:g=h,u=1;break}var m=u>0?Al(g,u):"";return m}function Nu(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var D6=/%/g;function pR(t,e,r){var n=e.replace(D6,""),a=e.length-n.length;return Ic(t,n,r*Math.pow(10,2*a))+Ja("%",a)}function xR(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ic(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function P6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+P6(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+s):r+="E+"+(c-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,g,u,m){return g+u+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var F6=/# (\?+)( ?)\/( ?)(\d+)/;function vR(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),s=Math.floor(a/n),c=a-s*n,h=n;return r+(s===0?"":""+s)+" "+(c===0?Ja(" ",t[1].length+1+t[4].length):gv(c,t[1].length)+t[2]+"/"+t[3]+Al(h,t[4].length))}function yR(t,e,r){return r+(e===0?"":""+e)+Ja(" ",t[1].length+2+t[4].length)}var M6=/^#*0*\.([0#]+)/,B6=/\).*[0#]/,U6=/\(###\) ###\\?-####/;function ji(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function A4(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function C4(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function wR(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function bR(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Go(t,e,r){if(t.charCodeAt(0)===40&&!e.match(B6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Go("n",n,r):"("+Go("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return xR(t,e,r);if(e.indexOf("%")!==-1)return pR(t,e,r);if(e.indexOf("E")!==-1)return P6(e,r);if(e.charCodeAt(0)===36)return"$"+Go(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,c,h,g=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+xd(g,e.length);if(e.match(/^[#?]+$/))return a=xd(r,0),a==="0"&&(a=""),a.length>e.length?a:ji(e.substr(0,e.length-a.length))+a;if(s=e.match(F6))return vR(s,g,u);if(e.match(/^#+0+$/))return u+xd(g,e.length-e.indexOf("0"));if(s=e.match(M6))return a=A4(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ji(s[1])).replace(/\.$/,"."+ji(s[1])).replace(/\.(\d*)$/,function(C,A){return"."+A+Ja("0",ji(s[1]).length-A.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+A4(g,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Nu(xd(g,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Go(t,e,-r):Nu(""+(Math.floor(r)+wR(r,s[1].length)))+"."+Al(C4(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Go(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Md(Go(t,e.replace(/[\\-]/g,""),r)),c=0,Md(Md(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<a.length?a.charAt(c++):C==="0"?"0":""}));if(e.match(U6))return a=Go(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),h=pm(g,Math.pow(10,c)-1,!1),a=""+u,m=Ic("n",s[1],h[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=gm(h[2],c),m.length<s[4].length&&(m=ji(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),h=pm(g,Math.pow(10,c)-1,!0),u+(h[0]||(h[1]?"":"0"))+" "+(h[1]?gv(h[1],c)+s[2]+"/"+s[3]+gm(h[2],c):Ja(" ",2*c+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=xd(r,0),e.length<=a.length?a:ji(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var v=e.indexOf(".")-c,b=e.length-a.length-v;return ji(e.substr(0,v)+a+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return c=C4(r,s[1].length),r<0?"-"+Go(t,e,-r):Nu(bR(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?Al(0,3-C.length):"")+C})+"."+Al(c,s[1].length);switch(e){case"###,##0.00":return Go(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var _=Nu(xd(g,0));return _!=="0"?u+_:"";case"###,###.00":return Go(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Go(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function _R(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ic(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function ER(t,e,r){var n=e.replace(D6,""),a=e.length-n.length;return Ic(t,n,r*Math.pow(10,2*a))+Ja("%",a)}function z6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+z6(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(c-r.length+s):r+="E+"+(c-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,g,u,m){return g+u+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ql(t,e,r){if(t.charCodeAt(0)===40&&!e.match(B6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ql("n",n,r):"("+Ql("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return _R(t,e,r);if(e.indexOf("%")!==-1)return ER(t,e,r);if(e.indexOf("E")!==-1)return z6(e,r);if(e.charCodeAt(0)===36)return"$"+Ql(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,c,h,g=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Al(g,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:ji(e.substr(0,e.length-a.length))+a;if(s=e.match(F6))return yR(s,g,u);if(e.match(/^#+0+$/))return u+Al(g,e.length-e.indexOf("0"));if(s=e.match(M6))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ji(s[1])).replace(/\.$/,"."+ji(s[1])),a=a.replace(/\.(\d*)$/,function(C,A){return"."+A+Ja("0",ji(s[1]).length-A.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Nu(""+g);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ql(t,e,-r):Nu(""+r)+"."+Ja("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ql(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Md(Ql(t,e.replace(/[\\-]/g,""),r)),c=0,Md(Md(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<a.length?a.charAt(c++):C==="0"?"0":""}));if(e.match(U6))return a=Ql(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(s[4].length,7),h=pm(g,Math.pow(10,c)-1,!1),a=""+u,m=Ic("n",s[1],h[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=gm(h[2],c),m.length<s[4].length&&(m=ji(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(s[1].length,s[4].length),7),h=pm(g,Math.pow(10,c)-1,!0),u+(h[0]||(h[1]?"":"0"))+" "+(h[1]?gv(h[1],c)+s[2]+"/"+s[3]+gm(h[2],c):Ja(" ",2*c+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:ji(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var v=e.indexOf(".")-c,b=e.length-a.length-v;return ji(e.substr(0,v)+a+e.substr(e.length-b))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ql(t,e,-r):Nu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?Al(0,3-C.length):"")+C})+"."+Al(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var _=Nu(""+g);return _!=="0"?u+_:"";default:if(e.match(/\.[0#?]*$/))return Ql(t,e.slice(0,e.lastIndexOf(".")),r)+ji(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ic(t,e,r){return(r|0)===r?Ql(t,e,r):Go(t,e,r)}function NR(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var H6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function q6(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":mm(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(H6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function SR(t,e,r,n){for(var a=[],s="",c=0,h="",g="t",u,m,v,b="H";c<t.length;)switch(h=t.charAt(c)){case"G":if(!mm(t,c))throw new Error("unrecognized character "+h+" in "+t);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(s="";(v=t.charCodeAt(++c))!==34&&c<t.length;)s+=String.fromCharCode(v);a[a.length]={t:"t",v:s},++c;break;case"\\":var _=t.charAt(++c),C=_==="("||_===")"?_:"t";a[a.length]={t:C,v:_},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:e},++c;break;case"B":case"b":if(t.charAt(c+1)==="1"||t.charAt(c+1)==="2"){if(u==null&&(u=tg(e,r,t.charAt(c+1)==="2"),u==null))return"";a[a.length]={t:"X",v:t.substr(c,2)},g=h,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":h=h.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=tg(e,r),u==null))return"";for(s=h;++c<t.length&&t.charAt(c).toLowerCase()===h;)s+=h;h==="m"&&g.toLowerCase()==="h"&&(h="M"),h==="h"&&(h=b),a[a.length]={t:h,v:s},g=h;break;case"A":case"a":case"":var A={t:h,v:h};if(u==null&&(u=tg(e,r)),t.substr(c,3).toUpperCase()==="A/P"?(u!=null&&(A.v=u.H>=12?"P":"A"),A.t="T",b="h",c+=3):t.substr(c,5).toUpperCase()==="AM/PM"?(u!=null&&(A.v=u.H>=12?"PM":"AM"),A.t="T",c+=5,b="h"):t.substr(c,5).toUpperCase()==="/"?(u!=null&&(A.v=u.H>=12?"":""),A.t="T",c+=5,b="h"):(A.t="t",++c),u==null&&A.t==="T")return"";a[a.length]=A,g=h;break;case"[":for(s=h;t.charAt(c++)!=="]"&&c<t.length;)s+=t.charAt(c);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(H6)){if(u==null&&(u=tg(e,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},g=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",q6(t)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=h;++c<t.length&&(h=t.charAt(c))==="0";)s+=h;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=h;++c<t.length&&"0#?.,E+-%".indexOf(h=t.charAt(c))>-1;)s+=h;a[a.length]={t:"n",v:s};break;case"?":for(s=h;t.charAt(++c)===h;)s+=h;a[a.length]={t:h,v:s},g=h;break;case"*":++c,(t.charAt(c)==" "||t.charAt(c)=="*")&&++c;break;case"(":case")":a[a.length]={t:n===1?"t":h,v:h},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=h;c<t.length&&"0123456789".indexOf(t.charAt(++c))>-1;)s+=t.charAt(c);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:h,v:h},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(h)===-1)throw new Error("unrecognized character "+h+" in "+t);a[a.length]={t:"t",v:h},++c;break}var j=0,L=0,D;for(c=a.length-1,g="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=b,g="h",j<1&&(j=1);break;case"s":(D=a[c].v.match(/\.0+$/))&&(L=Math.max(L,D[0].length-1)),j<3&&(j=3);case"d":case"y":case"M":case"e":g=a[c].t;break;case"m":g==="s"&&(a[c].t="M",j<2&&(j=2));break;case"X":break;case"Z":j<1&&a[c].v.match(/[Hh]/)&&(j=1),j<2&&a[c].v.match(/[Mm]/)&&(j=2),j<3&&a[c].v.match(/[Ss]/)&&(j=3)}switch(j){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var M="",X;for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=mR(a[c].t.charCodeAt(0),a[c].v,u,L),a[c].t="t";break;case"n":case"?":for(X=c+1;a[X]!=null&&((h=a[X].t)==="?"||h==="D"||(h===" "||h==="t")&&a[X+1]!=null&&(a[X+1].t==="?"||a[X+1].t==="t"&&a[X+1].v==="/")||a[c].t==="("&&(h===" "||h==="n"||h===")")||h==="t"&&(a[X].v==="/"||a[X].v===" "&&a[X+1]!=null&&a[X+1].t=="?"));)a[c].v+=a[X].v,a[X]={v:"",t:";"},++X;M+=a[c].v,c=X-1;break;case"G":a[c].t="t",a[c].v=Px(e,r);break}var Q="",Y,V;if(M.length>0){M.charCodeAt(0)==40?(Y=e<0&&M.charCodeAt(0)===45?-e:e,V=Ic("n",M,Y)):(Y=e<0&&n>1?-e:e,V=Ic("n",M,Y),Y<0&&a[0]&&a[0].t=="t"&&(V=V.substr(1),a[0].v="-"+a[0].v)),X=V.length-1;var H=a.length;for(c=0;c<a.length;++c)if(a[c]!=null&&a[c].t!="t"&&a[c].v.indexOf(".")>-1){H=c;break}var B=a.length;if(H===a.length&&V.indexOf("E")===-1){for(c=a.length-1;c>=0;--c)a[c]==null||"n?".indexOf(a[c].t)===-1||(X>=a[c].v.length-1?(X-=a[c].v.length,a[c].v=V.substr(X+1,a[c].v.length)):X<0?a[c].v="":(a[c].v=V.substr(0,X+1),X=-1),a[c].t="t",B=c);X>=0&&B<a.length&&(a[B].v=V.substr(0,X+1)+a[B].v)}else if(H!==a.length&&V.indexOf("E")===-1){for(X=V.indexOf(".")-1,c=H;c>=0;--c)if(!(a[c]==null||"n?".indexOf(a[c].t)===-1)){for(m=a[c].v.indexOf(".")>-1&&c===H?a[c].v.indexOf(".")-1:a[c].v.length-1,Q=a[c].v.substr(m+1);m>=0;--m)X>=0&&(a[c].v.charAt(m)==="0"||a[c].v.charAt(m)==="#")&&(Q=V.charAt(X--)+Q);a[c].v=Q,a[c].t="t",B=c}for(X>=0&&B<a.length&&(a[B].v=V.substr(0,X+1)+a[B].v),X=V.indexOf(".")+1,c=H;c<a.length;++c)if(!(a[c]==null||"n?(".indexOf(a[c].t)===-1&&c!==H)){for(m=a[c].v.indexOf(".")>-1&&c===H?a[c].v.indexOf(".")+1:0,Q=a[c].v.substr(0,m);m<a[c].v.length;++m)X<V.length&&(Q+=V.charAt(X++));a[c].v=Q,a[c].t="t",B=c}}}for(c=0;c<a.length;++c)a[c]!=null&&"n?".indexOf(a[c].t)>-1&&(Y=n>1&&e<0&&c>0&&a[c-1].v==="-"?-e:e,a[c].v=Ic(a[c].t,a[c].v,Y),a[c].t="t");var re="";for(c=0;c!==a.length;++c)a[c]!=null&&(re+=a[c].v);return re}var T4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j4(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function AR(t,e){var r=NR(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var c=r[0].match(T4),h=r[1].match(T4);return j4(e,c)?[n,r[0]]:j4(e,h)?[n,r[1]]:[n,r[c!=null&&h!=null?2:1]]}return[n,s]}function Tu(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Qa)[t],n==null&&(n=r.table&&r.table[S4[t]]||Qa[S4[t]]),n==null&&(n=oR[t]||"General");break}if(mm(n,0))return Px(e,r);e instanceof Date&&(e=I6(e,r.date1904));var a=AR(n,e);if(mm(a[1]))return Px(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return SR(a[1],e,r,a[0])}function V6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Qa[r]==null){e<0&&(e=r);continue}if(Qa[r]==t){e=r;break}}e<0&&(e=391)}return Qa[e]=t,e}function Jm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&V6(t[e],e)}function Qm(){Qa=iR()}var W6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function CR(t){var e=typeof t=="number"?Qa[t]:t;return e=e.replace(W6,"(\\d+)"),new RegExp("^"+e+"$")}function TR(t,e,r){var n=-1,a=-1,s=-1,c=-1,h=-1,g=-1;(e.match(W6)||[]).forEach(function(v,b){var _=parseInt(r[b+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=_;break;case"d":s=_;break;case"h":c=_;break;case"s":g=_;break;case"m":c>=0?h=_:a=_;break}}),g>=0&&h==-1&&a>=0&&(h=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var m=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return c==-1&&h==-1&&g==-1?u:n==-1&&a==-1&&s==-1?m:u+"T"+m}var jR=function(){var t={};t.version="1.2.0";function e(){for(var V=0,H=new Array(256),B=0;B!=256;++B)V=B,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,H[B]=V;return typeof Int32Array!="undefined"?new Int32Array(H):H}var r=e();function n(V){var H=0,B=0,re=0,q=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(re=0;re!=256;++re)q[re]=V[re];for(re=0;re!=256;++re)for(B=V[re],H=256+re;H<4096;H+=256)B=q[H]=B>>>8^V[B&255];var G=[];for(re=1;re!=16;++re)G[re-1]=typeof Int32Array!="undefined"?q.subarray(re*256,re*256+256):q.slice(re*256,re*256+256);return G}var a=n(r),s=a[0],c=a[1],h=a[2],g=a[3],u=a[4],m=a[5],v=a[6],b=a[7],_=a[8],C=a[9],A=a[10],j=a[11],L=a[12],D=a[13],M=a[14];function X(V,H){for(var B=H^-1,re=0,q=V.length;re<q;)B=B>>>8^r[(B^V.charCodeAt(re++))&255];return~B}function Q(V,H){for(var B=H^-1,re=V.length-15,q=0;q<re;)B=M[V[q++]^B&255]^D[V[q++]^B>>8&255]^L[V[q++]^B>>16&255]^j[V[q++]^B>>>24]^A[V[q++]]^C[V[q++]]^_[V[q++]]^b[V[q++]]^v[V[q++]]^m[V[q++]]^u[V[q++]]^g[V[q++]]^h[V[q++]]^c[V[q++]]^s[V[q++]]^r[V[q++]];for(re+=15;q<re;)B=B>>>8^r[(B^V[q++])&255];return~B}function Y(V,H){for(var B=H^-1,re=0,q=V.length,G=0,se=0;re<q;)G=V.charCodeAt(re++),G<128?B=B>>>8^r[(B^G)&255]:G<2048?(B=B>>>8^r[(B^(192|G>>6&31))&255],B=B>>>8^r[(B^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,se=V.charCodeAt(re++)&1023,B=B>>>8^r[(B^(240|G>>8&7))&255],B=B>>>8^r[(B^(128|G>>2&63))&255],B=B>>>8^r[(B^(128|se>>6&15|(G&3)<<4))&255],B=B>>>8^r[(B^(128|se&63))&255]):(B=B>>>8^r[(B^(224|G>>12&15))&255],B=B>>>8^r[(B^(128|G>>6&63))&255],B=B>>>8^r[(B^(128|G&63))&255]);return~B}return t.table=r,t.bstr=X,t.buf=Q,t.str=Y,t}(),aa=function(){var e={};e.version="1.2.1";function r(he,Ne){for(var Ce=he.split("/"),Te=Ne.split("/"),Oe=0,Fe=0,it=Math.min(Ce.length,Te.length);Oe<it;++Oe){if(Fe=Ce[Oe].length-Te[Oe].length)return Fe;if(Ce[Oe]!=Te[Oe])return Ce[Oe]<Te[Oe]?-1:1}return Ce.length-Te.length}function n(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:n(he.slice(0,-1));var Ne=he.lastIndexOf("/");return Ne===-1?he:he.slice(0,Ne+1)}function a(he){if(he.charAt(he.length-1)=="/")return a(he.slice(0,-1));var Ne=he.lastIndexOf("/");return Ne===-1?he:he.slice(Ne+1)}function s(he,Ne){typeof Ne=="string"&&(Ne=new Date(Ne));var Ce=Ne.getHours();Ce=Ce<<6|Ne.getMinutes(),Ce=Ce<<5|Ne.getSeconds()>>>1,he.write_shift(2,Ce);var Te=Ne.getFullYear()-1980;Te=Te<<4|Ne.getMonth()+1,Te=Te<<5|Ne.getDate(),he.write_shift(2,Te)}function c(he){var Ne=he.read_shift(2)&65535,Ce=he.read_shift(2)&65535,Te=new Date,Oe=Ce&31;Ce>>>=5;var Fe=Ce&15;Ce>>>=4,Te.setMilliseconds(0),Te.setFullYear(Ce+1980),Te.setMonth(Fe-1),Te.setDate(Oe);var it=Ne&31;Ne>>>=5;var wt=Ne&63;return Ne>>>=6,Te.setHours(Ne),Te.setMinutes(wt),Te.setSeconds(it<<1),Te}function h(he){Eo(he,0);for(var Ne={},Ce=0;he.l<=he.length-4;){var Te=he.read_shift(2),Oe=he.read_shift(2),Fe=he.l+Oe,it={};switch(Te){case 21589:Ce=he.read_shift(1),Ce&1&&(it.mtime=he.read_shift(4)),Oe>5&&(Ce&2&&(it.atime=he.read_shift(4)),Ce&4&&(it.ctime=he.read_shift(4))),it.mtime&&(it.mt=new Date(it.mtime*1e3));break}he.l=Fe,Ne[Te]=it}return Ne}var g;function u(){return g||(g={})}function m(he,Ne){if(he[0]==80&&he[1]==75)return Un(he,Ne);if((he[0]|32)==109&&(he[1]|32)==105)return ys(he,Ne);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var Ce=3,Te=512,Oe=0,Fe=0,it=0,wt=0,Ze=0,ft=[],mt=he.slice(0,512);Eo(mt,0);var Ot=v(mt);switch(Ce=Ot[0],Ce){case 3:Te=512;break;case 4:Te=4096;break;case 0:if(Ot[1]==0)return Un(he,Ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ce)}Te!==512&&(mt=he.slice(0,Te),Eo(mt,28));var Ut=he.slice(0,Te);b(mt,Ce);var Wt=mt.read_shift(4,"i");if(Ce===3&&Wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Wt);mt.l+=4,it=mt.read_shift(4,"i"),mt.l+=4,mt.chk("00100000","Mini Stream Cutoff Size: "),wt=mt.read_shift(4,"i"),Oe=mt.read_shift(4,"i"),Ze=mt.read_shift(4,"i"),Fe=mt.read_shift(4,"i");for(var Gt=-1,Kt=0;Kt<109&&(Gt=mt.read_shift(4,"i"),!(Gt<0));++Kt)ft[Kt]=Gt;var Nr=_(he,Te);j(Ze,Fe,Nr,Te,ft);var _t=D(Nr,it,ft,Te);_t[it].name="!Directory",Oe>0&&wt!==se&&(_t[wt].name="!MiniFAT"),_t[ft[0]].name="!FAT",_t.fat_addrs=ft,_t.ssz=Te;var yn={},Sr=[],qa=[],Di=[];M(it,_t,Nr,Sr,Oe,yn,qa,wt),C(qa,Di,Sr),Sr.shift();var Ur={FileIndex:qa,FullPaths:Di};return Ne&&Ne.raw&&(Ur.raw={header:Ut,sectors:Nr}),Ur}function v(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(ye,"Header Signature: "),he.l+=16;var Ne=he.read_shift(2,"u");return[he.read_shift(2,"u"),Ne]}function b(he,Ne){var Ce=9;switch(he.l+=2,Ce=he.read_shift(2)){case 9:if(Ne!=3)throw new Error("Sector Shift: Expected 9 saw "+Ce);break;case 12:if(Ne!=4)throw new Error("Sector Shift: Expected 12 saw "+Ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ce)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function _(he,Ne){for(var Ce=Math.ceil(he.length/Ne)-1,Te=[],Oe=1;Oe<Ce;++Oe)Te[Oe-1]=he.slice(Oe*Ne,(Oe+1)*Ne);return Te[Ce-1]=he.slice(Ce*Ne),Te}function C(he,Ne,Ce){for(var Te=0,Oe=0,Fe=0,it=0,wt=0,Ze=Ce.length,ft=[],mt=[];Te<Ze;++Te)ft[Te]=mt[Te]=Te,Ne[Te]=Ce[Te];for(;wt<mt.length;++wt)Te=mt[wt],Oe=he[Te].L,Fe=he[Te].R,it=he[Te].C,ft[Te]===Te&&(Oe!==-1&&ft[Oe]!==Oe&&(ft[Te]=ft[Oe]),Fe!==-1&&ft[Fe]!==Fe&&(ft[Te]=ft[Fe])),it!==-1&&(ft[it]=Te),Oe!==-1&&Te!=ft[Te]&&(ft[Oe]=ft[Te],mt.lastIndexOf(Oe)<wt&&mt.push(Oe)),Fe!==-1&&Te!=ft[Te]&&(ft[Fe]=ft[Te],mt.lastIndexOf(Fe)<wt&&mt.push(Fe));for(Te=1;Te<Ze;++Te)ft[Te]===Te&&(Fe!==-1&&ft[Fe]!==Fe?ft[Te]=ft[Fe]:Oe!==-1&&ft[Oe]!==Oe&&(ft[Te]=ft[Oe]));for(Te=1;Te<Ze;++Te)if(he[Te].type!==0){if(wt=Te,wt!=ft[wt])do wt=ft[wt],Ne[Te]=Ne[wt]+"/"+Ne[Te];while(wt!==0&&ft[wt]!==-1&&wt!=ft[wt]);ft[Te]=-1}for(Ne[0]+="/",Te=1;Te<Ze;++Te)he[Te].type!==2&&(Ne[Te]+="/")}function A(he,Ne,Ce){for(var Te=he.start,Oe=he.size,Fe=[],it=Te;Ce&&Oe>0&&it>=0;)Fe.push(Ne.slice(it*G,it*G+G)),Oe-=G,it=h0(Ce,it*4);return Fe.length===0?St(0):ei(Fe).slice(0,he.size)}function j(he,Ne,Ce,Te,Oe){var Fe=se;if(he===se){if(Ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var it=Ce[he],wt=(Te>>>2)-1;if(!it)return;for(var Ze=0;Ze<wt&&(Fe=h0(it,Ze*4))!==se;++Ze)Oe.push(Fe);j(h0(it,Te-4),Ne-1,Ce,Te,Oe)}}function L(he,Ne,Ce,Te,Oe){var Fe=[],it=[];Oe||(Oe=[]);var wt=Te-1,Ze=0,ft=0;for(Ze=Ne;Ze>=0;){Oe[Ze]=!0,Fe[Fe.length]=Ze,it.push(he[Ze]);var mt=Ce[Math.floor(Ze*4/Te)];if(ft=Ze*4&wt,Te<4+ft)throw new Error("FAT boundary crossed: "+Ze+" 4 "+Te);if(!he[mt])break;Ze=h0(he[mt],ft)}return{nodes:Fe,data:F4([it])}}function D(he,Ne,Ce,Te){var Oe=he.length,Fe=[],it=[],wt=[],Ze=[],ft=Te-1,mt=0,Ot=0,Ut=0,Wt=0;for(mt=0;mt<Oe;++mt)if(wt=[],Ut=mt+Ne,Ut>=Oe&&(Ut-=Oe),!it[Ut]){Ze=[];var Gt=[];for(Ot=Ut;Ot>=0;){Gt[Ot]=!0,it[Ot]=!0,wt[wt.length]=Ot,Ze.push(he[Ot]);var Kt=Ce[Math.floor(Ot*4/Te)];if(Wt=Ot*4&ft,Te<4+Wt)throw new Error("FAT boundary crossed: "+Ot+" 4 "+Te);if(!he[Kt]||(Ot=h0(he[Kt],Wt),Gt[Ot]))break}Fe[Ut]={nodes:wt,data:F4([Ze])}}return Fe}function M(he,Ne,Ce,Te,Oe,Fe,it,wt){for(var Ze=0,ft=Te.length?2:0,mt=Ne[he].data,Ot=0,Ut=0,Wt;Ot<mt.length;Ot+=128){var Gt=mt.slice(Ot,Ot+128);Eo(Gt,64),Ut=Gt.read_shift(2),Wt=wv(Gt,0,Ut-ft),Te.push(Wt);var Kt={name:Wt,type:Gt.read_shift(1),color:Gt.read_shift(1),L:Gt.read_shift(4,"i"),R:Gt.read_shift(4,"i"),C:Gt.read_shift(4,"i"),clsid:Gt.read_shift(16),state:Gt.read_shift(4,"i"),start:0,size:0},Nr=Gt.read_shift(2)+Gt.read_shift(2)+Gt.read_shift(2)+Gt.read_shift(2);Nr!==0&&(Kt.ct=X(Gt,Gt.l-8));var _t=Gt.read_shift(2)+Gt.read_shift(2)+Gt.read_shift(2)+Gt.read_shift(2);_t!==0&&(Kt.mt=X(Gt,Gt.l-8)),Kt.start=Gt.read_shift(4,"i"),Kt.size=Gt.read_shift(4,"i"),Kt.size<0&&Kt.start<0&&(Kt.size=Kt.type=0,Kt.start=se,Kt.name=""),Kt.type===5?(Ze=Kt.start,Oe>0&&Ze!==se&&(Ne[Ze].name="!StreamData")):Kt.size>=4096?(Kt.storage="fat",Ne[Kt.start]===void 0&&(Ne[Kt.start]=L(Ce,Kt.start,Ne.fat_addrs,Ne.ssz)),Ne[Kt.start].name=Kt.name,Kt.content=Ne[Kt.start].data.slice(0,Kt.size)):(Kt.storage="minifat",Kt.size<0?Kt.size=0:Ze!==se&&Kt.start!==se&&Ne[Ze]&&(Kt.content=A(Kt,Ne[Ze].data,(Ne[wt]||{}).data))),Kt.content&&Eo(Kt.content,0),Fe[Wt]=Kt,it.push(Kt)}}function X(he,Ne){return new Date((So(he,Ne+4)/1e7*Math.pow(2,32)+So(he,Ne)/1e7-11644473600)*1e3)}function Q(he,Ne){return u(),m(g.readFileSync(he),Ne)}function Y(he,Ne){var Ce=Ne&&Ne.type;switch(Ce||zn&&Buffer.isBuffer(he)&&(Ce="buffer"),Ce||"base64"){case"file":return Q(he,Ne);case"base64":return m(Sl(Bc(he)),Ne);case"binary":return m(Sl(he),Ne)}return m(he,Ne)}function V(he,Ne){var Ce=Ne||{},Te=Ce.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=Te+"/",he.FileIndex[0]={name:Te,type:5}),Ce.CLSID&&(he.FileIndex[0].clsid=Ce.CLSID),H(he)}function H(he){var Ne="Sh33tJ5";if(!aa.find(he,"/"+Ne)){var Ce=St(4);Ce[0]=55,Ce[1]=Ce[3]=50,Ce[2]=54,he.FileIndex.push({name:Ne,type:2,content:Ce,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+Ne),B(he)}}function B(he,Ne){V(he);for(var Ce=!1,Te=!1,Oe=he.FullPaths.length-1;Oe>=0;--Oe){var Fe=he.FileIndex[Oe];switch(Fe.type){case 0:Te?Ce=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:Te=!0,isNaN(Fe.R*Fe.L*Fe.C)&&(Ce=!0),Fe.R>-1&&Fe.L>-1&&Fe.R==Fe.L&&(Ce=!0);break;default:Ce=!0;break}}if(!(!Ce&&!Ne)){var it=new Date(1987,1,19),wt=0,Ze=Object.create?Object.create(null):{},ft=[];for(Oe=0;Oe<he.FullPaths.length;++Oe)Ze[he.FullPaths[Oe]]=!0,he.FileIndex[Oe].type!==0&&ft.push([he.FullPaths[Oe],he.FileIndex[Oe]]);for(Oe=0;Oe<ft.length;++Oe){var mt=n(ft[Oe][0]);Te=Ze[mt],Te||(ft.push([mt,{name:a(mt).replace("/",""),type:1,clsid:de,ct:it,mt:it,content:null}]),Ze[mt]=!0)}for(ft.sort(function(Wt,Gt){return r(Wt[0],Gt[0])}),he.FullPaths=[],he.FileIndex=[],Oe=0;Oe<ft.length;++Oe)he.FullPaths[Oe]=ft[Oe][0],he.FileIndex[Oe]=ft[Oe][1];for(Oe=0;Oe<ft.length;++Oe){var Ot=he.FileIndex[Oe],Ut=he.FullPaths[Oe];if(Ot.name=a(Ut).replace("/",""),Ot.L=Ot.R=Ot.C=-(Ot.color=1),Ot.size=Ot.content?Ot.content.length:0,Ot.start=0,Ot.clsid=Ot.clsid||de,Oe===0)Ot.C=ft.length>1?1:-1,Ot.size=0,Ot.type=5;else if(Ut.slice(-1)=="/"){for(wt=Oe+1;wt<ft.length&&n(he.FullPaths[wt])!=Ut;++wt);for(Ot.C=wt>=ft.length?-1:wt,wt=Oe+1;wt<ft.length&&n(he.FullPaths[wt])!=n(Ut);++wt);Ot.R=wt>=ft.length?-1:wt,Ot.type=1}else n(he.FullPaths[Oe+1]||"")==n(Ut)&&(Ot.R=Oe+1),Ot.type=2}}}function re(he,Ne){var Ce=Ne||{};if(Ce.fileType=="mad")return or(he,Ce);switch(B(he),Ce.fileType){case"zip":return xa(he,Ce)}var Te=function(Wt){for(var Gt=0,Kt=0,Nr=0;Nr<Wt.FileIndex.length;++Nr){var _t=Wt.FileIndex[Nr];if(_t.content){var yn=_t.content.length;yn>0&&(yn<4096?Gt+=yn+63>>6:Kt+=yn+511>>9)}}for(var Sr=Wt.FullPaths.length+3>>2,qa=Gt+7>>3,Di=Gt+127>>7,Ur=qa+Kt+Sr+Di,qr=Ur+127>>7,jr=qr<=109?0:Math.ceil((qr-109)/127);Ur+qr+jr+127>>7>qr;)jr=++qr<=109?0:Math.ceil((qr-109)/127);var ws=[1,jr,qr,Di,Sr,Kt,Gt,0];return Wt.FileIndex[0].size=Gt<<6,ws[7]=(Wt.FileIndex[0].start=ws[0]+ws[1]+ws[2]+ws[3]+ws[4]+ws[5])+(ws[6]+7>>3),ws}(he),Oe=St(Te[7]<<9),Fe=0,it=0;{for(Fe=0;Fe<8;++Fe)Oe.write_shift(1,me[Fe]);for(Fe=0;Fe<8;++Fe)Oe.write_shift(2,0);for(Oe.write_shift(2,62),Oe.write_shift(2,3),Oe.write_shift(2,65534),Oe.write_shift(2,9),Oe.write_shift(2,6),Fe=0;Fe<3;++Fe)Oe.write_shift(2,0);for(Oe.write_shift(4,0),Oe.write_shift(4,Te[2]),Oe.write_shift(4,Te[0]+Te[1]+Te[2]+Te[3]-1),Oe.write_shift(4,0),Oe.write_shift(4,4096),Oe.write_shift(4,Te[3]?Te[0]+Te[1]+Te[2]-1:se),Oe.write_shift(4,Te[3]),Oe.write_shift(-4,Te[1]?Te[0]-1:se),Oe.write_shift(4,Te[1]),Fe=0;Fe<109;++Fe)Oe.write_shift(-4,Fe<Te[2]?Te[1]+Fe:-1)}if(Te[1])for(it=0;it<Te[1];++it){for(;Fe<236+it*127;++Fe)Oe.write_shift(-4,Fe<Te[2]?Te[1]+Fe:-1);Oe.write_shift(-4,it===Te[1]-1?se:it+1)}var wt=function(Wt){for(it+=Wt;Fe<it-1;++Fe)Oe.write_shift(-4,Fe+1);Wt&&(++Fe,Oe.write_shift(-4,se))};for(it=Fe=0,it+=Te[1];Fe<it;++Fe)Oe.write_shift(-4,we.DIFSECT);for(it+=Te[2];Fe<it;++Fe)Oe.write_shift(-4,we.FATSECT);wt(Te[3]),wt(Te[4]);for(var Ze=0,ft=0,mt=he.FileIndex[0];Ze<he.FileIndex.length;++Ze)mt=he.FileIndex[Ze],mt.content&&(ft=mt.content.length,!(ft<4096)&&(mt.start=it,wt(ft+511>>9)));for(wt(Te[6]+7>>3);Oe.l&511;)Oe.write_shift(-4,we.ENDOFCHAIN);for(it=Fe=0,Ze=0;Ze<he.FileIndex.length;++Ze)mt=he.FileIndex[Ze],mt.content&&(ft=mt.content.length,!(!ft||ft>=4096)&&(mt.start=it,wt(ft+63>>6)));for(;Oe.l&511;)Oe.write_shift(-4,we.ENDOFCHAIN);for(Fe=0;Fe<Te[4]<<2;++Fe){var Ot=he.FullPaths[Fe];if(!Ot||Ot.length===0){for(Ze=0;Ze<17;++Ze)Oe.write_shift(4,0);for(Ze=0;Ze<3;++Ze)Oe.write_shift(4,-1);for(Ze=0;Ze<12;++Ze)Oe.write_shift(4,0);continue}mt=he.FileIndex[Fe],Fe===0&&(mt.start=mt.size?mt.start-1:se);var Ut=Fe===0&&Ce.root||mt.name;if(ft=2*(Ut.length+1),Oe.write_shift(64,Ut,"utf16le"),Oe.write_shift(2,ft),Oe.write_shift(1,mt.type),Oe.write_shift(1,mt.color),Oe.write_shift(-4,mt.L),Oe.write_shift(-4,mt.R),Oe.write_shift(-4,mt.C),mt.clsid)Oe.write_shift(16,mt.clsid,"hex");else for(Ze=0;Ze<4;++Ze)Oe.write_shift(4,0);Oe.write_shift(4,mt.state||0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe.write_shift(4,mt.start),Oe.write_shift(4,mt.size),Oe.write_shift(4,0)}for(Fe=1;Fe<he.FileIndex.length;++Fe)if(mt=he.FileIndex[Fe],mt.size>=4096)if(Oe.l=mt.start+1<<9,zn&&Buffer.isBuffer(mt.content))mt.content.copy(Oe,Oe.l,0,mt.size),Oe.l+=mt.size+511&-512;else{for(Ze=0;Ze<mt.size;++Ze)Oe.write_shift(1,mt.content[Ze]);for(;Ze&511;++Ze)Oe.write_shift(1,0)}for(Fe=1;Fe<he.FileIndex.length;++Fe)if(mt=he.FileIndex[Fe],mt.size>0&&mt.size<4096)if(zn&&Buffer.isBuffer(mt.content))mt.content.copy(Oe,Oe.l,0,mt.size),Oe.l+=mt.size+63&-64;else{for(Ze=0;Ze<mt.size;++Ze)Oe.write_shift(1,mt.content[Ze]);for(;Ze&63;++Ze)Oe.write_shift(1,0)}if(zn)Oe.l=Oe.length;else for(;Oe.l<Oe.length;)Oe.write_shift(1,0);return Oe}function q(he,Ne){var Ce=he.FullPaths.map(function(Ze){return Ze.toUpperCase()}),Te=Ce.map(function(Ze){var ft=Ze.split("/");return ft[ft.length-(Ze.slice(-1)=="/"?2:1)]}),Oe=!1;Ne.charCodeAt(0)===47?(Oe=!0,Ne=Ce[0].slice(0,-1)+Ne):Oe=Ne.indexOf("/")!==-1;var Fe=Ne.toUpperCase(),it=Oe===!0?Ce.indexOf(Fe):Te.indexOf(Fe);if(it!==-1)return he.FileIndex[it];var wt=!Fe.match(eg);for(Fe=Fe.replace(fh,""),wt&&(Fe=Fe.replace(eg,"!")),it=0;it<Ce.length;++it)if((wt?Ce[it].replace(eg,"!"):Ce[it]).replace(fh,"")==Fe||(wt?Te[it].replace(eg,"!"):Te[it]).replace(fh,"")==Fe)return he.FileIndex[it];return null}var G=64,se=-2,ye="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],de="00000000000000000000000000000000",we={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:se,FREESECT:-1,HEADER_SIGNATURE:ye,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:de,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Pe(he,Ne,Ce){u();var Te=re(he,Ce);g.writeFileSync(Ne,Te)}function Ae(he){for(var Ne=new Array(he.length),Ce=0;Ce<he.length;++Ce)Ne[Ce]=String.fromCharCode(he[Ce]);return Ne.join("")}function ae(he,Ne){var Ce=re(he,Ne);switch(Ne&&Ne.type||"buffer"){case"file":return u(),g.writeFileSync(Ne.filename,Ce),Ce;case"binary":return typeof Ce=="string"?Ce:Ae(Ce);case"base64":return Eh(typeof Ce=="string"?Ce:Ae(Ce));case"buffer":if(zn)return Buffer.isBuffer(Ce)?Ce:zc(Ce);case"array":return typeof Ce=="string"?Sl(Ce):Ce}return Ce}var fe;function P(he){try{var Ne=he.InflateRaw,Ce=new Ne;if(Ce._processChunk(new Uint8Array([3,0]),Ce._finishFlushFlag),Ce.bytesRead)fe=he;else throw new Error("zlib does not expose bytesRead")}catch(Te){console.error("cannot use native zlib: "+(Te.message||Te))}}function W(he,Ne){if(!fe)return Jr(he,Ne);var Ce=fe.InflateRaw,Te=new Ce,Oe=Te._processChunk(he.slice(he.l),Te._finishFlushFlag);return he.l+=Te.bytesRead,Oe}function J(he){return fe?fe.deflateRawSync(he):Br(he)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(he){var Ne=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(Ne>>16|Ne>>8|Ne)&255}for(var Me=typeof Uint8Array!="undefined",ke=Me?new Uint8Array(256):[],ze=0;ze<256;++ze)ke[ze]=Re(ze);function ut(he,Ne){var Ce=ke[he&255];return Ne<=8?Ce>>>8-Ne:(Ce=Ce<<8|ke[he>>8&255],Ne<=16?Ce>>>16-Ne:(Ce=Ce<<8|ke[he>>16&255],Ce>>>24-Ne))}function gt(he,Ne){var Ce=Ne&7,Te=Ne>>>3;return(he[Te]|(Ce<=6?0:he[Te+1]<<8))>>>Ce&3}function Ct(he,Ne){var Ce=Ne&7,Te=Ne>>>3;return(he[Te]|(Ce<=5?0:he[Te+1]<<8))>>>Ce&7}function rt(he,Ne){var Ce=Ne&7,Te=Ne>>>3;return(he[Te]|(Ce<=4?0:he[Te+1]<<8))>>>Ce&15}function ge(he,Ne){var Ce=Ne&7,Te=Ne>>>3;return(he[Te]|(Ce<=3?0:he[Te+1]<<8))>>>Ce&31}function Ve(he,Ne){var Ce=Ne&7,Te=Ne>>>3;return(he[Te]|(Ce<=1?0:he[Te+1]<<8))>>>Ce&127}function st(he,Ne,Ce){var Te=Ne&7,Oe=Ne>>>3,Fe=(1<<Ce)-1,it=he[Oe]>>>Te;return Ce<8-Te||(it|=he[Oe+1]<<8-Te,Ce<16-Te)||(it|=he[Oe+2]<<16-Te,Ce<24-Te)||(it|=he[Oe+3]<<24-Te),it&Fe}function Ue(he,Ne,Ce){var Te=Ne&7,Oe=Ne>>>3;return Te<=5?he[Oe]|=(Ce&7)<<Te:(he[Oe]|=Ce<<Te&255,he[Oe+1]=(Ce&7)>>8-Te),Ne+3}function Je(he,Ne,Ce){var Te=Ne&7,Oe=Ne>>>3;return Ce=(Ce&1)<<Te,he[Oe]|=Ce,Ne+1}function et(he,Ne,Ce){var Te=Ne&7,Oe=Ne>>>3;return Ce<<=Te,he[Oe]|=Ce&255,Ce>>>=8,he[Oe+1]=Ce,Ne+8}function Pt(he,Ne,Ce){var Te=Ne&7,Oe=Ne>>>3;return Ce<<=Te,he[Oe]|=Ce&255,Ce>>>=8,he[Oe+1]=Ce&255,he[Oe+2]=Ce>>>8,Ne+16}function Mt(he,Ne){var Ce=he.length,Te=2*Ce>Ne?2*Ce:Ne+5,Oe=0;if(Ce>=Ne)return he;if(zn){var Fe=_4(Te);if(he.copy)he.copy(Fe);else for(;Oe<he.length;++Oe)Fe[Oe]=he[Oe];return Fe}else if(Me){var it=new Uint8Array(Te);if(it.set)it.set(he);else for(;Oe<Ce;++Oe)it[Oe]=he[Oe];return it}return he.length=Te,he}function Xt(he){for(var Ne=new Array(he),Ce=0;Ce<he;++Ce)Ne[Ce]=0;return Ne}function cr(he,Ne,Ce){var Te=1,Oe=0,Fe=0,it=0,wt=0,Ze=he.length,ft=Me?new Uint16Array(32):Xt(32);for(Fe=0;Fe<32;++Fe)ft[Fe]=0;for(Fe=Ze;Fe<Ce;++Fe)he[Fe]=0;Ze=he.length;var mt=Me?new Uint16Array(Ze):Xt(Ze);for(Fe=0;Fe<Ze;++Fe)ft[Oe=he[Fe]]++,Te<Oe&&(Te=Oe),mt[Fe]=0;for(ft[0]=0,Fe=1;Fe<=Te;++Fe)ft[Fe+16]=wt=wt+ft[Fe-1]<<1;for(Fe=0;Fe<Ze;++Fe)wt=he[Fe],wt!=0&&(mt[Fe]=ft[wt+16]++);var Ot=0;for(Fe=0;Fe<Ze;++Fe)if(Ot=he[Fe],Ot!=0)for(wt=ut(mt[Fe],Te)>>Te-Ot,it=(1<<Te+4-Ot)-1;it>=0;--it)Ne[wt|it<<Ot]=Ot&15|Fe<<4;return Te}var rr=Me?new Uint16Array(512):Xt(512),lr=Me?new Uint16Array(32):Xt(32);if(!Me){for(var hr=0;hr<512;++hr)rr[hr]=0;for(hr=0;hr<32;++hr)lr[hr]=0}(function(){for(var he=[],Ne=0;Ne<32;Ne++)he.push(5);cr(he,lr,32);var Ce=[];for(Ne=0;Ne<=143;Ne++)Ce.push(8);for(;Ne<=255;Ne++)Ce.push(9);for(;Ne<=279;Ne++)Ce.push(7);for(;Ne<=287;Ne++)Ce.push(8);cr(Ce,rr,288)})();var Qt=function(){for(var Ne=Me?new Uint8Array(32768):[],Ce=0,Te=0;Ce<Be.length-1;++Ce)for(;Te<Be[Ce+1];++Te)Ne[Te]=Ce;for(;Te<32768;++Te)Ne[Te]=29;var Oe=Me?new Uint8Array(259):[];for(Ce=0,Te=0;Ce<le.length-1;++Ce)for(;Te<le[Ce+1];++Te)Oe[Te]=Ce;function Fe(wt,Ze){for(var ft=0;ft<wt.length;){var mt=Math.min(65535,wt.length-ft),Ot=ft+mt==wt.length;for(Ze.write_shift(1,+Ot),Ze.write_shift(2,mt),Ze.write_shift(2,~mt&65535);mt-- >0;)Ze[Ze.l++]=wt[ft++]}return Ze.l}function it(wt,Ze){for(var ft=0,mt=0,Ot=Me?new Uint16Array(32768):[];mt<wt.length;){var Ut=Math.min(65535,wt.length-mt);if(Ut<10){for(ft=Ue(Ze,ft,+(mt+Ut==wt.length)),ft&7&&(ft+=8-(ft&7)),Ze.l=ft/8|0,Ze.write_shift(2,Ut),Ze.write_shift(2,~Ut&65535);Ut-- >0;)Ze[Ze.l++]=wt[mt++];ft=Ze.l*8;continue}ft=Ue(Ze,ft,+(mt+Ut==wt.length)+2);for(var Wt=0;Ut-- >0;){var Gt=wt[mt];Wt=(Wt<<5^Gt)&32767;var Kt=-1,Nr=0;if((Kt=Ot[Wt])&&(Kt|=mt&-32768,Kt>mt&&(Kt-=32768),Kt<mt))for(;wt[Kt+Nr]==wt[mt+Nr]&&Nr<250;)++Nr;if(Nr>2){Gt=Oe[Nr],Gt<=22?ft=et(Ze,ft,ke[Gt+1]>>1)-1:(et(Ze,ft,3),ft+=5,et(Ze,ft,ke[Gt-23]>>5),ft+=3);var _t=Gt<8?0:Gt-4>>2;_t>0&&(Pt(Ze,ft,Nr-le[Gt]),ft+=_t),Gt=Ne[mt-Kt],ft=et(Ze,ft,ke[Gt]>>3),ft-=3;var yn=Gt<4?0:Gt-2>>1;yn>0&&(Pt(Ze,ft,mt-Kt-Be[Gt]),ft+=yn);for(var Sr=0;Sr<Nr;++Sr)Ot[Wt]=mt&32767,Wt=(Wt<<5^wt[mt])&32767,++mt;Ut-=Nr-1}else Gt<=143?Gt=Gt+48:ft=Je(Ze,ft,1),ft=et(Ze,ft,ke[Gt]),Ot[Wt]=mt&32767,++mt}ft=et(Ze,ft,0)-1}return Ze.l=(ft+7)/8|0,Ze.l}return function(Ze,ft){return Ze.length<8?Fe(Ze,ft):it(Ze,ft)}}();function Br(he){var Ne=St(50+Math.floor(he.length*1.1)),Ce=Qt(he,Ne);return Ne.slice(0,Ce)}var Yt=Me?new Uint16Array(32768):Xt(32768),En=Me?new Uint16Array(32768):Xt(32768),ur=Me?new Uint16Array(128):Xt(128),Vt=1,wr=1;function yr(he,Ne){var Ce=ge(he,Ne)+257;Ne+=5;var Te=ge(he,Ne)+1;Ne+=5;var Oe=rt(he,Ne)+4;Ne+=4;for(var Fe=0,it=Me?new Uint8Array(19):Xt(19),wt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ze=1,ft=Me?new Uint8Array(8):Xt(8),mt=Me?new Uint8Array(8):Xt(8),Ot=it.length,Ut=0;Ut<Oe;++Ut)it[te[Ut]]=Fe=Ct(he,Ne),Ze<Fe&&(Ze=Fe),ft[Fe]++,Ne+=3;var Wt=0;for(ft[0]=0,Ut=1;Ut<=Ze;++Ut)mt[Ut]=Wt=Wt+ft[Ut-1]<<1;for(Ut=0;Ut<Ot;++Ut)(Wt=it[Ut])!=0&&(wt[Ut]=mt[Wt]++);var Gt=0;for(Ut=0;Ut<Ot;++Ut)if(Gt=it[Ut],Gt!=0){Wt=ke[wt[Ut]]>>8-Gt;for(var Kt=(1<<7-Gt)-1;Kt>=0;--Kt)ur[Wt|Kt<<Gt]=Gt&7|Ut<<3}var Nr=[];for(Ze=1;Nr.length<Ce+Te;)switch(Wt=ur[Ve(he,Ne)],Ne+=Wt&7,Wt>>>=3){case 16:for(Fe=3+gt(he,Ne),Ne+=2,Wt=Nr[Nr.length-1];Fe-- >0;)Nr.push(Wt);break;case 17:for(Fe=3+Ct(he,Ne),Ne+=3;Fe-- >0;)Nr.push(0);break;case 18:for(Fe=11+Ve(he,Ne),Ne+=7;Fe-- >0;)Nr.push(0);break;default:Nr.push(Wt),Ze<Wt&&(Ze=Wt);break}var _t=Nr.slice(0,Ce),yn=Nr.slice(Ce);for(Ut=Ce;Ut<286;++Ut)_t[Ut]=0;for(Ut=Te;Ut<30;++Ut)yn[Ut]=0;return Vt=cr(_t,Yt,286),wr=cr(yn,En,30),Ne}function Zr(he,Ne){if(he[0]==3&&!(he[1]&3))return[y0(Ne),2];for(var Ce=0,Te=0,Oe=_4(Ne||1<<18),Fe=0,it=Oe.length>>>0,wt=0,Ze=0;(Te&1)==0;){if(Te=Ct(he,Ce),Ce+=3,Te>>>1)Te>>1==1?(wt=9,Ze=5):(Ce=yr(he,Ce),wt=Vt,Ze=wr);else{Ce&7&&(Ce+=8-(Ce&7));var ft=he[Ce>>>3]|he[(Ce>>>3)+1]<<8;if(Ce+=32,ft>0)for(!Ne&&it<Fe+ft&&(Oe=Mt(Oe,Fe+ft),it=Oe.length);ft-- >0;)Oe[Fe++]=he[Ce>>>3],Ce+=8;continue}for(;;){!Ne&&it<Fe+32767&&(Oe=Mt(Oe,Fe+32767),it=Oe.length);var mt=st(he,Ce,wt),Ot=Te>>>1==1?rr[mt]:Yt[mt];if(Ce+=Ot&15,Ot>>>=4,(Ot>>>8&255)===0)Oe[Fe++]=Ot;else{if(Ot==256)break;Ot-=257;var Ut=Ot<8?0:Ot-4>>2;Ut>5&&(Ut=0);var Wt=Fe+le[Ot];Ut>0&&(Wt+=st(he,Ce,Ut),Ce+=Ut),mt=st(he,Ce,Ze),Ot=Te>>>1==1?lr[mt]:En[mt],Ce+=Ot&15,Ot>>>=4;var Gt=Ot<4?0:Ot-2>>1,Kt=Be[Ot];for(Gt>0&&(Kt+=st(he,Ce,Gt),Ce+=Gt),!Ne&&it<Wt&&(Oe=Mt(Oe,Wt+100),it=Oe.length);Fe<Wt;)Oe[Fe]=Oe[Fe-Kt],++Fe}}}return Ne?[Oe,Ce+7>>>3]:[Oe.slice(0,Fe),Ce+7>>>3]}function Jr(he,Ne){var Ce=he.slice(he.l||0),Te=Zr(Ce,Ne);return he.l+=Te[1],Te[0]}function Hs(he,Ne){if(he)typeof console!="undefined"&&console.error(Ne);else throw new Error(Ne)}function Un(he,Ne){var Ce=he;Eo(Ce,0);var Te=[],Oe=[],Fe={FileIndex:Te,FullPaths:Oe};V(Fe,{root:Ne.root});for(var it=Ce.length-4;(Ce[it]!=80||Ce[it+1]!=75||Ce[it+2]!=5||Ce[it+3]!=6)&&it>=0;)--it;Ce.l=it+4,Ce.l+=4;var wt=Ce.read_shift(2);Ce.l+=6;var Ze=Ce.read_shift(4);for(Ce.l=Ze,it=0;it<wt;++it){Ce.l+=20;var ft=Ce.read_shift(4),mt=Ce.read_shift(4),Ot=Ce.read_shift(2),Ut=Ce.read_shift(2),Wt=Ce.read_shift(2);Ce.l+=8;var Gt=Ce.read_shift(4),Kt=h(Ce.slice(Ce.l+Ot,Ce.l+Ot+Ut));Ce.l+=Ot+Ut+Wt;var Nr=Ce.l;Ce.l=Gt+4,Lr(Ce,ft,mt,Fe,Kt),Ce.l=Nr}return Fe}function Lr(he,Ne,Ce,Te,Oe){he.l+=2;var Fe=he.read_shift(2),it=he.read_shift(2),wt=c(he);if(Fe&8257)throw new Error("Unsupported ZIP encryption");for(var Ze=he.read_shift(4),ft=he.read_shift(4),mt=he.read_shift(4),Ot=he.read_shift(2),Ut=he.read_shift(2),Wt="",Gt=0;Gt<Ot;++Gt)Wt+=String.fromCharCode(he[he.l++]);if(Ut){var Kt=h(he.slice(he.l,he.l+Ut));(Kt[21589]||{}).mt&&(wt=Kt[21589].mt),((Oe||{})[21589]||{}).mt&&(wt=Oe[21589].mt)}he.l+=Ut;var Nr=he.slice(he.l,he.l+ft);switch(it){case 8:Nr=W(he,mt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+it)}var _t=!1;Fe&8&&(Ze=he.read_shift(4),Ze==134695760&&(Ze=he.read_shift(4),_t=!0),ft=he.read_shift(4),mt=he.read_shift(4)),ft!=Ne&&Hs(_t,"Bad compressed size: "+Ne+" != "+ft),mt!=Ce&&Hs(_t,"Bad uncompressed size: "+Ce+" != "+mt),hn(Te,Wt,Nr,{unsafe:!0,mt:wt})}function xa(he,Ne){var Ce=Ne||{},Te=[],Oe=[],Fe=St(1),it=Ce.compression?8:0,wt=0,Ze=0,ft=0,mt=0,Ot=0,Ut=he.FullPaths[0],Wt=Ut,Gt=he.FileIndex[0],Kt=[],Nr=0;for(Ze=1;Ze<he.FullPaths.length;++Ze)if(Wt=he.FullPaths[Ze].slice(Ut.length),Gt=he.FileIndex[Ze],!(!Gt.size||!Gt.content||Wt=="Sh33tJ5")){var _t=mt,yn=St(Wt.length);for(ft=0;ft<Wt.length;++ft)yn.write_shift(1,Wt.charCodeAt(ft)&127);yn=yn.slice(0,yn.l),Kt[Ot]=jR.buf(Gt.content,0);var Sr=Gt.content;it==8&&(Sr=J(Sr)),Fe=St(30),Fe.write_shift(4,67324752),Fe.write_shift(2,20),Fe.write_shift(2,wt),Fe.write_shift(2,it),Gt.mt?s(Fe,Gt.mt):Fe.write_shift(4,0),Fe.write_shift(-4,Kt[Ot]),Fe.write_shift(4,Sr.length),Fe.write_shift(4,Gt.content.length),Fe.write_shift(2,yn.length),Fe.write_shift(2,0),mt+=Fe.length,Te.push(Fe),mt+=yn.length,Te.push(yn),mt+=Sr.length,Te.push(Sr),Fe=St(46),Fe.write_shift(4,33639248),Fe.write_shift(2,0),Fe.write_shift(2,20),Fe.write_shift(2,wt),Fe.write_shift(2,it),Fe.write_shift(4,0),Fe.write_shift(-4,Kt[Ot]),Fe.write_shift(4,Sr.length),Fe.write_shift(4,Gt.content.length),Fe.write_shift(2,yn.length),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(4,0),Fe.write_shift(4,_t),Nr+=Fe.l,Oe.push(Fe),Nr+=yn.length,Oe.push(yn),++Ot}return Fe=St(22),Fe.write_shift(4,101010256),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(2,Ot),Fe.write_shift(2,Ot),Fe.write_shift(4,Nr),Fe.write_shift(4,mt),Fe.write_shift(2,0),ei([ei(Te),ei(Oe),Fe])}var jn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ar(he,Ne){if(he.ctype)return he.ctype;var Ce=he.name||"",Te=Ce.match(/\.([^\.]+)$/);return Te&&jn[Te[1]]||Ne&&(Te=(Ce=Ne).match(/[\.\\]([^\.\\])+$/),Te&&jn[Te[1]])?jn[Te[1]]:"application/octet-stream"}function Hr(he){for(var Ne=Eh(he),Ce=[],Te=0;Te<Ne.length;Te+=76)Ce.push(Ne.slice(Te,Te+76));return Ce.join(`\r
`)+`\r
`}function qs(he){var Ne=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ft){var mt=ft.charCodeAt(0).toString(16).toUpperCase();return"="+(mt.length==1?"0"+mt:mt)});Ne=Ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ne.charAt(0)==`
`&&(Ne="=0D"+Ne.slice(1)),Ne=Ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ce=[],Te=Ne.split(`\r
`),Oe=0;Oe<Te.length;++Oe){var Fe=Te[Oe];if(Fe.length==0){Ce.push("");continue}for(var it=0;it<Fe.length;){var wt=76,Ze=Fe.slice(it,it+wt);Ze.charAt(wt-1)=="="?wt--:Ze.charAt(wt-2)=="="?wt-=2:Ze.charAt(wt-3)=="="&&(wt-=3),Ze=Fe.slice(it,it+wt),it+=wt,it<Fe.length&&(Ze+="="),Ce.push(Ze)}}return Ce.join(`\r
`)}function tn(he){for(var Ne=[],Ce=0;Ce<he.length;++Ce){for(var Te=he[Ce];Ce<=he.length&&Te.charAt(Te.length-1)=="=";)Te=Te.slice(0,Te.length-1)+he[++Ce];Ne.push(Te)}for(var Oe=0;Oe<Ne.length;++Oe)Ne[Oe]=Ne[Oe].replace(/[=][0-9A-Fa-f]{2}/g,function(Fe){return String.fromCharCode(parseInt(Fe.slice(1),16))});return Sl(Ne.join(`\r
`))}function Ha(he,Ne,Ce){for(var Te="",Oe="",Fe="",it,wt=0;wt<10;++wt){var Ze=Ne[wt];if(!Ze||Ze.match(/^\s*$/))break;var ft=Ze.match(/^(.*?):\s*([^\s].*)$/);if(ft)switch(ft[1].toLowerCase()){case"content-location":Te=ft[2].trim();break;case"content-type":Fe=ft[2].trim();break;case"content-transfer-encoding":Oe=ft[2].trim();break}}switch(++wt,Oe.toLowerCase()){case"base64":it=Sl(Bc(Ne.slice(wt).join("")));break;case"quoted-printable":it=tn(Ne.slice(wt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Oe)}var mt=hn(he,Te.slice(Ce.length),it,{unsafe:!0});Fe&&(mt.ctype=Fe)}function ys(he,Ne){if(Ae(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ce=Ne&&Ne.root||"",Te=(zn&&Buffer.isBuffer(he)?he.toString("binary"):Ae(he)).split(`\r
`),Oe=0,Fe="";for(Oe=0;Oe<Te.length;++Oe)if(Fe=Te[Oe],!!/^Content-Location:/i.test(Fe)&&(Fe=Fe.slice(Fe.indexOf("file")),Ce||(Ce=Fe.slice(0,Fe.lastIndexOf("/")+1)),Fe.slice(0,Ce.length)!=Ce))for(;Ce.length>0&&(Ce=Ce.slice(0,Ce.length-1),Ce=Ce.slice(0,Ce.lastIndexOf("/")+1),Fe.slice(0,Ce.length)!=Ce););var it=(Te[1]||"").match(/boundary="(.*?)"/);if(!it)throw new Error("MAD cannot find boundary");var wt="--"+(it[1]||""),Ze=[],ft=[],mt={FileIndex:Ze,FullPaths:ft};V(mt);var Ot,Ut=0;for(Oe=0;Oe<Te.length;++Oe){var Wt=Te[Oe];Wt!==wt&&Wt!==wt+"--"||(Ut++&&Ha(mt,Te.slice(Ot,Oe),Ce),Ot=Oe)}return mt}function or(he,Ne){var Ce=Ne||{},Te=Ce.boundary||"SheetJS";Te="------="+Te;for(var Oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Te.slice(2)+'"',"","",""],Fe=he.FullPaths[0],it=Fe,wt=he.FileIndex[0],Ze=1;Ze<he.FullPaths.length;++Ze)if(it=he.FullPaths[Ze].slice(Fe.length),wt=he.FileIndex[Ze],!(!wt.size||!wt.content||it=="Sh33tJ5")){it=it.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Nr){return"_x"+Nr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Nr){return"_u"+Nr.charCodeAt(0).toString(16)+"_"});for(var ft=wt.content,mt=zn&&Buffer.isBuffer(ft)?ft.toString("binary"):Ae(ft),Ot=0,Ut=Math.min(1024,mt.length),Wt=0,Gt=0;Gt<=Ut;++Gt)(Wt=mt.charCodeAt(Gt))>=32&&Wt<128&&++Ot;var Kt=Ot>=Ut*4/5;Oe.push(Te),Oe.push("Content-Location: "+(Ce.root||"file:///C:/SheetJS/")+it),Oe.push("Content-Transfer-Encoding: "+(Kt?"quoted-printable":"base64")),Oe.push("Content-Type: "+Ar(wt,it)),Oe.push(""),Oe.push(Kt?qs(mt):Hr(mt))}return Oe.push(Te+`--\r
`),Oe.join(`\r
`)}function On(he){var Ne={};return V(Ne,he),Ne}function hn(he,Ne,Ce,Te){var Oe=Te&&Te.unsafe;Oe||V(he);var Fe=!Oe&&aa.find(he,Ne);if(!Fe){var it=he.FullPaths[0];Ne.slice(0,it.length)==it?it=Ne:(it.slice(-1)!="/"&&(it+="/"),it=(it+Ne).replace("//","/")),Fe={name:a(Ne),type:2},he.FileIndex.push(Fe),he.FullPaths.push(it),Oe||aa.utils.cfb_gc(he)}return Fe.content=Ce,Fe.size=Ce?Ce.length:0,Te&&(Te.CLSID&&(Fe.clsid=Te.CLSID),Te.mt&&(Fe.mt=Te.mt),Te.ct&&(Fe.ct=Te.ct)),Fe}function sa(he,Ne){V(he);var Ce=aa.find(he,Ne);if(Ce){for(var Te=0;Te<he.FileIndex.length;++Te)if(he.FileIndex[Te]==Ce)return he.FileIndex.splice(Te,1),he.FullPaths.splice(Te,1),!0}return!1}function rn(he,Ne,Ce){V(he);var Te=aa.find(he,Ne);if(Te){for(var Oe=0;Oe<he.FileIndex.length;++Oe)if(he.FileIndex[Oe]==Te)return he.FileIndex[Oe].name=a(Ce),he.FullPaths[Oe]=Ce,!0}return!1}function Rn(he){B(he,!0)}return e.find=q,e.read=Y,e.parse=m,e.write=ae,e.writeFile=Pe,e.utils={cfb_new:On,cfb_add:hn,cfb_del:sa,cfb_mov:rn,cfb_gc:Rn,ReadShift:gh,CheckField:c8,prep_blob:Eo,bconcat:ei,use_zlib:P,_deflateRaw:Br,_inflateRaw:Jr,consts:we},e}();function OR(t){return typeof t=="string"?Zm(t):Array.isArray(t)?rR(t):t}function Dh(t,e,r){if(typeof Deno!="undefined"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Zm(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Sh(e):e;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(n,t);if(typeof Blob!="undefined"){var a=new Blob([OR(n)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs!="undefined")return saveAs(a,t);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=t,c.href=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var h=File(t);return h.open("w"),h.encoding="binary",Array.isArray(e)&&(e=Ih(e)),h.write(e),h.close(),e}catch(g){if(!g.message||!g.message.match(/onstruct/))throw g}throw new Error("cannot save file "+t)}function ni(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function O4(t,e){for(var r=[],n=ni(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function pv(t){for(var e=[],r=ni(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function ep(t){for(var e=[],r=ni(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function RR(t){for(var e=[],r=ni(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var xm=new Date(1899,11,30,0,0,0);function Qi(t,e){var r=t.getTime(),n=xm.getTime()+(t.getTimezoneOffset()-xm.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var G6=new Date,kR=xm.getTime()+(G6.getTimezoneOffset()-xm.getTimezoneOffset())*6e4,R4=G6.getTimezoneOffset();function $6(t){var e=new Date;return e.setTime(t*24*60*60*1e3+kR),e.getTimezoneOffset()!==R4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-R4)*6e4),e}var k4=new Date("2017-02-19T19:06:09.000Z"),X6=isNaN(k4.getFullYear())?new Date("2/19/17"):k4,LR=X6.getFullYear()==2017;function Li(t,e){var r=new Date(t);if(LR)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(X6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function tp(t,e){if(zn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder!="undefined")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch(s){}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function eo(t){if(typeof JSON!="undefined"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=eo(t[r]));return e}function Ja(t,e){for(var r="";r.length<e;)r+=t;return r}function Dc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var IR=["january","february","march","april","may","june","july","august","september","october","november","december"];function Nh(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var c=t.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&IR.indexOf(c)==-1)return r}else if(c.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function sn(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return zn?n=zc(r):n=nR(r),aa.utils.cfb_add(t,e,n)}aa.utils.cfb_add(t,e,r)}else t.file(e,r)}function xv(){return aa.utils.cfb_new()}var vs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vv=pv(DR),yv=/[&<>'"]/g,PR=/[\u0000-\u0008\u000b-\u001f]/g;function Kn(t){var e=t+"";return e.replace(yv,function(r){return vv[r]}).replace(PR,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function L4(t){return Kn(t).replace(/ /g,"_x0020_")}var Y6=/[\u0000-\u001f]/g;function FR(t){var e=t+"";return e.replace(yv,function(r){return vv[r]}).replace(/\n/g,"<br/>").replace(Y6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function MR(t){var e=t+"";return e.replace(yv,function(r){return vv[r]}).replace(Y6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function BR(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function UR(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function X2(t){for(var e="",r=0,n=0,a=0,s=0,c=0,h=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){c=(n&31)<<6,c|=a&63,e+=String.fromCharCode(c);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}c=t.charCodeAt(r++),h=((n&7)<<18|(a&63)<<12|(s&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(h>>>10&1023)),e+=String.fromCharCode(56320+(h&1023))}return e}function I4(t){var e=y0(2*t.length),r,n,a=1,s=0,c=0,h;for(n=0;n<t.length;n+=a)a=1,(h=t.charCodeAt(n))<128?r=h:h<224?(r=(h&31)*64+(t.charCodeAt(n+1)&63),a=2):h<240?(r=(h&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(h&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,c=55296+(r>>>10&1023),r=56320+(r&1023)),c!==0&&(e[s++]=c&255,e[s++]=c>>>8,c=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function D4(t){return zc(t,"binary").toString("utf8")}var rg="foo bar baz",hh=zn&&(D4(rg)==X2(rg)&&D4||I4(rg)==X2(rg)&&I4)||X2,Sh=zn?function(t){return zc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},zR=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),K6=/(^\s|\s$|\n)/;function ti(t,e){return"<"+t+(e.match(K6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Ah(t){return ni(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Zt(t,e,r){return"<"+t+(r!=null?Ah(r):"")+(e!=null?(e.match(K6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Fx(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function HR(t,e){switch(typeof t){case"string":var r=Zt("vt:lpwstr",Kn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Zt((t|0)==t?"vt:i4":"vt:r8",Kn(String(t)));case"boolean":return Zt("vt:bool",t?"true":"false")}if(t instanceof Date)return Zt("vt:filetime",Fx(t));throw new Error("Unable to serialize "+t)}var Bs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ef=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],No={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function qR(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,s=5;s>=0;--s)a=a*256+t[e+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function VR(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,c=n?-e:e;isFinite(c)?c==0?a=s=0:(a=Math.floor(Math.log(c)/Math.LN2),s=c*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var h=0;h<=5;++h,s/=256)t[r+h]=s&255;t[r+6]=(a&15)<<4|s&15,t[r+7]=a>>4|n}var P4=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,s=t[0][n].length;a<s;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},F4=zn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:zc(e)})):P4(t)}:P4,M4=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(ih(t,a)));return n.join("").replace(fh,"")},wv=zn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(fh,""):M4(t,e,r)}:M4,B4=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},Z6=zn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):B4(t,e,r)}:B4,U4=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(jd(t,a)));return n.join("")},Ph=zn?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):U4(e,r,n)}:U4,J6=function(t,e){var r=So(t,e);return r>0?Ph(t,e+4,e+4+r-1):""},Q6=J6,e8=function(t,e){var r=So(t,e);return r>0?Ph(t,e+4,e+4+r-1):""},t8=e8,r8=function(t,e){var r=2*So(t,e);return r>0?Ph(t,e+4,e+4+r-1):""},n8=r8,a8=function(e,r){var n=So(e,r);return n>0?wv(e,r+4,r+4+n):""},s8=a8,i8=function(t,e){var r=So(t,e);return r>0?Ph(t,e+4,e+4+r):""},o8=i8,l8=function(t,e){return qR(t,e)},vm=l8,bv=function(e){return Array.isArray(e)||typeof Uint8Array!="undefined"&&e instanceof Uint8Array};zn&&(Q6=function(e,r){if(!Buffer.isBuffer(e))return J6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},t8=function(e,r){if(!Buffer.isBuffer(e))return e8(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},n8=function(e,r){if(!Buffer.isBuffer(e))return r8(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},s8=function(e,r){if(!Buffer.isBuffer(e))return a8(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},o8=function(e,r){if(!Buffer.isBuffer(e))return i8(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},vm=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):l8(e,r)},bv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array!="undefined"&&e instanceof Uint8Array});var jd=function(t,e){return t[e]},ih=function(t,e){return t[e+1]*256+t[e]},WR=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},So=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},h0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},GR=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function gh(t,e){var r="",n,a,s=[],c,h,g,u;switch(e){case"dbcs":if(u=this.l,zn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(g=0;g<t;++g)r+=String.fromCharCode(ih(this,u)),u+=2;t*=2;break;case"utf8":r=Ph(this,this.l,this.l+t);break;case"utf16le":t*=2,r=wv(this,this.l,this.l+t);break;case"wstr":return gh.call(this,t,"dbcs");case"lpstr-ansi":r=Q6(this,this.l),t=4+So(this,this.l);break;case"lpstr-cp":r=t8(this,this.l),t=4+So(this,this.l);break;case"lpwstr":r=n8(this,this.l),t=4+2*So(this,this.l);break;case"lpp4":t=4+So(this,this.l),r=s8(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+So(this,this.l),r=o8(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(c=jd(this,this.l+t++))!==0;)s.push(Q1(c));r=s.join("");break;case"_wstr":for(t=0,r="";(c=ih(this,this.l+t))!==0;)s.push(Q1(c)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,g=0;g<t;++g){if(this.lens&&this.lens.indexOf(u)!==-1)return c=jd(this,u),this.l=u+1,h=gh.call(this,t-g,c?"dbcs-cont":"sbcs-cont"),s.join("")+h;s.push(Q1(ih(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,g=0;g!=t;++g){if(this.lens&&this.lens.indexOf(u)!==-1)return c=jd(this,u),this.l=u+1,h=gh.call(this,t-g,c?"dbcs-cont":"sbcs-cont"),s.join("")+h;s.push(Q1(jd(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=jd(this,this.l),this.l++,n;case 2:return n=(e==="i"?WR:ih)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?h0:GR)(this,this.l),this.l+=4,n):(a=So(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=vm(this,this.l):a=vm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=Z6(this,this.l,t);break}}return this.l+=t,r}var $R=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},XR=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},YR=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function KR(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)YR(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var c=e.charCodeAt(a);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,$R(this,e,this.l);break;case 8:if(n=8,r==="f"){VR(this,e,this.l);break}case 16:break;case-4:n=4,XR(this,e,this.l);break}return this.l+=n,this}function c8(t,e){var r=Z6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Eo(t,e){t.l=e,t.read_shift=gh,t.chk=c8,t.write_shift=KR}function ac(t,e){t.l+=e}function St(t){var e=y0(t);return Eo(e,0),e}function Ji(){var t=[],e=zn?256:2048,r=function(u){var m=St(u);return Eo(m,0),m},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,e)))},c=function(){return a(),ei(t)},h=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:h,end:c,_bufs:t}}function qt(t,e,r,n){var a=+e,s;if(!isNaN(a)){n||(n=qF[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var c=t.next(s);a<=127?c.write_shift(1,a):(c.write_shift(1,(a&127)+128),c.write_shift(1,a>>7));for(var h=0;h!=4;++h)if(n>=128)c.write_shift(1,(n&127)+128),n>>=7;else{c.write_shift(1,n);break}n>0&&bv(r)&&t.push(r)}}function mh(t,e,r){var n=eo(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function z4(t,e,r){var n=eo(t);return n.s=mh(n.s,e.s,r),n.e=mh(n.e,e.s,r),n}function ph(t,e){if(t.cRel&&t.c<0)for(t=eo(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=eo(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Zn(t);return!t.cRel&&t.cRel!=null&&(r=QR(r)),!t.rRel&&t.rRel!=null&&(r=ZR(r)),r}function Y2(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+yi(t.s.c)+":"+(t.e.cRel?"":"$")+yi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ri(t.s.r)+":"+(t.e.rRel?"":"$")+ri(t.e.r):ph(t.s,e.biff)+":"+ph(t.e,e.biff)}function _v(t){return parseInt(JR(t),10)-1}function ri(t){return""+(t+1)}function ZR(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function JR(t){return t.replace(/\$(\d+)$/,"$1")}function Ev(t){for(var e=ek(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function yi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function QR(t){return t.replace(/^([A-Z])/,"$$$1")}function ek(t){return t.replace(/^\$([A-Z])/,"$1")}function tk(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Us(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function Zn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function To(t){var e=t.indexOf(":");return e==-1?{s:Us(t),e:Us(t)}:{s:Us(t.slice(0,e)),e:Us(t.slice(e+1))}}function xs(t,e){return typeof e=="undefined"||typeof e=="number"?xs(t.s,t.e):(typeof t!="string"&&(t=Zn(t)),typeof e!="string"&&(e=Zn(e)),t==e?t:t+":"+e)}function Ta(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=t.length;for(r=0;n<s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function H4(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Tu(t.z,r?Qi(e):e)}catch(n){}try{return t.w=Tu((t.XF||{}).numFmtId||(r?14:0),r?Qi(e):e)}catch(n){return""+e}}function Uc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Fh[t.v]||t.v:e==null?H4(t,t.v):H4(t,e))}function S0(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function u8(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,s=t||(a?[]:{}),c=0,h=0;if(s&&n.origin!=null){if(typeof n.origin=="number")c=n.origin;else{var g=typeof n.origin=="string"?Us(n.origin):n.origin;c=g.r,h=g.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=Ta(s["!ref"]);u.s.c=m.s.c,u.s.r=m.s.r,u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),c==-1&&(u.e.r=c=m.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=e[v].length;++b)if(typeof e[v][b]!="undefined"){var _={v:e[v][b]},C=c+v,A=h+b;if(u.s.r>C&&(u.s.r=C),u.s.c>A&&(u.s.c=A),u.e.r<C&&(u.e.r=C),u.e.c<A&&(u.e.c=A),e[v][b]&&typeof e[v][b]=="object"&&!Array.isArray(e[v][b])&&!(e[v][b]instanceof Date))_=e[v][b];else if(Array.isArray(_.v)&&(_.f=e[v][b][1],_.v=_.v[0]),_.v===null)if(_.f)_.t="n";else if(n.nullError)_.t="e",_.v=0;else if(n.sheetStubs)_.t="z";else continue;else typeof _.v=="number"?_.t="n":typeof _.v=="boolean"?_.t="b":_.v instanceof Date?(_.z=n.dateNF||Qa[14],n.cellDates?(_.t="d",_.w=Tu(_.z,Qi(_.v))):(_.t="n",_.v=Qi(_.v),_.w=Tu(_.z,_.v))):_.t="s";if(a)s[C]||(s[C]=[]),s[C][A]&&s[C][A].z&&(_.z=s[C][A].z),s[C][A]=_;else{var j=Zn({c:A,r:C});s[j]&&s[j].z&&(_.z=s[j].z),s[j]=_}}}return u.s.c<1e7&&(s["!ref"]=xs(u)),s}function tf(t,e){return u8(null,t,e)}function rk(t){return t.read_shift(4,"i")}function Cl(t,e){return e||(e=St(4)),e.write_shift(4,t),e}function wi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function zs(t,e){var r=!1;return e==null&&(r=!0,e=St(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function nk(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function ak(t,e){return e||(e=St(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Nv(t,e){var r=t.l,n=t.read_shift(1),a=wi(t),s=[],c={t:a,h:a};if((n&1)!==0){for(var h=t.read_shift(4),g=0;g!=h;++g)s.push(nk(t));c.r=s}else c.r=[{ich:0,ifnt:0}];return t.l=r+e,c}function sk(t,e){var r=!1;return e==null&&(r=!0,e=St(15+4*t.t.length)),e.write_shift(1,0),zs(t.t,e),r?e.slice(0,e.l):e}var ik=Nv;function ok(t,e){var r=!1;return e==null&&(r=!0,e=St(23+4*t.t.length)),e.write_shift(1,1),zs(t.t,e),e.write_shift(4,1),ak({},e),r?e.slice(0,e.l):e}function Zo(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function A0(t,e){return e==null&&(e=St(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function C0(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function T0(t,e){return e==null&&(e=St(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var lk=wi,d8=zs;function Sv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function ym(t,e){var r=!1;return e==null&&(r=!0,e=St(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var ck=wi,Mx=Sv,Av=ym;function f8(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?vm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):h0(e,0)>>2;return r?a/100:a}function h8(t,e){e==null&&(e=St(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function g8(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function uk(t,e){return e||(e=St(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var j0=g8,rf=uk;function nf(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function w0(t,e){return(e||St(8)).write_shift(8,t,"f")}function dk(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),s=t.read_shift(2,"i"),c=t.read_shift(1),h=t.read_shift(1),g=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=wk[a];u&&(e.rgb=Q4(u));break;case 2:e.rgb=Q4([c,h,g]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function wm(t,e){if(e||(e=St(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function fk(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function hk(t,e){e||(e=St(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var m8=2,bo=3,ng=11,bm=19,ag=64,gk=65,mk=71,pk=4108,xk=4126,Qs=80,q4={1:{n:"CodePage",t:m8},2:{n:"Category",t:Qs},3:{n:"PresentationFormat",t:Qs},4:{n:"ByteCount",t:bo},5:{n:"LineCount",t:bo},6:{n:"ParagraphCount",t:bo},7:{n:"SlideCount",t:bo},8:{n:"NoteCount",t:bo},9:{n:"HiddenCount",t:bo},10:{n:"MultimediaClipCount",t:bo},11:{n:"ScaleCrop",t:ng},12:{n:"HeadingPairs",t:pk},13:{n:"TitlesOfParts",t:xk},14:{n:"Manager",t:Qs},15:{n:"Company",t:Qs},16:{n:"LinksUpToDate",t:ng},17:{n:"CharacterCount",t:bo},19:{n:"SharedDoc",t:ng},22:{n:"HyperlinksChanged",t:ng},23:{n:"AppVersion",t:bo,p:"version"},24:{n:"DigSig",t:gk},26:{n:"ContentType",t:Qs},27:{n:"ContentStatus",t:Qs},28:{n:"Language",t:Qs},29:{n:"Version",t:Qs},255:{},2147483648:{n:"Locale",t:bm},2147483651:{n:"Behavior",t:bm},1919054434:{}},V4={1:{n:"CodePage",t:m8},2:{n:"Title",t:Qs},3:{n:"Subject",t:Qs},4:{n:"Author",t:Qs},5:{n:"Keywords",t:Qs},6:{n:"Comments",t:Qs},7:{n:"Template",t:Qs},8:{n:"LastAuthor",t:Qs},9:{n:"RevNumber",t:Qs},10:{n:"EditTime",t:ag},11:{n:"LastPrinted",t:ag},12:{n:"CreatedDate",t:ag},13:{n:"ModifiedDate",t:ag},14:{n:"PageCount",t:bo},15:{n:"WordCount",t:bo},16:{n:"CharCount",t:bo},17:{n:"Thumbnail",t:mk},18:{n:"Application",t:Qs},19:{n:"DocSecurity",t:bo},255:{},2147483648:{n:"Locale",t:bm},2147483651:{n:"Behavior",t:bm},1919054434:{}};function vk(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var yk=vk([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),wk=eo(yk),Fh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},sg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function p8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function x8(t,e){var r=RR(bk),n=[],a;n[n.length]=vs,n[n.length]=Zt("Types",null,{xmlns:Bs.CT,"xmlns:xsd":Bs.xsd,"xmlns:xsi":Bs.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(g){return Zt("Default",null,{Extension:g[0],ContentType:g[1]})}));var s=function(g){t[g]&&t[g].length>0&&(a=t[g][0],n[n.length]=Zt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:sg[g][e.bookType]||sg[g].xlsx}))},c=function(g){(t[g]||[]).forEach(function(u){n[n.length]=Zt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:sg[g][e.bookType]||sg[g].xlsx})})},h=function(g){(t[g]||[]).forEach(function(u){n[n.length]=Zt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[g][0]})})};return s("workbooks"),c("sheets"),c("charts"),h("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(h),h("vba"),h("comments"),h("threadedcomments"),h("drawings"),c("metadata"),h("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Bn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function v8(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Bd(t){var e=[vs,Zt("Relationships",null,{xmlns:Bs.RELS})];return ni(t["!id"]).forEach(function(r){e[e.length]=Zt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Xn(t,e,r,n,a,s){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[Bn.HLINK,Bn.XPATH,Bn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}function _k(t){var e=[vs];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function W4(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Ek(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Nk(t){var e=[vs];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(W4(t[r][0],t[r][1])),e.push(Ek("",t[r][0]));return e.push(W4("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function y8(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+hm.version+"</meta:generator></office:meta></office:document-meta>"}var x0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function K2(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=Kn(e),n[n.length]=r?Zt(t,e,r):ti(t,e))}function w8(t,e){var r=e||{},n=[vs,Zt("cp:coreProperties",null,{"xmlns:cp":Bs.CORE_PROPS,"xmlns:dc":Bs.dc,"xmlns:dcterms":Bs.dcterms,"xmlns:dcmitype":Bs.dcmitype,"xmlns:xsi":Bs.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&K2("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Fx(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&K2("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Fx(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=x0.length;++s){var c=x0[s],h=r.Props&&r.Props[c[1]]!=null?r.Props[c[1]]:t?t[c[1]]:null;h===!0?h="1":h===!1?h="0":typeof h=="number"&&(h=String(h)),h!=null&&K2(c[0],h,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ud=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],b8=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function _8(t){var e=[],r=Zt;return t||(t={}),t.Application="SheetJS",e[e.length]=vs,e[e.length]=Zt("Properties",null,{xmlns:Bs.EXT_PROPS,"xmlns:vt":Bs.vt}),Ud.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Kn(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Kn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function E8(t){var e=[vs,Zt("Properties",null,{xmlns:Bs.CUST_PROPS,"xmlns:vt":Bs.vt})];if(!t)return e.join("");var r=1;return ni(t).forEach(function(a){++r,e[e.length]=Zt("property",HR(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Kn(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var G4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Sk(t,e){var r=[];return ni(G4).map(function(n){for(var a=0;a<x0.length;++a)if(x0[a][1]==n)return x0[a];for(a=0;a<Ud.length;++a)if(Ud[a][1]==n)return Ud[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ti(G4[n[1]]||n[1],a))}}),Zt("DocumentProperties",r.join(""),{xmlns:No.o})}function Ak(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&ni(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var c=0;c<x0.length;++c)if(s==x0[c][1])return;for(c=0;c<Ud.length;++c)if(s==Ud[c][1])return;for(c=0;c<r.length;++c)if(s==r[c])return;var h=t[s],g="string";typeof h=="number"?(g="float",h=String(h)):h===!0||h===!1?(g="boolean",h=h?"1":"0"):h=String(h),a.push(Zt(L4(s),h,{"dt:dt":g}))}}),e&&ni(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var c=e[s],h="string";typeof c=="number"?(h="float",c=String(c)):c===!0||c===!1?(h="boolean",c=c?"1":"0"):c instanceof Date?(h="dateTime.tz",c=c.toISOString()):c=String(c),a.push(Zt(L4(s),c,{"dt:dt":h}))}}),"<"+n+' xmlns="'+No.o+'">'+a.join("")+"</"+n+">"}function Ck(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var c=St(8);return c.write_shift(4,n),c.write_shift(4,a),c}function $4(t,e){var r=St(4),n=St(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=St(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Ck(e);break;case 31:case 80:for(n=St(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ei([r,n])}var N8=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Tk(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function X4(t,e,r){var n=St(8),a=[],s=[],c=8,h=0,g=St(8),u=St(8);if(g.write_shift(4,2),g.write_shift(4,1200),u.write_shift(4,1),s.push(g),a.push(u),c+=8+g.length,!e){u=St(8),u.write_shift(4,0),a.unshift(u);var m=[St(4)];for(m[0].write_shift(4,t.length),h=0;h<t.length;++h){var v=t[h][0];for(g=St(8+2*(v.length+1)+(v.length%2?0:2)),g.write_shift(4,h+2),g.write_shift(4,v.length+1),g.write_shift(0,v,"dbcs");g.l!=g.length;)g.write_shift(1,0);m.push(g)}g=ei(m),s.unshift(g),c+=8+g.length}for(h=0;h<t.length;++h)if(!(e&&!e[t[h][0]])&&!(N8.indexOf(t[h][0])>-1||b8.indexOf(t[h][0])>-1)&&t[h][1]!=null){var b=t[h][1],_=0;if(e){_=+e[t[h][0]];var C=r[_];if(C.p=="version"&&typeof b=="string"){var A=b.split(".");b=(+A[0]<<16)+(+A[1]||0)}g=$4(C.t,b)}else{var j=Tk(b);j==-1&&(j=31,b=String(b)),g=$4(j,b)}s.push(g),u=St(8),u.write_shift(4,e?_:2+h),a.push(u),c+=8+g.length}var L=8*(s.length+1);for(h=0;h<s.length;++h)a[h].write_shift(4,L),L+=s[h].length;return n.write_shift(4,c),n.write_shift(4,s.length),ei([n].concat(a).concat(s))}function Y4(t,e,r,n,a,s){var c=St(a?68:48),h=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,aa.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,a?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,a?68:48);var g=X4(t,r,n);if(h.push(g),a){var u=X4(a,null,null);c.write_shift(16,s,"hex"),c.write_shift(4,68+g.length),h.push(u)}return ei(h)}function jk(t,e){e||(e=St(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Ok(t,e){return t.read_shift(e)===1}function Oi(t,e){return e||(e=St(2)),e.write_shift(2,+!!t),e}function S8(t){return t.read_shift(2,"u")}function $o(t,e){return e||(e=St(2)),e.write_shift(2,t),e}function A8(t,e,r){return r||(r=St(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function C8(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var c=n?t.read_shift(n,a):"";return c}function Rk(t){var e=t.t||"",r=St(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=St(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return ei(a)}function kk(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Lk(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):kk(t,n,r)}function Ik(t,e,r){if(r.biff>5)return Lk(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function T8(t,e,r){return r||(r=St(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function K4(t,e){e||(e=St(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function Dk(t){var e=St(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var c=[8,6815827,6619237,4849780,83];for(r=0;r<c.length;++r)e.write_shift(4,c[r]);if(s==28)n=n.slice(1),K4(n,e);else if(s&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));var h=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(h.length+1)),r=0;r<h.length;++r)e.write_shift(2,h.charCodeAt(r));e.write_shift(2,0),s&8&&K4(a>-1?n.slice(a+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<c.length;++r)e.write_shift(1,parseInt(c[r],16));for(var g=0;n.slice(g*3,g*3+3)=="../"||n.slice(g*3,g*3+3)=="..\\";)++g;for(e.write_shift(2,g),e.write_shift(4,n.length-3*g+1),r=0;r<n.length-3*g;++r)e.write_shift(1,n.charCodeAt(r+3*g)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function b0(t,e,r,n){return n||(n=St(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Pk(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),s=t.read_shift(n,"i"),c=t.read_shift(n,"i");return[a,s,c]}function Fk(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function j8(t,e){return e||(e=St(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Cv(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=St(a);return s.write_shift(2,n),s.write_shift(2,e),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Mk(t,e){var r=!e||e.biff==8,n=St(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Bk(t,e){var r=!e||e.biff>=8?2:1,n=St(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Uk(t,e){var r=St(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=Rk(t[a]);var s=ei([r].concat(n));return s.parts=[r.length].concat(n.map(function(c){return c.length})),s}function zk(){var t=St(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Hk(t){var e=St(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function qk(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,s=St(a);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Vk(t,e,r,n){var a=St(10);return b0(t,e,n,a),a.write_shift(4,r),a}function Wk(t,e,r,n,a){var s=!a||a.biff==8,c=St(8+ +s+(1+s)*r.length);return b0(t,e,n,c),c.write_shift(2,r.length),s&&c.write_shift(1,1),c.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),c}function Gk(t,e,r,n){var a=r&&r.biff==5;n||(n=St(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function $k(t,e){var r=e.biff==8||!e.biff?4:2,n=St(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Z4(t,e,r,n){var a=r&&r.biff==5;n||(n=St(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Xk(t){var e=St(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Yk(t,e,r,n,a,s){var c=St(8);return b0(t,e,n,c),A8(r,s,c),c}function Kk(t,e,r,n){var a=St(14);return b0(t,e,n,a),w0(r,a),a}function Zk(t,e,r){if(r.biff<8)return Jk(t,e,r);for(var n=[],a=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(Pk(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function Jk(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=C8(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Qk(t){var e=St(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)j8(t[r],e);return e}function eL(t){var e=St(24),r=Us(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return ei([e,Dk(t[1])])}function tL(t){var e=t[1].Tooltip,r=St(10+2*(e.length+1));r.write_shift(2,2048);var n=Us(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function rL(t){return t||(t=St(4)),t.write_shift(2,1),t.write_shift(2,1),t}function nL(t,e,r){if(!r.cellStyles)return ac(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),s=t.read_shift(n),c=t.read_shift(n),h=t.read_shift(n),g=t.read_shift(2);n==2&&(t.l+=2);var u={s:a,e:s,w:c,ixfe:h,flags:g};return(r.biff>=5||!r.biff)&&(u.level=g>>8&7),u}function aL(t,e){var r=St(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function sL(t){for(var e=St(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function iL(t,e,r){var n=St(15);return Bh(n,t,e),n.write_shift(8,r,"f"),n}function oL(t,e,r){var n=St(9);return Bh(n,t,e),n.write_shift(2,r),n}var lL=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=pv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(h,g){var u=[],m=y0(1);switch(g.type){case"base64":m=Sl(Bc(h));break;case"binary":m=Sl(h);break;case"buffer":case"array":m=h;break}Eo(m,0);var v=m.read_shift(1),b=!!(v&136),_=!1,C=!1;switch(v){case 2:break;case 3:break;case 48:_=!0,b=!0;break;case 49:_=!0,b=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var A=0,j=521;v==2&&(A=m.read_shift(2)),m.l+=3,v!=2&&(A=m.read_shift(4)),A>1048576&&(A=1e6),v!=2&&(j=m.read_shift(2));var L=m.read_shift(2),D=g.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(D=t[m[m.l]]),m.l+=1,m.l+=2),C&&(m.l+=36);for(var M=[],X={},Q=Math.min(m.length,v==2?521:j-10-(_?264:0)),Y=C?32:11;m.l<Q&&m[m.l]!=13;)switch(X={},X.name=b4.utils.decode(D,m.slice(m.l,m.l+Y)).replace(/[\u0000\r\n].*$/g,""),m.l+=Y,X.type=String.fromCharCode(m.read_shift(1)),v!=2&&!C&&(X.offset=m.read_shift(4)),X.len=m.read_shift(1),v==2&&(X.offset=m.read_shift(2)),X.dec=m.read_shift(1),X.name.length&&M.push(X),v!=2&&(m.l+=C?13:14),X.type){case"B":(!_||X.len!=8)&&g.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+X.type)}if(m[m.l]!==13&&(m.l=j-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=j;var V=0,H=0;for(u[0]=[],H=0;H!=M.length;++H)u[0][H]=M[H].name;for(;A-- >0;){if(m[m.l]===42){m.l+=L;continue}for(++m.l,u[++V]=[],H=0,H=0;H!=M.length;++H){var B=m.slice(m.l,m.l+M[H].len);m.l+=M[H].len,Eo(B,0);var re=b4.utils.decode(D,B);switch(M[H].type){case"C":re.trim().length&&(u[V][H]=re.replace(/\s+$/,""));break;case"D":re.length===8?u[V][H]=new Date(+re.slice(0,4),+re.slice(4,6)-1,+re.slice(6,8)):u[V][H]=re;break;case"F":u[V][H]=parseFloat(re.trim());break;case"+":case"I":u[V][H]=C?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(re.trim().toUpperCase()){case"Y":case"T":u[V][H]=!0;break;case"N":case"F":u[V][H]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+re+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));u[V][H]="##MEMO##"+(C?parseInt(re.trim(),10):B.read_shift(4));break;case"N":re=re.replace(/\u0000/g,"").trim(),re&&re!="."&&(u[V][H]=+re||0);break;case"@":u[V][H]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":u[V][H]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":u[V][H]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[V][H]=-B.read_shift(-8,"f");break;case"B":if(_&&M[H].len==8){u[V][H]=B.read_shift(8,"f");break}case"G":case"P":B.l+=M[H].len;break;case"0":if(M[H].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+M[H].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return g&&g.sheetRows&&(u=u.slice(0,g.sheetRows)),g.DBF=M,u}function n(h,g){var u=g||{};u.dateNF||(u.dateNF="yyyymmdd");var m=tf(r(h,u),u);return m["!cols"]=u.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete u.DBF,m}function a(h,g){try{return S0(n(h,g),g)}catch(u){if(g&&g.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function c(h,g){var u=g||{};if(+u.codepage>=0&&_h(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var m=Ji(),v=Am(h,{header:1,raw:!0,cellDates:!0}),b=v[0],_=v.slice(1),C=h["!cols"]||[],A=0,j=0,L=0,D=1;for(A=0;A<b.length;++A){if(((C[A]||{}).DBF||{}).name){b[A]=C[A].DBF.name,++L;continue}if(b[A]!=null){if(++L,typeof b[A]=="number"&&(b[A]=b[A].toString(10)),typeof b[A]!="string")throw new Error("DBF Invalid column name "+b[A]+" |"+typeof b[A]+"|");if(b.indexOf(b[A])!==A){for(j=0;j<1024;++j)if(b.indexOf(b[A]+"_"+j)==-1){b[A]+="_"+j;break}}}}var M=Ta(h["!ref"]),X=[],Q=[],Y=[];for(A=0;A<=M.e.c-M.s.c;++A){var V="",H="",B=0,re=[];for(j=0;j<_.length;++j)_[j][A]!=null&&re.push(_[j][A]);if(re.length==0||b[A]==null){X[A]="?";continue}for(j=0;j<re.length;++j){switch(typeof re[j]){case"number":H="B";break;case"string":H="C";break;case"boolean":H="L";break;case"object":H=re[j]instanceof Date?"D":"C";break;default:H="C"}B=Math.max(B,String(re[j]).length),V=V&&V!=H?"C":H}B>250&&(B=250),H=((C[A]||{}).DBF||{}).type,H=="C"&&C[A].DBF.len>B&&(B=C[A].DBF.len),V=="B"&&H=="N"&&(V="N",Y[A]=C[A].DBF.dec,B=C[A].DBF.len),Q[A]=V=="C"||H=="N"?B:s[V]||0,D+=Q[A],X[A]=V}var q=m.next(32);for(q.write_shift(4,318902576),q.write_shift(4,_.length),q.write_shift(2,296+32*L),q.write_shift(2,D),A=0;A<4;++A)q.write_shift(4,0);for(q.write_shift(4,0|(+e[R6]||3)<<8),A=0,j=0;A<b.length;++A)if(b[A]!=null){var G=m.next(32),se=(b[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,se,"sbcs"),G.write_shift(1,X[A]=="?"?"C":X[A],"sbcs"),G.write_shift(4,j),G.write_shift(1,Q[A]||s[X[A]]||0),G.write_shift(1,Y[A]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),j+=Q[A]||s[X[A]]||0}var ye=m.next(264);for(ye.write_shift(4,13),A=0;A<65;++A)ye.write_shift(4,0);for(A=0;A<_.length;++A){var me=m.next(D);for(me.write_shift(1,0),j=0;j<b.length;++j)if(b[j]!=null)switch(X[j]){case"L":me.write_shift(1,_[A][j]==null?63:_[A][j]?84:70);break;case"B":me.write_shift(8,_[A][j]||0,"f");break;case"N":var de="0";for(typeof _[A][j]=="number"&&(de=_[A][j].toFixed(Y[j]||0)),L=0;L<Q[j]-de.length;++L)me.write_shift(1,32);me.write_shift(1,de,"sbcs");break;case"D":_[A][j]?(me.write_shift(4,("0000"+_[A][j].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(_[A][j].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+_[A][j].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var we=String(_[A][j]!=null?_[A][j]:"").slice(0,Q[j]);for(me.write_shift(1,we,"sbcs"),L=0;L<Q[j]-we.length;++L)me.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:n,from_sheet:c}}(),cL=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ni(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(b,_){var C=t[_];return typeof C=="number"?w4(C):C},n=function(b,_,C){var A=_.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return A==59?b:w4(A)};t["|"]=254;function a(b,_){switch(_.type){case"base64":return s(Bc(b),_);case"binary":return s(b,_);case"buffer":return s(zn&&Buffer.isBuffer(b)?b.toString("binary"):Ih(b),_);case"array":return s(tp(b),_)}throw new Error("Unrecognized type "+_.type)}function s(b,_){var C=b.split(/[\n\r]+/),A=-1,j=-1,L=0,D=0,M=[],X=[],Q=null,Y={},V=[],H=[],B=[],re=0,q;for(+_.codepage>=0&&_h(+_.codepage);L!==C.length;++L){re=0;var G=C[L].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),se=G.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),ye=se[0],me;if(G.length>0)switch(ye){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":se[1].charAt(0)=="P"&&X.push(G.slice(3).replace(/;;/g,";"));break;case"C":var de=!1,we=!1,Pe=!1,Ae=!1,ae=-1,fe=-1;for(D=1;D<se.length;++D)switch(se[D].charAt(0)){case"A":break;case"X":j=parseInt(se[D].slice(1))-1,we=!0;break;case"Y":for(A=parseInt(se[D].slice(1))-1,we||(j=0),q=M.length;q<=A;++q)M[q]=[];break;case"K":me=se[D].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(Dc(me))?isNaN(Nh(me).getDate())||(me=Li(me)):(me=Dc(me),Q!==null&&q6(Q)&&(me=$6(me))),de=!0;break;case"E":Ae=!0;var P=oI(se[D].slice(1),{r:A,c:j});M[A][j]=[M[A][j],P];break;case"S":Pe=!0,M[A][j]=[M[A][j],"S5S"];break;case"G":break;case"R":ae=parseInt(se[D].slice(1))-1;break;case"C":fe=parseInt(se[D].slice(1))-1;break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+G)}if(de&&(M[A][j]&&M[A][j].length==2?M[A][j][0]=me:M[A][j]=me,Q=null),Pe){if(Ae)throw new Error("SYLK shared formula cannot have own formula");var W=ae>-1&&M[ae][fe];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");M[A][j][1]=lI(W[1],{r:A-ae,c:j-fe})}break;case"F":var J=0;for(D=1;D<se.length;++D)switch(se[D].charAt(0)){case"X":j=parseInt(se[D].slice(1))-1,++J;break;case"Y":for(A=parseInt(se[D].slice(1))-1,q=M.length;q<=A;++q)M[q]=[];break;case"M":re=parseInt(se[D].slice(1))/20;break;case"F":break;case"G":break;case"P":Q=X[parseInt(se[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=se[D].slice(1).split(" "),q=parseInt(B[0],10);q<=parseInt(B[1],10);++q)re=parseInt(B[2],10),H[q-1]=re===0?{hidden:!0}:{wch:re},Tv(H[q-1]);break;case"C":j=parseInt(se[D].slice(1))-1,H[j]||(H[j]={});break;case"R":A=parseInt(se[D].slice(1))-1,V[A]||(V[A]={}),re>0?(V[A].hpt=re,V[A].hpx=I8(re)):re===0&&(V[A].hidden=!0);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+G)}J<1&&(Q=null);break;default:if(_&&_.WTF)throw new Error("SYLK bad record "+G)}}return V.length>0&&(Y["!rows"]=V),H.length>0&&(Y["!cols"]=H),_&&_.sheetRows&&(M=M.slice(0,_.sheetRows)),[M,Y]}function c(b,_){var C=a(b,_),A=C[0],j=C[1],L=tf(A,_);return ni(j).forEach(function(D){L[D]=j[D]}),L}function h(b,_){return S0(c(b,_),_)}function g(b,_,C,A){var j="C;Y"+(C+1)+";X"+(A+1)+";K";switch(b.t){case"n":j+=b.v||0,b.f&&!b.F&&(j+=";E"+Ov(b.f,{r:C,c:A}));break;case"b":j+=b.v?"TRUE":"FALSE";break;case"e":j+=b.w||b.v;break;case"d":j+='"'+(b.w||b.v)+'"';break;case"s":j+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return j}function u(b,_){_.forEach(function(C,A){var j="F;W"+(A+1)+" "+(A+1)+" ";C.hidden?j+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=_m(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=Em(C.wpx)),typeof C.wch=="number"&&(j+=Math.round(C.wch))),j.charAt(j.length-1)!=" "&&b.push(j)})}function m(b,_){_.forEach(function(C,A){var j="F;";C.hidden?j+="M0;":C.hpt?j+="M"+20*C.hpt+";":C.hpx&&(j+="M"+20*Nm(C.hpx)+";"),j.length>2&&b.push(j+"R"+(A+1))})}function v(b,_){var C=["ID;PWXL;N;E"],A=[],j=Ta(b["!ref"]),L,D=Array.isArray(b),M=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),b["!cols"]&&u(C,b["!cols"]),b["!rows"]&&m(C,b["!rows"]),C.push("B;Y"+(j.e.r-j.s.r+1)+";X"+(j.e.c-j.s.c+1)+";D"+[j.s.c,j.s.r,j.e.c,j.e.r].join(" "));for(var X=j.s.r;X<=j.e.r;++X)for(var Q=j.s.c;Q<=j.e.c;++Q){var Y=Zn({r:X,c:Q});L=D?(b[X]||[])[Q]:b[Y],!(!L||L.v==null&&(!L.f||L.F))&&A.push(g(L,b,X,Q))}return C.join(M)+M+A.join(M)+M+"E"+M}return{to_workbook:h,to_sheet:c,from_sheet:v}}(),uL=function(){function t(s,c){switch(c.type){case"base64":return e(Bc(s),c);case"binary":return e(s,c);case"buffer":return e(zn&&Buffer.isBuffer(s)?s.toString("binary"):Ih(s),c);case"array":return e(tp(s),c)}throw new Error("Unrecognized type "+c.type)}function e(s,c){for(var h=s.split(`
`),g=-1,u=-1,m=0,v=[];m!==h.length;++m){if(h[m].trim()==="BOT"){v[++g]=[],u=0;continue}if(!(g<0)){var b=h[m].trim().split(","),_=b[0],C=b[1];++m;for(var A=h[m]||"";(A.match(/["]/g)||[]).length&1&&m<h.length-1;)A+=`
`+h[++m];switch(A=A.trim(),+_){case-1:if(A==="BOT"){v[++g]=[],u=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?v[g][u]=!0:A==="FALSE"?v[g][u]=!1:isNaN(Dc(C))?isNaN(Nh(C).getDate())?v[g][u]=C:v[g][u]=Li(C):v[g][u]=Dc(C),++u;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),v[g][u++]=A!==""?A:null;break}if(A==="EOD")break}}return c&&c.sheetRows&&(v=v.slice(0,c.sheetRows)),v}function r(s,c){return tf(t(s,c),c)}function n(s,c){return S0(r(s,c),c)}var a=function(){var s=function(g,u,m,v,b){g.push(u),g.push(m+","+v),g.push('"'+b.replace(/"/g,'""')+'"')},c=function(g,u,m,v){g.push(u+","+m),g.push(u==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(g){var u=[],m=Ta(g["!ref"]),v,b=Array.isArray(g);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,m.e.r-m.s.r+1,""),s(u,"TUPLES",0,m.e.c-m.s.c+1,""),s(u,"DATA",0,0,"");for(var _=m.s.r;_<=m.e.r;++_){c(u,-1,0,"BOT");for(var C=m.s.c;C<=m.e.c;++C){var A=Zn({r:_,c:C});if(v=b?(g[_]||[])[C]:g[A],!v){c(u,1,0,"");continue}switch(v.t){case"n":var j=v.w;!j&&v.v!=null&&(j=v.v),j==null?v.f&&!v.F?c(u,1,0,"="+v.f):c(u,1,0,""):c(u,0,j,"V");break;case"b":c(u,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":c(u,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Tu(v.z||Qa[14],Qi(Li(v.v)))),c(u,0,v.w,"V");break;default:c(u,1,0,"")}}}c(u,-1,0,"EOD");var L=`\r
`,D=u.join(L);return D}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),O8=function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,b){for(var _=v.split(`
`),C=-1,A=-1,j=0,L=[];j!==_.length;++j){var D=_[j].trim().split(":");if(D[0]==="cell"){var M=Us(D[1]);if(L.length<=M.r)for(C=L.length;C<=M.r;++C)L[C]||(L[C]=[]);switch(C=M.r,A=M.c,D[2]){case"t":L[C][A]=t(D[3]);break;case"v":L[C][A]=+D[3];break;case"vtf":var X=D[D.length-1];case"vtc":switch(D[3]){case"nl":L[C][A]=!!+D[4];break;default:L[C][A]=+D[4];break}D[2]=="vtf"&&(L[C][A]=[L[C][A],X])}}}return b&&b.sheetRows&&(L=L.slice(0,b.sheetRows)),L}function n(v,b){return tf(r(v,b),b)}function a(v,b){return S0(n(v,b),b)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,h=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function u(v){if(!v||!v["!ref"])return"";for(var b=[],_=[],C,A="",j=To(v["!ref"]),L=Array.isArray(v),D=j.s.r;D<=j.e.r;++D)for(var M=j.s.c;M<=j.e.c;++M)if(A=Zn({r:D,c:M}),C=L?(v[D]||[])[M]:v[A],!(!C||C.v==null||C.t==="z")){switch(_=["cell",A,"t"],C.t){case"s":case"str":_.push(e(C.v));break;case"n":C.f?(_[2]="vtf",_[3]="n",_[4]=C.v,_[5]=e(C.f)):(_[2]="v",_[3]=C.v);break;case"b":_[2]="vt"+(C.f?"f":"c"),_[3]="nl",_[4]=C.v?"1":"0",_[5]=e(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var X=Qi(Li(C.v));_[2]="vtc",_[3]="nd",_[4]=""+X,_[5]=C.w||Tu(C.z||Qa[14],X);break;case"e":continue}b.push(_.join(":"))}return b.push("sheet:c:"+(j.e.c-j.s.c+1)+":r:"+(j.e.r-j.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function m(v){return[s,c,h,c,u(v),g].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:m}}(),dL=function(){function t(m,v,b,_,C){C.raw?v[b][_]=m:m===""||(m==="TRUE"?v[b][_]=!0:m==="FALSE"?v[b][_]=!1:isNaN(Dc(m))?isNaN(Nh(m).getDate())?v[b][_]=m:v[b][_]=Li(m):v[b][_]=Dc(m))}function e(m,v){var b=v||{},_=[];if(!m||m.length===0)return _;for(var C=m.split(/[\r\n]/),A=C.length-1;A>=0&&C[A].length===0;)--A;for(var j=10,L=0,D=0;D<=A;++D)L=C[D].indexOf(" "),L==-1?L=C[D].length:L++,j=Math.max(j,L);for(D=0;D<=A;++D){_[D]=[];var M=0;for(t(C[D].slice(0,j).trim(),_,D,M,b),M=1;M<=(C[D].length-j)/10+1;++M)t(C[D].slice(j+(M-1)*10,j+M*10).trim(),_,D,M,b)}return b.sheetRows&&(_=_.slice(0,b.sheetRows)),_}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(m){for(var v={},b=!1,_=0,C=0;_<m.length;++_)(C=m.charCodeAt(_))==34?b=!b:!b&&C in r&&(v[C]=(v[C]||0)+1);C=[];for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&C.push([v[_],_]);if(!C.length){v=n;for(_ in v)Object.prototype.hasOwnProperty.call(v,_)&&C.push([v[_],_])}return C.sort(function(A,j){return A[0]-j[0]||n[A[1]]-n[j[1]]}),r[C.pop()[1]]||44}function s(m,v){var b=v||{},_="",C=b.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(_=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(_=m.charAt(4),m=m.slice(6)):_=a(m.slice(0,1024)):b&&b.FS?_=b.FS:_=a(m.slice(0,1024));var j=0,L=0,D=0,M=0,X=0,Q=_.charCodeAt(0),Y=!1,V=0,H=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var B=b.dateNF!=null?CR(b.dateNF):null;function re(){var q=m.slice(M,X),G={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)G.t="z";else if(b.raw)G.t="s",G.v=q;else if(q.trim().length===0)G.t="s",G.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(G.t="s",G.v=q.slice(2,-1).replace(/""/g,'"')):cI(q)?(G.t="n",G.f=q.slice(1)):(G.t="s",G.v=q);else if(q=="TRUE")G.t="b",G.v=!0;else if(q=="FALSE")G.t="b",G.v=!1;else if(!isNaN(D=Dc(q)))G.t="n",b.cellText!==!1&&(G.w=q),G.v=D;else if(!isNaN(Nh(q).getDate())||B&&q.match(B)){G.z=b.dateNF||Qa[14];var se=0;B&&q.match(B)&&(q=TR(q,b.dateNF,q.match(B)||[]),se=1),b.cellDates?(G.t="d",G.v=Li(q,se)):(G.t="n",G.v=Qi(Li(q,se))),b.cellText!==!1&&(G.w=Tu(G.z,G.v instanceof Date?Qi(G.v):G.v)),b.cellNF||delete G.z}else G.t="s",G.v=q;if(G.t=="z"||(b.dense?(C[j]||(C[j]=[]),C[j][L]=G):C[Zn({c:L,r:j})]=G),M=X+1,H=m.charCodeAt(M),A.e.c<L&&(A.e.c=L),A.e.r<j&&(A.e.r=j),V==Q)++L;else if(L=0,++j,b.sheetRows&&b.sheetRows<=j)return!0}e:for(;X<m.length;++X)switch(V=m.charCodeAt(X)){case 34:H===34&&(Y=!Y);break;case Q:case 10:case 13:if(!Y&&re())break e;break}return X-M>0&&re(),C["!ref"]=xs(A),C}function c(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,v):tf(e(m,v),v)}function h(m,v){var b="",_=v.type=="string"?[0,0,0,0]:EM(m,v);switch(v.type){case"base64":b=Bc(m);break;case"binary":b=m;break;case"buffer":v.codepage==65001?b=m.toString("utf8"):(v.codepage,b=zn&&Buffer.isBuffer(m)?m.toString("binary"):Ih(m));break;case"array":b=tp(m);break;case"string":b=m;break;default:throw new Error("Unrecognized type "+v.type)}return _[0]==239&&_[1]==187&&_[2]==191?b=hh(b.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?b=hh(b):v.type=="binary",b.slice(0,19)=="socialcalc:version:"?O8.to_sheet(v.type=="string"?b:hh(b),v):c(b,v)}function g(m,v){return S0(h(m,v),v)}function u(m){for(var v=[],b=Ta(m["!ref"]),_,C=Array.isArray(m),A=b.s.r;A<=b.e.r;++A){for(var j=[],L=b.s.c;L<=b.e.c;++L){var D=Zn({r:A,c:L});if(_=C?(m[A]||[])[L]:m[D],!_||_.v==null){j.push("          ");continue}for(var M=(_.w||(Uc(_),_.w)||"").slice(0,10);M.length<10;)M+=" ";j.push(M+(L===0?" ":""))}v.push(j.join(""))}return v.join(`
`)}return{to_workbook:g,to_sheet:h,from_sheet:u}}(),J4=function(){function t(P,W,J){if(P){Eo(P,P.l||0);for(var te=J.Enum||ae;P.l<P.length;){var le=P.read_shift(2),Be=te[le]||te[65535],Re=P.read_shift(2),Me=P.l+Re,ke=Be.f&&Be.f(P,Re,J);if(P.l=Me,W(ke,Be,le))return}}}function e(P,W){switch(W.type){case"base64":return r(Sl(Bc(P)),W);case"binary":return r(Sl(P),W);case"buffer":case"array":return r(P,W)}throw"Unsupported type "+W.type}function r(P,W){if(!P)return P;var J=W||{},te=J.dense?[]:{},le="Sheet1",Be="",Re=0,Me={},ke=[],ze=[],ut={s:{r:0,c:0},e:{r:0,c:0}},gt=J.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)J.Enum=ae,t(P,function(Ve,st,Ue){switch(Ue){case 0:J.vers=Ve,Ve>=4096&&(J.qpro=!0);break;case 6:ut=Ve;break;case 204:Ve&&(Be=Ve);break;case 222:Be=Ve;break;case 15:case 51:J.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:Ue==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=J.dateNF||Qa[14],J.cellDates&&(Ve[1].t="d",Ve[1].v=$6(Ve[1].v))),J.qpro&&Ve[3]>Re&&(te["!ref"]=xs(ut),Me[le]=te,ke.push(le),te=J.dense?[]:{},ut={s:{r:0,c:0},e:{r:0,c:0}},Re=Ve[3],le=Be||"Sheet"+(Re+1),Be="");var Je=J.dense?(te[Ve[0].r]||[])[Ve[0].c]:te[Zn(Ve[0])];if(Je){Je.t=Ve[1].t,Je.v=Ve[1].v,Ve[1].z!=null&&(Je.z=Ve[1].z),Ve[1].f!=null&&(Je.f=Ve[1].f);break}J.dense?(te[Ve[0].r]||(te[Ve[0].r]=[]),te[Ve[0].r][Ve[0].c]=Ve[1]):te[Zn(Ve[0])]=Ve[1];break}},J);else if(P[2]==26||P[2]==14)J.Enum=fe,P[2]==14&&(J.qpro=!0,P.l=0),t(P,function(Ve,st,Ue){switch(Ue){case 204:le=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>Re&&(te["!ref"]=xs(ut),Me[le]=te,ke.push(le),te=J.dense?[]:{},ut={s:{r:0,c:0},e:{r:0,c:0}},Re=Ve[3],le="Sheet"+(Re+1)),gt>0&&Ve[0].r>=gt)break;J.dense?(te[Ve[0].r]||(te[Ve[0].r]=[]),te[Ve[0].r][Ve[0].c]=Ve[1]):te[Zn(Ve[0])]=Ve[1],ut.e.c<Ve[0].c&&(ut.e.c=Ve[0].c),ut.e.r<Ve[0].r&&(ut.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(ze[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:ze[Ve[0]]=Ve[1],Ve[0]==Re&&(le=Ve[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(te["!ref"]=xs(ut),Me[Be||le]=te,ke.push(Be||le),!ze.length)return{SheetNames:ke,Sheets:Me};for(var Ct={},rt=[],ge=0;ge<ze.length;++ge)Me[ke[ge]]?(rt.push(ze[ge]||ke[ge]),Ct[ze[ge]]=Me[ze[ge]]||Me[ke[ge]]):(rt.push(ze[ge]),Ct[ze[ge]]={"!ref":"A1"});return{SheetNames:rt,Sheets:Ct}}function n(P,W){var J=W||{};if(+J.codepage>=0&&_h(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var te=Ji(),le=Ta(P["!ref"]),Be=Array.isArray(P),Re=[];Jt(te,0,s(1030)),Jt(te,6,g(le));for(var Me=Math.min(le.e.r,8191),ke=le.s.r;ke<=Me;++ke)for(var ze=ri(ke),ut=le.s.c;ut<=le.e.c;++ut){ke===le.s.r&&(Re[ut]=yi(ut));var gt=Re[ut]+ze,Ct=Be?(P[ke]||[])[ut]:P[gt];if(!(!Ct||Ct.t=="z"))if(Ct.t=="n")(Ct.v|0)==Ct.v&&Ct.v>=-32768&&Ct.v<=32767?Jt(te,13,_(ke,ut,Ct.v)):Jt(te,14,A(ke,ut,Ct.v));else{var rt=Uc(Ct);Jt(te,15,v(ke,ut,rt.slice(0,239)))}}return Jt(te,1),te.end()}function a(P,W){var J=W||{};if(+J.codepage>=0&&_h(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var te=Ji();Jt(te,0,c(P));for(var le=0,Be=0;le<P.SheetNames.length;++le)(P.Sheets[P.SheetNames[le]]||{})["!ref"]&&Jt(te,27,Ae(P.SheetNames[le],Be++));var Re=0;for(le=0;le<P.SheetNames.length;++le){var Me=P.Sheets[P.SheetNames[le]];if(!(!Me||!Me["!ref"])){for(var ke=Ta(Me["!ref"]),ze=Array.isArray(Me),ut=[],gt=Math.min(ke.e.r,8191),Ct=ke.s.r;Ct<=gt;++Ct)for(var rt=ri(Ct),ge=ke.s.c;ge<=ke.e.c;++ge){Ct===ke.s.r&&(ut[ge]=yi(ge));var Ve=ut[ge]+rt,st=ze?(Me[Ct]||[])[ge]:Me[Ve];if(!(!st||st.t=="z"))if(st.t=="n")Jt(te,23,re(Ct,ge,Re,st.v));else{var Ue=Uc(st);Jt(te,22,V(Ct,ge,Re,Ue.slice(0,239)))}}++Re}}return Jt(te,1),te.end()}function s(P){var W=St(2);return W.write_shift(2,P),W}function c(P){var W=St(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var J=0,te=0,le=0,Be=0;Be<P.SheetNames.length;++Be){var Re=P.SheetNames[Be],Me=P.Sheets[Re];if(!(!Me||!Me["!ref"])){++le;var ke=To(Me["!ref"]);J<ke.e.r&&(J=ke.e.r),te<ke.e.c&&(te=ke.e.c)}}return J>8191&&(J=8191),W.write_shift(2,J),W.write_shift(1,le),W.write_shift(1,te),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function h(P,W,J){var te={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&J.qpro?(te.s.c=P.read_shift(1),P.l++,te.s.r=P.read_shift(2),te.e.c=P.read_shift(1),P.l++,te.e.r=P.read_shift(2),te):(te.s.c=P.read_shift(2),te.s.r=P.read_shift(2),W==12&&J.qpro&&(P.l+=2),te.e.c=P.read_shift(2),te.e.r=P.read_shift(2),W==12&&J.qpro&&(P.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function g(P){var W=St(8);return W.write_shift(2,P.s.c),W.write_shift(2,P.s.r),W.write_shift(2,P.e.c),W.write_shift(2,P.e.r),W}function u(P,W,J){var te=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(te[0].c=P.read_shift(1),te[3]=P.read_shift(1),te[0].r=P.read_shift(2),P.l+=2):(te[2]=P.read_shift(1),te[0].c=P.read_shift(2),te[0].r=P.read_shift(2)),te}function m(P,W,J){var te=P.l+W,le=u(P,W,J);if(le[1].t="s",J.vers==20768){P.l++;var Be=P.read_shift(1);return le[1].v=P.read_shift(Be,"utf8"),le}return J.qpro&&P.l++,le[1].v=P.read_shift(te-P.l,"cstr"),le}function v(P,W,J){var te=St(7+J.length);te.write_shift(1,255),te.write_shift(2,W),te.write_shift(2,P),te.write_shift(1,39);for(var le=0;le<te.length;++le){var Be=J.charCodeAt(le);te.write_shift(1,Be>=128?95:Be)}return te.write_shift(1,0),te}function b(P,W,J){var te=u(P,W,J);return te[1].v=P.read_shift(2,"i"),te}function _(P,W,J){var te=St(7);return te.write_shift(1,255),te.write_shift(2,W),te.write_shift(2,P),te.write_shift(2,J,"i"),te}function C(P,W,J){var te=u(P,W,J);return te[1].v=P.read_shift(8,"f"),te}function A(P,W,J){var te=St(13);return te.write_shift(1,255),te.write_shift(2,W),te.write_shift(2,P),te.write_shift(8,J,"f"),te}function j(P,W,J){var te=P.l+W,le=u(P,W,J);if(le[1].v=P.read_shift(8,"f"),J.qpro)P.l=te;else{var Be=P.read_shift(2);X(P.slice(P.l,P.l+Be),le),P.l+=Be}return le}function L(P,W,J){var te=W&32768;return W&=-32769,W=(te?P:0)+(W>=8192?W-16384:W),(te?"":"$")+(J?yi(W):ri(W))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function X(P,W){Eo(P,0);for(var J=[],te=0,le="",Be="",Re="",Me="";P.l<P.length;){var ke=P[P.l++];switch(ke){case 0:J.push(P.read_shift(8,"f"));break;case 1:Be=L(W[0].c,P.read_shift(2),!0),le=L(W[0].r,P.read_shift(2),!1),J.push(Be+le);break;case 2:{var ze=L(W[0].c,P.read_shift(2),!0),ut=L(W[0].r,P.read_shift(2),!1);Be=L(W[0].c,P.read_shift(2),!0),le=L(W[0].r,P.read_shift(2),!1),J.push(ze+ut+":"+Be+le)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(P.read_shift(2));break;case 6:{for(var gt="";ke=P[P.l++];)gt+=String.fromCharCode(ke);J.push('"'+gt.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:Me=J.pop(),Re=J.pop(),J.push(["AND","OR"][ke-20]+"("+Re+","+Me+")");break;default:if(ke<32&&M[ke])Me=J.pop(),Re=J.pop(),J.push(Re+M[ke]+Me);else if(D[ke]){if(te=D[ke][1],te==69&&(te=P[P.l++]),te>J.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+J.join("|")+"|");return}var Ct=J.slice(-te);J.length-=te,J.push(D[ke][0]+"("+Ct.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}J.length==1?W[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function Q(P){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=P.read_shift(2),W[3]=P[P.l++],W[0].c=P[P.l++],W}function Y(P,W){var J=Q(P);return J[1].t="s",J[1].v=P.read_shift(W-4,"cstr"),J}function V(P,W,J,te){var le=St(6+te.length);le.write_shift(2,P),le.write_shift(1,J),le.write_shift(1,W),le.write_shift(1,39);for(var Be=0;Be<te.length;++Be){var Re=te.charCodeAt(Be);le.write_shift(1,Re>=128?95:Re)}return le.write_shift(1,0),le}function H(P,W){var J=Q(P);J[1].v=P.read_shift(2);var te=J[1].v>>1;if(J[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return J[1].v=te,J}function B(P,W){var J=Q(P),te=P.read_shift(4),le=P.read_shift(4),Be=P.read_shift(2);if(Be==65535)return te===0&&le===3221225472?(J[1].t="e",J[1].v=15):te===0&&le===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var Re=Be&32768;return Be=(Be&32767)-16446,J[1].v=(1-Re*2)*(le*Math.pow(2,Be+32)+te*Math.pow(2,Be)),J}function re(P,W,J,te){var le=St(14);if(le.write_shift(2,P),le.write_shift(1,J),le.write_shift(1,W),te==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Be=0,Re=0,Me=0,ke=0;return te<0&&(Be=1,te=-te),Re=Math.log2(te)|0,te/=Math.pow(2,Re-31),ke=te>>>0,(ke&2147483648)==0&&(te/=2,++Re,ke=te>>>0),te-=ke,ke|=2147483648,ke>>>=0,te*=Math.pow(2,32),Me=te>>>0,le.write_shift(4,Me),le.write_shift(4,ke),Re+=16383+(Be?32768:0),le.write_shift(2,Re),le}function q(P,W){var J=B(P);return P.l+=W-14,J}function G(P,W){var J=Q(P),te=P.read_shift(4);return J[1].v=te>>6,J}function se(P,W){var J=Q(P),te=P.read_shift(8,"f");return J[1].v=te,J}function ye(P,W){var J=se(P);return P.l+=W-10,J}function me(P,W){return P[P.l+W-1]==0?P.read_shift(W,"cstr"):""}function de(P,W){var J=P[P.l++];J>W-1&&(J=W-1);for(var te="";te.length<J;)te+=String.fromCharCode(P[P.l++]);return te}function we(P,W,J){if(!(!J.qpro||W<21)){var te=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var le=P.read_shift(W-21,"cstr");return[te,le]}}function Pe(P,W){for(var J={},te=P.l+W;P.l<te;){var le=P.read_shift(2);if(le==14e3){for(J[le]=[0,""],J[le][0]=P.read_shift(2);P[P.l];)J[le][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return J}function Ae(P,W){var J=St(5+P.length);J.write_shift(2,14e3),J.write_shift(2,W);for(var te=0;te<P.length;++te){var le=P.charCodeAt(te);J[J.l++]=le>127?95:le}return J[J.l++]=0,J}var ae={0:{n:"BOF",f:S8},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:h},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:C},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:j},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:de},65535:{n:""}},fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Y},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:H},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Pe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:se},40:{n:"FORMULA28",f:ye},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:we},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}(),fL=/^\s|\s$|[\t\n\r]/;function R8(t,e){if(!e.bookSST)return"";var r=[vs];r[r.length]=Zt("sst",null,{xmlns:ef[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(fL)&&(s+=' xml:space="preserve"'),s+=">"+Kn(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function hL(t){return[t.read_shift(4),t.read_shift(4)]}function gL(t,e){return e||(e=St(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var mL=sk;function pL(t){var e=Ji();qt(e,159,gL(t));for(var r=0;r<t.length;++r)qt(e,19,mL(t[r]));return qt(e,160),e.end()}function xL(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function k8(t){var e=0,r,n=xL(t),a=n.length+1,s,c,h,g,u;for(r=y0(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)c=r[s],h=(e&16384)===0?0:1,g=e<<1&32767,u=h|g,e=u^c;return e^52811}var vL=function(){function t(a,s){switch(s.type){case"base64":return e(Bc(a),s);case"binary":return e(a,s);case"buffer":return e(zn&&Buffer.isBuffer(a)?a.toString("binary"):Ih(a),s);case"array":return e(tp(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var c=s||{},h=c.dense?[]:{},g=a.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(m,v){Array.isArray(h)&&(h[v]=[]);for(var b=/\\\w+\b/g,_=0,C,A=-1;C=b.exec(m);){switch(C[0]){case"\\cell":var j=m.slice(_,b.lastIndex-C[0].length);if(j[0]==" "&&(j=j.slice(1)),++A,j.length){var L={v:j,t:"s"};Array.isArray(h)?h[v][A]=L:h[Zn({r:v,c:A})]=L}break}_=b.lastIndex}A>u.e.c&&(u.e.c=A)}),h["!ref"]=xs(u),h}function r(a,s){return S0(t(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],c=Ta(a["!ref"]),h,g=Array.isArray(a),u=c.s.r;u<=c.e.r;++u){s.push("\\trowd\\trautofit1");for(var m=c.s.c;m<=c.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=c.s.c;m<=c.e.c;++m){var v=Zn({r:u,c:m});h=g?(a[u]||[])[m]:a[v],!(!h||h.v==null&&(!h.f||h.F))&&(s.push(" "+(h.w||(Uc(h),h.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Q4(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var yL=6,Pc=yL;function _m(t){return Math.floor((t+Math.round(128/Pc)/256)*Pc)}function Em(t){return Math.floor((t-5)/Pc*100+.5)/100}function Bx(t){return Math.round((t*Pc+5)/Pc*256)/256}function Tv(t){t.width?(t.wpx=_m(t.width),t.wch=Em(t.wpx),t.MDW=Pc):t.wpx?(t.wch=Em(t.wpx),t.width=Bx(t.wch),t.MDW=Pc):typeof t.wch=="number"&&(t.width=Bx(t.wch),t.wpx=_m(t.width),t.MDW=Pc),t.customWidth&&delete t.customWidth}var wL=96,L8=wL;function Nm(t){return t*96/L8}function I8(t){return t*L8/96}function bL(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Zt("numFmt",null,{numFmtId:n,formatCode:Kn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Zt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function _L(t){var e=[];return e[e.length]=Zt("cellXfs",null),t.forEach(function(r){e[e.length]=Zt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Zt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function D8(t,e){var r=[vs,Zt("styleSheet",null,{xmlns:ef[0],"xmlns:vt":Bs.vt})],n;return t.SSF&&(n=bL(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=_L(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function EL(t,e){var r=t.read_shift(2),n=wi(t);return[r,n]}function NL(t,e,r){r||(r=St(6+4*e.length)),r.write_shift(2,t),zs(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function SL(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=fk(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var c=t.read_shift(1);c!=0&&(n.underline=c);var h=t.read_shift(1);h>0&&(n.family=h);var g=t.read_shift(1);switch(g>0&&(n.charset=g),t.l++,n.color=dk(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=wi(t),n}function AL(t,e){e||(e=St(25+4*32)),e.write_shift(2,t.sz*20),hk(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),wm(t.color,e);var n=0;return n=2,e.write_shift(1,n),zs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var CL=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Z2,TL=ac;function e5(t,e){e||(e=St(4*3+8*7+16*1)),Z2||(Z2=pv(CL));var r=Z2[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(wm({auto:1},e),wm({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function jL(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function P8(t,e,r){r||(r=St(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Jf(t,e){return e||(e=St(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var OL=ac;function RL(t,e){return e||(e=St(51)),e.write_shift(1,0),Jf(null,e),Jf(null,e),Jf(null,e),Jf(null,e),Jf(null,e),e.length>e.l?e.slice(0,e.l):e}function kL(t,e){return e||(e=St(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),ym(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function LL(t,e,r){var n=St(2052);return n.write_shift(4,t),ym(e,n),ym(r,n),n.length>n.l?n.slice(0,n.l):n}function IL(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(qt(t,615,Cl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&qt(t,44,NL(a,e[a]))}),qt(t,616))}}function DL(t){var e=1;qt(t,611,Cl(e)),qt(t,43,AL({sz:12,color:{theme:1},name:"Calibri",family:2})),qt(t,612)}function PL(t){var e=2;qt(t,603,Cl(e)),qt(t,45,e5({patternType:"none"})),qt(t,45,e5({patternType:"gray125"})),qt(t,604)}function FL(t){var e=1;qt(t,613,Cl(e)),qt(t,46,RL()),qt(t,614)}function ML(t){var e=1;qt(t,626,Cl(e)),qt(t,47,P8({numFmtId:0},65535)),qt(t,627)}function BL(t,e){qt(t,617,Cl(e.length)),e.forEach(function(r){qt(t,47,P8(r,0))}),qt(t,618)}function UL(t){var e=1;qt(t,619,Cl(e)),qt(t,48,kL({xfId:0,name:"Normal"})),qt(t,620)}function zL(t){var e=0;qt(t,505,Cl(e)),qt(t,506)}function HL(t){var e=0;qt(t,508,LL(e,"TableStyleMedium9","PivotStyleMedium4")),qt(t,509)}function qL(t,e){var r=Ji();return qt(r,278),IL(r,t.SSF),DL(r),PL(r),FL(r),ML(r),BL(r,e.cellXfs),UL(r),zL(r),HL(r),qt(r,279),r.end()}function F8(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[vs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function VL(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:wi(t)}}function WL(t){var e=St(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),zs(t.name,e),e.slice(0,e.l)}function GL(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function $L(t){var e=St(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function XL(t,e){var r=St(8+2*e.length);return r.write_shift(4,t),zs(e,r),r.slice(0,r.l)}function YL(t){return t.l+=4,t.read_shift(4)!=0}function KL(t,e){var r=St(8);return r.write_shift(4,t),r.write_shift(4,1),r}function ZL(){var t=Ji();return qt(t,332),qt(t,334,Cl(1)),qt(t,335,WL({name:"XLDAPR",version:12e4,flags:3496657072})),qt(t,336),qt(t,339,XL(1,"XLDAPR")),qt(t,52),qt(t,35,Cl(514)),qt(t,4096,Cl(0)),qt(t,4097,$o(1)),qt(t,36),qt(t,53),qt(t,340),qt(t,337,KL(1)),qt(t,51,$L([[1,0]])),qt(t,338),qt(t,333),t.end()}function M8(){var t=[vs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function JL(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Zn(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Rd=1024;function B8(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Zt("xml",null,{"xmlns:v":No.v,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:mv":No.mv}).replace(/\/>/,">"),Zt("o:shapelayout",Zt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Zt("v:shapetype",[Zt("v:stroke",null,{joinstyle:"miter"}),Zt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Rd<t*1e3;)Rd+=1e3;return e.forEach(function(s){var c=Us(s[0]),h={color2:"#BEFF82",type:"gradient"};h.type=="gradient"&&(h.angle="-180");var g=h.type=="gradient"?Zt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Zt("v:fill",g,h),m={on:"t",obscured:"t"};++Rd,a=a.concat(["<v:shape"+Ah({id:"_x0000_s"+Rd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Zt("v:shadow",null,m),Zt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ti("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),ti("x:AutoFill","False"),ti("x:Row",String(c.r)),ti("x:Column",String(c.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function U8(t){var e=[vs,Zt("comments",null,{xmlns:ef[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var s=Kn(a.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(g){g.a&&(a=r.indexOf(Kn(g.a))),s.push(g.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)e.push(ti("t",Kn(s[0]||"")));else{for(var c=`Comment:
    `+s[0]+`
`,h=1;h<s.length;++h)c+=`Reply:
    `+s[h]+`
`;e.push(ti("t",Kn(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function QL(t,e,r){var n=[vs,Zt("ThreadedComments",null,{xmlns:Bs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var s="";(a[1]||[]).forEach(function(c,h){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var g={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};h==0?s=g.id:g.parentId=s,c.ID=g.id,c.a&&(g.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),n.push(Zt("threadedComment",ti("text",c.t||""),g))})}),n.push("</ThreadedComments>"),n.join("")}function eI(t){var e=[vs,Zt("personList",null,{xmlns:Bs.TCMNT,"xmlns:x":ef[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Zt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function tI(t){var e={};e.iauthor=t.read_shift(4);var r=j0(t);return e.rfx=r.s,e.ref=Zn(r.s),t.l+=16,e}function rI(t,e){return e==null&&(e=St(36)),e.write_shift(4,t[1].iauthor),rf(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var nI=wi;function aI(t){return zs(t.slice(0,54))}function sI(t){var e=Ji(),r=[];return qt(e,628),qt(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),qt(e,632,aI(a.a)))})}),qt(e,631),qt(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Us(n[0]),e:Us(n[0])};qt(e,635,rI([s,a])),a.t&&a.t.length>0&&qt(e,637,ok(a)),qt(e,636),delete a.iauthor})}),qt(e,634),qt(e,629),e.end()}function iI(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&aa.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var z8=["xlsb","xlsm","xlam","biff8","xla"],oI=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,s,c){var h=!1,g=!1;s.length==0?g=!0:s.charAt(0)=="["&&(g=!0,s=s.slice(1,-1)),c.length==0?h=!0:c.charAt(0)=="["&&(h=!0,c=c.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,m=c.length>0?parseInt(c,10)|0:0;return h?m+=e.c:--m,g?u+=e.r:--u,a+(h?"":"$")+yi(m)+(g?"":"$")+ri(u)}return function(a,s){return e=s,a.replace(t,r)}}(),jv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ov=function(){return function(e,r){return e.replace(jv,function(n,a,s,c,h,g){var u=Ev(c)-(s?0:r.c),m=_v(g)-(h?0:r.r),v=m==0?"":h?m+1:"["+m+"]",b=u==0?"":s?u+1:"["+u+"]";return a+"R"+v+"C"+b})}}();function lI(t,e){return t.replace(jv,function(r,n,a,s,c,h){return n+(a=="$"?a+s:yi(Ev(s)+e.c))+(c=="$"?c+h:ri(_v(h)+e.r))})}function cI(t){return t.length!=1}function ps(t){t.l+=1}function ju(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function H8(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return q8(t);r.biff==12&&(n=4)}var a=t.read_shift(n),s=t.read_shift(n),c=ju(t),h=ju(t);return{s:{r:a,c:c[0],cRel:c[1],rRel:c[2]},e:{r:s,c:h[0],cRel:h[1],rRel:h[2]}}}function q8(t){var e=ju(t),r=ju(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function uI(t,e,r){if(r.biff<8)return q8(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),s=ju(t),c=ju(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function V8(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return dI(t);var n=t.read_shift(r&&r.biff==12?4:2),a=ju(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function dI(t){var e=ju(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function fI(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function hI(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return gI(t);var a=t.read_shift(n>=12?4:2),s=t.read_shift(2),c=(s&16384)>>14,h=(s&32768)>>15;if(s&=16383,h==1)for(;a>524287;)a-=1048576;if(c==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:c,rRel:h}}function gI(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function mI(t,e,r){var n=(t[t.l++]&96)>>5,a=H8(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function pI(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var c=H8(t,s,r);return[n,a,c]}function xI(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function vI(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,a]}function yI(t,e,r){var n=(t[t.l++]&96)>>5,a=uI(t,e-1,r);return[n,a]}function wI(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function t5(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function bI(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function _I(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function EI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function NI(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function SI(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function W8(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function AI(t){return t.read_shift(2),W8(t)}function CI(t){return t.read_shift(2),W8(t)}function TI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=V8(t,0,r);return[n,a]}function jI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=hI(t,0,r);return[n,a]}function OI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=V8(t,0,r);return[n,a,s]}function RI(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[RD[a],X8[a],n]}function kI(t,e,r){var n=t[t.l++],a=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:LI(t);return[a,(s[0]===0?X8:OD)[s[1]]]}function LI(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function II(t,e,r){t.l+=r&&r.biff==2?3:4}function DI(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function PI(t){return t.l++,Fh[t.read_shift(1)]}function FI(t){return t.l++,t.read_shift(2)}function MI(t){return t.l++,t.read_shift(1)!==0}function BI(t){return t.l++,nf(t)}function UI(t,e,r){return t.l++,C8(t,e-1,r)}function zI(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ok(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Fh[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=nf(t);break;case 2:r[1]=Ik(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function HI(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?j0:Fk)(t));return a}function qI(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,c=[];s!=n&&(c[s]=[]);++s)for(var h=0;h!=a;++h)c[s][h]=zI(t,r.biff);return c}function VI(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function WI(t,e,r){if(r.biff==5)return GI(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),s=t.read_shift(4);return[n,a,s]}function GI(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function $I(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function XI(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function YI(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function KI(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,a]}var ZI=ac,JI=ac,QI=ac;function Mh(t,e,r){return t.l+=2,[fI(t)]}function Rv(t){return t.l+=6,[]}var eD=Mh,tD=Rv,rD=Rv,nD=Mh;function G8(t){return t.l+=2,[S8(t),t.read_shift(2)&1]}var aD=Mh,sD=G8,iD=Rv,oD=Mh,lD=Mh,cD=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function uD(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),s=t.read_shift(2),c=cD[r>>2&31];return{ixti:e,coltype:r&3,rt:c,idx:n,c:a,C:s}}function dD(t){return t.l+=2,[t.read_shift(4)]}function fD(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function hD(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gD(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function mD(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function pD(t){return t.l+=4,[0,0]}var r5={1:{n:"PtgExp",f:DI},2:{n:"PtgTbl",f:QI},3:{n:"PtgAdd",f:ps},4:{n:"PtgSub",f:ps},5:{n:"PtgMul",f:ps},6:{n:"PtgDiv",f:ps},7:{n:"PtgPower",f:ps},8:{n:"PtgConcat",f:ps},9:{n:"PtgLt",f:ps},10:{n:"PtgLe",f:ps},11:{n:"PtgEq",f:ps},12:{n:"PtgGe",f:ps},13:{n:"PtgGt",f:ps},14:{n:"PtgNe",f:ps},15:{n:"PtgIsect",f:ps},16:{n:"PtgUnion",f:ps},17:{n:"PtgRange",f:ps},18:{n:"PtgUplus",f:ps},19:{n:"PtgUminus",f:ps},20:{n:"PtgPercent",f:ps},21:{n:"PtgParen",f:ps},22:{n:"PtgMissArg",f:ps},23:{n:"PtgStr",f:UI},26:{n:"PtgSheet",f:fD},27:{n:"PtgEndSheet",f:hD},28:{n:"PtgErr",f:PI},29:{n:"PtgBool",f:MI},30:{n:"PtgInt",f:FI},31:{n:"PtgNum",f:BI},32:{n:"PtgArray",f:wI},33:{n:"PtgFunc",f:RI},34:{n:"PtgFuncVar",f:kI},35:{n:"PtgName",f:VI},36:{n:"PtgRef",f:TI},37:{n:"PtgArea",f:mI},38:{n:"PtgMemArea",f:$I},39:{n:"PtgMemErr",f:ZI},40:{n:"PtgMemNoMem",f:JI},41:{n:"PtgMemFunc",f:XI},42:{n:"PtgRefErr",f:YI},43:{n:"PtgAreaErr",f:xI},44:{n:"PtgRefN",f:jI},45:{n:"PtgAreaN",f:yI},46:{n:"PtgMemAreaN",f:gD},47:{n:"PtgMemNoMemN",f:mD},57:{n:"PtgNameX",f:WI},58:{n:"PtgRef3d",f:OI},59:{n:"PtgArea3d",f:pI},60:{n:"PtgRefErr3d",f:KI},61:{n:"PtgAreaErr3d",f:vI},255:{}},xD={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},vD={1:{n:"PtgElfLel",f:G8},2:{n:"PtgElfRw",f:oD},3:{n:"PtgElfCol",f:eD},6:{n:"PtgElfRwV",f:lD},7:{n:"PtgElfColV",f:nD},10:{n:"PtgElfRadical",f:aD},11:{n:"PtgElfRadicalS",f:iD},13:{n:"PtgElfColS",f:tD},15:{n:"PtgElfColSV",f:rD},16:{n:"PtgElfRadicalLel",f:sD},25:{n:"PtgList",f:uD},29:{n:"PtgSxName",f:dD},255:{}},yD={0:{n:"PtgAttrNoop",f:pD},1:{n:"PtgAttrSemi",f:SI},2:{n:"PtgAttrIf",f:EI},4:{n:"PtgAttrChoose",f:bI},8:{n:"PtgAttrGoto",f:_I},16:{n:"PtgAttrSum",f:II},32:{n:"PtgAttrBaxcel",f:t5},33:{n:"PtgAttrBaxcel",f:t5},64:{n:"PtgAttrSpace",f:AI},65:{n:"PtgAttrSpaceSemi",f:CI},128:{n:"PtgAttrIfError",f:NI},255:{}};function wD(t,e,r,n){if(n.biff<8)return ac(t,e);for(var a=t.l+e,s=[],c=0;c!==r.length;++c)switch(r[c][0]){case"PtgArray":r[c][1]=qI(t,0,n),s.push(r[c][1]);break;case"PtgMemArea":r[c][2]=HI(t,r[c][1],n),s.push(r[c][2]);break;case"PtgExp":n&&n.biff==12&&(r[c][1][1]=t.read_shift(4),s.push(r[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[c][0]}return e=a-t.l,e!==0&&s.push(ac(t,e)),s}function bD(t,e,r){for(var n=t.l+e,a,s,c=[];n!=t.l;)e=n-t.l,s=t[t.l],a=r5[s]||r5[xD[s]],(s===24||s===25)&&(a=(s===24?vD:yD)[t[t.l+1]]),!a||!a.f?ac(t,e):c.push([a.n,a.f(t,e,r)]);return c}function _D(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],s=0;s<n.length;++s){var c=n[s];if(c)switch(c[0]){case 2:a.push('"'+c[1].replace(/"/g,'""')+'"');break;default:a.push(c[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var ED={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ND(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function $8(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function n5(t,e,r){var n=$8(t,e,r);return n=="#REF"?n:ND(n,r)}function qd(t,e,r,n,a){var s=a&&a.biff||8,c={s:{c:0,r:0}},h=[],g,u,m,v=0,b=0,_,C="";if(!t[0]||!t[0][0])return"";for(var A=-1,j="",L=0,D=t[0].length;L<D;++L){var M=t[0][L];switch(M[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=h.pop(),u=h.pop(),A>=0){switch(t[0][A][1][0]){case 0:j=Ja(" ",t[0][A][1][1]);break;case 1:j=Ja("\r",t[0][A][1][1]);break;default:if(j="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}u=u+j,A=-1}h.push(u+ED[M[0]]+g);break;case"PtgIsect":g=h.pop(),u=h.pop(),h.push(u+" "+g);break;case"PtgUnion":g=h.pop(),u=h.pop(),h.push(u+","+g);break;case"PtgRange":g=h.pop(),u=h.pop(),h.push(u+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=mh(M[1][1],c,a),h.push(ph(m,s));break;case"PtgRefN":m=r?mh(M[1][1],r,a):M[1][1],h.push(ph(m,s));break;case"PtgRef3d":v=M[1][1],m=mh(M[1][2],c,a),C=n5(n,v,a),h.push(C+"!"+ph(m,s));break;case"PtgFunc":case"PtgFuncVar":var X=M[1][0],Q=M[1][1];X||(X=0),X&=127;var Y=X==0?[]:h.slice(-X);h.length-=X,Q==="User"&&(Q=Y.shift()),h.push(Q+"("+Y.join(",")+")");break;case"PtgBool":h.push(M[1]?"TRUE":"FALSE");break;case"PtgInt":h.push(M[1]);break;case"PtgNum":h.push(String(M[1]));break;case"PtgStr":h.push('"'+M[1].replace(/"/g,'""')+'"');break;case"PtgErr":h.push(M[1]);break;case"PtgAreaN":_=z4(M[1][1],r?{s:r}:c,a),h.push(Y2(_,a));break;case"PtgArea":_=z4(M[1][1],c,a),h.push(Y2(_,a));break;case"PtgArea3d":v=M[1][1],_=M[1][2],C=n5(n,v,a),h.push(C+"!"+Y2(_,a));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=M[1][2];var V=(n.names||[])[b-1]||(n[0]||[])[b],H=V?V.Name:"SH33TJSNAME"+String(b);H&&H.slice(0,6)=="_xlfn."&&!a.xlfn&&(H=H.slice(6)),h.push(H);break;case"PtgNameX":var B=M[1][1];b=M[1][2];var re;if(a.biff<=5)B<0&&(B=-B),n[B]&&(re=n[B][b]);else{var q="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][b]&&n[B][b].itab>0&&(q=n.SheetNames[n[B][b].itab-1]+"!"):q=n.SheetNames[b-1]+"!"),n[B]&&n[B][b])q+=n[B][b].Name;else if(n[0]&&n[0][b])q+=n[0][b].Name;else{var G=($8(n,B,a)||"").split(";;");G[b-1]?q=G[b-1]:q+="SH33TJSERRX"}h.push(q);break}re||(re={Name:"SH33TJSERRY"}),h.push(re.Name);break;case"PtgParen":var se="(",ye=")";if(A>=0){switch(j="",t[0][A][1][0]){case 2:se=Ja(" ",t[0][A][1][1])+se;break;case 3:se=Ja("\r",t[0][A][1][1])+se;break;case 4:ye=Ja(" ",t[0][A][1][1])+ye;break;case 5:ye=Ja("\r",t[0][A][1][1])+ye;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}h.push(se+h.pop()+ye);break;case"PtgRefErr":h.push("#REF!");break;case"PtgRefErr3d":h.push("#REF!");break;case"PtgExp":m={c:M[1][1],r:M[1][0]};var me={c:r.c,r:r.r};if(n.sharedf[Zn(m)]){var de=n.sharedf[Zn(m)];h.push(qd(de,c,me,n,a))}else{var we=!1;for(g=0;g!=n.arrayf.length;++g)if(u=n.arrayf[g],!(m.c<u[0].s.c||m.c>u[0].e.c)&&!(m.r<u[0].s.r||m.r>u[0].e.r)){h.push(qd(u[1],c,me,n,a)),we=!0;break}we||h.push(M[1])}break;case"PtgArray":h.push("{"+_D(M[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=L;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":h.push("");break;case"PtgAreaErr":h.push("#REF!");break;case"PtgAreaErr3d":h.push("#REF!");break;case"PtgList":h.push("Table"+M[1].idx+"[#"+M[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(M));default:throw new Error("Unrecognized Formula Token: "+String(M))}var Pe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&A>=0&&Pe.indexOf(t[0][L][0])==-1){M=t[0][A];var Ae=!0;switch(M[1][0]){case 4:Ae=!1;case 0:j=Ja(" ",M[1][1]);break;case 5:Ae=!1;case 1:j=Ja("\r",M[1][1]);break;default:if(j="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+M[1][0])}h.push((Ae?j:"")+h.pop()+(Ae?"":j)),A=-1}}if(h.length>1&&a.WTF)throw new Error("bad formula stack");return h[0]}function SD(t){if(t==null){var e=St(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return w0(t);return w0(0)}function AD(t,e,r,n,a){var s=b0(e,r,a),c=SD(t.v),h=St(6),g=33;h.write_shift(2,g),h.write_shift(4,0);for(var u=St(t.bf.length),m=0;m<t.bf.length;++m)u[m]=t.bf[m];var v=ei([s,c,h,u]);return v}function rp(t,e,r){var n=t.read_shift(4),a=bD(t,n,r),s=t.read_shift(4),c=s>0?wD(t,s,a,r):null;return[a,c]}var CD=rp,np=rp,TD=rp,jD=rp,OD={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},X8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},RD={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kD(t){var e="of:="+t.replace(jv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function LD(t){return t.replace(/\./,"!")}var xh=typeof Map!="undefined";function kv(t,e,r){var n=0,a=t.length;if(r){if(xh?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=xh?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(xh?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function ap(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Pc=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Em(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Bx(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Y8(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Lu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,s=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){V6(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=s;++a)if(t[a].numFmtId===n)return a;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function ID(t,e,r){if(t&&t["!ref"]){var n=Ta(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function DD(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+xs(t[r])+'"/>';return e+"</mergeCells>"}function PD(t,e,r,n,a){var s=!1,c={},h=null;if(n.bookType!=="xlsx"&&e.vbaraw){var g=e.SheetNames[r];try{e.Workbook&&(g=e.Workbook.Sheets[r].CodeName||g)}catch(m){}s=!0,c.codeName=Sh(Kn(g))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),h=(h||"")+Zt("outlinePr",null,u)}!s&&!h||(a[a.length]=Zt("sheetPr",h,c))}var FD=["objects","scenarios","selectLockedCells","selectUnlockedCells"],MD=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function BD(t){var e={sheet:1};return FD.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),MD.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=k8(t.password).toString(16).toUpperCase()),Zt("sheetProtection",null,e)}function UD(t){return Y8(t),Zt("pageMargins",null,t)}function zD(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=Zt("col",null,ap(a,n)));return r[r.length]="</cols>",r.join("")}function HD(t,e,r,n){var a=typeof t.ref=="string"?t.ref:xs(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,c=To(a);c.s.r==c.e.r&&(c.e.r=To(e["!ref"]).e.r,a=xs(c));for(var h=0;h<s.length;++h){var g=s[h];if(g.Name=="_xlnm._FilterDatabase"&&g.Sheet==n){g.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return h==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Zt("autoFilter",null,{ref:a})}function qD(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Zt("sheetViews",Zt("sheetView",null,a),{})}function VD(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",s=t.t,c=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=Fh[t.v];break;case"d":n&&n.cellDates?a=Li(t.v,-1).toISOString():(t=eo(t),t.t="n",a=""+(t.v=Qi(Li(t.v)))),typeof t.z=="undefined"&&(t.z=Qa[14]);break;default:a=t.v;break}var h=ti("v",Kn(a)),g={r:e},u=Lu(n.cellXfs,t,n);switch(u!==0&&(g.s=u),t.t){case"n":break;case"d":g.t="d";break;case"b":g.t="b";break;case"e":g.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){h=ti("v",""+kv(n.Strings,t.v,n.revStrings)),g.t="s";break}g.t="str";break}if(t.t!=s&&(t.t=s,t.v=c),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;h=Zt("f",Kn(t.f),m)+(t.v!=null?h:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(g.cm=1),Zt("c",h,g)}function WD(t,e,r,n){var a=[],s=[],c=Ta(t["!ref"]),h="",g,u="",m=[],v=0,b=0,_=t["!rows"],C=Array.isArray(t),A={r:u},j,L=-1;for(b=c.s.c;b<=c.e.c;++b)m[b]=yi(b);for(v=c.s.r;v<=c.e.r;++v){for(s=[],u=ri(v),b=c.s.c;b<=c.e.c;++b){g=m[b]+u;var D=C?(t[v]||[])[b]:t[g];D!==void 0&&(h=VD(D,g,t,e))!=null&&s.push(h)}(s.length>0||_&&_[v])&&(A={r:u},_&&_[v]&&(j=_[v],j.hidden&&(A.hidden=1),L=-1,j.hpx?L=Nm(j.hpx):j.hpt&&(L=j.hpt),L>-1&&(A.ht=L,A.customHeight=1),j.level&&(A.outlineLevel=j.level)),a[a.length]=Zt("row",s.join(""),A))}if(_)for(;v<_.length;++v)_&&_[v]&&(A={r:v+1},j=_[v],j.hidden&&(A.hidden=1),L=-1,j.hpx?L=Nm(j.hpx):j.hpt&&(L=j.hpt),L>-1&&(A.ht=L,A.customHeight=1),j.level&&(A.outlineLevel=j.level),a[a.length]=Zt("row","",A));return a.join("")}function K8(t,e,r,n){var a=[vs,Zt("worksheet",null,{xmlns:ef[0],"xmlns:r":Bs.r})],s=r.SheetNames[t],c=0,h="",g=r.Sheets[s];g==null&&(g={});var u=g["!ref"]||"A1",m=Ta(u);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),u=xs(m)}n||(n={}),g["!comments"]=[];var v=[];PD(g,r,t,e,a),a[a.length]=Zt("dimension",null,{ref:u}),a[a.length]=qD(g,e,t,r),e.sheetFormat&&(a[a.length]=Zt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),g["!cols"]!=null&&g["!cols"].length>0&&(a[a.length]=zD(g,g["!cols"])),a[c=a.length]="<sheetData/>",g["!links"]=[],g["!ref"]!=null&&(h=WD(g,e),h.length>0&&(a[a.length]=h)),a.length>c+1&&(a[a.length]="</sheetData>",a[c]=a[c].replace("/>",">")),g["!protect"]&&(a[a.length]=BD(g["!protect"])),g["!autofilter"]!=null&&(a[a.length]=HD(g["!autofilter"],g,r,t)),g["!merges"]!=null&&g["!merges"].length>0&&(a[a.length]=DD(g["!merges"]));var b=-1,_,C=-1;return g["!links"].length>0&&(a[a.length]="<hyperlinks>",g["!links"].forEach(function(A){A[1].Target&&(_={ref:A[0]},A[1].Target.charAt(0)!="#"&&(C=Xn(n,-1,Kn(A[1].Target).replace(/#.*$/,""),Bn.HLINK),_["r:id"]="rId"+C),(b=A[1].Target.indexOf("#"))>-1&&(_.location=Kn(A[1].Target.slice(b+1))),A[1].Tooltip&&(_.tooltip=Kn(A[1].Tooltip)),a[a.length]=Zt("hyperlink",null,_))}),a[a.length]="</hyperlinks>"),delete g["!links"],g["!margins"]!=null&&(a[a.length]=UD(g["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=ti("ignoredErrors",Zt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),v.length>0&&(C=Xn(n,-1,"../drawings/drawing"+(t+1)+".xml",Bn.DRAW),a[a.length]=Zt("drawing",null,{"r:id":"rId"+C}),g["!drawing"]=v),g["!comments"].length>0&&(C=Xn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Bn.VML),a[a.length]=Zt("legacyDrawing",null,{"r:id":"rId"+C}),g["!legacy"]=C),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function GD(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function $D(t,e,r){var n=St(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;a.hpx?s=Nm(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var c=0;a.level&&(c|=a.level),a.hidden&&(c|=16),(a.hpx||a.hpt)&&(c|=32),n.write_shift(1,c),n.write_shift(1,0);var h=0,g=n.l;n.l+=4;for(var u={r:t,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var v=-1,b=-1,_=m<<10;_<m+1<<10;++_){u.c=_;var C=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Zn(u)];C&&(v<0&&(v=_),b=_)}v<0||(++h,n.write_shift(4,v),n.write_shift(4,b))}var A=n.l;return n.l=g,n.write_shift(4,h),n.l=A,n.length>n.l?n.slice(0,n.l):n}function XD(t,e,r,n){var a=$D(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&qt(t,0,a)}var YD=j0,KD=rf;function ZD(){}function JD(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=lk(t),r}function QD(t,e,r){r==null&&(r=St(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return wm({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),d8(t,r),r.slice(0,r.l)}function eP(t){var e=Zo(t);return[e]}function tP(t,e,r){return r==null&&(r=St(8)),A0(e,r)}function rP(t){var e=C0(t);return[e]}function nP(t,e,r){return r==null&&(r=St(4)),T0(e,r)}function aP(t){var e=Zo(t),r=t.read_shift(1);return[e,r,"b"]}function sP(t,e,r){return r==null&&(r=St(9)),A0(e,r),r.write_shift(1,t.v?1:0),r}function iP(t){var e=C0(t),r=t.read_shift(1);return[e,r,"b"]}function oP(t,e,r){return r==null&&(r=St(5)),T0(e,r),r.write_shift(1,t.v?1:0),r}function lP(t){var e=Zo(t),r=t.read_shift(1);return[e,r,"e"]}function cP(t,e,r){return r==null&&(r=St(9)),A0(e,r),r.write_shift(1,t.v),r}function uP(t){var e=C0(t),r=t.read_shift(1);return[e,r,"e"]}function dP(t,e,r){return r==null&&(r=St(8)),T0(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function fP(t){var e=Zo(t),r=t.read_shift(4);return[e,r,"s"]}function hP(t,e,r){return r==null&&(r=St(12)),A0(e,r),r.write_shift(4,e.v),r}function gP(t){var e=C0(t),r=t.read_shift(4);return[e,r,"s"]}function mP(t,e,r){return r==null&&(r=St(8)),T0(e,r),r.write_shift(4,e.v),r}function pP(t){var e=Zo(t),r=nf(t);return[e,r,"n"]}function xP(t,e,r){return r==null&&(r=St(16)),A0(e,r),w0(t.v,r),r}function vP(t){var e=C0(t),r=nf(t);return[e,r,"n"]}function yP(t,e,r){return r==null&&(r=St(12)),T0(e,r),w0(t.v,r),r}function wP(t){var e=Zo(t),r=f8(t);return[e,r,"n"]}function bP(t,e,r){return r==null&&(r=St(12)),A0(e,r),h8(t.v,r),r}function _P(t){var e=C0(t),r=f8(t);return[e,r,"n"]}function EP(t,e,r){return r==null&&(r=St(8)),T0(e,r),h8(t.v,r),r}function NP(t){var e=Zo(t),r=Nv(t);return[e,r,"is"]}function SP(t){var e=Zo(t),r=wi(t);return[e,r,"str"]}function AP(t,e,r){return r==null&&(r=St(12+4*t.v.length)),A0(e,r),zs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function CP(t){var e=C0(t),r=wi(t);return[e,r,"str"]}function TP(t,e,r){return r==null&&(r=St(8+4*t.v.length)),T0(e,r),zs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function jP(t,e,r){var n=t.l+e,a=Zo(t);a.r=r["!row"];var s=t.read_shift(1),c=[a,s,"b"];if(r.cellFormula){t.l+=2;var h=np(t,n-t.l,r);c[3]=qd(h,null,a,r.supbooks,r)}else t.l=n;return c}function OP(t,e,r){var n=t.l+e,a=Zo(t);a.r=r["!row"];var s=t.read_shift(1),c=[a,s,"e"];if(r.cellFormula){t.l+=2;var h=np(t,n-t.l,r);c[3]=qd(h,null,a,r.supbooks,r)}else t.l=n;return c}function RP(t,e,r){var n=t.l+e,a=Zo(t);a.r=r["!row"];var s=nf(t),c=[a,s,"n"];if(r.cellFormula){t.l+=2;var h=np(t,n-t.l,r);c[3]=qd(h,null,a,r.supbooks,r)}else t.l=n;return c}function kP(t,e,r){var n=t.l+e,a=Zo(t);a.r=r["!row"];var s=wi(t),c=[a,s,"str"];if(r.cellFormula){t.l+=2;var h=np(t,n-t.l,r);c[3]=qd(h,null,a,r.supbooks,r)}else t.l=n;return c}var LP=j0,IP=rf;function DP(t,e){return e==null&&(e=St(4)),e.write_shift(4,t),e}function PP(t,e){var r=t.l+e,n=j0(t),a=Sv(t),s=wi(t),c=wi(t),h=wi(t);t.l=r;var g={rfx:n,relId:a,loc:s,display:h};return c&&(g.Tooltip=c),g}function FP(t,e){var r=St(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));rf({s:Us(t[0]),e:Us(t[0])},r),Av("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return zs(a||"",r),zs(t[1].Tooltip||"",r),zs("",r),r.slice(0,r.l)}function MP(){}function BP(t,e,r){var n=t.l+e,a=g8(t),s=t.read_shift(1),c=[a];if(c[2]=s,r.cellFormula){var h=CD(t,n-t.l,r);c[1]=h}else t.l=n;return c}function UP(t,e,r){var n=t.l+e,a=j0(t),s=[a];if(r.cellFormula){var c=jD(t,n-t.l,r);s[1]=c,t.l=n}else t.l=n;return s}function zP(t,e,r){r==null&&(r=St(18));var n=ap(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var Z8=["left","right","top","bottom","header","footer"];function HP(t){var e={};return Z8.forEach(function(r){e[r]=nf(t)}),e}function qP(t,e){return e==null&&(e=St(6*8)),Y8(t),Z8.forEach(function(r){w0(t[r],e)}),e}function VP(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function WP(t,e,r){r==null&&(r=St(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function GP(t){var e=St(24);return e.write_shift(4,4),e.write_shift(4,1),rf(t,e),e}function $P(t,e){return e==null&&(e=St(16*4+2)),e.write_shift(2,t.password?k8(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function XP(){}function YP(){}function KP(t,e,r,n,a,s,c){if(e.v===void 0)return!1;var h="";switch(e.t){case"b":h=e.v?"1":"0";break;case"d":e=eo(e),e.z=e.z||Qa[14],e.v=Qi(Li(e.v)),e.t="n";break;case"n":case"e":h=""+e.v;break;default:h=e.v;break}var g={r,c:n};switch(g.s=Lu(a.cellXfs,e,a),e.l&&s["!links"].push([Zn(g),e.l]),e.c&&s["!comments"].push([Zn(g),e.c]),e.t){case"s":case"str":return a.bookSST?(h=kv(a.Strings,e.v,a.revStrings),g.t="s",g.v=h,c?qt(t,18,mP(e,g)):qt(t,7,hP(e,g))):(g.t="str",c?qt(t,17,TP(e,g)):qt(t,6,AP(e,g))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?qt(t,13,EP(e,g)):qt(t,2,bP(e,g)):c?qt(t,16,yP(e,g)):qt(t,5,xP(e,g)),!0;case"b":return g.t="b",c?qt(t,15,oP(e,g)):qt(t,4,sP(e,g)),!0;case"e":return g.t="e",c?qt(t,14,dP(e,g)):qt(t,3,cP(e,g)),!0}return c?qt(t,12,nP(e,g)):qt(t,1,tP(e,g)),!0}function ZP(t,e,r,n){var a=Ta(e["!ref"]||"A1"),s,c="",h=[];qt(t,145);var g=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var m=a.s.r;m<=u;++m){c=ri(m),XD(t,e,a,m);var v=!1;if(m<=a.e.r)for(var b=a.s.c;b<=a.e.c;++b){m===a.s.r&&(h[b]=yi(b)),s=h[b]+c;var _=g?(e[m]||[])[b]:e[s];if(!_){v=!1;continue}v=KP(t,_,m,b,n,e,v)}}qt(t,146)}function JP(t,e){!e||!e["!merges"]||(qt(t,177,DP(e["!merges"].length)),e["!merges"].forEach(function(r){qt(t,176,IP(r))}),qt(t,178))}function QP(t,e){!e||!e["!cols"]||(qt(t,390),e["!cols"].forEach(function(r,n){r&&qt(t,60,zP(n,r))}),qt(t,391))}function eF(t,e){!e||!e["!ref"]||(qt(t,648),qt(t,649,GP(Ta(e["!ref"]))),qt(t,650))}function tF(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=Xn(r,-1,n[1].Target.replace(/#.*$/,""),Bn.HLINK);qt(t,494,FP(n,a))}}),delete e["!links"]}function rF(t,e,r,n){if(e["!comments"].length>0){var a=Xn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Bn.VML);qt(t,551,Av("rId"+a)),e["!legacy"]=a}}function nF(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],s=typeof a.ref=="string"?a.ref:xs(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var c=r.Workbook.Names,h=To(s);h.s.r==h.e.r&&(h.e.r=To(e["!ref"]).e.r,s=xs(h));for(var g=0;g<c.length;++g){var u=c[g];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}g==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),qt(t,161,rf(Ta(s))),qt(t,162)}}function aF(t,e,r){qt(t,133),qt(t,137,WP(e,r)),qt(t,138),qt(t,134)}function sF(t,e){e["!protect"]&&qt(t,535,$P(e["!protect"]))}function iF(t,e,r,n){var a=Ji(),s=r.SheetNames[t],c=r.Sheets[s]||{},h=s;try{r&&r.Workbook&&(h=r.Workbook.Sheets[t].CodeName||h)}catch(u){}var g=Ta(c["!ref"]||"A1");if(g.e.c>16383||g.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],qt(a,129),(r.vbaraw||c["!outline"])&&qt(a,147,QD(h,c["!outline"])),qt(a,148,KD(g)),aF(a,c,r.Workbook),QP(a,c),ZP(a,c,t,e),sF(a,c),nF(a,c,r,t),JP(a,c),tF(a,c,n),c["!margins"]&&qt(a,476,qP(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&eF(a,c),rF(a,c,t,n),qt(a,130),a.end()}function oF(t,e){t.l+=10;var r=wi(t);return{name:r}}var lF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function cF(t){return!t.Workbook||!t.Workbook.WBProps?"false":UR(t.Workbook.WBProps.date1904)?"true":"false"}var uF="][*?/\\".split("");function J8(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return uF.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function dF(t,e,r){t.forEach(function(n,a){J8(n);for(var s=0;s<a;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var c=e&&e[a]&&e[a].CodeName||n;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function fF(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];dF(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)ID(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function Q8(t){var e=[vs];e[e.length]=Zt("workbook",null,{xmlns:ef[0],"xmlns:r":Bs.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(lF.forEach(function(h){t.Workbook.WBProps[h[0]]!=null&&t.Workbook.WBProps[h[0]]!=h[1]&&(n[h[0]]=t.Workbook.WBProps[h[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Zt("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var c={name:Kn(t.SheetNames[s].slice(0,31))};if(c.sheetId=""+(s+1),c["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=Zt("sheet",null,c)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(h){var g={name:h.Name};h.Comment&&(g.comment=h.Comment),h.Sheet!=null&&(g.localSheetId=""+h.Sheet),h.Hidden&&(g.hidden="1"),h.Ref&&(e[e.length]=Zt("definedName",Kn(h.Ref),g))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function hF(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Mx(t),r.name=wi(t),r}function gF(t,e){return e||(e=St(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Av(t.strRelID,e),zs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function mF(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?wi(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function pF(t,e){e||(e=St(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),d8(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function xF(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),s=ck(t),c=TD(t,0,r),h=Sv(t);t.l=n;var g={Name:s,Ptg:c};return a<268435455&&(g.Sheet=a),h&&(g.Comment=h),g}function vF(t,e){qt(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};qt(t,156,gF(a))}qt(t,144)}function yF(t,e){e||(e=St(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return zs("SheetJS",e),zs(hm.version,e),zs(hm.version,e),zs("7262",e),e.length>e.l?e.slice(0,e.l):e}function wF(t,e){e||(e=St(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function bF(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(qt(t,135),qt(t,158,wF(a)),qt(t,136))}}function _F(t,e){var r=Ji();return qt(r,131),qt(r,128,yF()),qt(r,153,pF(t.Workbook&&t.Workbook.WBProps||null)),bF(r,t),vF(r,t),qt(r,132),r.end()}function EF(t,e,r){return(e.slice(-4)===".bin"?_F:Q8)(t)}function NF(t,e,r,n,a){return(e.slice(-4)===".bin"?iF:K8)(t,r,n,a)}function SF(t,e,r){return(e.slice(-4)===".bin"?qL:D8)(t,r)}function AF(t,e,r){return(e.slice(-4)===".bin"?pL:R8)(t,r)}function CF(t,e,r){return(e.slice(-4)===".bin"?sI:U8)(t)}function TF(t){return(t.slice(-4)===".bin"?ZL:M8)()}function jF(t,e){var r=[];return t.Props&&r.push(Sk(t.Props,e)),t.Custprops&&r.push(Ak(t.Props,t.Custprops)),r.join("")}function OF(){return""}function RF(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var s=[];s.push(Zt("NumberFormat",null,{"ss:Format":Kn(Qa[n.numFmtId])}));var c={"ss:ID":"s"+(21+a)};r.push(Zt("Style",s.join(""),c))}),Zt("Styles",r.join(""))}function eE(t){return Zt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Ov(t.Ref,{r:0,c:0})})}function kF(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(eE(a)))}return Zt("Names",r.join(""))}function LF(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],c=0;c<a.length;++c){var h=a[c];h.Sheet==r&&(h.Name.match(/^_xlfn\./)||s.push(eE(h)))}return s.join("")}function IF(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(Zt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(Zt("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(Zt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Zt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(ti("ProtectContents","True")),t["!protect"].objects&&a.push(ti("ProtectObjects","True")),t["!protect"].scenarios&&a.push(ti("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(ti("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(ti("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){t["!protect"][c[0]]&&a.push("<"+c[1]+"/>")})),a.length==0?"":Zt("WorksheetOptions",a.join(""),{xmlns:No.x})}function DF(t){return t.map(function(e){var r=BR(e.t||""),n=Zt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Zt("Comment",n,{"ss:Author":e.a})}).join("")}function PF(t,e,r,n,a,s,c){if(!t||t.v==null&&t.f==null)return"";var h={};if(t.f&&(h["ss:Formula"]="="+Kn(Ov(t.f,c))),t.F&&t.F.slice(0,e.length)==e){var g=Us(t.F.slice(e.length+1));h["ss:ArrayRange"]="RC:R"+(g.r==c.r?"":"["+(g.r-c.r)+"]")+"C"+(g.c==c.c?"":"["+(g.c-c.c)+"]")}if(t.l&&t.l.Target&&(h["ss:HRef"]=Kn(t.l.Target),t.l.Tooltip&&(h["x:HRefScreenTip"]=Kn(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],m=0;m!=u.length;++m)u[m].s.c!=c.c||u[m].s.r!=c.r||(u[m].e.c>u[m].s.c&&(h["ss:MergeAcross"]=u[m].e.c-u[m].s.c),u[m].e.r>u[m].s.r&&(h["ss:MergeDown"]=u[m].e.r-u[m].s.r));var v="",b="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":v="Number",b=String(t.v);break;case"b":v="Boolean",b=t.v?"1":"0";break;case"e":v="Error",b=Fh[t.v];break;case"d":v="DateTime",b=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Qa[14]);break;case"s":v="String",b=MR(t.v||"");break}var _=Lu(n.cellXfs,t,n);h["ss:StyleID"]="s"+(21+_),h["ss:Index"]=c.c+1;var C=t.v!=null?b:"",A=t.t=="z"?"":'<Data ss:Type="'+v+'">'+C+"</Data>";return(t.c||[]).length>0&&(A+=DF(t.c)),Zt("Cell",A,h)}function FF(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=I8(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function MF(t,e,r,n){if(!t["!ref"])return"";var a=Ta(t["!ref"]),s=t["!merges"]||[],c=0,h=[];t["!cols"]&&t["!cols"].forEach(function(j,L){Tv(j);var D=!!j.width,M=ap(L,j),X={"ss:Index":L+1};D&&(X["ss:Width"]=_m(M.width)),j.hidden&&(X["ss:Hidden"]="1"),h.push(Zt("Column",null,X))});for(var g=Array.isArray(t),u=a.s.r;u<=a.e.r;++u){for(var m=[FF(u,(t["!rows"]||[])[u])],v=a.s.c;v<=a.e.c;++v){var b=!1;for(c=0;c!=s.length;++c)if(!(s[c].s.c>v)&&!(s[c].s.r>u)&&!(s[c].e.c<v)&&!(s[c].e.r<u)){(s[c].s.c!=v||s[c].s.r!=u)&&(b=!0);break}if(!b){var _={r:u,c:v},C=Zn(_),A=g?(t[u]||[])[v]:t[C];m.push(PF(A,C,t,e,r,n,_))}}m.push("</Row>"),m.length>2&&h.push(m.join(""))}return h.join("")}function BF(t,e,r){var n=[],a=r.SheetNames[t],s=r.Sheets[a],c=s?LF(s,e,t,r):"";return c.length>0&&n.push("<Names>"+c+"</Names>"),c=s?MF(s,e,t,r):"",c.length>0&&n.push("<Table>"+c+"</Table>"),n.push(IF(s,e,t,r)),n.join("")}function UF(t,e){e||(e={}),t.SSF||(t.SSF=eo(Qa)),t.SSF&&(Qm(),Jm(t.SSF),e.revssf=ep(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Lu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(jF(t,e)),r.push(OF()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Zt("Worksheet",BF(n,e,t),{"ss:Name":Kn(t.SheetNames[n])}));return r[2]=RF(t,e),r[3]=kF(t),vs+Zt("Workbook",r.join(""),{xmlns:No.ss,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:ss":No.ss,"xmlns:dt":No.dt,"xmlns:html":No.html})}var J2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function zF(t,e){var r=[],n=[],a=[],s=0,c,h=O4(q4,"n"),g=O4(V4,"n");if(t.Props)for(c=ni(t.Props),s=0;s<c.length;++s)(Object.prototype.hasOwnProperty.call(h,c[s])?r:Object.prototype.hasOwnProperty.call(g,c[s])?n:a).push([c[s],t.Props[c[s]]]);if(t.Custprops)for(c=ni(t.Custprops),s=0;s<c.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},c[s])||(Object.prototype.hasOwnProperty.call(h,c[s])?r:Object.prototype.hasOwnProperty.call(g,c[s])?n:a).push([c[s],t.Custprops[c[s]]]);var u=[];for(s=0;s<a.length;++s)N8.indexOf(a[s][0])>-1||b8.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&aa.utils.cfb_add(e,"/SummaryInformation",Y4(n,J2.SI,g,V4)),(r.length||u.length)&&aa.utils.cfb_add(e,"/DocumentSummaryInformation",Y4(r,J2.DSI,h,q4,u.length?u:null,J2.UDI))}function HF(t,e){var r=e||{},n=aa.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return aa.utils.cfb_add(n,a,tE(t,r)),r.biff==8&&(t.Props||t.Custprops)&&zF(t,n),r.biff==8&&t.vbaraw&&iI(n,aa.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var qF={0:{f:GD},1:{f:eP},2:{f:wP},3:{f:lP},4:{f:aP},5:{f:pP},6:{f:SP},7:{f:fP},8:{f:kP},9:{f:RP},10:{f:jP},11:{f:OP},12:{f:rP},13:{f:_P},14:{f:uP},15:{f:iP},16:{f:vP},17:{f:CP},18:{f:gP},19:{f:Nv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xF},40:{},42:{},43:{f:SL},44:{f:EL},45:{f:TL},46:{f:OL},47:{f:jL},48:{},49:{f:rk},50:{},51:{f:GL},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:nL},62:{f:NP},63:{f:JL},64:{f:XP},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ac,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:VP},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:JD},148:{f:YD,p:16},151:{f:MP},152:{},153:{f:mF},154:{},155:{},156:{f:hF},157:{},158:{},159:{T:1,f:hL},160:{T:-1},161:{T:1,f:j0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:LP},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VL},336:{T:-1},337:{f:YL,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Mx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Zk},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:BP},427:{f:UP},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:HP},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ZD},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:PP},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Mx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nI},633:{T:1},634:{T:-1},635:{T:1,f:tI},636:{T:-1},637:{f:ik},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:oF},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:YP},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Jt(t,e,r,n){var a=e;if(!isNaN(a)){var s=n||(r||[]).length||0,c=t.next(4);c.write_shift(2,a),c.write_shift(2,s),s>0&&bv(r)&&t.push(r)}}function VF(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return Jt(t,e,r,a);var s=e;if(!isNaN(s)){for(var c=r.parts||[],h=0,g=0,u=0;u+(c[h]||8224)<=8224;)u+=c[h]||8224,h++;var m=t.next(4);for(m.write_shift(2,s),m.write_shift(2,u),t.push(r.slice(g,g+u)),g+=u;g<a;){for(m=t.next(4),m.write_shift(2,60),u=0;u+(c[h]||8224)<=8224;)u+=c[h]||8224,h++;m.write_shift(2,u),t.push(r.slice(g,g+u)),g+=u}}}function Bh(t,e,r){return t||(t=St(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function WF(t,e,r,n){var a=St(9);return Bh(a,t,e),A8(r,n||"b",a),a}function GF(t,e,r){var n=St(8+2*r.length);return Bh(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function $F(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Qi(Li(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Jt(t,2,oL(r,n,a)):Jt(t,3,iL(r,n,a));return;case"b":case"e":Jt(t,5,WF(r,n,e.v,e.t));return;case"s":case"str":Jt(t,4,GF(r,n,(e.v||"").slice(0,255)));return}Jt(t,1,Bh(null,r,n))}function XF(t,e,r,n){var a=Array.isArray(e),s=Ta(e["!ref"]||"A1"),c,h="",g=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),c=xs(s)}for(var u=s.s.r;u<=s.e.r;++u){h=ri(u);for(var m=s.s.c;m<=s.e.c;++m){u===s.s.r&&(g[m]=yi(m)),c=g[m]+h;var v=a?(e[u]||[])[m]:e[c];v&&$F(t,v,u,m)}}}function YF(t,e){for(var r=e||{},n=Ji(),a=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Jt(n,r.biff==4?1033:r.biff==3?521:9,Cv(t,16,r)),XF(n,t.Sheets[t.SheetNames[a]],a,r),Jt(n,10),n.end()}function KF(t,e,r){Jt(t,49,qk({sz:12,name:"Arial"},r))}function ZF(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Jt(t,1054,Gk(a,e[a],r))})}function JF(t,e){var r=St(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Jt(t,2151,r),r=St(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),j8(Ta(e["!ref"]||"A1"),r),r.write_shift(4,4),Jt(t,2152,r)}function QF(t,e){for(var r=0;r<16;++r)Jt(t,224,Z4({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Jt(t,224,Z4(n,0,e))})}function eM(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Jt(t,440,eL(n)),n[1].Tooltip&&Jt(t,2048,tL(n))}delete e["!links"]}function tM(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&Jt(t,125,aL(ap(a,n),a))})}}function rM(t,e,r,n,a){var s=16+Lu(a.cellXfs,e,a);if(e.v==null&&!e.bf){Jt(t,513,b0(r,n,s));return}if(e.bf)Jt(t,6,AD(e,r,n,a,s));else switch(e.t){case"d":case"n":var c=e.t=="d"?Qi(Li(e.v)):e.v;Jt(t,515,Kk(r,n,c,s));break;case"b":case"e":Jt(t,517,Yk(r,n,e.v,s,a,e.t));break;case"s":case"str":if(a.bookSST){var h=kv(a.Strings,e.v,a.revStrings);Jt(t,253,Vk(r,n,h,s))}else Jt(t,516,Wk(r,n,(e.v||"").slice(0,255),s,a));break;default:Jt(t,513,b0(r,n,s))}}function nM(t,e,r){var n=Ji(),a=r.SheetNames[t],s=r.Sheets[a]||{},c=(r||{}).Workbook||{},h=(c.Sheets||[])[t]||{},g=Array.isArray(s),u=e.biff==8,m,v="",b=[],_=Ta(s["!ref"]||"A1"),C=u?65536:16384;if(_.e.c>255||_.e.r>=C){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");_.e.c=Math.min(_.e.c,255),_.e.r=Math.min(_.e.c,C-1)}Jt(n,2057,Cv(r,16,e)),Jt(n,13,$o(1)),Jt(n,12,$o(100)),Jt(n,15,Oi(!0)),Jt(n,17,Oi(!1)),Jt(n,16,w0(.001)),Jt(n,95,Oi(!0)),Jt(n,42,Oi(!1)),Jt(n,43,Oi(!1)),Jt(n,130,$o(1)),Jt(n,128,Xk()),Jt(n,131,Oi(!1)),Jt(n,132,Oi(!1)),u&&tM(n,s["!cols"]),Jt(n,512,$k(_,e)),u&&(s["!links"]=[]);for(var A=_.s.r;A<=_.e.r;++A){v=ri(A);for(var j=_.s.c;j<=_.e.c;++j){A===_.s.r&&(b[j]=yi(j)),m=b[j]+v;var L=g?(s[A]||[])[j]:s[m];L&&(rM(n,L,A,j,e),u&&L.l&&s["!links"].push([m,L.l]))}}var D=h.CodeName||h.name||a;return u&&Jt(n,574,Hk((c.Views||[])[0])),u&&(s["!merges"]||[]).length&&Jt(n,229,Qk(s["!merges"])),u&&eM(n,s),Jt(n,442,T8(D)),u&&JF(n,s),Jt(n,10),n.end()}function aM(t,e,r){var n=Ji(),a=(t||{}).Workbook||{},s=a.Sheets||[],c=a.WBProps||{},h=r.biff==8,g=r.biff==5;if(Jt(n,2057,Cv(t,5,r)),r.bookType=="xla"&&Jt(n,135),Jt(n,225,h?$o(1200):null),Jt(n,193,jk(2)),g&&Jt(n,191),g&&Jt(n,192),Jt(n,226),Jt(n,92,Mk("SheetJS",r)),Jt(n,66,$o(h?1200:1252)),h&&Jt(n,353,$o(0)),h&&Jt(n,448),Jt(n,317,sL(t.SheetNames.length)),h&&t.vbaraw&&Jt(n,211),h&&t.vbaraw){var u=c.CodeName||"ThisWorkbook";Jt(n,442,T8(u))}Jt(n,156,$o(17)),Jt(n,25,Oi(!1)),Jt(n,18,Oi(!1)),Jt(n,19,$o(0)),h&&Jt(n,431,Oi(!1)),h&&Jt(n,444,$o(0)),Jt(n,61,zk()),Jt(n,64,Oi(!1)),Jt(n,141,$o(0)),Jt(n,34,Oi(cF(t)=="true")),Jt(n,14,Oi(!0)),h&&Jt(n,439,Oi(!1)),Jt(n,218,$o(0)),KF(n,t,r),ZF(n,t.SSF,r),QF(n,r),h&&Jt(n,352,Oi(!1));var m=n.end(),v=Ji();h&&Jt(v,140,rL()),h&&r.Strings&&VF(v,252,Uk(r.Strings)),Jt(v,10);var b=v.end(),_=Ji(),C=0,A=0;for(A=0;A<t.SheetNames.length;++A)C+=(h?12:11)+(h?2:1)*t.SheetNames[A].length;var j=m.length+C+b.length;for(A=0;A<t.SheetNames.length;++A){var L=s[A]||{};Jt(_,133,Bk({pos:j,hs:L.Hidden||0,dt:0,name:t.SheetNames[A]},r)),j+=e[A].length}var D=_.end();if(C!=D.length)throw new Error("BS8 "+C+" != "+D.length);var M=[];return m.length&&M.push(m),D.length&&M.push(D),b.length&&M.push(b),ei(M)}function sM(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=eo(Qa)),t&&t.SSF&&(Qm(),Jm(t.SSF),r.revssf=ep(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Lv(r),r.cellXfs=[],Lu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=nM(a,r,t);return n.unshift(aM(t,n,r)),ei(n)}function tE(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=To(n["!ref"]);a.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return sM(t,e);case 4:case 3:case 2:return YF(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function iM(t,e,r,n){for(var a=t["!merges"]||[],s=[],c=e.s.c;c<=e.e.c;++c){for(var h=0,g=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>c)&&!(a[u].e.r<r||a[u].e.c<c)){if(a[u].s.r<r||a[u].s.c<c){h=-1;break}h=a[u].e.r-a[u].s.r+1,g=a[u].e.c-a[u].s.c+1;break}if(!(h<0)){var m=Zn({r,c}),v=n.dense?(t[r]||[])[c]:t[m],b=v&&v.v!=null&&(v.h||FR(v.w||(Uc(v),v.w)||""))||"",_={};h>1&&(_.rowspan=h),g>1&&(_.colspan=g),n.editable?b='<span contenteditable="true">'+b+"</span>":v&&(_["data-t"]=v&&v.t||"z",v.v!=null&&(_["data-v"]=v.v),v.z!=null&&(_["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+v.l.Target+'">'+b+"</a>")),_.id=(n.id||"sjs")+"-"+m,s.push(Zt("td",b,_))}}var C="<tr>";return C+s.join("")+"</tr>"}var oM='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lM="</body></html>";function cM(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function rE(t,e){var r=e||{},n=r.header!=null?r.header:oM,a=r.footer!=null?r.footer:lM,s=[n],c=To(t["!ref"]);r.dense=Array.isArray(t),s.push(cM(t,c,r));for(var h=c.s.r;h<=c.e.r;++h)s.push(iM(t,c,h,r));return s.push("</table>"+a),s.join("")}function nE(t,e,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Us(n.origin):n.origin;a=c.r,s=c.c}var h=e.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,h.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(t["!ref"]){var m=To(t["!ref"]);u.s.r=Math.min(u.s.r,m.s.r),u.s.c=Math.min(u.s.c,m.s.c),u.e.r=Math.max(u.e.r,m.e.r),u.e.c=Math.max(u.e.c,m.e.c),a==-1&&(u.e.r=a=m.e.r+1)}var v=[],b=0,_=t["!rows"]||(t["!rows"]=[]),C=0,A=0,j=0,L=0,D=0,M=0;for(t["!cols"]||(t["!cols"]=[]);C<h.length&&A<g;++C){var X=h[C];if(a5(X)){if(n.display)continue;_[A]={hidden:!0}}var Q=X.children;for(j=L=0;j<Q.length;++j){var Y=Q[j];if(!(n.display&&a5(Y))){var V=Y.hasAttribute("data-v")?Y.getAttribute("data-v"):Y.hasAttribute("v")?Y.getAttribute("v"):zR(Y.innerHTML),H=Y.getAttribute("data-z")||Y.getAttribute("z");for(b=0;b<v.length;++b){var B=v[b];B.s.c==L+s&&B.s.r<A+a&&A+a<=B.e.r&&(L=B.e.c+1-s,b=-1)}M=+Y.getAttribute("colspan")||1,((D=+Y.getAttribute("rowspan")||1)>1||M>1)&&v.push({s:{r:A+a,c:L+s},e:{r:A+a+(D||1)-1,c:L+s+(M||1)-1}});var re={t:"s",v:V},q=Y.getAttribute("data-t")||Y.getAttribute("t")||"";V!=null&&(V.length==0?re.t=q||"z":n.raw||V.trim().length==0||q=="s"||(V==="TRUE"?re={t:"b",v:!0}:V==="FALSE"?re={t:"b",v:!1}:isNaN(Dc(V))?isNaN(Nh(V).getDate())||(re={t:"d",v:Li(V)},n.cellDates||(re={t:"n",v:Qi(re.v)}),re.z=n.dateNF||Qa[14]):re={t:"n",v:Dc(V)})),re.z===void 0&&H!=null&&(re.z=H);var G="",se=Y.getElementsByTagName("A");if(se&&se.length)for(var ye=0;ye<se.length&&!(se[ye].hasAttribute("href")&&(G=se[ye].getAttribute("href"),G.charAt(0)!="#"));++ye);G&&G.charAt(0)!="#"&&(re.l={Target:G}),n.dense?(t[A+a]||(t[A+a]=[]),t[A+a][L+s]=re):t[Zn({c:L+s,r:A+a})]=re,u.e.c<L+s&&(u.e.c=L+s),L+=M}}++A}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),u.e.r=Math.max(u.e.r,A-1+a),t["!ref"]=xs(u),A>=g&&(t["!fullref"]=xs((u.e.r=h.length-C+A-1+a,u))),t}function aE(t,e){var r=e||{},n=r.dense?[]:{};return nE(n,t,e)}function uM(t,e){return S0(aE(t,e),e)}function a5(t){var e="",r=dM(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function dM(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var fM=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Ah({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return vs+e}}(),s5=function(){var t=function(s){return Kn(s).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,c,h){var g=[];g.push('      <table:table table:name="'+Kn(c.SheetNames[h])+`" table:style-name="ta1">
`);var u=0,m=0,v=To(s["!ref"]||"A1"),b=s["!merges"]||[],_=0,C=Array.isArray(s);if(s["!cols"])for(m=0;m<=v.e.c;++m)g.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var A="",j=s["!rows"]||[];for(u=0;u<v.s.r;++u)A=j[u]?' table:style-name="ro'+j[u].ods+'"':"",g.push("        <table:table-row"+A+`></table:table-row>
`);for(;u<=v.e.r;++u){for(A=j[u]?' table:style-name="ro'+j[u].ods+'"':"",g.push("        <table:table-row"+A+`>
`),m=0;m<v.s.c;++m)g.push(e);for(;m<=v.e.c;++m){var L=!1,D={},M="";for(_=0;_!=b.length;++_)if(!(b[_].s.c>m)&&!(b[_].s.r>u)&&!(b[_].e.c<m)&&!(b[_].e.r<u)){(b[_].s.c!=m||b[_].s.r!=u)&&(L=!0),D["table:number-columns-spanned"]=b[_].e.c-b[_].s.c+1,D["table:number-rows-spanned"]=b[_].e.r-b[_].s.r+1;break}if(L){g.push(r);continue}var X=Zn({r:u,c:m}),Q=C?(s[u]||[])[m]:s[X];if(Q&&Q.f&&(D["table:formula"]=Kn(kD(Q.f)),Q.F&&Q.F.slice(0,X.length)==X)){var Y=To(Q.F);D["table:number-matrix-columns-spanned"]=Y.e.c-Y.s.c+1,D["table:number-matrix-rows-spanned"]=Y.e.r-Y.s.r+1}if(!Q){g.push(e);continue}switch(Q.t){case"b":M=Q.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=Q.v?"true":"false";break;case"n":M=Q.w||String(Q.v||0),D["office:value-type"]="float",D["office:value"]=Q.v||0;break;case"s":case"str":M=Q.v==null?"":Q.v,D["office:value-type"]="string";break;case"d":M=Q.w||Li(Q.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=Li(Q.v).toISOString(),D["table:style-name"]="ce1";break;default:g.push(e);continue}var V=t(M);if(Q.l&&Q.l.Target){var H=Q.l.Target;H=H.charAt(0)=="#"?"#"+LD(H.slice(1)):H,H.charAt(0)!="#"&&!H.match(/^\w+:/)&&(H="../"+H),V=Zt("text:a",V,{"xlink:href":H.replace(/&/g,"&amp;")})}g.push("          "+Zt("table:table-cell",Zt("text:p",V,{}),D)+`
`)}g.push(`        </table:table-row>
`)}return g.push(`      </table:table>
`),g.join("")},a=function(s,c){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var h=0;c.SheetNames.map(function(u){return c.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var m=0;m<u["!cols"].length;++m)if(u["!cols"][m]){var v=u["!cols"][m];if(v.width==null&&v.wpx==null&&v.wch==null)continue;Tv(v),v.ods=h;var b=u["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+h+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+b+`"/>
`),s.push(`  </style:style>
`),++h}}});var g=0;c.SheetNames.map(function(u){return c.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var m=0;m<u["!rows"].length;++m)if(u["!rows"][m]){u["!rows"][m].ods=g;var v=u["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+g+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),s.push(`  </style:style>
`),++g}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(c,h){var g=[vs],u=Ah({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Ah({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});h.bookType=="fods"?(g.push("<office:document"+u+m+`>
`),g.push(y8().replace(/office:document-meta/g,"office:meta"))):g.push("<office:document-content"+u+`>
`),a(g,c),g.push(`  <office:body>
`),g.push(`    <office:spreadsheet>
`);for(var v=0;v!=c.SheetNames.length;++v)g.push(n(c.Sheets[c.SheetNames[v]],c,v));return g.push(`    </office:spreadsheet>
`),g.push(`  </office:body>
`),h.bookType=="fods"?g.push("</office:document>"):g.push("</office:document-content>"),g.join("")}}();function sE(t,e){if(e.bookType=="fods")return s5(t,e);var r=xv(),n="",a=[],s=[];return n="mimetype",sn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",sn(r,n,s5(t,e)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",sn(r,n,fM(t,e)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",sn(r,n,vs+y8()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",sn(r,n,Nk(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",sn(r,n,_k(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Sm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function hM(t){return typeof TextEncoder!="undefined"?new TextEncoder().encode(t):Sl(Sh(t))}function gM(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Ou(t){var e=t.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function mM(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)t[e+s]=a&255;t[e+15]|=r>=0?0:128}function Ch(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function $n(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function zd(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Es(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=Ch(t,r),s=a&7;a=Math.floor(a/8);var c=0,h;if(a==0)break;switch(s){case 0:{for(var g=r[0];t[r[0]++]>=128;);h=t.slice(g,r[0])}break;case 5:c=4,h=t.slice(r[0],r[0]+c),r[0]+=c;break;case 1:c=8,h=t.slice(r[0],r[0]+c),r[0]+=c;break;case 2:c=Ch(t,r),h=t.slice(r[0],r[0]+c),r[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:h,type:s};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function Js(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push($n(n*8+a.type)),a.type==2&&e.push($n(a.data.length)),e.push(a.data))})}),Ou(e)}function yl(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=Ch(t,n),s=Es(t.slice(n[0],n[0]+a));n[0]+=a;var c={id:zd(s[1][0].data),messages:[]};s[2].forEach(function(h){var g=Es(h.data),u=zd(g[3][0].data);c.messages.push({meta:g,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(c.merge=zd(s[3][0].data)>>>0>0),r.push(c)}return r}function vd(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:$n(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:$n(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(c){a.push(c.data),c.meta[3]=[{type:0,data:$n(c.data.length)}],n[2].push({data:Js(c.meta),type:2})});var s=Js(n);e.push($n(s.length)),e.push(s),a.forEach(function(c){return e.push(c)})}),Ou(e)}function pM(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Ch(e,r),a=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var c=e[r[0]++]>>2;if(c<60)++c;else{var h=c-59;c=e[r[0]],h>1&&(c|=e[r[0]+1]<<8),h>2&&(c|=e[r[0]+2]<<16),h>3&&(c|=e[r[0]+3]<<24),c>>>=0,c++,r[0]+=h}a.push(e.slice(r[0],r[0]+c)),r[0]+=c;continue}else{var g=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,g=(e[r[0]++]&224)<<3,g|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(g=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(g=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Ou(a)],g==0)throw new Error("Invalid offset 0");if(g>a[0].length)throw new Error("Invalid offset beyond length");if(u>=g)for(a.push(a[0].slice(-g)),u-=g;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-g,-g+u))}}var m=Ou(a);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function wl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(pM(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ou(e)}function yd(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var s=$n(n),c=s.length;e.push(s),n<=60?(c++,e.push(new Uint8Array([n-1<<2]))):n<=256?(c+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(c+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(c+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(c+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),c+=n,a[0]=0,a[1]=c&255,a[2]=c>>8&255,a[3]=c>>16&255,r+=n}return Ou(e)}function Q2(t,e){var r=new Uint8Array(32),n=Sm(r),a=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,mM(r,a,t.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),s|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,a)}function ex(t,e){var r=new Uint8Array(32),n=Sm(r),a=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),s|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,a)}function vu(t){var e=Es(t);return Ch(e[1][0].data)}function xM(t,e,r){var n,a,s,c;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var h=((c=(s=t[8])==null?void 0:s[0])==null?void 0:c.data)&&zd(t[8][0].data)>0||!1;if(h)throw"Math only works with normal offsets";for(var g=0,u=Sm(t[7][0].data),m=0,v=[],b=Sm(t[4][0].data),_=0,C=[],A=0;A<e.length;++A){if(e[A]==null){u.setUint16(A*2,65535,!0),b.setUint16(A*2,65535);continue}u.setUint16(A*2,m,!0),b.setUint16(A*2,_,!0);var j,L;switch(typeof e[A]){case"string":j=Q2({t:"s",v:e[A]},r),L=ex({t:"s",v:e[A]},r);break;case"number":j=Q2({t:"n",v:e[A]},r),L=ex({t:"n",v:e[A]},r);break;case"boolean":j=Q2({t:"b",v:e[A]},r),L=ex({t:"b",v:e[A]},r);break;default:throw new Error("Unsupported value "+e[A])}v.push(j),m+=j.length,C.push(L),_+=L.length,++g}for(t[2][0].data=$n(g);A<t[7][0].data.length/2;++A)u.setUint16(A*2,65535,!0),b.setUint16(A*2,65535,!0);return t[6][0].data=Ou(v),t[3][0].data=Ou(C),g}function vM(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=To(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(xs(n)));var s=Am(r,{range:n,header:1}),c=["~Sh33tJ5~"];s.forEach(function(W){return W.forEach(function(J){typeof J=="string"&&c.push(J)})});var h={},g=[],u=aa.read(e.numbers,{type:"base64"});u.FileIndex.map(function(W,J){return[W,u.FullPaths[J]]}).forEach(function(W){var J=W[0],te=W[1];if(J.type==2&&J.name.match(/\.iwa/)){var le=J.content,Be=wl(le),Re=yl(Be);Re.forEach(function(Me){g.push(Me.id),h[Me.id]={deps:[],location:te,type:zd(Me.messages[0].meta[1][0].data)}})}}),g.sort(function(W,J){return W-J});var m=g.filter(function(W){return W>1}).map(function(W){return[W,$n(W)]});u.FileIndex.map(function(W,J){return[W,u.FullPaths[J]]}).forEach(function(W){var J=W[0];if(W[1],!!J.name.match(/\.iwa/)){var te=yl(wl(J.content));te.forEach(function(le){le.messages.forEach(function(Be){m.forEach(function(Re){le.messages.some(function(Me){return zd(Me.meta[1][0].data)!=11006&&gM(Me.data,Re[1])})&&h[Re[0]].deps.push(le.id)})})})}});for(var v=aa.find(u,h[1].location),b=yl(wl(v.content)),_,C=0;C<b.length;++C){var A=b[C];A.id==1&&(_=A)}var j=vu(Es(_.messages[0].data)[1][0].data);for(v=aa.find(u,h[j].location),b=yl(wl(v.content)),C=0;C<b.length;++C)A=b[C],A.id==j&&(_=A);for(j=vu(Es(_.messages[0].data)[2][0].data),v=aa.find(u,h[j].location),b=yl(wl(v.content)),C=0;C<b.length;++C)A=b[C],A.id==j&&(_=A);for(j=vu(Es(_.messages[0].data)[2][0].data),v=aa.find(u,h[j].location),b=yl(wl(v.content)),C=0;C<b.length;++C)A=b[C],A.id==j&&(_=A);var L=Es(_.messages[0].data);{L[6][0].data=$n(n.e.r+1),L[7][0].data=$n(n.e.c+1);var D=vu(L[46][0].data),M=aa.find(u,h[D].location),X=yl(wl(M.content));{for(var Q=0;Q<X.length&&X[Q].id!=D;++Q);if(X[Q].id!=D)throw"Bad ColumnRowUIDMapArchive";var Y=Es(X[Q].messages[0].data);Y[1]=[],Y[2]=[],Y[3]=[];for(var V=0;V<=n.e.c;++V){var H=[];H[1]=H[2]=[{type:0,data:$n(V+420690)}],Y[1].push({type:2,data:Js(H)}),Y[2].push({type:0,data:$n(V)}),Y[3].push({type:0,data:$n(V)})}Y[4]=[],Y[5]=[],Y[6]=[];for(var B=0;B<=n.e.r;++B)H=[],H[1]=H[2]=[{type:0,data:$n(B+726270)}],Y[4].push({type:2,data:Js(H)}),Y[5].push({type:0,data:$n(B)}),Y[6].push({type:0,data:$n(B)});X[Q].messages[0].data=Js(Y)}M.content=yd(vd(X)),M.size=M.content.length,delete L[46];var re=Es(L[4][0].data);{re[7][0].data=$n(n.e.r+1);var q=Es(re[1][0].data),G=vu(q[2][0].data);M=aa.find(u,h[G].location),X=yl(wl(M.content));{if(X[0].id!=G)throw"Bad HeaderStorageBucket";var se=Es(X[0].messages[0].data);for(B=0;B<s.length;++B){var ye=Es(se[2][0].data);ye[1][0].data=$n(B),ye[4][0].data=$n(s[B].length),se[2][B]={type:se[2][0].type,data:Js(ye)}}X[0].messages[0].data=Js(se)}M.content=yd(vd(X)),M.size=M.content.length;var me=vu(re[2][0].data);M=aa.find(u,h[me].location),X=yl(wl(M.content));{if(X[0].id!=me)throw"Bad HeaderStorageBucket";for(se=Es(X[0].messages[0].data),V=0;V<=n.e.c;++V)ye=Es(se[2][0].data),ye[1][0].data=$n(V),ye[4][0].data=$n(n.e.r+1),se[2][V]={type:se[2][0].type,data:Js(ye)};X[0].messages[0].data=Js(se)}M.content=yd(vd(X)),M.size=M.content.length;var de=vu(re[4][0].data);(function(){for(var W=aa.find(u,h[de].location),J=yl(wl(W.content)),te,le=0;le<J.length;++le){var Be=J[le];Be.id==de&&(te=Be)}var Re=Es(te.messages[0].data);{Re[3]=[];var Me=[];c.forEach(function(ut,gt){Me[1]=[{type:0,data:$n(gt)}],Me[2]=[{type:0,data:$n(1)}],Me[3]=[{type:2,data:hM(ut)}],Re[3].push({type:2,data:Js(Me)})})}te.messages[0].data=Js(Re);var ke=vd(J),ze=yd(ke);W.content=ze,W.size=W.content.length})();var we=Es(re[3][0].data);{var Pe=we[1][0];delete we[2];var Ae=Es(Pe.data);{var ae=vu(Ae[2][0].data);(function(){for(var W=aa.find(u,h[ae].location),J=yl(wl(W.content)),te,le=0;le<J.length;++le){var Be=J[le];Be.id==ae&&(te=Be)}var Re=Es(te.messages[0].data);{delete Re[6],delete we[7];var Me=new Uint8Array(Re[5][0].data);Re[5]=[];for(var ke=0,ze=0;ze<=n.e.r;++ze){var ut=Es(Me);ke+=xM(ut,s[ze],c),ut[1][0].data=$n(ze),Re[5].push({data:Js(ut),type:2})}Re[1]=[{type:0,data:$n(n.e.c+1)}],Re[2]=[{type:0,data:$n(n.e.r+1)}],Re[3]=[{type:0,data:$n(ke)}],Re[4]=[{type:0,data:$n(n.e.r+1)}]}te.messages[0].data=Js(Re);var gt=vd(J),Ct=yd(gt);W.content=Ct,W.size=W.content.length})()}Pe.data=Js(Ae)}re[3][0].data=Js(we)}L[4][0].data=Js(re)}_.messages[0].data=Js(L);var fe=vd(b),P=yd(fe);return v.content=P,v.size=v.content.length,u}function yM(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Lv(t){yM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function wM(t,e){return e.bookType=="ods"?sE(t,e):e.bookType=="numbers"?vM(t,e):e.bookType=="xlsb"?bM(t,e):_M(t,e)}function bM(t,e){Rd=1024,t&&!t.SSF&&(t.SSF=eo(Qa)),t&&t.SSF&&(Qm(),Jm(t.SSF),e.revssf=ep(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=z8.indexOf(e.bookType)>-1,a=p8();Lv(e=e||{});var s=xv(),c="",h=0;if(e.cellXfs=[],Lu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",sn(s,c,w8(t.Props,e)),a.coreprops.push(c),Xn(e.rels,2,c,Bn.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var g=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&g.push(t.SheetNames[u]);t.Props.SheetNames=g}for(t.Props.Worksheets=t.Props.SheetNames.length,sn(s,c,_8(t.Props)),a.extprops.push(c),Xn(e.rels,3,c,Bn.EXT_PROPS),t.Custprops!==t.Props&&ni(t.Custprops||{}).length>0&&(c="docProps/custom.xml",sn(s,c,E8(t.Custprops)),a.custprops.push(c),Xn(e.rels,4,c,Bn.CUST_PROPS)),h=1;h<=t.SheetNames.length;++h){var m={"!id":{}},v=t.Sheets[t.SheetNames[h-1]],b=(v||{})["!type"]||"sheet";switch(b){case"chart":default:c="xl/worksheets/sheet"+h+"."+r,sn(s,c,NF(h-1,c,e,t,m)),a.sheets.push(c),Xn(e.wbrels,-1,"worksheets/sheet"+h+"."+r,Bn.WS[0])}if(v){var _=v["!comments"],C=!1,A="";_&&_.length>0&&(A="xl/comments"+h+"."+r,sn(s,A,CF(_,A)),a.comments.push(A),Xn(m,-1,"../comments"+h+"."+r,Bn.CMNT),C=!0),v["!legacy"]&&C&&sn(s,"xl/drawings/vmlDrawing"+h+".vml",B8(h,v["!comments"])),delete v["!comments"],delete v["!legacy"]}m["!id"].rId1&&sn(s,v8(c),Bd(m))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,sn(s,c,AF(e.Strings,c,e)),a.strs.push(c),Xn(e.wbrels,-1,"sharedStrings."+r,Bn.SST)),c="xl/workbook."+r,sn(s,c,EF(t,c)),a.workbooks.push(c),Xn(e.rels,1,c,Bn.WB),c="xl/theme/theme1.xml",sn(s,c,F8(t.Themes,e)),a.themes.push(c),Xn(e.wbrels,-1,"theme/theme1.xml",Bn.THEME),c="xl/styles."+r,sn(s,c,SF(t,c,e)),a.styles.push(c),Xn(e.wbrels,-1,"styles."+r,Bn.STY),t.vbaraw&&n&&(c="xl/vbaProject.bin",sn(s,c,t.vbaraw),a.vba.push(c),Xn(e.wbrels,-1,"vbaProject.bin",Bn.VBA)),c="xl/metadata."+r,sn(s,c,TF(c)),a.metadata.push(c),Xn(e.wbrels,-1,"metadata."+r,Bn.XLMETA),sn(s,"[Content_Types].xml",x8(a,e)),sn(s,"_rels/.rels",Bd(e.rels)),sn(s,"xl/_rels/workbook."+r+".rels",Bd(e.wbrels)),delete e.revssf,delete e.ssf,s}function _M(t,e){Rd=1024,t&&!t.SSF&&(t.SSF=eo(Qa)),t&&t.SSF&&(Qm(),Jm(t.SSF),e.revssf=ep(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=z8.indexOf(e.bookType)>-1,a=p8();Lv(e=e||{});var s=xv(),c="",h=0;if(e.cellXfs=[],Lu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),c="docProps/core.xml",sn(s,c,w8(t.Props,e)),a.coreprops.push(c),Xn(e.rels,2,c,Bn.CORE_PROPS),c="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var g=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&g.push(t.SheetNames[u]);t.Props.SheetNames=g}t.Props.Worksheets=t.Props.SheetNames.length,sn(s,c,_8(t.Props)),a.extprops.push(c),Xn(e.rels,3,c,Bn.EXT_PROPS),t.Custprops!==t.Props&&ni(t.Custprops||{}).length>0&&(c="docProps/custom.xml",sn(s,c,E8(t.Custprops)),a.custprops.push(c),Xn(e.rels,4,c,Bn.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,h=1;h<=t.SheetNames.length;++h){var v={"!id":{}},b=t.Sheets[t.SheetNames[h-1]],_=(b||{})["!type"]||"sheet";switch(_){case"chart":default:c="xl/worksheets/sheet"+h+"."+r,sn(s,c,K8(h-1,e,t,v)),a.sheets.push(c),Xn(e.wbrels,-1,"worksheets/sheet"+h+"."+r,Bn.WS[0])}if(b){var C=b["!comments"],A=!1,j="";if(C&&C.length>0){var L=!1;C.forEach(function(D){D[1].forEach(function(M){M.T==!0&&(L=!0)})}),L&&(j="xl/threadedComments/threadedComment"+h+"."+r,sn(s,j,QL(C,m,e)),a.threadedcomments.push(j),Xn(v,-1,"../threadedComments/threadedComment"+h+"."+r,Bn.TCMNT)),j="xl/comments"+h+"."+r,sn(s,j,U8(C)),a.comments.push(j),Xn(v,-1,"../comments"+h+"."+r,Bn.CMNT),A=!0}b["!legacy"]&&A&&sn(s,"xl/drawings/vmlDrawing"+h+".vml",B8(h,b["!comments"])),delete b["!comments"],delete b["!legacy"]}v["!id"].rId1&&sn(s,v8(c),Bd(v))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+r,sn(s,c,R8(e.Strings,e)),a.strs.push(c),Xn(e.wbrels,-1,"sharedStrings."+r,Bn.SST)),c="xl/workbook."+r,sn(s,c,Q8(t)),a.workbooks.push(c),Xn(e.rels,1,c,Bn.WB),c="xl/theme/theme1.xml",sn(s,c,F8(t.Themes,e)),a.themes.push(c),Xn(e.wbrels,-1,"theme/theme1.xml",Bn.THEME),c="xl/styles."+r,sn(s,c,D8(t,e)),a.styles.push(c),Xn(e.wbrels,-1,"styles."+r,Bn.STY),t.vbaraw&&n&&(c="xl/vbaProject.bin",sn(s,c,t.vbaraw),a.vba.push(c),Xn(e.wbrels,-1,"vbaProject.bin",Bn.VBA)),c="xl/metadata."+r,sn(s,c,M8()),a.metadata.push(c),Xn(e.wbrels,-1,"metadata."+r,Bn.XLMETA),m.length>1&&(c="xl/persons/person.xml",sn(s,c,eI(m)),a.people.push(c),Xn(e.wbrels,-1,"persons/person.xml",Bn.PEOPLE)),sn(s,"[Content_Types].xml",x8(a,e)),sn(s,"_rels/.rels",Bd(e.rels)),sn(s,"xl/_rels/workbook."+r+".rels",Bd(e.wbrels)),delete e.revssf,delete e.ssf,s}function EM(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Bc(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function iE(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Dh(e.file,aa.write(t,{type:zn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return aa.write(t,e)}function NM(t,e){var r=eo(e||{}),n=wM(t,r);return SM(n,r)}function SM(t,e){var r={},n=zn?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?aa.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno!="undefined"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Zm(a))}return e.password&&typeof encrypt_agile!="undefined"?iE(encrypt_agile(a,e.password),e):e.type==="file"?Dh(e.file,a):e.type=="string"?hh(a):a}function AM(t,e){var r=e||{},n=HF(t,r);return iE(n,r)}function ec(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Eh(Sh(n));case"binary":return Sh(n);case"string":return t;case"file":return Dh(e.file,n,"utf8");case"buffer":return zn?zc(n,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(n):ec(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function CM(t,e){switch(e.type){case"base64":return Eh(t);case"binary":return t;case"string":return t;case"file":return Dh(e.file,t,"binary");case"buffer":return zn?zc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ig(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Eh(r):e.type=="string"?hh(r):r;case"file":return Dh(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function oE(t,e){tR(),fF(t);var r=eo(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=oE(t,r);return r.type="array",Zm(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ec(UF(t,r),r);case"slk":case"sylk":return ec(cL.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return ec(rE(t.Sheets[t.SheetNames[a]],r),r);case"txt":return CM(lE(t.Sheets[t.SheetNames[a]],r),r);case"csv":return ec(Iv(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return ec(uL.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return ig(lL.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return ec(dL.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return ec(vL.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return ec(O8.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return ec(sE(t,r),r);case"wk1":return ig(J4.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return ig(J4.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ig(tE(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),AM(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return NM(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function TM(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function jM(t,e,r){var n={};return n.type="file",n.file=e,TM(n),oE(t,n)}function OM(t,e,r,n,a,s,c,h){var g=ri(r),u=h.defval,m=h.raw||!Object.prototype.hasOwnProperty.call(h,"raw"),v=!0,b=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:r,enumerable:!1})}catch(j){b.__rowNum__=r}else b.__rowNum__=r;if(!c||t[r])for(var _=e.s.c;_<=e.e.c;++_){var C=c?t[r][_]:t[n[_]+g];if(C===void 0||C.t===void 0){if(u===void 0)continue;s[_]!=null&&(b[s[_]]=u);continue}var A=C.v;switch(C.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(s[_]!=null){if(A==null)if(C.t=="e"&&A===null)b[s[_]]=null;else if(u!==void 0)b[s[_]]=u;else if(m&&A===null)b[s[_]]=null;else continue;else b[s[_]]=m&&(C.t!=="n"||C.t==="n"&&h.rawNumbers!==!1)?A:Uc(C,A,h);A!=null&&(v=!1)}}return{row:b,isempty:v}}function Am(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],c=0,h="",g={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},m=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof m){case"string":g=Ta(m);break;case"number":g=Ta(t["!ref"]),g.s.r=m;break;default:g=m}n>0&&(a=0);var v=ri(g.s.r),b=[],_=[],C=0,A=0,j=Array.isArray(t),L=g.s.r,D=0,M={};j&&!t[L]&&(t[L]=[]);var X=u.skipHidden&&t["!cols"]||[],Q=u.skipHidden&&t["!rows"]||[];for(D=g.s.c;D<=g.e.c;++D)if(!(X[D]||{}).hidden)switch(b[D]=yi(D),r=j?t[L][D]:t[b[D]+v],n){case 1:s[D]=D-g.s.c;break;case 2:s[D]=b[D];break;case 3:s[D]=u.header[D-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),h=c=Uc(r,null,u),A=M[c]||0,!A)M[c]=1;else{do h=c+"_"+A++;while(M[h]);M[c]=A,M[h]=1}s[D]=h}for(L=g.s.r+a;L<=g.e.r;++L)if(!(Q[L]||{}).hidden){var Y=OM(t,g,L,b,n,s,j,u);(Y.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(_[C++]=Y.row)}return _.length=C,_}var i5=/"/g;function RM(t,e,r,n,a,s,c,h){for(var g=!0,u=[],m="",v=ri(r),b=e.s.c;b<=e.e.c;++b)if(n[b]){var _=h.dense?(t[r]||[])[b]:t[n[b]+v];if(_==null)m="";else if(_.v!=null){g=!1,m=""+(h.rawNumbers&&_.t=="n"?_.v:Uc(_,null,h));for(var C=0,A=0;C!==m.length;++C)if((A=m.charCodeAt(C))===a||A===s||A===34||h.forceQuotes){m='"'+m.replace(i5,'""')+'"';break}m=="ID"&&(m='"ID"')}else _.f!=null&&!_.F?(g=!1,m="="+_.f,m.indexOf(",")>=0&&(m='"'+m.replace(i5,'""')+'"')):m="";u.push(m)}return h.blankrows===!1&&g?null:u.join(c)}function Iv(t,e){var r=[],n=e==null?{}:e;if(t==null||t["!ref"]==null)return"";var a=Ta(t["!ref"]),s=n.FS!==void 0?n.FS:",",c=s.charCodeAt(0),h=n.RS!==void 0?n.RS:`
`,g=h.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),m="",v=[];n.dense=Array.isArray(t);for(var b=n.skipHidden&&t["!cols"]||[],_=n.skipHidden&&t["!rows"]||[],C=a.s.c;C<=a.e.c;++C)(b[C]||{}).hidden||(v[C]=yi(C));for(var A=0,j=a.s.r;j<=a.e.r;++j)(_[j]||{}).hidden||(m=RM(t,a,j,v,c,g,s,n),m!=null&&(n.strip&&(m=m.replace(u,"")),(m||n.blankrows!==!1)&&r.push((A++?h:"")+m)));return delete n.dense,r.join("")}function lE(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Iv(t,e);return r}function kM(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=Ta(t["!ref"]),s="",c=[],h,g=[],u=Array.isArray(t);for(h=a.s.c;h<=a.e.c;++h)c[h]=yi(h);for(var m=a.s.r;m<=a.e.r;++m)for(s=ri(m),h=a.s.c;h<=a.e.c;++h)if(e=c[h]+s,r=u?(t[m]||[])[h]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=e+"="+n}return g}function cE(t,e,r){var n=r||{},a=+!n.skipHeader,s=t||{},c=0,h=0;if(s&&n.origin!=null)if(typeof n.origin=="number")c=n.origin;else{var g=typeof n.origin=="string"?Us(n.origin):n.origin;c=g.r,h=g.c}var u,m={s:{c:0,r:0},e:{c:h,r:c+e.length-1+a}};if(s["!ref"]){var v=Ta(s["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),c==-1&&(c=v.e.r+1,m.e.r=c+e.length-1+a)}else c==-1&&(c=0,m.e.r=e.length-1+a);var b=n.header||[],_=0;e.forEach(function(A,j){ni(A).forEach(function(L){(_=b.indexOf(L))==-1&&(b[_=b.length]=L);var D=A[L],M="z",X="",Q=Zn({c:h+_,r:c+j+a});u=Th(s,Q),D&&typeof D=="object"&&!(D instanceof Date)?s[Q]=D:(typeof D=="number"?M="n":typeof D=="boolean"?M="b":typeof D=="string"?M="s":D instanceof Date?(M="d",n.cellDates||(M="n",D=Qi(D)),X=n.dateNF||Qa[14]):D===null&&n.nullError&&(M="e",D=0),u?(u.t=M,u.v=D,delete u.w,delete u.R,X&&(u.z=X)):s[Q]=u={t:M,v:D},X&&(u.z=X))})}),m.e.c=Math.max(m.e.c,h+b.length-1);var C=ri(c);if(a)for(_=0;_<b.length;++_)s[yi(_+h)+C]={t:"s",v:b[_]};return s["!ref"]=xs(m),s}function LM(t,e){return cE(null,t,e)}function Th(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Us(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Th(t,Zn(e)):Th(t,Zn({r:e,c:r||0}))}function IM(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function DM(){return{SheetNames:[],Sheets:{}}}function PM(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var c=s&&s[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=c+a)!=-1;++a);}if(J8(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function FM(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=IM(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function MM(t,e){return t.z=e,t}function uE(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function BM(t,e,r){return uE(t,"#"+e,r)}function UM(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function zM(t,e,r,n){for(var a=typeof e!="string"?e:Ta(e),s=typeof e=="string"?e:xs(e),c=a.s.r;c<=a.e.r;++c)for(var h=a.s.c;h<=a.e.c;++h){var g=Th(t,c,h);g.t="n",g.F=s,delete g.v,c==a.s.r&&h==a.s.c&&(g.f=r,n&&(g.D=!0))}return t}var tx={encode_col:yi,encode_row:ri,encode_cell:Zn,encode_range:xs,decode_col:Ev,decode_row:_v,split_cell:tk,decode_cell:Us,decode_range:To,format_cell:Uc,sheet_add_aoa:u8,sheet_add_json:cE,sheet_add_dom:nE,aoa_to_sheet:tf,json_to_sheet:LM,table_to_sheet:aE,table_to_book:uM,sheet_to_csv:Iv,sheet_to_txt:lE,sheet_to_json:Am,sheet_to_html:rE,sheet_to_formulae:kM,sheet_to_row_object_array:Am,sheet_get_cell:Th,book_new:DM,book_append_sheet:PM,book_set_sheet_visibility:FM,cell_set_number_format:MM,cell_set_hyperlink:uE,cell_set_internal_link:BM,cell_add_comment:UM,sheet_set_array_formula:zM,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Dv=(t,e,r,n,a)=>_e(null,null,function*(){return new Promise((s,c)=>{try{if(Array.isArray(t)||(console.error("Data is not an array:",t),t=Array.isArray(t)?t:t?[t]:[]),!Array.isArray(e)){console.error("Columns is not an array:",e),c(new Error("Columns must be an array"));return}const h=new kr;h.setFontSize(18),h.text(n,14,22),h.setFontSize(10),h.text(`Generated on: ${new Date().toLocaleString()}`,14,30);const g=[];for(let C=0;C<t.length;C++){const A=t[C];if(!A)continue;const j=[];for(let L=0;L<e.length;L++){const D=e[L];let M="";try{if(D.dataKey.includes(".")){const X=D.dataKey.split(".");let Q=A;for(const Y of X)Q=Q==null?void 0:Q[Y];M=Q}else M=A[D.dataKey];M=M==null?"":M}catch(X){console.error(`Error extracting value for column ${D.dataKey}:`,X),M=""}j.push(M)}g.push(j)}const u=e.map(C=>C.header),m=Math.max(1,Math.floor(g.length/10)),v=[];for(let C=0;C<g.length;C+=m)v.push(g.slice(C,C+m));a(10);let b=0;const _=()=>{if(b>=v.length){try{h.save(`${r}.pdf`),a(100),s()}catch(A){console.error("Error saving PDF:",A),c(A)}return}const C=10+Math.round(b/v.length*80);a(C),b++,setTimeout(_,100)};try{J9(h,{head:[u],body:g,startY:40,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[66,139,202]}}),_()}catch(C){console.error("Error generating PDF table:",C),c(C)}}catch(h){console.error("Error in exportToPDF:",h),c(h)}})}),Pv=(t,e,r,n,a)=>_e(null,null,function*(){return new Promise((s,c)=>{try{if(Array.isArray(t)||(console.error("Data is not an array:",t),t=Array.isArray(t)?t:t?[t]:[]),!Array.isArray(e)){console.error("Columns is not an array:",e),c(new Error("Columns must be an array"));return}a(10);const h=[e.map(b=>b.header||"")],g=Math.max(1,Math.floor(t.length/10)),u=[];for(let b=0;b<t.length;b+=g)u.push(t.slice(b,b+g));let m=0;const v=()=>{if(m>=u.length){try{const C=tx.aoa_to_sheet(h),A=tx.book_new();tx.book_append_sheet(A,C,n||"Sheet1"),jM(A,`${r}.xlsx`),a(100),s()}catch(C){console.error("Error generating Excel file:",C),c(C)}return}const b=10+Math.round(m/u.length*80);a(b);const _=u[m];for(let C=0;C<_.length;C++){const A=_[C];if(!A)continue;const j=[];for(let L=0;L<e.length;L++){const D=e[L];let M="";try{if(D.dataKey.includes(".")){const X=D.dataKey.split(".");let Q=A;for(const Y of X)Q=Q==null?void 0:Q[Y];M=Q}else M=A[D.dataKey];M=M==null?"":M}catch(X){console.error(`Error extracting value for column ${D.dataKey}:`,X),M=""}j.push(M)}h.push(j)}m++,setTimeout(v,100)};v()}catch(h){console.error("Error in exportToXLSX:",h),c(h)}})});var og={},Qf={},lg={},o5;function jo(){if(o5)return lg;o5=1,Object.defineProperty(lg,"__esModule",{value:!0});function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}var e=function r(n,a){t(this,r),this.data=n,this.text=a.text||n,this.options=a};return lg.default=e,lg}var l5;function HM(){if(l5)return Qf;l5=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.CODE39=void 0;var t=function(){function A(j,L){for(var D=0;D<L.length;D++){var M=L[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(j,M.key,M)}}return function(j,L,D){return L&&A(j.prototype,L),D&&A(j,D),j}}(),e=jo(),r=n(e);function n(A){return A&&A.__esModule?A:{default:A}}function a(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}function s(A,j){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:A}function c(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(A,j):A.__proto__=j)}var h=function(A){c(j,A);function j(L,D){return a(this,j),L=L.toUpperCase(),D.mod43&&(L+=b(C(L))),s(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,L,D))}return t(j,[{key:"encode",value:function(){for(var D=m("*"),M=0;M<this.data.length;M++)D+=m(this.data[M])+"0";return D+=m("*"),{data:D,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),j}(r.default),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],u=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(A){return v(_(A))}function v(A){return u[A].toString(2)}function b(A){return g[A]}function _(A){return g.indexOf(A)}function C(A){for(var j=0,L=0;L<A.length;L++)j+=_(A[L]);return j=j%43,j}return Qf.CODE39=h,Qf}var bl={},cg={},ug={},Ya={},c5;function Uh(){if(c5)return Ya;c5=1,Object.defineProperty(Ya,"__esModule",{value:!0});var t;function e(g,u,m){return u in g?Object.defineProperty(g,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[u]=m,g}var r=Ya.SET_A=0,n=Ya.SET_B=1,a=Ya.SET_C=2;Ya.SHIFT=98;var s=Ya.START_A=103,c=Ya.START_B=104,h=Ya.START_C=105;return Ya.MODULO=103,Ya.STOP=106,Ya.FNC1=207,Ya.SET_BY_CODE=(t={},e(t,s,r),e(t,c,n),e(t,h,a),t),Ya.SWAP={101:r,100:n,99:a},Ya.A_START_CHAR="",Ya.B_START_CHAR="",Ya.C_START_CHAR="",Ya.A_CHARS="[\0-_-]",Ya.B_CHARS="[ --]",Ya.C_CHARS="(*[0-9]{2}*)",Ya.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Ya}var u5;function sp(){if(u5)return ug;u5=1,Object.defineProperty(ug,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=jo(),r=a(e),n=Uh();function a(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function h(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){h(m,u);function m(v,b){s(this,m);var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.substring(1),b));return _.bytes=v.split("").map(function(C){return C.charCodeAt(0)}),_}return t(m,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var b=this.bytes,_=b.shift()-105,C=n.SET_BY_CODE[_];if(C===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&b.unshift(n.FNC1);var A=m.next(b,1,C);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:m.getBar(_)+A.result+m.getBar((A.checksum+_)%n.MODULO)+m.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var b=this.options.ean128||!1;return typeof b=="string"&&(b=b.toLowerCase()==="true"),b}}],[{key:"getBar",value:function(b){return n.BARS[b]?n.BARS[b].toString():""}},{key:"correctIndex",value:function(b,_){if(_===n.SET_A){var C=b.shift();return C<32?C+64:C-32}else return _===n.SET_B?b.shift()-32:(b.shift()-48)*10+b.shift()-48}},{key:"next",value:function(b,_,C){if(!b.length)return{result:"",checksum:0};var A=void 0,j=void 0;if(b[0]>=200){j=b.shift()-105;var L=n.SWAP[j];L!==void 0?A=m.next(b,_+1,L):((C===n.SET_A||C===n.SET_B)&&j===n.SHIFT&&(b[0]=C===n.SET_A?b[0]>95?b[0]-96:b[0]:b[0]<32?b[0]+96:b[0]),A=m.next(b,_+1,C))}else j=m.correctIndex(b,C),A=m.next(b,_+1,C);var D=m.getBar(j),M=j*_;return{result:D+A.result,checksum:M+A.checksum}}}]),m}(r.default);return ug.default=g,ug}var dg={},d5;function qM(){if(d5)return dg;d5=1,Object.defineProperty(dg,"__esModule",{value:!0});var t=Uh(),e=function(h){return h.match(new RegExp("^"+t.A_CHARS+"*"))[0].length},r=function(h){return h.match(new RegExp("^"+t.B_CHARS+"*"))[0].length},n=function(h){return h.match(new RegExp("^"+t.C_CHARS+"*"))[0]};function a(c,h){var g=h?t.A_CHARS:t.B_CHARS,u=c.match(new RegExp("^("+g+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(u)return u[1]+""+s(c.substring(u[1].length));var m=c.match(new RegExp("^"+g+"+"))[0];return m.length===c.length?c:m+String.fromCharCode(h?205:206)+a(c.substring(m.length),!h)}function s(c){var h=n(c),g=h.length;if(g===c.length)return c;c=c.substring(g);var u=e(c)>=r(c);return h+String.fromCharCode(u?206:205)+a(c,u)}return dg.default=function(c){var h=void 0,g=n(c).length;if(g>=2)h=t.C_START_CHAR+s(c);else{var u=e(c)>r(c);h=(u?t.A_START_CHAR:t.B_START_CHAR)+a(c,u)}return h.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(m,v){return""+v})},dg}var f5;function VM(){if(f5)return cg;f5=1,Object.defineProperty(cg,"__esModule",{value:!0});var t=sp(),e=a(t),r=qM(),n=a(r);function a(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function h(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){h(m,u);function m(v,b){if(s(this,m),/^[\x00-\x7F\xC8-\xD3]+$/.test(v))var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,(0,n.default)(v),b));else var _=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b));return c(_)}return m}(e.default);return cg.default=g,cg}var fg={},h5;function WM(){if(h5)return fg;h5=1,Object.defineProperty(fg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=sp(),r=a(e),n=Uh();function a(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function h(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){h(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.A_START_CHAR+v,b))}return t(m,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),m}(r.default);return fg.default=g,fg}var hg={},g5;function GM(){if(g5)return hg;g5=1,Object.defineProperty(hg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=sp(),r=a(e),n=Uh();function a(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function h(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){h(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.B_START_CHAR+v,b))}return t(m,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),m}(r.default);return hg.default=g,hg}var gg={},m5;function $M(){if(m5)return gg;m5=1,Object.defineProperty(gg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=sp(),r=a(e),n=Uh();function a(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function h(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){h(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,n.C_START_CHAR+v,b))}return t(m,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),m}(r.default);return gg.default=g,gg}var p5;function XM(){if(p5)return bl;p5=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.CODE128C=bl.CODE128B=bl.CODE128A=bl.CODE128=void 0;var t=VM(),e=g(t),r=WM(),n=g(r),a=GM(),s=g(a),c=$M(),h=g(c);function g(u){return u&&u.__esModule?u:{default:u}}return bl.CODE128=e.default,bl.CODE128A=n.default,bl.CODE128B=s.default,bl.CODE128C=h.default,bl}var Ti={},mg={},Tc={},x5;function zh(){return x5||(x5=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.SIDE_BIN="101",Tc.MIDDLE_BIN="01010",Tc.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Tc.EAN2_STRUCTURE=["LL","LG","GL","GG"],Tc.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Tc.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),Tc}var pg={},xg={},v5;function Hh(){if(v5)return xg;v5=1,Object.defineProperty(xg,"__esModule",{value:!0});var t=zh(),e=function(n,a,s){var c=n.split("").map(function(g,u){return t.BINARIES[a[u]]}).map(function(g,u){return g?g[n[u]]:""});if(s){var h=n.length-1;c=c.map(function(g,u){return u<h?g+s:g})}return c.join("")};return xg.default=e,xg}var y5;function dE(){if(y5)return pg;y5=1,Object.defineProperty(pg,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}(),e=zh(),r=Hh(),n=c(r),a=jo(),s=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function g(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function u(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=function(v){u(b,v);function b(_,C){h(this,b);var A=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C));return A.fontSize=!C.flat&&C.fontSize>C.width*10?C.width*10:C.fontSize,A.guardHeight=C.height+A.fontSize/2+C.textMargin,A}return t(b,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(C,A){return this.text.substr(C,A)}},{key:"leftEncode",value:function(C,A){return(0,n.default)(C,A)}},{key:"rightText",value:function(C,A){return this.text.substr(C,A)}},{key:"rightEncode",value:function(C,A){return(0,n.default)(C,A)}},{key:"encodeGuarded",value:function(){var C={fontSize:this.fontSize},A={height:this.guardHeight};return[{data:e.SIDE_BIN,options:A},{data:this.leftEncode(),text:this.leftText(),options:C},{data:e.MIDDLE_BIN,options:A},{data:this.rightEncode(),text:this.rightText(),options:C},{data:e.SIDE_BIN,options:A}]}},{key:"encodeFlat",value:function(){var C=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:C.join(""),text:this.text}}}]),b}(s.default);return pg.default=m,pg}var w5;function YM(){if(w5)return mg;w5=1,Object.defineProperty(mg,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}(),e=function v(b,_,C){b===null&&(b=Function.prototype);var A=Object.getOwnPropertyDescriptor(b,_);if(A===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:v(j,_,C)}else{if("value"in A)return A.value;var L=A.get;return L===void 0?void 0:L.call(C)}},r=zh(),n=dE(),a=s(n);function s(v){return v&&v.__esModule?v:{default:v}}function c(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var u=function(b){var _=b.substr(0,12).split("").map(function(C){return+C}).reduce(function(C,A,j){return j%2?C+A*3:C+A},0);return(10-_%10)%10},m=function(v){g(b,v);function b(_,C){c(this,b),_.search(/^[0-9]{12}$/)!==-1&&(_+=u(_));var A=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C));return A.lastChar=C.lastChar,A}return t(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===u(this.data)}},{key:"leftText",value:function(){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var C=this.data.substr(1,6),A=r.EAN13_STRUCTURE[this.data[0]];return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftEncode",this).call(this,C,A)}},{key:"rightText",value:function(){return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var C=this.data.substr(7,6);return e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightEncode",this).call(this,C,"RRRRRR")}},{key:"encodeGuarded",value:function(){var C=e(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(C.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(C.push({data:"00"}),C.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),C}}]),b}(a.default);return mg.default=m,mg}var vg={},b5;function KM(){if(b5)return vg;b5=1,Object.defineProperty(vg,"__esModule",{value:!0});var t=function(){function m(v,b){for(var _=0;_<b.length;_++){var C=b[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}}return function(v,b,_){return b&&m(v.prototype,b),_&&m(v,_),v}}(),e=function m(v,b,_){v===null&&(v=Function.prototype);var C=Object.getOwnPropertyDescriptor(v,b);if(C===void 0){var A=Object.getPrototypeOf(v);return A===null?void 0:m(A,b,_)}else{if("value"in C)return C.value;var j=C.get;return j===void 0?void 0:j.call(_)}},r=dE(),n=a(r);function a(m){return m&&m.__esModule?m:{default:m}}function s(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function c(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var g=function(v){var b=v.substr(0,7).split("").map(function(_){return+_}).reduce(function(_,C,A){return A%2?_+C:_+C*3},0);return(10-b%10)%10},u=function(m){h(v,m);function v(b,_){return s(this,v),b.search(/^[0-9]{7}$/)!==-1&&(b+=g(b)),c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b,_))}return t(v,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===g(this.data)}},{key:"leftText",value:function(){return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var _=this.data.substr(0,4);return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftEncode",this).call(this,_,"LLLL")}},{key:"rightText",value:function(){return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var _=this.data.substr(4,4);return e(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightEncode",this).call(this,_,"RRRR")}}]),v}(n.default);return vg.default=u,vg}var yg={},_5;function ZM(){if(_5)return yg;_5=1,Object.defineProperty(yg,"__esModule",{value:!0});var t=function(){function b(_,C){for(var A=0;A<C.length;A++){var j=C[A];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(_,j.key,j)}}return function(_,C,A){return C&&b(_.prototype,C),A&&b(_,A),_}}(),e=zh(),r=Hh(),n=c(r),a=jo(),s=c(a);function c(b){return b&&b.__esModule?b:{default:b}}function h(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function g(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function u(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var m=function(_){var C=_.split("").map(function(A){return+A}).reduce(function(A,j,L){return L%2?A+j*9:A+j*3},0);return C%10},v=function(b){u(_,b);function _(C,A){return h(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,A))}return t(_,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var A=e.EAN5_STRUCTURE[m(this.data)];return{data:"1011"+(0,n.default)(this.data,A,"01"),text:this.text}}}]),_}(s.default);return yg.default=v,yg}var wg={},E5;function JM(){if(E5)return wg;E5=1,Object.defineProperty(wg,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}(),e=zh(),r=Hh(),n=c(r),a=jo(),s=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function g(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function u(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=function(v){u(b,v);function b(_,C){return h(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C))}return t(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var C=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,C,"01"),text:this.text}}}]),b}(s.default);return wg.default=m,wg}var eh={},N5;function fE(){if(N5)return eh;N5=1,Object.defineProperty(eh,"__esModule",{value:!0});var t=function(){function v(b,_){for(var C=0;C<_.length;C++){var A=_[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,_,C){return _&&v(b.prototype,_),C&&v(b,C),b}}();eh.checksum=m;var e=Hh(),r=s(e),n=jo(),a=s(n);function s(v){return v&&v.__esModule?v:{default:v}}function c(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var u=function(v){g(b,v);function b(_,C){c(this,b),_.search(/^[0-9]{11}$/)!==-1&&(_+=m(_));var A=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,C));return A.displayValue=C.displayValue,C.fontSize>C.width*10?A.fontSize=C.width*10:A.fontSize=C.fontSize,A.guardHeight=C.height+A.fontSize/2+C.textMargin,A}return t(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==m(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var C="";return C+="101",C+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),C+="01010",C+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),C+="101",{data:C,text:this.text}}},{key:"guardedEncoding",value:function(){var C=[];return this.displayValue&&C.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),C.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),C.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),C.push({data:"01010",options:{height:this.guardHeight}}),C.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),C.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&C.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),C}}]),b}(a.default);function m(v){var b=0,_;for(_=1;_<11;_+=2)b+=parseInt(v[_]);for(_=0;_<11;_+=2)b+=parseInt(v[_])*3;return(10-b%10)%10}return eh.default=u,eh}var bg={},S5;function QM(){if(S5)return bg;S5=1,Object.defineProperty(bg,"__esModule",{value:!0});var t=function(){function C(A,j){for(var L=0;L<j.length;L++){var D=j[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(A,D.key,D)}}return function(A,j,L){return j&&C(A.prototype,j),L&&C(A,L),A}}(),e=Hh(),r=c(e),n=jo(),a=c(n),s=fE();function c(C){return C&&C.__esModule?C:{default:C}}function h(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function g(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function u(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var m=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],v=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],b=function(C){u(A,C);function A(j,L){h(this,A);var D=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,j,L));if(D.isValid=!1,j.search(/^[0-9]{6}$/)!==-1)D.middleDigits=j,D.upcA=_(j,"0"),D.text=L.text||""+D.upcA[0]+j+D.upcA[D.upcA.length-1],D.isValid=!0;else if(j.search(/^[01][0-9]{7}$/)!==-1)if(D.middleDigits=j.substring(1,j.length-1),D.upcA=_(D.middleDigits,j[0]),D.upcA[D.upcA.length-1]===j[j.length-1])D.isValid=!0;else return g(D);else return g(D);return D.displayValue=L.displayValue,L.fontSize>L.width*10?D.fontSize=L.width*10:D.fontSize=L.fontSize,D.guardHeight=L.height+D.fontSize/2+L.textMargin,D}return t(A,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var L="";return L+="101",L+=this.encodeMiddleDigits(),L+="010101",{data:L,text:this.text}}},{key:"guardedEncoding",value:function(){var L=[];return this.displayValue&&L.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),L.push({data:"101",options:{height:this.guardHeight}}),L.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),L.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&L.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),L}},{key:"encodeMiddleDigits",value:function(){var L=this.upcA[0],D=this.upcA[this.upcA.length-1],M=v[parseInt(D)][parseInt(L)];return(0,r.default)(this.middleDigits,M)}}]),A}(a.default);function _(C,A){for(var j=parseInt(C[C.length-1]),L=m[j],D="",M=0,X=0;X<L.length;X++){var Q=L[X];Q==="X"?D+=C[M++]:D+=Q}return D=""+A+D,""+D+(0,s.checksum)(D)}return bg.default=b,bg}var A5;function eB(){if(A5)return Ti;A5=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.UPCE=Ti.UPC=Ti.EAN2=Ti.EAN5=Ti.EAN8=Ti.EAN13=void 0;var t=YM(),e=b(t),r=KM(),n=b(r),a=ZM(),s=b(a),c=JM(),h=b(c),g=fE(),u=b(g),m=QM(),v=b(m);function b(_){return _&&_.__esModule?_:{default:_}}return Ti.EAN13=e.default,Ti.EAN8=n.default,Ti.EAN5=s.default,Ti.EAN2=h.default,Ti.UPC=u.default,Ti.UPCE=v.default,Ti}var i0={},_g={},wd={},C5;function tB(){return C5||(C5=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.START_BIN="1010",wd.END_BIN="11101",wd.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),wd}var T5;function hE(){if(T5)return _g;T5=1,Object.defineProperty(_g,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=tB(),r=jo(),n=a(r);function a(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function h(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){h(m,u);function m(){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return t(m,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var b=this,_=this.data.match(/.{2}/g).map(function(C){return b.encodePair(C)}).join("");return{data:e.START_BIN+_+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(b){var _=e.BINARIES[b[1]];return e.BINARIES[b[0]].split("").map(function(C,A){return(C==="1"?"111":"1")+(_[A]==="1"?"000":"0")}).join("")}}]),m}(n.default);return _g.default=g,_g}var Eg={},j5;function rB(){if(j5)return Eg;j5=1,Object.defineProperty(Eg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=hE(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function a(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function s(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function c(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var h=function(m){var v=m.substr(0,13).split("").map(function(b){return parseInt(b,10)}).reduce(function(b,_,C){return b+_*(3-C%2*2)},0);return Math.ceil(v/10)*10-v},g=function(u){c(m,u);function m(v,b){return a(this,m),v.search(/^[0-9]{13}$/)!==-1&&(v+=h(v)),s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b))}return t(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===h(this.data)}}]),m}(r.default);return Eg.default=g,Eg}var O5;function nB(){if(O5)return i0;O5=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.ITF14=i0.ITF=void 0;var t=hE(),e=a(t),r=rB(),n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}return i0.ITF=e.default,i0.ITF14=n.default,i0}var vo={},Ng={},R5;function qh(){if(R5)return Ng;R5=1,Object.defineProperty(Ng,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=jo(),r=n(e);function n(u){return u&&u.__esModule?u:{default:u}}function a(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function s(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function c(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var h=function(u){c(m,u);function m(v,b){return a(this,m),s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b))}return t(m,[{key:"encode",value:function(){for(var b="110",_=0;_<this.data.length;_++){var C=parseInt(this.data[_]),A=C.toString(2);A=g(A,4-A.length);for(var j=0;j<A.length;j++)b+=A[j]=="0"?"100":"110"}return b+="1001",{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),m}(r.default);function g(u,m){for(var v=0;v<m;v++)u="0"+u;return u}return Ng.default=h,Ng}var Sg={},th={},k5;function ip(){if(k5)return th;k5=1,Object.defineProperty(th,"__esModule",{value:!0}),th.mod10=t,th.mod11=e;function t(r){for(var n=0,a=0;a<r.length;a++){var s=parseInt(r[a]);(a+r.length)%2===0?n+=s:n+=s*2%10+Math.floor(s*2/10)}return(10-n%10)%10}function e(r){for(var n=0,a=[2,3,4,5,6,7],s=0;s<r.length;s++){var c=parseInt(r[r.length-1-s]);n+=a[s%a.length]*c}return(11-n%11)%11}return th}var L5;function aB(){if(L5)return Sg;L5=1,Object.defineProperty(Sg,"__esModule",{value:!0});var t=qh(),e=n(t),r=ip();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m+(0,r.mod10)(m),v))}return u}(e.default);return Sg.default=h,Sg}var Ag={},I5;function sB(){if(I5)return Ag;I5=1,Object.defineProperty(Ag,"__esModule",{value:!0});var t=qh(),e=n(t),r=ip();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m+(0,r.mod11)(m),v))}return u}(e.default);return Ag.default=h,Ag}var Cg={},D5;function iB(){if(D5)return Cg;D5=1,Object.defineProperty(Cg,"__esModule",{value:!0});var t=qh(),e=n(t),r=ip();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){return a(this,u),m+=(0,r.mod10)(m),m+=(0,r.mod10)(m),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return u}(e.default);return Cg.default=h,Cg}var Tg={},P5;function oB(){if(P5)return Tg;P5=1,Object.defineProperty(Tg,"__esModule",{value:!0});var t=qh(),e=n(t),r=ip();function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){return a(this,u),m+=(0,r.mod11)(m),m+=(0,r.mod10)(m),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return u}(e.default);return Tg.default=h,Tg}var F5;function lB(){if(F5)return vo;F5=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.MSI1110=vo.MSI1010=vo.MSI11=vo.MSI10=vo.MSI=void 0;var t=qh(),e=m(t),r=aB(),n=m(r),a=sB(),s=m(a),c=iB(),h=m(c),g=oB(),u=m(g);function m(v){return v&&v.__esModule?v:{default:v}}return vo.MSI=e.default,vo.MSI10=n.default,vo.MSI11=s.default,vo.MSI1010=h.default,vo.MSI1110=u.default,vo}var rh={},M5;function cB(){if(M5)return rh;M5=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.pharmacode=void 0;var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=jo(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){a(this,u);var b=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v));return b.number=parseInt(m,10),b}return t(u,[{key:"encode",value:function(){for(var v=this.number,b="";!isNaN(v)&&v!=0;)v%2===0?(b="11100"+b,v=(v-2)/2):(b="100"+b,v=(v-1)/2);return b=b.slice(0,-2),{data:b,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),u}(r.default);return rh.pharmacode=h,rh}var nh={},B5;function uB(){if(B5)return nh;B5=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.codabar=void 0;var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=jo(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){a(this,u),m.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(m="A"+m+"A");var b=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m.toUpperCase(),v));return b.text=b.options.text||b.text.replace(/[A-D]/g,""),b}return t(u,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var v=[],b=this.getEncodings(),_=0;_<this.data.length;_++)v.push(b[this.data.charAt(_)]),_!==this.data.length-1&&v.push("0");return{text:this.text,data:v.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),u}(r.default);return nh.codabar=h,nh}var o0={},jg={},bd={},U5;function dB(){return U5||(U5=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""],bd.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],bd.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),bd}var z5;function gE(){if(z5)return jg;z5=1,Object.defineProperty(jg,"__esModule",{value:!0});var t=function(){function u(m,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,v,b){return v&&u(m.prototype,v),b&&u(m,b),m}}(),e=dB(),r=jo(),n=a(r);function a(u){return u&&u.__esModule?u:{default:u}}function s(u,m){if(!(u instanceof m))throw new TypeError("Cannot call a class as a function")}function c(u,m){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:u}function h(u,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);u.prototype=Object.create(m&&m.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(u,m):u.__proto__=m)}var g=function(u){h(m,u);function m(v,b){return s(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,b))}return t(m,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var b=this.data.split("").flatMap(function(j){return e.MULTI_SYMBOLS[j]||j}),_=b.map(function(j){return m.getEncoding(j)}).join(""),C=m.checksum(b,20),A=m.checksum(b.concat(C),15);return{text:this.text,data:m.getEncoding("")+_+m.getEncoding(C)+m.getEncoding(A)+m.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(b){return e.BINARIES[m.symbolValue(b)]}},{key:"getSymbol",value:function(b){return e.SYMBOLS[b]}},{key:"symbolValue",value:function(b){return e.SYMBOLS.indexOf(b)}},{key:"checksum",value:function(b,_){var C=b.slice().reverse().reduce(function(A,j,L){var D=L%_+1;return A+m.symbolValue(j)*D},0);return m.getSymbol(C%47)}}]),m}(n.default);return jg.default=g,jg}var Og={},H5;function fB(){if(H5)return Og;H5=1,Object.defineProperty(Og,"__esModule",{value:!0});var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=gE(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return t(u,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),u}(r.default);return Og.default=h,Og}var q5;function hB(){if(q5)return o0;q5=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.CODE93FullASCII=o0.CODE93=void 0;var t=gE(),e=a(t),r=fB(),n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}return o0.CODE93=e.default,o0.CODE93FullASCII=n.default,o0}var ah={},V5;function gB(){if(V5)return ah;V5=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.GenericBarcode=void 0;var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=jo(),r=n(e);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}function s(g,u){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:g}function c(g,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(g,u):g.__proto__=u)}var h=function(g){c(u,g);function u(m,v){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,m,v))}return t(u,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),u}(r.default);return ah.GenericBarcode=h,ah}var W5;function mB(){if(W5)return og;W5=1,Object.defineProperty(og,"__esModule",{value:!0});var t=HM(),e=XM(),r=eB(),n=nB(),a=lB(),s=cB(),c=uB(),h=hB(),g=gB();return og.default={CODE39:t.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:r.EAN13,EAN8:r.EAN8,EAN5:r.EAN5,EAN2:r.EAN2,UPC:r.UPC,UPCE:r.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:a.MSI,MSI10:a.MSI10,MSI11:a.MSI11,MSI1010:a.MSI1010,MSI1110:a.MSI1110,pharmacode:s.pharmacode,codabar:c.codabar,CODE93:h.CODE93,CODE93FullASCII:h.CODE93FullASCII,GenericBarcode:g.GenericBarcode},og}var Rg={},G5;function op(){if(G5)return Rg;G5=1,Object.defineProperty(Rg,"__esModule",{value:!0});var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return Rg.default=function(e,r){return t({},e,r)},Rg}var kg={},$5;function pB(){if($5)return kg;$5=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.default=t;function t(e){var r=[];function n(a){if(Array.isArray(a))for(var s=0;s<a.length;s++)n(a[s]);else a.text=a.text||"",a.data=a.data||"",r.push(a)}return n(e),r}return kg}var Lg={},X5;function xB(){if(X5)return Lg;X5=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.default=t;function t(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return Lg}var Ig={},Dg={},Pg={},Y5;function mE(){if(Y5)return Pg;Y5=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.default=t;function t(e){var r=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in r)r.hasOwnProperty(n)&&(n=r[n],typeof e[n]=="string"&&(e[n]=parseInt(e[n],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return Pg}var Fg={},K5;function pE(){if(K5)return Fg;K5=1,Object.defineProperty(Fg,"__esModule",{value:!0});var t={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Fg.default=t,Fg}var Z5;function vB(){if(Z5)return Dg;Z5=1,Object.defineProperty(Dg,"__esModule",{value:!0});var t=mE(),e=a(t),r=pE(),n=a(r);function a(c){return c&&c.__esModule?c:{default:c}}function s(c){var h={};for(var g in n.default)n.default.hasOwnProperty(g)&&(c.hasAttribute("jsbarcode-"+g.toLowerCase())&&(h[g]=c.getAttribute("jsbarcode-"+g.toLowerCase())),c.hasAttribute("data-"+g.toLowerCase())&&(h[g]=c.getAttribute("data-"+g.toLowerCase())));return h.value=c.getAttribute("jsbarcode-value")||c.getAttribute("data-value"),h=(0,e.default)(h),h}return Dg.default=s,Dg}var Mg={},Bg={},yo={},J5;function xE(){if(J5)return yo;J5=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.getTotalWidthOfEncodings=yo.calculateEncodingAttributes=yo.getBarcodePadding=yo.getEncodingHeight=yo.getMaximumHeightOfEncodings=void 0;var t=op(),e=r(t);function r(u){return u&&u.__esModule?u:{default:u}}function n(u,m){return m.height+(m.displayValue&&u.text.length>0?m.fontSize+m.textMargin:0)+m.marginTop+m.marginBottom}function a(u,m,v){if(v.displayValue&&m<u){if(v.textAlign=="center")return Math.floor((u-m)/2);if(v.textAlign=="left")return 0;if(v.textAlign=="right")return Math.floor(u-m)}return 0}function s(u,m,v){for(var b=0;b<u.length;b++){var _=u[b],C=(0,e.default)(m,_.options),A;C.displayValue?A=g(_.text,C,v):A=0;var j=_.data.length*C.width;_.width=Math.ceil(Math.max(A,j)),_.height=n(_,C),_.barcodePadding=a(A,j,C)}}function c(u){for(var m=0,v=0;v<u.length;v++)m+=u[v].width;return m}function h(u){for(var m=0,v=0;v<u.length;v++)u[v].height>m&&(m=u[v].height);return m}function g(u,m,v){var b;if(v)b=v;else if(typeof document!="undefined")b=document.createElement("canvas").getContext("2d");else return 0;b.font=m.fontOptions+" "+m.fontSize+"px "+m.font;var _=b.measureText(u);if(!_)return 0;var C=_.width;return C}return yo.getMaximumHeightOfEncodings=h,yo.getEncodingHeight=n,yo.getBarcodePadding=a,yo.calculateEncodingAttributes=s,yo.getTotalWidthOfEncodings=c,yo}var Q5;function yB(){if(Q5)return Bg;Q5=1,Object.defineProperty(Bg,"__esModule",{value:!0});var t=function(){function h(g,u){for(var m=0;m<u.length;m++){var v=u[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,u,m){return u&&h(g.prototype,u),m&&h(g,m),g}}(),e=op(),r=a(e),n=xE();function a(h){return h&&h.__esModule?h:{default:h}}function s(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var c=function(){function h(g,u,m){s(this,h),this.canvas=g,this.encodings=u,this.options=m}return t(h,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var u=0;u<this.encodings.length;u++){var m=(0,r.default)(this.options,this.encodings[u].options);this.drawCanvasBarcode(m,this.encodings[u]),this.drawCanvasText(m,this.encodings[u]),this.moveCanvasDrawing(this.encodings[u])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var u=this.canvas.getContext("2d");u.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,u);var m=(0,n.getTotalWidthOfEncodings)(this.encodings),v=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=m+this.options.marginLeft+this.options.marginRight,this.canvas.height=v,u.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(u.fillStyle=this.options.background,u.fillRect(0,0,this.canvas.width,this.canvas.height)),u.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(u,m){var v=this.canvas.getContext("2d"),b=m.data,_;u.textPosition=="top"?_=u.marginTop+u.fontSize+u.textMargin:_=u.marginTop,v.fillStyle=u.lineColor;for(var C=0;C<b.length;C++){var A=C*u.width+m.barcodePadding;b[C]==="1"?v.fillRect(A,_,u.width,u.height):b[C]&&v.fillRect(A,_,u.width,u.height*b[C])}}},{key:"drawCanvasText",value:function(u,m){var v=this.canvas.getContext("2d"),b=u.fontOptions+" "+u.fontSize+"px "+u.font;if(u.displayValue){var _,C;u.textPosition=="top"?C=u.marginTop+u.fontSize-u.textMargin:C=u.height+u.textMargin+u.marginTop+u.fontSize,v.font=b,u.textAlign=="left"||m.barcodePadding>0?(_=0,v.textAlign="left"):u.textAlign=="right"?(_=m.width-1,v.textAlign="right"):(_=m.width/2,v.textAlign="center"),v.fillText(m.text,_,C)}}},{key:"moveCanvasDrawing",value:function(u){var m=this.canvas.getContext("2d");m.translate(u.width,0)}},{key:"restoreCanvas",value:function(){var u=this.canvas.getContext("2d");u.restore()}}]),h}();return Bg.default=c,Bg}var Ug={},e3;function wB(){if(e3)return Ug;e3=1,Object.defineProperty(Ug,"__esModule",{value:!0});var t=function(){function g(u,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,m,v){return m&&g(u.prototype,m),v&&g(u,v),u}}(),e=op(),r=a(e),n=xE();function a(g){return g&&g.__esModule?g:{default:g}}function s(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")}var c="http://www.w3.org/2000/svg",h=function(){function g(u,m,v){s(this,g),this.svg=u,this.encodings=m,this.options=v,this.document=v.xmlDocument||document}return t(g,[{key:"render",value:function(){var m=this.options.marginLeft;this.prepareSVG();for(var v=0;v<this.encodings.length;v++){var b=this.encodings[v],_=(0,r.default)(this.options,b.options),C=this.createGroup(m,_.marginTop,this.svg);this.setGroupOptions(C,_),this.drawSvgBarcode(C,_,b),this.drawSVGText(C,_,b),m+=b.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var m=(0,n.getTotalWidthOfEncodings)(this.encodings),v=(0,n.getMaximumHeightOfEncodings)(this.encodings),b=m+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(b,v),this.options.background&&this.drawRect(0,0,b,v,this.svg).setAttribute("fill",this.options.background)}},{key:"drawSvgBarcode",value:function(m,v,b){var _=b.data,C;v.textPosition=="top"?C=v.fontSize+v.textMargin:C=0;for(var A=0,j=0,L=0;L<_.length;L++)j=L*v.width+b.barcodePadding,_[L]==="1"?A++:A>0&&(this.drawRect(j-v.width*A,C,v.width*A,v.height,m),A=0);A>0&&this.drawRect(j-v.width*(A-1),C,v.width*A,v.height,m)}},{key:"drawSVGText",value:function(m,v,b){var _=this.document.createElementNS(c,"text");if(v.displayValue){var C,A;_.setAttribute("font-family",v.font),_.setAttribute("font-size",v.fontSize),v.fontOptions.includes("bold")&&_.setAttribute("font-weight","bold"),v.fontOptions.includes("italic")&&_.setAttribute("font-style","italic"),v.textPosition=="top"?A=v.fontSize-v.textMargin:A=v.height+v.textMargin+v.fontSize,v.textAlign=="left"||b.barcodePadding>0?(C=0,_.setAttribute("text-anchor","start")):v.textAlign=="right"?(C=b.width-1,_.setAttribute("text-anchor","end")):(C=b.width/2,_.setAttribute("text-anchor","middle")),_.setAttribute("x",C),_.setAttribute("y",A),_.appendChild(this.document.createTextNode(b.text)),m.appendChild(_)}}},{key:"setSvgAttributes",value:function(m,v){var b=this.svg;b.setAttribute("width",m+"px"),b.setAttribute("height",v+"px"),b.setAttribute("x","0px"),b.setAttribute("y","0px"),b.setAttribute("viewBox","0 0 "+m+" "+v),b.setAttribute("xmlns",c),b.setAttribute("version","1.1")}},{key:"createGroup",value:function(m,v,b){var _=this.document.createElementNS(c,"g");return _.setAttribute("transform","translate("+m+", "+v+")"),b.appendChild(_),_}},{key:"setGroupOptions",value:function(m,v){m.setAttribute("fill",v.lineColor)}},{key:"drawRect",value:function(m,v,b,_,C){var A=this.document.createElementNS(c,"rect");return A.setAttribute("x",m),A.setAttribute("y",v),A.setAttribute("width",b),A.setAttribute("height",_),C.appendChild(A),A}}]),g}();return Ug.default=h,Ug}var zg={},t3;function bB(){if(t3)return zg;t3=1,Object.defineProperty(zg,"__esModule",{value:!0});var t=function(){function n(a,s){for(var c=0;c<s.length;c++){var h=s[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,s,c){return s&&n(a.prototype,s),c&&n(a,c),a}}();function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(a,s,c){e(this,n),this.object=a,this.encodings=s,this.options=c}return t(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n}();return zg.default=r,zg}var r3;function _B(){if(r3)return Mg;r3=1,Object.defineProperty(Mg,"__esModule",{value:!0});var t=yB(),e=c(t),r=wB(),n=c(r),a=bB(),s=c(a);function c(h){return h&&h.__esModule?h:{default:h}}return Mg.default={CanvasRenderer:e.default,SVGRenderer:n.default,ObjectRenderer:s.default},Mg}var _d={},n3;function vE(){if(n3)return _d;n3=1,Object.defineProperty(_d,"__esModule",{value:!0});function t(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function e(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function r(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var n=function(c){r(h,c);function h(g,u){t(this,h);var m=e(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return m.name="InvalidInputException",m.symbology=g,m.input=u,m.message='"'+m.input+'" is not a valid input for '+m.symbology,m}return h}(Error),a=function(c){r(h,c);function h(){t(this,h);var g=e(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return g.name="InvalidElementException",g.message="Not supported type to render on",g}return h}(Error),s=function(c){r(h,c);function h(){t(this,h);var g=e(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return g.name="NoElementException",g.message="No element to render on.",g}return h}(Error);return _d.InvalidInputException=n,_d.InvalidElementException=a,_d.NoElementException=s,_d}var a3;function EB(){if(a3)return Ig;a3=1,Object.defineProperty(Ig,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e=vB(),r=c(e),n=_B(),a=c(n),s=vE();function c(m){return m&&m.__esModule?m:{default:m}}function h(m){if(typeof m=="string")return g(m);if(Array.isArray(m)){for(var v=[],b=0;b<m.length;b++)v.push(h(m[b]));return v}else{if(typeof HTMLCanvasElement!="undefined"&&m instanceof HTMLImageElement)return u(m);if(m&&m.nodeName&&m.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&m instanceof SVGElement)return{element:m,options:(0,r.default)(m),renderer:a.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&m instanceof HTMLCanvasElement)return{element:m,options:(0,r.default)(m),renderer:a.default.CanvasRenderer};if(m&&m.getContext)return{element:m,renderer:a.default.CanvasRenderer};if(m&&(typeof m=="undefined"?"undefined":t(m))==="object"&&!m.nodeName)return{element:m,renderer:a.default.ObjectRenderer};throw new s.InvalidElementException}}function g(m){var v=document.querySelectorAll(m);if(v.length!==0){for(var b=[],_=0;_<v.length;_++)b.push(h(v[_]));return b}}function u(m){var v=document.createElement("canvas");return{element:v,options:(0,r.default)(m),renderer:a.default.CanvasRenderer,afterRender:function(){m.setAttribute("src",v.toDataURL())}}}return Ig.default=h,Ig}var Hg={},s3;function NB(){if(s3)return Hg;s3=1,Object.defineProperty(Hg,"__esModule",{value:!0});var t=function(){function n(a,s){for(var c=0;c<s.length;c++){var h=s[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,s,c){return s&&n(a.prototype,s),c&&n(a,c),a}}();function e(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(a){e(this,n),this.api=a}return t(n,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var c=s.apply(void 0,arguments);return this.api._options.valid(!0),c}catch(h){return this.handleCatch(h),this.api}}}]),n}();return Hg.default=r,Hg}var rx,i3;function SB(){if(i3)return rx;i3=1;var t=mB(),e=L(t),r=op(),n=L(r),a=pB(),s=L(a),c=xB(),h=L(c),g=EB(),u=L(g),m=mE(),v=L(m),b=NB(),_=L(b),C=vE(),A=pE(),j=L(A);function L(B){return B&&B.__esModule?B:{default:B}}var D=function(){},M=function(re,q,G){var se=new D;if(typeof re=="undefined")throw Error("No element to render on was provided.");return se._renderProperties=(0,u.default)(re),se._encodings=[],se._options=j.default,se._errorHandler=new _.default(se),typeof q!="undefined"&&(G=G||{},G.format||(G.format=V()),se.options(G)[G.format](q,G).render()),se};M.getModule=function(B){return e.default[B]};for(var X in e.default)e.default.hasOwnProperty(X)&&Q(e.default,X);function Q(B,re){D.prototype[re]=D.prototype[re.toUpperCase()]=D.prototype[re.toLowerCase()]=function(q,G){var se=this;return se._errorHandler.wrapBarcodeCall(function(){G.text=typeof G.text=="undefined"?void 0:""+G.text;var ye=(0,n.default)(se._options,G);ye=(0,v.default)(ye);var me=B[re],de=Y(q,me,ye);return se._encodings.push(de),se})}}function Y(B,re,q){B=""+B;var G=new re(B,q);if(!G.valid())throw new C.InvalidInputException(G.constructor.name,B);var se=G.encode();se=(0,s.default)(se);for(var ye=0;ye<se.length;ye++)se[ye].options=(0,n.default)(q,se[ye].options);return se}function V(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}D.prototype.options=function(B){return this._options=(0,n.default)(this._options,B),this},D.prototype.blank=function(B){var re=new Array(B+1).join("0");return this._encodings.push({data:re}),this},D.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var B;for(var re in this._renderProperties){B=this._renderProperties[re];var q=(0,n.default)(this._options,B.options);q.format=="auto"&&(q.format=V()),this._errorHandler.wrapBarcodeCall(function(){var G=q.value,se=e.default[q.format.toUpperCase()],ye=Y(G,se,q);H(B,ye,q)})}}},D.prototype.render=function(){if(!this._renderProperties)throw new C.NoElementException;if(Array.isArray(this._renderProperties))for(var B=0;B<this._renderProperties.length;B++)H(this._renderProperties[B],this._encodings,this._options);else H(this._renderProperties,this._encodings,this._options);return this},D.prototype._defaults=j.default;function H(B,re,q){re=(0,s.default)(re);for(var G=0;G<re.length;G++)re[G].options=(0,n.default)(q,re[G].options),(0,h.default)(re[G].options);(0,h.default)(q);var se=B.renderer,ye=new se(B.element,re,q);ye.render(),B.afterRender&&B.afterRender()}return typeof window!="undefined"&&(window.JsBarcode=M),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(B,re){var q=[];return jQuery(this).each(function(){q.push(this)}),M(q,B,re)}),rx=M,rx}var AB=SB();const yE=Om(AB),Vh=ee.forwardRef(({barcode:t,width:e,height:r,size:n="medium",showPartNumber:a=!0,partNumber:s,lineColor:c="#000000"},h)=>{const g=ee.useRef(null),u={small:{width:1.5,height:40},medium:{width:2,height:60},large:{width:2.5,height:80}},m=u[n]||u.medium,v=e!==void 0?e:m.width,b=r!==void 0?r:m.height,_=`${Math.max(150,b*3)}px`,C=Math.max(10,Math.min(16,Math.floor(b/5)));if(ee.useImperativeHandle(h,()=>({getSvgElement:()=>g.current,getBarcode:()=>t})),ee.useEffect(()=>{if(t&&g.current)try{yE(g.current,t,{format:"CODE128",width:v,height:b,displayValue:!1,fontSize:C,margin:5,background:"#ffffff",lineColor:c})}catch(j){console.error("Barcode generation error:",j)}},[t,v,b,c,C]),!t)return null;const A=s||t;return i.jsxs("div",{style:{display:"inline-block",textAlign:"center"},children:[i.jsx("svg",{ref:g,style:{maxWidth:_,height:"auto",display:"block"}}),a&&i.jsx("div",{style:{fontFamily:"monospace",fontSize:`${C+2}px`,fontWeight:"bold",color:"#333",marginTop:"4px",letterSpacing:"1px"},children:A})]})});Vh.displayName="InlineBarcode";const wE=(t,e=2,r=null)=>new Promise((n,a)=>{var s,c,h,g;if(!t){a(new Error("No SVG element provided"));return}try{const u=t.getBBox(),m=((c=(s=t.width)==null?void 0:s.baseVal)==null?void 0:c.value)||u.width+20,v=((g=(h=t.height)==null?void 0:h.baseVal)==null?void 0:g.value)||u.height+20,_=v+(r?30:0),C=t.cloneNode(!0);C.setAttribute("width",m),C.setAttribute("height",v);const A=document.createElementNS("http://www.w3.org/2000/svg","rect");A.setAttribute("width","100%"),A.setAttribute("height","100%"),A.setAttribute("fill","white"),C.insertBefore(A,C.firstChild);const L=new XMLSerializer().serializeToString(C),D=new Blob([L],{type:"image/svg+xml;charset=utf-8"}),M=URL.createObjectURL(D),X=new Image;X.onload=()=>{const Q=document.createElement("canvas");Q.width=m*e,Q.height=_*e;const Y=Q.getContext("2d");Y.fillStyle="white",Y.fillRect(0,0,Q.width,Q.height),Y.scale(e,e),Y.drawImage(X,0,0),r&&(Y.fillStyle="#000000",Y.font="bold 14px monospace",Y.textAlign="center",Y.fillText(r,m/2,v+20));const V=Q.toDataURL("image/png");URL.revokeObjectURL(M),n(V)},X.onerror=Q=>{URL.revokeObjectURL(M),a(Q)},X.src=M}catch(u){a(u)}}),bE=(t,e=null)=>_e(null,null,function*(){try{const r=yield wE(t,3,e),a=yield(yield fetch(r)).blob();if(navigator.clipboard&&navigator.clipboard.write){const s=new ClipboardItem({"image/png":a});return yield navigator.clipboard.write([s]),!0}else{const s=window.open("","_blank");return s&&s.document.write(`
          <html>
            <head><title>Barcode Image</title></head>
            <body style="display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;background:#f0f0f0;">
              <div style="background:white;padding:20px;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.1);">
                <img src="${r}" />
                <p style="text-align:center;margin-top:10px;color:#666;">Right-click and "Copy image" to copy</p>
              </div>
            </body>
          </html>
        `),!1}}catch(r){throw console.error("Failed to copy barcode as image:",r),r}}),_E=(t,e="barcode",r=null)=>_e(null,null,function*(){try{const n=yield wE(t,3,r),a=document.createElement("a");a.href=n,a.download=`${e}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(n){throw console.error("Failed to download barcode:",n),n}}),EE=({svgElement:t,productName:e,partNumber:r,price:n,showPrice:a=!0})=>{if(!t)return;const s=window.open("","_blank");s&&(s.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Barcode Label - ${r||"Print"}</title>
        <style>
          @media print {
            @page { margin: 5mm; size: auto; }
            body { margin: 0; padding: 0; }
            .label { page-break-after: always; }
            .label:last-child { page-break-after: auto; }
          }
          body { 
            font-family: Arial, sans-serif; 
            display: flex;
            justify-content: center;
            padding: 20px;
          }
          .label {
            border: 1px dashed #ccc;
            padding: 15px 25px;
            display: inline-block;
            text-align: center;
            background: white;
          }
          .product-name {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 5px;
            max-width: 250px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          }
          .part-number {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-top: 8px;
            font-family: monospace;
          }
          .price {
            font-size: 18px;
            font-weight: bold;
            margin-top: 8px;
            color: #222;
          }
          .barcode-svg svg {
            max-width: 100%;
          }
        </style>
      </head>
      <body>
        <div class="label">
          ${e?`<div class="product-name">${e}</div>`:""}
          <div class="barcode-svg">${t.outerHTML}</div>
          ${r?`<div class="part-number">P/N: ${r}</div>`:""}
          ${a&&n?`<div class="price">$${parseFloat(n).toFixed(2)}</div>`:""}
        </div>
        <script>
          window.onload = function() { 
            setTimeout(function() { window.print(); }, 100);
          }
        <\/script>
      </body>
      </html>
    `),s.document.close())},CB=(t,e={width:2,height:60})=>{if(!t||t.length===0)return;const r=window.open("","_blank");if(r){const n=t.map(s=>`
        <div class="label">
          <svg id="barcode-${s.id}"></svg>
          ${s.barcode?`<div class="part-number">${s.barcode}</div>`:""}
        </div>
      `).join(""),a=t.map(s=>`
      if (document.getElementById('barcode-${s.id}') && '${s.barcode}') {
        try {
          JsBarcode('#barcode-${s.id}', '${s.barcode}', {
            format: 'CODE128',
            width: ${e.width},
            height: ${e.height},
            displayValue: false,
            margin: 5,
            background: '#ffffff',
            lineColor: '#000000'
          });
        } catch(e) { console.error(e); }
      }
    `).join(`
`);r.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Bulk Barcode Labels</title>
        <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
        <style>
          @media print {
            @page { margin: 5mm; size: auto; }
            body { margin: 0; padding: 0; }
            .labels-container { display: block; }
            .label { 
              page-break-inside: avoid;
              margin-bottom: 10px;
            }
          }
          body { 
            font-family: Arial, sans-serif; 
            padding: 20px;
          }
          .labels-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: flex-start;
          }
          .label {
            border: 1px dashed #ccc;
            padding: 15px 20px;
            text-align: center;
            background: white;
            min-width: 200px;
          }
          .product-name {
            font-weight: bold;
            font-size: 12px;
            margin-bottom: 5px;
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          }
          .part-number {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            margin-top: 8px;
            font-family: monospace;
          }
          .price {
            font-size: 14px;
            font-weight: bold;
            margin-top: 5px;
          }
          .print-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
          }
          .print-controls button {
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
          }
          @media print {
            .print-controls { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="print-controls">
          <button onclick="window.print()"> Print ${t.length} Labels</button>
        </div>
        <h2 style="margin-bottom: 20px;">Barcode Labels (${t.length})</h2>
        <div class="labels-container">
          ${n}
        </div>
        <script>
          window.onload = function() {
            ${a}
          }
        <\/script>
      </body>
      </html>
    `),r.document.close()}},TB=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState([]),[a,s]=ee.useState(!0),[c,h]=ee.useState(null),[g,u]=ee.useState("all"),[m,v]=ee.useState(""),[b,_]=ee.useState(!1),{success:C,error:A}=ja(),{isOpen:j,confirm:L,handleClose:D,handleConfirm:M,dialogProps:X}=Jd(),[Q,Y]=ee.useState(1),[V,H]=ee.useState(10),[B,re]=ee.useState(0),[q,G]=ee.useState(!1),[se,ye]=ee.useState(null),[me,de]=ee.useState([]),[we,Pe]=ee.useState(!1),[Ae,ae]=ee.useState(!1),[fe,P]=ee.useState(3);ee.useEffect(()=>{_e(null,null,function*(){s(!0);try{const[Ve,st]=yield Promise.all([Su({limit:1e3}),qm()]),Ue=Ve.products||Ve;console.log("Products data:",Ue),console.log("Categories data:",st),Ue&&Ue.length>0&&console.log("First product structure:",JSON.stringify(Ue[0],null,2)),st&&st.length>0&&console.log("First category structure:",JSON.stringify(st[0],null,2)),e(Ue),n(st)}catch(Ve){console.error("Error fetching data:",Ve),h(Ve.message||"Failed to load products")}finally{s(!1)}})},[]);const W=ge=>_e(null,null,function*(){try{yield L({title:"Delete Product",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield im(ge),e(t.filter(Ve=>Ve.id!==ge)),C("Product deleted successfully")}catch(Ve){A(Ve.message||"Failed to delete product")}}catch(Ve){console.log("Product deletion cancelled")}}),J=ge=>_e(null,null,function*(){s(!0);try{const Ve=yield b_(ge),st=yield Su();e(st),C(`Successfully imported ${Ve.length} out of ${ge.length} products`)}catch(Ve){console.error("Error during import:",Ve),A(Ve.message||"Failed to import products")}finally{s(!1)}});ee.useEffect(()=>{console.log("Filter values changed:"),console.log("Selected category:",g),console.log("Search query:",m)},[g,m]);const te=ee.useMemo(()=>t.map(ge=>sr(zt({},ge),{category_id:ge.category_id?String(ge.category_id):null})),[t]);ee.useEffect(()=>{te.length>0&&(console.log("Processed products with consistent category IDs:"),te.slice(0,3).forEach(ge=>{console.log(`Product: ${ge.name}, Category ID: ${ge.category_id}, Type: ${typeof ge.category_id}`)}))},[te]);const le=ee.useMemo(()=>(console.log("Filtering products with selectedCategory:",g),te.filter(ge=>{const Ve=g==="all"||ge.category_id===g,st=(ge.name||"").toLowerCase(),Ue=(ge.description||"").toLowerCase(),Je=m.toLowerCase(),et=st.includes(Je)||Ue.includes(Je);return!Ve&&g!=="all"&&console.log(`Product ${ge.name} doesn't match category. Product category: ${ge.category_id}, Selected: ${g}`),Ve&&et})),[te,g,m]);ee.useEffect(()=>{Y(1)},[g,m]);const Be=V===-1?le:le.slice((Q-1)*V,Q*V),Re=V===-1?1:(Q-1)*V+1,Me=V===-1?le.length:Math.min(Q*V,le.length),ke=ge=>{Pe(ge.target.checked),ge.target.checked?de(Be.map(Ve=>Ve.id)):de([])},ze=(ge,Ve)=>{Ve?de(st=>[...st,ge]):(de(st=>st.filter(Ue=>Ue!==ge)),Pe(!1))},ut=ge=>_e(null,null,function*(){if(me.length===0){A("No products selected");return}const Ve=t.filter(st=>me.includes(st.id));ge==="pdf"?yield Ct(Ve):ge==="xlsx"&&(yield rt(Ve))}),gt=()=>_e(null,null,function*(){if(me.length===0){A("No products selected");return}try{yield L({title:"Delete Selected Products",message:`Are you sure you want to delete ${me.length} selected products? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});let ge=0,Ve=0;for(const Ue of me)try{yield im(Ue),ge++}catch(Je){console.error(`Error deleting product ${Ue}:`,Je),Ve++}const st=yield Su();e(st),de([]),Pe(!1),Ve===0?C(`Successfully deleted ${ge} products`):A(`Deleted ${ge} products, but failed to delete ${Ve} products`)}catch(ge){console.log("Bulk deletion cancelled")}}),Ct=(ge=null)=>_e(null,null,function*(){let Ve=ge||le;try{ye("pdf"),G(!0),re(0),Array.isArray(Ve)||(console.error("dataToExport is not an array:",Ve),Ve=Array.isArray(Ve)?Ve:Ve?[Ve]:[]),console.log(`Preparing to export ${Ve.length} products to PDF`);const st=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"name"},{header:"Category",dataKey:"category_name"},{header:"Price",dataKey:"price"},{header:"Quantity",dataKey:"quantity"},{header:"Condition",dataKey:"condition_status"}],Ue=[];for(const Je of Ve)if(Je)try{Ue.push(sr(zt({},Je),{price:`$${parseFloat(Je.price||0).toFixed(2)}`,category_name:Je.category_name||"Uncategorized",quantity:Je.quantity||0,condition_status:Je.condition_status||"Unknown"}))}catch(et){console.error("Error formatting product data:",et,Je)}console.log(`Formatted ${Ue.length} products for PDF export`),yield Dv(Ue,st,"products_export","Products Report",re),C("Products exported to PDF successfully")}catch(st){console.error("Error exporting to PDF:",st),A(`Failed to export products to PDF: ${st.message||"Unknown error"}`)}finally{G(!1)}}),rt=(ge=null)=>_e(null,null,function*(){let Ve=ge||le;try{ye("xlsx"),G(!0),re(0),Array.isArray(Ve)||(console.error("dataToExport is not an array:",Ve),Ve=Array.isArray(Ve)?Ve:Ve?[Ve]:[]),console.log(`Preparing to export ${Ve.length} products to Excel`);const st=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"name"},{header:"Description",dataKey:"description"},{header:"Category",dataKey:"category_name"},{header:"Price",dataKey:"price"},{header:"Quantity",dataKey:"quantity"},{header:"Condition",dataKey:"condition_status"},{header:"Created At",dataKey:"created_at"},{header:"Updated At",dataKey:"updated_at"}],Ue=[];for(const Je of Ve)if(Je)try{Ue.push(sr(zt({},Je),{price:parseFloat(Je.price||0).toFixed(2),category_name:Je.category_name||"Uncategorized",quantity:Je.quantity||0,condition_status:Je.condition_status||"Unknown",description:Je.description||"",created_at:Je.created_at?new Date(Je.created_at).toLocaleString():"",updated_at:Je.updated_at?new Date(Je.updated_at).toLocaleString():""}))}catch(et){console.error("Error formatting product data:",et,Je)}console.log(`Formatted ${Ue.length} products for Excel export`),yield Pv(Ue,st,"products_export","Products",re),C("Products exported to Excel successfully")}catch(st){console.error("Error exporting to Excel:",st),A(`Failed to export products to Excel: ${st.message||"Unknown error"}`)}finally{G(!1)}});return i.jsxs("div",{children:[i.jsx(Zd,{isOpen:j,onClose:D,onConfirm:M,title:X.title,message:X.message,confirmText:X.confirmText,cancelText:X.cancelText,confirmButtonClass:X.confirmButtonClass}),i.jsx(uv,{progress:B,isVisible:q,onComplete:()=>G(!1)}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Products"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[i.jsxs("button",{onClick:()=>_(!0),className:"flex items-center justify-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 w-full sm:w-auto transition-colors",disabled:q,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import CSV"]}),i.jsxs($t,{to:"/admin/barcode-generator",className:"flex items-center justify-center bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 w-full sm:w-auto transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Barcode Generator"]}),me.length>0&&i.jsxs("button",{onClick:()=>{if(t.filter(Ve=>me.includes(Ve.id)&&Ve.part_number).length===0){A("No selected products have part numbers");return}ae(!0)},className:"flex items-center justify-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full sm:w-auto transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Labels (",me.length,")"]}),i.jsxs($t,{to:"/admin/products/add",className:"flex items-center justify-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 w-full sm:w-auto transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Product"]})]})]}),i.jsx(xO,{isOpen:b,onClose:()=>_(!1),onImport:J,categories:r}),Ae&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Print Barcode Labels"}),i.jsxs("p",{className:"text-gray-400 mb-4",children:["Printing ",me.filter(ge=>{var Ve;return(Ve=t.find(st=>st.id===ge))==null?void 0:Ve.part_number}).length," labels"]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-gray-400 text-sm mb-3",children:"Barcode Size"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>P(Math.max(1,fe-1)),disabled:fe<=1,className:`w-12 h-12 rounded-lg font-bold text-2xl flex items-center justify-center ${fe<=1?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:""}),i.jsxs("div",{className:"flex-1 text-center",children:[i.jsx("span",{className:"text-white font-semibold text-xl",children:["XS","S","M","L","XL"][fe-1]}),i.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Level ",fe,"/5)"]})]}),i.jsx("button",{onClick:()=>P(Math.min(5,fe+1)),disabled:fe>=5,className:`w-12 h-12 rounded-lg font-bold text-2xl flex items-center justify-center ${fe>=5?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:"+"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>ae(!1),className:"flex-1 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:()=>{const ge=t.filter(Ue=>me.includes(Ue.id)&&Ue.part_number).map(Ue=>sr(zt({},Ue),{barcode:Ue.part_number})),Ve={1:{width:1.2,height:35},2:{width:1.8,height:50},3:{width:2.2,height:65},4:{width:2.8,height:80},5:{width:3.5,height:100}},st=Ve[fe]||Ve[3];CB(ge,st),ae(!1),de([]),Pe(!1)},className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:" Print Labels"})]})]})}),i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 gap-4",children:[i.jsxs("div",{className:"w-full md:w-1/3",children:[i.jsx("label",{className:"block text-white mb-2",children:"Filter by Category"}),i.jsxs("select",{className:"w-full p-2 border border-midnight-600 bg-midnight-800 text-white rounded",value:g,onChange:ge=>{const Ve=ge.target.value;console.log("Category selected:",Ve,typeof Ve),u(Ve)},children:[i.jsx("option",{value:"all",children:"All Categories"}),r.filter(ge=>ge&&ge.id&&ge.name).map(ge=>{const Ve=String(ge.id);return console.log(`Rendering category option: ${ge.name}, ID: ${Ve}, Type: ${typeof Ve}`),i.jsx("option",{value:Ve,children:ge.name},Ve)})]})]}),i.jsxs("div",{className:"w-full md:w-1/2",children:[i.jsx("label",{className:"block text-white mb-2",children:"Search Products"}),i.jsx("input",{type:"text",placeholder:"Search by name or description...",className:"w-full p-2 border border-midnight-600 bg-midnight-800 text-white rounded placeholder-gray-400",value:m,onChange:ge=>v(ge.target.value)})]})]})}),a?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading products...",variant:"gear"})}):c?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-400 mb-4",children:c})}):le.length===0?i.jsxs("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[i.jsx("p",{className:"text-xl text-midnight-300 mb-6",children:"No products found"}),i.jsx($t,{to:"/admin/products/add",className:"bg-midnight-700 text-midnight-50 px-6 py-3 rounded font-semibold hover:bg-midnight-600",children:"Add New Product"})]}):i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 bg-midnight-800 border-b border-midnight-700",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"select-all",checked:we,onChange:ke,className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"}),i.jsx("label",{htmlFor:"select-all",className:"text-sm font-medium text-midnight-200",children:"Select All"}),i.jsxs("span",{className:"text-sm text-midnight-400",children:["(",me.length," selected)"]})]}),i.jsx("div",{className:"flex space-x-2",children:me.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:gt,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",disabled:q,children:"Delete Selected"}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"bg-midnight-600 text-midnight-50 px-3 py-1 rounded text-sm hover:bg-midnight-500 flex items-center",onClick:()=>document.getElementById("exportSelectedDropdown").classList.toggle("hidden"),disabled:q,children:[i.jsx("span",{children:"Export Selected"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),i.jsx("div",{id:"exportSelectedDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-midnight-800 border border-midnight-600 rounded-md shadow-lg z-10",children:i.jsxs("div",{className:"py-1",children:[i.jsx("button",{onClick:()=>ut("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:q,children:"Export to PDF"}),i.jsx("button",{onClick:()=>ut("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:q,children:"Export to Excel"})]})})]})]})})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[800px]",children:[i.jsx("thead",{className:"bg-midnight-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-4 w-10",children:i.jsx("span",{className:"sr-only",children:"Select"})}),i.jsx("th",{className:"text-left p-4 text-white min-w-[200px]",children:"Product"}),i.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Category"}),i.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Barcode"}),i.jsx("th",{className:"text-center p-4 text-white min-w-[80px]",children:"Price"}),i.jsx("th",{className:"text-center p-4 text-white min-w-[80px]",children:"Stock"}),i.jsx("th",{className:"text-center p-4 text-white min-w-[140px]",children:"Warehouse"}),i.jsx("th",{className:"text-center p-4 text-white min-w-[100px]",children:"Condition"}),i.jsx("th",{className:"text-center p-4 text-white min-w-[120px]",children:"Actions"})]})}),i.jsx("tbody",{children:Be.map(ge=>i.jsxs("tr",{className:"border-t border-midnight-700",children:[i.jsx("td",{className:"p-4 text-center",children:i.jsx("input",{type:"checkbox",checked:me.includes(ge.id),onChange:Ve=>ze(ge.id,Ve.target.checked),className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-12 h-12 mr-3",children:i.jsx(_0,{src:Ru(ge.image_url),alt:ge.name,className:"w-full h-full object-cover rounded",placeholderText:"No Image",showIcon:!1})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white",children:ge.name}),i.jsxs("p",{className:"text-sm text-gray-300 truncate max-w-xs",children:[ge.description.substring(0,50),ge.description.length>50?"...":""]})]})]})}),i.jsx("td",{className:"p-4 text-white",children:ge.category_name||"Uncategorized"}),i.jsx("td",{className:"p-4",children:ge.part_number?i.jsxs("div",{className:"flex flex-col items-start",children:[i.jsx(Vh,{barcode:ge.part_number,width:1,height:25,showPartNumber:!1}),i.jsx("span",{className:"text-xs font-mono text-gray-400 mt-1",children:ge.part_number})]}):i.jsx("span",{className:"text-xs text-gray-500 italic",children:"No part number"})}),i.jsxs("td",{className:"p-4 text-center text-white",children:["$",parseFloat(ge.price).toFixed(2)]}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:`font-semibold ${ge.quantity<=0?"text-red-400":ge.quantity<=5?"text-yellow-400":"text-green-400"}`,children:ge.quantity})}),i.jsx("td",{className:"p-4 text-center",children:ge.warehouse_name?i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:"text-blue-400",children:[" ",ge.warehouse_name]}),ge.bin_number&&i.jsxs("span",{className:"text-gray-400 block",children:["Bin: ",ge.bin_number]})]}):i.jsx("span",{className:"text-gray-500 text-sm italic",children:"Not assigned"})}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-block px-2 py-1 bg-midnight-600 text-midnight-100 rounded-full text-xs",children:ge.condition_status})}),i.jsx("td",{className:"p-4 text-center",children:i.jsxs("div",{className:"flex justify-center space-x-2",children:[i.jsx($t,{to:`/admin/products/view/${ge.id}`,className:"text-green-400 hover:text-green-300",title:"View Product",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),i.jsx($t,{to:`/admin/products/edit/${ge.id}`,className:"text-midnight-300 hover:text-midnight-100",title:"Edit Product",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),i.jsx("button",{onClick:()=>W(ge.id),className:"text-red-400 hover:text-red-300",title:"Delete Product",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})})]},ge.id))})]})}),i.jsx(Vm,{totalItems:le.length,itemsPerPage:V,currentPage:Q,onPageChange:Y,onItemsPerPageChange:H})]}),!a&&!c&&le.length>0&&i.jsxs("div",{className:"mt-4 text-sm text-midnight-400",children:["Showing ",Re+1," to ",Math.min(Me,le.length)," of ",le.length," products"]})]})},jB=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[a,s]=ee.useState(null),[c,h]=ee.useState("all"),{success:g,error:u}=ja(),[m,v]=ee.useState(1),[b,_]=ee.useState(10),[C,A]=ee.useState(0),[j,L]=ee.useState(!1),[D,M]=ee.useState(null),[X,Q]=ee.useState([]),[Y,V]=ee.useState(!1);ee.useEffect(()=>{_e(null,null,function*(){n(!0);try{const ae=yield V7();console.log(" Raw orders data from API:",ae);const fe=ae.map(P=>{var te;const W=P.customer_name||(P.user?`${P.user.first_name||""} ${P.user.last_name||""}`.trim():`${P.first_name||""} ${P.last_name||""}`.trim())||"Unknown Customer",J=P.customer_email||((te=P.user)==null?void 0:te.email)||P.email||"No email provided";return console.log(` Order ${P.id} customer info:`,{original:{customer_name:P.customer_name,customer_email:P.customer_email,user:P.user},transformed:{customer_name:W,email:J}}),sr(zt({},P),{customer_name:W,email:J})});console.log(" Transformed orders:",fe),e(fe)}catch(ae){s(ae.message||"Failed to load orders")}finally{n(!1)}})},[]);const H=(Ae,ae)=>_e(null,null,function*(){try{const fe=t.find(P=>P.id===Ae);yield W7(Ae,ae),e(t.map(P=>P.id===Ae?sr(zt({},P),{status:ae}):P));try{fe&&["shipped","delivered","cancelled"].includes(ae)&&(console.log(` Sending ${ae} email for order ${Ae}`),yield G_.sendOrderStatusUpdate(fe,ae),console.log(` ${ae} email sent successfully`))}catch(P){console.error(" Failed to send status update email:",P)}g("Order status updated successfully")}catch(fe){u(fe.message||"Failed to update order status")}}),B=(Ae=null)=>_e(null,null,function*(){let ae=Ae||q;try{M("pdf"),L(!0),A(0),Array.isArray(ae)||(console.error("dataToExport is not an array:",ae),ae=Array.isArray(ae)?ae:ae?[ae]:[]),console.log(`Preparing to export ${ae.length} orders to PDF`);const fe=[{header:"Order #",dataKey:"id"},{header:"Customer",dataKey:"customer_name"},{header:"Email",dataKey:"email"},{header:"Date",dataKey:"created_at"},{header:"Status",dataKey:"status"},{header:"Total",dataKey:"total_amount"}],P=[];for(const W of ae)if(W)try{P.push(sr(zt({},W),{customer_name:W.customer_name||"Unknown",email:W.email||"No email",created_at:W.created_at?new Date(W.created_at).toLocaleDateString():new Date().toLocaleDateString(),total_amount:`$${parseFloat(W.total_amount||0).toFixed(2)}`,status:W.status?W.status.charAt(0).toUpperCase()+W.status.slice(1):"Pending"}))}catch(J){console.error("Error formatting order data:",J,W)}console.log(`Formatted ${P.length} orders for PDF export`),yield Dv(P,fe,"orders_export","Orders Report",A),g("Orders exported to PDF successfully")}catch(fe){console.error("Error exporting to PDF:",fe),u(`Failed to export orders to PDF: ${fe.message||"Unknown error"}`)}finally{L(!1)}}),re=(Ae=null)=>_e(null,null,function*(){let ae=Ae||q;try{M("xlsx"),L(!0),A(0),Array.isArray(ae)||(console.error("dataToExport is not an array:",ae),ae=Array.isArray(ae)?ae:ae?[ae]:[]),console.log(`Preparing to export ${ae.length} orders to Excel`);const fe=[{header:"Order #",dataKey:"id"},{header:"Customer",dataKey:"customer_name"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Address",dataKey:"shipping_address"},{header:"Date",dataKey:"created_at"},{header:"Status",dataKey:"status"},{header:"Payment Method",dataKey:"payment_method"},{header:"Total",dataKey:"total_amount"}],P=[];for(const W of ae)if(W)try{P.push(sr(zt({},W),{customer_name:W.customer_name||"Unknown",email:W.email||"No email",phone:W.phone||"No phone",shipping_address:W.shipping_address||"No address",created_at:W.created_at?new Date(W.created_at).toLocaleString():new Date().toLocaleString(),total_amount:parseFloat(W.total_amount||0).toFixed(2),status:W.status?W.status.charAt(0).toUpperCase()+W.status.slice(1):"Pending",payment_method:W.payment_method||"Unknown"}))}catch(J){console.error("Error formatting order data:",J,W)}console.log(`Formatted ${P.length} orders for Excel export`),yield Pv(P,fe,"orders_export","Orders",A),g("Orders exported to Excel successfully")}catch(fe){console.error("Error exporting to Excel:",fe),u(`Failed to export orders to Excel: ${fe.message||"Unknown error"}`)}finally{L(!1)}}),q=ee.useMemo(()=>c==="all"?t:t.filter(Ae=>Ae.status===c),[t,c]);ee.useEffect(()=>{v(1)},[c]);const G=b===-1?q:q.slice((m-1)*b,m*b),se=b===-1?1:(m-1)*b+1,ye=b===-1?q.length:Math.min(m*b,q.length),me=Ae=>{V(Ae.target.checked),Ae.target.checked?Q(G.map(ae=>ae.id)):Q([])},de=(Ae,ae)=>{ae?Q(fe=>[...fe,Ae]):(Q(fe=>fe.filter(P=>P!==Ae)),V(!1))},we=Ae=>_e(null,null,function*(){if(X.length===0){u("No orders selected");return}const ae=t.filter(fe=>X.includes(fe.id));Ae==="pdf"?yield B(ae):Ae==="xlsx"&&(yield re(ae))}),Pe=Ae=>{switch(Ae){case"pending":return"bg-yellow-600 text-yellow-100";case"processing":return"bg-blue-600 text-blue-100";case"shipped":return"bg-emerald-600 text-emerald-100";case"delivered":return"bg-green-600 text-green-100";case"cancelled":return"bg-red-600 text-red-100";default:return"bg-gray-600 text-gray-100"}};return i.jsxs("div",{children:[i.jsx(uv,{progress:C,isVisible:j,onComplete:()=>L(!1)}),i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Orders"})}),i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow p-6 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-midnight-200 mb-2",children:"Filter by Status"}),i.jsxs("select",{className:"p-2 border border-midnight-600 bg-midnight-800 text-midnight-100 rounded",value:c,onChange:Ae=>h(Ae.target.value),children:[i.jsx("option",{value:"all",children:"All Orders"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"processing",children:"Processing"}),i.jsx("option",{value:"shipped",children:"Shipped"}),i.jsx("option",{value:"delivered",children:"Delivered"}),i.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),i.jsxs("div",{className:"text-midnight-300",children:["Showing ",q.length," of ",t.length," orders"]})]})}),r?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading orders...",variant:"gear"})}):a?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-400 mb-4",children:a})}):q.length===0?i.jsx("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:i.jsx("p",{className:"text-xl text-midnight-300",children:"No orders found"})}):i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg shadow overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 bg-midnight-800 border-b border-midnight-700",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"select-all-orders",checked:Y,onChange:me,className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"}),i.jsx("label",{htmlFor:"select-all-orders",className:"text-sm font-medium text-midnight-200",children:"Select All"}),i.jsxs("span",{className:"text-sm text-midnight-400",children:["(",X.length," selected)"]})]}),i.jsx("div",{className:"flex space-x-2",children:X.length>0&&i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"bg-midnight-600 text-midnight-50 px-3 py-1 rounded text-sm hover:bg-midnight-500 flex items-center",onClick:()=>document.getElementById("exportSelectedOrdersDropdown").classList.toggle("hidden"),disabled:j,children:[i.jsx("span",{children:"Export Selected"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),i.jsx("div",{id:"exportSelectedOrdersDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-midnight-800 border border-midnight-600 rounded-md shadow-lg z-10",children:i.jsxs("div",{className:"py-1",children:[i.jsx("button",{onClick:()=>we("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:j,children:"Export to PDF"}),i.jsx("button",{onClick:()=>we("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-midnight-200 hover:bg-midnight-700",disabled:j,children:"Export to Excel"})]})})]})})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[900px]",children:[i.jsx("thead",{className:"bg-midnight-800",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-4 w-10",children:i.jsx("span",{className:"sr-only",children:"Select"})}),i.jsx("th",{className:"text-left p-4 text-white min-w-[100px]",children:"Order #"}),i.jsx("th",{className:"text-left p-4 text-white min-w-[200px]",children:"Customer"}),i.jsx("th",{className:"text-left p-4 text-white min-w-[120px]",children:"Date"}),i.jsx("th",{className:"text-center p-4 text-white min-w-[120px]",children:"Status"}),i.jsx("th",{className:"text-right p-4 text-white min-w-[100px]",children:"Total"}),i.jsx("th",{className:"text-center p-4 text-white min-w-[150px]",children:"Actions"})]})}),i.jsx("tbody",{children:G.map(Ae=>i.jsxs("tr",{className:"border-t border-midnight-700",children:[i.jsx("td",{className:"p-4 text-center",children:i.jsx("input",{type:"checkbox",checked:X.includes(Ae.id),onChange:ae=>de(Ae.id,ae.target.checked),className:"h-4 w-4 text-midnight-300 rounded border-midnight-600 bg-midnight-700 focus:ring-midnight-500"})}),i.jsxs("td",{className:"p-4 font-semibold text-white",children:["#",Ae.id]}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:Ae.customer_name||"Unknown Customer"}),i.jsx("p",{className:"text-sm text-gray-300",children:Ae.email||"No email provided"}),Ae.customer_phone&&i.jsx("p",{className:"text-xs text-gray-400",children:Ae.customer_phone})]})}),i.jsx("td",{className:"p-4 text-white",children:new Date(Ae.created_at||Date.now()).toLocaleDateString()}),i.jsx("td",{className:"p-4 text-center",children:i.jsxs("select",{className:`px-3 py-1 rounded-full text-sm font-semibold border-0 ${Pe(Ae.status&&typeof Ae.status=="string"?Ae.status:"pending")}`,value:Ae.status&&typeof Ae.status=="string"?Ae.status:"pending",onChange:ae=>H(Ae.id,ae.target.value),children:[i.jsx("option",{value:"pending",className:"bg-yellow-600 text-yellow-100",children:"Pending"}),i.jsx("option",{value:"processing",className:"bg-blue-600 text-blue-100",children:"Processing"}),i.jsx("option",{value:"shipped",className:"bg-emerald-600 text-emerald-100",children:"Shipped"}),i.jsx("option",{value:"delivered",className:"bg-green-600 text-green-100",children:"Delivered"}),i.jsx("option",{value:"cancelled",className:"bg-red-600 text-red-100",children:"Cancelled"})]})}),i.jsxs("td",{className:"p-4 text-right font-semibold text-white",children:["$",parseFloat(Ae.total_amount||0).toFixed(2)]}),i.jsx("td",{className:"p-4 text-center",children:i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx($t,{to:`/orders/${Ae.id}`,className:"text-blue-400 hover:text-blue-300 hover:underline",children:"View Details"}),i.jsx("button",{onClick:()=>window.open(`/orders/${Ae.id}?print=true`,"_blank"),className:"text-green-400 hover:text-green-300 hover:underline text-sm",children:"Generate Invoice"})]})})]},Ae.id))})]})}),i.jsx(Vm,{totalItems:q.length,itemsPerPage:b,currentPage:m,onPageChange:v,onItemsPerPageChange:_})]}),!r&&!a&&q.length>0&&i.jsxs("div",{className:"mt-4 text-sm text-midnight-400",children:["Showing ",se," to ",ye," of ",q.length," orders"]})]})},NE=({isOpen:t,onClose:e,title:r,children:n,size:a="md"})=>{const s=ee.useRef(null);if(ee.useEffect(()=>{const g=u=>{s.current&&!s.current.contains(u.target)&&e()};return t&&(document.addEventListener("mousedown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",g),document.body.style.overflow="auto"}},[t,e]),ee.useEffect(()=>{const g=u=>{u.key==="Escape"&&e()};return t&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[t,e]),!t)return null;const c={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},h=c[a]||c.md;return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-75 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{ref:s,className:`bg-gray-800 border border-gray-700 rounded-lg shadow-xl ${h} w-full`,children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 p-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:r}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white focus:outline-none transition-colors","aria-label":"Close",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"p-4 text-white",children:n})]})})},OB=({isOpen:t,onClose:e,onSave:r,user:n})=>{const[a,s]=ee.useState({first_name:"",last_name:"",email:"",password:"",confirm_password:"",phone:"",address:"",city:"",state:"",zip_code:"",role:"customer"}),[c,h]=ee.useState({}),[g,u]=ee.useState(!1);ee.useEffect(()=>{t&&(s(n?{first_name:n.first_name||"",last_name:n.last_name||"",email:n.email||"",password:"",confirm_password:"",phone:n.phone||"",address:n.address||"",city:n.city||"",state:n.state||"",zip_code:n.zip_code||"",role:n.role||"customer"}:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",phone:"",address:"",city:"",state:"",zip_code:"",role:"customer"}),h({}))},[t,n]);const m=_=>{const{name:C,value:A}=_.target;s(j=>sr(zt({},j),{[C]:A})),c[C]&&h(j=>sr(zt({},j),{[C]:null}))},v=()=>{const _={};a.first_name.trim()||(_.first_name="First name is required"),a.last_name.trim()||(_.last_name="Last name is required"),a.email.trim()||(_.email="Email is required");const C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a.email&&!C.test(a.email)&&(_.email="Please enter a valid email address"),n?a.password&&(a.password.length<6&&(_.password="Password must be at least 6 characters"),a.confirm_password||(_.confirm_password="Please confirm your password"),a.password!==a.confirm_password&&(_.confirm_password="Passwords do not match")):(a.password||(_.password="Password is required"),a.password&&a.password.length<6&&(_.password="Password must be at least 6 characters"),a.confirm_password||(_.confirm_password="Please confirm your password"),a.password!==a.confirm_password&&(_.confirm_password="Passwords do not match")),h(_),Object.keys(_).length===0},b=_=>_e(null,null,function*(){if(_.preventDefault(),!!v()){u(!0);try{const C={first_name:a.first_name,last_name:a.last_name,email:a.email,phone:a.phone,address:a.address,city:a.city,state:a.state,zip_code:a.zip_code,role:a.role};a.password&&(C.password=a.password),yield r(C),e()}catch(C){console.error("Error saving user:",C)}finally{u(!1)}}});return i.jsx(NE,{isOpen:t,onClose:e,title:n?"Edit User":"Add New User",children:i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),i.jsx("input",{type:"text",name:"first_name",value:a.first_name,onChange:m,className:`w-full p-2 border rounded ${c.first_name?"border-red-500":"border-gray-300"}`}),c.first_name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.first_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),i.jsx("input",{type:"text",name:"last_name",value:a.last_name,onChange:m,className:`w-full p-2 border rounded ${c.last_name?"border-red-500":"border-gray-300"}`}),c.last_name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.last_name})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),i.jsx("input",{type:"email",name:"email",value:a.email,onChange:m,className:`w-full p-2 border rounded ${c.email?"border-red-500":"border-gray-300"}`}),c.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.email})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!n&&"*"]}),i.jsx("input",{type:"password",name:"password",value:a.password,onChange:m,className:`w-full p-2 border rounded ${c.password?"border-red-500":"border-gray-300"}`,placeholder:n?"Leave blank to keep current":""}),c.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.password})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",!n&&"*"]}),i.jsx("input",{type:"password",name:"confirm_password",value:a.confirm_password,onChange:m,className:`w-full p-2 border rounded ${c.confirm_password?"border-red-500":"border-gray-300"}`,placeholder:n?"Leave blank to keep current":""}),c.confirm_password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.confirm_password})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{name:"address",value:a.address,onChange:m,rows:"3",className:"w-full p-2 border border-gray-300 rounded"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),i.jsx("input",{type:"text",name:"city",value:a.city,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),i.jsx("input",{type:"text",name:"state",value:a.state,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),i.jsx("input",{type:"text",name:"zip_code",value:a.zip_code,onChange:m,className:"w-full p-2 border border-gray-300 rounded"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{name:"role",value:a.role,onChange:m,className:"w-full p-2 border border-gray-300 rounded",children:[i.jsx("option",{value:"customer",children:"Customer"}),i.jsx("option",{value:"admin",children:"Admin"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:g?"Saving...":"Save User"})]})]})})},RB=({isOpen:t,onClose:e,user:r})=>{if(!r)return null;const n=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return i.jsx(NE,{isOpen:t,onClose:e,title:"Customer Information",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.first_name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.last_name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.email||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.phone||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${r.role==="admin"?"bg-emerald-600 text-emerald-100":"bg-slate-600 text-slate-100"}`,children:r.role||"customer"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Account Created"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n(r.created_at)})]})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Street Address"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.address||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.city||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.state||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.zip_code||"N/A"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User ID"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:r.id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Active"})]})]})]}),i.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-100",children:"Close"})})]})})},o3=()=>_e(null,null,function*(){try{console.log(" Fetching all users...");const t=yield Gr.get("/admin/users");if(console.log(" Get users response:",t.data),t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to fetch users")}catch(t){throw console.error(" Error fetching users:",t),t}}),kB=t=>_e(null,null,function*(){try{console.log(" Creating new user:",t);const e=yield Gr.post("/admin/users",t);if(console.log(" Create user response:",e.data),e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to create user")}catch(e){throw console.error(" Error creating user:",e),e}}),LB=t=>_e(null,null,function*(){try{console.log(" Updating user:",t);const e=yield Gr.put("/admin/users",t);if(console.log(" Update user response:",e.data),e.data.success)return e.data.data;throw new Error(e.data.message||"Failed to update user")}catch(e){throw console.error(` Error updating user with ID ${t.id}:`,e),e}}),l3=t=>_e(null,null,function*(){try{console.log(" Deleting user with ID:",t);const e=yield Gr.delete(`/admin/users?id=${t}`);if(console.log(" Delete user response:",e.data),e.data.success)return e.data;throw new Error(e.data.message||"Failed to delete user")}catch(e){throw console.error(` Error deleting user with ID ${t}:`,e),e}}),IB=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[a,s]=ee.useState(null),[c,h]=ee.useState(""),[g,u]=ee.useState("all"),[m,v]=ee.useState(!1),[b,_]=ee.useState(null),[C,A]=ee.useState(null),[j,L]=ee.useState(!1),{success:D,error:M}=ja(),{isOpen:X,confirm:Q,handleClose:Y,handleConfirm:V,dialogProps:H}=Jd(),[B,re]=ee.useState(1),[q,G]=ee.useState(10),[se,ye]=ee.useState(0),[me,de]=ee.useState(!1),[we,Pe]=ee.useState(null),[Ae,ae]=ee.useState([]),[fe,P]=ee.useState(!1);ee.useEffect(()=>{_e(null,null,function*(){n(!0),s(null);try{const Je=yield o3();Array.isArray(Je)?e(Je):Je&&Je.message?(s(Je.message),e([])):(s("Received unexpected data format from server"),e([]))}catch(Je){console.error("Error fetching users:",Je),s(Je.message||"Failed to load users"),e([])}finally{n(!1)}})},[]);const W=()=>{_(null),v(!0)},J=Ue=>{A(Ue),L(!0)},te=Ue=>{_(Ue),v(!0)},le=Ue=>_e(null,null,function*(){try{yield Q({title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield l3(Ue),e(t.filter(Je=>Je.id!==Ue)),D("User deleted successfully")}catch(Je){M(Je.message||"Failed to delete user")}}catch(Je){console.log("User deletion cancelled")}}),Be=(Ue,Je)=>_e(null,null,function*(){try{const et=localStorage.getItem("token"),Mt=yield(yield fetch("/api/admin/users",{method:"PUT",headers:{Authorization:`Bearer ${et}`,"Content-Type":"application/json"},body:JSON.stringify({id:Ue,status:Je})})).json();Mt.success?(e(Xt=>Xt.map(cr=>cr.id===Ue?sr(zt({},cr),{status:Je}):cr)),D(`User ${Je==="blocked"?"blocked":Je==="active"?"unblocked":Je} successfully`)):M(Mt.message||"Failed to update user status")}catch(et){console.error("Error updating user status:",et),M("Failed to update user status")}}),Re=Ue=>_e(null,null,function*(){try{if(b){console.log(" Updating user with data:",Ue);const Je=yield LB(sr(zt({},Ue),{id:b.id}));console.log(" Received updated user data:",Je),e(t.map(et=>et.id===b.id?Je:et)),D("User updated successfully")}else{const Je=yield kB(Ue);e([...t,Je]),D("User created successfully")}v(!1)}catch(Je){console.error(" Error saving user:",Je),M(Je.message||"Failed to save user")}}),Me=ee.useMemo(()=>t.filter(Ue=>{const Je=g==="all"||Ue.role===g,et=`${Ue.first_name} ${Ue.last_name}`.toLowerCase(),Pt=(Ue.email||"").toLowerCase(),Mt=c.toLowerCase(),Xt=et.includes(Mt)||Pt.includes(Mt);return Je&&Xt}),[t,g,c]);ee.useEffect(()=>{re(1)},[g,c]);const ke=q===-1?Me:Me.slice((B-1)*q,B*q),ze=q===-1?1:(B-1)*q+1,ut=q===-1?Me.length:Math.min(B*q,Me.length),gt=Ue=>{P(Ue.target.checked),Ue.target.checked?ae(ke.map(Je=>Je.id)):ae([])},Ct=(Ue,Je)=>{Je?ae(et=>[...et,Ue]):(ae(et=>et.filter(Pt=>Pt!==Ue)),P(!1))},rt=()=>_e(null,null,function*(){if(Ae.length===0){M("No users selected");return}try{yield Q({title:"Delete Selected Users",message:`Are you sure you want to delete ${Ae.length} selected users? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});let Ue=0,Je=0;for(const Pt of Ae)try{yield l3(Pt),Ue++}catch(Mt){console.error(`Error deleting user ${Pt}:`,Mt),Je++}const et=yield o3();e(et),ae([]),P(!1),Je===0?D(`Successfully deleted ${Ue} users`):M(`Deleted ${Ue} users, but failed to delete ${Je} users`)}catch(Ue){console.log("Bulk deletion cancelled")}}),ge=Ue=>_e(null,null,function*(){if(Ae.length===0){M("No users selected");return}const Je=t.filter(et=>Ae.includes(et.id));Ue==="pdf"?yield Ve(Je):Ue==="xlsx"&&(yield st(Je))}),Ve=(Ue=null)=>_e(null,null,function*(){let Je=Ue||Me;try{Pe("pdf"),de(!0),ye(0),Array.isArray(Je)||(console.error("dataToExport is not an array:",Je),Je=Array.isArray(Je)?Je:Je?[Je]:[]),console.log(`Preparing to export ${Je.length} users to PDF`);const et=[{header:"ID",dataKey:"id"},{header:"Name",dataKey:"fullName"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Role",dataKey:"role"}],Pt=[];for(const Mt of Je)if(Mt)try{Pt.push({id:Mt.id,fullName:`${Mt.first_name||""} ${Mt.last_name||""}`.trim()||"Unknown",email:Mt.email||"No email",phone:Mt.phone||"N/A",role:Mt.role?Mt.role.charAt(0).toUpperCase()+Mt.role.slice(1):"Customer"})}catch(Xt){console.error("Error formatting user data:",Xt,Mt)}console.log(`Formatted ${Pt.length} users for PDF export`),yield Dv(Pt,et,"users_export","Users Report",ye),D("Users exported to PDF successfully")}catch(et){console.error("Error exporting to PDF:",et),M(`Failed to export users to PDF: ${et.message||"Unknown error"}`)}finally{de(!1)}}),st=(Ue=null)=>_e(null,null,function*(){let Je=Ue||Me;try{Pe("xlsx"),de(!0),ye(0),Array.isArray(Je)||(console.error("dataToExport is not an array:",Je),Je=Array.isArray(Je)?Je:Je?[Je]:[]),console.log(`Preparing to export ${Je.length} users to Excel`);const et=[{header:"ID",dataKey:"id"},{header:"First Name",dataKey:"first_name"},{header:"Last Name",dataKey:"last_name"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Address",dataKey:"address"},{header:"City",dataKey:"city"},{header:"State",dataKey:"state"},{header:"Zip Code",dataKey:"zip_code"},{header:"Role",dataKey:"role"},{header:"Created At",dataKey:"created_at"},{header:"Updated At",dataKey:"updated_at"}],Pt=[];for(const Mt of Je)if(Mt)try{Pt.push({id:Mt.id,first_name:Mt.first_name||"",last_name:Mt.last_name||"",email:Mt.email||"No email",phone:Mt.phone||"N/A",address:Mt.address||"N/A",city:Mt.city||"N/A",state:Mt.state||"N/A",zip_code:Mt.zip_code||"N/A",role:Mt.role?Mt.role.charAt(0).toUpperCase()+Mt.role.slice(1):"Customer",created_at:Mt.created_at?new Date(Mt.created_at).toLocaleString():"N/A",updated_at:Mt.updated_at?new Date(Mt.updated_at).toLocaleString():"N/A"})}catch(Xt){console.error("Error formatting user data:",Xt,Mt)}console.log(`Formatted ${Pt.length} users for Excel export`),yield Pv(Pt,et,"users_export","Users",ye),D("Users exported to Excel successfully")}catch(et){console.error("Error exporting to Excel:",et),M(`Failed to export users to Excel: ${et.message||"Unknown error"}`)}finally{de(!1)}});return i.jsxs("div",{children:[i.jsx(Zd,{isOpen:X,onClose:Y,onConfirm:V,title:H.title,message:H.message,confirmText:H.confirmText,cancelText:H.cancelText,confirmButtonClass:H.confirmButtonClass}),i.jsx(OB,{isOpen:m,onClose:()=>v(!1),onSave:Re,user:b}),i.jsx(RB,{isOpen:j,onClose:()=>L(!1),user:C}),i.jsx(uv,{progress:se,isVisible:me,onComplete:()=>de(!1)}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Users"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:i.jsx("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full sm:w-auto text-center",disabled:me,children:"Add New User"})})]}),i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow p-6 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 gap-4",children:[i.jsxs("div",{className:"w-full md:w-1/3",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Filter by Role"}),i.jsxs("select",{className:"w-full p-2 border border-gray-300 bg-white text-gray-900 rounded",value:g,onChange:Ue=>u(Ue.target.value),children:[i.jsx("option",{value:"all",children:"All Roles"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"customer",children:"Customer"})]})]}),i.jsxs("div",{className:"w-full md:w-1/2",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Search Users"}),i.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full p-2 border border-gray-300 bg-white text-gray-900 rounded placeholder-gray-400",value:c,onChange:Ue=>h(Ue.target.value)})]})]})}),r?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading users...",variant:"gear"})}):a?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-red-400 mb-4",children:a})}):Me.length===0?i.jsxs("div",{className:"text-center py-12 bg-midnight-900 border border-midnight-700 rounded-lg shadow",children:[i.jsx("p",{className:"text-xl text-midnight-300 mb-6",children:"No users found"}),i.jsx("button",{onClick:W,className:"bg-midnight-700 text-midnight-50 px-6 py-3 rounded font-semibold hover:bg-midnight-600",children:"Add New User"})]}):i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"select-all-users",checked:fe,onChange:gt,className:"h-4 w-4 text-blue-600 rounded border-gray-300 bg-white focus:ring-blue-500"}),i.jsx("label",{htmlFor:"select-all-users",className:"text-sm font-medium text-gray-700",children:"Select All"}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",Ae.length," selected)"]})]}),i.jsx("div",{className:"flex space-x-2",children:Ae.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:rt,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",disabled:me,children:"Delete Selected"}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"btn-primary px-3 py-1 text-sm flex items-center",onClick:()=>document.getElementById("exportSelectedUsersDropdown").classList.toggle("hidden"),disabled:me,children:[i.jsx("span",{children:"Export Selected"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),i.jsx("div",{id:"exportSelectedUsersDropdown",className:"hidden absolute right-0 mt-1 w-40 bg-white rounded-md shadow-lg z-10",children:i.jsxs("div",{className:"py-1",children:[i.jsx("button",{onClick:()=>ge("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",disabled:me,children:"Export to PDF"}),i.jsx("button",{onClick:()=>ge("xlsx"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",disabled:me,children:"Export to Excel"})]})})]})]})})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[700px]",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-4 w-10",children:i.jsx("span",{className:"sr-only",children:"Select"})}),i.jsx("th",{className:"text-left p-4 text-gray-700 min-w-[200px]",children:"Name"}),i.jsx("th",{className:"text-left p-4 text-gray-700 min-w-[200px]",children:"Email"}),i.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[100px]",children:"Role"}),i.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[100px]",children:"Status"}),i.jsx("th",{className:"text-center p-4 text-gray-700 min-w-[120px]",children:"Actions"})]})}),i.jsx("tbody",{children:ke.map(Ue=>i.jsxs("tr",{className:"border-t border-gray-200 hover:bg-gray-50",children:[i.jsx("td",{className:"p-4 text-center",children:i.jsx("input",{type:"checkbox",checked:Ae.includes(Ue.id),onChange:Je=>Ct(Ue.id,Je.target.checked),className:"h-4 w-4 text-blue-600 rounded border-gray-300 bg-white focus:ring-blue-500"})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-gray-900",children:[Ue.first_name," ",Ue.last_name]}),i.jsx("p",{className:"text-sm text-gray-500",children:Ue.phone||"No phone"})]})}),i.jsx("td",{className:"p-4 text-gray-900",children:Ue.email}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${Ue.role==="admin"?"bg-emerald-600 text-emerald-100":"bg-slate-600 text-slate-100"}`,children:Ue.role})}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${Ue.status==="active"?"bg-green-100 text-green-800":Ue.status==="blocked"?"bg-red-100 text-red-800":Ue.status==="suspended"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:Ue.status||"active"})}),i.jsx("td",{className:"p-4 text-center",children:i.jsxs("div",{className:"flex justify-center space-x-2",children:[i.jsx("button",{onClick:()=>J(Ue),className:"text-green-600 hover:text-green-700",title:"View Customer Info",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),i.jsx("button",{onClick:()=>te(Ue),className:"text-blue-600 hover:text-blue-700",title:"Edit Customer",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),Ue.status==="active"?i.jsx("button",{onClick:()=>Be(Ue.id,"blocked"),className:"text-red-600 hover:text-red-700",title:"Block User",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})})}):i.jsx("button",{onClick:()=>Be(Ue.id,"active"),className:"text-green-600 hover:text-green-700",title:"Unblock User",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsx("button",{onClick:()=>le(Ue.id),className:"text-red-600 hover:text-red-700",title:"Delete Customer",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})})]},Ue.id))})]})}),i.jsx(Vm,{totalItems:Me.length,itemsPerPage:q,currentPage:B,onPageChange:re,onItemsPerPageChange:G})]}),!r&&!a&&Me.length>0&&i.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",ze+1," to ",Math.min(ut,Me.length)," of ",Me.length," users"]})]})},DB=()=>{const{success:t,error:e}=ja(),[r,n]=ee.useState([]),[a,s]=ee.useState(!0),[c,h]=ee.useState({}),[g,u]=ee.useState(!1);ee.useEffect(()=>{m()},[]);const m=()=>_e(null,null,function*(){var _,C,A,j;try{s(!0);const L=yield Gr.get("/admin/user-approval");n(L.data.data||[]),u(!1)}catch(L){console.error("Error fetching pending users:",L),(C=(_=L.response)==null?void 0:_.data)!=null&&C.migration_required?(u(!0),e("Database migration required. Please run the SQL script first.")):e(((j=(A=L.response)==null?void 0:A.data)==null?void 0:j.message)||"Failed to fetch pending users")}finally{s(!1)}}),v=(_,C,A="")=>_e(null,null,function*(){var j,L;try{h(M=>sr(zt({},M),{[_]:!0}));const D=yield Gr.post("/admin/user-approval",{user_id:_,action:C,reason:A});t(D.data.message),n(M=>M.filter(X=>X.id!==_))}catch(D){console.error(`Error ${C}ing user:`,D),e(((L=(j=D.response)==null?void 0:j.data)==null?void 0:L.message)||`Failed to ${C} user`)}finally{h(D=>sr(zt({},D),{[_]:!1}))}}),b=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(on,{size:"lg",text:"Loading pending users..."})}):i.jsx("div",{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Approval"}),i.jsxs("div",{className:"text-sm text-midnight-400",children:[r.length," pending approval",r.length!==1?"s":""]})]}),g?i.jsxs("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-8 text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-800 mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h3",{className:"text-lg font-medium text-yellow-100 mb-2",children:"Database Migration Required"}),i.jsx("p",{className:"text-yellow-200 mb-4",children:"The user approval system requires database changes. Please run the SQL migration script in Supabase."}),i.jsxs("div",{className:"bg-midnight-800 rounded p-4 text-left",children:[i.jsx("p",{className:"text-sm font-medium text-midnight-200 mb-2",children:"Steps to fix:"}),i.jsxs("ol",{className:"text-sm text-midnight-300 space-y-1",children:[i.jsx("li",{children:"1. Go to Supabase Dashboard  SQL Editor"}),i.jsxs("li",{children:["2. Copy and paste the SQL from ",i.jsx("code",{children:"add-user-approval-system.sql"})]}),i.jsx("li",{children:'3. Click "Run" to execute the migration'}),i.jsx("li",{children:"4. Refresh this page"})]})]}),i.jsx("button",{onClick:m,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-midnight-50 bg-midnight-600 hover:bg-midnight-500",children:"Retry After Migration"})]}):r.length===0?i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 shadow rounded-lg p-8 text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-800 mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),i.jsx("h3",{className:"text-lg font-medium text-midnight-100 mb-2",children:"All Caught Up!"}),i.jsx("p",{className:"text-midnight-400",children:"No users are currently pending approval."})]}):i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 shadow overflow-hidden sm:rounded-md",children:i.jsx("ul",{className:"divide-y divide-midnight-700",children:r.map(_=>{var C,A;return i.jsx("li",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"h-10 w-10 rounded-full bg-midnight-600 flex items-center justify-center",children:i.jsxs("span",{className:"text-sm font-medium text-midnight-200",children:[(C=_.first_name)==null?void 0:C[0],(A=_.last_name)==null?void 0:A[0]]})})}),i.jsxs("div",{className:"ml-4 flex-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("p",{className:"text-sm font-medium text-midnight-100",children:[_.first_name," ",_.last_name]}),i.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-800 text-yellow-200",children:"Pending"})]}),i.jsx("p",{className:"text-sm text-midnight-400",children:_.email}),_.phone&&i.jsxs("p",{className:"text-sm text-midnight-400",children:[" ",_.phone]}),_.address&&i.jsxs("p",{className:"text-sm text-midnight-400",children:[" ",_.address]}),i.jsxs("p",{className:"text-xs text-midnight-500 mt-1",children:["Registered: ",b(_.created_at)]})]})]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>v(_.id,"approve"),disabled:c[_.id],className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:c[_.id]?i.jsx(on,{size:"sm"}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Approve"]})}),i.jsx("button",{onClick:()=>v(_.id,"reject","Account rejected by admin"),disabled:c[_.id],className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:c[_.id]?i.jsx(on,{size:"sm"}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Reject"]})})]})]})},_.id)})})})]})})},c3=()=>{const{id:t}=$d(),e=Ii(),r=!!t,{success:n,error:a}=ja(),[s,c]=ee.useState({name:"",description:"",price:"",category_id:"",condition_status:"New",quantity:"",image_url:"",part_number:"",barcode:""}),[h,g]=ee.useState([]),[u,m]=ee.useState(!1),[v,b]=ee.useState(null),[_,C]=ee.useState(null),[A,j]=ee.useState(""),[L,D]=ee.useState(!1),M=ee.useRef(null);ee.useEffect(()=>{_e(null,null,function*(){try{const B=yield qm();g(B),B.length>0&&!r&&c(re=>sr(zt({},re),{category_id:B[0].id}))}catch(B){console.error("Error fetching categories:",B)}})},[r]),ee.useEffect(()=>{_e(null,null,function*(){if(r){m(!0);try{const B=yield Hm(t);c({name:B.name,description:B.description,price:B.price,category_id:B.category_id?String(B.category_id):"",condition_status:B.condition_status,quantity:B.quantity,image_url:B.image_url||"",part_number:B.part_number||"",barcode:B.barcode||""}),B.image_url&&j(B.image_url)}catch(B){b(B.message||"Failed to load product")}finally{m(!1)}}})},[t,r]),ee.useEffect(()=>{s.image_url&&(j(s.image_url),console.log("Setting image preview from URL:",s.image_url))},[s.image_url]),ee.useEffect(()=>{r&&s.image_url&&console.log("Edit mode active, image URL:",s.image_url)},[r,s.image_url]);const X=H=>{const{name:B,value:re}=H.target;c(q=>sr(zt({},q),{[B]:re}))},Q=H=>{const B=H.target.files[0];if(!B)return;if(!["image/jpeg","image/png","image/gif","image/jpg"].includes(B.type)){a("Invalid file type. Please upload a JPG, PNG, or GIF image.");return}if(B.size>5*1024*1024){a("File size too large. Maximum size is 5MB.");return}C(B);const q=new FileReader;q.onloadend=()=>{j(q.result)},q.readAsDataURL(B)},Y=()=>_e(null,null,function*(){if(!_){a("Please select an image to upload.");return}D(!0);try{const H=yield y_(_);if(console.log("Upload response:",H),H){const B=H;console.log("Setting image URL to:",B),c(q=>sr(zt({},q),{image_url:B})),j(B),n("Image uploaded successfully.");const re=JSON.parse(localStorage.getItem("uploadHistory")||"[]");re.push({timestamp:new Date().toISOString(),url:B,productId:t||"new"}),localStorage.setItem("uploadHistory",JSON.stringify(re))}else throw new Error("No file URL received from server");C(null),M.current&&(M.current.value="")}catch(H){console.error("Upload error:",H),a(H.message||"Failed to upload image.")}finally{D(!1)}}),V=H=>_e(null,null,function*(){H.preventDefault(),m(!0),b(null);try{console.log("Submitting product data:",s);let B=s.image_url;B?console.log("Using image URL:",B):console.log("No image URL provided");const re=sr(zt({},s),{price:parseFloat(s.price),quantity:parseInt(s.quantity),image_url:B,part_number:s.part_number||null,barcode:s.barcode||null});if(console.log("Final product data for submission:",re),r){const G=yield w_(zt({id:t},re));console.log("Product update response:",G),n("Product updated successfully")}else{const G=yield nv(re);console.log("Product creation response:",G),n("Product created successfully")}const q=JSON.parse(localStorage.getItem("productHistory")||"[]");q.push({timestamp:new Date().toISOString(),action:r?"update":"create",productId:t||"new",imageUrl:re.image_url}),localStorage.setItem("productHistory",JSON.stringify(q)),e("/admin/products")}catch(B){console.error("Product submission error:",B);const re=B.message||`Failed to ${r?"update":"create"} product`;b(re),a(re)}finally{m(!1)}});return i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{className:"mb-6",children:i.jsxs($t,{to:"/admin/products",className:"text-blue-600 hover:underline flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Products"]})}),i.jsx("h1",{className:"text-3xl font-bold mb-6",children:r?"Edit Product":"Add New Product"}),v&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:v}),i.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:i.jsxs("form",{onSubmit:V,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Product Name"}),i.jsx("input",{type:"text",name:"name",value:s.name,onChange:X,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Category"}),i.jsxs("select",{name:"category_id",value:s.category_id,onChange:X,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},required:!0,children:[i.jsx("option",{value:"",children:"Select Category"}),h.map(H=>i.jsx("option",{value:String(H.id),children:H.name},H.id))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Part Number"}),i.jsx("input",{type:"text",name:"part_number",value:s.part_number,onChange:X,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},placeholder:"e.g., YAM-RD350-001"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used to auto-generate barcode if not provided"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Barcode"}),i.jsx("input",{type:"text",name:"barcode",value:s.barcode,onChange:X,className:"w-full p-2 border rounded bg-gray-100",placeholder:"Auto-generated from part number",readOnly:r&&!!s.barcode}),r&&s.barcode&&i.jsxs("div",{className:"mt-2 p-3 bg-white border rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Barcode Preview:"}),i.jsx(Vh,{barcode:s.barcode,width:1.5,height:35}),i.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" Barcode: ",s.barcode]})]}),!s.barcode&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will be auto-generated when product is saved"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{name:"description",value:s.description,onChange:X,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},rows:"4"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Price ($)"}),i.jsx("input",{type:"number",name:"price",value:s.price,onChange:X,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Quantity"}),i.jsx("input",{type:"number",name:"quantity",value:s.quantity,onChange:X,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},min:"0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 mb-2",children:"Condition"}),i.jsxs("select",{name:"condition_status",value:s.condition_status,onChange:X,className:"w-full p-2 border rounded",style:{backgroundColor:"white",color:"#333"},required:!0,children:[i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Used - Like New",children:"Used - Like New"}),i.jsx("option",{value:"Used - Good",children:"Used - Good"}),i.jsx("option",{value:"Used - Fair",children:"Used - Fair"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-gray-700 mb-2 text-lg font-semibold",children:"Product Image"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{style:{border:"2px dashed #3b82f6",borderRadius:"8px",padding:"16px",backgroundColor:"#eff6ff",marginBottom:"16px"},children:[i.jsx("label",{style:{display:"block",color:"#374151",marginBottom:"12px",fontWeight:"500",fontSize:"18px"},children:" Upload Image from Computer"}),i.jsxs("div",{style:{marginBottom:"12px"},children:[i.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif,image/jpg",onChange:Q,ref:M,id:"file-input",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px",backgroundColor:"white",marginBottom:"12px"}}),i.jsx("button",{type:"button",onClick:()=>{var H;return(H=M.current)==null?void 0:H.click()},style:{width:"100%",backgroundColor:"#2563eb",color:"white",padding:"12px 16px",borderRadius:"8px",border:"none",fontWeight:"500",cursor:"pointer",marginBottom:"12px"},children:" Browse Files (Alternative)"})]}),_&&i.jsxs("div",{style:{backgroundColor:"white",padding:"8px",borderRadius:"4px",border:"1px solid #d1d5db",marginBottom:"12px"},children:[i.jsxs("p",{style:{fontSize:"14px",color:"#374151",margin:0},children:[i.jsx("strong",{children:"Selected:"})," ",_.name]}),i.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},children:["Size: ",(_.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx("button",{type:"button",onClick:Y,disabled:!_||L,style:{width:"100%",backgroundColor:_&&!L?"#16a34a":"#9ca3af",color:"white",padding:"12px 16px",borderRadius:"8px",border:"none",fontWeight:"500",cursor:_&&!L?"pointer":"not-allowed"},children:L?" Uploading...":" Upload to Server"}),i.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",marginTop:"12px",backgroundColor:"white",padding:"8px",borderRadius:"4px",margin:"12px 0 0 0"},children:[" ",i.jsx("strong",{children:"Supported formats:"})," JPG, JPEG, PNG, GIF",i.jsx("br",{})," ",i.jsx("strong",{children:"Maximum size:"})," 5MB"]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[i.jsx("label",{className:"block text-gray-700 mb-2 font-medium",children:" Or Enter Image URL"}),i.jsx("input",{type:"text",name:"image_url",value:s.image_url,onChange:X,className:"w-full p-2 border rounded",placeholder:"https://example.com/image.jpg"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter a direct URL to an image file"})]})]}),i.jsx("div",{children:A?i.jsxs("div",{className:"border-2 border-green-300 rounded-lg p-4 bg-green-50",children:[i.jsx("p",{className:"text-sm font-semibold mb-2 text-green-800",children:" Image Preview:"}),i.jsx("div",{className:"w-full h-48 bg-white border rounded overflow-hidden",children:i.jsx(_0,{src:Ru(A),alt:"Product preview",className:"object-contain w-full h-full",placeholderText:"Image Loading..."})}),i.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Image loaded successfully"})]}):i.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 flex items-center justify-center h-48 bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No image preview"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Upload an image or enter a URL to see preview"})]})})})]})]}),i.jsxs("div",{className:"flex justify-end",children:[i.jsx($t,{to:"/admin/products",className:"bg-gray-300 text-gray-800 px-6 py-2 rounded mr-2 hover:bg-gray-400",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-800 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center",disabled:u,children:u?i.jsx(rc,{text:"Saving...",variant:"gear",size:"sm"}):r?"Update Product":"Create Product"})]})]})})]})},PB=()=>{const{id:t}=$d(),e=Ii(),{success:r,error:n}=ja(),{isOpen:a,confirm:s,handleClose:c,handleConfirm:h,dialogProps:g}=Jd(),u=ee.useRef(null),[m,v]=ee.useState(null),[b,_]=ee.useState(!0),[C,A]=ee.useState(null),[j,L]=ee.useState(!1);ee.useEffect(()=>{_e(null,null,function*(){_(!0);try{const q=yield Hm(t);v(q)}catch(q){console.error("Error fetching product:",q),A(q.message||"Failed to load product")}finally{_(!1)}})},[t]);const D=()=>_e(null,null,function*(){if(m!=null&&m.part_number)try{yield navigator.clipboard.writeText(m.part_number),r("Part number copied to clipboard!")}catch(re){n("Failed to copy part number")}}),M=()=>_e(null,null,function*(){if(u.current)try{const re=u.current.getSvgElement();re&&(yield bE(re,m.part_number),r("Barcode image copied to clipboard!"))}catch(re){console.error("Copy image error:",re),n("Failed to copy barcode image. Right-click the barcode to copy manually.")}}),X=()=>_e(null,null,function*(){if(u.current)try{const re=u.current.getSvgElement();re&&(yield _E(re,`barcode-${m.part_number}`,m.part_number),r("Barcode downloaded!"))}catch(re){n("Failed to download barcode")}}),Q=()=>{if(!u.current)return;const re=u.current.getSvgElement();re&&EE({svgElement:re,productName:m.name,partNumber:m.part_number,price:m.price,showPrice:!0})},Y=()=>_e(null,null,function*(){const re=`${window.location.origin}/products/${m.id}`;try{yield navigator.clipboard.writeText(re),r("Product link copied to clipboard!"),L(!1)}catch(q){n("Failed to copy link")}}),V=()=>{const re=`${window.location.origin}/products/${m.id}`,q=`Check out this product: ${m.name}
Price: $${parseFloat(m.price).toFixed(2)}
Part Number: ${m.part_number||"N/A"}

${re}`,G=`https://wa.me/?text=${encodeURIComponent(q)}`;window.open(G,"_blank"),L(!1)},H=()=>_e(null,null,function*(){const re=`${window.location.origin}/products/${m.id}`;if(navigator.share)try{yield navigator.share({title:m.name,text:`Check out ${m.name} - $${parseFloat(m.price).toFixed(2)}`,url:re}),L(!1)}catch(q){q.name!=="AbortError"&&n("Failed to share")}else Y()}),B=()=>_e(null,null,function*(){try{yield s({title:"Delete Product",message:`Are you sure you want to delete "${m.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"}),yield im(m.id),r("Product deleted successfully"),e("/admin/products")}catch(re){}});return b?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading product details...",variant:"gear"})}):C?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-red-400 mb-4",children:C}),i.jsx($t,{to:"/admin/products",className:"text-blue-400 hover:underline",children:"Back to Products"})]}):m?i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx(Zd,{isOpen:a,onClose:c,onConfirm:h,title:g.title,message:g.message,confirmText:g.confirmText,cancelText:g.cancelText,confirmButtonClass:g.confirmButtonClass}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs($t,{to:"/admin/products",className:"text-blue-400 hover:text-blue-300 flex items-center mr-4",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back"]}),i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Product Details"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>L(!j),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"Share"]}),j&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-midnight-800 border border-midnight-600 rounded-lg shadow-lg z-20",children:[i.jsxs("button",{onClick:V,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center rounded-t-lg",children:[i.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),i.jsxs("button",{onClick:Y,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z"})}),"Copy Link"]}),navigator.share&&i.jsxs("button",{onClick:H,className:"w-full text-left px-4 py-3 text-white hover:bg-midnight-700 flex items-center rounded-b-lg",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 text-purple-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"More Options..."]})]})]}),i.jsxs($t,{to:`/admin/products/edit/${m.id}`,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),"Edit"]}),i.jsxs("button",{onClick:B,className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Delete"]})]})]}),i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[i.jsx("div",{className:"bg-midnight-800 rounded-lg overflow-hidden",children:i.jsx("div",{className:"h-64 lg:h-80",children:i.jsx(_0,{src:Ru(m.image_url),alt:m.name,className:"w-full h-full object-contain",placeholderText:"No Image Available"})})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:m.name}),i.jsx("p",{className:"text-gray-400",children:m.category_name||"Uncategorized"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-400 text-sm",children:"Price"}),i.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",parseFloat(m.price).toFixed(2)]})]}),i.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-400 text-sm",children:"Stock"}),i.jsx("p",{className:`text-2xl font-bold ${m.quantity>0?"text-green-400":"text-red-400"}`,children:m.quantity})]})]}),i.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Condition"}),i.jsx("span",{className:"inline-block bg-blue-600 text-white px-3 py-1 rounded-full text-sm",children:m.condition_status})]}),m.description&&i.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Description"}),i.jsx("p",{className:"text-white",children:m.description})]}),m.part_number&&i.jsxs("div",{className:"bg-midnight-800 p-4 rounded-lg",children:[i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Part Number"}),i.jsx("p",{className:"text-white font-mono text-lg",children:m.part_number})]})]})]}),i.jsxs("div",{className:"border-t border-midnight-700 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Barcode"}),m.part_number?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:i.jsx(Vh,{ref:u,barcode:m.part_number,size:"large",showPartNumber:!0,partNumber:m.part_number})}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:D,className:"flex items-center bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",title:"Copy barcode number",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),i.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),"Copy Number"]}),i.jsxs("button",{onClick:M,className:"flex items-center bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition-colors",title:"Copy barcode as image",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Copy Image"]}),i.jsxs("button",{onClick:X,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",title:"Download barcode as PNG",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PNG"]}),i.jsxs("button",{onClick:Q,className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",title:"Print barcode label",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Label"]})]})]}):i.jsxs("div",{className:"bg-midnight-800 p-6 rounded-lg text-center",children:[i.jsx("p",{className:"text-gray-400 mb-2",children:"No barcode assigned"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Add a part number to the product to generate a barcode"}),i.jsx($t,{to:`/admin/products/edit/${m.id}`,className:"inline-block mt-4 text-blue-400 hover:text-blue-300",children:"Edit product to add part number "})]})]}),i.jsx("div",{className:"border-t border-midnight-700 p-6 bg-midnight-800",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Product ID"}),i.jsx("p",{className:"text-white font-mono",children:m.id})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Category ID"}),i.jsx("p",{className:"text-white font-mono",children:m.category_id||"None"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Created"}),i.jsx("p",{className:"text-white",children:m.created_at?new Date(m.created_at).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Last Updated"}),i.jsx("p",{className:"text-white",children:m.updated_at?new Date(m.updated_at).toLocaleDateString():"N/A"})]})]})})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-xl text-white mb-4",children:"Product not found"}),i.jsx($t,{to:"/admin/products",className:"text-blue-400 hover:underline",children:"Back to Products"})]})},FB=()=>{const{success:t,error:e}=ja(),r=ee.useRef(null),[n,a]=ee.useState(""),[s,c]=ee.useState(""),[h,g]=ee.useState("medium"),[u,m]=ee.useState(2),[v,b]=ee.useState(!1),[_,C]=ee.useState(""),[A,j]=ee.useState(""),L=()=>{if(!n.trim()){e("Please enter a barcode value");return}c(n.trim()),t("Barcode generated!")},D=()=>_e(null,null,function*(){if(s)try{yield navigator.clipboard.writeText(s),t("Barcode number copied to clipboard!")}catch(B){e("Failed to copy barcode number")}}),M=()=>_e(null,null,function*(){if(r.current)try{const B=r.current.getSvgElement();B&&(yield bE(B,s),t("Barcode image copied to clipboard!"))}catch(B){console.error("Copy image error:",B),e("Failed to copy barcode image. Right-click the barcode to copy manually.")}}),X=()=>_e(null,null,function*(){if(r.current)try{const B=r.current.getSvgElement();B&&(yield _E(B,`barcode-${s}`,s),t("Barcode PNG downloaded!"))}catch(B){e("Failed to download barcode")}}),Q=()=>{if(!r.current)return;const B=r.current.getSvgElement();B&&EE({svgElement:B,productName:v?_:"",partNumber:s,price:v?A:"",showPrice:v&&A})},Y=()=>{a(""),c(""),C(""),j(""),m(2)},H=(B=>{const re={1:{width:1.2,height:35,label:"XS"},2:{width:1.8,height:50,label:"S"},3:{width:2.2,height:65,label:"M"},4:{width:2.8,height:80,label:"L"},5:{width:3.5,height:100,label:"XL"}};return re[B]||re[3]})(u);return i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs($t,{to:"/admin/products",className:"text-blue-400 hover:text-blue-300 flex items-center mr-4",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back"]}),i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Barcode Generator"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Generate Barcode"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Barcode Value / Part Number *"}),i.jsx("input",{type:"text",value:n,onChange:B=>a(B.target.value),onKeyPress:B=>B.key==="Enter"&&L(),placeholder:"Enter part number or any text...",className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:border-blue-500",style:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#000",background:"#e2e8f0"}})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Barcode Size"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>m(Math.max(1,u-1)),disabled:u<=1,className:`w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center ${u<=1?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:""}),i.jsxs("div",{className:"flex-1 text-center",children:[i.jsx("span",{className:"text-white font-semibold text-lg",children:H.label}),i.jsxs("span",{className:"text-gray-400 text-sm ml-2",children:["(Level ",u,"/5)"]})]}),i.jsx("button",{onClick:()=>m(Math.min(5,u+1)),disabled:u>=5,className:`w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center ${u>=5?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:"+"})]})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:B=>b(B.target.checked),className:"mr-2 w-4 h-4"}),i.jsx("span",{className:"text-gray-400 text-sm",children:"Include product info for printing"})]})}),v&&i.jsxs("div",{className:"space-y-4 mb-4 p-4 bg-midnight-800 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Product Name (optional)"}),i.jsx("input",{type:"text",value:_,onChange:B=>C(B.target.value),placeholder:"Enter product name...",className:"w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500",style:{backgroundColor:"#e2e8f0",borderColor:"#334155",color:"#000"}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Price (optional)"}),i.jsx("input",{type:"number",step:"0.01",value:A,onChange:B=>j(B.target.value),placeholder:"0.00",className:"w-full px-4 py-2 border rounded focus:outline-none focus:border-blue-500",style:{backgroundColor:"#e2e8f0",borderColor:"#334155",color:"#000"}})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:L,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Generate Barcode"}),i.jsx("button",{onClick:Y,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Clear"})]})]}),i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Barcode Preview"}),s?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white p-8 rounded-lg flex justify-center",children:i.jsxs("div",{className:"text-center",children:[v&&_&&i.jsx("div",{className:"font-bold text-gray-800 mb-2",children:_}),i.jsx(Vh,{ref:r,barcode:s,width:H.width,height:H.height,showPartNumber:!0,partNumber:s}),v&&A&&i.jsxs("div",{className:"font-bold text-gray-800 text-xl mt-2",children:["$",parseFloat(A).toFixed(2)]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:D,className:"flex items-center justify-center bg-gray-600 text-white px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),i.jsx("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]}),"Copy Number"]}),i.jsxs("button",{onClick:M,className:"flex items-center justify-center bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Copy Image"]}),i.jsxs("button",{onClick:X,className:"flex items-center justify-center bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PNG"]}),i.jsxs("button",{onClick:Q,className:"flex items-center justify-center bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"})}),"Print Label"]})]}),i.jsx("div",{className:"bg-midnight-800 p-4 rounded-lg",children:i.jsxs("p",{className:"text-gray-400 text-sm",children:[i.jsx("strong",{className:"text-white",children:"Tip:"}),' For barcode printers, click "Print Label" and select your barcode printer. Adjust print settings as needed for label size.']})})]}):i.jsxs("div",{className:"bg-midnight-800 p-12 rounded-lg text-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),i.jsx("p",{className:"text-gray-400 mb-2",children:"No barcode generated yet"}),i.jsx("p",{className:"text-gray-500 text-sm",children:'Enter a part number or text and click "Generate Barcode"'})]})]})]})]})},MB=()=>localStorage.getItem("token"),af=(r,...n)=>_e(null,[r,...n],function*(t,e={}){const a=MB(),s=zt({headers:zt(zt({"Content-Type":"application/json"},a&&{Authorization:`Bearer ${a}`}),e.headers)},e);try{const c=yield fetch(`${ev}${t}`,s);if(!c.ok){const h=yield c.json().catch(()=>({}));throw new Error(h.message||`HTTP error! status: ${c.status}`)}return yield c.json()}catch(c){throw console.error(`API request failed for ${t}:`,c),c}}),Ux=(t=30,e=null,r=null)=>_e(null,null,function*(){try{let n="/analytics/financial?type=overview";e&&r?(console.log(` Fetching financial overview from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching financial overview for ${t} days`),n+=`&period=${t}`);const a=yield af(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch financial overview")}catch(n){throw console.error("Error fetching financial overview:",n),n}}),BB=(t=30,e=null,r=null)=>_e(null,null,function*(){try{let n="/analytics/financial?type=revenue";e&&r?(console.log(` Fetching revenue analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching revenue analytics for ${t} days`),n+=`&period=${t}`);const a=yield af(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch revenue analytics")}catch(n){throw console.error("Error fetching revenue analytics:",n),n}}),SE=(t=30,e=null,r=null)=>_e(null,null,function*(){try{let n="/analytics/financial?type=orders";e&&r?(console.log(` Fetching order analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching order analytics for ${t} days`),n+=`&period=${t}`);const a=yield af(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch order analytics")}catch(n){throw console.error("Error fetching order analytics:",n),n}}),UB=(t=30,e=null,r=null)=>_e(null,null,function*(){try{let n="/analytics/financial?type=products";e&&r?(console.log(` Fetching product analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching product analytics for ${t} days`),n+=`&period=${t}`);const a=yield af(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch product analytics")}catch(n){throw console.error("Error fetching product analytics:",n),n}}),AE=(t=30,e=null,r=null)=>_e(null,null,function*(){try{let n="/analytics/financial?type=customers";e&&r?(console.log(` Fetching customer analytics from ${e} to ${r}`),n+=`&startDate=${e}&endDate=${r}`):(console.log(` Fetching customer analytics for ${t} days`),n+=`&period=${t}`);const a=yield af(n);if(a.success)return a.data;throw new Error(a.message||"Failed to fetch customer analytics")}catch(n){throw console.error("Error fetching customer analytics:",n),n}}),u3=(t=30,e="json",r=null,n=null)=>_e(null,null,function*(){try{let a="/analytics/financial?type=export";r&&n?(console.log(` Exporting financial data from ${r} to ${n} in ${e} format`),a+=`&startDate=${r}&endDate=${n}`):(console.log(` Exporting financial data for ${t} days in ${e} format`),a+=`&period=${t}`);const s=yield af(a);if(s.success)return e==="csv"?zB(s.data,s.summary):s;throw new Error(s.message||"Failed to export financial data")}catch(a){throw console.error("Error exporting financial data:",a),a}}),zB=(t,e)=>{var c,h;if(!t||t.length===0)return`No data available for the selected period.

Please check:
1. Date range is correct
2. Orders exist in the selected period
3. Database connection is working`;console.log(` Converting ${t.length} rows to CSV format`);const r=Object.keys(t[0]).map(g=>g.replace(/_/g," ").toUpperCase()).join(","),n=t.map(g=>Object.values(g).map(u=>{if(u==null)return"";const m=String(u);return m.includes(",")||m.includes('"')||m.includes(`
`)?`"${m.replace(/"/g,'""')}"`:m}).join(",")),a=["","=== FINANCIAL REPORT SUMMARY ===",`Total Orders,${(e==null?void 0:e.totalOrders)||0}`,`Total Items Sold,${(e==null?void 0:e.totalItems)||0}`,`Total Revenue,$${((e==null?void 0:e.totalRevenue)||0).toFixed(2)}`,`Average Order Value,$${((e==null?void 0:e.averageOrderValue)||0).toFixed(2)}`,`Date Range,${((c=e==null?void 0:e.dateRange)==null?void 0:c.startDate)||""} to ${((h=e==null?void 0:e.dateRange)==null?void 0:h.endDate)||""}`,`Exported Rows,${(e==null?void 0:e.exportedRows)||t.length}`,`Report Generated,${new Date().toLocaleString()}`,"Generated By,Sardaarji Auto Parts Analytics System"],s=[r,...n,...a].join(`
`);return console.log(` CSV generated successfully with ${n.length} data rows and ${a.length} summary rows`),s},HB=(t,e="financial_report.csv")=>{const r=new Blob([t],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(n.download!==void 0){const a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",e),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},qB=(t=30)=>_e(null,null,function*(){try{const[e,r,n]=yield Promise.all([Ux(t),SE(t),AE(t)]);return{totalRevenue:e.revenue.total,completedRevenue:e.revenue.completed,pendingRevenue:e.revenue.pending,averageOrderValue:e.revenue.averageOrderValue,totalOrders:e.orders.total,completedOrders:e.orders.completed,pendingOrders:e.orders.pending,conversionRate:e.orders.total>0?e.orders.completed/e.orders.total*100:0,totalCustomers:n.metrics.totalCustomers,averageCustomerValue:n.metrics.averageCustomerValue,averageFulfillmentTime:r.fulfillmentMetrics.averageFulfillmentTime}}catch(e){throw console.error("Error fetching KPIs:",e),e}}),Ns=(t,e="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0),VB=(t,e=1)=>`${(t||0).toFixed(e)}%`,Yi=t=>new Intl.NumberFormat("en-US").format(t||0),WB=()=>[{value:7,label:"Last 7 days"},{value:30,label:"Last 30 days"},{value:90,label:"Last 3 months"},{value:180,label:"Last 6 months"},{value:365,label:"Last year"}],GB=()=>{const[t,e]=ee.useState("overview"),[r,n]=ee.useState(30),[a,s]=ee.useState({startDate:"",endDate:"",enabled:!1}),[c,h]=ee.useState(!0),[g,u]=ee.useState({}),[m,v]=ee.useState(null),{success:b,error:_}=ja(),C=WB();ee.useEffect(()=>{A()},[r,t,a]);const A=()=>_e(null,null,function*(){h(!0),v(null);try{let D={};const M=a.enabled&&a.startDate&&a.endDate?{startDate:a.startDate,endDate:a.endDate}:{period:r};switch(t){case"overview":D=yield Ux(M.period,M.startDate,M.endDate);break;case"revenue":D=yield BB(M.period,M.startDate,M.endDate);break;case"orders":D=yield SE(M.period,M.startDate,M.endDate);break;case"products":D=yield UB(M.period,M.startDate,M.endDate);break;case"customers":D=yield AE(M.period,M.startDate,M.endDate);break;default:D=yield Ux(M.period,M.startDate,M.endDate)}u(D)}catch(D){v(D.message),_("Failed to load analytics data: "+D.message)}finally{h(!1)}}),j=()=>_e(null,null,function*(){try{let D,M;a.enabled&&a.startDate&&a.endDate?(D=yield u3(null,"csv",a.startDate,a.endDate),M=`financial_report_${a.startDate}_to_${a.endDate}.csv`):(D=yield u3(r,"csv"),M=`financial_report_${r}days_${new Date().toISOString().split("T")[0]}.csv`),HB(D,M),b("Financial report exported successfully")}catch(D){_("Failed to export data: "+D.message)}}),L=[{id:"overview",label:"Overview",icon:""},{id:"revenue",label:"Revenue",icon:""},{id:"orders",label:"Orders",icon:""},{id:"products",label:"Products",icon:""},{id:"customers",label:"Customers",icon:""}];return c?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading financial analytics...",variant:"gear"})}):m?i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 max-w-md mx-auto",children:[i.jsx("h3",{className:"text-red-100 font-semibold mb-2",children:"Analytics Error"}),i.jsx("p",{className:"text-red-200 mb-4",children:m}),i.jsx("button",{onClick:A,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Retry"})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Financial Analytics"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"customDateRange",checked:a.enabled,onChange:D=>s(M=>sr(zt({},M),{enabled:D.target.checked,startDate:D.target.checked?M.startDate:"",endDate:D.target.checked?M.endDate:""})),className:"rounded border-midnight-600 bg-midnight-800 text-blue-600 focus:ring-blue-500"}),i.jsx("label",{htmlFor:"customDateRange",className:"text-white text-sm",children:"Custom Date Range"})]}),!a.enabled&&i.jsx("select",{value:r,onChange:D=>n(parseInt(D.target.value)),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:C.map(D=>i.jsx("option",{value:D.value,children:D.label},D.value))}),a.enabled&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-white text-sm",children:"From:"}),i.jsx("input",{type:"date",value:a.startDate,onChange:D=>s(M=>sr(zt({},M),{startDate:D.target.value})),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-white text-sm",children:"To:"}),i.jsx("input",{type:"date",value:a.endDate,onChange:D=>s(M=>sr(zt({},M),{endDate:D.target.value})),className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500"})]})]}),i.jsxs("button",{onClick:j,disabled:a.enabled&&(!a.startDate||!a.endDate),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]}),i.jsx("div",{className:"border-b border-midnight-700",children:i.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:L.map(D=>i.jsxs("button",{onClick:()=>e(D.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===D.id?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:[i.jsx("span",{children:D.icon}),i.jsx("span",{children:D.label})]},D.id))})}),i.jsxs("div",{className:"mt-6",children:[t==="overview"&&i.jsx($B,{data:g}),t==="revenue"&&i.jsx(XB,{data:g}),t==="orders"&&i.jsx(YB,{data:g}),t==="products"&&i.jsx(KB,{data:g}),t==="customers"&&i.jsx(ZB,{data:g})]})]})},$B=({data:t})=>{var e;return t.revenue?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Xo,{title:"Total Revenue",value:Ns(t.revenue.total),icon:"",color:"green"}),i.jsx(Xo,{title:"Completed Revenue",value:Ns(t.revenue.completed),icon:"",color:"blue"}),i.jsx(Xo,{title:"Pending Revenue",value:Ns(t.revenue.pending),icon:"",color:"yellow"}),i.jsx(Xo,{title:"Avg Order Value",value:Ns(t.revenue.averageOrderValue),icon:"",color:"emerald"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Xo,{title:"Total Orders",value:Yi(t.orders.total),icon:"",color:"indigo"}),i.jsx(Xo,{title:"Completed Orders",value:Yi(t.orders.completed),icon:"",color:"green"}),i.jsx(Xo,{title:"Pending Orders",value:Yi(t.orders.pending),icon:"",color:"orange"})]}),((e=t.trends)==null?void 0:e.revenueByPaymentMethod)&&i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue by Payment Method"}),i.jsx("div",{className:"space-y-3",children:Object.entries(t.trends.revenueByPaymentMethod).map(([r,n])=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300 capitalize",children:r.replace("_"," ")}),i.jsx("span",{className:"text-white font-semibold",children:Ns(n)})]},r))})]})]}):i.jsx("div",{className:"text-gray-400",children:"No overview data available"})},XB=({data:t})=>t.monthlyRevenue?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Monthly Revenue Breakdown"}),i.jsx("div",{className:"space-y-4",children:Object.entries(t.monthlyRevenue).map(([e,r])=>i.jsxs("div",{className:"border-b border-midnight-700 pb-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-300 font-medium",children:e}),i.jsx("span",{className:"text-white font-semibold",children:Ns(r.total)})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Completed: "}),i.jsx("span",{className:"text-green-400",children:Ns(r.completed)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Pending: "}),i.jsx("span",{className:"text-yellow-400",children:Ns(r.pending)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Orders: "}),i.jsx("span",{className:"text-blue-400",children:r.orders})]})]})]},e))})]}),t.revenueGrowth&&t.revenueGrowth.length>0&&i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Growth"}),i.jsx("div",{className:"space-y-3",children:t.revenueGrowth.map(({month:e,growth:r})=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:e}),i.jsxs("span",{className:`font-semibold ${parseFloat(r)>=0?"text-green-400":"text-red-400"}`,children:[parseFloat(r)>=0?"+":"",r,"%"]})]},e))})]})]}):i.jsx("div",{className:"text-gray-400",children:"No revenue data available"}),YB=({data:t})=>t.statusDistribution?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Status Distribution"}),i.jsx("div",{className:"space-y-4",children:Object.entries(t.statusDistribution).map(([e,r])=>i.jsx("div",{className:"border-b border-midnight-700 pb-3",children:i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-300 capitalize font-medium",children:e.replace("_"," ")}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-white font-semibold",children:[r.count," orders"]}),i.jsx("div",{className:"text-gray-400 text-sm",children:Ns(r.revenue)})]})]})},e))})]}),t.fulfillmentMetrics&&i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Fulfillment Metrics"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(Xo,{title:"Avg Fulfillment Time",value:`${t.fulfillmentMetrics.averageFulfillmentTime} days`,icon:"",color:"blue"}),i.jsx(Xo,{title:"Fulfilled Orders",value:Yi(t.fulfillmentMetrics.totalFulfilledOrders),icon:"",color:"green"})]})]})]}):i.jsx("div",{className:"text-gray-400",children:"No order data available"}),KB=({data:t})=>(console.log("ProductsTab data:",t),t?t.topProducts?t.topProducts.length===0?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Selling Products"}),i.jsxs("div",{className:"text-gray-400 text-center py-8",children:[i.jsx("p",{children:"No products sold in the selected time period."}),i.jsx("p",{className:"text-sm mt-2",children:"Try selecting a longer date range or check if orders contain product items."})]})]})}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Selling Products"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-midnight-700",children:[i.jsx("th",{className:"text-left py-2 text-gray-300",children:"Product"}),i.jsx("th",{className:"text-left py-2 text-gray-300",children:"Category"}),i.jsx("th",{className:"text-right py-2 text-gray-300",children:"Quantity Sold"}),i.jsx("th",{className:"text-right py-2 text-gray-300",children:"Revenue"}),i.jsx("th",{className:"text-right py-2 text-gray-300",children:"Orders"})]})}),i.jsx("tbody",{children:t.topProducts.map((e,r)=>i.jsxs("tr",{className:"border-b border-midnight-800",children:[i.jsx("td",{className:"py-3 text-white",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"bg-midnight-700 text-midnight-200 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3",children:r+1}),e.name]})}),i.jsx("td",{className:"py-3 text-gray-300",children:e.category}),i.jsx("td",{className:"py-3 text-right text-white",children:Yi(e.totalQuantity)}),i.jsx("td",{className:"py-3 text-right text-white",children:Ns(e.totalRevenue)}),i.jsx("td",{className:"py-3 text-right text-white",children:Yi(e.orderCount)})]},e.id))})]})})]})}):i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Product Analytics"}),i.jsxs("div",{className:"text-gray-400 text-center py-8",children:[i.jsx("p",{children:"No product sales data available for the selected period."}),i.jsx("p",{className:"text-sm mt-2",children:"This could mean:"}),i.jsxs("ul",{className:"text-sm mt-2 space-y-1",children:[i.jsx("li",{children:" No orders have been placed yet"}),i.jsx("li",{children:" No order items exist in the database"}),i.jsx("li",{children:" The selected date range has no sales"})]})]})]})}):i.jsx("div",{className:"text-gray-400",children:"Loading product data..."})),ZB=({data:t})=>t.topCustomers?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Xo,{title:"Total Customers",value:Yi(t.metrics.totalCustomers),icon:"",color:"blue"}),i.jsx(Xo,{title:"Avg Customer Value",value:Ns(t.metrics.averageCustomerValue),icon:"",color:"emerald"}),i.jsx(Xo,{title:"Total Revenue",value:Ns(t.metrics.totalRevenue),icon:"",color:"green"})]}),i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Customers by Spending"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-midnight-700",children:[i.jsx("th",{className:"text-left py-2 text-gray-300",children:"Customer"}),i.jsx("th",{className:"text-right py-2 text-gray-300",children:"Orders"}),i.jsx("th",{className:"text-right py-2 text-gray-300",children:"Total Spent"}),i.jsx("th",{className:"text-right py-2 text-gray-300",children:"Last Order"})]})}),i.jsx("tbody",{children:t.topCustomers.map((e,r)=>i.jsxs("tr",{className:"border-b border-midnight-800",children:[i.jsx("td",{className:"py-3 text-white",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"bg-midnight-700 text-midnight-200 rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3",children:r+1}),i.jsxs("div",{children:[i.jsx("div",{children:e.name||"Unknown"}),i.jsx("div",{className:"text-gray-400 text-sm",children:e.email})]})]})}),i.jsx("td",{className:"py-3 text-right text-white",children:Yi(e.orderCount)}),i.jsx("td",{className:"py-3 text-right text-white",children:Ns(e.totalSpent)}),i.jsx("td",{className:"py-3 text-right text-gray-300",children:new Date(e.lastOrder).toLocaleDateString()})]},e.id))})]})})]})]}):i.jsx("div",{className:"text-gray-400",children:"No customer data available"}),Xo=({title:t,value:e,icon:r,color:n="blue"})=>{const a={blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",purple:"bg-emerald-600",red:"bg-red-600",indigo:"bg-indigo-600",orange:"bg-orange-600"};return i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`p-3 rounded-full ${a[n]} text-white mr-4`,children:i.jsx("span",{className:"text-xl",children:r})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-300 text-sm",children:t}),i.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})]})})},JB=()=>{const[t,e]=ee.useState(null),[r,n]=ee.useState(!0),[a,s]=ee.useState(null),{error:c}=ja();ee.useEffect(()=>{h()},[]);const h=()=>_e(null,null,function*(){try{n(!0);const g=yield qB(30);e(g)}catch(g){s(g.message),c("Failed to load analytics data: "+g.message)}finally{n(!1)}});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"Financial Analytics"}),i.jsx("p",{className:"text-gray-400 mt-1",children:"Comprehensive financial reporting and business intelligence"})]}),i.jsx("div",{className:"flex space-x-3",children:i.jsxs($t,{to:"/admin",className:"flex items-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]}),r?i.jsx("div",{className:"text-center py-8",children:i.jsx(on,{size:"lg",text:"Loading KPIs...",variant:"gear"})}):a?i.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4",children:[i.jsxs("p",{className:"text-red-200",children:["Failed to load KPIs: ",a]}),i.jsx("button",{onClick:h,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Retry"})]}):t&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(qg,{title:"Total Revenue (30d)",value:Ns(t.totalRevenue),subtitle:`${Yi(t.totalOrders)} orders`,icon:"",color:"green"}),i.jsx(qg,{title:"Avg Order Value",value:Ns(t.averageOrderValue),subtitle:`${VB(t.conversionRate)} conversion`,icon:"",color:"blue"}),i.jsx(qg,{title:"Customer Value",value:Ns(t.averageCustomerValue),subtitle:`${Yi(t.totalCustomers)} customers`,icon:"",color:"emerald"}),i.jsx(qg,{title:"Fulfillment Time",value:`${t.averageFulfillmentTime} days`,subtitle:`${Yi(t.completedOrders)} completed`,icon:"",color:"orange"})]}),t&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Status"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Completed Revenue"}),i.jsx("span",{className:"text-green-400 font-semibold",children:Ns(t.completedRevenue)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Pending Revenue"}),i.jsx("span",{className:"text-yellow-400 font-semibold",children:Ns(t.pendingRevenue)})]}),i.jsx("div",{className:"pt-2 border-t border-midnight-700",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-medium",children:"Total Revenue"}),i.jsx("span",{className:"text-white font-bold text-lg",children:Ns(t.totalRevenue)})]})})]})]}),i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Status"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Completed Orders"}),i.jsx("span",{className:"text-green-400 font-semibold",children:Yi(t.completedOrders)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-300",children:"Pending Orders"}),i.jsx("span",{className:"text-yellow-400 font-semibold",children:Yi(t.pendingOrders)})]}),i.jsx("div",{className:"pt-2 border-t border-midnight-700",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white font-medium",children:"Total Orders"}),i.jsx("span",{className:"text-white font-bold text-lg",children:Yi(t.totalOrders)})]})})]})]})]}),i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:i.jsx(GB,{})}),i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analytics Features"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsx(Ed,{icon:"",title:"Financial Overview",description:"Complete revenue breakdown, order metrics, and payment method analysis"}),i.jsx(Ed,{icon:"",title:"Revenue Analytics",description:"Monthly revenue trends, growth analysis, and revenue forecasting"}),i.jsx(Ed,{icon:"",title:"Order Analytics",description:"Order status distribution, fulfillment metrics, and processing times"}),i.jsx(Ed,{icon:"",title:"Product Performance",description:"Top selling products, category analysis, and inventory insights"}),i.jsx(Ed,{icon:"",title:"Customer Analytics",description:"Customer lifetime value, purchase behavior, and retention metrics"}),i.jsx(Ed,{icon:"",title:"Data Export",description:"Export financial reports in CSV format for external analysis"})]})]}),i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs($t,{to:"/admin/orders",className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Manage Orders"]}),i.jsxs($t,{to:"/admin/products",className:"btn-primary flex items-center px-4 py-2",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Manage Products"]}),i.jsxs($t,{to:"/admin/users",className:"flex items-center bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Manage Users"]})]})]})]})},qg=({title:t,value:e,subtitle:r,icon:n,color:a="blue"})=>{const s={blue:"bg-blue-600",green:"bg-green-600",purple:"bg-emerald-600",orange:"bg-orange-600",red:"bg-red-600",indigo:"bg-indigo-600"};return i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`p-2 rounded-full ${s[a]} text-white mr-3`,children:i.jsx("span",{className:"text-lg",children:n})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide",children:t}),i.jsx("p",{className:"text-white font-bold text-lg",children:e}),r&&i.jsx("p",{className:"text-gray-400 text-sm",children:r})]})]})})},Ed=({icon:t,title:e,description:r})=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl mb-2",children:t}),i.jsx("h4",{className:"text-white font-semibold mb-2",children:e}),i.jsx("p",{className:"text-gray-400 text-sm",children:r})]}),QB=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState(!0),[a,s]=ee.useState(null),[c,h]=ee.useState("all"),[g,u]=ee.useState(1),[m,v]=ee.useState({}),{success:b,error:_}=ja(),{isOpen:C,confirm:A,handleClose:j,handleConfirm:L,dialogProps:D}=Jd();ee.useEffect(()=>{M()},[c,g]);const M=()=>_e(null,null,function*(){try{n(!0),s(null);const V=yield R7({page:g,limit:20,status:c});e(V.reviews||[]),v(V.pagination||{})}catch(V){s(V.message),_("Failed to load reviews: "+V.message)}finally{n(!1)}}),X=(V,H)=>_e(null,null,function*(){try{yield k7(V,H),b(`Review ${H?"approved":"rejected"} successfully`),M()}catch(B){_("Failed to moderate review: "+B.message)}}),Q=V=>_e(null,null,function*(){try{yield A({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",confirmButtonClass:"bg-red-600 hover:bg-red-700"});try{yield __(V),b("Review deleted successfully"),M()}catch(H){_("Failed to delete review: "+H.message)}}catch(H){console.log("Review deletion cancelled")}}),Y=[{value:"all",label:"All Reviews"},{value:"pending",label:"Pending Approval"},{value:"approved",label:"Approved"}];return r&&t.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading reviews...",variant:"gear"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-white",children:"Review Management"}),i.jsx("p",{className:"text-gray-400 mt-1",children:"Moderate and manage customer reviews"})]}),i.jsxs($t,{to:"/admin",className:"flex items-center bg-midnight-700 text-midnight-50 px-4 py-2 rounded hover:bg-midnight-600 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]}),i.jsx("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[i.jsx("label",{className:"text-white font-medium",children:"Filter by status:"}),i.jsx("select",{value:c,onChange:V=>{h(V.target.value),u(1)},className:"bg-midnight-800 border border-midnight-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:Y.map(V=>i.jsx("option",{value:V.value,children:V.label},V.value))}),i.jsxs("div",{className:"text-gray-400 text-sm ml-auto",children:[m.total||0," total reviews"]})]})}),a?i.jsx("div",{className:"text-center py-8",children:i.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 max-w-md mx-auto",children:[i.jsx("h3",{className:"text-red-100 font-semibold mb-2",children:"Error Loading Reviews"}),i.jsx("p",{className:"text-red-200 mb-4",children:a}),i.jsx("button",{onClick:M,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Try Again"})]})}):t.length===0?i.jsx("div",{className:"text-center py-12",children:i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-8",children:[i.jsx("h3",{className:"text-white font-semibold mb-2",children:"No Reviews Found"}),i.jsx("p",{className:"text-gray-400",children:c==="pending"?"No reviews are pending approval":c==="approved"?"No approved reviews found":"No reviews have been submitted yet"})]})}):i.jsx("div",{className:"space-y-4",children:t.map(V=>i.jsx(eU,{review:V,onApprove:H=>X(H,!0),onReject:H=>X(H,!1),onDelete:Q},V.id))}),m.totalPages>1&&i.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[i.jsx("button",{onClick:()=>u(V=>Math.max(1,V-1)),disabled:g===1,className:"px-4 py-2 bg-midnight-800 border border-midnight-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-midnight-700",children:"Previous"}),Array.from({length:Math.min(5,m.totalPages)},(V,H)=>{const B=H+1;return i.jsx("button",{onClick:()=>u(B),className:`px-4 py-2 border rounded ${g===B?"bg-blue-600 text-white border-blue-600":"bg-midnight-800 border-midnight-600 text-white hover:bg-midnight-700"}`,children:B},B)}),i.jsx("button",{onClick:()=>u(V=>Math.min(m.totalPages,V+1)),disabled:g===m.totalPages,className:"px-4 py-2 bg-midnight-800 border border-midnight-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-midnight-700",children:"Next"})]}),i.jsx(Zd,{isOpen:C,onClose:j,onConfirm:L,title:D.title,message:D.message,confirmText:D.confirmText,cancelText:D.cancelText,confirmButtonClass:D.confirmButtonClass})]})},eU=({review:t,onApprove:e,onReject:r,onDelete:n})=>{var s,c,h,g;const a=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"bg-midnight-900 border border-midnight-700 rounded-lg p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Wm,{rating:t.rating,size:"sm"}),i.jsxs("span",{className:"text-white font-semibold",children:[(s=t.users)==null?void 0:s.first_name," ",(c=t.users)==null?void 0:c.last_name]}),i.jsxs("span",{className:"text-gray-400 text-sm",children:["(",(h=t.users)==null?void 0:h.email,")"]}),t.is_verified_purchase&&i.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-gray-400 text-sm",children:["Product: ",i.jsx("span",{className:"text-white",children:(g=t.products)==null?void 0:g.name})]}),i.jsx("span",{className:"text-gray-400 text-sm",children:a(t.created_at)})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t.is_approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.is_approved?"Approved":"Pending"})})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[t.review_title&&i.jsx("h4",{className:"font-semibold text-white",children:t.review_title}),t.review_text&&i.jsx("p",{className:"text-gray-300 leading-relaxed",children:t.review_text})]}),i.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-sm text-gray-400",children:[i.jsxs("span",{children:["Helpful votes: ",t.helpful_count]}),t.updated_at!==t.created_at&&i.jsxs("span",{children:["Updated: ",a(t.updated_at)]})]}),i.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-midnight-700",children:[!t.is_approved&&i.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve"]}),t.is_approved&&i.jsxs("button",{onClick:()=>r(t.id),className:"flex items-center bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject"]}),i.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})},tU=({currentLogo:t,onLogoUpdate:e})=>{const[r,n]=ee.useState(!1),[a,s]=ee.useState(!1),[c,h]=ee.useState(t),g=ee.useRef(null),{success:u,error:m}=ja(),v=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"],b=5*1024*1024,_=Y=>v.includes(Y.type)?Y.size>b?(m("File size must be less than 5MB"),!1):!0:(m("Please upload a valid image file (JPG, PNG, GIF, WebP, SVG)"),!1),C=Y=>{if(!_(Y))return;const V=new FileReader;V.onload=H=>{h(H.target.result)},V.readAsDataURL(Y),A(Y)},A=Y=>_e(null,null,function*(){var V;n(!0);try{console.log("Uploading logo file:",Y.name,"Size:",Y.size,"Type:",Y.type);const H=yield new Promise((me,de)=>{const we=new FileReader;we.onload=()=>{const Ae=we.result.split(",")[1];me(Ae)},we.onerror=de,we.readAsDataURL(Y)});console.log("Logo file converted to base64, length:",H.length);const re=JSON.parse(localStorage.getItem("user")||"{}").token||localStorage.getItem("token")||"";if(console.log("Using auth token:",re?"Token exists":"No token"),!re){m("No authentication token found. Please login again.");return}const q={"Content-Type":"application/json"};q.Authorization=`Bearer ${re}`;const G={filename:Y.name,mimetype:Y.type,data:H};console.log("Making logo upload request to:","/api/admin/logo-upload"),console.log("Headers:",q),console.log("Payload size:",JSON.stringify(G).length,"bytes");const se=yield fetch("/api/admin/logo-upload",{method:"POST",headers:q,body:JSON.stringify(G)});console.log("Logo upload response:",se.status,se.statusText);const ye=yield se.json();if(console.log("Logo upload response data:",ye),ye.success){const me=ye.logoUrl||ye.file_url||((V=ye.data)==null?void 0:V.url);me?(console.log("Logo upload successful:",me),u("Logo uploaded successfully!"),h(me),e&&e(me),setTimeout(()=>{window.location.reload()},1e3)):(console.error("No logo URL found in response:",ye),m("No logo URL received from server"),h(t))}else console.error(" Logo upload failed:",ye),m(ye.message||"Failed to upload logo"),h(t)}catch(H){console.error("Logo upload error:",H),m("Failed to upload logo"),h(t)}finally{n(!1)}}),j=Y=>{Y.preventDefault(),Y.stopPropagation(),Y.type==="dragenter"||Y.type==="dragover"?s(!0):Y.type==="dragleave"&&s(!1)},L=Y=>{Y.preventDefault(),Y.stopPropagation(),s(!1),Y.dataTransfer.files&&Y.dataTransfer.files[0]&&C(Y.dataTransfer.files[0])},D=Y=>{Y.target.files&&Y.target.files[0]&&C(Y.target.files[0])},M=()=>{var Y;(Y=g.current)==null||Y.click()},X=()=>_e(null,null,function*(){const Y=localStorage.getItem("token");console.log(" Testing admin access...",{hasToken:!!Y,tokenLength:Y?Y.length:0});try{const H=yield(yield fetch("/api/admin/test-logo",{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}})).json();console.log(" Test result:",H),H.success?u(" Admin access verified!"):m(` Admin access failed: ${H.message}`)}catch(V){console.error(" Test error:",V),m("Failed to test admin access")}}),Q=()=>_e(null,null,function*(){if(window.confirm("Are you sure you want to remove the current logo?")){n(!0);try{const Y=localStorage.getItem("token"),H=yield(yield fetch("/api/admin/remove-logo",{method:"DELETE",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}})).json();H.success?(u("Logo removed successfully!"),h(null),e&&e(null),setTimeout(()=>{window.location.reload()},1e3)):m(H.message||"Failed to remove logo")}catch(Y){console.error("Logo removal error:",Y),m("Failed to remove logo")}finally{n(!1)}}});return i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Website Logo"}),i.jsx("button",{onClick:X,className:"bg-blue-100 text-blue-700 px-3 py-1 rounded text-sm hover:bg-blue-200",children:"Test Admin Access"})]}),c&&i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Logo"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-32 h-32 border-2 border-gray-200 rounded-lg flex items-center justify-center bg-gray-50",children:i.jsx("img",{src:c,alt:"Current Logo",className:"max-w-full max-h-full object-contain"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"This logo appears in the header, footer, and as the website favicon."}),i.jsx("button",{onClick:Q,disabled:r,className:"text-red-600 hover:text-red-700 text-sm font-medium disabled:opacity-50",children:"Remove Logo"})]})]})]}),i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${a?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:L,children:[i.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:D,className:"hidden"}),r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Uploading logo..."})]}):i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:a?"Drop your logo here":"Upload Website Logo"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Drag and drop your logo here, or click to browse"}),i.jsx("button",{onClick:M,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})]}),i.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[i.jsx("p",{className:"font-medium mb-2",children:"Requirements:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Supported formats: JPG, PNG, GIF, WebP, SVG"}),i.jsx("li",{children:"Maximum file size: 5MB"}),i.jsx("li",{children:"Recommended size: 200x200px or larger"}),i.jsx("li",{children:"Square or rectangular logos work best"})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Where your logo will appear:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Website header (navigation bar)"}),i.jsx("li",{children:" Website footer"}),i.jsx("li",{children:" Browser tab (favicon)"}),i.jsx("li",{children:" Google search results"}),i.jsx("li",{children:" Social media shares"}),i.jsx("li",{children:" Email templates"})]})]})]})},rU=()=>{const{user:t,isAdmin:e}=bi(),{error:r}=ja(),[n,a]=ee.useState(null),[s,c]=ee.useState(!0);ee.useEffect(()=>{if(!e()){r("Admin access required");return}h()},[]);const h=()=>_e(null,null,function*(){try{const m=yield(yield fetch("/api/admin/site-config")).json();m.success&&m.config.logo&&a(m.config.logo)}catch(u){console.error("Error fetching current logo:",u)}finally{c(!1)}}),g=u=>{a(u)};return e()?s?i.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsx("div",{className:"min-h-screen bg-gray-100",children:i.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Logo Management"}),i.jsx("p",{className:"text-gray-600",children:"Upload and manage your website logo. The logo will appear across your entire website and in search results."})]}),i.jsx(tU,{currentLogo:n,onLogoUpdate:g}),i.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Logo Preview"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Header Navigation"}),i.jsx("div",{className:"bg-white border-b shadow-sm p-4 rounded",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[n?i.jsx("img",{src:n,alt:"Logo",className:"h-8 w-auto"}):i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-500",children:"Logo"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ModParts"})]}),i.jsxs("div",{className:"flex space-x-4 text-sm text-gray-600",children:[i.jsx("span",{children:"Home"}),i.jsx("span",{children:"Products"}),i.jsx("span",{children:"Contact"})]})]})})]}),i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Footer"}),i.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n?i.jsx("img",{src:n,alt:"Logo",className:"h-6 w-auto filter brightness-0 invert"}):i.jsx("div",{className:"h-6 w-6 bg-gray-600 rounded flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-300",children:"Logo"})}),i.jsx("span",{className:"font-semibold",children:"ModParts"})]}),i.jsx("p",{className:"text-sm text-gray-300",children:"Your trusted auto parts supplier"})]})]}),i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Browser Tab (Favicon)"}),i.jsx("div",{className:"bg-gray-100 p-4 rounded",children:i.jsxs("div",{className:"flex items-center space-x-2 bg-white border rounded p-2",children:[n?i.jsx("img",{src:n,alt:"Favicon",className:"h-4 w-4"}):i.jsx("div",{className:"h-4 w-4 bg-gray-300 rounded-sm"}),i.jsx("span",{className:"text-sm text-gray-700",children:"ModParts - Auto Parts"})]})})]}),i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Google Search Result"}),i.jsx("div",{className:"bg-white p-4 rounded border-l-4 border-blue-500",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[n?i.jsx("img",{src:n,alt:"Site Icon",className:"h-6 w-6 mt-1 rounded"}):i.jsx("div",{className:"h-6 w-6 mt-1 bg-gray-300 rounded"}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-blue-600 text-lg font-medium",children:"ModParts - Auto Parts"}),i.jsx("p",{className:"text-green-600 text-sm",children:"www.partsformyrd350.com"}),i.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Quality auto parts for your vehicle. Fast shipping and competitive prices."})]})]})})]})]})]}),i.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"SEO & Branding Benefits"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Search Engine Benefits:"}),i.jsxs("ul",{className:"text-blue-700 space-y-1",children:[i.jsx("li",{children:" Appears in Google search results"}),i.jsx("li",{children:" Improves brand recognition"}),i.jsx("li",{children:" Increases click-through rates"}),i.jsx("li",{children:" Professional appearance in SERPs"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"User Experience:"}),i.jsxs("ul",{className:"text-blue-700 space-y-1",children:[i.jsx("li",{children:" Consistent branding across site"}),i.jsx("li",{children:" Easy site identification"}),i.jsx("li",{children:" Professional appearance"}),i.jsx("li",{children:" Improved trust and credibility"})]})]})]})]}),i.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Technical Information"}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Automatic Generation:"})," Uploading a logo automatically creates favicons in multiple sizes (16x16, 32x32, 48x48, etc.)"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"File Formats:"})," Supports JPG, PNG, GIF, WebP, and SVG formats"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Optimization:"})," Images are automatically optimized for web use"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Responsive:"})," Logo scales appropriately on different screen sizes"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Cache Friendly:"})," Proper caching headers for fast loading"]})]})]})]})}):i.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})})},Ri="http://localhost:3001/api",ki=()=>{const t=localStorage.getItem("token");return zt({"Content-Type":"application/json"},t&&{Authorization:`Bearer ${t}`})},Vg={getAll:()=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/warehouses`,{method:"GET",headers:ki()})).json()}),getOne:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/warehouses?id=${t}`,{method:"GET",headers:ki()})).json()}),create:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/warehouses`,{method:"POST",headers:ki(),body:JSON.stringify(t)})).json()}),update:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/warehouses`,{method:"PUT",headers:ki(),body:JSON.stringify(t)})).json()}),delete:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/warehouses?id=${t}`,{method:"DELETE",headers:ki()})).json()})},d3={getAll:(t=null)=>_e(null,null,function*(){let e=`${Ri}/inventory/bins`;return t&&(e+=`?warehouse_id=${t}`),(yield fetch(e,{method:"GET",headers:ki()})).json()}),getOne:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/bins?id=${t}`,{method:"GET",headers:ki()})).json()}),create:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/bins`,{method:"POST",headers:ki(),body:JSON.stringify(t)})).json()}),update:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/bins`,{method:"PUT",headers:ki(),body:JSON.stringify(t)})).json()}),delete:t=>_e(null,null,function*(){return(yield fetch(`${Ri}/inventory/bins?id=${t}`,{method:"DELETE",headers:ki()})).json()})},f3={getAll:(...e)=>_e(null,[...e],function*(t={}){const r=new URLSearchParams(t);return(yield fetch(`${Ri}/controllers/inventory/movements.php?${r}`,{method:"GET",headers:ki()})).json()}),ship:(t,e=1,r=2,n=null)=>_e(null,null,function*(){return(yield fetch(`${Ri}/controllers/inventory/movements.php?action=ship`,{method:"POST",headers:ki(),body:JSON.stringify({product_ids:t,from_warehouse_id:e,to_warehouse_id:r,notes:n})})).json()}),receive:n=>_e(null,[n],function*({barcode:t,movementId:e,binNumber:r}){return(yield fetch(`${Ri}/controllers/inventory/movements.php?action=receive`,{method:"POST",headers:ki(),body:JSON.stringify({barcode:t,movement_id:e,bin_number:r})})).json()}),assignBin:(t,e,r=2)=>_e(null,null,function*(){return(yield fetch(`${Ri}/controllers/inventory/movements.php?action=assign-bin`,{method:"POST",headers:ki(),body:JSON.stringify({product_id:t,bin_number:e,warehouse_id:r})})).json()}),updateStatus:(t,e,r=null)=>_e(null,null,function*(){return(yield fetch(`${Ri}/controllers/inventory/movements.php`,{method:"PUT",headers:ki(),body:JSON.stringify({id:t,status:e,notes:r})})).json()})};var ar;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ar||(ar={}));var h3=new Map([[ar.QR_CODE,"QR_CODE"],[ar.AZTEC,"AZTEC"],[ar.CODABAR,"CODABAR"],[ar.CODE_39,"CODE_39"],[ar.CODE_93,"CODE_93"],[ar.CODE_128,"CODE_128"],[ar.DATA_MATRIX,"DATA_MATRIX"],[ar.MAXICODE,"MAXICODE"],[ar.ITF,"ITF"],[ar.EAN_13,"EAN_13"],[ar.EAN_8,"EAN_8"],[ar.PDF_417,"PDF_417"],[ar.RSS_14,"RSS_14"],[ar.RSS_EXPANDED,"RSS_EXPANDED"],[ar.UPC_A,"UPC_A"],[ar.UPC_E,"UPC_E"],[ar.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),g3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(g3||(g3={}));function nU(t){return Object.values(ar).includes(t)}var Cm;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Cm||(Cm={}));var aU=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Cm.SCAN_TYPE_CAMERA,Cm.SCAN_TYPE_FILE],t}(),CE=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!h3.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,h3.get(e))},t}(),m3=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),zx;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zx||(zx={}));var sU=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:zx.UNKWOWN_ERROR}},t}(),iU=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Oc(t){return typeof t=="undefined"||t===null}var kd=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),TE=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(a),c=Object.keys(e),h=0,g=c;h<g.length;h++){var u=g[h];if(s.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t}(),oh={exports:{}},oU=oh.exports,p3;function lU(){return p3||(p3=1,function(t,e){(function(r,n){n(e)})(oU,function(r){function n(oe){return oe==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,l){oe.__proto__=l}||function(oe,l){for(var f in l)l.hasOwnProperty(f)&&(oe[f]=l[f])};function s(oe,l){a(oe,l);function f(){this.constructor=oe}oe.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}function c(oe,l){var f=Object.setPrototypeOf;f?f(oe,l):oe.__proto__=l}function h(oe,l){l===void 0&&(l=oe.constructor);var f=Error.captureStackTrace;f&&f(oe,l)}var g=function(oe){s(l,oe);function l(f){var p=this.constructor,y=oe.call(this,f)||this;return Object.defineProperty(y,"name",{value:p.name,enumerable:!1}),c(y,p.prototype),h(y),y}return l}(Error);class u extends g{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class m extends u{}m.kind="ArgumentException";class v extends u{}v.kind="IllegalArgumentException";class b{constructor(l){if(this.binarizer=l,l===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,f){return this.binarizer.getBlackRow(l,f)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,f,p,y){const w=this.binarizer.getLuminanceSource().crop(l,f,p,y);return new b(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch(l){return""}}}class _ extends u{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class C{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class A{static arraycopy(l,f,p,y,w){for(;w--;)p[y++]=l[f++]}static currentTimeMillis(){return Date.now()}}class j extends u{}j.kind="IndexOutOfBoundsException";class L extends j{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}L.kind="ArrayIndexOutOfBoundsException";class D{static fill(l,f){for(let p=0,y=l.length;p<y;p++)l[p]=f}static fillWithin(l,f,p,y){D.rangeCheck(l.length,f,p);for(let w=f;w<p;w++)l[w]=y}static rangeCheck(l,f,p){if(f>p)throw new v("fromIndex("+f+") > toIndex("+p+")");if(f<0)throw new L(f);if(p>l)throw new L(p)}static asList(...l){return l}static create(l,f,p){return Array.from({length:l}).map(w=>Array.from({length:f}).fill(p))}static createInt32Array(l,f,p){return Array.from({length:l}).map(w=>Int32Array.from({length:f}).fill(p))}static equals(l,f){if(!l||!f||!l.length||!f.length||l.length!==f.length)return!1;for(let p=0,y=l.length;p<y;p++)if(l[p]!==f[p])return!1;return!0}static hashCode(l){if(l===null)return 0;let f=1;for(const p of l)f=31*f+p;return f}static fillUint8Array(l,f){for(let p=0;p!==l.length;p++)l[p]=f}static copyOf(l,f){return l.slice(0,f)}static copyOfUint8Array(l,f){if(l.length<=f){const p=new Uint8Array(f);return p.set(l),p}return l.slice(0,f)}static copyOfRange(l,f,p){const y=p-f,w=new Int32Array(y);return A.arraycopy(l,f,w,0,y),w}static binarySearch(l,f,p){p===void 0&&(p=D.numberComparator);let y=0,w=l.length-1;for(;y<=w;){const N=w+y>>1,T=p(f,l[N]);if(T>0)y=N+1;else if(T<0)w=N-1;else return N}return-y-1}static numberComparator(l,f){return l-f}}class M{static numberOfTrailingZeros(l){let f;if(l===0)return 32;let p=31;return f=l<<16,f!==0&&(p-=16,l=f),f=l<<8,f!==0&&(p-=8,l=f),f=l<<4,f!==0&&(p-=4,l=f),f=l<<2,f!==0&&(p-=2,l=f),p-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let f=1;return l>>>16||(f+=16,l<<=16),l>>>24||(f+=8,l<<=8),l>>>28||(f+=4,l<<=4),l>>>30||(f+=2,l<<=2),f-=l>>>31,f}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,f){return Math.trunc(l/f)}static parseInt(l,f=void 0){return parseInt(l,f)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class X{constructor(l,f){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,f==null?this.bits=X.makeArray(l):this.bits=f)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const f=X.makeArray(l);A.arraycopy(this.bits,0,f,0,this.bits.length),this.bits=f}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const f=this.size;if(l>=f)return f;const p=this.bits;let y=Math.floor(l/32),w=p[y];w&=~((1<<(l&31))-1);const N=p.length;for(;w===0;){if(++y===N)return f;w=p[y]}const T=y*32+M.numberOfTrailingZeros(w);return T>f?f:T}getNextUnset(l){const f=this.size;if(l>=f)return f;const p=this.bits;let y=Math.floor(l/32),w=~p[y];w&=~((1<<(l&31))-1);const N=p.length;for(;w===0;){if(++y===N)return f;w=~p[y]}const T=y*32+M.numberOfTrailingZeros(w);return T>f?f:T}setBulk(l,f){this.bits[Math.floor(l/32)]=f}setRange(l,f){if(f<l||l<0||f>this.size)throw new v;if(f===l)return;f--;const p=Math.floor(l/32),y=Math.floor(f/32),w=this.bits;for(let N=p;N<=y;N++){const T=N>p?0:l&31,U=(2<<(N<y?31:f&31))-(1<<T);w[N]|=U}}clear(){const l=this.bits.length,f=this.bits;for(let p=0;p<l;p++)f[p]=0}isRange(l,f,p){if(f<l||l<0||f>this.size)throw new v;if(f===l)return!0;f--;const y=Math.floor(l/32),w=Math.floor(f/32),N=this.bits;for(let T=y;T<=w;T++){const k=T>y?0:l&31,Z=(2<<(T<w?31:f&31))-(1<<k)&4294967295;if((N[T]&Z)!==(p?Z:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,f){if(f<0||f>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+f);for(let p=f;p>0;p--)this.appendBit((l>>p-1&1)===1)}appendBitArray(l){const f=l.size;this.ensureCapacity(this.size+f);for(let p=0;p<f;p++)this.appendBit(l.get(p))}xor(l){if(this.size!==l.size)throw new v("Sizes don't match");const f=this.bits;for(let p=0,y=f.length;p<y;p++)f[p]^=l.bits[p]}toBytes(l,f,p,y){for(let w=0;w<y;w++){let N=0;for(let T=0;T<8;T++)this.get(l)&&(N|=1<<7-T),l++;f[p+w]=N}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),f=Math.floor((this.size-1)/32),p=f+1,y=this.bits;for(let w=0;w<p;w++){let N=y[w];N=N>>1&1431655765|(N&1431655765)<<1,N=N>>2&858993459|(N&858993459)<<2,N=N>>4&252645135|(N&252645135)<<4,N=N>>8&16711935|(N&16711935)<<8,N=N>>16&65535|(N&65535)<<16,l[f-w]=N}if(this.size!==p*32){const w=p*32-this.size;let N=l[0]>>>w;for(let T=1;T<p;T++){const k=l[T];N|=k<<32-w,l[T-1]=N,N=k>>>w}l[p-1]=N}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof X))return!1;const f=l;return this.size===f.size&&D.equals(this.bits,f.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let l="";for(let f=0,p=this.size;f<p;f++)(f&7)===0&&(l+=" "),l+=this.get(f)?"X":".";return l}clone(){return new X(this.size,this.bits.slice())}}var Q;(function(oe){oe[oe.OTHER=0]="OTHER",oe[oe.PURE_BARCODE=1]="PURE_BARCODE",oe[oe.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",oe[oe.TRY_HARDER=3]="TRY_HARDER",oe[oe.CHARACTER_SET=4]="CHARACTER_SET",oe[oe.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",oe[oe.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",oe[oe.ASSUME_GS1=7]="ASSUME_GS1",oe[oe.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",oe[oe.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",oe[oe.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var Y=Q;class V extends u{static getFormatInstance(){return new V}}V.kind="FormatException";var H;(function(oe){oe[oe.Cp437=0]="Cp437",oe[oe.ISO8859_1=1]="ISO8859_1",oe[oe.ISO8859_2=2]="ISO8859_2",oe[oe.ISO8859_3=3]="ISO8859_3",oe[oe.ISO8859_4=4]="ISO8859_4",oe[oe.ISO8859_5=5]="ISO8859_5",oe[oe.ISO8859_6=6]="ISO8859_6",oe[oe.ISO8859_7=7]="ISO8859_7",oe[oe.ISO8859_8=8]="ISO8859_8",oe[oe.ISO8859_9=9]="ISO8859_9",oe[oe.ISO8859_10=10]="ISO8859_10",oe[oe.ISO8859_11=11]="ISO8859_11",oe[oe.ISO8859_13=12]="ISO8859_13",oe[oe.ISO8859_14=13]="ISO8859_14",oe[oe.ISO8859_15=14]="ISO8859_15",oe[oe.ISO8859_16=15]="ISO8859_16",oe[oe.SJIS=16]="SJIS",oe[oe.Cp1250=17]="Cp1250",oe[oe.Cp1251=18]="Cp1251",oe[oe.Cp1252=19]="Cp1252",oe[oe.Cp1256=20]="Cp1256",oe[oe.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",oe[oe.UTF8=22]="UTF8",oe[oe.ASCII=23]="ASCII",oe[oe.Big5=24]="Big5",oe[oe.GB18030=25]="GB18030",oe[oe.EUC_KR=26]="EUC_KR"})(H||(H={}));class B{constructor(l,f,p,...y){this.valueIdentifier=l,this.name=p,typeof f=="number"?this.values=Int32Array.from([f]):this.values=f,this.otherEncodingNames=y,B.VALUE_IDENTIFIER_TO_ECI.set(l,this),B.NAME_TO_ECI.set(p,this);const w=this.values;for(let N=0,T=w.length;N!==T;N++){const k=w[N];B.VALUES_TO_ECI.set(k,this)}for(const N of y)B.NAME_TO_ECI.set(N,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new V("incorect value");const f=B.VALUES_TO_ECI.get(l);if(f===void 0)throw new V("incorect value");return f}static getCharacterSetECIByName(l){const f=B.NAME_TO_ECI.get(l);if(f===void 0)throw new V("incorect value");return f}equals(l){if(!(l instanceof B))return!1;const f=l;return this.getName()===f.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(H.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(H.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(H.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(H.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(H.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(H.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(H.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(H.Big5,28,"Big5"),B.GB18030=new B(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(H.EUC_KR,30,"EUC_KR","EUC-KR");class re extends u{}re.kind="UnsupportedOperationException";class q{static decode(l,f){const p=this.encodingName(f);return this.customDecoder?this.customDecoder(l,p):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(p)?this.decodeFallback(l,p):new TextDecoder(p).decode(l)}static shouldDecodeOnFallback(l){return!q.isBrowser()&&l==="ISO-8859-1"}static encode(l,f){const p=this.encodingName(f);return this.customEncoder?this.customEncoder(l,p):typeof TextEncoder=="undefined"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof B?l:B.getCharacterSetECIByName(l)}static decodeFallback(l,f){const p=this.encodingCharacterSet(f);if(q.isDecodeFallbackSupported(p)){let y="";for(let w=0,N=l.length;w<N;w++){let T=l[w].toString(16);T.length<2&&(T="0"+T),y+="%"+T}return decodeURIComponent(y)}if(p.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new re(`Encoding ${this.encodingName(f)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(B.UTF8)||l.equals(B.ISO8859_1)||l.equals(B.ASCII)}static encodeFallback(l){const p=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let w=0;w<p.length;w++)y.push(p[w].charCodeAt(0));return new Uint8Array(y)}}class G{static castAsNonUtf8Char(l,f=null){const p=f?f.getName():this.ISO88591;return q.decode(new Uint8Array([l]),p)}static guessEncoding(l,f){if(f!=null&&f.get(Y.CHARACTER_SET)!==void 0)return f.get(Y.CHARACTER_SET).toString();const p=l.length;let y=!0,w=!0,N=!0,T=0,k=0,U=0,Z=0,ie=0,xe=0,Ie=0,qe=0,Ge=0,Qe=0,pt=0;const Lt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let Ht=0;Ht<p&&(y||w||N);Ht++){const Bt=l[Ht]&255;N&&(T>0?(Bt&128)===0?N=!1:T--:(Bt&128)!==0&&((Bt&64)===0?N=!1:(T++,(Bt&32)===0?k++:(T++,(Bt&16)===0?U++:(T++,(Bt&8)===0?Z++:N=!1))))),y&&(Bt>127&&Bt<160?y=!1:Bt>159&&(Bt<192||Bt===215||Bt===247)&&pt++),w&&(ie>0?Bt<64||Bt===127||Bt>252?w=!1:ie--:Bt===128||Bt===160||Bt>239?w=!1:Bt>160&&Bt<224?(xe++,qe=0,Ie++,Ie>Ge&&(Ge=Ie)):Bt>127?(ie++,Ie=0,qe++,qe>Qe&&(Qe=qe)):(Ie=0,qe=0))}return N&&T>0&&(N=!1),w&&ie>0&&(w=!1),N&&(Lt||k+U+Z>0)?G.UTF8:w&&(G.ASSUME_SHIFT_JIS||Ge>=3||Qe>=3)?G.SHIFT_JIS:y&&w?Ge===2&&xe===2||pt*10>=p?G.SHIFT_JIS:G.ISO88591:y?G.ISO88591:w?G.SHIFT_JIS:N?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(l,...f){let p=-1;function y(N,T,k,U,Z,ie){if(N==="%%")return"%";if(f[++p]===void 0)return;N=U?parseInt(U.substr(1)):void 0;let xe=Z?parseInt(Z.substr(1)):void 0,Ie;switch(ie){case"s":Ie=f[p];break;case"c":Ie=f[p][0];break;case"f":Ie=parseFloat(f[p]).toFixed(N);break;case"p":Ie=parseFloat(f[p]).toPrecision(N);break;case"e":Ie=parseFloat(f[p]).toExponential(N);break;case"x":Ie=parseInt(f[p]).toString(xe||16);break;case"d":Ie=parseFloat(parseInt(f[p],xe||10).toPrecision(N)).toFixed(0);break}Ie=typeof Ie=="object"?JSON.stringify(Ie):(+Ie).toString(xe);let qe=parseInt(k),Ge=k&&k[0]+""=="0"?"0":" ";for(;Ie.length<qe;)Ie=T!==void 0?Ie+Ge:Ge+Ie;return Ie}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,y)}static getBytes(l,f){return q.encode(l,f)}static getCharCode(l,f=0){return l.charCodeAt(f)}static getCharAt(l){return String.fromCharCode(l)}}G.SHIFT_JIS=B.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=B.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=B.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class se{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=G.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,f,p){for(let y=f;f<f+p;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+1)}substring(l,f){return this.value.substring(l,f)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+f.length)}}class ye{constructor(l,f,p,y){if(this.width=l,this.height=f,this.rowSize=p,this.bits=y,f==null&&(f=l),this.height=f,l<1||f<1)throw new v("Both dimensions must be greater than 0");p==null&&(p=Math.floor((l+31)/32)),this.rowSize=p,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const f=l.length,p=l[0].length,y=new ye(p,f);for(let w=0;w<f;w++){const N=l[w];for(let T=0;T<p;T++)N[T]&&y.set(T,w)}return y}static parseFromString(l,f,p){if(l===null)throw new v("stringRepresentation cannot be null");const y=new Array(l.length);let w=0,N=0,T=-1,k=0,U=0;for(;U<l.length;)if(l.charAt(U)===`
`||l.charAt(U)==="\r"){if(w>N){if(T===-1)T=w-N;else if(w-N!==T)throw new v("row lengths do not match");N=w,k++}U++}else if(l.substring(U,U+f.length)===f)U+=f.length,y[w]=!0,w++;else if(l.substring(U,U+p.length)===p)U+=p.length,y[w]=!1,w++;else throw new v("illegal character encountered: "+l.substring(U));if(w>N){if(T===-1)T=w-N;else if(w-N!==T)throw new v("row lengths do not match");k++}const Z=new ye(T,k);for(let ie=0;ie<w;ie++)y[ie]&&Z.set(Math.floor(ie%T),Math.floor(ie/T));return Z}get(l,f){const p=f*this.rowSize+Math.floor(l/32);return(this.bits[p]>>>(l&31)&1)!==0}set(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]|=1<<(l&31)&4294967295}unset(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]&=~(1<<(l&31)&4294967295)}flip(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new v("input matrix dimensions do not match");const f=new X(Math.floor(this.width/32)+1),p=this.rowSize,y=this.bits;for(let w=0,N=this.height;w<N;w++){const T=w*p,k=l.getRow(w,f).getBitArray();for(let U=0;U<p;U++)y[T+U]^=k[U]}}clear(){const l=this.bits,f=l.length;for(let p=0;p<f;p++)l[p]=0}setRegion(l,f,p,y){if(f<0||l<0)throw new v("Left and top must be nonnegative");if(y<1||p<1)throw new v("Height and width must be at least 1");const w=l+p,N=f+y;if(N>this.height||w>this.width)throw new v("The region must fit inside the matrix");const T=this.rowSize,k=this.bits;for(let U=f;U<N;U++){const Z=U*T;for(let ie=l;ie<w;ie++)k[Z+Math.floor(ie/32)]|=1<<(ie&31)&4294967295}}getRow(l,f){f==null||f.getSize()<this.width?f=new X(this.width):f.clear();const p=this.rowSize,y=this.bits,w=l*p;for(let N=0;N<p;N++)f.setBulk(N*32,y[w+N]);return f}setRow(l,f){A.arraycopy(f.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),f=this.getHeight();let p=new X(l),y=new X(l);for(let w=0,N=Math.floor((f+1)/2);w<N;w++)p=this.getRow(w,p),y=this.getRow(f-1-w,y),p.reverse(),y.reverse(),this.setRow(w,y),this.setRow(f-1-w,p)}getEnclosingRectangle(){const l=this.width,f=this.height,p=this.rowSize,y=this.bits;let w=l,N=f,T=-1,k=-1;for(let U=0;U<f;U++)for(let Z=0;Z<p;Z++){const ie=y[U*p+Z];if(ie!==0){if(U<N&&(N=U),U>k&&(k=U),Z*32<w){let xe=0;for(;(ie<<31-xe&4294967295)===0;)xe++;Z*32+xe<w&&(w=Z*32+xe)}if(Z*32+31>T){let xe=31;for(;!(ie>>>xe);)xe--;Z*32+xe>T&&(T=Z*32+xe)}}}return T<w||k<N?null:Int32Array.from([w,N,T-w+1,k-N+1])}getTopLeftOnBit(){const l=this.rowSize,f=this.bits;let p=0;for(;p<f.length&&f[p]===0;)p++;if(p===f.length)return null;const y=p/l;let w=p%l*32;const N=f[p];let T=0;for(;(N<<31-T&4294967295)===0;)T++;return w+=T,Int32Array.from([w,y])}getBottomRightOnBit(){const l=this.rowSize,f=this.bits;let p=f.length-1;for(;p>=0&&f[p]===0;)p--;if(p<0)return null;const y=Math.floor(p/l);let w=Math.floor(p%l)*32;const N=f[p];let T=31;for(;!(N>>>T);)T--;return w+=T,Int32Array.from([w,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ye))return!1;const f=l;return this.width===f.width&&this.height===f.height&&this.rowSize===f.rowSize&&D.equals(this.bits,f.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+D.hashCode(this.bits),l}toString(l="X ",f="  ",p=`
`){return this.buildToString(l,f,p)}buildToString(l,f,p){let y=new se;for(let w=0,N=this.height;w<N;w++){for(let T=0,k=this.width;T<k;T++)y.append(this.get(T,w)?l:f);y.append(p)}return y.toString()}clone(){return new ye(this.width,this.height,this.rowSize,this.bits.slice())}}class me extends u{static getNotFoundInstance(){return new me}}me.kind="NotFoundException";class de extends C{constructor(l){super(l),this.luminances=de.EMPTY,this.buckets=new Int32Array(de.LUMINANCE_BUCKETS)}getBlackRow(l,f){const p=this.getLuminanceSource(),y=p.getWidth();f==null||f.getSize()<y?f=new X(y):f.clear(),this.initArrays(y);const w=p.getRow(l,this.luminances),N=this.buckets;for(let k=0;k<y;k++)N[(w[k]&255)>>de.LUMINANCE_SHIFT]++;const T=de.estimateBlackPoint(N);if(y<3)for(let k=0;k<y;k++)(w[k]&255)<T&&f.set(k);else{let k=w[0]&255,U=w[1]&255;for(let Z=1;Z<y-1;Z++){const ie=w[Z+1]&255;(U*4-k-ie)/2<T&&f.set(Z),k=U,U=ie}}return f}getBlackMatrix(){const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight(),y=new ye(f,p);this.initArrays(f);const w=this.buckets;for(let k=1;k<5;k++){const U=Math.floor(p*k/5),Z=l.getRow(U,this.luminances),ie=Math.floor(f*4/5);for(let xe=Math.floor(f/5);xe<ie;xe++){const Ie=Z[xe]&255;w[Ie>>de.LUMINANCE_SHIFT]++}}const N=de.estimateBlackPoint(w),T=l.getMatrix();for(let k=0;k<p;k++){const U=k*f;for(let Z=0;Z<f;Z++)(T[U+Z]&255)<N&&y.set(Z,k)}return y}createBinarizer(l){return new de(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const f=this.buckets;for(let p=0;p<de.LUMINANCE_BUCKETS;p++)f[p]=0}static estimateBlackPoint(l){const f=l.length;let p=0,y=0,w=0;for(let Z=0;Z<f;Z++)l[Z]>w&&(y=Z,w=l[Z]),l[Z]>p&&(p=l[Z]);let N=0,T=0;for(let Z=0;Z<f;Z++){const ie=Z-y,xe=l[Z]*ie*ie;xe>T&&(N=Z,T=xe)}if(y>N){const Z=y;y=N,N=Z}if(N-y<=f/16)throw new me;let k=N-1,U=-1;for(let Z=N-1;Z>y;Z--){const ie=Z-y,xe=ie*ie*(N-Z)*(p-l[Z]);xe>U&&(k=Z,U=xe)}return k<<de.LUMINANCE_SHIFT}}de.LUMINANCE_BITS=5,de.LUMINANCE_SHIFT=8-de.LUMINANCE_BITS,de.LUMINANCE_BUCKETS=1<<de.LUMINANCE_BITS,de.EMPTY=Uint8ClampedArray.from([0]);class we extends de{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight();if(f>=we.MINIMUM_DIMENSION&&p>=we.MINIMUM_DIMENSION){const y=l.getMatrix();let w=f>>we.BLOCK_SIZE_POWER;(f&we.BLOCK_SIZE_MASK)!==0&&w++;let N=p>>we.BLOCK_SIZE_POWER;(p&we.BLOCK_SIZE_MASK)!==0&&N++;const T=we.calculateBlackPoints(y,w,N,f,p),k=new ye(f,p);we.calculateThresholdForBlock(y,w,N,f,p,T,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new we(l)}static calculateThresholdForBlock(l,f,p,y,w,N,T){const k=w-we.BLOCK_SIZE,U=y-we.BLOCK_SIZE;for(let Z=0;Z<p;Z++){let ie=Z<<we.BLOCK_SIZE_POWER;ie>k&&(ie=k);const xe=we.cap(Z,2,p-3);for(let Ie=0;Ie<f;Ie++){let qe=Ie<<we.BLOCK_SIZE_POWER;qe>U&&(qe=U);const Ge=we.cap(Ie,2,f-3);let Qe=0;for(let Lt=-2;Lt<=2;Lt++){const Ht=N[xe+Lt];Qe+=Ht[Ge-2]+Ht[Ge-1]+Ht[Ge]+Ht[Ge+1]+Ht[Ge+2]}const pt=Qe/25;we.thresholdBlock(l,qe,ie,pt,y,T)}}}static cap(l,f,p){return l<f?f:l>p?p:l}static thresholdBlock(l,f,p,y,w,N){for(let T=0,k=p*w+f;T<we.BLOCK_SIZE;T++,k+=w)for(let U=0;U<we.BLOCK_SIZE;U++)(l[k+U]&255)<=y&&N.set(f+U,p+T)}static calculateBlackPoints(l,f,p,y,w){const N=w-we.BLOCK_SIZE,T=y-we.BLOCK_SIZE,k=new Array(p);for(let U=0;U<p;U++){k[U]=new Int32Array(f);let Z=U<<we.BLOCK_SIZE_POWER;Z>N&&(Z=N);for(let ie=0;ie<f;ie++){let xe=ie<<we.BLOCK_SIZE_POWER;xe>T&&(xe=T);let Ie=0,qe=255,Ge=0;for(let pt=0,Lt=Z*y+xe;pt<we.BLOCK_SIZE;pt++,Lt+=y){for(let Ht=0;Ht<we.BLOCK_SIZE;Ht++){const Bt=l[Lt+Ht]&255;Ie+=Bt,Bt<qe&&(qe=Bt),Bt>Ge&&(Ge=Bt)}if(Ge-qe>we.MIN_DYNAMIC_RANGE)for(pt++,Lt+=y;pt<we.BLOCK_SIZE;pt++,Lt+=y)for(let Ht=0;Ht<we.BLOCK_SIZE;Ht++)Ie+=l[Lt+Ht]&255}let Qe=Ie>>we.BLOCK_SIZE_POWER*2;if(Ge-qe<=we.MIN_DYNAMIC_RANGE&&(Qe=qe/2,U>0&&ie>0)){const pt=(k[U-1][ie]+2*k[U][ie-1]+k[U-1][ie-1])/4;qe<pt&&(Qe=pt)}k[U][ie]=Qe}}return k}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=we.BLOCK_SIZE*5,we.MIN_DYNAMIC_RANGE=24;class Pe{constructor(l,f){this.width=l,this.height=f}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,f,p,y){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let f=new se;for(let p=0;p<this.height;p++){const y=this.getRow(p,l);for(let w=0;w<this.width;w++){const N=y[w]&255;let T;N<64?T="#":N<128?T="+":N<192?T=".":T=" ",f.append(T)}f.append(`
`)}return f.toString()}}class Ae extends Pe{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,f){const p=this.delegate.getRow(l,f),y=this.getWidth();for(let w=0;w<y;w++)p[w]=255-(p[w]&255);return p}getMatrix(){const l=this.delegate.getMatrix(),f=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(f);for(let y=0;y<f;y++)p[y]=255-(l[y]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(l,f,p,y){return new Ae(this.delegate.crop(l,f,p,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ae(this.delegate.rotateCounterClockwise45())}}class ae extends Pe{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const f=l.getContext("2d").getImageData(0,0,l.width,l.height);return ae.toGrayscaleBuffer(f.data,l.width,l.height)}static toGrayscaleBuffer(l,f,p){const y=new Uint8ClampedArray(f*p);for(let w=0,N=0,T=l.length;w<T;w+=4,N++){let k;if(l[w+3]===0)k=255;else{const Z=l[w],ie=l[w+1],xe=l[w+2];k=306*Z+601*ie+117*xe+512>>10}y[N]=k}return y}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth(),y=l*p;return f===null?f=this.buffer.slice(y,y+p):(f.length<p&&(f=new Uint8ClampedArray(p)),f.set(this.buffer.slice(y,y+p))),f}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,f,p,y){return super.crop(l,f,p,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const f=this.getTempCanvasElement(),p=f.getContext("2d"),y=l*ae.DEGREE_TO_RADIANS,w=this.canvas.width,N=this.canvas.height,T=Math.ceil(Math.abs(Math.cos(y))*w+Math.abs(Math.sin(y))*N),k=Math.ceil(Math.abs(Math.sin(y))*w+Math.abs(Math.cos(y))*N);return f.width=T,f.height=k,p.translate(T/2,k/2),p.rotate(y),p.drawImage(this.canvas,w/-2,N/-2),this.buffer=ae.makeBufferFromCanvasImageData(f),this}invert(){return new Ae(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class fe{constructor(l,f,p){this.deviceId=l,this.label=f,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var P=(globalThis||q1||self||window||void 0)&&(globalThis||q1||self||window||void 0).__awaiter||function(oe,l,f,p){function y(w){return w instanceof f?w:new f(function(N){N(w)})}return new(f||(f=Promise))(function(w,N){function T(Z){try{U(p.next(Z))}catch(ie){N(ie)}}function k(Z){try{U(p.throw(Z))}catch(ie){N(ie)}}function U(Z){Z.done?w(Z.value):y(Z.value).then(T,k)}U((p=p.apply(oe,l||[])).next())})};class W{constructor(l,f=500,p){this.reader=l,this.timeBetweenScansMillis=f,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return P(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),f=[];for(const p of l){const y=p.kind==="video"?"videoinput":p.kind;if(y!=="videoinput")continue;const w=p.deviceId||p.id,N=p.label||`Video device ${f.length+1}`,T=p.groupId,k={deviceId:w,label:N,kind:y,groupId:T};f.push(k)}return f})}getVideoInputDevices(){return P(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(f=>new fe(f.deviceId,f.label))})}findDeviceById(l){return P(this,void 0,void 0,function*(){const f=yield this.listVideoInputDevices();return f?f.find(p=>p.deviceId===l):null})}decodeFromInputVideoDevice(l,f){return P(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,f)})}decodeOnceFromVideoDevice(l,f){return P(this,void 0,void 0,function*(){this.reset();let p;l?p={deviceId:{exact:l}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeOnceFromConstraints(y,f)})}decodeOnceFromConstraints(l,f){return P(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(p,f)})}decodeOnceFromStream(l,f){return P(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(l,f);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(l,f,p){return P(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,f,p)})}decodeFromVideoDevice(l,f,p){return P(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const w={video:y};return yield this.decodeFromConstraints(w,f,p)})}decodeFromConstraints(l,f,p){return P(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,f,p)})}decodeFromStream(l,f,p){return P(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,f);return yield this.decodeContinuously(y,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,f){return P(this,void 0,void 0,function*(){const p=this.prepareVideoElement(f);return this.addVideoSource(p,l),this.videoElement=p,this.stream=l,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(l){return new Promise((f,p)=>this.playVideoOnLoad(l,()=>f()))}playVideoOnLoad(l,f){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",f),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return P(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch(f){console.warn("It was not possible to play the video.")}})}getMediaElement(l,f){const p=document.getElementById(l);if(!p)throw new m(`element with id '${l}' not found`);if(p.nodeName.toLowerCase()!==f.toLowerCase())throw new m(`element with id '${l}' must be an ${f} element`);return p}decodeFromImage(l,f){if(!l&&!f)throw new m("either imageElement with a src set or an url must be provided");return f&&!l?this.decodeFromImageUrl(f):this.decodeFromImageElement(l)}decodeFromVideo(l,f){if(!l&&!f)throw new m("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrl(f):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,f,p){if(l===void 0&&f===void 0)throw new m("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrlContinuously(f,p):this.decodeFromVideoElementContinuously(l,p)}decodeFromImageElement(l){if(!l)throw new m("An image element must be provided.");this.reset();const f=this.prepareImageElement(l);this.imageElement=f;let p;return this.isImageLoaded(f)?p=this.decodeOnce(f,!1,!0):p=this._decodeOnLoadImage(f),p}decodeFromVideoElement(l){const f=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(f)}decodeFromVideoElementContinuously(l,f){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(p,f)}_decodeFromVideoElementSetup(l){if(!l)throw new m("A video element must be provided.");this.reset();const f=this.prepareVideoElement(l);return this.videoElement=f,f}decodeFromImageUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const f=this.prepareImageElement();this.imageElement=f;const p=this._decodeOnLoadImage(f);return f.src=l,p}decodeFromVideoUrl(l){if(!l)throw new m("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElement(f);return f.src=l,p}decodeFromVideoUrlContinuously(l,f){if(!l)throw new m("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(p,f);return p.src=l,y}_decodeOnLoadImage(l){return new Promise((f,p)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(f,p),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return P(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,f){return P(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,f)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let f;return typeof l=="undefined"&&(f=document.createElement("img"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(f=l),f}prepareVideoElement(l){let f;return!l&&typeof document!="undefined"&&(f=document.createElement("video"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(f=l),f.setAttribute("autoplay","true"),f.setAttribute("muted","true"),f.setAttribute("playsinline","true"),f}decodeOnce(l,f=!0,p=!0){this._stopAsyncDecode=!1;const y=(w,N)=>{if(this._stopAsyncDecode){N(new me("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const T=this.decode(l);w(T)}catch(T){const k=f&&T instanceof me,Z=(T instanceof _||T instanceof V)&&p;if(k||Z)return setTimeout(y,this._timeBetweenDecodingAttempts,w,N);N(T)}};return new Promise((w,N)=>y(w,N))}decodeContinuously(l,f){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);f(y,null),setTimeout(p,this.timeBetweenScansMillis)}catch(y){f(null,y);const w=y instanceof _||y instanceof V,N=y instanceof me;(w||N)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(l){const f=this.createBinaryBitmap(l);return this.decodeBitmap(f)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,f,p){f||(f={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}drawImageOnCanvas(l,f,p=this.captureCanvasContext){f||(f={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const f=this.getCaptureCanvas(l),p=new ae(f),y=new we(p);return new b(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const f=this.createCaptureCanvas(l);this.captureCanvas=f}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const f=document.createElement("canvas");let p,y;return typeof l!="undefined"&&(l instanceof HTMLVideoElement?(p=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(p=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),f.style.width=p+"px",f.style.height=y+"px",f.width=p,f.height=y,f}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,f){try{l.srcObject=f}catch(p){l.src=URL.createObjectURL(f)}}cleanVideoSource(l){try{l.srcObject=null}catch(f){l.src=""}this.videoElement.removeAttribute("src")}}class J{constructor(l,f,p=f==null?0:8*f.length,y,w,N=A.currentTimeMillis()){this.text=l,this.rawBytes=f,this.numBits=p,this.resultPoints=y,this.format=w,this.timestamp=N,this.text=l,this.rawBytes=f,p==null?this.numBits=f==null?0:8*f.length:this.numBits=p,this.resultPoints=y,this.format=w,this.resultMetadata=null,N==null?this.timestamp=A.currentTimeMillis():this.timestamp=N}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,f){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,f)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const f=this.resultPoints;if(f===null)this.resultPoints=l;else if(l!==null&&l.length>0){const p=new Array(f.length+l.length);A.arraycopy(f,0,p,0,f.length),A.arraycopy(l,0,p,f.length,l.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var te;(function(oe){oe[oe.AZTEC=0]="AZTEC",oe[oe.CODABAR=1]="CODABAR",oe[oe.CODE_39=2]="CODE_39",oe[oe.CODE_93=3]="CODE_93",oe[oe.CODE_128=4]="CODE_128",oe[oe.DATA_MATRIX=5]="DATA_MATRIX",oe[oe.EAN_8=6]="EAN_8",oe[oe.EAN_13=7]="EAN_13",oe[oe.ITF=8]="ITF",oe[oe.MAXICODE=9]="MAXICODE",oe[oe.PDF_417=10]="PDF_417",oe[oe.QR_CODE=11]="QR_CODE",oe[oe.RSS_14=12]="RSS_14",oe[oe.RSS_EXPANDED=13]="RSS_EXPANDED",oe[oe.UPC_A=14]="UPC_A",oe[oe.UPC_E=15]="UPC_E",oe[oe.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(te||(te={}));var le=te,Be;(function(oe){oe[oe.OTHER=0]="OTHER",oe[oe.ORIENTATION=1]="ORIENTATION",oe[oe.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",oe[oe.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",oe[oe.ISSUE_NUMBER=4]="ISSUE_NUMBER",oe[oe.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",oe[oe.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",oe[oe.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",oe[oe.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",oe[oe.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",oe[oe.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Be||(Be={}));var Re=Be;class Me{constructor(l,f,p,y,w=-1,N=-1){this.rawBytes=l,this.text=f,this.byteSegments=p,this.ecLevel=y,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=N,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ke{exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}static addOrSubtract(l,f){return l^f}}class ze{constructor(l,f){if(f.length===0)throw new v;this.field=l;const p=f.length;if(p>1&&f[0]===0){let y=1;for(;y<p&&f[y]===0;)y++;y===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-y),A.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const f=this.coefficients;let p;if(l===1){p=0;for(let N=0,T=f.length;N!==T;N++){const k=f[N];p=ke.addOrSubtract(p,k)}return p}p=f[0];const y=f.length,w=this.field;for(let N=1;N<y;N++)p=ke.addOrSubtract(w.multiply(l,p),f[N]);return p}addOrSubtract(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){const N=f;f=p,p=N}let y=new Int32Array(p.length);const w=p.length-f.length;A.arraycopy(p,0,y,0,w);for(let N=w;N<p.length;N++)y[N]=ke.addOrSubtract(f[N-w],p[N]);return new ze(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const f=this.coefficients,p=f.length,y=l.coefficients,w=y.length,N=new Int32Array(p+w-1),T=this.field;for(let k=0;k<p;k++){const U=f[k];for(let Z=0;Z<w;Z++)N[k+Z]=ke.addOrSubtract(N[k+Z],T.multiply(U,y[Z]))}return new ze(T,N)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const f=this.coefficients.length,p=this.field,y=new Int32Array(f),w=this.coefficients;for(let N=0;N<f;N++)y[N]=p.multiply(w[N],l);return new ze(p,y)}multiplyByMonomial(l,f){if(l<0)throw new v;if(f===0)return this.field.getZero();const p=this.coefficients,y=p.length,w=new Int32Array(y+l),N=this.field;for(let T=0;T<y;T++)w[T]=N.multiply(p[T],f);return new ze(N,w)}divide(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new v("Divide by 0");const f=this.field;let p=f.getZero(),y=this;const w=l.getCoefficient(l.getDegree()),N=f.inverse(w);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const T=y.getDegree()-l.getDegree(),k=f.multiply(y.getCoefficient(y.getDegree()),N),U=l.multiplyByMonomial(T,k),Z=f.buildMonomial(T,k);p=p.addOrSubtract(Z),y=y.addOrSubtract(U)}return[p,y]}toString(){let l="";for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);if(p!==0){if(p<0?(l+=" - ",p=-p):l.length>0&&(l+=" + "),f===0||p!==1){const y=this.field.log(p);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}f!==0&&(f===1?l+="x":(l+="x^",l+=f))}}return l}}class ut extends u{}ut.kind="ArithmeticException";class gt extends ke{constructor(l,f,p){super(),this.primitive=l,this.size=f,this.generatorBase=p;const y=new Int32Array(f);let w=1;for(let T=0;T<f;T++)y[T]=w,w*=2,w>=f&&(w^=l,w&=f-1);this.expTable=y;const N=new Int32Array(f);for(let T=0;T<f-1;T++)N[y[T]]=T;this.logTable=N,this.zero=new ze(this,Int32Array.from([0])),this.one=new ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new v;if(f===0)return this.zero;const p=new Int32Array(l+1);return p[0]=f,new ze(this,p)}inverse(l){if(l===0)throw new ut;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class Ct extends u{}Ct.kind="ReedSolomonException";class rt extends u{}rt.kind="IllegalStateException";class ge{constructor(l){this.field=l}decode(l,f){const p=this.field,y=new ze(p,l),w=new Int32Array(f);let N=!0;for(let Ie=0;Ie<f;Ie++){const qe=y.evaluateAt(p.exp(Ie+p.getGeneratorBase()));w[w.length-1-Ie]=qe,qe!==0&&(N=!1)}if(N)return;const T=new ze(p,w),k=this.runEuclideanAlgorithm(p.buildMonomial(f,1),T,f),U=k[0],Z=k[1],ie=this.findErrorLocations(U),xe=this.findErrorMagnitudes(Z,ie);for(let Ie=0;Ie<ie.length;Ie++){const qe=l.length-1-p.log(ie[Ie]);if(qe<0)throw new Ct("Bad error location");l[qe]=gt.addOrSubtract(l[qe],xe[Ie])}}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){const Ie=l;l=f,f=Ie}const y=this.field;let w=l,N=f,T=y.getZero(),k=y.getOne();for(;N.getDegree()>=(p/2|0);){let Ie=w,qe=T;if(w=N,T=k,w.isZero())throw new Ct("r_{i-1} was zero");N=Ie;let Ge=y.getZero();const Qe=w.getCoefficient(w.getDegree()),pt=y.inverse(Qe);for(;N.getDegree()>=w.getDegree()&&!N.isZero();){const Lt=N.getDegree()-w.getDegree(),Ht=y.multiply(N.getCoefficient(N.getDegree()),pt);Ge=Ge.addOrSubtract(y.buildMonomial(Lt,Ht)),N=N.addOrSubtract(w.multiplyByMonomial(Lt,Ht))}if(k=Ge.multiply(T).addOrSubtract(qe),N.getDegree()>=w.getDegree())throw new rt("Division algorithm failed to reduce polynomial?")}const U=k.getCoefficient(0);if(U===0)throw new Ct("sigmaTilde(0) was zero");const Z=y.inverse(U),ie=k.multiplyScalar(Z),xe=N.multiplyScalar(Z);return[ie,xe]}findErrorLocations(l){const f=l.getDegree();if(f===1)return Int32Array.from([l.getCoefficient(1)]);const p=new Int32Array(f);let y=0;const w=this.field;for(let N=1;N<w.getSize()&&y<f;N++)l.evaluateAt(N)===0&&(p[y]=w.inverse(N),y++);if(y!==f)throw new Ct("Error locator degree does not match number of roots");return p}findErrorMagnitudes(l,f){const p=f.length,y=new Int32Array(p),w=this.field;for(let N=0;N<p;N++){const T=w.inverse(f[N]);let k=1;for(let U=0;U<p;U++)if(N!==U){const Z=w.multiply(f[U],T),ie=(Z&1)===0?Z|1:Z&-2;k=w.multiply(k,ie)}y[N]=w.multiply(l.evaluateAt(T),w.inverse(k)),w.getGeneratorBase()!==0&&(y[N]=w.multiply(y[N],T))}return y}}var Ve;(function(oe){oe[oe.UPPER=0]="UPPER",oe[oe.LOWER=1]="LOWER",oe[oe.MIXED=2]="MIXED",oe[oe.DIGIT=3]="DIGIT",oe[oe.PUNCT=4]="PUNCT",oe[oe.BINARY=5]="BINARY"})(Ve||(Ve={}));class st{decode(l){this.ddata=l;let f=l.getBits(),p=this.extractBits(f),y=this.correctBits(p),w=st.convertBoolArrayToByteArray(y),N=st.getEncodedData(y),T=new Me(w,N,null,null);return T.setNumBits(y.length),T}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,p=Ve.UPPER,y=Ve.UPPER,w="",N=0;for(;N<f;)if(y===Ve.BINARY){if(f-N<5)break;let T=st.readCode(l,N,5);if(N+=5,T===0){if(f-N<11)break;T=st.readCode(l,N,11)+31,N+=11}for(let k=0;k<T;k++){if(f-N<8){N=f;break}const U=st.readCode(l,N,8);w+=G.castAsNonUtf8Char(U),N+=8}y=p}else{let T=y===Ve.DIGIT?4:5;if(f-N<T)break;let k=st.readCode(l,N,T);N+=T;let U=st.getCharacter(y,k);U.startsWith("CTRL_")?(p=y,y=st.getTable(U.charAt(5)),U.charAt(6)==="L"&&(p=y)):(w+=U,y=p)}return w}static getTable(l){switch(l){case"L":return Ve.LOWER;case"P":return Ve.PUNCT;case"M":return Ve.MIXED;case"D":return Ve.DIGIT;case"B":return Ve.BINARY;case"U":default:return Ve.UPPER}}static getCharacter(l,f){switch(l){case Ve.UPPER:return st.UPPER_TABLE[f];case Ve.LOWER:return st.LOWER_TABLE[f];case Ve.MIXED:return st.MIXED_TABLE[f];case Ve.PUNCT:return st.PUNCT_TABLE[f];case Ve.DIGIT:return st.DIGIT_TABLE[f];default:throw new rt("Bad table")}}correctBits(l){let f,p;this.ddata.getNbLayers()<=2?(p=6,f=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,f=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,f=gt.AZTEC_DATA_10):(p=12,f=gt.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),w=l.length/p;if(w<y)throw new V;let N=l.length%p,T=new Int32Array(w);for(let xe=0;xe<w;xe++,N+=p)T[xe]=st.readCode(l,N,p);try{new ge(f).decode(T,w-y)}catch(xe){throw new V(xe)}let k=(1<<p)-1,U=0;for(let xe=0;xe<y;xe++){let Ie=T[xe];if(Ie===0||Ie===k)throw new V;(Ie===1||Ie===k-1)&&U++}let Z=new Array(y*p-U),ie=0;for(let xe=0;xe<y;xe++){let Ie=T[xe];if(Ie===1||Ie===k-1)Z.fill(Ie>1,ie,ie+p-1),ie+=p-1;else for(let qe=p-1;qe>=0;--qe)Z[ie++]=(Ie&1<<qe)!==0}return Z}extractBits(l){let f=this.ddata.isCompact(),p=this.ddata.getNbLayers(),y=(f?11:14)+p*4,w=new Int32Array(y),N=new Array(this.totalBitsInLayer(p,f));if(f)for(let T=0;T<w.length;T++)w[T]=T;else{let T=y+1+2*M.truncDivision(M.truncDivision(y,2)-1,15),k=y/2,U=M.truncDivision(T,2);for(let Z=0;Z<k;Z++){let ie=Z+M.truncDivision(Z,15);w[k-Z-1]=U-ie-1,w[k+Z]=U+ie+1}}for(let T=0,k=0;T<p;T++){let U=(p-T)*4+(f?9:12),Z=T*2,ie=y-1-Z;for(let xe=0;xe<U;xe++){let Ie=xe*2;for(let qe=0;qe<2;qe++)N[k+Ie+qe]=l.get(w[Z+qe],w[Z+xe]),N[k+2*U+Ie+qe]=l.get(w[Z+xe],w[ie-qe]),N[k+4*U+Ie+qe]=l.get(w[ie-qe],w[ie-xe]),N[k+6*U+Ie+qe]=l.get(w[ie-xe],w[Z+qe])}k+=U*8}return N}static readCode(l,f,p){let y=0;for(let w=f;w<f+p;w++)y<<=1,l[w]&&(y|=1);return y}static readByte(l,f){let p=l.length-f;return p>=8?st.readCode(l,f,8):st.readCode(l,f,p)<<8-p}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let p=0;p<f.length;p++)f[p]=st.readByte(l,8*p);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}st.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],st.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],st.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],st.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],st.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ue{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,f,p,y){const w=l-p,N=f-y;return Math.sqrt(w*w+N*N)}static sum(l){let f=0;for(let p=0,y=l.length;p!==y;p++){const w=l[p];f+=w}return f}}class Je{static floatToIntBits(l){return l}}Je.MAX_VALUE=Number.MAX_SAFE_INTEGER;class et{constructor(l,f){this.x=l,this.y=f}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof et){const f=l;return this.x===f.x&&this.y===f.y}return!1}hashCode(){return 31*Je.floatToIntBits(this.x)+Je.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const f=this.distance(l[0],l[1]),p=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let w,N,T;if(p>=f&&p>=y?(N=l[0],w=l[1],T=l[2]):y>=p&&y>=f?(N=l[1],w=l[0],T=l[2]):(N=l[2],w=l[0],T=l[1]),this.crossProductZ(w,N,T)<0){const k=w;w=T,T=k}l[0]=w,l[1]=N,l[2]=T}static distance(l,f){return Ue.distance(l.x,l.y,f.x,f.y)}static crossProductZ(l,f,p){const y=f.x,w=f.y;return(p.x-y)*(l.y-w)-(p.y-w)*(l.x-y)}}class Pt{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Mt extends Pt{constructor(l,f,p,y,w){super(l,f),this.compact=p,this.nbDatablocks=y,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Xt{constructor(l,f,p,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),f==null&&(f=Xt.INIT_SIZE),p==null&&(p=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const w=f/2|0;if(this.leftInit=p-w,this.rightInit=p+w,this.upInit=y-w,this.downInit=y+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new me}detect(){let l=this.leftInit,f=this.rightInit,p=this.upInit,y=this.downInit,w=!1,N=!0,T=!1,k=!1,U=!1,Z=!1,ie=!1;const xe=this.width,Ie=this.height;for(;N;){N=!1;let qe=!0;for(;(qe||!k)&&f<xe;)qe=this.containsBlackPoint(p,y,f,!1),qe?(f++,N=!0,k=!0):k||f++;if(f>=xe){w=!0;break}let Ge=!0;for(;(Ge||!U)&&y<Ie;)Ge=this.containsBlackPoint(l,f,y,!0),Ge?(y++,N=!0,U=!0):U||y++;if(y>=Ie){w=!0;break}let Qe=!0;for(;(Qe||!Z)&&l>=0;)Qe=this.containsBlackPoint(p,y,l,!1),Qe?(l--,N=!0,Z=!0):Z||l--;if(l<0){w=!0;break}let pt=!0;for(;(pt||!ie)&&p>=0;)pt=this.containsBlackPoint(l,f,p,!0),pt?(p--,N=!0,ie=!0):ie||p--;if(p<0){w=!0;break}N&&(T=!0)}if(!w&&T){const qe=f-l;let Ge=null;for(let Ht=1;Ge===null&&Ht<qe;Ht++)Ge=this.getBlackPointOnSegment(l,y-Ht,l+Ht,y);if(Ge==null)throw new me;let Qe=null;for(let Ht=1;Qe===null&&Ht<qe;Ht++)Qe=this.getBlackPointOnSegment(l,p+Ht,l+Ht,p);if(Qe==null)throw new me;let pt=null;for(let Ht=1;pt===null&&Ht<qe;Ht++)pt=this.getBlackPointOnSegment(f,p+Ht,f-Ht,p);if(pt==null)throw new me;let Lt=null;for(let Ht=1;Lt===null&&Ht<qe;Ht++)Lt=this.getBlackPointOnSegment(f,y-Ht,f-Ht,y);if(Lt==null)throw new me;return this.centerEdges(Lt,Ge,pt,Qe)}else throw new me}getBlackPointOnSegment(l,f,p,y){const w=Ue.round(Ue.distance(l,f,p,y)),N=(p-l)/w,T=(y-f)/w,k=this.image;for(let U=0;U<w;U++){const Z=Ue.round(l+U*N),ie=Ue.round(f+U*T);if(k.get(Z,ie))return new et(Z,ie)}return null}centerEdges(l,f,p,y){const w=l.getX(),N=l.getY(),T=f.getX(),k=f.getY(),U=p.getX(),Z=p.getY(),ie=y.getX(),xe=y.getY(),Ie=Xt.CORR;return w<this.width/2?[new et(ie-Ie,xe+Ie),new et(T+Ie,k+Ie),new et(U-Ie,Z-Ie),new et(w+Ie,N-Ie)]:[new et(ie+Ie,xe+Ie),new et(T+Ie,k-Ie),new et(U-Ie,Z+Ie),new et(w-Ie,N-Ie)]}containsBlackPoint(l,f,p,y){const w=this.image;if(y){for(let N=l;N<=f;N++)if(w.get(N,p))return!0}else for(let N=l;N<=f;N++)if(w.get(p,N))return!0;return!1}}Xt.INIT_SIZE=10,Xt.CORR=1;class cr{static checkAndNudgePoints(l,f){const p=l.getWidth(),y=l.getHeight();let w=!0;for(let N=0;N<f.length&&w;N+=2){const T=Math.floor(f[N]),k=Math.floor(f[N+1]);if(T<-1||T>p||k<-1||k>y)throw new me;w=!1,T===-1?(f[N]=0,w=!0):T===p&&(f[N]=p-1,w=!0),k===-1?(f[N+1]=0,w=!0):k===y&&(f[N+1]=y-1,w=!0)}w=!0;for(let N=f.length-2;N>=0&&w;N-=2){const T=Math.floor(f[N]),k=Math.floor(f[N+1]);if(T<-1||T>p||k<-1||k>y)throw new me;w=!1,T===-1?(f[N]=0,w=!0):T===p&&(f[N]=p-1,w=!0),k===-1?(f[N+1]=0,w=!0):k===y&&(f[N+1]=y-1,w=!0)}}}class rr{constructor(l,f,p,y,w,N,T,k,U){this.a11=l,this.a21=f,this.a31=p,this.a12=y,this.a22=w,this.a32=N,this.a13=T,this.a23=k,this.a33=U}static quadrilateralToQuadrilateral(l,f,p,y,w,N,T,k,U,Z,ie,xe,Ie,qe,Ge,Qe){const pt=rr.quadrilateralToSquare(l,f,p,y,w,N,T,k);return rr.squareToQuadrilateral(U,Z,ie,xe,Ie,qe,Ge,Qe).times(pt)}transformPoints(l){const f=l.length,p=this.a11,y=this.a12,w=this.a13,N=this.a21,T=this.a22,k=this.a23,U=this.a31,Z=this.a32,ie=this.a33;for(let xe=0;xe<f;xe+=2){const Ie=l[xe],qe=l[xe+1],Ge=w*Ie+k*qe+ie;l[xe]=(p*Ie+N*qe+U)/Ge,l[xe+1]=(y*Ie+T*qe+Z)/Ge}}transformPointsWithValues(l,f){const p=this.a11,y=this.a12,w=this.a13,N=this.a21,T=this.a22,k=this.a23,U=this.a31,Z=this.a32,ie=this.a33,xe=l.length;for(let Ie=0;Ie<xe;Ie++){const qe=l[Ie],Ge=f[Ie],Qe=w*qe+k*Ge+ie;l[Ie]=(p*qe+N*Ge+U)/Qe,f[Ie]=(y*qe+T*Ge+Z)/Qe}}static squareToQuadrilateral(l,f,p,y,w,N,T,k){const U=l-p+w-T,Z=f-y+N-k;if(U===0&&Z===0)return new rr(p-l,w-p,l,y-f,N-y,f,0,0,1);{const ie=p-w,xe=T-w,Ie=y-N,qe=k-N,Ge=ie*qe-xe*Ie,Qe=(U*qe-xe*Z)/Ge,pt=(ie*Z-U*Ie)/Ge;return new rr(p-l+Qe*p,T-l+pt*T,l,y-f+Qe*y,k-f+pt*k,f,Qe,pt,1)}}static quadrilateralToSquare(l,f,p,y,w,N,T,k){return rr.squareToQuadrilateral(l,f,p,y,w,N,T,k).buildAdjoint()}buildAdjoint(){return new rr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new rr(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class lr extends cr{sampleGrid(l,f,p,y,w,N,T,k,U,Z,ie,xe,Ie,qe,Ge,Qe,pt,Lt,Ht){const Bt=rr.quadrilateralToQuadrilateral(y,w,N,T,k,U,Z,ie,xe,Ie,qe,Ge,Qe,pt,Lt,Ht);return this.sampleGridWithTransform(l,f,p,Bt)}sampleGridWithTransform(l,f,p,y){if(f<=0||p<=0)throw new me;const w=new ye(f,p),N=new Float32Array(2*f);for(let T=0;T<p;T++){const k=N.length,U=T+.5;for(let Z=0;Z<k;Z+=2)N[Z]=Z/2+.5,N[Z+1]=U;y.transformPoints(N),cr.checkAndNudgePoints(l,N);try{for(let Z=0;Z<k;Z+=2)l.get(Math.floor(N[Z]),Math.floor(N[Z+1]))&&w.set(Z/2,T)}catch(Z){throw new me}}return w}}class hr{static setGridSampler(l){hr.gridSampler=l}static getInstance(){return hr.gridSampler}}hr.gridSampler=new lr;class Qt{constructor(l,f){this.x=l,this.y=f}toResultPoint(){return new et(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Br{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let f=this.getMatrixCenter(),p=this.getBullsEyeCorners(f);if(l){let N=p[0];p[0]=p[2],p[2]=N}this.extractParameters(p);let y=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),w=this.getMatrixCornerPoints(p);return new Mt(y,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new me;let f=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(l[0],l[1],f),this.sampleLine(l[1],l[2],f),this.sampleLine(l[2],l[3],f),this.sampleLine(l[3],l[0],f)]);this.shift=this.getRotation(p,f);let y=0;for(let N=0;N<4;N++){let T=p[(this.shift+N)%4];this.compact?(y<<=7,y+=T>>1&127):(y<<=10,y+=(T>>2&992)+(T>>1&31))}let w=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(l,f){let p=0;l.forEach((y,w,N)=>{let T=(y>>f-2<<1)+(y&1);p=(p<<3)+T}),p=((p&1)<<11)+(p>>1);for(let y=0;y<4;y++)if(M.bitCount(p^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new me}getCorrectedParameterData(l,f){let p,y;f?(p=7,y=2):(p=10,y=4);let w=p-y,N=new Int32Array(p);for(let k=p-1;k>=0;--k)N[k]=l&15,l>>=4;try{new ge(gt.AZTEC_PARAM).decode(N,w)}catch(k){throw new me}let T=0;for(let k=0;k<y;k++)T=(T<<4)+N[k];return T}getBullsEyeCorners(l){let f=l,p=l,y=l,w=l,N=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ie=this.getFirstDifferent(f,N,1,-1),xe=this.getFirstDifferent(p,N,1,1),Ie=this.getFirstDifferent(y,N,-1,1),qe=this.getFirstDifferent(w,N,-1,-1);if(this.nbCenterLayers>2){let Ge=this.distancePoint(qe,ie)*this.nbCenterLayers/(this.distancePoint(w,f)*(this.nbCenterLayers+2));if(Ge<.75||Ge>1.25||!this.isWhiteOrBlackRectangle(ie,xe,Ie,qe))break}f=ie,p=xe,y=Ie,w=qe,N=!N}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new me;this.compact=this.nbCenterLayers===5;let T=new et(f.getX()+.5,f.getY()-.5),k=new et(p.getX()+.5,p.getY()+.5),U=new et(y.getX()-.5,y.getY()+.5),Z=new et(w.getX()-.5,w.getY()-.5);return this.expandSquare([T,k,U,Z],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,f,p,y;try{let T=new Xt(this.image).detect();l=T[0],f=T[1],p=T[2],y=T[3]}catch(T){let k=this.image.getWidth()/2,U=this.image.getHeight()/2;l=this.getFirstDifferent(new Qt(k+7,U-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Qt(k+7,U+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Qt(k-7,U+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Qt(k-7,U-7),!1,-1,-1).toResultPoint()}let w=Ue.round((l.getX()+y.getX()+f.getX()+p.getX())/4),N=Ue.round((l.getY()+y.getY()+f.getY()+p.getY())/4);try{let T=new Xt(this.image,15,w,N).detect();l=T[0],f=T[1],p=T[2],y=T[3]}catch(T){l=this.getFirstDifferent(new Qt(w+7,N-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Qt(w+7,N+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Qt(w-7,N+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Qt(w-7,N-7),!1,-1,-1).toResultPoint()}return w=Ue.round((l.getX()+y.getX()+f.getX()+p.getX())/4),N=Ue.round((l.getY()+y.getY()+f.getY()+p.getY())/4),new Qt(w,N)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,f,p,y,w){let N=hr.getInstance(),T=this.getDimension(),k=T/2-this.nbCenterLayers,U=T/2+this.nbCenterLayers;return N.sampleGrid(l,T,T,k,k,U,k,U,U,k,U,f.getX(),f.getY(),p.getX(),p.getY(),y.getX(),y.getY(),w.getX(),w.getY())}sampleLine(l,f,p){let y=0,w=this.distanceResultPoint(l,f),N=w/p,T=l.getX(),k=l.getY(),U=N*(f.getX()-l.getX())/w,Z=N*(f.getY()-l.getY())/w;for(let ie=0;ie<p;ie++)this.image.get(Ue.round(T+ie*U),Ue.round(k+ie*Z))&&(y|=1<<p-ie-1);return y}isWhiteOrBlackRectangle(l,f,p,y){let w=3;l=new Qt(l.getX()-w,l.getY()+w),f=new Qt(f.getX()-w,f.getY()-w),p=new Qt(p.getX()+w,p.getY()-w),y=new Qt(y.getX()+w,y.getY()+w);let N=this.getColor(y,l);if(N===0)return!1;let T=this.getColor(l,f);return T!==N||(T=this.getColor(f,p),T!==N)?!1:(T=this.getColor(p,y),T===N)}getColor(l,f){let p=this.distancePoint(l,f),y=(f.getX()-l.getX())/p,w=(f.getY()-l.getY())/p,N=0,T=l.getX(),k=l.getY(),U=this.image.get(l.getX(),l.getY()),Z=Math.ceil(p);for(let xe=0;xe<Z;xe++)T+=y,k+=w,this.image.get(Ue.round(T),Ue.round(k))!==U&&N++;let ie=N/p;return ie>.1&&ie<.9?0:ie<=.1===U?1:-1}getFirstDifferent(l,f,p,y){let w=l.getX()+p,N=l.getY()+y;for(;this.isValid(w,N)&&this.image.get(w,N)===f;)w+=p,N+=y;for(w-=p,N-=y;this.isValid(w,N)&&this.image.get(w,N)===f;)w+=p;for(w-=p;this.isValid(w,N)&&this.image.get(w,N)===f;)N+=y;return N-=y,new Qt(w,N)}expandSquare(l,f,p){let y=p/(2*f),w=l[0].getX()-l[2].getX(),N=l[0].getY()-l[2].getY(),T=(l[0].getX()+l[2].getX())/2,k=(l[0].getY()+l[2].getY())/2,U=new et(T+y*w,k+y*N),Z=new et(T-y*w,k-y*N);w=l[1].getX()-l[3].getX(),N=l[1].getY()-l[3].getY(),T=(l[1].getX()+l[3].getX())/2,k=(l[1].getY()+l[3].getY())/2;let ie=new et(T+y*w,k+y*N),xe=new et(T-y*w,k-y*N);return[U,ie,Z,xe]}isValid(l,f){return l>=0&&l<this.image.getWidth()&&f>0&&f<this.image.getHeight()}isValidPoint(l){let f=Ue.round(l.getX()),p=Ue.round(l.getY());return this.isValid(f,p)}distancePoint(l,f){return Ue.distance(l.getX(),l.getY(),f.getX(),f.getY())}distanceResultPoint(l,f){return Ue.distance(l.getX(),l.getY(),f.getX(),f.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class Yt{decode(l,f=null){let p=null,y=new Br(l.getBlackMatrix()),w=null,N=null;try{let Z=y.detectMirror(!1);w=Z.getPoints(),this.reportFoundResultPoints(f,w),N=new st().decode(Z)}catch(Z){p=Z}if(N==null)try{let Z=y.detectMirror(!0);w=Z.getPoints(),this.reportFoundResultPoints(f,w),N=new st().decode(Z)}catch(Z){throw p!=null?p:Z}let T=new J(N.getText(),N.getRawBytes(),N.getNumBits(),w,le.AZTEC,A.currentTimeMillis()),k=N.getByteSegments();k!=null&&T.putMetadata(Re.BYTE_SEGMENTS,k);let U=N.getECLevel();return U!=null&&T.putMetadata(Re.ERROR_CORRECTION_LEVEL,U),T}reportFoundResultPoints(l,f){if(l!=null){let p=l.get(Y.NEED_RESULT_POINT_CALLBACK);p!=null&&f.forEach((y,w,N)=>{p.foundPossibleResultPoint(y)})}}reset(){}}class En extends W{constructor(l=500){super(new Yt,l)}}class ur{decode(l,f){try{return this.doDecode(l,f)}catch(p){if(f&&f.get(Y.TRY_HARDER)===!0&&l.isRotateSupported()){const w=l.rotateCounterClockwise(),N=this.doDecode(w,f),T=N.getResultMetadata();let k=270;T!==null&&T.get(Re.ORIENTATION)===!0&&(k=k+T.get(Re.ORIENTATION)%360),N.putMetadata(Re.ORIENTATION,k);const U=N.getResultPoints();if(U!==null){const Z=w.getHeight();for(let ie=0;ie<U.length;ie++)U[ie]=new et(Z-U[ie].getY()-1,U[ie].getX())}return N}else throw new me}}reset(){}doDecode(l,f){const p=l.getWidth(),y=l.getHeight();let w=new X(p);const N=f&&f.get(Y.TRY_HARDER)===!0,T=Math.max(1,y>>(N?8:5));let k;N?k=y:k=15;const U=Math.trunc(y/2);for(let Z=0;Z<k;Z++){const ie=Math.trunc((Z+1)/2),xe=(Z&1)===0,Ie=U+T*(xe?ie:-ie);if(Ie<0||Ie>=y)break;try{w=l.getBlackRow(Ie,w)}catch(qe){continue}for(let qe=0;qe<2;qe++){if(qe===1&&(w.reverse(),f&&f.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const Ge=new Map;f.forEach((Qe,pt)=>Ge.set(pt,Qe)),Ge.delete(Y.NEED_RESULT_POINT_CALLBACK),f=Ge}try{const Ge=this.decodeRow(Ie,w,f);if(qe===1){Ge.putMetadata(Re.ORIENTATION,180);const Qe=Ge.getResultPoints();Qe!==null&&(Qe[0]=new et(p-Qe[0].getX()-1,Qe[0].getY()),Qe[1]=new et(p-Qe[1].getX()-1,Qe[1].getY()))}return Ge}catch(Ge){}}}throw new me}static recordPattern(l,f,p){const y=p.length;for(let U=0;U<y;U++)p[U]=0;const w=l.getSize();if(f>=w)throw new me;let N=!l.get(f),T=0,k=f;for(;k<w;){if(l.get(k)!==N)p[T]++;else{if(++T===y)break;p[T]=1,N=!N}k++}if(!(T===y||T===y-1&&k===w))throw new me}static recordPatternInReverse(l,f,p){let y=p.length,w=l.get(f);for(;f>0&&y>=0;)l.get(--f)!==w&&(y--,w=!w);if(y>=0)throw new me;ur.recordPattern(l,f+1,p)}static patternMatchVariance(l,f,p){const y=l.length;let w=0,N=0;for(let U=0;U<y;U++)w+=l[U],N+=f[U];if(w<N)return Number.POSITIVE_INFINITY;const T=w/N;p*=T;let k=0;for(let U=0;U<y;U++){const Z=l[U],ie=f[U]*T,xe=Z>ie?Z-ie:ie-Z;if(xe>p)return Number.POSITIVE_INFINITY;k+=xe}return k/w}}class Vt extends ur{static findStartPattern(l){const f=l.getSize(),p=l.getNextSet(0);let y=0,w=Int32Array.from([0,0,0,0,0,0]),N=p,T=!1;const k=6;for(let U=p;U<f;U++)if(l.get(U)!==T)w[y]++;else{if(y===k-1){let Z=Vt.MAX_AVG_VARIANCE,ie=-1;for(let xe=Vt.CODE_START_A;xe<=Vt.CODE_START_C;xe++){const Ie=ur.patternMatchVariance(w,Vt.CODE_PATTERNS[xe],Vt.MAX_INDIVIDUAL_VARIANCE);Ie<Z&&(Z=Ie,ie=xe)}if(ie>=0&&l.isRange(Math.max(0,N-(U-N)/2),N,!1))return Int32Array.from([N,U,ie]);N+=w[0]+w[1],w=w.slice(2,w.length-1),w[y-1]=0,w[y]=0,y--}else y++;w[y]=1,T=!T}throw new me}static decodeCode(l,f,p){ur.recordPattern(l,p,f);let y=Vt.MAX_AVG_VARIANCE,w=-1;for(let N=0;N<Vt.CODE_PATTERNS.length;N++){const T=Vt.CODE_PATTERNS[N],k=this.patternMatchVariance(f,T,Vt.MAX_INDIVIDUAL_VARIANCE);k<y&&(y=k,w=N)}if(w>=0)return w;throw new me}decodeRow(l,f,p){const y=p&&p.get(Y.ASSUME_GS1)===!0,w=Vt.findStartPattern(f),N=w[2];let T=0;const k=new Uint8Array(20);k[T++]=N;let U;switch(N){case Vt.CODE_START_A:U=Vt.CODE_CODE_A;break;case Vt.CODE_START_B:U=Vt.CODE_CODE_B;break;case Vt.CODE_START_C:U=Vt.CODE_CODE_C;break;default:throw new V}let Z=!1,ie=!1,xe="",Ie=w[0],qe=w[1];const Ge=Int32Array.from([0,0,0,0,0,0]);let Qe=0,pt=0,Lt=N,Ht=0,Bt=!0,Pr=!1,Cr=!1;for(;!Z;){const li=ie;switch(ie=!1,Qe=pt,pt=Vt.decodeCode(f,Ge,qe),k[T++]=pt,pt!==Vt.CODE_STOP&&(Bt=!0),pt!==Vt.CODE_STOP&&(Ht++,Lt+=Ht*pt),Ie=qe,qe+=Ge.reduce((ha,Gs)=>ha+Gs,0),pt){case Vt.CODE_START_A:case Vt.CODE_START_B:case Vt.CODE_START_C:throw new V}switch(U){case Vt.CODE_CODE_A:if(pt<64)Cr===Pr?xe+=String.fromCharCode(32+pt):xe+=String.fromCharCode(32+pt+128),Cr=!1;else if(pt<96)Cr===Pr?xe+=String.fromCharCode(pt-64):xe+=String.fromCharCode(pt+64),Cr=!1;else switch(pt!==Vt.CODE_STOP&&(Bt=!1),pt){case Vt.CODE_FNC_1:y&&(xe.length===0?xe+="]C1":xe+="");break;case Vt.CODE_FNC_2:case Vt.CODE_FNC_3:break;case Vt.CODE_FNC_4_A:!Pr&&Cr?(Pr=!0,Cr=!1):Pr&&Cr?(Pr=!1,Cr=!1):Cr=!0;break;case Vt.CODE_SHIFT:ie=!0,U=Vt.CODE_CODE_B;break;case Vt.CODE_CODE_B:U=Vt.CODE_CODE_B;break;case Vt.CODE_CODE_C:U=Vt.CODE_CODE_C;break;case Vt.CODE_STOP:Z=!0;break}break;case Vt.CODE_CODE_B:if(pt<96)Cr===Pr?xe+=String.fromCharCode(32+pt):xe+=String.fromCharCode(32+pt+128),Cr=!1;else switch(pt!==Vt.CODE_STOP&&(Bt=!1),pt){case Vt.CODE_FNC_1:y&&(xe.length===0?xe+="]C1":xe+="");break;case Vt.CODE_FNC_2:case Vt.CODE_FNC_3:break;case Vt.CODE_FNC_4_B:!Pr&&Cr?(Pr=!0,Cr=!1):Pr&&Cr?(Pr=!1,Cr=!1):Cr=!0;break;case Vt.CODE_SHIFT:ie=!0,U=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_A:U=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_C:U=Vt.CODE_CODE_C;break;case Vt.CODE_STOP:Z=!0;break}break;case Vt.CODE_CODE_C:if(pt<100)pt<10&&(xe+="0"),xe+=pt;else switch(pt!==Vt.CODE_STOP&&(Bt=!1),pt){case Vt.CODE_FNC_1:y&&(xe.length===0?xe+="]C1":xe+="");break;case Vt.CODE_CODE_A:U=Vt.CODE_CODE_A;break;case Vt.CODE_CODE_B:U=Vt.CODE_CODE_B;break;case Vt.CODE_STOP:Z=!0;break}break}li&&(U=U===Vt.CODE_CODE_A?Vt.CODE_CODE_B:Vt.CODE_CODE_A)}const Ea=qe-Ie;if(qe=f.getNextUnset(qe),!f.isRange(qe,Math.min(f.getSize(),qe+(qe-Ie)/2),!1))throw new me;if(Lt-=Ht*Qe,Lt%103!==Qe)throw new _;const Wa=xe.length;if(Wa===0)throw new me;Wa>0&&Bt&&(U===Vt.CODE_CODE_C?xe=xe.substring(0,Wa-2):xe=xe.substring(0,Wa-1));const Na=(w[1]+w[0])/2,gn=Ie+Ea/2,fa=k.length,La=new Uint8Array(fa);for(let li=0;li<fa;li++)La[li]=k[li];const Rs=[new et(Na,l),new et(gn,l)];return new J(xe,La,0,Rs,le.CODE_128,new Date().getTime())}}Vt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Vt.MAX_AVG_VARIANCE=.25,Vt.MAX_INDIVIDUAL_VARIANCE=.7,Vt.CODE_SHIFT=98,Vt.CODE_CODE_C=99,Vt.CODE_CODE_B=100,Vt.CODE_CODE_A=101,Vt.CODE_FNC_1=102,Vt.CODE_FNC_2=97,Vt.CODE_FNC_3=96,Vt.CODE_FNC_4_A=101,Vt.CODE_FNC_4_B=100,Vt.CODE_START_A=103,Vt.CODE_START_B=104,Vt.CODE_START_C=105,Vt.CODE_STOP=106;class wr extends ur{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,p){let y=this.counters;y.fill(0),this.decodeRowResult="";let w=wr.findAsteriskPattern(f,y),N=f.getNextSet(w[1]),T=f.getSize(),k,U;do{wr.recordPattern(f,N,y);let Ge=wr.toNarrowWidePattern(y);if(Ge<0)throw new me;k=wr.patternToChar(Ge),this.decodeRowResult+=k,U=N;for(let Qe of y)N+=Qe;N=f.getNextSet(N)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let Z=0;for(let Ge of y)Z+=Ge;let ie=N-U-Z;if(N!==T&&ie*2<Z)throw new me;if(this.usingCheckDigit){let Ge=this.decodeRowResult.length-1,Qe=0;for(let pt=0;pt<Ge;pt++)Qe+=wr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(pt));if(this.decodeRowResult.charAt(Ge)!==wr.ALPHABET_STRING.charAt(Qe%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,Ge)}if(this.decodeRowResult.length===0)throw new me;let xe;this.extendedMode?xe=wr.decodeExtended(this.decodeRowResult):xe=this.decodeRowResult;let Ie=(w[1]+w[0])/2,qe=U+Z/2;return new J(xe,null,0,[new et(Ie,l),new et(qe,l)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(l,f){let p=l.getSize(),y=l.getNextSet(0),w=0,N=y,T=!1,k=f.length;for(let U=y;U<p;U++)if(l.get(U)!==T)f[w]++;else{if(w===k-1){if(this.toNarrowWidePattern(f)===wr.ASTERISK_ENCODING&&l.isRange(Math.max(0,N-Math.floor((U-N)/2)),N,!1))return[N,U];N+=f[0]+f[1],f.copyWithin(0,2,2+w-1),f[w-1]=0,f[w]=0,w--}else w++;f[w]=1,T=!T}throw new me}static toNarrowWidePattern(l){let f=l.length,p=0,y;do{let w=2147483647;for(let k of l)k<w&&k>p&&(w=k);p=w,y=0;let N=0,T=0;for(let k=0;k<f;k++){let U=l[k];U>p&&(T|=1<<f-1-k,y++,N+=U)}if(y===3){for(let k=0;k<f&&y>0;k++){let U=l[k];if(U>p&&(y--,U*2>=N))return-1}return T}}while(y>3);return-1}static patternToChar(l){for(let f=0;f<wr.CHARACTER_ENCODINGS.length;f++)if(wr.CHARACTER_ENCODINGS[f]===l)return wr.ALPHABET_STRING.charAt(f);if(l===wr.ASTERISK_ENCODING)return"*";throw new me}static decodeExtended(l){let f=l.length,p="";for(let y=0;y<f;y++){let w=l.charAt(y);if(w==="+"||w==="$"||w==="%"||w==="/"){let N=l.charAt(y+1),T="\0";switch(w){case"+":if(N>="A"&&N<="Z")T=String.fromCharCode(N.charCodeAt(0)+32);else throw new V;break;case"$":if(N>="A"&&N<="Z")T=String.fromCharCode(N.charCodeAt(0)-64);else throw new V;break;case"%":if(N>="A"&&N<="E")T=String.fromCharCode(N.charCodeAt(0)-38);else if(N>="F"&&N<="J")T=String.fromCharCode(N.charCodeAt(0)-11);else if(N>="K"&&N<="O")T=String.fromCharCode(N.charCodeAt(0)+16);else if(N>="P"&&N<="T")T=String.fromCharCode(N.charCodeAt(0)+43);else if(N==="U")T="\0";else if(N==="V")T="@";else if(N==="W")T="`";else if(N==="X"||N==="Y"||N==="Z")T="";else throw new V;break;case"/":if(N>="A"&&N<="O")T=String.fromCharCode(N.charCodeAt(0)-32);else if(N==="Z")T=":";else throw new V;break}p+=T,y++}else p+=w}return p}}wr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",wr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],wr.ASTERISK_ENCODING=148;class yr extends ur{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,f,p){let y=this.decodeStart(f),w=this.decodeEnd(f),N=new se;yr.decodeMiddle(f,y[1],w[0],N);let T=N.toString(),k=null;p!=null&&(k=p.get(Y.ALLOWED_LENGTHS)),k==null&&(k=yr.DEFAULT_ALLOWED_LENGTHS);let U=T.length,Z=!1,ie=0;for(let qe of k){if(U===qe){Z=!0;break}qe>ie&&(ie=qe)}if(!Z&&U>ie&&(Z=!0),!Z)throw new V;const xe=[new et(y[1],l),new et(w[0],l)];return new J(T,null,0,xe,le.ITF,new Date().getTime())}static decodeMiddle(l,f,p,y){let w=new Int32Array(10),N=new Int32Array(5),T=new Int32Array(5);for(w.fill(0),N.fill(0),T.fill(0);f<p;){ur.recordPattern(l,f,w);for(let U=0;U<5;U++){let Z=2*U;N[U]=w[Z],T[U]=w[Z+1]}let k=yr.decodeDigit(N);y.append(k.toString()),k=this.decodeDigit(T),y.append(k.toString()),w.forEach(function(U){f+=U})}}decodeStart(l){let f=yr.skipWhiteSpace(l),p=yr.findGuardPattern(l,f,yr.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(l,p[0]),p}validateQuietZone(l,f){let p=this.narrowLineWidth*10;p=p<f?p:f;for(let y=f-1;p>0&&y>=0&&!l.get(y);y--)p--;if(p!==0)throw new me}static skipWhiteSpace(l){const f=l.getSize(),p=l.getNextSet(0);if(p===f)throw new me;return p}decodeEnd(l){l.reverse();try{let f=yr.skipWhiteSpace(l),p;try{p=yr.findGuardPattern(l,f,yr.END_PATTERN_REVERSED[0])}catch(w){w instanceof me&&(p=yr.findGuardPattern(l,f,yr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,p[0]);let y=p[0];return p[0]=l.getSize()-p[1],p[1]=l.getSize()-y,p}finally{l.reverse()}}static findGuardPattern(l,f,p){let y=p.length,w=new Int32Array(y),N=l.getSize(),T=!1,k=0,U=f;w.fill(0);for(let Z=f;Z<N;Z++)if(l.get(Z)!==T)w[k]++;else{if(k===y-1){if(ur.patternMatchVariance(w,p,yr.MAX_INDIVIDUAL_VARIANCE)<yr.MAX_AVG_VARIANCE)return[U,Z];U+=w[0]+w[1],A.arraycopy(w,2,w,0,k-1),w[k-1]=0,w[k]=0,k--}else k++;w[k]=1,T=!T}throw new me}static decodeDigit(l){let f=yr.MAX_AVG_VARIANCE,p=-1,y=yr.PATTERNS.length;for(let w=0;w<y;w++){let N=yr.PATTERNS[w],T=ur.patternMatchVariance(l,N,yr.MAX_INDIVIDUAL_VARIANCE);T<f?(f=T,p=w):T===f&&(p=-1)}if(p>=0)return p%10;throw new me}}yr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],yr.MAX_AVG_VARIANCE=.38,yr.MAX_INDIVIDUAL_VARIANCE=.5,yr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],yr.START_PATTERN=Int32Array.from([1,1,1,1]),yr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Zr extends ur{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let f=!1,p,y=0,w=Int32Array.from([0,0,0]);for(;!f;){w=Int32Array.from([0,0,0]),p=Zr.findGuardPattern(l,y,!1,this.START_END_PATTERN,w);let N=p[0];y=p[1];let T=N-(y-N);T>=0&&(f=l.isRange(T,N,!1))}return p}static checkChecksum(l){return Zr.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return Zr.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let y=f-1;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;p+=w}p*=3;for(let y=f-2;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;p+=w}return(1e3-p)%10}static decodeEnd(l,f){return Zr.findGuardPattern(l,f,!1,Zr.START_END_PATTERN,new Int32Array(Zr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,f,p,y){return this.findGuardPattern(l,f,p,y,new Int32Array(y.length))}static findGuardPattern(l,f,p,y,w){let N=l.getSize();f=p?l.getNextUnset(f):l.getNextSet(f);let T=0,k=f,U=y.length,Z=p;for(let ie=f;ie<N;ie++)if(l.get(ie)!==Z)w[T]++;else{if(T===U-1){if(ur.patternMatchVariance(w,y,Zr.MAX_INDIVIDUAL_VARIANCE)<Zr.MAX_AVG_VARIANCE)return Int32Array.from([k,ie]);k+=w[0]+w[1];let xe=w.slice(2,w.length-1);for(let Ie=0;Ie<T-1;Ie++)w[Ie]=xe[Ie];w[T-1]=0,w[T]=0,T--}else T++;w[T]=1,Z=!Z}throw new me}static decodeDigit(l,f,p,y){this.recordPattern(l,p,f);let w=this.MAX_AVG_VARIANCE,N=-1,T=y.length;for(let k=0;k<T;k++){let U=y[k],Z=ur.patternMatchVariance(f,U,Zr.MAX_INDIVIDUAL_VARIANCE);Z<w&&(w=Z,N=k)}if(N>=0)return N;throw new me}}Zr.MAX_AVG_VARIANCE=.48,Zr.MAX_INDIVIDUAL_VARIANCE=.7,Zr.START_END_PATTERN=Int32Array.from([1,1,1]),Zr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Zr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Jr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let y=this.decodeRowStringBuffer,w=this.decodeMiddle(f,p,y),N=y.toString(),T=Jr.parseExtensionString(N),k=[new et((p[0]+p[1])/2,l),new et(w,l)],U=new J(N,null,0,k,le.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&U.putAllMetadata(T),U}decodeMiddle(l,f,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),N=f[1],T=0;for(let U=0;U<5&&N<w;U++){let Z=Zr.decodeDigit(l,y,N,Zr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+Z%10);for(let ie of y)N+=ie;Z>=10&&(T|=1<<4-U),U!==4&&(N=l.getNextSet(N),N=l.getNextUnset(N))}if(p.length!==5)throw new me;let k=this.determineCheckDigit(T);if(Jr.extensionChecksum(p.toString())!==k)throw new me;return N}static extensionChecksum(l){let f=l.length,p=0;for(let y=f-2;y>=0;y-=2)p+=l.charAt(y).charCodeAt(0)-48;p*=3;for(let y=f-1;y>=0;y-=2)p+=l.charAt(y).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(l){for(let f=0;f<10;f++)if(l===this.CHECK_DIGIT_ENCODINGS[f])return f;throw new me}static parseExtensionString(l){if(l.length!==5)return null;let f=Jr.parseExtension5String(l);return f==null?null:new Map([[Re.SUGGESTED_PRICE,f]])}static parseExtension5String(l){let f;switch(l.charAt(0)){case"0":f="";break;case"5":f="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}f="";break;default:f="";break}let p=parseInt(l.substring(1)),y=(p/100).toString(),w=p%100,N=w<10?"0"+w:w.toString();return f+y+"."+N}}class Hs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let y=this.decodeRowStringBuffer,w=this.decodeMiddle(f,p,y),N=y.toString(),T=Hs.parseExtensionString(N),k=[new et((p[0]+p[1])/2,l),new et(w,l)],U=new J(N,null,0,k,le.UPC_EAN_EXTENSION,new Date().getTime());return T!=null&&U.putAllMetadata(T),U}decodeMiddle(l,f,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),N=f[1],T=0;for(let k=0;k<2&&N<w;k++){let U=Zr.decodeDigit(l,y,N,Zr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+U%10);for(let Z of y)N+=Z;U>=10&&(T|=1<<1-k),k!==1&&(N=l.getNextSet(N),N=l.getNextUnset(N))}if(p.length!==2)throw new me;if(parseInt(p.toString())%4!==T)throw new me;return N}static parseExtensionString(l){return l.length!==2?null:new Map([[Re.ISSUE_NUMBER,parseInt(l)]])}}class Un{static decodeRow(l,f,p){let y=Zr.findGuardPattern(f,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Jr().decodeRow(l,f,y)}catch(w){return new Hs().decodeRow(l,f,y)}}}Un.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Lr extends Zr{constructor(){super(),this.decodeRowStringBuffer="",Lr.L_AND_G_PATTERNS=Lr.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let f=Lr.L_PATTERNS[l-10],p=new Int32Array(f.length);for(let y=0;y<f.length;y++)p[y]=f[f.length-y-1];Lr.L_AND_G_PATTERNS[l]=p}}decodeRow(l,f,p){let y=Lr.findStartGuardPattern(f),w=p==null?null:p.get(Y.NEED_RESULT_POINT_CALLBACK);if(w!=null){const Bt=new et((y[0]+y[1])/2,l);w.foundPossibleResultPoint(Bt)}let N=this.decodeMiddle(f,y,this.decodeRowStringBuffer),T=N.rowOffset,k=N.resultString;if(w!=null){const Bt=new et(T,l);w.foundPossibleResultPoint(Bt)}let U=this.decodeEnd(f,T);if(w!=null){const Bt=new et((U[0]+U[1])/2,l);w.foundPossibleResultPoint(Bt)}let Z=U[1],ie=Z+(Z-U[0]);if(ie>=f.getSize()||!f.isRange(Z,ie,!1))throw new me;let xe=k.toString();if(xe.length<8)throw new V;if(!Lr.checkChecksum(xe))throw new _;let Ie=(y[1]+y[0])/2,qe=(U[1]+U[0])/2,Ge=this.getBarcodeFormat(),Qe=[new et(Ie,l),new et(qe,l)],pt=new J(xe,null,0,Qe,Ge,new Date().getTime()),Lt=0;try{let Bt=Un.decodeRow(l,f,U[1]);pt.putMetadata(Re.UPC_EAN_EXTENSION,Bt.getText()),pt.putAllMetadata(Bt.getResultMetadata()),pt.addResultPoints(Bt.getResultPoints()),Lt=Bt.getText().length}catch(Bt){}let Ht=p==null?null:p.get(Y.ALLOWED_EAN_EXTENSIONS);if(Ht!=null){let Bt=!1;for(let Pr in Ht)if(Lt.toString()===Pr){Bt=!0;break}if(!Bt)throw new me}return pt}decodeEnd(l,f){return Lr.findGuardPattern(l,f,!1,Lr.START_END_PATTERN,new Int32Array(Lr.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Lr.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return Lr.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let y=f-1;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;p+=w}p*=3;for(let y=f-2;y>=0;y-=2){let w=l.charAt(y).charCodeAt(0)-48;if(w<0||w>9)throw new V;p+=w}return(1e3-p)%10}}class xa extends Lr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),N=f[1],T=0;for(let U=0;U<6&&N<w;U++){let Z=Lr.decodeDigit(l,y,N,Lr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+Z%10);for(let ie of y)N+=ie;Z>=10&&(T|=1<<5-U)}p=xa.determineFirstDigit(p,T),N=Lr.findGuardPattern(l,N,!0,Lr.MIDDLE_PATTERN,new Int32Array(Lr.MIDDLE_PATTERN.length).fill(0))[1];for(let U=0;U<6&&N<w;U++){let Z=Lr.decodeDigit(l,y,N,Lr.L_PATTERNS);p+=String.fromCharCode(48+Z);for(let ie of y)N+=ie}return{rowOffset:N,resultString:p}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(l,f){for(let p=0;p<10;p++)if(f===this.FIRST_DIGIT_ENCODINGS[p])return l=String.fromCharCode(48+p)+l,l;throw new me}}xa.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class jn extends Lr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),N=f[1];for(let k=0;k<4&&N<w;k++){let U=Lr.decodeDigit(l,y,N,Lr.L_PATTERNS);p+=String.fromCharCode(48+U);for(let Z of y)N+=Z}N=Lr.findGuardPattern(l,N,!0,Lr.MIDDLE_PATTERN,new Int32Array(Lr.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&N<w;k++){let U=Lr.decodeDigit(l,y,N,Lr.L_PATTERNS);p+=String.fromCharCode(48+U);for(let Z of y)N+=Z}return{rowOffset:N,resultString:p}}getBarcodeFormat(){return le.EAN_8}}class Ar extends Lr{constructor(){super(...arguments),this.ean13Reader=new xa}getBarcodeFormat(){return le.UPC_A}decode(l,f){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,f,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,f,p))}decodeMiddle(l,f,p){return this.ean13Reader.decodeMiddle(l,f,p)}maybeReturnResult(l){let f=l.getText();if(f.charAt(0)==="0"){let p=new J(f.substring(1),null,null,l.getResultPoints(),le.UPC_A);return l.getResultMetadata()!=null&&p.putAllMetadata(l.getResultMetadata()),p}else throw new me}reset(){this.ean13Reader.reset()}}class Hr extends Lr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,f,p){const y=this.decodeMiddleCounters.map(U=>U);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const w=l.getSize();let N=f[1],T=0;for(let U=0;U<6&&N<w;U++){const Z=Hr.decodeDigit(l,y,N,Hr.L_AND_G_PATTERNS);p+=String.fromCharCode(48+Z%10);for(let ie of y)N+=ie;Z>=10&&(T|=1<<5-U)}let k=Hr.determineNumSysAndCheckDigit(p,T);return{rowOffset:N,resultString:k}}decodeEnd(l,f){return Hr.findGuardPatternWithoutCounters(l,f,!0,Hr.MIDDLE_END_PATTERN)}checkChecksum(l){return Lr.checkChecksum(Hr.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,f){for(let p=0;p<=1;p++)for(let y=0;y<10;y++)if(f===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][y]){let w=String.fromCharCode(48+p),N=String.fromCharCode(48+y);return w+l+N}throw me.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(l){const f=l.slice(1,7).split("").map(w=>w.charCodeAt(0)),p=new se;p.append(l.charAt(0));let y=f[5];switch(y){case 0:case 1:case 2:p.appendChars(f,0,2),p.append(y),p.append("0000"),p.appendChars(f,2,3);break;case 3:p.appendChars(f,0,3),p.append("00000"),p.appendChars(f,3,2);break;case 4:p.appendChars(f,0,4),p.append("00000"),p.append(f[4]);break;default:p.appendChars(f,0,5),p.append("0000"),p.append(y);break}return l.length>=8&&p.append(l.charAt(7)),p.toString()}}Hr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Hr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class qs extends ur{constructor(l){super();let f=l==null?null:l.get(Y.POSSIBLE_FORMATS),p=[];n(f)?(p.push(new xa),p.push(new Ar),p.push(new jn),p.push(new Hr)):(f.indexOf(le.EAN_13)>-1&&p.push(new xa),f.indexOf(le.UPC_A)>-1&&p.push(new Ar),f.indexOf(le.EAN_8)>-1&&p.push(new jn),f.indexOf(le.UPC_E)>-1&&p.push(new Hr)),this.readers=p}decodeRow(l,f,p){for(let y of this.readers)try{const w=y.decodeRow(l,f,p),N=w.getBarcodeFormat()===le.EAN_13&&w.getText().charAt(0)==="0",T=p==null?null:p.get(Y.POSSIBLE_FORMATS),k=T==null||T.includes(le.UPC_A);if(N&&k){const U=w.getRawBytes(),Z=new J(w.getText().substring(1),U,U?U.length:null,w.getResultPoints(),le.UPC_A);return Z.putAllMetadata(w.getResultMetadata()),Z}return w}catch(w){}throw new me}reset(){for(let l of this.readers)l.reset()}}class tn extends ur{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let p=0;p<f.length;p++)if(ur.patternMatchVariance(l,f[p],tn.MAX_INDIVIDUAL_VARIANCE)<tn.MAX_AVG_VARIANCE)return p;throw new me}static count(l){return Ue.sum(new Int32Array(l))}static increment(l,f){let p=0,y=f[0];for(let w=1;w<l.length;w++)f[w]>y&&(y=f[w],p=w);l[p]++}static decrement(l,f){let p=0,y=f[0];for(let w=1;w<l.length;w++)f[w]<y&&(y=f[w],p=w);l[p]--}static isFinderPattern(l){let f=l[0]+l[1],p=f+l[2]+l[3],y=f/p;if(y>=tn.MIN_FINDER_PATTERN_RATIO&&y<=tn.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;for(let T of l)T>N&&(N=T),T<w&&(w=T);return N<10*w}return!1}}tn.MAX_AVG_VARIANCE=.2,tn.MAX_INDIVIDUAL_VARIANCE=.45,tn.MIN_FINDER_PATTERN_RATIO=9.5/12,tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ha{constructor(l,f){this.value=l,this.checksumPortion=f}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Ha))return!1;const f=l;return this.value===f.value&&this.checksumPortion===f.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ys{constructor(l,f,p,y,w){this.value=l,this.startEnd=f,this.value=l,this.startEnd=f,this.resultPoints=new Array,this.resultPoints.push(new et(p,w)),this.resultPoints.push(new et(y,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof ys))return!1;const f=l;return this.value===f.value}hashCode(){return this.value}}class or{constructor(){}static getRSSvalue(l,f,p){let y=0;for(let k of l)y+=k;let w=0,N=0,T=l.length;for(let k=0;k<T-1;k++){let U;for(U=1,N|=1<<k;U<l[k];U++,N&=~(1<<k)){let Z=or.combins(y-U-1,T-k-2);if(p&&N===0&&y-U-(T-k-1)>=T-k-1&&(Z-=or.combins(y-U-(T-k),T-k-2)),T-k-1>1){let ie=0;for(let xe=y-U-(T-k-2);xe>f;xe--)ie+=or.combins(y-U-xe-1,T-k-3);Z-=ie*(T-1-k)}else y-U>f&&Z--;w+=Z}y-=U}return w}static combins(l,f){let p,y;l-f>f?(y=f,p=l-f):(y=l-f,p=f);let w=1,N=1;for(let T=l;T>p;T--)w*=T,N<=y&&(w/=N,N++);for(;N<=y;)w/=N,N++;return w}}class On{static buildBitArray(l){let f=l.length*2-1;l[l.length-1].getRightChar()==null&&(f-=1);let p=12*f,y=new X(p),w=0,T=l[0].getRightChar().getValue();for(let k=11;k>=0;--k)(T&1<<k)!=0&&y.set(w),w++;for(let k=1;k<l.length;++k){let U=l[k],Z=U.getLeftChar().getValue();for(let ie=11;ie>=0;--ie)(Z&1<<ie)!=0&&y.set(w),w++;if(U.getRightChar()!=null){let ie=U.getRightChar().getValue();for(let xe=11;xe>=0;--xe)(ie&1<<xe)!=0&&y.set(w),w++}}return y}}class hn{constructor(l,f){f?this.decodedInformation=null:(this.finished=l,this.decodedInformation=f)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class sa{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class rn extends sa{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===rn.FNC1}}rn.FNC1="$";class Rn extends sa{constructor(l,f,p){super(l),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=f}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class he extends sa{constructor(l,f,p){if(super(l),f<0||f>10||p<0||p>10)throw new V;this.firstDigit=f,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===he.FNC1}isSecondDigitFNC1(){return this.secondDigit===he.FNC1}isAnyFNC1(){return this.firstDigit===he.FNC1||this.secondDigit===he.FNC1}}he.FNC1=10;class Ne{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new me;let f=l.substring(0,2);for(let w of Ne.TWO_DIGIT_DATA_LENGTH)if(w[0]===f)return w[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(2,w[2],l):Ne.processFixedAI(2,w[1],l);if(l.length<3)throw new me;let p=l.substring(0,3);for(let w of Ne.THREE_DIGIT_DATA_LENGTH)if(w[0]===p)return w[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(3,w[2],l):Ne.processFixedAI(3,w[1],l);for(let w of Ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===p)return w[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(4,w[2],l):Ne.processFixedAI(4,w[1],l);if(l.length<4)throw new me;let y=l.substring(0,4);for(let w of Ne.FOUR_DIGIT_DATA_LENGTH)if(w[0]===y)return w[1]===Ne.VARIABLE_LENGTH?Ne.processVariableAI(4,w[2],l):Ne.processFixedAI(4,w[1],l);throw new me}static processFixedAI(l,f,p){if(p.length<l)throw new me;let y=p.substring(0,l);if(p.length<l+f)throw new me;let w=p.substring(l,l+f),N=p.substring(l+f),T="("+y+")"+w,k=Ne.parseFieldsInGeneralPurpose(N);return k==null?T:T+k}static processVariableAI(l,f,p){let y=p.substring(0,l),w;p.length<l+f?w=p.length:w=l+f;let N=p.substring(l,w),T=p.substring(w),k="("+y+")"+N,U=Ne.parseFieldsInGeneralPurpose(T);return U==null?k:k+U}}Ne.VARIABLE_LENGTH=[],Ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ne.VARIABLE_LENGTH,20],["22",Ne.VARIABLE_LENGTH,29],["30",Ne.VARIABLE_LENGTH,8],["37",Ne.VARIABLE_LENGTH,8],["90",Ne.VARIABLE_LENGTH,30],["91",Ne.VARIABLE_LENGTH,30],["92",Ne.VARIABLE_LENGTH,30],["93",Ne.VARIABLE_LENGTH,30],["94",Ne.VARIABLE_LENGTH,30],["95",Ne.VARIABLE_LENGTH,30],["96",Ne.VARIABLE_LENGTH,30],["97",Ne.VARIABLE_LENGTH,3],["98",Ne.VARIABLE_LENGTH,30],["99",Ne.VARIABLE_LENGTH,30]],Ne.THREE_DIGIT_DATA_LENGTH=[["240",Ne.VARIABLE_LENGTH,30],["241",Ne.VARIABLE_LENGTH,30],["242",Ne.VARIABLE_LENGTH,6],["250",Ne.VARIABLE_LENGTH,30],["251",Ne.VARIABLE_LENGTH,30],["253",Ne.VARIABLE_LENGTH,17],["254",Ne.VARIABLE_LENGTH,20],["400",Ne.VARIABLE_LENGTH,30],["401",Ne.VARIABLE_LENGTH,30],["402",17],["403",Ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ne.VARIABLE_LENGTH,20],["421",Ne.VARIABLE_LENGTH,15],["422",3],["423",Ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ne.VARIABLE_LENGTH,15],["391",Ne.VARIABLE_LENGTH,18],["392",Ne.VARIABLE_LENGTH,15],["393",Ne.VARIABLE_LENGTH,18],["703",Ne.VARIABLE_LENGTH,30]],Ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ne.VARIABLE_LENGTH,20],["8003",Ne.VARIABLE_LENGTH,30],["8004",Ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ne.VARIABLE_LENGTH,30],["8008",Ne.VARIABLE_LENGTH,12],["8018",18],["8020",Ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ne.VARIABLE_LENGTH,70],["8200",Ne.VARIABLE_LENGTH,70]];class Ce{constructor(l){this.buffer=new se,this.information=l}decodeAllCodes(l,f){let p=f,y=null;do{let w=this.decodeGeneralPurposeField(p,y),N=Ne.parseFieldsInGeneralPurpose(w.getNewString());if(N!=null&&l.append(N),w.isRemaining()?y=""+w.getRemainingValue():y=null,p===w.getNewPosition())break;p=w.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let f=l;f<l+3;++f)if(this.information.get(f))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(l,4);return w===0?new he(this.information.getSize(),he.FNC1,he.FNC1):new he(this.information.getSize(),w-1,he.FNC1)}let f=this.extractNumericValueFromBitArray(l,7),p=(f-8)/11,y=(f-8)%11;return new he(l+7,p,y)}extractNumericValueFromBitArray(l,f){return Ce.extractNumericValueFromBitArray(this.information,l,f)}static extractNumericValueFromBitArray(l,f,p){let y=0;for(let w=0;w<p;++w)l.get(f+w)&&(y|=1<<p-w-1);return y}decodeGeneralPurposeField(l,f){this.buffer.setLengthToZero(),f!=null&&this.buffer.append(f),this.current.setPosition(l);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new Rn(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new Rn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,f;do{let p=this.current.getPosition();if(this.current.isAlpha()?(f=this.parseAlphaBlock(),l=f.isFinished()):this.current.isIsoIec646()?(f=this.parseIsoIec646Block(),l=f.isFinished()):(f=this.parseNumericBlock(),l=f.isFinished()),!(p!==this.current.getPosition())&&!l)break}while(!l);return f.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let f;return l.isSecondDigitFNC1()?f=new Rn(this.current.getPosition(),this.buffer.toString()):f=new Rn(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new hn(!0,f)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let f=new Rn(this.current.getPosition(),this.buffer.toString());return new hn(!0,f)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new hn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Rn(this.current.getPosition(),this.buffer.toString());return new hn(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new hn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Rn(this.current.getPosition(),this.buffer.toString());return new hn(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new hn(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new rn(l+5,rn.FNC1);if(f>=5&&f<15)return new rn(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<90)return new rn(l+7,""+(p+1));if(p>=90&&p<116)return new rn(l+7,""+(p+7));let y=this.extractNumericValueFromBitArray(l,8),w;switch(y){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new V}return new rn(l+8,w)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,6);return p>=16&&p<63}decodeAlphanumeric(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new rn(l+5,rn.FNC1);if(f>=5&&f<15)return new rn(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,6);if(p>=32&&p<58)return new rn(l+6,""+(p+33));let y;switch(p){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new rt("Decoding invalid alphanumeric value: "+p)}return new rn(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<5&&f+l<this.information.getSize();++f)if(f===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+f))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let f=l;f<l+3;++f)if(this.information.get(f))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<4&&f+l<this.information.getSize();++f)if(this.information.get(l+f))return!1;return!0}}class Te{constructor(l){this.information=l,this.generalDecoder=new Ce(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Oe extends Te{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,p)}encodeCompressedGtinWithoutAI(l,f,p){for(let y=0;y<4;++y){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*y,10);w/100===0&&l.append("0"),w/10===0&&l.append("0"),l.append(w)}Oe.appendCheckDigit(l,p)}static appendCheckDigit(l,f){let p=0;for(let y=0;y<13;y++){let w=l.charAt(y+f).charCodeAt(0)-48;p+=(y&1)===0?3*w:w}p=10-p%10,p===10&&(p=0),l.append(p)}}Oe.GTIN_SIZE=40;class Fe extends Oe{constructor(l){super(l)}parseInformation(){let l=new se;l.append("(01)");let f=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(Fe.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,Fe.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,Fe.HEADER_SIZE+44)}}Fe.HEADER_SIZE=4;class it extends Te{constructor(l){super(l)}parseInformation(){let l=new se;return this.getGeneralDecoder().decodeAllCodes(l,it.HEADER_SIZE)}}it.HEADER_SIZE=5;class wt extends Oe{constructor(l){super(l)}encodeCompressedWeight(l,f,p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(f,p);this.addWeightCode(l,y);let w=this.checkWeight(y),N=1e5;for(let T=0;T<5;++T)w/N===0&&l.append("0"),N/=10;l.append(w)}}class Ze extends wt{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Ze.HEADER_SIZE+wt.GTIN_SIZE+Ze.WEIGHT_SIZE)throw new me;let l=new se;return this.encodeCompressedGtin(l,Ze.HEADER_SIZE),this.encodeCompressedWeight(l,Ze.HEADER_SIZE+wt.GTIN_SIZE,Ze.WEIGHT_SIZE),l.toString()}}Ze.HEADER_SIZE=5,Ze.WEIGHT_SIZE=15;class ft extends Ze{constructor(l){super(l)}addWeightCode(l,f){l.append("(3103)")}checkWeight(l){return l}}class mt extends Ze{constructor(l){super(l)}addWeightCode(l,f){f<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class Ot extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ot.HEADER_SIZE+Oe.GTIN_SIZE)throw new me;let l=new se;this.encodeCompressedGtin(l,Ot.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Ot.HEADER_SIZE+Oe.GTIN_SIZE,Ot.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(Ot.HEADER_SIZE+Oe.GTIN_SIZE+Ot.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}Ot.HEADER_SIZE=8,Ot.LAST_DIGIT_SIZE=2;class Ut extends Oe{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Ut.HEADER_SIZE+Oe.GTIN_SIZE)throw new me;let l=new se;this.encodeCompressedGtin(l,Ut.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Ut.HEADER_SIZE+Oe.GTIN_SIZE,Ut.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ut.HEADER_SIZE+Oe.GTIN_SIZE+Ut.LAST_DIGIT_SIZE,Ut.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Ut.HEADER_SIZE+Oe.GTIN_SIZE+Ut.LAST_DIGIT_SIZE+Ut.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}Ut.HEADER_SIZE=8,Ut.LAST_DIGIT_SIZE=2,Ut.FIRST_THREE_DIGITS_SIZE=10;class Wt extends wt{constructor(l,f,p){super(l),this.dateCode=p,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=Wt.HEADER_SIZE+Wt.GTIN_SIZE+Wt.WEIGHT_SIZE+Wt.DATE_SIZE)throw new me;let l=new se;return this.encodeCompressedGtin(l,Wt.HEADER_SIZE),this.encodeCompressedWeight(l,Wt.HEADER_SIZE+Wt.GTIN_SIZE,Wt.WEIGHT_SIZE),this.encodeCompressedDate(l,Wt.HEADER_SIZE+Wt.GTIN_SIZE+Wt.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(f,Wt.DATE_SIZE);if(p==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=p%32;p/=32;let w=p%12+1;p/=12;let N=p;N/10==0&&l.append("0"),l.append(N),w/10==0&&l.append("0"),l.append(w),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}Wt.HEADER_SIZE=8,Wt.WEIGHT_SIZE=20,Wt.DATE_SIZE=16;function Gt(oe){try{if(oe.get(1))return new Fe(oe);if(!oe.get(2))return new it(oe);switch(Ce.extractNumericValueFromBitArray(oe,1,4)){case 4:return new ft(oe);case 5:return new mt(oe)}switch(Ce.extractNumericValueFromBitArray(oe,1,5)){case 12:return new Ot(oe);case 13:return new Ut(oe)}switch(Ce.extractNumericValueFromBitArray(oe,1,7)){case 56:return new Wt(oe,"310","11");case 57:return new Wt(oe,"320","11");case 58:return new Wt(oe,"310","13");case 59:return new Wt(oe,"320","13");case 60:return new Wt(oe,"310","15");case 61:return new Wt(oe,"320","15");case 62:return new Wt(oe,"310","17");case 63:return new Wt(oe,"320","17")}}catch(l){throw console.log(l),new rt("unknown decoder: "+oe)}}class Kt{constructor(l,f,p,y){this.leftchar=l,this.rightchar=f,this.finderpattern=p,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,f){return l instanceof Kt?Kt.equalsOrNull(l.leftchar,f.leftchar)&&Kt.equalsOrNull(l.rightchar,f.rightchar)&&Kt.equalsOrNull(l.finderpattern,f.finderpattern):!1}static equalsOrNull(l,f){return l===null?f===null:Kt.equals(l,f)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Nr{constructor(l,f,p){this.pairs=l,this.rowNumber=f,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,f){return l instanceof Nr?this.checkEqualitity(l,f)&&l.wasReversed===f.wasReversed:!1}checkEqualitity(l,f){if(!l||!f)return;let p;return l.forEach((y,w)=>{f.forEach(N=>{y.getLeftChar().getValue()===N.getLeftChar().getValue()&&y.getRightChar().getValue()===N.getRightChar().getValue()&&y.getFinderPatter().getValue()===N.getFinderPatter().getValue()&&(p=!0)})}),p}}class _t extends tn{constructor(l){super(...arguments),this.pairs=new Array(_t.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,f,p){this.pairs.length=0,this.startFromEven=!1;try{return _t.constructResult(this.decodeRow2pairs(l,f))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,_t.constructResult(this.decodeRow2pairs(l,f))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,f){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(f,this.pairs,l))}catch(w){if(w instanceof me){if(!this.pairs.length)throw new me;p=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new me}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let f=null;try{f=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return l&&(this.rows=this.rows.reverse()),f}checkRows(l,f){for(let p=f;p<this.rows.length;p++){let y=this.rows[p];this.pairs.length=0;for(let N of l)this.pairs.push(N.getPairs());if(this.pairs.push(y.getPairs()),!_t.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(l);w.push(y);try{return this.checkRows(w,p+1)}catch(N){this.verbose&&console.log(N)}}throw new me}static isValidSequence(l){for(let f of _t.FINDER_PATTERN_SEQUENCES){if(l.length>f.length)continue;let p=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=f[y]){p=!1;break}if(p)return!0}return!1}storeRow(l,f){let p=0,y=!1,w=!1;for(;p<this.rows.length;){let N=this.rows[p];if(N.getRowNumber()>l){w=N.isEquivalent(this.pairs);break}y=N.isEquivalent(this.pairs),p++}w||y||_t.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new Nr(this.pairs,l,f)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,f){for(let p of f)if(p.getPairs().length!==l.length){for(let y of p.getPairs())for(let w of l)if(Kt.equals(y,w))break}}static isPartialRow(l,f){for(let p of f){let y=!0;for(let w of l){let N=!1;for(let T of p.getPairs())if(w.equals(T)){N=!0;break}if(!N){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let f=On.buildBitArray(l),y=Gt(f).parseInformation(),w=l[0].getFinderPattern().getResultPoints(),N=l[l.length-1].getFinderPattern().getResultPoints(),T=[w[0],w[1],N[0],N[1]];return new J(y,null,null,T,le.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),f=l.getLeftChar(),p=l.getRightChar();if(p==null)return!1;let y=p.getChecksumPortion(),w=2;for(let T=1;T<this.pairs.size();++T){let k=this.pairs.get(T);y+=k.getLeftChar().getChecksumPortion(),w++;let U=k.getRightChar();U!=null&&(y+=U.getChecksumPortion(),w++)}return y%=211,211*(w-4)+y==f.getValue()}static getNextSecondBar(l,f){let p;return l.get(f)?(p=l.getNextUnset(f),p=l.getNextSet(p)):(p=l.getNextSet(f),p=l.getNextUnset(p)),p}retrieveNextPair(l,f,p){let y=f.length%2==0;this.startFromEven&&(y=!y);let w,N=!0,T=-1;do this.findNextPair(l,f,T),w=this.parseFoundFinderPattern(l,p,y),w==null?T=_t.getNextSecondBar(l,this.startEnd[0]):N=!1;while(N);let k=this.decodeDataCharacter(l,w,y,!0);if(!this.isEmptyPair(f)&&f[f.length-1].mustBeLast())throw new me;let U;try{U=this.decodeDataCharacter(l,w,y,!1)}catch(Z){U=null,this.verbose&&console.log(Z)}return new Kt(k,U,w,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,f,p){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let w=l.getSize(),N;p>=0?N=p:this.isEmptyPair(f)?N=0:N=f[f.length-1].getFinderPattern().getStartEnd()[1];let T=f.length%2!=0;this.startFromEven&&(T=!T);let k=!1;for(;N<w&&(k=!l.get(N),!!k);)N++;let U=0,Z=N;for(let ie=N;ie<w;ie++)if(l.get(ie)!=k)y[U]++;else{if(U==3){if(T&&_t.reverseCounters(y),_t.isFinderPattern(y)){this.startEnd[0]=Z,this.startEnd[1]=ie;return}T&&_t.reverseCounters(y),Z+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,U--}else U++;y[U]=1,k=!k}throw new me}static reverseCounters(l){let f=l.length;for(let p=0;p<f/2;++p){let y=l[p];l[p]=l[f-p-1],l[f-p-1]=y}}parseFoundFinderPattern(l,f,p){let y,w,N;if(p){let U=this.startEnd[0]-1;for(;U>=0&&!l.get(U);)U--;U++,y=this.startEnd[0]-U,w=U,N=this.startEnd[1]}else w=this.startEnd[0],N=l.getNextUnset(this.startEnd[1]+1),y=N-this.startEnd[1];let T=this.getDecodeFinderCounters();A.arraycopy(T,0,T,1,T.length-1),T[0]=y;let k;try{k=this.parseFinderValue(T,_t.FINDER_PATTERNS)}catch(U){return null}return new ys(k,[w,N],w,N,f)}decodeDataCharacter(l,f,p,y){let w=this.getDataCharacterCounters();for(let gn=0;gn<w.length;gn++)w[gn]=0;if(y)_t.recordPatternInReverse(l,f.getStartEnd()[0],w);else{_t.recordPattern(l,f.getStartEnd()[1],w);for(let gn=0,fa=w.length-1;gn<fa;gn++,fa--){let La=w[gn];w[gn]=w[fa],w[fa]=La}}let N=17,T=Ue.sum(new Int32Array(w))/N,k=(f.getStartEnd()[1]-f.getStartEnd()[0])/15;if(Math.abs(T-k)/k>.3)throw new me;let U=this.getOddCounts(),Z=this.getEvenCounts(),ie=this.getOddRoundingErrors(),xe=this.getEvenRoundingErrors();for(let gn=0;gn<w.length;gn++){let fa=1*w[gn]/T,La=fa+.5;if(La<1){if(fa<.3)throw new me;La=1}else if(La>8){if(fa>8.7)throw new me;La=8}let Rs=gn/2;(gn&1)==0?(U[Rs]=La,ie[Rs]=fa-La):(Z[Rs]=La,xe[Rs]=fa-La)}this.adjustOddEvenCounts(N);let Ie=4*f.getValue()+(p?0:2)+(y?0:1)-1,qe=0,Ge=0;for(let gn=U.length-1;gn>=0;gn--){if(_t.isNotA1left(f,p,y)){let fa=_t.WEIGHTS[Ie][2*gn];Ge+=U[gn]*fa}qe+=U[gn]}let Qe=0;for(let gn=Z.length-1;gn>=0;gn--)if(_t.isNotA1left(f,p,y)){let fa=_t.WEIGHTS[Ie][2*gn+1];Qe+=Z[gn]*fa}let pt=Ge+Qe;if((qe&1)!=0||qe>13||qe<4)throw new me;let Lt=(13-qe)/2,Ht=_t.SYMBOL_WIDEST[Lt],Bt=9-Ht,Pr=or.getRSSvalue(U,Ht,!0),Cr=or.getRSSvalue(Z,Bt,!1),Ea=_t.EVEN_TOTAL_SUBSET[Lt],Wa=_t.GSUM[Lt],Na=Pr*Ea+Cr+Wa;return new Ha(Na,pt)}static isNotA1left(l,f,p){return!(l.getValue()==0&&f&&p)}adjustOddEvenCounts(l){let f=Ue.sum(new Int32Array(this.getOddCounts())),p=Ue.sum(new Int32Array(this.getEvenCounts())),y=!1,w=!1;f>13?w=!0:f<4&&(y=!0);let N=!1,T=!1;p>13?T=!0:p<4&&(N=!0);let k=f+p-l,U=(f&1)==1,Z=(p&1)==0;if(k==1)if(U){if(Z)throw new me;w=!0}else{if(!Z)throw new me;T=!0}else if(k==-1)if(U){if(Z)throw new me;y=!0}else{if(!Z)throw new me;N=!0}else if(k==0){if(U){if(!Z)throw new me;f<p?(y=!0,T=!0):(w=!0,N=!0)}else if(Z)throw new me}else throw new me;if(y){if(w)throw new me;_t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&_t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(T)throw new me;_t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&_t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_t.SYMBOL_WIDEST=[7,5,4,3,1],_t.EVEN_TOTAL_SUBSET=[4,20,52,104,204],_t.GSUM=[0,348,1388,2948,3988],_t.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],_t.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],_t.FINDER_PAT_A=0,_t.FINDER_PAT_B=1,_t.FINDER_PAT_C=2,_t.FINDER_PAT_D=3,_t.FINDER_PAT_E=4,_t.FINDER_PAT_F=5,_t.FINDER_PATTERN_SEQUENCES=[[_t.FINDER_PAT_A,_t.FINDER_PAT_A],[_t.FINDER_PAT_A,_t.FINDER_PAT_B,_t.FINDER_PAT_B],[_t.FINDER_PAT_A,_t.FINDER_PAT_C,_t.FINDER_PAT_B,_t.FINDER_PAT_D],[_t.FINDER_PAT_A,_t.FINDER_PAT_E,_t.FINDER_PAT_B,_t.FINDER_PAT_D,_t.FINDER_PAT_C],[_t.FINDER_PAT_A,_t.FINDER_PAT_E,_t.FINDER_PAT_B,_t.FINDER_PAT_D,_t.FINDER_PAT_D,_t.FINDER_PAT_F],[_t.FINDER_PAT_A,_t.FINDER_PAT_E,_t.FINDER_PAT_B,_t.FINDER_PAT_D,_t.FINDER_PAT_E,_t.FINDER_PAT_F,_t.FINDER_PAT_F],[_t.FINDER_PAT_A,_t.FINDER_PAT_A,_t.FINDER_PAT_B,_t.FINDER_PAT_B,_t.FINDER_PAT_C,_t.FINDER_PAT_C,_t.FINDER_PAT_D,_t.FINDER_PAT_D],[_t.FINDER_PAT_A,_t.FINDER_PAT_A,_t.FINDER_PAT_B,_t.FINDER_PAT_B,_t.FINDER_PAT_C,_t.FINDER_PAT_C,_t.FINDER_PAT_D,_t.FINDER_PAT_E,_t.FINDER_PAT_E],[_t.FINDER_PAT_A,_t.FINDER_PAT_A,_t.FINDER_PAT_B,_t.FINDER_PAT_B,_t.FINDER_PAT_C,_t.FINDER_PAT_C,_t.FINDER_PAT_D,_t.FINDER_PAT_E,_t.FINDER_PAT_F,_t.FINDER_PAT_F],[_t.FINDER_PAT_A,_t.FINDER_PAT_A,_t.FINDER_PAT_B,_t.FINDER_PAT_B,_t.FINDER_PAT_C,_t.FINDER_PAT_D,_t.FINDER_PAT_D,_t.FINDER_PAT_E,_t.FINDER_PAT_E,_t.FINDER_PAT_F,_t.FINDER_PAT_F]],_t.MAX_PAIRS=11;class yn extends Ha{constructor(l,f,p){super(l,f),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Sr extends tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,f,p){const y=this.decodePair(f,!1,l,p);Sr.addOrTally(this.possibleLeftPairs,y),f.reverse();let w=this.decodePair(f,!0,l,p);Sr.addOrTally(this.possibleRightPairs,w),f.reverse();for(let N of this.possibleLeftPairs)if(N.getCount()>1){for(let T of this.possibleRightPairs)if(T.getCount()>1&&Sr.checkChecksum(N,T))return Sr.constructResult(N,T)}throw new me}static addOrTally(l,f){if(f==null)return;let p=!1;for(let y of l)if(y.getValue()===f.getValue()){y.incrementCount(),p=!0;break}p||l.push(f)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,f){let p=4537077*l.getValue()+f.getValue(),y=new String(p).toString(),w=new se;for(let U=13-y.length;U>0;U--)w.append("0");w.append(y);let N=0;for(let U=0;U<13;U++){let Z=w.charAt(U).charCodeAt(0)-48;N+=(U&1)===0?3*Z:Z}N=10-N%10,N===10&&(N=0),w.append(N.toString());let T=l.getFinderPattern().getResultPoints(),k=f.getFinderPattern().getResultPoints();return new J(w.toString(),null,0,[T[0],T[1],k[0],k[1]],le.RSS_14,new Date().getTime())}static checkChecksum(l,f){let p=(l.getChecksumPortion()+16*f.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+f.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,p===y}decodePair(l,f,p,y){try{let w=this.findFinderPattern(l,f),N=this.parseFoundFinderPattern(l,p,f,w),T=y==null?null:y.get(Y.NEED_RESULT_POINT_CALLBACK);if(T!=null){let Z=(w[0]+w[1])/2;f&&(Z=l.getSize()-1-Z),T.foundPossibleResultPoint(new et(Z,p))}let k=this.decodeDataCharacter(l,N,!0),U=this.decodeDataCharacter(l,N,!1);return new yn(1597*k.getValue()+U.getValue(),k.getChecksumPortion()+4*U.getChecksumPortion(),N)}catch(w){return null}}decodeDataCharacter(l,f,p){let y=this.getDataCharacterCounters();for(let Qe=0;Qe<y.length;Qe++)y[Qe]=0;if(p)ur.recordPatternInReverse(l,f.getStartEnd()[0],y);else{ur.recordPattern(l,f.getStartEnd()[1]+1,y);for(let Qe=0,pt=y.length-1;Qe<pt;Qe++,pt--){let Lt=y[Qe];y[Qe]=y[pt],y[pt]=Lt}}let w=p?16:15,N=Ue.sum(new Int32Array(y))/w,T=this.getOddCounts(),k=this.getEvenCounts(),U=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let Qe=0;Qe<y.length;Qe++){let pt=y[Qe]/N,Lt=Math.floor(pt+.5);Lt<1?Lt=1:Lt>8&&(Lt=8);let Ht=Math.floor(Qe/2);(Qe&1)===0?(T[Ht]=Lt,U[Ht]=pt-Lt):(k[Ht]=Lt,Z[Ht]=pt-Lt)}this.adjustOddEvenCounts(p,w);let ie=0,xe=0;for(let Qe=T.length-1;Qe>=0;Qe--)xe*=9,xe+=T[Qe],ie+=T[Qe];let Ie=0,qe=0;for(let Qe=k.length-1;Qe>=0;Qe--)Ie*=9,Ie+=k[Qe],qe+=k[Qe];let Ge=xe+3*Ie;if(p){if((ie&1)!==0||ie>12||ie<4)throw new me;let Qe=(12-ie)/2,pt=Sr.OUTSIDE_ODD_WIDEST[Qe],Lt=9-pt,Ht=or.getRSSvalue(T,pt,!1),Bt=or.getRSSvalue(k,Lt,!0),Pr=Sr.OUTSIDE_EVEN_TOTAL_SUBSET[Qe],Cr=Sr.OUTSIDE_GSUM[Qe];return new Ha(Ht*Pr+Bt+Cr,Ge)}else{if((qe&1)!==0||qe>10||qe<4)throw new me;let Qe=(10-qe)/2,pt=Sr.INSIDE_ODD_WIDEST[Qe],Lt=9-pt,Ht=or.getRSSvalue(T,pt,!0),Bt=or.getRSSvalue(k,Lt,!1),Pr=Sr.INSIDE_ODD_TOTAL_SUBSET[Qe],Cr=Sr.INSIDE_GSUM[Qe];return new Ha(Bt*Pr+Ht+Cr,Ge)}}findFinderPattern(l,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=l.getSize(),w=!1,N=0;for(;N<y&&(w=!l.get(N),f!==w);)N++;let T=0,k=N;for(let U=N;U<y;U++)if(l.get(U)!==w)p[T]++;else{if(T===3){if(tn.isFinderPattern(p))return[k,U];k+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,T--}else T++;p[T]=1,w=!w}throw new me}parseFoundFinderPattern(l,f,p,y){let w=l.get(y[0]),N=y[0]-1;for(;N>=0&&w!==l.get(N);)N--;N++;const T=y[0]-N,k=this.getDecodeFinderCounters(),U=new Int32Array(k.length);A.arraycopy(k,0,U,1,k.length-1),U[0]=T;const Z=this.parseFinderValue(U,Sr.FINDER_PATTERNS);let ie=N,xe=y[1];return p&&(ie=l.getSize()-1-ie,xe=l.getSize()-1-xe),new ys(Z,[N,y[1]],ie,xe,f)}adjustOddEvenCounts(l,f){let p=Ue.sum(new Int32Array(this.getOddCounts())),y=Ue.sum(new Int32Array(this.getEvenCounts())),w=!1,N=!1,T=!1,k=!1;l?(p>12?N=!0:p<4&&(w=!0),y>12?k=!0:y<4&&(T=!0)):(p>11?N=!0:p<5&&(w=!0),y>10?k=!0:y<4&&(T=!0));let U=p+y-f,Z=(p&1)===(l?1:0),ie=(y&1)===1;if(U===1)if(Z){if(ie)throw new me;N=!0}else{if(!ie)throw new me;k=!0}else if(U===-1)if(Z){if(ie)throw new me;w=!0}else{if(!ie)throw new me;T=!0}else if(U===0){if(Z){if(!ie)throw new me;p<y?(w=!0,k=!0):(N=!0,T=!0)}else if(ie)throw new me}else throw new me;if(w){if(N)throw new me;tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(N&&tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),T){if(k)throw new me;tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Sr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Sr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Sr.OUTSIDE_GSUM=[0,161,961,2015,2715],Sr.INSIDE_GSUM=[0,336,1036,1516],Sr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Sr.INSIDE_ODD_WIDEST=[2,4,6,8],Sr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class qa extends ur{constructor(l,f){super(),this.readers=[],this.verbose=f===!0;const p=l?l.get(Y.POSSIBLE_FORMATS):null,y=l&&l.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(le.EAN_13)||p.includes(le.UPC_A)||p.includes(le.EAN_8)||p.includes(le.UPC_E))&&this.readers.push(new qs(l)),p.includes(le.CODE_39)&&this.readers.push(new wr(y)),p.includes(le.CODE_128)&&this.readers.push(new Vt),p.includes(le.ITF)&&this.readers.push(new yr),p.includes(le.RSS_14)&&this.readers.push(new Sr),p.includes(le.RSS_EXPANDED)&&this.readers.push(new _t(this.verbose))):(this.readers.push(new qs(l)),this.readers.push(new wr),this.readers.push(new qs(l)),this.readers.push(new Vt),this.readers.push(new yr),this.readers.push(new Sr),this.readers.push(new _t(this.verbose)))}decodeRow(l,f,p){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,f,p)}catch(w){}throw new me}reset(){this.readers.forEach(l=>l.reset())}}class Di extends W{constructor(l=500,f){super(new qa(f),l,f)}}class Ur{constructor(l,f,p){this.ecCodewords=l,this.ecBlocks=[f],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class qr{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class jr{constructor(l,f,p,y,w,N){this.versionNumber=l,this.symbolSizeRows=f,this.symbolSizeColumns=p,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=w,this.ecBlocks=N;let T=0;const k=N.getECCodewords(),U=N.getECBlocks();for(let Z of U)T+=Z.getCount()*(Z.getDataCodewords()+k);this.totalCodewords=T}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,f){if((l&1)!==0||(f&1)!==0)throw new V;for(let p of jr.VERSIONS)if(p.symbolSizeRows===l&&p.symbolSizeColumns===f)return p;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new jr(1,10,10,8,8,new Ur(5,new qr(1,3))),new jr(2,12,12,10,10,new Ur(7,new qr(1,5))),new jr(3,14,14,12,12,new Ur(10,new qr(1,8))),new jr(4,16,16,14,14,new Ur(12,new qr(1,12))),new jr(5,18,18,16,16,new Ur(14,new qr(1,18))),new jr(6,20,20,18,18,new Ur(18,new qr(1,22))),new jr(7,22,22,20,20,new Ur(20,new qr(1,30))),new jr(8,24,24,22,22,new Ur(24,new qr(1,36))),new jr(9,26,26,24,24,new Ur(28,new qr(1,44))),new jr(10,32,32,14,14,new Ur(36,new qr(1,62))),new jr(11,36,36,16,16,new Ur(42,new qr(1,86))),new jr(12,40,40,18,18,new Ur(48,new qr(1,114))),new jr(13,44,44,20,20,new Ur(56,new qr(1,144))),new jr(14,48,48,22,22,new Ur(68,new qr(1,174))),new jr(15,52,52,24,24,new Ur(42,new qr(2,102))),new jr(16,64,64,14,14,new Ur(56,new qr(2,140))),new jr(17,72,72,16,16,new Ur(36,new qr(4,92))),new jr(18,80,80,18,18,new Ur(48,new qr(4,114))),new jr(19,88,88,20,20,new Ur(56,new qr(4,144))),new jr(20,96,96,22,22,new Ur(68,new qr(4,174))),new jr(21,104,104,24,24,new Ur(56,new qr(6,136))),new jr(22,120,120,18,18,new Ur(68,new qr(6,175))),new jr(23,132,132,20,20,new Ur(62,new qr(8,163))),new jr(24,144,144,22,22,new Ur(62,new qr(8,156),new qr(2,155))),new jr(25,8,18,6,16,new Ur(7,new qr(1,5))),new jr(26,8,32,6,14,new Ur(11,new qr(1,10))),new jr(27,12,26,10,24,new Ur(14,new qr(1,16))),new jr(28,12,36,10,16,new Ur(18,new qr(1,22))),new jr(29,16,36,14,16,new Ur(24,new qr(1,32))),new jr(30,16,48,14,22,new Ur(28,new qr(1,49)))]}}jr.VERSIONS=jr.buildVersions();class ws{constructor(l){const f=l.getHeight();if(f<8||f>144||(f&1)!==0)throw new V;this.version=ws.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const f=l.getHeight(),p=l.getWidth();return jr.getVersionForDimensions(f,p)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let f=0,p=4,y=0;const w=this.mappingBitMatrix.getHeight(),N=this.mappingBitMatrix.getWidth();let T=!1,k=!1,U=!1,Z=!1;do if(p===w&&y===0&&!T)l[f++]=this.readCorner1(w,N)&255,p-=2,y+=2,T=!0;else if(p===w-2&&y===0&&(N&3)!==0&&!k)l[f++]=this.readCorner2(w,N)&255,p-=2,y+=2,k=!0;else if(p===w+4&&y===2&&(N&7)===0&&!U)l[f++]=this.readCorner3(w,N)&255,p-=2,y+=2,U=!0;else if(p===w-2&&y===0&&(N&7)===4&&!Z)l[f++]=this.readCorner4(w,N)&255,p-=2,y+=2,Z=!0;else{do p<w&&y>=0&&!this.readMappingMatrix.get(y,p)&&(l[f++]=this.readUtah(p,y,w,N)&255),p-=2,y+=2;while(p>=0&&y<N);p+=1,y+=3;do p>=0&&y<N&&!this.readMappingMatrix.get(y,p)&&(l[f++]=this.readUtah(p,y,w,N)&255),p+=2,y-=2;while(p<w&&y>=0);p+=3,y+=1}while(p<w||y<N);if(f!==this.version.getTotalCodewords())throw new V;return l}readModule(l,f,p,y){return l<0&&(l+=p,f+=4-(p+4&7)),f<0&&(f+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(f,l),this.mappingBitMatrix.get(f,l)}readUtah(l,f,p,y){let w=0;return this.readModule(l-2,f-2,p,y)&&(w|=1),w<<=1,this.readModule(l-2,f-1,p,y)&&(w|=1),w<<=1,this.readModule(l-1,f-2,p,y)&&(w|=1),w<<=1,this.readModule(l-1,f-1,p,y)&&(w|=1),w<<=1,this.readModule(l-1,f,p,y)&&(w|=1),w<<=1,this.readModule(l,f-2,p,y)&&(w|=1),w<<=1,this.readModule(l,f-1,p,y)&&(w|=1),w<<=1,this.readModule(l,f,p,y)&&(w|=1),w}readCorner1(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,1,l,f)&&(p|=1),p<<=1,this.readModule(l-1,2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}readCorner2(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-4,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner3(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-3,l,f)&&(p|=1),p<<=1,this.readModule(1,f-2,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner4(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}extractDataRegion(l){const f=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(l.getHeight()!==f)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),N=f/y|0,T=p/w|0,k=N*y,U=T*w,Z=new ye(U,k);for(let ie=0;ie<N;++ie){const xe=ie*y;for(let Ie=0;Ie<T;++Ie){const qe=Ie*w;for(let Ge=0;Ge<y;++Ge){const Qe=ie*(y+2)+1+Ge,pt=xe+Ge;for(let Lt=0;Lt<w;++Lt){const Ht=Ie*(w+2)+1+Lt;if(l.get(Ht,Qe)){const Bt=qe+Lt;Z.set(Bt,pt)}}}}}return Z}}class Jn{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f){const p=f.getECBlocks();let y=0;const w=p.getECBlocks();for(let Ge of w)y+=Ge.getCount();const N=new Array(y);let T=0;for(let Ge of w)for(let Qe=0;Qe<Ge.getCount();Qe++){const pt=Ge.getDataCodewords(),Lt=p.getECCodewords()+pt;N[T++]=new Jn(pt,new Uint8Array(Lt))}const U=N[0].codewords.length-p.getECCodewords(),Z=U-1;let ie=0;for(let Ge=0;Ge<Z;Ge++)for(let Qe=0;Qe<T;Qe++)N[Qe].codewords[Ge]=l[ie++];const xe=f.getVersionNumber()===24,Ie=xe?8:T;for(let Ge=0;Ge<Ie;Ge++)N[Ge].codewords[U-1]=l[ie++];const qe=N[0].codewords.length;for(let Ge=U;Ge<qe;Ge++)for(let Qe=0;Qe<T;Qe++){const pt=xe?(Qe+8)%T:Qe,Lt=xe&&pt>7?Ge-1:Ge;N[pt].codewords[Lt]=l[ie++]}if(ie!==l.length)throw new v;return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class es{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new v(""+l);let f=0,p=this.bitOffset,y=this.byteOffset;const w=this.bytes;if(p>0){const N=8-p,T=l<N?l:N,k=N-T,U=255>>8-T<<k;f=(w[y]&U)>>k,l-=T,p+=T,p===8&&(p=0,y++)}if(l>0){for(;l>=8;)f=f<<8|w[y]&255,y++,l-=8;if(l>0){const N=8-l,T=255>>N<<N;f=f<<l|(w[y]&T)>>N,p+=l}}return this.bitOffset=p,this.byteOffset=y,f}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ia;(function(oe){oe[oe.PAD_ENCODE=0]="PAD_ENCODE",oe[oe.ASCII_ENCODE=1]="ASCII_ENCODE",oe[oe.C40_ENCODE=2]="C40_ENCODE",oe[oe.TEXT_ENCODE=3]="TEXT_ENCODE",oe[oe.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",oe[oe.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",oe[oe.BASE256_ENCODE=6]="BASE256_ENCODE"})(ia||(ia={}));class _i{static decode(l){const f=new es(l),p=new se,y=new se,w=new Array;let N=ia.ASCII_ENCODE;do if(N===ia.ASCII_ENCODE)N=this.decodeAsciiSegment(f,p,y);else{switch(N){case ia.C40_ENCODE:this.decodeC40Segment(f,p);break;case ia.TEXT_ENCODE:this.decodeTextSegment(f,p);break;case ia.ANSIX12_ENCODE:this.decodeAnsiX12Segment(f,p);break;case ia.EDIFACT_ENCODE:this.decodeEdifactSegment(f,p);break;case ia.BASE256_ENCODE:this.decodeBase256Segment(f,p,w);break;default:throw new V}N=ia.ASCII_ENCODE}while(N!==ia.PAD_ENCODE&&f.available()>0);return y.length()>0&&p.append(y.toString()),new Me(l,p.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(l,f,p){let y=!1;do{let w=l.readBits(8);if(w===0)throw new V;if(w<=128)return y&&(w+=128),f.append(String.fromCharCode(w-1)),ia.ASCII_ENCODE;if(w===129)return ia.PAD_ENCODE;if(w<=229){const N=w-130;N<10&&f.append("0"),f.append(""+N)}else switch(w){case 230:return ia.C40_ENCODE;case 231:return ia.BASE256_ENCODE;case 232:f.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:f.append("[)>05"),p.insert(0,"");break;case 237:f.append("[)>06"),p.insert(0,"");break;case 238:return ia.ANSIX12_ENCODE;case 239:return ia.TEXT_ENCODE;case 240:return ia.EDIFACT_ENCODE;case 241:break;default:if(w!==254||l.available()!==0)throw new V;break}}while(l.available()>0);return ia.ASCII_ENCODE}static decodeC40Segment(l,f){let p=!1;const y=[];let w=0;do{if(l.available()===8)return;const N=l.readBits(8);if(N===254)return;this.parseTwoBytes(N,l.readBits(8),y);for(let T=0;T<3;T++){const k=y[T];switch(w){case 0:if(k<3)w=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const U=this.C40_BASIC_SET_CHARS[k];p?(f.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):f.append(U)}else throw new V;break;case 1:p?(f.append(String.fromCharCode(k+128)),p=!1):f.append(String.fromCharCode(k)),w=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const U=this.C40_SHIFT2_SET_CHARS[k];p?(f.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):f.append(U)}else switch(k){case 27:f.append("");break;case 30:p=!0;break;default:throw new V}w=0;break;case 3:p?(f.append(String.fromCharCode(k+224)),p=!1):f.append(String.fromCharCode(k+96)),w=0;break;default:throw new V}}}while(l.available()>0)}static decodeTextSegment(l,f){let p=!1,y=[],w=0;do{if(l.available()===8)return;const N=l.readBits(8);if(N===254)return;this.parseTwoBytes(N,l.readBits(8),y);for(let T=0;T<3;T++){const k=y[T];switch(w){case 0:if(k<3)w=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const U=this.TEXT_BASIC_SET_CHARS[k];p?(f.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):f.append(U)}else throw new V;break;case 1:p?(f.append(String.fromCharCode(k+128)),p=!1):f.append(String.fromCharCode(k)),w=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const U=this.TEXT_SHIFT2_SET_CHARS[k];p?(f.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):f.append(U)}else switch(k){case 27:f.append("");break;case 30:p=!0;break;default:throw new V}w=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const U=this.TEXT_SHIFT3_SET_CHARS[k];p?(f.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):f.append(U),w=0}else throw new V;break;default:throw new V}}}while(l.available()>0)}static decodeAnsiX12Segment(l,f){const p=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),p);for(let w=0;w<3;w++){const N=p[w];switch(N){case 0:f.append("\r");break;case 1:f.append("*");break;case 2:f.append(">");break;case 3:f.append(" ");break;default:if(N<14)f.append(String.fromCharCode(N+44));else if(N<40)f.append(String.fromCharCode(N+51));else throw new V;break}}}while(l.available()>0)}static parseTwoBytes(l,f,p){let y=(l<<8)+f-1,w=Math.floor(y/1600);p[0]=w,y-=w*1600,w=Math.floor(y/40),p[1]=w,p[2]=y-w*40}static decodeEdifactSegment(l,f){do{if(l.available()<=16)return;for(let p=0;p<4;p++){let y=l.readBits(6);if(y===31){const w=8-l.getBitOffset();w!==8&&l.readBits(w);return}(y&32)===0&&(y|=64),f.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,f,p){let y=1+l.getByteOffset();const w=this.unrandomize255State(l.readBits(8),y++);let N;if(w===0?N=l.available()/8|0:w<250?N=w:N=250*(w-249)+this.unrandomize255State(l.readBits(8),y++),N<0)throw new V;const T=new Uint8Array(N);for(let k=0;k<N;k++){if(l.available()<8)throw new V;T[k]=this.unrandomize255State(l.readBits(8),y++)}p.push(T);try{f.append(q.decode(T,G.ISO88591))}catch(k){throw new rt("Platform does not support required encoding: "+k.message)}}static unrandomize255State(l,f){const p=149*f%255+1,y=l-p;return y>=0?y:y+256}}_i.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_i.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],_i.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_i.TEXT_SHIFT2_SET_CHARS=_i.C40_SHIFT2_SET_CHARS,_i.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Oo{constructor(){this.rsDecoder=new ge(gt.DATA_MATRIX_FIELD_256)}decode(l){const f=new ws(l),p=f.getVersion(),y=f.readCodewords(),w=Jn.getDataBlocks(y,p);let N=0;for(let U of w)N+=U.getNumDataCodewords();const T=new Uint8Array(N),k=w.length;for(let U=0;U<k;U++){const Z=w[U],ie=Z.getCodewords(),xe=Z.getNumDataCodewords();this.correctErrors(ie,xe);for(let Ie=0;Ie<xe;Ie++)T[Ie*k+U]=ie[Ie]}return _i.decode(T)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch(y){throw new _}for(let y=0;y<f;y++)l[y]=p[y]}}class Qn{constructor(l){this.image=l,this.rectangleDetector=new Xt(this.image)}detect(){const l=this.rectangleDetector.detect();let f=this.detectSolid1(l);if(f=this.detectSolid2(f),f[3]=this.correctTopRight(f),!f[3])throw new me;f=this.shiftToModuleCenter(f);const p=f[0],y=f[1],w=f[2],N=f[3];let T=this.transitionsBetween(p,N)+1,k=this.transitionsBetween(w,N)+1;(T&1)===1&&(T+=1),(k&1)===1&&(k+=1),4*T<7*k&&4*k<7*T&&(T=k=Math.max(T,k));let U=Qn.sampleGrid(this.image,p,y,w,N,T,k);return new Pt(U,[p,y,w,N])}static shiftPoint(l,f,p){let y=(f.getX()-l.getX())/(p+1),w=(f.getY()-l.getY())/(p+1);return new et(l.getX()+y,l.getY()+w)}static moveAway(l,f,p){let y=l.getX(),w=l.getY();return y<f?y-=1:y+=1,w<p?w-=1:w+=1,new et(y,w)}detectSolid1(l){let f=l[0],p=l[1],y=l[3],w=l[2],N=this.transitionsBetween(f,p),T=this.transitionsBetween(p,y),k=this.transitionsBetween(y,w),U=this.transitionsBetween(w,f),Z=N,ie=[w,f,p,y];return Z>T&&(Z=T,ie[0]=f,ie[1]=p,ie[2]=y,ie[3]=w),Z>k&&(Z=k,ie[0]=p,ie[1]=y,ie[2]=w,ie[3]=f),Z>U&&(ie[0]=y,ie[1]=w,ie[2]=f,ie[3]=p),ie}detectSolid2(l){let f=l[0],p=l[1],y=l[2],w=l[3],N=this.transitionsBetween(f,w),T=Qn.shiftPoint(p,y,(N+1)*4),k=Qn.shiftPoint(y,p,(N+1)*4),U=this.transitionsBetween(T,f),Z=this.transitionsBetween(k,w);return U<Z?(l[0]=f,l[1]=p,l[2]=y,l[3]=w):(l[0]=p,l[1]=y,l[2]=w,l[3]=f),l}correctTopRight(l){let f=l[0],p=l[1],y=l[2],w=l[3],N=this.transitionsBetween(f,w),T=this.transitionsBetween(p,w),k=Qn.shiftPoint(f,p,(T+1)*4),U=Qn.shiftPoint(y,p,(N+1)*4);N=this.transitionsBetween(k,w),T=this.transitionsBetween(U,w);let Z=new et(w.getX()+(y.getX()-p.getX())/(N+1),w.getY()+(y.getY()-p.getY())/(N+1)),ie=new et(w.getX()+(f.getX()-p.getX())/(T+1),w.getY()+(f.getY()-p.getY())/(T+1));if(!this.isValid(Z))return this.isValid(ie)?ie:null;if(!this.isValid(ie))return Z;let xe=this.transitionsBetween(k,Z)+this.transitionsBetween(U,Z),Ie=this.transitionsBetween(k,ie)+this.transitionsBetween(U,ie);return xe>Ie?Z:ie}shiftToModuleCenter(l){let f=l[0],p=l[1],y=l[2],w=l[3],N=this.transitionsBetween(f,w)+1,T=this.transitionsBetween(y,w)+1,k=Qn.shiftPoint(f,p,T*4),U=Qn.shiftPoint(y,p,N*4);N=this.transitionsBetween(k,w)+1,T=this.transitionsBetween(U,w)+1,(N&1)===1&&(N+=1),(T&1)===1&&(T+=1);let Z=(f.getX()+p.getX()+y.getX()+w.getX())/4,ie=(f.getY()+p.getY()+y.getY()+w.getY())/4;f=Qn.moveAway(f,Z,ie),p=Qn.moveAway(p,Z,ie),y=Qn.moveAway(y,Z,ie),w=Qn.moveAway(w,Z,ie);let xe,Ie;return k=Qn.shiftPoint(f,p,T*4),k=Qn.shiftPoint(k,w,N*4),xe=Qn.shiftPoint(p,f,T*4),xe=Qn.shiftPoint(xe,y,N*4),U=Qn.shiftPoint(y,w,T*4),U=Qn.shiftPoint(U,p,N*4),Ie=Qn.shiftPoint(w,y,T*4),Ie=Qn.shiftPoint(Ie,f,N*4),[k,xe,U,Ie]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,f,p,y,w,N,T){return hr.getInstance().sampleGrid(l,N,T,.5,.5,N-.5,.5,N-.5,T-.5,.5,T-.5,f.getX(),f.getY(),w.getX(),w.getY(),y.getX(),y.getY(),p.getX(),p.getY())}transitionsBetween(l,f){let p=Math.trunc(l.getX()),y=Math.trunc(l.getY()),w=Math.trunc(f.getX()),N=Math.trunc(f.getY()),T=Math.abs(N-y)>Math.abs(w-p);if(T){let Ge=p;p=y,y=Ge,Ge=w,w=N,N=Ge}let k=Math.abs(w-p),U=Math.abs(N-y),Z=-k/2,ie=y<N?1:-1,xe=p<w?1:-1,Ie=0,qe=this.image.get(T?y:p,T?p:y);for(let Ge=p,Qe=y;Ge!==w;Ge+=xe){let pt=this.image.get(T?Qe:Ge,T?Ge:Qe);if(pt!==qe&&(Ie++,qe=pt),Z+=U,Z>0){if(Qe===N)break;Qe+=ie,Z-=k}}return Ie}}class va{constructor(){this.decoder=new Oo}decode(l,f=null){let p,y;if(f!=null&&f.has(Y.PURE_BARCODE)){const U=va.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(U),y=va.NO_POINTS}else{const U=new Qn(l.getBlackMatrix()).detect();p=this.decoder.decode(U.getBits()),y=U.getPoints()}const w=p.getRawBytes(),N=new J(p.getText(),w,8*w.length,y,le.DATA_MATRIX,A.currentTimeMillis()),T=p.getByteSegments();T!=null&&N.putMetadata(Re.BYTE_SEGMENTS,T);const k=p.getECLevel();return k!=null&&N.putMetadata(Re.ERROR_CORRECTION_LEVEL,k),N}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f==null||p==null)throw new me;const y=this.moduleSize(f,l);let w=f[1];const N=p[1];let T=f[0];const U=(p[0]-T+1)/y,Z=(N-w+1)/y;if(U<=0||Z<=0)throw new me;const ie=y/2;w+=ie,T+=ie;const xe=new ye(U,Z);for(let Ie=0;Ie<Z;Ie++){const qe=w+Ie*y;for(let Ge=0;Ge<U;Ge++)l.get(T+Ge*y,qe)&&xe.set(Ge,Ie)}return xe}static moduleSize(l,f){const p=f.getWidth();let y=l[0];const w=l[1];for(;y<p&&f.get(y,w);)y++;if(y===p)throw new me;const N=y-l[0];if(N===0)throw new me;return N}}va.NO_POINTS=[];class kl extends W{constructor(l=500){super(new va,l)}}var Nn;(function(oe){oe[oe.L=0]="L",oe[oe.M=1]="M",oe[oe.Q=2]="Q",oe[oe.H=3]="H"})(Nn||(Nn={}));class vn{constructor(l,f,p){this.value=l,this.stringValue=f,this.bits=p,vn.FOR_BITS.set(p,this),vn.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return vn.L;case"M":return vn.M;case"Q":return vn.Q;case"H":return vn.H;default:throw new m(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof vn))return!1;const f=l;return this.value===f.value}static forBits(l){if(l<0||l>=vn.FOR_BITS.size)throw new v;return vn.FOR_BITS.get(l)}}vn.FOR_BITS=new Map,vn.FOR_VALUE=new Map,vn.L=new vn(Nn.L,"L",1),vn.M=new vn(Nn.M,"M",0),vn.Q=new vn(Nn.Q,"Q",3),vn.H=new vn(Nn.H,"H",2);class Oa{constructor(l){this.errorCorrectionLevel=vn.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,f){return M.bitCount(l^f)}static decodeFormatInformation(l,f){const p=Oa.doDecodeFormatInformation(l,f);return p!==null?p:Oa.doDecodeFormatInformation(l^Oa.FORMAT_INFO_MASK_QR,f^Oa.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,f){let p=Number.MAX_SAFE_INTEGER,y=0;for(const w of Oa.FORMAT_INFO_DECODE_LOOKUP){const N=w[0];if(N===l||N===f)return new Oa(w[1]);let T=Oa.numBitsDiffering(l,N);T<p&&(y=w[1],p=T),l!==f&&(T=Oa.numBitsDiffering(f,N),T<p&&(y=w[1],p=T))}return p<=3?new Oa(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Oa))return!1;const f=l;return this.errorCorrectionLevel===f.errorCorrectionLevel&&this.dataMask===f.dataMask}}Oa.FORMAT_INFO_MASK_QR=21522,Oa.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ot{constructor(l,...f){this.ecCodewordsPerBlock=l,this.ecBlocks=f}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const f=this.ecBlocks;for(const p of f)l+=p.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class je{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xr{constructor(l,f,...p){this.versionNumber=l,this.alignmentPatternCenters=f,this.ecBlocks=p;let y=0;const w=p[0].getECCodewordsPerBlock(),N=p[0].getECBlocks();for(const T of N)y+=T.getCount()*(T.getDataCodewords()+w);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new V;try{return this.getVersionForNumber((l-17)/4)}catch(f){throw new V}}static getVersionForNumber(l){if(l<1||l>40)throw new v;return xr.VERSIONS[l-1]}static decodeVersionInformation(l){let f=Number.MAX_SAFE_INTEGER,p=0;for(let y=0;y<xr.VERSION_DECODE_INFO.length;y++){const w=xr.VERSION_DECODE_INFO[y];if(w===l)return xr.getVersionForNumber(y+7);const N=Oa.numBitsDiffering(l,w);N<f&&(p=y+7,f=N)}return f<=3?xr.getVersionForNumber(p):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),f=new ye(l);f.setRegion(0,0,9,9),f.setRegion(l-8,0,8,9),f.setRegion(0,l-8,9,8);const p=this.alignmentPatternCenters.length;for(let y=0;y<p;y++){const w=this.alignmentPatternCenters[y]-2;for(let N=0;N<p;N++)y===0&&(N===0||N===p-1)||y===p-1&&N===0||f.setRegion(this.alignmentPatternCenters[N]-2,w,5,5)}return f.setRegion(6,9,1,l-17),f.setRegion(9,6,l-17,1),this.versionNumber>6&&(f.setRegion(l-11,0,3,6),f.setRegion(0,l-11,6,3)),f}toString(){return""+this.versionNumber}}xr.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xr.VERSIONS=[new xr(1,new Int32Array(0),new ot(7,new je(1,19)),new ot(10,new je(1,16)),new ot(13,new je(1,13)),new ot(17,new je(1,9))),new xr(2,Int32Array.from([6,18]),new ot(10,new je(1,34)),new ot(16,new je(1,28)),new ot(22,new je(1,22)),new ot(28,new je(1,16))),new xr(3,Int32Array.from([6,22]),new ot(15,new je(1,55)),new ot(26,new je(1,44)),new ot(18,new je(2,17)),new ot(22,new je(2,13))),new xr(4,Int32Array.from([6,26]),new ot(20,new je(1,80)),new ot(18,new je(2,32)),new ot(26,new je(2,24)),new ot(16,new je(4,9))),new xr(5,Int32Array.from([6,30]),new ot(26,new je(1,108)),new ot(24,new je(2,43)),new ot(18,new je(2,15),new je(2,16)),new ot(22,new je(2,11),new je(2,12))),new xr(6,Int32Array.from([6,34]),new ot(18,new je(2,68)),new ot(16,new je(4,27)),new ot(24,new je(4,19)),new ot(28,new je(4,15))),new xr(7,Int32Array.from([6,22,38]),new ot(20,new je(2,78)),new ot(18,new je(4,31)),new ot(18,new je(2,14),new je(4,15)),new ot(26,new je(4,13),new je(1,14))),new xr(8,Int32Array.from([6,24,42]),new ot(24,new je(2,97)),new ot(22,new je(2,38),new je(2,39)),new ot(22,new je(4,18),new je(2,19)),new ot(26,new je(4,14),new je(2,15))),new xr(9,Int32Array.from([6,26,46]),new ot(30,new je(2,116)),new ot(22,new je(3,36),new je(2,37)),new ot(20,new je(4,16),new je(4,17)),new ot(24,new je(4,12),new je(4,13))),new xr(10,Int32Array.from([6,28,50]),new ot(18,new je(2,68),new je(2,69)),new ot(26,new je(4,43),new je(1,44)),new ot(24,new je(6,19),new je(2,20)),new ot(28,new je(6,15),new je(2,16))),new xr(11,Int32Array.from([6,30,54]),new ot(20,new je(4,81)),new ot(30,new je(1,50),new je(4,51)),new ot(28,new je(4,22),new je(4,23)),new ot(24,new je(3,12),new je(8,13))),new xr(12,Int32Array.from([6,32,58]),new ot(24,new je(2,92),new je(2,93)),new ot(22,new je(6,36),new je(2,37)),new ot(26,new je(4,20),new je(6,21)),new ot(28,new je(7,14),new je(4,15))),new xr(13,Int32Array.from([6,34,62]),new ot(26,new je(4,107)),new ot(22,new je(8,37),new je(1,38)),new ot(24,new je(8,20),new je(4,21)),new ot(22,new je(12,11),new je(4,12))),new xr(14,Int32Array.from([6,26,46,66]),new ot(30,new je(3,115),new je(1,116)),new ot(24,new je(4,40),new je(5,41)),new ot(20,new je(11,16),new je(5,17)),new ot(24,new je(11,12),new je(5,13))),new xr(15,Int32Array.from([6,26,48,70]),new ot(22,new je(5,87),new je(1,88)),new ot(24,new je(5,41),new je(5,42)),new ot(30,new je(5,24),new je(7,25)),new ot(24,new je(11,12),new je(7,13))),new xr(16,Int32Array.from([6,26,50,74]),new ot(24,new je(5,98),new je(1,99)),new ot(28,new je(7,45),new je(3,46)),new ot(24,new je(15,19),new je(2,20)),new ot(30,new je(3,15),new je(13,16))),new xr(17,Int32Array.from([6,30,54,78]),new ot(28,new je(1,107),new je(5,108)),new ot(28,new je(10,46),new je(1,47)),new ot(28,new je(1,22),new je(15,23)),new ot(28,new je(2,14),new je(17,15))),new xr(18,Int32Array.from([6,30,56,82]),new ot(30,new je(5,120),new je(1,121)),new ot(26,new je(9,43),new je(4,44)),new ot(28,new je(17,22),new je(1,23)),new ot(28,new je(2,14),new je(19,15))),new xr(19,Int32Array.from([6,30,58,86]),new ot(28,new je(3,113),new je(4,114)),new ot(26,new je(3,44),new je(11,45)),new ot(26,new je(17,21),new je(4,22)),new ot(26,new je(9,13),new je(16,14))),new xr(20,Int32Array.from([6,34,62,90]),new ot(28,new je(3,107),new je(5,108)),new ot(26,new je(3,41),new je(13,42)),new ot(30,new je(15,24),new je(5,25)),new ot(28,new je(15,15),new je(10,16))),new xr(21,Int32Array.from([6,28,50,72,94]),new ot(28,new je(4,116),new je(4,117)),new ot(26,new je(17,42)),new ot(28,new je(17,22),new je(6,23)),new ot(30,new je(19,16),new je(6,17))),new xr(22,Int32Array.from([6,26,50,74,98]),new ot(28,new je(2,111),new je(7,112)),new ot(28,new je(17,46)),new ot(30,new je(7,24),new je(16,25)),new ot(24,new je(34,13))),new xr(23,Int32Array.from([6,30,54,78,102]),new ot(30,new je(4,121),new je(5,122)),new ot(28,new je(4,47),new je(14,48)),new ot(30,new je(11,24),new je(14,25)),new ot(30,new je(16,15),new je(14,16))),new xr(24,Int32Array.from([6,28,54,80,106]),new ot(30,new je(6,117),new je(4,118)),new ot(28,new je(6,45),new je(14,46)),new ot(30,new je(11,24),new je(16,25)),new ot(30,new je(30,16),new je(2,17))),new xr(25,Int32Array.from([6,32,58,84,110]),new ot(26,new je(8,106),new je(4,107)),new ot(28,new je(8,47),new je(13,48)),new ot(30,new je(7,24),new je(22,25)),new ot(30,new je(22,15),new je(13,16))),new xr(26,Int32Array.from([6,30,58,86,114]),new ot(28,new je(10,114),new je(2,115)),new ot(28,new je(19,46),new je(4,47)),new ot(28,new je(28,22),new je(6,23)),new ot(30,new je(33,16),new je(4,17))),new xr(27,Int32Array.from([6,34,62,90,118]),new ot(30,new je(8,122),new je(4,123)),new ot(28,new je(22,45),new je(3,46)),new ot(30,new je(8,23),new je(26,24)),new ot(30,new je(12,15),new je(28,16))),new xr(28,Int32Array.from([6,26,50,74,98,122]),new ot(30,new je(3,117),new je(10,118)),new ot(28,new je(3,45),new je(23,46)),new ot(30,new je(4,24),new je(31,25)),new ot(30,new je(11,15),new je(31,16))),new xr(29,Int32Array.from([6,30,54,78,102,126]),new ot(30,new je(7,116),new je(7,117)),new ot(28,new je(21,45),new je(7,46)),new ot(30,new je(1,23),new je(37,24)),new ot(30,new je(19,15),new je(26,16))),new xr(30,Int32Array.from([6,26,52,78,104,130]),new ot(30,new je(5,115),new je(10,116)),new ot(28,new je(19,47),new je(10,48)),new ot(30,new je(15,24),new je(25,25)),new ot(30,new je(23,15),new je(25,16))),new xr(31,Int32Array.from([6,30,56,82,108,134]),new ot(30,new je(13,115),new je(3,116)),new ot(28,new je(2,46),new je(29,47)),new ot(30,new je(42,24),new je(1,25)),new ot(30,new je(23,15),new je(28,16))),new xr(32,Int32Array.from([6,34,60,86,112,138]),new ot(30,new je(17,115)),new ot(28,new je(10,46),new je(23,47)),new ot(30,new je(10,24),new je(35,25)),new ot(30,new je(19,15),new je(35,16))),new xr(33,Int32Array.from([6,30,58,86,114,142]),new ot(30,new je(17,115),new je(1,116)),new ot(28,new je(14,46),new je(21,47)),new ot(30,new je(29,24),new je(19,25)),new ot(30,new je(11,15),new je(46,16))),new xr(34,Int32Array.from([6,34,62,90,118,146]),new ot(30,new je(13,115),new je(6,116)),new ot(28,new je(14,46),new je(23,47)),new ot(30,new je(44,24),new je(7,25)),new ot(30,new je(59,16),new je(1,17))),new xr(35,Int32Array.from([6,30,54,78,102,126,150]),new ot(30,new je(12,121),new je(7,122)),new ot(28,new je(12,47),new je(26,48)),new ot(30,new je(39,24),new je(14,25)),new ot(30,new je(22,15),new je(41,16))),new xr(36,Int32Array.from([6,24,50,76,102,128,154]),new ot(30,new je(6,121),new je(14,122)),new ot(28,new je(6,47),new je(34,48)),new ot(30,new je(46,24),new je(10,25)),new ot(30,new je(2,15),new je(64,16))),new xr(37,Int32Array.from([6,28,54,80,106,132,158]),new ot(30,new je(17,122),new je(4,123)),new ot(28,new je(29,46),new je(14,47)),new ot(30,new je(49,24),new je(10,25)),new ot(30,new je(24,15),new je(46,16))),new xr(38,Int32Array.from([6,32,58,84,110,136,162]),new ot(30,new je(4,122),new je(18,123)),new ot(28,new je(13,46),new je(32,47)),new ot(30,new je(48,24),new je(14,25)),new ot(30,new je(42,15),new je(32,16))),new xr(39,Int32Array.from([6,26,54,82,110,138,166]),new ot(30,new je(20,117),new je(4,118)),new ot(28,new je(40,47),new je(7,48)),new ot(30,new je(43,24),new je(22,25)),new ot(30,new je(10,15),new je(67,16))),new xr(40,Int32Array.from([6,30,58,86,114,142,170]),new ot(30,new je(19,118),new je(6,119)),new ot(28,new je(18,47),new je(31,48)),new ot(30,new je(34,24),new je(34,25)),new ot(30,new je(20,15),new je(61,16)))];var ua;(function(oe){oe[oe.DATA_MASK_000=0]="DATA_MASK_000",oe[oe.DATA_MASK_001=1]="DATA_MASK_001",oe[oe.DATA_MASK_010=2]="DATA_MASK_010",oe[oe.DATA_MASK_011=3]="DATA_MASK_011",oe[oe.DATA_MASK_100=4]="DATA_MASK_100",oe[oe.DATA_MASK_101=5]="DATA_MASK_101",oe[oe.DATA_MASK_110=6]="DATA_MASK_110",oe[oe.DATA_MASK_111=7]="DATA_MASK_111"})(ua||(ua={}));class Fa{constructor(l,f){this.value=l,this.isMasked=f}unmaskBitMatrix(l,f){for(let p=0;p<f;p++)for(let y=0;y<f;y++)this.isMasked(p,y)&&l.flip(y,p)}}Fa.values=new Map([[ua.DATA_MASK_000,new Fa(ua.DATA_MASK_000,(oe,l)=>(oe+l&1)===0)],[ua.DATA_MASK_001,new Fa(ua.DATA_MASK_001,(oe,l)=>(oe&1)===0)],[ua.DATA_MASK_010,new Fa(ua.DATA_MASK_010,(oe,l)=>l%3===0)],[ua.DATA_MASK_011,new Fa(ua.DATA_MASK_011,(oe,l)=>(oe+l)%3===0)],[ua.DATA_MASK_100,new Fa(ua.DATA_MASK_100,(oe,l)=>(Math.floor(oe/2)+Math.floor(l/3)&1)===0)],[ua.DATA_MASK_101,new Fa(ua.DATA_MASK_101,(oe,l)=>oe*l%6===0)],[ua.DATA_MASK_110,new Fa(ua.DATA_MASK_110,(oe,l)=>oe*l%6<3)],[ua.DATA_MASK_111,new Fa(ua.DATA_MASK_111,(oe,l)=>(oe+l+oe*l%3&1)===0)]]);class ic{constructor(l){const f=l.getHeight();if(f<21||(f&3)!==1)throw new V;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let w=0;w<6;w++)l=this.copyBit(w,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let w=5;w>=0;w--)l=this.copyBit(8,w,l);const f=this.bitMatrix.getHeight();let p=0;const y=f-7;for(let w=f-1;w>=y;w--)p=this.copyBit(8,w,p);for(let w=f-8;w<f;w++)p=this.copyBit(w,8,p);if(this.parsedFormatInfo=Oa.decodeFormatInformation(l,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),f=Math.floor((l-17)/4);if(f<=6)return xr.getVersionForNumber(f);let p=0;const y=l-11;for(let N=5;N>=0;N--)for(let T=l-9;T>=y;T--)p=this.copyBit(T,N,p);let w=xr.decodeVersionInformation(p);if(w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;p=0;for(let N=5;N>=0;N--)for(let T=l-9;T>=y;T--)p=this.copyBit(N,T,p);if(w=xr.decodeVersionInformation(p),w!==null&&w.getDimensionForVersion()===l)return this.parsedVersion=w,w;throw new V}copyBit(l,f,p){return(this.isMirror?this.bitMatrix.get(f,l):this.bitMatrix.get(l,f))?p<<1|1:p<<1}readCodewords(){const l=this.readFormatInformation(),f=this.readVersion(),p=Fa.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y);const w=f.buildFunctionPattern();let N=!0;const T=new Uint8Array(f.getTotalCodewords());let k=0,U=0,Z=0;for(let ie=y-1;ie>0;ie-=2){ie===6&&ie--;for(let xe=0;xe<y;xe++){const Ie=N?y-1-xe:xe;for(let qe=0;qe<2;qe++)w.get(ie-qe,Ie)||(Z++,U<<=1,this.bitMatrix.get(ie-qe,Ie)&&(U|=1),Z===8&&(T[k++]=U,Z=0,U=0))}N=!N}if(k!==f.getTotalCodewords())throw new V;return T}remask(){if(this.parsedFormatInfo===null)return;const l=Fa.values[this.parsedFormatInfo.getDataMask()],f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let f=0,p=l.getWidth();f<p;f++)for(let y=f+1,w=l.getHeight();y<w;y++)l.get(f,y)!==l.get(y,f)&&(l.flip(y,f),l.flip(f,y))}}class Ll{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f,p){if(l.length!==f.getTotalCodewords())throw new v;const y=f.getECBlocksForLevel(p);let w=0;const N=y.getECBlocks();for(const qe of N)w+=qe.getCount();const T=new Array(w);let k=0;for(const qe of N)for(let Ge=0;Ge<qe.getCount();Ge++){const Qe=qe.getDataCodewords(),pt=y.getECCodewordsPerBlock()+Qe;T[k++]=new Ll(Qe,new Uint8Array(pt))}const U=T[0].codewords.length;let Z=T.length-1;for(;Z>=0&&T[Z].codewords.length!==U;)Z--;Z++;const ie=U-y.getECCodewordsPerBlock();let xe=0;for(let qe=0;qe<ie;qe++)for(let Ge=0;Ge<k;Ge++)T[Ge].codewords[qe]=l[xe++];for(let qe=Z;qe<k;qe++)T[qe].codewords[ie]=l[xe++];const Ie=T[0].codewords.length;for(let qe=ie;qe<Ie;qe++)for(let Ge=0;Ge<k;Ge++){const Qe=Ge<Z?qe:qe+1;T[Ge].codewords[Qe]=l[xe++]}return T}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bs;(function(oe){oe[oe.TERMINATOR=0]="TERMINATOR",oe[oe.NUMERIC=1]="NUMERIC",oe[oe.ALPHANUMERIC=2]="ALPHANUMERIC",oe[oe.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",oe[oe.BYTE=4]="BYTE",oe[oe.ECI=5]="ECI",oe[oe.KANJI=6]="KANJI",oe[oe.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",oe[oe.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",oe[oe.HANZI=9]="HANZI"})(bs||(bs={}));class vr{constructor(l,f,p,y){this.value=l,this.stringValue=f,this.characterCountBitsForVersions=p,this.bits=y,vr.FOR_BITS.set(y,this),vr.FOR_VALUE.set(l,this)}static forBits(l){const f=vr.FOR_BITS.get(l);if(f===void 0)throw new v;return f}getCharacterCountBits(l){const f=l.getVersionNumber();let p;return f<=9?p=0:f<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof vr))return!1;const f=l;return this.value===f.value}toString(){return this.stringValue}}vr.FOR_BITS=new Map,vr.FOR_VALUE=new Map,vr.TERMINATOR=new vr(bs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),vr.NUMERIC=new vr(bs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),vr.ALPHANUMERIC=new vr(bs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),vr.STRUCTURED_APPEND=new vr(bs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),vr.BYTE=new vr(bs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),vr.ECI=new vr(bs.ECI,"ECI",Int32Array.from([0,0,0]),7),vr.KANJI=new vr(bs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),vr.FNC1_FIRST_POSITION=new vr(bs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),vr.FNC1_SECOND_POSITION=new vr(bs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),vr.HANZI=new vr(bs.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class wn{static decode(l,f,p,y){const w=new es(l);let N=new se;const T=new Array;let k=-1,U=-1;try{let Z=null,ie=!1,xe;do{if(w.available()<4)xe=vr.TERMINATOR;else{const Ie=w.readBits(4);xe=vr.forBits(Ie)}switch(xe){case vr.TERMINATOR:break;case vr.FNC1_FIRST_POSITION:case vr.FNC1_SECOND_POSITION:ie=!0;break;case vr.STRUCTURED_APPEND:if(w.available()<16)throw new V;k=w.readBits(8),U=w.readBits(8);break;case vr.ECI:const Ie=wn.parseECIValue(w);if(Z=B.getCharacterSetECIByValue(Ie),Z===null)throw new V;break;case vr.HANZI:const qe=w.readBits(4),Ge=w.readBits(xe.getCharacterCountBits(f));qe===wn.GB2312_SUBSET&&wn.decodeHanziSegment(w,N,Ge);break;default:const Qe=w.readBits(xe.getCharacterCountBits(f));switch(xe){case vr.NUMERIC:wn.decodeNumericSegment(w,N,Qe);break;case vr.ALPHANUMERIC:wn.decodeAlphanumericSegment(w,N,Qe,ie);break;case vr.BYTE:wn.decodeByteSegment(w,N,Qe,Z,T,y);break;case vr.KANJI:wn.decodeKanjiSegment(w,N,Qe);break;default:throw new V}break}}while(xe!==vr.TERMINATOR)}catch(Z){throw new V}return new Me(l,N.toString(),T.length===0?null:T,p===null?null:p.toString(),k,U)}static decodeHanziSegment(l,f,p){if(p*13>l.available())throw new V;const y=new Uint8Array(2*p);let w=0;for(;p>0;){const N=l.readBits(13);let T=N/96<<8&4294967295|N%96;T<959?T+=41377:T+=42657,y[w]=T>>8&255,y[w+1]=T&255,w+=2,p--}try{f.append(q.decode(y,G.GB2312))}catch(N){throw new V(N)}}static decodeKanjiSegment(l,f,p){if(p*13>l.available())throw new V;const y=new Uint8Array(2*p);let w=0;for(;p>0;){const N=l.readBits(13);let T=N/192<<8&4294967295|N%192;T<7936?T+=33088:T+=49472,y[w]=T>>8,y[w+1]=T,w+=2,p--}try{f.append(q.decode(y,G.SHIFT_JIS))}catch(N){throw new V(N)}}static decodeByteSegment(l,f,p,y,w,N){if(8*p>l.available())throw new V;const T=new Uint8Array(p);for(let U=0;U<p;U++)T[U]=l.readBits(8);let k;y===null?k=G.guessEncoding(T,N):k=y.getName();try{f.append(q.decode(T,k))}catch(U){throw new V(U)}w.push(T)}static toAlphaNumericChar(l){if(l>=wn.ALPHANUMERIC_CHARS.length)throw new V;return wn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,p,y){const w=f.length();for(;p>1;){if(l.available()<11)throw new V;const N=l.readBits(11);f.append(wn.toAlphaNumericChar(Math.floor(N/45))),f.append(wn.toAlphaNumericChar(N%45)),p-=2}if(p===1){if(l.available()<6)throw new V;f.append(wn.toAlphaNumericChar(l.readBits(6)))}if(y)for(let N=w;N<f.length();N++)f.charAt(N)==="%"&&(N<f.length()-1&&f.charAt(N+1)==="%"?f.deleteCharAt(N+1):f.setCharAt(N,""))}static decodeNumericSegment(l,f,p){for(;p>=3;){if(l.available()<10)throw new V;const y=l.readBits(10);if(y>=1e3)throw new V;f.append(wn.toAlphaNumericChar(Math.floor(y/100))),f.append(wn.toAlphaNumericChar(Math.floor(y/10)%10)),f.append(wn.toAlphaNumericChar(y%10)),p-=3}if(p===2){if(l.available()<7)throw new V;const y=l.readBits(7);if(y>=100)throw new V;f.append(wn.toAlphaNumericChar(Math.floor(y/10))),f.append(wn.toAlphaNumericChar(y%10))}else if(p===1){if(l.available()<4)throw new V;const y=l.readBits(4);if(y>=10)throw new V;f.append(wn.toAlphaNumericChar(y))}}static parseECIValue(l){const f=l.readBits(8);if((f&128)===0)return f&127;if((f&192)===128){const p=l.readBits(8);return(f&63)<<8&4294967295|p}if((f&224)===192){const p=l.readBits(16);return(f&31)<<16&4294967295|p}throw new V}}wn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",wn.GB2312_SUBSET=1;class Jo{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const f=l[0];l[0]=l[2],l[2]=f}}class no{constructor(){this.rsDecoder=new ge(gt.QR_CODE_FIELD_256)}decodeBooleanArray(l,f){return this.decodeBitMatrix(ye.parseFromBooleanArray(l),f)}decodeBitMatrix(l,f){const p=new ic(l);let y=null;try{return this.decodeBitMatrixParser(p,f)}catch(w){y=w}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const w=this.decodeBitMatrixParser(p,f);return w.setOther(new Jo(!0)),w}catch(w){throw y!==null?y:w}}decodeBitMatrixParser(l,f){const p=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),w=l.readCodewords(),N=Ll.getDataBlocks(w,p,y);let T=0;for(const Z of N)T+=Z.getNumDataCodewords();const k=new Uint8Array(T);let U=0;for(const Z of N){const ie=Z.getCodewords(),xe=Z.getNumDataCodewords();this.correctErrors(ie,xe);for(let Ie=0;Ie<xe;Ie++)k[U++]=ie[Ie]}return wn.decode(k,p,y,f)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch(y){throw new _}for(let y=0;y<f;y++)l[y]=p[y]}}class Ro extends et{constructor(l,f,p){super(l,f),this.estimatedModuleSize=p}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const y=(this.getX()+f)/2,w=(this.getY()+l)/2,N=(this.estimatedModuleSize+p)/2;return new Ro(y,w,N)}}class ya{constructor(l,f,p,y,w,N,T){this.image=l,this.startX=f,this.startY=p,this.width=y,this.height=w,this.moduleSize=N,this.resultPointCallback=T,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,f=this.height,p=this.width,y=l+p,w=this.startY+f/2,N=new Int32Array(3),T=this.image;for(let k=0;k<f;k++){const U=w+((k&1)===0?Math.floor((k+1)/2):-Math.floor((k+1)/2));N[0]=0,N[1]=0,N[2]=0;let Z=l;for(;Z<y&&!T.get(Z,U);)Z++;let ie=0;for(;Z<y;){if(T.get(Z,U))if(ie===1)N[1]++;else if(ie===2){if(this.foundPatternCross(N)){const xe=this.handlePossibleCenter(N,U,Z);if(xe!==null)return xe}N[0]=N[2],N[1]=1,N[2]=0,ie=1}else N[++ie]++;else ie===1&&ie++,N[ie]++;Z++}if(this.foundPatternCross(N)){const xe=this.handlePossibleCenter(N,U,y);if(xe!==null)return xe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new me}static centerFromEnd(l,f){return f-l[2]-l[1]/2}foundPatternCross(l){const f=this.moduleSize,p=f/2;for(let y=0;y<3;y++)if(Math.abs(f-l[y])>=p)return!1;return!0}crossCheckVertical(l,f,p,y){const w=this.image,N=w.getHeight(),T=this.crossCheckStateCount;T[0]=0,T[1]=0,T[2]=0;let k=l;for(;k>=0&&w.get(f,k)&&T[1]<=p;)T[1]++,k--;if(k<0||T[1]>p)return NaN;for(;k>=0&&!w.get(f,k)&&T[0]<=p;)T[0]++,k--;if(T[0]>p)return NaN;for(k=l+1;k<N&&w.get(f,k)&&T[1]<=p;)T[1]++,k++;if(k===N||T[1]>p)return NaN;for(;k<N&&!w.get(f,k)&&T[2]<=p;)T[2]++,k++;if(T[2]>p)return NaN;const U=T[0]+T[1]+T[2];return 5*Math.abs(U-y)>=2*y?NaN:this.foundPatternCross(T)?ya.centerFromEnd(T,k):NaN}handlePossibleCenter(l,f,p){const y=l[0]+l[1]+l[2],w=ya.centerFromEnd(l,p),N=this.crossCheckVertical(f,w,2*l[1],y);if(!isNaN(N)){const T=(l[0]+l[1]+l[2])/3;for(const U of this.possibleCenters)if(U.aboutEquals(T,N,w))return U.combineEstimate(N,w,T);const k=new Ro(w,N,T);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class Pi extends et{constructor(l,f,p,y){super(l,f),this.estimatedModuleSize=p,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const y=this.count+1,w=(this.count*this.getX()+f)/y,N=(this.count*this.getY()+l)/y,T=(this.count*this.estimatedModuleSize+p)/y;return new Pi(w,N,T,y)}}class ao{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class dr{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=l!=null&&l.get(Y.TRY_HARDER)!==void 0,p=l!=null&&l.get(Y.PURE_BARCODE)!==void 0,y=this.image,w=y.getHeight(),N=y.getWidth();let T=Math.floor(3*w/(4*dr.MAX_MODULES));(T<dr.MIN_SKIP||f)&&(T=dr.MIN_SKIP);let k=!1;const U=new Int32Array(5);for(let ie=T-1;ie<w&&!k;ie+=T){U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0;let xe=0;for(let Ie=0;Ie<N;Ie++)if(y.get(Ie,ie))(xe&1)===1&&xe++,U[xe]++;else if((xe&1)===0)if(xe===4)if(dr.foundPatternCross(U)){if(this.handlePossibleCenter(U,ie,Ie,p)===!0)if(T=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const Ge=this.findRowSkip();Ge>U[2]&&(ie+=Ge-U[2]-T,Ie=N-1)}else{U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,xe=3;continue}xe=0,U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0}else U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,xe=3;else U[++xe]++;else U[xe]++;dr.foundPatternCross(U)&&this.handlePossibleCenter(U,ie,N,p)===!0&&(T=U[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const Z=this.selectBestPatterns();return et.orderBestPatterns(Z),new ao(Z)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let w=0;w<5;w++){const N=l[w];if(N===0)return!1;f+=N}if(f<7)return!1;const p=f/7,y=p/2;return Math.abs(p-l[0])<y&&Math.abs(p-l[1])<y&&Math.abs(3*p-l[2])<3*y&&Math.abs(p-l[3])<y&&Math.abs(p-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,p,y){const w=this.getCrossCheckStateCount();let N=0;const T=this.image;for(;l>=N&&f>=N&&T.get(f-N,l-N);)w[2]++,N++;if(l<N||f<N)return!1;for(;l>=N&&f>=N&&!T.get(f-N,l-N)&&w[1]<=p;)w[1]++,N++;if(l<N||f<N||w[1]>p)return!1;for(;l>=N&&f>=N&&T.get(f-N,l-N)&&w[0]<=p;)w[0]++,N++;if(w[0]>p)return!1;const k=T.getHeight(),U=T.getWidth();for(N=1;l+N<k&&f+N<U&&T.get(f+N,l+N);)w[2]++,N++;if(l+N>=k||f+N>=U)return!1;for(;l+N<k&&f+N<U&&!T.get(f+N,l+N)&&w[3]<p;)w[3]++,N++;if(l+N>=k||f+N>=U||w[3]>=p)return!1;for(;l+N<k&&f+N<U&&T.get(f+N,l+N)&&w[4]<p;)w[4]++,N++;if(w[4]>=p)return!1;const Z=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(Z-y)<2*y&&dr.foundPatternCross(w)}crossCheckVertical(l,f,p,y){const w=this.image,N=w.getHeight(),T=this.getCrossCheckStateCount();let k=l;for(;k>=0&&w.get(f,k);)T[2]++,k--;if(k<0)return NaN;for(;k>=0&&!w.get(f,k)&&T[1]<=p;)T[1]++,k--;if(k<0||T[1]>p)return NaN;for(;k>=0&&w.get(f,k)&&T[0]<=p;)T[0]++,k--;if(T[0]>p)return NaN;for(k=l+1;k<N&&w.get(f,k);)T[2]++,k++;if(k===N)return NaN;for(;k<N&&!w.get(f,k)&&T[3]<p;)T[3]++,k++;if(k===N||T[3]>=p)return NaN;for(;k<N&&w.get(f,k)&&T[4]<p;)T[4]++,k++;if(T[4]>=p)return NaN;const U=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(U-y)>=2*y?NaN:dr.foundPatternCross(T)?dr.centerFromEnd(T,k):NaN}crossCheckHorizontal(l,f,p,y){const w=this.image,N=w.getWidth(),T=this.getCrossCheckStateCount();let k=l;for(;k>=0&&w.get(k,f);)T[2]++,k--;if(k<0)return NaN;for(;k>=0&&!w.get(k,f)&&T[1]<=p;)T[1]++,k--;if(k<0||T[1]>p)return NaN;for(;k>=0&&w.get(k,f)&&T[0]<=p;)T[0]++,k--;if(T[0]>p)return NaN;for(k=l+1;k<N&&w.get(k,f);)T[2]++,k++;if(k===N)return NaN;for(;k<N&&!w.get(k,f)&&T[3]<p;)T[3]++,k++;if(k===N||T[3]>=p)return NaN;for(;k<N&&w.get(k,f)&&T[4]<p;)T[4]++,k++;if(T[4]>=p)return NaN;const U=T[0]+T[1]+T[2]+T[3]+T[4];return 5*Math.abs(U-y)>=y?NaN:dr.foundPatternCross(T)?dr.centerFromEnd(T,k):NaN}handlePossibleCenter(l,f,p,y){const w=l[0]+l[1]+l[2]+l[3]+l[4];let N=dr.centerFromEnd(l,p),T=this.crossCheckVertical(f,Math.floor(N),l[2],w);if(!isNaN(T)&&(N=this.crossCheckHorizontal(Math.floor(N),Math.floor(T),l[2],w),!isNaN(N)&&(!y||this.crossCheckDiagonal(Math.floor(T),Math.floor(N),l[2],w)))){const k=w/7;let U=!1;const Z=this.possibleCenters;for(let ie=0,xe=Z.length;ie<xe;ie++){const Ie=Z[ie];if(Ie.aboutEquals(k,T,N)){Z[ie]=Ie.combineEstimate(T,N,k),U=!0;break}}if(!U){const ie=new Pi(N,T,k);Z.push(ie),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ie)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const p of this.possibleCenters)if(p.getCount()>=dr.CENTER_QUORUM)if(f==null)f=p;else return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-p.getX())-Math.abs(f.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const p=this.possibleCenters.length;for(const N of this.possibleCenters)N.getCount()>=dr.CENTER_QUORUM&&(l++,f+=N.getEstimatedModuleSize());if(l<3)return!1;const y=f/p;let w=0;for(const N of this.possibleCenters)w+=Math.abs(N.getEstimatedModuleSize()-y);return w<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new me;const f=this.possibleCenters;let p;if(l>3){let y=0,w=0;for(const k of this.possibleCenters){const U=k.getEstimatedModuleSize();y+=U,w+=U*U}p=y/l;let N=Math.sqrt(w/l-p*p);f.sort((k,U)=>{const Z=Math.abs(U.getEstimatedModuleSize()-p),ie=Math.abs(k.getEstimatedModuleSize()-p);return Z<ie?-1:Z>ie?1:0});const T=Math.max(.2*p,N);for(let k=0;k<f.length&&f.length>3;k++){const U=f[k];Math.abs(U.getEstimatedModuleSize()-p)>T&&(f.splice(k,1),k--)}}if(f.length>3){let y=0;for(const w of f)y+=w.getEstimatedModuleSize();p=y/f.length,f.sort((w,N)=>{if(N.getCount()===w.getCount()){const T=Math.abs(N.getEstimatedModuleSize()-p),k=Math.abs(w.getEstimatedModuleSize()-p);return T<k?1:T>k?-1:0}else return N.getCount()-w.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}dr.CENTER_QUORUM=2,dr.MIN_SKIP=3,dr.MAX_MODULES=57;class so{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(Y.NEED_RESULT_POINT_CALLBACK);const p=new dr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(p)}processFinderPatternInfo(l){const f=l.getTopLeft(),p=l.getTopRight(),y=l.getBottomLeft(),w=this.calculateModuleSize(f,p,y);if(w<1)throw new me("No pattern found in proccess finder.");const N=so.computeDimension(f,p,y,w),T=xr.getProvisionalVersionForDimension(N),k=T.getDimensionForVersion()-7;let U=null;if(T.getAlignmentPatternCenters().length>0){const Ie=p.getX()-f.getX()+y.getX(),qe=p.getY()-f.getY()+y.getY(),Ge=1-3/k,Qe=Math.floor(f.getX()+Ge*(Ie-f.getX())),pt=Math.floor(f.getY()+Ge*(qe-f.getY()));for(let Lt=4;Lt<=16;Lt<<=1)try{U=this.findAlignmentInRegion(w,Qe,pt,Lt);break}catch(Ht){if(!(Ht instanceof me))throw Ht}}const Z=so.createTransform(f,p,y,U,N),ie=so.sampleGrid(this.image,Z,N);let xe;return U===null?xe=[y,f,p]:xe=[y,f,p,U],new Pt(ie,xe)}static createTransform(l,f,p,y,w){const N=w-3.5;let T,k,U,Z;return y!==null?(T=y.getX(),k=y.getY(),U=N-3,Z=U):(T=f.getX()-l.getX()+p.getX(),k=f.getY()-l.getY()+p.getY(),U=N,Z=N),rr.quadrilateralToQuadrilateral(3.5,3.5,N,3.5,U,Z,3.5,N,l.getX(),l.getY(),f.getX(),f.getY(),T,k,p.getX(),p.getY())}static sampleGrid(l,f,p){return hr.getInstance().sampleGridWithTransform(l,p,p,f)}static computeDimension(l,f,p,y){const w=Ue.round(et.distance(l,f)/y),N=Ue.round(et.distance(l,p)/y);let T=Math.floor((w+N)/2)+7;switch(T&3){case 0:T++;break;case 2:T--;break;case 3:throw new me("Dimensions could be not found.")}return T}calculateModuleSize(l,f,p){return(this.calculateModuleSizeOneWay(l,f)+this.calculateModuleSizeOneWay(l,p))/2}calculateModuleSizeOneWay(l,f){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(f.getX()),Math.floor(f.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(p)?y/7:isNaN(y)?p/7:(p+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,f,p,y){let w=this.sizeOfBlackWhiteBlackRun(l,f,p,y),N=1,T=l-(p-l);T<0?(N=l/(l-T),T=0):T>=this.image.getWidth()&&(N=(this.image.getWidth()-1-l)/(T-l),T=this.image.getWidth()-1);let k=Math.floor(f-(y-f)*N);return N=1,k<0?(N=f/(f-k),k=0):k>=this.image.getHeight()&&(N=(this.image.getHeight()-1-f)/(k-f),k=this.image.getHeight()-1),T=Math.floor(l+(T-l)*N),w+=this.sizeOfBlackWhiteBlackRun(l,f,T,k),w-1}sizeOfBlackWhiteBlackRun(l,f,p,y){const w=Math.abs(y-f)>Math.abs(p-l);if(w){let Ie=l;l=f,f=Ie,Ie=p,p=y,y=Ie}const N=Math.abs(p-l),T=Math.abs(y-f);let k=-N/2;const U=l<p?1:-1,Z=f<y?1:-1;let ie=0;const xe=p+U;for(let Ie=l,qe=f;Ie!==xe;Ie+=U){const Ge=w?qe:Ie,Qe=w?Ie:qe;if(ie===1===this.image.get(Ge,Qe)){if(ie===2)return Ue.distance(Ie,qe,l,f);ie++}if(k+=T,k>0){if(qe===y)break;qe+=Z,k-=N}}return ie===2?Ue.distance(p+U,y,l,f):NaN}findAlignmentInRegion(l,f,p,y){const w=Math.floor(y*l),N=Math.max(0,f-w),T=Math.min(this.image.getWidth()-1,f+w);if(T-N<l*3)throw new me("Alignment top exceeds estimated module size.");const k=Math.max(0,p-w),U=Math.min(this.image.getHeight()-1,p+w);if(U-k<l*3)throw new me("Alignment bottom exceeds estimated module size.");return new ya(this.image,N,k,T-N,U-k,l,this.resultPointCallback).find()}}class Ei{constructor(){this.decoder=new no}getDecoder(){return this.decoder}decode(l,f){let p,y;if(f!=null&&f.get(Y.PURE_BARCODE)!==void 0){const k=Ei.extractPureBits(l.getBlackMatrix());p=this.decoder.decodeBitMatrix(k,f),y=Ei.NO_POINTS}else{const k=new so(l.getBlackMatrix()).detect(f);p=this.decoder.decodeBitMatrix(k.getBits(),f),y=k.getPoints()}p.getOther()instanceof Jo&&p.getOther().applyMirroredCorrection(y);const w=new J(p.getText(),p.getRawBytes(),void 0,y,le.QR_CODE,void 0),N=p.getByteSegments();N!==null&&w.putMetadata(Re.BYTE_SEGMENTS,N);const T=p.getECLevel();return T!==null&&w.putMetadata(Re.ERROR_CORRECTION_LEVEL,T),p.hasStructuredAppend()&&(w.putMetadata(Re.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),w.putMetadata(Re.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),w}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f===null||p===null)throw new me;const y=this.moduleSize(f,l);let w=f[1],N=p[1],T=f[0],k=p[0];if(T>=k||w>=N)throw new me;if(N-w!==k-T&&(k=T+(N-w),k>=l.getWidth()))throw new me;const U=Math.round((k-T+1)/y),Z=Math.round((N-w+1)/y);if(U<=0||Z<=0)throw new me;if(Z!==U)throw new me;const ie=Math.floor(y/2);w+=ie,T+=ie;const xe=T+Math.floor((U-1)*y)-k;if(xe>0){if(xe>ie)throw new me;T-=xe}const Ie=w+Math.floor((Z-1)*y)-N;if(Ie>0){if(Ie>ie)throw new me;w-=Ie}const qe=new ye(U,Z);for(let Ge=0;Ge<Z;Ge++){const Qe=w+Math.floor(Ge*y);for(let pt=0;pt<U;pt++)l.get(T+Math.floor(pt*y),Qe)&&qe.set(pt,Ge)}return qe}static moduleSize(l,f){const p=f.getHeight(),y=f.getWidth();let w=l[0],N=l[1],T=!0,k=0;for(;w<y&&N<p;){if(T!==f.get(w,N)){if(++k===5)break;T=!T}w++,N++}if(w===y||N===p)throw new me;return(w-l[0])/7}}Ei.NO_POINTS=new Array;class fr{PDF417Common(){}static getBitCountSum(l){return Ue.sum(l)}static toIntArray(l){if(l==null||!l.length)return fr.EMPTY_INT_ARRAY;const f=new Int32Array(l.length);let p=0;for(const y of l)f[p++]=y;return f}static getCodeword(l){const f=D.binarySearch(fr.SYMBOL_TABLE,l&262143);return f<0?-1:(fr.CODEWORD_TABLE[f]-1)%fr.NUMBER_OF_CODEWORDS}}fr.NUMBER_OF_CODEWORDS=929,fr.MAX_CODEWORDS_IN_BARCODE=fr.NUMBER_OF_CODEWORDS-1,fr.MIN_ROWS_IN_BARCODE=3,fr.MAX_ROWS_IN_BARCODE=90,fr.MODULES_IN_CODEWORD=17,fr.MODULES_IN_STOP_PATTERN=18,fr.BARS_IN_MODULE=8,fr.EMPTY_INT_ARRAY=new Int32Array([]),fr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),fr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ai{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Ir{static detectMultiple(l,f,p){let y=l.getBlackMatrix(),w=Ir.detect(p,y);return w.length||(y=y.clone(),y.rotate180(),w=Ir.detect(p,y)),new ai(y,w)}static detect(l,f){const p=new Array;let y=0,w=0,N=!1;for(;y<f.getHeight();){const T=Ir.findVertices(f,y,w);if(T[0]==null&&T[3]==null){if(!N)break;N=!1,w=0;for(const k of p)k[1]!=null&&(y=Math.trunc(Math.max(y,k[1].getY()))),k[3]!=null&&(y=Math.max(y,Math.trunc(k[3].getY())));y+=Ir.ROW_STEP;continue}if(N=!0,p.push(T),!l)break;T[2]!=null?(w=Math.trunc(T[2].getX()),y=Math.trunc(T[2].getY())):(w=Math.trunc(T[4].getX()),y=Math.trunc(T[4].getY()))}return p}static findVertices(l,f,p){const y=l.getHeight(),w=l.getWidth(),N=new Array(8);return Ir.copyToResult(N,Ir.findRowsWithPattern(l,y,w,f,p,Ir.START_PATTERN),Ir.INDEXES_START_PATTERN),N[4]!=null&&(p=Math.trunc(N[4].getX()),f=Math.trunc(N[4].getY())),Ir.copyToResult(N,Ir.findRowsWithPattern(l,y,w,f,p,Ir.STOP_PATTERN),Ir.INDEXES_STOP_PATTERN),N}static copyToResult(l,f,p){for(let y=0;y<p.length;y++)l[p[y]]=f[y]}static findRowsWithPattern(l,f,p,y,w,N){const T=new Array(4);let k=!1;const U=new Int32Array(N.length);for(;y<f;y+=Ir.ROW_STEP){let ie=Ir.findGuardPattern(l,w,y,p,!1,N,U);if(ie!=null){for(;y>0;){const xe=Ir.findGuardPattern(l,w,--y,p,!1,N,U);if(xe!=null)ie=xe;else{y++;break}}T[0]=new et(ie[0],y),T[1]=new et(ie[1],y),k=!0;break}}let Z=y+1;if(k){let ie=0,xe=Int32Array.from([Math.trunc(T[0].getX()),Math.trunc(T[1].getX())]);for(;Z<f;Z++){const Ie=Ir.findGuardPattern(l,xe[0],Z,p,!1,N,U);if(Ie!=null&&Math.abs(xe[0]-Ie[0])<Ir.MAX_PATTERN_DRIFT&&Math.abs(xe[1]-Ie[1])<Ir.MAX_PATTERN_DRIFT)xe=Ie,ie=0;else{if(ie>Ir.SKIPPED_ROW_COUNT_MAX)break;ie++}}Z-=ie+1,T[2]=new et(xe[0],Z),T[3]=new et(xe[1],Z)}return Z-y<Ir.BARCODE_MIN_HEIGHT&&D.fill(T,null),T}static findGuardPattern(l,f,p,y,w,N,T){D.fillWithin(T,0,T.length,0);let k=f,U=0;for(;l.get(k,p)&&k>0&&U++<Ir.MAX_PIXEL_DRIFT;)k--;let Z=k,ie=0,xe=N.length;for(let Ie=w;Z<y;Z++)if(l.get(Z,p)!==Ie)T[ie]++;else{if(ie===xe-1){if(Ir.patternMatchVariance(T,N,Ir.MAX_INDIVIDUAL_VARIANCE)<Ir.MAX_AVG_VARIANCE)return new Int32Array([k,Z]);k+=T[0]+T[1],A.arraycopy(T,2,T,0,ie-1),T[ie-1]=0,T[ie]=0,ie--}else ie++;T[ie]=1,Ie=!Ie}return ie===xe-1&&Ir.patternMatchVariance(T,N,Ir.MAX_INDIVIDUAL_VARIANCE)<Ir.MAX_AVG_VARIANCE?new Int32Array([k,Z-1]):null}static patternMatchVariance(l,f,p){let y=l.length,w=0,N=0;for(let U=0;U<y;U++)w+=l[U],N+=f[U];if(w<N)return 1/0;let T=w/N;p*=T;let k=0;for(let U=0;U<y;U++){let Z=l[U],ie=f[U]*T,xe=Z>ie?Z-ie:ie-Z;if(xe>p)return 1/0;k+=xe}return k/w}}Ir.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ir.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ir.MAX_AVG_VARIANCE=.42,Ir.MAX_INDIVIDUAL_VARIANCE=.8,Ir.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ir.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ir.MAX_PIXEL_DRIFT=3,Ir.MAX_PATTERN_DRIFT=5,Ir.SKIPPED_ROW_COUNT_MAX=25,Ir.ROW_STEP=5,Ir.BARCODE_MIN_HEIGHT=10;class Hn{constructor(l,f){if(f.length===0)throw new v;this.field=l;let p=f.length;if(p>1&&f[0]===0){let y=1;for(;y<p&&f[y]===0;)y++;y===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-y),A.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let w of this.coefficients)y=this.field.add(y,w);return y}let f=this.coefficients[0],p=this.coefficients.length;for(let y=1;y<p;y++)f=this.field.add(this.field.multiply(l,f),this.coefficients[y]);return f}add(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){let N=f;f=p,p=N}let y=new Int32Array(p.length),w=p.length-f.length;A.arraycopy(p,0,y,0,w);for(let N=w;N<p.length;N++)y[N]=this.field.add(f[N-w],p[N]);return new Hn(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Hn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Hn(this.field,new Int32Array([0]));let f=this.coefficients,p=f.length,y=l.coefficients,w=y.length,N=new Int32Array(p+w-1);for(let T=0;T<p;T++){let k=f[T];for(let U=0;U<w;U++)N[T+U]=this.field.add(N[T+U],this.field.multiply(k,y[U]))}return new Hn(this.field,N)}negative(){let l=this.coefficients.length,f=new Int32Array(l);for(let p=0;p<l;p++)f[p]=this.field.subtract(0,this.coefficients[p]);return new Hn(this.field,f)}multiplyScalar(l){if(l===0)return new Hn(this.field,new Int32Array([0]));if(l===1)return this;let f=this.coefficients.length,p=new Int32Array(f);for(let y=0;y<f;y++)p[y]=this.field.multiply(this.coefficients[y],l);return new Hn(this.field,p)}multiplyByMonomial(l,f){if(l<0)throw new v;if(f===0)return new Hn(this.field,new Int32Array([0]));let p=this.coefficients.length,y=new Int32Array(p+l);for(let w=0;w<p;w++)y[w]=this.field.multiply(this.coefficients[w],f);return new Hn(this.field,y)}toString(){let l=new se;for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);p!==0&&(p<0?(l.append(" - "),p=-p):l.length()>0&&l.append(" + "),(f===0||p!==1)&&l.append(p),f!==0&&(f===1?l.append("x"):(l.append("x^"),l.append(f))))}return l.toString()}}class si{add(l,f){return(l+f)%this.modulus}subtract(l,f){return(this.modulus+l-f)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}inverse(l){if(l===0)throw new ut;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Qo extends si{constructor(l,f){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let p=1;for(let y=0;y<l;y++)this.expTable[y]=p,p=p*f%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new Hn(this,new Int32Array([0])),this.one=new Hn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new v;if(f===0)return this.zero;let p=new Int32Array(l+1);return p[0]=f,new Hn(this,p)}}Qo.PDF417_GF=new Qo(fr.NUMBER_OF_CODEWORDS,3);class el{constructor(){this.field=Qo.PDF417_GF}decode(l,f,p){let y=new Hn(this.field,l),w=new Int32Array(f),N=!1;for(let qe=f;qe>0;qe--){let Ge=y.evaluateAt(this.field.exp(qe));w[f-qe]=Ge,Ge!==0&&(N=!0)}if(!N)return 0;let T=this.field.getOne();if(p!=null)for(const qe of p){let Ge=this.field.exp(l.length-1-qe),Qe=new Hn(this.field,new Int32Array([this.field.subtract(0,Ge),1]));T=T.multiply(Qe)}let k=new Hn(this.field,w),U=this.runEuclideanAlgorithm(this.field.buildMonomial(f,1),k,f),Z=U[0],ie=U[1],xe=this.findErrorLocations(Z),Ie=this.findErrorMagnitudes(ie,Z,xe);for(let qe=0;qe<xe.length;qe++){let Ge=l.length-1-this.field.log(xe[qe]);if(Ge<0)throw _.getChecksumInstance();l[Ge]=this.field.subtract(l[Ge],Ie[qe])}return xe.length}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){let xe=l;l=f,f=xe}let y=l,w=f,N=this.field.getZero(),T=this.field.getOne();for(;w.getDegree()>=Math.round(p/2);){let xe=y,Ie=N;if(y=w,N=T,y.isZero())throw _.getChecksumInstance();w=xe;let qe=this.field.getZero(),Ge=y.getCoefficient(y.getDegree()),Qe=this.field.inverse(Ge);for(;w.getDegree()>=y.getDegree()&&!w.isZero();){let pt=w.getDegree()-y.getDegree(),Lt=this.field.multiply(w.getCoefficient(w.getDegree()),Qe);qe=qe.add(this.field.buildMonomial(pt,Lt)),w=w.subtract(y.multiplyByMonomial(pt,Lt))}T=qe.multiply(N).subtract(Ie).negative()}let k=T.getCoefficient(0);if(k===0)throw _.getChecksumInstance();let U=this.field.inverse(k),Z=T.multiply(U),ie=w.multiply(U);return[Z,ie]}findErrorLocations(l){let f=l.getDegree(),p=new Int32Array(f),y=0;for(let w=1;w<this.field.getSize()&&y<f;w++)l.evaluateAt(w)===0&&(p[y]=this.field.inverse(w),y++);if(y!==f)throw _.getChecksumInstance();return p}findErrorMagnitudes(l,f,p){let y=f.getDegree(),w=new Int32Array(y);for(let U=1;U<=y;U++)w[y-U]=this.field.multiply(U,f.getCoefficient(U));let N=new Hn(this.field,w),T=p.length,k=new Int32Array(T);for(let U=0;U<T;U++){let Z=this.field.inverse(p[U]),ie=this.field.subtract(0,l.evaluateAt(Z)),xe=this.field.inverse(N.evaluateAt(Z));k[U]=this.field.multiply(ie,xe)}return k}}class Fi{constructor(l,f,p,y,w){l instanceof Fi?this.constructor_2(l):this.constructor_1(l,f,p,y,w)}constructor_1(l,f,p,y,w){const N=f==null||p==null,T=y==null||w==null;if(N&&T)throw new me;N?(f=new et(0,y.getY()),p=new et(0,w.getY())):T&&(y=new et(l.getWidth()-1,f.getY()),w=new et(l.getWidth()-1,p.getY())),this.image=l,this.topLeft=f,this.bottomLeft=p,this.topRight=y,this.bottomRight=w,this.minX=Math.trunc(Math.min(f.getX(),p.getX())),this.maxX=Math.trunc(Math.max(y.getX(),w.getX())),this.minY=Math.trunc(Math.min(f.getY(),y.getY())),this.maxY=Math.trunc(Math.max(p.getY(),w.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,f){return l==null?f:f==null?l:new Fi(l.image,l.topLeft,l.bottomLeft,f.topRight,f.bottomRight)}addMissingRows(l,f,p){let y=this.topLeft,w=this.bottomLeft,N=this.topRight,T=this.bottomRight;if(l>0){let k=p?this.topLeft:this.topRight,U=Math.trunc(k.getY()-l);U<0&&(U=0);let Z=new et(k.getX(),U);p?y=Z:N=Z}if(f>0){let k=p?this.bottomLeft:this.bottomRight,U=Math.trunc(k.getY()+f);U>=this.image.getHeight()&&(U=this.image.getHeight()-1);let Z=new et(k.getX(),U);p?w=Z:T=Z}return new Fi(this.image,y,w,N,T)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ko{constructor(l,f,p,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=f,this.rowCountLowerPart=p,this.rowCount=f+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ss{constructor(){this.buffer=""}static form(l,f){let p=-1;function y(N,T,k,U,Z,ie){if(N==="%%")return"%";if(f[++p]===void 0)return;N=U?parseInt(U.substr(1)):void 0;let xe=Z?parseInt(Z.substr(1)):void 0,Ie;switch(ie){case"s":Ie=f[p];break;case"c":Ie=f[p][0];break;case"f":Ie=parseFloat(f[p]).toFixed(N);break;case"p":Ie=parseFloat(f[p]).toPrecision(N);break;case"e":Ie=parseFloat(f[p]).toExponential(N);break;case"x":Ie=parseInt(f[p]).toString(xe||16);break;case"d":Ie=parseFloat(parseInt(f[p],xe||10).toPrecision(N)).toFixed(0);break}Ie=typeof Ie=="object"?JSON.stringify(Ie):(+Ie).toString(xe);let qe=parseInt(k),Ge=k&&k[0]+""=="0"?"0":" ";for(;Ie.length<qe;)Ie=T!==void 0?Ie+Ge:Ge+Ie;return Ie}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(w,y)}format(l,...f){this.buffer+=Ss.form(l,f)}toString(){return this.buffer}}class Vs{constructor(l){this.boundingBox=new Fi(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(f!=null)return f;for(let p=1;p<Vs.MAX_NEARBY_DISTANCE;p++){let y=this.imageRowToCodewordIndex(l)-p;if(y>=0&&(f=this.codewords[y],f!=null)||(y=this.imageRowToCodewordIndex(l)+p,y<this.codewords.length&&(f=this.codewords[y],f!=null)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Ss;let f=0;for(const p of this.codewords){if(p==null){l.format("%3d:    |   %n",f++);continue}l.format("%3d: %3d|%3d%n",f++,p.getRowNumber(),p.getValue())}return l.toString()}}Vs.MAX_NEARBY_DISTANCE=5;class Ra{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let f=this.values.get(l);f==null&&(f=0),f++,this.values.set(l,f)}getValue(){let l=-1,f=new Array;for(const[p,y]of this.values.entries()){const w={getKey:()=>p,getValue:()=>y};w.getValue()>l?(l=w.getValue(),f=[],f.push(w.getKey())):w.getValue()===l&&f.push(w.getKey())}return fr.toIntArray(f)}getConfidence(l){return this.values.get(l)}}class As extends Vs{constructor(l,f){super(l),this._isLeft=f}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let f=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(f,l);let p=this.getBoundingBox(),y=this._isLeft?p.getTopLeft():p.getTopRight(),w=this._isLeft?p.getBottomLeft():p.getBottomRight(),N=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.imageRowToCodewordIndex(Math.trunc(w.getY())),k=-1,U=1,Z=0;for(let ie=N;ie<T;ie++){if(f[ie]==null)continue;let xe=f[ie],Ie=xe.getRowNumber()-k;if(Ie===0)Z++;else if(Ie===1)U=Math.max(U,Z),Z=1,k=xe.getRowNumber();else if(Ie<0||xe.getRowNumber()>=l.getRowCount()||Ie>ie)f[ie]=null;else{let qe;U>2?qe=(U-2)*Ie:qe=Ie;let Ge=qe>=ie;for(let Qe=1;Qe<=qe&&!Ge;Qe++)Ge=f[ie-Qe]!=null;Ge?f[ie]=null:(k=xe.getRowNumber(),Z=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let f=new Int32Array(l.getRowCount());for(let p of this.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=f.length)continue;f[y]++}return f}adjustIncompleteIndicatorColumnRowNumbers(l){let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),y=this._isLeft?f.getBottomLeft():f.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),N=this.imageRowToCodewordIndex(Math.trunc(y.getY())),T=this.getCodewords(),k=-1;for(let U=w;U<N;U++){if(T[U]==null)continue;let Z=T[U];Z.setRowNumberAsRowIndicatorColumn();let ie=Z.getRowNumber()-k;ie===0||(ie===1?k=Z.getRowNumber():Z.getRowNumber()>=l.getRowCount()?T[U]=null:k=Z.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),f=new Ra,p=new Ra,y=new Ra,w=new Ra;for(let T of l){if(T==null)continue;T.setRowNumberAsRowIndicatorColumn();let k=T.getValue()%30,U=T.getRowNumber();switch(this._isLeft||(U+=2),U%3){case 0:p.setValue(k*3+1);break;case 1:w.setValue(k/3),y.setValue(k%3);break;case 2:f.setValue(k+1);break}}if(f.getValue().length===0||p.getValue().length===0||y.getValue().length===0||w.getValue().length===0||f.getValue()[0]<1||p.getValue()[0]+y.getValue()[0]<fr.MIN_ROWS_IN_BARCODE||p.getValue()[0]+y.getValue()[0]>fr.MAX_ROWS_IN_BARCODE)return null;let N=new ko(f.getValue()[0],p.getValue()[0],y.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(l,N),N}removeIncorrectCodewords(l,f){for(let p=0;p<l.length;p++){let y=l[p];if(l[p]==null)continue;let w=y.getValue()%30,N=y.getRowNumber();if(N>f.getRowCount()){l[p]=null;continue}switch(this._isLeft||(N+=2),N%3){case 0:w*3+1!==f.getRowCountUpperPart()&&(l[p]=null);break;case 1:(Math.trunc(w/3)!==f.getErrorCorrectionLevel()||w%3!==f.getRowCountLowerPart())&&(l[p]=null);break;case 2:w+1!==f.getColumnCount()&&(l[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ii{constructor(l,f){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=f,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=fr.MAX_CODEWORDS_IN_BARCODE,f;do f=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<f);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let f=1;f<this.barcodeColumnCount+1;f++){let p=this.detectionResultColumns[f].getCodewords();for(let y=0;y<p.length;y++)p[y]!=null&&(p[y].hasValidRowNumber()||this.adjustRowNumbers(f,y,p))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<l.length;p++)if(l[p]!=null&&f[p]!=null&&l[p].getRowNumber()===f[p].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let w=this.detectionResultColumns[y].getCodewords()[p];w!=null&&(w.setRowNumber(l[p].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let y=f[p].getRowNumber(),w=0;for(let N=this.barcodeColumnCount+1;N>0&&w<this.ADJUST_ROW_NUMBER_SKIP;N--){let T=this.detectionResultColumns[N].getCodewords()[p];T!=null&&(w=ii.adjustRowNumberIfValid(y,w,T),T.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,f=this.detectionResultColumns[0].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let y=f[p].getRowNumber(),w=0;for(let N=1;N<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;N++){let T=this.detectionResultColumns[N].getCodewords()[p];T!=null&&(w=ii.adjustRowNumberIfValid(y,w,T),T.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,f,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(l)?(p.setRowNumber(l),f=0):++f),f}adjustRowNumbers(l,f,p){if(!this.detectionResultColumns[l-1])return;let y=p[f],w=this.detectionResultColumns[l-1].getCodewords(),N=w;this.detectionResultColumns[l+1]!=null&&(N=this.detectionResultColumns[l+1].getCodewords());let T=new Array(14);T[2]=w[f],T[3]=N[f],f>0&&(T[0]=p[f-1],T[4]=w[f-1],T[5]=N[f-1]),f>1&&(T[8]=p[f-2],T[10]=w[f-2],T[11]=N[f-2]),f<p.length-1&&(T[1]=p[f+1],T[6]=w[f+1],T[7]=N[f+1]),f<p.length-2&&(T[9]=p[f+2],T[12]=w[f+2],T[13]=N[f+2]);for(let k of T)if(ii.adjustRowNumber(y,k))return}static adjustRowNumber(l,f){return f==null?!1:f.hasValidRowNumber()&&f.getBucket()===l.getBucket()?(l.setRowNumber(f.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,f){this.detectionResultColumns[l]=f}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let f=new Ss;for(let p=0;p<l.getCodewords().length;p++){f.format("CW %3d:",p);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){f.format("    |   ");continue}let w=this.detectionResultColumns[y].getCodewords()[p];if(w==null){f.format("    |   ");continue}f.format(" %3d|%3d",w.getRowNumber(),w.getValue())}f.format("%n")}return f.toString()}}class Cs{constructor(l,f,p,y){this.rowNumber=Cs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(p),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Cs.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Cs.BARCODE_ROW_UNKNOWN=-1;class ts{static initialize(){for(let l=0;l<fr.SYMBOL_TABLE.length;l++){let f=fr.SYMBOL_TABLE[l],p=f&1;for(let y=0;y<fr.BARS_IN_MODULE;y++){let w=0;for(;(f&1)===p;)w+=1,f>>=1;p=f&1,ts.RATIOS_TABLE[l]||(ts.RATIOS_TABLE[l]=new Array(fr.BARS_IN_MODULE)),ts.RATIOS_TABLE[l][fr.BARS_IN_MODULE-y-1]=Math.fround(w/fr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let f=ts.getDecodedCodewordValue(ts.sampleBitCounts(l));return f!==-1?f:ts.getClosestDecodedValue(l)}static sampleBitCounts(l){let f=Ue.sum(l),p=new Int32Array(fr.BARS_IN_MODULE),y=0,w=0;for(let N=0;N<fr.MODULES_IN_CODEWORD;N++){let T=f/(2*fr.MODULES_IN_CODEWORD)+N*f/fr.MODULES_IN_CODEWORD;w+l[y]<=T&&(w+=l[y],y++),p[y]++}return p}static getDecodedCodewordValue(l){let f=ts.getBitValue(l);return fr.getCodeword(f)===-1?-1:f}static getBitValue(l){let f=0;for(let p=0;p<l.length;p++)for(let y=0;y<l[p];y++)f=f<<1|(p%2===0?1:0);return Math.trunc(f)}static getClosestDecodedValue(l){let f=Ue.sum(l),p=new Array(fr.BARS_IN_MODULE);if(f>1)for(let N=0;N<p.length;N++)p[N]=Math.fround(l[N]/f);let y=Je.MAX_VALUE,w=-1;this.bSymbolTableReady||ts.initialize();for(let N=0;N<ts.RATIOS_TABLE.length;N++){let T=0,k=ts.RATIOS_TABLE[N];for(let U=0;U<fr.BARS_IN_MODULE;U++){let Z=Math.fround(k[U]-p[U]);if(T+=Math.fround(Z*Z),T>=y)break}T<y&&(y=T,w=fr.SYMBOL_TABLE[N])}return w}}ts.bSymbolTableReady=!1,ts.RATIOS_TABLE=new Array(fr.SYMBOL_TABLE.length).map(oe=>new Array(fr.BARS_IN_MODULE));class tl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class rl{static parseLong(l,f=void 0){return parseInt(l,f)}}class io extends u{}io.kind="NullPointerException";class Ws{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,f,p){if(l==null)throw new io;if(f<0||f>l.length||p<0||f+p>l.length||f+p<0)throw new j;if(p===0)return;for(let y=0;y<p;y++)this.write(l[f+y])}flush(){}close(){}}class Mi extends u{}class Iu extends Ws{constructor(l=32){if(super(),this.count=0,l<0)throw new v("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let p=this.buf.length<<1;if(p-l<0&&(p=l),p<0){if(l<0)throw new Mi;p=M.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,p)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,f,p){if(f<0||f>l.length||p<0||f+p-l.length>0)throw new j;this.ensureCapacity(this.count+p),A.arraycopy(l,f,this.buf,this.count,p),this.count+=p}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var ln;(function(oe){oe[oe.ALPHA=0]="ALPHA",oe[oe.LOWER=1]="LOWER",oe[oe.MIXED=2]="MIXED",oe[oe.PUNCT=3]="PUNCT",oe[oe.ALPHA_SHIFT=4]="ALPHA_SHIFT",oe[oe.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ln||(ln={}));function oi(){if(typeof window!="undefined")return window.BigInt||null;if(typeof q1!="undefined")return q1.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Bi;function Ts(oe){if(typeof Bi=="undefined"&&(Bi=oi()),Bi===null)throw new Error("BigInt is not supported!");return Bi(oe)}function Du(){let oe=[];oe[0]=Ts(1);let l=Ts(900);oe[1]=l;for(let f=2;f<16;f++)oe[f]=oe[f-1]*l;return oe}class xt{static decode(l,f){let p=new se(""),y=B.ISO8859_1;p.enableDecoding(y);let w=1,N=l[w++],T=new tl;for(;w<l[0];){switch(N){case xt.TEXT_COMPACTION_MODE_LATCH:w=xt.textCompaction(l,w,p);break;case xt.BYTE_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH_6:w=xt.byteCompaction(N,l,y,w,p);break;case xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[w++]);break;case xt.NUMERIC_COMPACTION_MODE_LATCH:w=xt.numericCompaction(l,w,p);break;case xt.ECI_CHARSET:B.getCharacterSetECIByValue(l[w++]);break;case xt.ECI_GENERAL_PURPOSE:w+=2;break;case xt.ECI_USER_DEFINED:w++;break;case xt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=xt.decodeMacroBlock(l,w,T);break;case xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xt.MACRO_PDF417_TERMINATOR:throw new V;default:w--,w=xt.textCompaction(l,w,p);break}if(w<l.length)N=l[w++];else throw V.getFormatInstance()}if(p.length()===0)throw V.getFormatInstance();let k=new Me(null,p.toString(),null,f);return k.setOther(T),k}static decodeMacroBlock(l,f,p){if(f+xt.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw V.getFormatInstance();let y=new Int32Array(xt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let T=0;T<xt.NUMBER_OF_SEQUENCE_CODEWORDS;T++,f++)y[T]=l[f];p.setSegmentIndex(M.parseInt(xt.decodeBase900toBase10(y,xt.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new se;f=xt.textCompaction(l,f,w),p.setFileId(w.toString());let N=-1;for(l[f]===xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(N=f+1);f<l[0];)switch(l[f]){case xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(f++,l[f]){case xt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let T=new se;f=xt.textCompaction(l,f+1,T),p.setFileName(T.toString());break;case xt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new se;f=xt.textCompaction(l,f+1,k),p.setSender(k.toString());break;case xt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let U=new se;f=xt.textCompaction(l,f+1,U),p.setAddressee(U.toString());break;case xt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let Z=new se;f=xt.numericCompaction(l,f+1,Z),p.setSegmentCount(M.parseInt(Z.toString()));break;case xt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ie=new se;f=xt.numericCompaction(l,f+1,ie),p.setTimestamp(rl.parseLong(ie.toString()));break;case xt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let xe=new se;f=xt.numericCompaction(l,f+1,xe),p.setChecksum(M.parseInt(xe.toString()));break;case xt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ie=new se;f=xt.numericCompaction(l,f+1,Ie),p.setFileSize(rl.parseLong(Ie.toString()));break;default:throw V.getFormatInstance()}break;case xt.MACRO_PDF417_TERMINATOR:f++,p.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(N!==-1){let T=f-N;p.isLastSegment()&&T--,p.setOptionalData(D.copyOfRange(l,N,N+T))}return f}static textCompaction(l,f,p){let y=new Int32Array((l[0]-f)*2),w=new Int32Array((l[0]-f)*2),N=0,T=!1;for(;f<l[0]&&!T;){let k=l[f++];if(k<xt.TEXT_COMPACTION_MODE_LATCH)y[N]=k/30,y[N+1]=k%30,N+=2;else switch(k){case xt.TEXT_COMPACTION_MODE_LATCH:y[N++]=xt.TEXT_COMPACTION_MODE_LATCH;break;case xt.BYTE_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH_6:case xt.NUMERIC_COMPACTION_MODE_LATCH:case xt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xt.MACRO_PDF417_TERMINATOR:f--,T=!0;break;case xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[N]=xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=l[f++],w[N]=k,N++;break}}return xt.decodeTextCompaction(y,w,N,p),f}static decodeTextCompaction(l,f,p,y){let w=ln.ALPHA,N=ln.ALPHA,T=0;for(;T<p;){let k=l[T],U="";switch(w){case ln.ALPHA:if(k<26)U=String.fromCharCode(65+k);else switch(k){case 26:U=" ";break;case xt.LL:w=ln.LOWER;break;case xt.ML:w=ln.MIXED;break;case xt.PS:N=w,w=ln.PUNCT_SHIFT;break;case xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[T]);break;case xt.TEXT_COMPACTION_MODE_LATCH:w=ln.ALPHA;break}break;case ln.LOWER:if(k<26)U=String.fromCharCode(97+k);else switch(k){case 26:U=" ";break;case xt.AS:N=w,w=ln.ALPHA_SHIFT;break;case xt.ML:w=ln.MIXED;break;case xt.PS:N=w,w=ln.PUNCT_SHIFT;break;case xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[T]);break;case xt.TEXT_COMPACTION_MODE_LATCH:w=ln.ALPHA;break}break;case ln.MIXED:if(k<xt.PL)U=xt.MIXED_CHARS[k];else switch(k){case xt.PL:w=ln.PUNCT;break;case 26:U=" ";break;case xt.LL:w=ln.LOWER;break;case xt.AL:w=ln.ALPHA;break;case xt.PS:N=w,w=ln.PUNCT_SHIFT;break;case xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[T]);break;case xt.TEXT_COMPACTION_MODE_LATCH:w=ln.ALPHA;break}break;case ln.PUNCT:if(k<xt.PAL)U=xt.PUNCT_CHARS[k];else switch(k){case xt.PAL:w=ln.ALPHA;break;case xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[T]);break;case xt.TEXT_COMPACTION_MODE_LATCH:w=ln.ALPHA;break}break;case ln.ALPHA_SHIFT:if(w=N,k<26)U=String.fromCharCode(65+k);else switch(k){case 26:U=" ";break;case xt.TEXT_COMPACTION_MODE_LATCH:w=ln.ALPHA;break}break;case ln.PUNCT_SHIFT:if(w=N,k<xt.PAL)U=xt.PUNCT_CHARS[k];else switch(k){case xt.PAL:w=ln.ALPHA;break;case xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[T]);break;case xt.TEXT_COMPACTION_MODE_LATCH:w=ln.ALPHA;break}break}U!==""&&y.append(U),T++}}static byteCompaction(l,f,p,y,w){let N=new Iu,T=0,k=0,U=!1;switch(l){case xt.BYTE_COMPACTION_MODE_LATCH:let Z=new Int32Array(6),ie=f[y++];for(;y<f[0]&&!U;)switch(Z[T++]=ie,k=900*k+ie,ie=f[y++],ie){case xt.TEXT_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH:case xt.NUMERIC_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH_6:case xt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xt.MACRO_PDF417_TERMINATOR:y--,U=!0;break;default:if(T%5===0&&T>0){for(let xe=0;xe<6;++xe)N.write(Number(Ts(k)>>Ts(8*(5-xe))));k=0,T=0}break}y===f[0]&&ie<xt.TEXT_COMPACTION_MODE_LATCH&&(Z[T++]=ie);for(let xe=0;xe<T;xe++)N.write(Z[xe]);break;case xt.BYTE_COMPACTION_MODE_LATCH_6:for(;y<f[0]&&!U;){let xe=f[y++];if(xe<xt.TEXT_COMPACTION_MODE_LATCH)T++,k=900*k+xe;else switch(xe){case xt.TEXT_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH:case xt.NUMERIC_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH_6:case xt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xt.MACRO_PDF417_TERMINATOR:y--,U=!0;break}if(T%5===0&&T>0){for(let Ie=0;Ie<6;++Ie)N.write(Number(Ts(k)>>Ts(8*(5-Ie))));k=0,T=0}}break}return w.append(q.decode(N.toByteArray(),p)),y}static numericCompaction(l,f,p){let y=0,w=!1,N=new Int32Array(xt.MAX_NUMERIC_CODEWORDS);for(;f<l[0]&&!w;){let T=l[f++];if(f===l[0]&&(w=!0),T<xt.TEXT_COMPACTION_MODE_LATCH)N[y]=T,y++;else switch(T){case xt.TEXT_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH:case xt.BYTE_COMPACTION_MODE_LATCH_6:case xt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xt.MACRO_PDF417_TERMINATOR:f--,w=!0;break}(y%xt.MAX_NUMERIC_CODEWORDS===0||T===xt.NUMERIC_COMPACTION_MODE_LATCH||w)&&y>0&&(p.append(xt.decodeBase900toBase10(N,y)),y=0)}return f}static decodeBase900toBase10(l,f){let p=Ts(0);for(let w=0;w<f;w++)p+=xt.EXP900[f-w-1]*Ts(l[w]);let y=p.toString();if(y.charAt(0)!=="1")throw new V;return y.substring(1)}}xt.TEXT_COMPACTION_MODE_LATCH=900,xt.BYTE_COMPACTION_MODE_LATCH=901,xt.NUMERIC_COMPACTION_MODE_LATCH=902,xt.BYTE_COMPACTION_MODE_LATCH_6=924,xt.ECI_USER_DEFINED=925,xt.ECI_GENERAL_PURPOSE=926,xt.ECI_CHARSET=927,xt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,xt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,xt.MACRO_PDF417_TERMINATOR=922,xt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,xt.MAX_NUMERIC_CODEWORDS=15,xt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,xt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,xt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,xt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,xt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,xt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,xt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,xt.PL=25,xt.LL=27,xt.AS=27,xt.ML=28,xt.AL=28,xt.PS=29,xt.PAL=29,xt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,xt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",xt.EXP900=oi()?Du():[],xt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Wr{constructor(){}static decode(l,f,p,y,w,N,T){let k=new Fi(l,f,p,y,w),U=null,Z=null,ie;for(let qe=!0;;qe=!1){if(f!=null&&(U=Wr.getRowIndicatorColumn(l,k,f,!0,N,T)),y!=null&&(Z=Wr.getRowIndicatorColumn(l,k,y,!1,N,T)),ie=Wr.merge(U,Z),ie==null)throw me.getNotFoundInstance();let Ge=ie.getBoundingBox();if(qe&&Ge!=null&&(Ge.getMinY()<k.getMinY()||Ge.getMaxY()>k.getMaxY()))k=Ge;else break}ie.setBoundingBox(k);let xe=ie.getBarcodeColumnCount()+1;ie.setDetectionResultColumn(0,U),ie.setDetectionResultColumn(xe,Z);let Ie=U!=null;for(let qe=1;qe<=xe;qe++){let Ge=Ie?qe:xe-qe;if(ie.getDetectionResultColumn(Ge)!==void 0)continue;let Qe;Ge===0||Ge===xe?Qe=new As(k,Ge===0):Qe=new Vs(k),ie.setDetectionResultColumn(Ge,Qe);let pt=-1,Lt=pt;for(let Ht=k.getMinY();Ht<=k.getMaxY();Ht++){if(pt=Wr.getStartColumn(ie,Ge,Ht,Ie),pt<0||pt>k.getMaxX()){if(Lt===-1)continue;pt=Lt}let Bt=Wr.detectCodeword(l,k.getMinX(),k.getMaxX(),Ie,pt,Ht,N,T);Bt!=null&&(Qe.setCodeword(Ht,Bt),Lt=pt,N=Math.min(N,Bt.getWidth()),T=Math.max(T,Bt.getWidth()))}}return Wr.createDecoderResult(ie)}static merge(l,f){if(l==null&&f==null)return null;let p=Wr.getBarcodeMetadata(l,f);if(p==null)return null;let y=Fi.merge(Wr.adjustBoundingBox(l),Wr.adjustBoundingBox(f));return new ii(p,y)}static adjustBoundingBox(l){if(l==null)return null;let f=l.getRowHeights();if(f==null)return null;let p=Wr.getMax(f),y=0;for(let T of f)if(y+=p-T,T>0)break;let w=l.getCodewords();for(let T=0;y>0&&w[T]==null;T++)y--;let N=0;for(let T=f.length-1;T>=0&&(N+=p-f[T],!(f[T]>0));T--);for(let T=w.length-1;N>0&&w[T]==null;T--)N--;return l.getBoundingBox().addMissingRows(y,N,l.isLeft())}static getMax(l){let f=-1;for(let p of l)f=Math.max(f,p);return f}static getBarcodeMetadata(l,f){let p;if(l==null||(p=l.getBarcodeMetadata())==null)return f==null?null:f.getBarcodeMetadata();let y;return f==null||(y=f.getBarcodeMetadata())==null?p:p.getColumnCount()!==y.getColumnCount()&&p.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&p.getRowCount()!==y.getRowCount()?null:p}static getRowIndicatorColumn(l,f,p,y,w,N){let T=new As(f,y);for(let k=0;k<2;k++){let U=k===0?1:-1,Z=Math.trunc(Math.trunc(p.getX()));for(let ie=Math.trunc(Math.trunc(p.getY()));ie<=f.getMaxY()&&ie>=f.getMinY();ie+=U){let xe=Wr.detectCodeword(l,0,l.getWidth(),y,Z,ie,w,N);xe!=null&&(T.setCodeword(ie,xe),y?Z=xe.getStartX():Z=xe.getEndX())}}return T}static adjustCodewordCount(l,f){let p=f[0][1],y=p.getValue(),w=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Wr.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(w<1||w>fr.MAX_CODEWORDS_IN_BARCODE)throw me.getNotFoundInstance();p.setValue(w)}else y[0]!==w&&p.setValue(w)}static createDecoderResult(l){let f=Wr.createBarcodeMatrix(l);Wr.adjustCodewordCount(l,f);let p=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),w=[],N=new Array;for(let k=0;k<l.getBarcodeRowCount();k++)for(let U=0;U<l.getBarcodeColumnCount();U++){let Z=f[k][U+1].getValue(),ie=k*l.getBarcodeColumnCount()+U;Z.length===0?p.push(ie):Z.length===1?y[ie]=Z[0]:(N.push(ie),w.push(Z))}let T=new Array(w.length);for(let k=0;k<T.length;k++)T[k]=w[k];return Wr.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,fr.toIntArray(p),fr.toIntArray(N),T)}static createDecoderResultFromAmbiguousValues(l,f,p,y,w){let N=new Int32Array(y.length),T=100;for(;T-- >0;){for(let k=0;k<N.length;k++)f[y[k]]=w[k][N[k]];try{return Wr.decodeCodewords(f,l,p)}catch(k){if(!(k instanceof _))throw k}if(N.length===0)throw _.getChecksumInstance();for(let k=0;k<N.length;k++)if(N[k]<w[k].length-1){N[k]++;break}else if(N[k]=0,k===N.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(l){let f=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<f.length;y++)for(let w=0;w<f[y].length;w++)f[y][w]=new Ra;let p=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let w of y.getCodewords())if(w!=null){let N=w.getRowNumber();if(N>=0){if(N>=f.length)continue;f[N][p].setValue(w.getValue())}}}p++}return f}static isValidBarcodeColumn(l,f){return f>=0&&f<=l.getBarcodeColumnCount()+1}static getStartColumn(l,f,p,y){let w=y?1:-1,N=null;if(Wr.isValidBarcodeColumn(l,f-w)&&(N=l.getDetectionResultColumn(f-w).getCodeword(p)),N!=null)return y?N.getEndX():N.getStartX();if(N=l.getDetectionResultColumn(f).getCodewordNearby(p),N!=null)return y?N.getStartX():N.getEndX();if(Wr.isValidBarcodeColumn(l,f-w)&&(N=l.getDetectionResultColumn(f-w).getCodewordNearby(p)),N!=null)return y?N.getEndX():N.getStartX();let T=0;for(;Wr.isValidBarcodeColumn(l,f-w);){f-=w;for(let k of l.getDetectionResultColumn(f).getCodewords())if(k!=null)return(y?k.getEndX():k.getStartX())+w*T*(k.getEndX()-k.getStartX());T++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,f,p,y,w,N,T,k){w=Wr.adjustCodewordStartColumn(l,f,p,y,w,N);let U=Wr.getModuleBitCount(l,f,p,y,w,N);if(U==null)return null;let Z,ie=Ue.sum(U);if(y)Z=w+ie;else{for(let qe=0;qe<U.length/2;qe++){let Ge=U[qe];U[qe]=U[U.length-1-qe],U[U.length-1-qe]=Ge}Z=w,w=Z-ie}if(!Wr.checkCodewordSkew(ie,T,k))return null;let xe=ts.getDecodedValue(U),Ie=fr.getCodeword(xe);return Ie===-1?null:new Cs(w,Z,Wr.getCodewordBucketNumber(xe),Ie)}static getModuleBitCount(l,f,p,y,w,N){let T=w,k=new Int32Array(8),U=0,Z=y?1:-1,ie=y;for(;(y?T<p:T>=f)&&U<k.length;)l.get(T,N)===ie?(k[U]++,T+=Z):(U++,ie=!ie);return U===k.length||T===(y?p:f)&&U===k.length-1?k:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,f,p,y,w,N){let T=w,k=y?-1:1;for(let U=0;U<2;U++){for(;(y?T>=f:T<p)&&y===l.get(T,N);){if(Math.abs(w-T)>Wr.CODEWORD_SKEW_SIZE)return w;T+=k}k=-k,y=!y}return T}static checkCodewordSkew(l,f,p){return f-Wr.CODEWORD_SKEW_SIZE<=l&&l<=p+Wr.CODEWORD_SKEW_SIZE}static decodeCodewords(l,f,p){if(l.length===0)throw V.getFormatInstance();let y=1<<f+1,w=Wr.correctErrors(l,p,y);Wr.verifyCodewordCount(l,y);let N=xt.decode(l,""+f);return N.setErrorsCorrected(w),N.setErasures(p.length),N}static correctErrors(l,f,p){if(f!=null&&f.length>p/2+Wr.MAX_ERRORS||p<0||p>Wr.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Wr.errorCorrection.decode(l,p,f)}static verifyCodewordCount(l,f){if(l.length<4)throw V.getFormatInstance();let p=l[0];if(p>l.length)throw V.getFormatInstance();if(p===0)if(f<l.length)l[0]=l.length-f;else throw V.getFormatInstance()}static getBitCountForCodeword(l){let f=new Int32Array(8),p=0,y=f.length-1;for(;!((l&1)!==p&&(p=l&1,y--,y<0));)f[y]++,l>>=1;return f}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Wr.getCodewordBucketNumber(Wr.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let f=new Ss;for(let p=0;p<l.length;p++){f.format("Row %2d: ",p);for(let y=0;y<l[p].length;y++){let w=l[p][y];w.getValue().length===0?f.format("        ",null):f.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}f.format("%n")}return f.toString()}}Wr.CODEWORD_SKEW_SIZE=2,Wr.MAX_ERRORS=3,Wr.MAX_EC_CODEWORDS=512,Wr.errorCorrection=new el;class wa{decode(l,f=null){let p=wa.decode(l,f,!1);if(p==null||p.length===0||p[0]==null)throw me.getNotFoundInstance();return p[0]}decodeMultiple(l,f=null){try{return wa.decode(l,f,!0)}catch(p){throw p instanceof V||p instanceof _?me.getNotFoundInstance():p}}static decode(l,f,p){const y=new Array,w=Ir.detectMultiple(l,f,p);for(const N of w.getPoints()){const T=Wr.decode(w.getBits(),N[4],N[5],N[6],N[7],wa.getMinCodewordWidth(N),wa.getMaxCodewordWidth(N)),k=new J(T.getText(),T.getRawBytes(),void 0,N,le.PDF_417);k.putMetadata(Re.ERROR_CORRECTION_LEVEL,T.getECLevel());const U=T.getOther();U!=null&&k.putMetadata(Re.PDF417_EXTRA_METADATA,U),y.push(k)}return y.map(N=>N)}static getMaxWidth(l,f){return l==null||f==null?0:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMinWidth(l,f){return l==null||f==null?M.MAX_VALUE:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(wa.getMaxWidth(l[0],l[4]),wa.getMaxWidth(l[6],l[2])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN),Math.max(wa.getMaxWidth(l[1],l[5]),wa.getMaxWidth(l[7],l[3])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(wa.getMinWidth(l[0],l[4]),wa.getMinWidth(l[6],l[2])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN),Math.min(wa.getMinWidth(l[1],l[5]),wa.getMinWidth(l[7],l[3])*fr.MODULES_IN_CODEWORD/fr.MODULES_IN_STOP_PATTERN)))}reset(){}}class oo extends u{}oo.kind="ReaderException";class oc{constructor(l,f){this.verbose=l===!0,f&&this.setHints(f)}decode(l,f){return f&&this.setHints(f),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const f=!n(l)&&l.get(Y.TRY_HARDER)===!0,p=n(l)?null:l.get(Y.POSSIBLE_FORMATS),y=new Array;if(!n(p)){const w=p.some(N=>N===le.UPC_A||N===le.UPC_E||N===le.EAN_13||N===le.EAN_8||N===le.CODABAR||N===le.CODE_39||N===le.CODE_93||N===le.CODE_128||N===le.ITF||N===le.RSS_14||N===le.RSS_EXPANDED);w&&!f&&y.push(new qa(l,this.verbose)),p.includes(le.QR_CODE)&&y.push(new Ei),p.includes(le.DATA_MATRIX)&&y.push(new va),p.includes(le.AZTEC)&&y.push(new Yt),p.includes(le.PDF_417)&&y.push(new wa),w&&f&&y.push(new qa(l,this.verbose))}y.length===0&&(f||y.push(new qa(l,this.verbose)),y.push(new Ei),y.push(new va),y.push(new Yt),y.push(new wa),f&&y.push(new qa(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new oo("No readers where selected, nothing can be read.");for(const f of this.readers)try{return f.decode(l,this.hints)}catch(p){if(p instanceof oo)continue}throw new me("No MultiFormat Readers were able to detect the code.")}}class Il extends W{constructor(l=null,f=500){const p=new oc;p.setHints(l),super(p,f)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class lc extends W{constructor(l=500){super(new wa,l)}}class cc extends W{constructor(l=500){super(new Ei,l)}}var Lo;(function(oe){oe[oe.ERROR_CORRECTION=0]="ERROR_CORRECTION",oe[oe.CHARACTER_SET=1]="CHARACTER_SET",oe[oe.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",oe[oe.MIN_SIZE=3]="MIN_SIZE",oe[oe.MAX_SIZE=4]="MAX_SIZE",oe[oe.MARGIN=5]="MARGIN",oe[oe.PDF417_COMPACT=6]="PDF417_COMPACT",oe[oe.PDF417_COMPACTION=7]="PDF417_COMPACTION",oe[oe.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",oe[oe.AZTEC_LAYERS=9]="AZTEC_LAYERS",oe[oe.QR_VERSION=10]="QR_VERSION"})(Lo||(Lo={}));var ba=Lo;class Io{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new ze(l,Int32Array.from([1])))}buildGenerator(l){const f=this.cachedGenerators;if(l>=f.length){let p=f[f.length-1];const y=this.field;for(let w=f.length;w<=l;w++){const N=p.multiply(new ze(y,Int32Array.from([1,y.exp(w-1+y.getGeneratorBase())])));f.push(N),p=N}}return f[l]}encode(l,f){if(f===0)throw new v("No error correction bytes");const p=l.length-f;if(p<=0)throw new v("No data bytes provided");const y=this.buildGenerator(f),w=new Int32Array(p);A.arraycopy(l,0,w,0,p);let N=new ze(this.field,w);N=N.multiplyByMonomial(f,1);const k=N.divide(y)[1].getCoefficients(),U=f-k.length;for(let Z=0;Z<U;Z++)l[p+Z]=0;A.arraycopy(k,0,l,p+U,k.length)}}class kn{constructor(){}static applyMaskPenaltyRule1(l){return kn.applyMaskPenaltyRule1Internal(l,!0)+kn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const p=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let N=0;N<w-1;N++){const T=p[N];for(let k=0;k<y-1;k++){const U=T[k];U===T[k+1]&&U===p[N+1][k]&&U===p[N+1][k+1]&&f++}}return kn.N2*f}static applyMaskPenaltyRule3(l){let f=0;const p=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let N=0;N<w;N++)for(let T=0;T<y;T++){const k=p[N];T+6<y&&k[T]===1&&k[T+1]===0&&k[T+2]===1&&k[T+3]===1&&k[T+4]===1&&k[T+5]===0&&k[T+6]===1&&(kn.isWhiteHorizontal(k,T-4,T)||kn.isWhiteHorizontal(k,T+7,T+11))&&f++,N+6<w&&p[N][T]===1&&p[N+1][T]===0&&p[N+2][T]===1&&p[N+3][T]===1&&p[N+4][T]===1&&p[N+5][T]===0&&p[N+6][T]===1&&(kn.isWhiteVertical(p,T,N-4,N)||kn.isWhiteVertical(p,T,N+7,N+11))&&f++}return f*kn.N3}static isWhiteHorizontal(l,f,p){f=Math.max(f,0),p=Math.min(p,l.length);for(let y=f;y<p;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,f,p,y){p=Math.max(p,0),y=Math.min(y,l.length);for(let w=p;w<y;w++)if(l[w][f]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const p=l.getArray(),y=l.getWidth(),w=l.getHeight();for(let k=0;k<w;k++){const U=p[k];for(let Z=0;Z<y;Z++)U[Z]===1&&f++}const N=l.getHeight()*l.getWidth();return Math.floor(Math.abs(f*2-N)*10/N)*kn.N4}static getDataMaskBit(l,f,p){let y,w;switch(l){case 0:y=p+f&1;break;case 1:y=p&1;break;case 2:y=f%3;break;case 3:y=(p+f)%3;break;case 4:y=Math.floor(p/2)+Math.floor(f/3)&1;break;case 5:w=p*f,y=(w&1)+w%3;break;case 6:w=p*f,y=(w&1)+w%3&1;break;case 7:w=p*f,y=w%3+(p+f&1)&1;break;default:throw new v("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,f){let p=0;const y=f?l.getHeight():l.getWidth(),w=f?l.getWidth():l.getHeight(),N=l.getArray();for(let T=0;T<y;T++){let k=0,U=-1;for(let Z=0;Z<w;Z++){const ie=f?N[T][Z]:N[Z][T];ie===U?k++:(k>=5&&(p+=kn.N1+(k-5)),k=1,U=ie)}k>=5&&(p+=kn.N1+(k-5))}return p}}kn.N1=3,kn.N2=3,kn.N3=40,kn.N4=10;class lo{constructor(l,f){this.width=l,this.height=f;const p=new Array(f);for(let y=0;y!==f;y++)p[y]=new Uint8Array(l);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(l,f){return this.bytes[f][l]}getArray(){return this.bytes}setNumber(l,f,p){this.bytes[f][l]=p}setBoolean(l,f,p){this.bytes[f][l]=p?1:0}clear(l){for(const f of this.bytes)D.fill(f,l)}equals(l){if(!(l instanceof lo))return!1;const f=l;if(this.width!==f.width||this.height!==f.height)return!1;for(let p=0,y=this.height;p<y;++p){const w=this.bytes[p],N=f.bytes[p];for(let T=0,k=this.width;T<k;++T)if(w[T]!==N[T])return!1}return!0}toString(){const l=new se;for(let f=0,p=this.height;f<p;++f){const y=this.bytes[f];for(let w=0,N=this.width;w<N;++w)switch(y[w]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class js{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new se;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<js.NUM_MASK_PATTERNS}}js.NUM_MASK_PATTERNS=8;class bn extends u{}bn.kind="WriterException";class I{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,f,p,y,w){I.clearMatrix(w),I.embedBasicPatterns(p,w),I.embedTypeInfo(f,y,w),I.maybeEmbedVersionInfo(p,w),I.embedDataBits(l,y,w)}static embedBasicPatterns(l,f){I.embedPositionDetectionPatternsAndSeparators(f),I.embedDarkDotAtLeftBottomCorner(f),I.maybeEmbedPositionAdjustmentPatterns(l,f),I.embedTimingPatterns(f)}static embedTypeInfo(l,f,p){const y=new X;I.makeTypeInfoBits(l,f,y);for(let w=0,N=y.getSize();w<N;++w){const T=y.get(y.getSize()-1-w),k=I.TYPE_INFO_COORDINATES[w],U=k[0],Z=k[1];if(p.setBoolean(U,Z,T),w<8){const ie=p.getWidth()-w-1;p.setBoolean(ie,8,T)}else{const xe=p.getHeight()-7+(w-8);p.setBoolean(8,xe,T)}}}static maybeEmbedVersionInfo(l,f){if(l.getVersionNumber()<7)return;const p=new X;I.makeVersionInfoBits(l,p);let y=6*3-1;for(let w=0;w<6;++w)for(let N=0;N<3;++N){const T=p.get(y);y--,f.setBoolean(w,f.getHeight()-11+N,T),f.setBoolean(f.getHeight()-11+N,w,T)}}static embedDataBits(l,f,p){let y=0,w=-1,N=p.getWidth()-1,T=p.getHeight()-1;for(;N>0;){for(N===6&&(N-=1);T>=0&&T<p.getHeight();){for(let k=0;k<2;++k){const U=N-k;if(!I.isEmpty(p.get(U,T)))continue;let Z;y<l.getSize()?(Z=l.get(y),++y):Z=!1,f!==255&&kn.getDataMaskBit(f,U,T)&&(Z=!Z),p.setBoolean(U,T,Z)}T+=w}w=-w,T+=w,N-=2}if(y!==l.getSize())throw new bn("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-M.numberOfLeadingZeros(l)}static calculateBCHCode(l,f){if(f===0)throw new v("0 polynomial");const p=I.findMSBSet(f);for(l<<=p-1;I.findMSBSet(l)>=p;)l^=f<<I.findMSBSet(l)-p;return l}static makeTypeInfoBits(l,f,p){if(!js.isValidMaskPattern(f))throw new bn("Invalid mask pattern");const y=l.getBits()<<3|f;p.appendBits(y,5);const w=I.calculateBCHCode(y,I.TYPE_INFO_POLY);p.appendBits(w,10);const N=new X;if(N.appendBits(I.TYPE_INFO_MASK_PATTERN,15),p.xor(N),p.getSize()!==15)throw new bn("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(l,f){f.appendBits(l.getVersionNumber(),6);const p=I.calculateBCHCode(l.getVersionNumber(),I.VERSION_INFO_POLY);if(f.appendBits(p,12),f.getSize()!==18)throw new bn("should not happen but we got: "+f.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let f=8;f<l.getWidth()-8;++f){const p=(f+1)%2;I.isEmpty(l.get(f,6))&&l.setNumber(f,6,p),I.isEmpty(l.get(6,f))&&l.setNumber(6,f,p)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new bn;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,f,p){for(let y=0;y<8;++y){if(!I.isEmpty(p.get(l+y,f)))throw new bn;p.setNumber(l+y,f,0)}}static embedVerticalSeparationPattern(l,f,p){for(let y=0;y<7;++y){if(!I.isEmpty(p.get(l,f+y)))throw new bn;p.setNumber(l,f+y,0)}}static embedPositionAdjustmentPattern(l,f,p){for(let y=0;y<5;++y){const w=I.POSITION_ADJUSTMENT_PATTERN[y];for(let N=0;N<5;++N)p.setNumber(l+N,f+y,w[N])}}static embedPositionDetectionPattern(l,f,p){for(let y=0;y<7;++y){const w=I.POSITION_DETECTION_PATTERN[y];for(let N=0;N<7;++N)p.setNumber(l+N,f+y,w[N])}}static embedPositionDetectionPatternsAndSeparators(l){const f=I.POSITION_DETECTION_PATTERN[0].length;I.embedPositionDetectionPattern(0,0,l),I.embedPositionDetectionPattern(l.getWidth()-f,0,l),I.embedPositionDetectionPattern(0,l.getWidth()-f,l);const p=8;I.embedHorizontalSeparationPattern(0,p-1,l),I.embedHorizontalSeparationPattern(l.getWidth()-p,p-1,l),I.embedHorizontalSeparationPattern(0,l.getWidth()-p,l);const y=7;I.embedVerticalSeparationPattern(y,0,l),I.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),I.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,f){if(l.getVersionNumber()<2)return;const p=l.getVersionNumber()-1,y=I.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let w=0,N=y.length;w!==N;w++){const T=y[w];if(T>=0)for(let k=0;k!==N;k++){const U=y[k];U>=0&&I.isEmpty(f.get(U,T))&&I.embedPositionAdjustmentPattern(U-2,T-2,f)}}}}I.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),I.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),I.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),I.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),I.VERSION_INFO_POLY=7973,I.TYPE_INFO_POLY=1335,I.TYPE_INFO_MASK_PATTERN=21522;class ue{constructor(l,f){this.dataBytes=l,this.errorCorrectionBytes=f}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Le{constructor(){}static calculateMaskPenalty(l){return kn.applyMaskPenaltyRule1(l)+kn.applyMaskPenaltyRule2(l)+kn.applyMaskPenaltyRule3(l)+kn.applyMaskPenaltyRule4(l)}static encode(l,f,p=null){let y=Le.DEFAULT_BYTE_MODE_ENCODING;const w=p!==null&&p.get(ba.CHARACTER_SET)!==void 0;w&&(y=p.get(ba.CHARACTER_SET).toString());const N=this.chooseMode(l,y),T=new X;if(N===vr.BYTE&&(w||Le.DEFAULT_BYTE_MODE_ENCODING!==y)){const Ht=B.getCharacterSetECIByName(y);Ht!==void 0&&this.appendECI(Ht,T)}this.appendModeInfo(N,T);const k=new X;this.appendBytes(l,N,k,y);let U;if(p!==null&&p.get(ba.QR_VERSION)!==void 0){const Ht=Number.parseInt(p.get(ba.QR_VERSION).toString(),10);U=xr.getVersionForNumber(Ht);const Bt=this.calculateBitsNeeded(N,T,k,U);if(!this.willFit(Bt,U,f))throw new bn("Data too big for requested version")}else U=this.recommendVersion(f,N,T,k);const Z=new X;Z.appendBitArray(T);const ie=N===vr.BYTE?k.getSizeInBytes():l.length;this.appendLengthInfo(ie,U,N,Z),Z.appendBitArray(k);const xe=U.getECBlocksForLevel(f),Ie=U.getTotalCodewords()-xe.getTotalECCodewords();this.terminateBits(Ie,Z);const qe=this.interleaveWithECBytes(Z,U.getTotalCodewords(),Ie,xe.getNumBlocks()),Ge=new js;Ge.setECLevel(f),Ge.setMode(N),Ge.setVersion(U);const Qe=U.getDimensionForVersion(),pt=new lo(Qe,Qe),Lt=this.chooseMaskPattern(qe,f,U,pt);return Ge.setMaskPattern(Lt),I.buildMatrix(qe,f,U,Lt,pt),Ge.setMatrix(pt),Ge}static recommendVersion(l,f,p,y){const w=this.calculateBitsNeeded(f,p,y,xr.getVersionForNumber(1)),N=this.chooseVersion(w,l),T=this.calculateBitsNeeded(f,p,y,N);return this.chooseVersion(T,l)}static calculateBitsNeeded(l,f,p,y){return f.getSize()+l.getCharacterCountBits(y)+p.getSize()}static getAlphanumericCode(l){return l<Le.ALPHANUMERIC_TABLE.length?Le.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,f=null){if(B.SJIS.getName()===f&&this.isOnlyDoubleByteKanji(l))return vr.KANJI;let p=!1,y=!1;for(let w=0,N=l.length;w<N;++w){const T=l.charAt(w);if(Le.isDigit(T))p=!0;else if(this.getAlphanumericCode(T.charCodeAt(0))!==-1)y=!0;else return vr.BYTE}return y?vr.ALPHANUMERIC:p?vr.NUMERIC:vr.BYTE}static isOnlyDoubleByteKanji(l){let f;try{f=q.encode(l,B.SJIS)}catch(y){return!1}const p=f.length;if(p%2!==0)return!1;for(let y=0;y<p;y+=2){const w=f[y]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(l,f,p,y){let w=Number.MAX_SAFE_INTEGER,N=-1;for(let T=0;T<js.NUM_MASK_PATTERNS;T++){I.buildMatrix(l,f,p,T,y);let k=this.calculateMaskPenalty(y);k<w&&(w=k,N=T)}return N}static chooseVersion(l,f){for(let p=1;p<=40;p++){const y=xr.getVersionForNumber(p);if(Le.willFit(l,y,f))return y}throw new bn("Data too big")}static willFit(l,f,p){const y=f.getTotalCodewords(),N=f.getECBlocksForLevel(p).getTotalECCodewords(),T=y-N,k=(l+7)/8;return T>=k}static terminateBits(l,f){const p=l*8;if(f.getSize()>p)throw new bn("data bits cannot fit in the QR Code"+f.getSize()+" > "+p);for(let N=0;N<4&&f.getSize()<p;++N)f.appendBit(!1);const y=f.getSize()&7;if(y>0)for(let N=y;N<8;N++)f.appendBit(!1);const w=l-f.getSizeInBytes();for(let N=0;N<w;++N)f.appendBits((N&1)===0?236:17,8);if(f.getSize()!==p)throw new bn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,f,p,y,w,N){if(y>=p)throw new bn("Block ID too large");const T=l%p,k=p-T,U=Math.floor(l/p),Z=U+1,ie=Math.floor(f/p),xe=ie+1,Ie=U-ie,qe=Z-xe;if(Ie!==qe)throw new bn("EC bytes mismatch");if(p!==k+T)throw new bn("RS blocks mismatch");if(l!==(ie+Ie)*k+(xe+qe)*T)throw new bn("Total bytes mismatch");y<k?(w[0]=ie,N[0]=Ie):(w[0]=xe,N[0]=qe)}static interleaveWithECBytes(l,f,p,y){if(l.getSizeInBytes()!==p)throw new bn("Number of bits and data bytes does not match");let w=0,N=0,T=0;const k=new Array;for(let Z=0;Z<y;++Z){const ie=new Int32Array(1),xe=new Int32Array(1);Le.getNumDataBytesAndNumECBytesForBlockID(f,p,y,Z,ie,xe);const Ie=ie[0],qe=new Uint8Array(Ie);l.toBytes(8*w,qe,0,Ie);const Ge=Le.generateECBytes(qe,xe[0]);k.push(new ue(qe,Ge)),N=Math.max(N,Ie),T=Math.max(T,Ge.length),w+=ie[0]}if(p!==w)throw new bn("Data bytes does not match offset");const U=new X;for(let Z=0;Z<N;++Z)for(const ie of k){const xe=ie.getDataBytes();Z<xe.length&&U.appendBits(xe[Z],8)}for(let Z=0;Z<T;++Z)for(const ie of k){const xe=ie.getErrorCorrectionBytes();Z<xe.length&&U.appendBits(xe[Z],8)}if(f!==U.getSizeInBytes())throw new bn("Interleaving error: "+f+" and "+U.getSizeInBytes()+" differ.");return U}static generateECBytes(l,f){const p=l.length,y=new Int32Array(p+f);for(let N=0;N<p;N++)y[N]=l[N]&255;new Io(gt.QR_CODE_FIELD_256).encode(y,f);const w=new Uint8Array(f);for(let N=0;N<f;N++)w[N]=y[p+N];return w}static appendModeInfo(l,f){f.appendBits(l.getBits(),4)}static appendLengthInfo(l,f,p,y){const w=p.getCharacterCountBits(f);if(l>=1<<w)throw new bn(l+" is bigger than "+((1<<w)-1));y.appendBits(l,w)}static appendBytes(l,f,p,y){switch(f){case vr.NUMERIC:Le.appendNumericBytes(l,p);break;case vr.ALPHANUMERIC:Le.appendAlphanumericBytes(l,p);break;case vr.BYTE:Le.append8BitBytes(l,p,y);break;case vr.KANJI:Le.appendKanjiBytes(l,p);break;default:throw new bn("Invalid mode: "+f)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const f=Le.getDigit(l);return f>=0&&f<=9}static appendNumericBytes(l,f){const p=l.length;let y=0;for(;y<p;){const w=Le.getDigit(l.charAt(y));if(y+2<p){const N=Le.getDigit(l.charAt(y+1)),T=Le.getDigit(l.charAt(y+2));f.appendBits(w*100+N*10+T,10),y+=3}else if(y+1<p){const N=Le.getDigit(l.charAt(y+1));f.appendBits(w*10+N,7),y+=2}else f.appendBits(w,4),y++}}static appendAlphanumericBytes(l,f){const p=l.length;let y=0;for(;y<p;){const w=Le.getAlphanumericCode(l.charCodeAt(y));if(w===-1)throw new bn;if(y+1<p){const N=Le.getAlphanumericCode(l.charCodeAt(y+1));if(N===-1)throw new bn;f.appendBits(w*45+N,11),y+=2}else f.appendBits(w,6),y++}}static append8BitBytes(l,f,p){let y;try{y=q.encode(l,p)}catch(w){throw new bn(w)}for(let w=0,N=y.length;w!==N;w++){const T=y[w];f.appendBits(T,8)}}static appendKanjiBytes(l,f){let p;try{p=q.encode(l,B.SJIS)}catch(w){throw new bn(w)}const y=p.length;for(let w=0;w<y;w+=2){const N=p[w]&255,T=p[w+1]&255,k=N<<8&4294967295|T;let U=-1;if(k>=33088&&k<=40956?U=k-33088:k>=57408&&k<=60351&&(U=k-49472),U===-1)throw new bn("Invalid byte sequence");const Z=(U>>8)*192+(U&255);f.appendBits(Z,13)}}static appendECI(l,f){f.appendBits(vr.ECI.getBits(),4),f.appendBits(l.getValue(),8)}}Le.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Le.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class We{write(l,f,p,y=null){if(l.length===0)throw new v("Found empty contents");if(f<0||p<0)throw new v("Requested dimensions are too small: "+f+"x"+p);let w=vn.L,N=We.QUIET_ZONE_SIZE;y!==null&&(y.get(ba.ERROR_CORRECTION)!==void 0&&(w=vn.fromString(y.get(ba.ERROR_CORRECTION).toString())),y.get(ba.MARGIN)!==void 0&&(N=Number.parseInt(y.get(ba.MARGIN).toString(),10)));const T=Le.encode(l,w,y);return this.renderResult(T,f,p,N)}writeToDom(l,f,p,y,w=null){typeof l=="string"&&(l=document.querySelector(l));const N=this.write(f,p,y,w);l&&l.appendChild(N)}renderResult(l,f,p,y){const w=l.getMatrix();if(w===null)throw new rt;const N=w.getWidth(),T=w.getHeight(),k=N+y*2,U=T+y*2,Z=Math.max(f,k),ie=Math.max(p,U),xe=Math.min(Math.floor(Z/k),Math.floor(ie/U)),Ie=Math.floor((Z-N*xe)/2),qe=Math.floor((ie-T*xe)/2),Ge=this.createSVGElement(Z,ie);for(let Qe=0,pt=qe;Qe<T;Qe++,pt+=xe)for(let Lt=0,Ht=Ie;Lt<N;Lt++,Ht+=xe)if(w.get(Lt,Qe)===1){const Bt=this.createSvgRectElement(Ht,pt,xe,xe);Ge.appendChild(Bt)}return Ge}createSVGElement(l,f){const p=document.createElementNS(We.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",f.toString()),p}createSvgRectElement(l,f,p,y){const w=document.createElementNS(We.SVG_NS,"rect");return w.setAttributeNS(null,"x",l.toString()),w.setAttributeNS(null,"y",f.toString()),w.setAttributeNS(null,"height",p.toString()),w.setAttributeNS(null,"width",y.toString()),w.setAttributeNS(null,"fill","#000000"),w}}We.QUIET_ZONE_SIZE=4,We.SVG_NS="http://www.w3.org/2000/svg";class nt{encode(l,f,p,y,w){if(l.length===0)throw new v("Found empty contents");if(f!==le.QR_CODE)throw new v("Can only encode QR_CODE, but got "+f);if(p<0||y<0)throw new v(`Requested dimensions are too small: ${p}x${y}`);let N=vn.L,T=nt.QUIET_ZONE_SIZE;w!==null&&(w.get(ba.ERROR_CORRECTION)!==void 0&&(N=vn.fromString(w.get(ba.ERROR_CORRECTION).toString())),w.get(ba.MARGIN)!==void 0&&(T=Number.parseInt(w.get(ba.MARGIN).toString(),10)));const k=Le.encode(l,N,w);return nt.renderResult(k,p,y,T)}static renderResult(l,f,p,y){const w=l.getMatrix();if(w===null)throw new rt;const N=w.getWidth(),T=w.getHeight(),k=N+y*2,U=T+y*2,Z=Math.max(f,k),ie=Math.max(p,U),xe=Math.min(Math.floor(Z/k),Math.floor(ie/U)),Ie=Math.floor((Z-N*xe)/2),qe=Math.floor((ie-T*xe)/2),Ge=new ye(Z,ie);for(let Qe=0,pt=qe;Qe<T;Qe++,pt+=xe)for(let Lt=0,Ht=Ie;Lt<N;Lt++,Ht+=xe)w.get(Lt,Qe)===1&&Ge.setRegion(Ht,pt,xe,xe);return Ge}}nt.QUIET_ZONE_SIZE=4;class Nt{encode(l,f,p,y,w){let N;switch(f){case le.QR_CODE:N=new nt;break;default:throw new v("No encoder available for format "+f)}return N.encode(l,f,p,y,w)}}class Dt extends Pe{constructor(l,f,p,y,w,N,T,k){if(super(N,T),this.yuvData=l,this.dataWidth=f,this.dataHeight=p,this.left=y,this.top=w,y+N>f||w+T>p)throw new v("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(N,T)}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const y=(l+this.top)*this.dataWidth+this.left;return A.arraycopy(this.yuvData,y,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const p=l*f,y=new Uint8ClampedArray(p);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return A.arraycopy(this.yuvData,w,y,0,p),y;for(let N=0;N<f;N++){const T=N*l;A.arraycopy(this.yuvData,w,y,T,l),w+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,f,p,y){return new Dt(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,p,y,!1)}renderThumbnail(){const l=this.getWidth()/Dt.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/Dt.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*f),y=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let N=0;N<f;N++){const T=N*l;for(let k=0;k<l;k++){const U=y[w+k*Dt.THUMBNAIL_SCALE_FACTOR]&255;p[T+k]=4278190080|U*65793}w+=this.dataWidth*Dt.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/Dt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Dt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const p=this.yuvData;for(let y=0,w=this.top*this.dataWidth+this.left;y<f;y++,w+=this.dataWidth){const N=w+l/2;for(let T=w,k=w+l-1;T<N;T++,k--){const U=p[T];p[T]=p[k],p[k]=U}}}invert(){return new Ae(this)}}Dt.THUMBNAIL_SCALE_FACTOR=2;class nr extends Pe{constructor(l,f,p,y,w,N,T){if(super(f,p),this.dataWidth=y,this.dataHeight=w,this.left=N,this.top=T,l.BYTES_PER_ELEMENT===4){const k=f*p,U=new Uint8ClampedArray(k);for(let Z=0;Z<k;Z++){const ie=l[Z],xe=ie>>16&255,Ie=ie>>7&510,qe=ie&255;U[Z]=(xe+Ie+qe)/4&255}this.luminances=U}else this.luminances=l;if(y===void 0&&(this.dataWidth=f),w===void 0&&(this.dataHeight=p),N===void 0&&(this.left=0),T===void 0&&(this.top=0),this.left+f>this.dataWidth||this.top+p>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(l,f){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const y=(l+this.top)*this.dataWidth+this.left;return A.arraycopy(this.luminances,y,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.luminances;const p=l*f,y=new Uint8ClampedArray(p);let w=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return A.arraycopy(this.luminances,w,y,0,p),y;for(let N=0;N<f;N++){const T=N*l;A.arraycopy(this.luminances,w,y,T,l),w+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,f,p,y){return new nr(this.luminances,p,y,this.dataWidth,this.dataHeight,this.left+l,this.top+f)}invert(){return new Ae(this)}}class gr extends B{static forName(l){return this.getCharacterSetECIByName(l)}}class Dr{}Dr.ISO_8859_1=B.ISO8859_1;class Or{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class nn{static singletonList(l){return[l]}static min(l,f){return l.sort(f)[0]}}class ea{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Ln extends ea{constructor(l,f,p){super(l),this.value=f,this.bitCount=p}appendTo(l,f){l.appendBits(this.value,this.bitCount)}add(l,f){return new Ln(this,l,f)}addBinaryShift(l,f){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ln(this,l,f)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+M.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class oa extends Ln{constructor(l,f,p){super(l,0,0),this.binaryShiftStart=f,this.binaryShiftByteCount=p}appendTo(l,f){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):p===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(f[this.binaryShiftStart+p],8)}addBinaryShift(l,f){return new oa(this,l,f)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function _a(oe,l,f){return new oa(oe,l,f)}function da(oe,l,f){return new Ln(oe,l,f)}const Ni=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ka=0,Os=1,fs=2,Ui=3,Va=4,Dl=new Ln(null,0,0),zi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Pl(oe){for(let l of oe)D.fill(l,-1);return oe[ka][Va]=0,oe[Os][Va]=0,oe[Os][ka]=28,oe[Ui][Va]=0,oe[fs][Va]=0,oe[fs][ka]=15,oe}const Do=Pl(D.createInt32Array(6,6));class In{constructor(l,f,p,y){this.token=l,this.mode=f,this.binaryShiftByteCount=p,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,f){let p=this.bitCount,y=this.token;if(l!==this.mode){let N=zi[this.mode][l];y=da(y,N&65535,N>>16),p+=N>>16}let w=l===fs?4:5;return y=da(y,f,w),new In(y,l,0,p+w)}shiftAndAppend(l,f){let p=this.token,y=this.mode===fs?4:5;return p=da(p,Do[this.mode][l],y),p=da(p,f,5),new In(p,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let f=this.token,p=this.mode,y=this.bitCount;if(this.mode===Va||this.mode===fs){let T=zi[p][ka];f=da(f,T&65535,T>>16),y+=T>>16,p=ka}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,N=new In(f,p,this.binaryShiftByteCount+1,y+w);return N.binaryShiftByteCount===2078&&(N=N.endBinaryShift(l+1)),N}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let f=this.token;return f=_a(f,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new In(f,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let f=this.bitCount+(zi[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?f+=In.calculateBinaryShiftCost(l)-In.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(f+=10),f<=l.bitCount}toBitArray(l){let f=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())f.unshift(y);let p=new X;for(const y of f)y.appendTo(p,l);return p}toString(){return G.format("%s bits=%d bytes=%d",Ni[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}In.INITIAL_STATE=new In(Dl,ka,0,0);function Po(oe){const l=G.getCharCode(" "),f=G.getCharCode("."),p=G.getCharCode(",");oe[ka][l]=1;const y=G.getCharCode("Z"),w=G.getCharCode("A");for(let xe=w;xe<=y;xe++)oe[ka][xe]=xe-w+2;oe[Os][l]=1;const N=G.getCharCode("z"),T=G.getCharCode("a");for(let xe=T;xe<=N;xe++)oe[Os][xe]=xe-T+2;oe[fs][l]=1;const k=G.getCharCode("9"),U=G.getCharCode("0");for(let xe=U;xe<=k;xe++)oe[fs][xe]=xe-U+2;oe[fs][p]=12,oe[fs][f]=13;const Z=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let xe=0;xe<Z.length;xe++)oe[Ui][G.getCharCode(Z[xe])]=xe;const ie=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let xe=0;xe<ie.length;xe++)G.getCharCode(ie[xe])>0&&(oe[Va][G.getCharCode(ie[xe])]=xe);return oe}const co=Po(D.createInt32Array(5,256));class Si{constructor(l){this.text=l}encode(){const l=G.getCharCode(" "),f=G.getCharCode(`
`);let p=nn.singletonList(In.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let N,T=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case G.getCharCode("\r"):N=T===f?2:0;break;case G.getCharCode("."):N=T===l?3:0;break;case G.getCharCode(","):N=T===l?4:0;break;case G.getCharCode(":"):N=T===l?5:0;break;default:N=0}N>0?(p=Si.updateStateListForPair(p,w,N),w++):p=this.updateStateListForChar(p,w)}return nn.min(p,(w,N)=>w.getBitCount()-N.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,f){const p=[];for(let y of l)this.updateStateForChar(y,f,p);return Si.simplifyStates(p)}updateStateForChar(l,f,p){let y=this.text[f]&255,w=co[l.getMode()][y]>0,N=null;for(let T=0;T<=Va;T++){let k=co[T][y];if(k>0){if(N==null&&(N=l.endBinaryShift(f)),!w||T===l.getMode()||T===fs){const U=N.latchAndAppend(T,k);p.push(U)}if(!w&&Do[l.getMode()][T]>=0){const U=N.shiftAndAppend(T,k);p.push(U)}}}if(l.getBinaryShiftByteCount()>0||co[l.getMode()][y]===0){let T=l.addBinaryShiftChar(f);p.push(T)}}static updateStateListForPair(l,f,p){const y=[];for(let w of l)this.updateStateForPair(w,f,p,y);return this.simplifyStates(y)}static updateStateForPair(l,f,p,y){let w=l.endBinaryShift(f);if(y.push(w.latchAndAppend(Va,p)),l.getMode()!==Va&&y.push(w.shiftAndAppend(Va,p)),p===3||p===4){let N=w.latchAndAppend(fs,16-p).latchAndAppend(fs,1);y.push(N)}if(l.getBinaryShiftByteCount()>0){let N=l.addBinaryShiftChar(f).addBinaryShiftChar(f+1);y.push(N)}}static simplifyStates(l){let f=[];for(const p of l){let y=!0;for(const w of f){if(w.isBetterThanOrEqualTo(p)){y=!1;break}p.isBetterThanOrEqualTo(w)&&(f=f.filter(N=>N!==w))}y&&f.push(p)}return f}}class Xr{constructor(){}static encodeBytes(l){return Xr.encode(l,Xr.DEFAULT_EC_PERCENT,Xr.DEFAULT_AZTEC_LAYERS)}static encode(l,f,p){let y=new Si(l).encode(),w=M.truncDivision(y.getSize()*f,100)+11,N=y.getSize()+w,T,k,U,Z,ie;if(p!==Xr.DEFAULT_AZTEC_LAYERS){if(T=p<0,k=Math.abs(p),k>(T?Xr.MAX_NB_BITS_COMPACT:Xr.MAX_NB_BITS))throw new v(G.format("Illegal value %s for layers",p));U=Xr.totalBitsInLayer(k,T),Z=Xr.WORD_SIZE[k];let Bt=U-U%Z;if(ie=Xr.stuffBits(y,Z),ie.getSize()+w>Bt)throw new v("Data to large for user specified layer");if(T&&ie.getSize()>Z*64)throw new v("Data to large for user specified layer")}else{Z=0,ie=null;for(let Bt=0;;Bt++){if(Bt>Xr.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(T=Bt<=3,k=T?Bt+1:Bt,U=Xr.totalBitsInLayer(k,T),N>U)continue;(ie==null||Z!==Xr.WORD_SIZE[k])&&(Z=Xr.WORD_SIZE[k],ie=Xr.stuffBits(y,Z));let Pr=U-U%Z;if(!(T&&ie.getSize()>Z*64)&&ie.getSize()+w<=Pr)break}}let xe=Xr.generateCheckWords(ie,U,Z),Ie=ie.getSize()/Z,qe=Xr.generateModeMessage(T,k,Ie),Ge=(T?11:14)+k*4,Qe=new Int32Array(Ge),pt;if(T){pt=Ge;for(let Bt=0;Bt<Qe.length;Bt++)Qe[Bt]=Bt}else{pt=Ge+1+2*M.truncDivision(M.truncDivision(Ge,2)-1,15);let Bt=M.truncDivision(Ge,2),Pr=M.truncDivision(pt,2);for(let Cr=0;Cr<Bt;Cr++){let Ea=Cr+M.truncDivision(Cr,15);Qe[Bt-Cr-1]=Pr-Ea-1,Qe[Bt+Cr]=Pr+Ea+1}}let Lt=new ye(pt);for(let Bt=0,Pr=0;Bt<k;Bt++){let Cr=(k-Bt)*4+(T?9:12);for(let Ea=0;Ea<Cr;Ea++){let Wa=Ea*2;for(let Na=0;Na<2;Na++)xe.get(Pr+Wa+Na)&&Lt.set(Qe[Bt*2+Na],Qe[Bt*2+Ea]),xe.get(Pr+Cr*2+Wa+Na)&&Lt.set(Qe[Bt*2+Ea],Qe[Ge-1-Bt*2-Na]),xe.get(Pr+Cr*4+Wa+Na)&&Lt.set(Qe[Ge-1-Bt*2-Na],Qe[Ge-1-Bt*2-Ea]),xe.get(Pr+Cr*6+Wa+Na)&&Lt.set(Qe[Ge-1-Bt*2-Ea],Qe[Bt*2+Na])}Pr+=Cr*8}if(Xr.drawModeMessage(Lt,T,pt,qe),T)Xr.drawBullsEye(Lt,M.truncDivision(pt,2),5);else{Xr.drawBullsEye(Lt,M.truncDivision(pt,2),7);for(let Bt=0,Pr=0;Bt<M.truncDivision(Ge,2)-1;Bt+=15,Pr+=16)for(let Cr=M.truncDivision(pt,2)&1;Cr<pt;Cr+=2)Lt.set(M.truncDivision(pt,2)-Pr,Cr),Lt.set(M.truncDivision(pt,2)+Pr,Cr),Lt.set(Cr,M.truncDivision(pt,2)-Pr),Lt.set(Cr,M.truncDivision(pt,2)+Pr)}let Ht=new Or;return Ht.setCompact(T),Ht.setSize(pt),Ht.setLayers(k),Ht.setCodeWords(Ie),Ht.setMatrix(Lt),Ht}static drawBullsEye(l,f,p){for(let y=0;y<p;y+=2)for(let w=f-y;w<=f+y;w++)l.set(w,f-y),l.set(w,f+y),l.set(f-y,w),l.set(f+y,w);l.set(f-p,f-p),l.set(f-p+1,f-p),l.set(f-p,f-p+1),l.set(f+p,f-p),l.set(f+p,f-p+1),l.set(f+p,f+p-1)}static generateModeMessage(l,f,p){let y=new X;return l?(y.appendBits(f-1,2),y.appendBits(p-1,6),y=Xr.generateCheckWords(y,28,4)):(y.appendBits(f-1,5),y.appendBits(p-1,11),y=Xr.generateCheckWords(y,40,4)),y}static drawModeMessage(l,f,p,y){let w=M.truncDivision(p,2);if(f)for(let N=0;N<7;N++){let T=w-3+N;y.get(N)&&l.set(T,w-5),y.get(N+7)&&l.set(w+5,T),y.get(20-N)&&l.set(T,w+5),y.get(27-N)&&l.set(w-5,T)}else for(let N=0;N<10;N++){let T=w-5+N+M.truncDivision(N,5);y.get(N)&&l.set(T,w-7),y.get(N+10)&&l.set(w+7,T),y.get(29-N)&&l.set(T,w+7),y.get(39-N)&&l.set(w-7,T)}}static generateCheckWords(l,f,p){let y=l.getSize()/p,w=new Io(Xr.getGF(p)),N=M.truncDivision(f,p),T=Xr.bitsToWords(l,p,N);w.encode(T,N-y);let k=f%p,U=new X;U.appendBits(0,k);for(const Z of Array.from(T))U.appendBits(Z,p);return U}static bitsToWords(l,f,p){let y=new Int32Array(p),w,N;for(w=0,N=l.getSize()/f;w<N;w++){let T=0;for(let k=0;k<f;k++)T|=l.get(w*f+k)?1<<f-k-1:0;y[w]=T}return y}static getGF(l){switch(l){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new v("Unsupported word size "+l)}}static stuffBits(l,f){let p=new X,y=l.getSize(),w=(1<<f)-2;for(let N=0;N<y;N+=f){let T=0;for(let k=0;k<f;k++)(N+k>=y||l.get(N+k))&&(T|=1<<f-1-k);(T&w)===w?(p.appendBits(T&w,f),N--):(T&w)===0?(p.appendBits(T|1,f),N--):p.appendBits(T,f)}return p}static totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}Xr.DEFAULT_EC_PERCENT=33,Xr.DEFAULT_AZTEC_LAYERS=0,Xr.MAX_NB_BITS=32,Xr.MAX_NB_BITS_COMPACT=4,Xr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class rs{encode(l,f,p,y){return this.encodeWithHints(l,f,p,y,null)}encodeWithHints(l,f,p,y,w){let N=Dr.ISO_8859_1,T=Xr.DEFAULT_EC_PERCENT,k=Xr.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(ba.CHARACTER_SET)&&(N=gr.forName(w.get(ba.CHARACTER_SET).toString())),w.has(ba.ERROR_CORRECTION)&&(T=M.parseInt(w.get(ba.ERROR_CORRECTION).toString())),w.has(ba.AZTEC_LAYERS)&&(k=M.parseInt(w.get(ba.AZTEC_LAYERS).toString()))),rs.encodeLayers(l,f,p,y,N,T,k)}static encodeLayers(l,f,p,y,w,N,T){if(f!==le.AZTEC)throw new v("Can only encode AZTEC, but got "+f);let k=Xr.encode(G.getBytes(l,w),N,T);return rs.renderResult(k,p,y)}static renderResult(l,f,p){let y=l.getMatrix();if(y==null)throw new rt;let w=y.getWidth(),N=y.getHeight(),T=Math.max(f,w),k=Math.max(p,N),U=Math.min(T/w,k/N),Z=(T-w*U)/2,ie=(k-N*U)/2,xe=new ye(T,k);for(let Ie=0,qe=ie;Ie<N;Ie++,qe+=U)for(let Ge=0,Qe=Z;Ge<w;Ge++,Qe+=U)y.get(Ge,Ie)&&xe.setRegion(Qe,qe,U,U);return xe}}r.AbstractExpandedDecoder=Te,r.ArgumentException=m,r.ArithmeticException=ut,r.AztecCode=Or,r.AztecCodeReader=Yt,r.AztecCodeWriter=rs,r.AztecDecoder=st,r.AztecDetector=Br,r.AztecDetectorResult=Mt,r.AztecEncoder=Xr,r.AztecHighLevelEncoder=Si,r.AztecPoint=Qt,r.BarcodeFormat=le,r.Binarizer=C,r.BinaryBitmap=b,r.BitArray=X,r.BitMatrix=ye,r.BitSource=es,r.BrowserAztecCodeReader=En,r.BrowserBarcodeReader=Di,r.BrowserCodeReader=W,r.BrowserDatamatrixCodeReader=kl,r.BrowserMultiFormatReader=Il,r.BrowserPDF417Reader=lc,r.BrowserQRCodeReader=cc,r.BrowserQRCodeSvgWriter=We,r.CharacterSetECI=B,r.ChecksumException=_,r.Code128Reader=Vt,r.Code39Reader=wr,r.DataMatrixDecodedBitStreamParser=_i,r.DataMatrixReader=va,r.DecodeHintType=Y,r.DecoderResult=Me,r.DefaultGridSampler=lr,r.DetectorResult=Pt,r.EAN13Reader=xa,r.EncodeHintType=ba,r.Exception=u,r.FormatException=V,r.GenericGF=gt,r.GenericGFPoly=ze,r.GlobalHistogramBinarizer=de,r.GridSampler=cr,r.GridSamplerInstance=hr,r.HTMLCanvasElementLuminanceSource=ae,r.HybridBinarizer=we,r.ITFReader=yr,r.IllegalArgumentException=v,r.IllegalStateException=rt,r.InvertedLuminanceSource=Ae,r.LuminanceSource=Pe,r.MathUtils=Ue,r.MultiFormatOneDReader=qa,r.MultiFormatReader=oc,r.MultiFormatWriter=Nt,r.NotFoundException=me,r.OneDReader=ur,r.PDF417DecodedBitStreamParser=xt,r.PDF417DecoderErrorCorrection=el,r.PDF417Reader=wa,r.PDF417ResultMetadata=tl,r.PerspectiveTransform=rr,r.PlanarYUVLuminanceSource=Dt,r.QRCodeByteMatrix=lo,r.QRCodeDataMask=Fa,r.QRCodeDecodedBitStreamParser=wn,r.QRCodeDecoderErrorCorrectionLevel=vn,r.QRCodeDecoderFormatInformation=Oa,r.QRCodeEncoder=Le,r.QRCodeEncoderQRCode=js,r.QRCodeMaskUtil=kn,r.QRCodeMatrixUtil=I,r.QRCodeMode=vr,r.QRCodeReader=Ei,r.QRCodeVersion=xr,r.QRCodeWriter=nt,r.RGBLuminanceSource=nr,r.RSS14Reader=Sr,r.RSSExpandedReader=_t,r.ReaderException=oo,r.ReedSolomonDecoder=ge,r.ReedSolomonEncoder=Io,r.ReedSolomonException=Ct,r.Result=J,r.ResultMetadataType=Re,r.ResultPoint=et,r.StringUtils=G,r.UnsupportedOperationException=re,r.VideoInputDevice=fe,r.WhiteRectangleDetector=Xt,r.WriterException=bn,r.ZXingArrays=D,r.ZXingCharset=gr,r.ZXingInteger=M,r.ZXingStandardCharsets=Dr,r.ZXingStringBuilder=se,r.ZXingStringEncoding=q,r.ZXingSystem=A,r.createAbstractExpandedDecoder=Gt,Object.defineProperty(r,"__esModule",{value:!0})})}(oh,oh.exports)),oh.exports}var Aa=lU();const cU=Om(Aa),uU=PN({__proto__:null,default:cU},[Aa]);var x3=function(){function t(e,r,n){if(this.formatMap=new Map([[ar.QR_CODE,Aa.BarcodeFormat.QR_CODE],[ar.AZTEC,Aa.BarcodeFormat.AZTEC],[ar.CODABAR,Aa.BarcodeFormat.CODABAR],[ar.CODE_39,Aa.BarcodeFormat.CODE_39],[ar.CODE_93,Aa.BarcodeFormat.CODE_93],[ar.CODE_128,Aa.BarcodeFormat.CODE_128],[ar.DATA_MATRIX,Aa.BarcodeFormat.DATA_MATRIX],[ar.MAXICODE,Aa.BarcodeFormat.MAXICODE],[ar.ITF,Aa.BarcodeFormat.ITF],[ar.EAN_13,Aa.BarcodeFormat.EAN_13],[ar.EAN_8,Aa.BarcodeFormat.EAN_8],[ar.PDF_417,Aa.BarcodeFormat.PDF_417],[ar.RSS_14,Aa.BarcodeFormat.RSS_14],[ar.RSS_EXPANDED,Aa.BarcodeFormat.RSS_EXPANDED],[ar.UPC_A,Aa.BarcodeFormat.UPC_A],[ar.UPC_E,Aa.BarcodeFormat.UPC_E],[ar.UPC_EAN_EXTENSION,Aa.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!uU)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var a=this.createZXingFormats(e),s=new Map;s.set(Aa.DecodeHintType.POSSIBLE_FORMATS,a),s.set(Aa.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,a){try{n(r.decode(e))}catch(s){a(s)}})},t.prototype.decode=function(e){var r=new Aa.MultiFormatReader(this.verbose,this.hints),n=new Aa.HTMLCanvasElementLuminanceSource(e),a=new Aa.BinaryBitmap(new Aa.HybridBinarizer(n)),s=r.decode(a);return{text:s.text,format:CE.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,a){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,a=e;n<a.length;n++){var s=a[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),dU=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})},fU=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},v3=function(){function t(e,r,n){if(this.formatMap=new Map([[ar.QR_CODE,"qr_code"],[ar.AZTEC,"aztec"],[ar.CODABAR,"codabar"],[ar.CODE_39,"code_39"],[ar.CODE_93,"code_93"],[ar.CODE_128,"code_128"],[ar.DATA_MATRIX,"data_matrix"],[ar.ITF,"itf"],[ar.EAN_13,"ean_13"],[ar.EAN_8,"ean_8"],[ar.PDF_417,"pdf417"],[ar.UPC_A,"upc_a"],[ar.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e!="undefined"},t.prototype.decodeAsync=function(e){return dU(this,void 0,void 0,function(){var r,n;return fU(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=a.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:CE.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,a=0,s=e;a<s.length;a++){var c=s[a],h=c.boundingBox.width*c.boundingBox.height;h>n&&(n=h,r=c)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,a=e;n<a.length;n++){var s=a[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,a){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),y3=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})},w3=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},hU=function(){function t(e,r,n,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&v3.isSupported()?(this.primaryDecoder=new v3(e,n,a),this.secondaryDecoder=new x3(e,n,a)):this.primaryDecoder=new x3(e,n,a)}return t.prototype.decodeAsync=function(e){return y3(this,void 0,void 0,function(){var r;return w3(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return y3(this,void 0,void 0,function(){var r,n;return w3(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(n=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var a=n[r];e+=a}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Fv=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tm=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})},jm=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jE=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),gU=function(t){Fv(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var a={advanced:[n]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(jE),mU=function(t){Fv(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(gU),pU=function(t){Fv(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(jE),xU=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new mU(this.track)},t.prototype.torchFeature=function(){return new pU(this.track)},t}(),vU=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,a),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,a){return Tm(this,void 0,void 0,function(){var s,c;return jm(this,function(h){switch(h.label){case 0:return s=new t(e,r,a),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Tm(this,void 0,void 0,function(){return jm(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var a=e.mediaStream.getVideoTracks(),s=a.length,c=0;e.mediaStream.getVideoTracks().forEach(function(h){e.mediaStream.removeTrack(h),h.stop(),++c,c>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new xU(this.getFirstTrackOrFail())},t}(),yU=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Tm(this,void 0,void 0,function(){return jm(this,function(a){return[2,vU.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Tm(this,void 0,void 0,function(){var r,n;return jm(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=a.sent(),[2,new t(n)]}})})},t}(),b3=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})},_3=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},wU=function(){function t(){}return t.failIfNotSupported=function(){return b3(this,void 0,void 0,function(){return _3(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return b3(this,void 0,void 0,function(){return _3(this,function(r){return[2,yU.create(e)]})})},t}(),bU=function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function h(m){try{u(n.next(m))}catch(v){c(v)}}function g(m){try{u(n.throw(m))}catch(v){c(v)}}function u(m){m.done?s(m.value):a(m.value).then(h,g)}u((n=n.apply(t,e||[])).next())})},_U=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(u){return function(m){return g([u,m])}}function g(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(m){u=[6,m],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},EU=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=kd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=kd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return bU(this,void 0,void 0,function(){var e,r,n,a,s,c,h;return _U(this,function(g){switch(g.label){case 0:return e=function(u){for(var m=u.getVideoTracks(),v=0,b=m;v<b.length;v++){var _=b[v];_.enabled=!1,_.stop(),u.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),a=[],s=0,c=n;s<c.length;s++)h=c[s],h.kind==="videoinput"&&a.push({id:h.deviceId,label:h.label});return e(r),[2,a]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var c=[],h=0,g=s;h<g.length;h++){var u=g[h];u.kind==="video"&&c.push({id:u.id,label:u.label})}e(c)},a=MediaStreamTrack;a.getSources(n)})},t}(),Za;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Za||(Za={}));var NU=function(){function t(){this.state=Za.NOT_STARTED,this.onGoingTransactionNewState=Za.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Za.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Za.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Za.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Za.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Za.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Za.UNKNOWN:throw"Transition from unknown is not allowed";case Za.NOT_STARTED:this.failIfNewStateIs(e,[Za.PAUSED]);break;case Za.SCANNING:break;case Za.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,a=r;n<a.length;n++){var s=a[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),SU=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Za.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Za.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Za.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Za.PAUSED},t}(),AU=function(){function t(){}return t.create=function(){return new SU(new NU)},t}(),CU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wo=function(t){CU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(aU),TU=function(){function t(e,r){this.logger=r,this.fps=wo.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=wo.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?TE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Oc(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),E3=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new iU(this.verbose),this.qrcode=new hU(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=AU.create()}return t.prototype.start=function(e,r,n,a){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;a?c=a:c=this.verbose?this.logger.log:function(){};var h=TU.create(r,this.logger);this.clearElement();var g=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:wo.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var v=this,b=this.stateManagerProxy.startTransition(Za.SCANNING);return new Promise(function(_,C){var A=u?h.videoConstraints:v.createVideoConstraints(e);if(!A){b.cancel(),C("videoConstraints should be defined");return}var j={};(!u||h.aspectRatio)&&(j.aspectRatio=h.aspectRatio);var L={onRenderSurfaceReady:function(D,M){v.setupUi(D,M,h),v.isScanning=!0,v.foreverScan(h,n,c)}};wU.failIfNotSupported().then(function(D){D.create(A).then(function(M){return M.render(s.element,j,L).then(function(X){v.renderedCamera=X,b.execute(),_(null)}).catch(function(X){b.cancel(),C(X)})}).catch(function(M){b.cancel(),C(kd.errorGettingUserMedia(M))})}).catch(function(D){b.cancel(),C(kd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Za.PAUSED),this.showPausedState(),(Oc(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(Za.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Za.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(wo.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),n(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),r.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Oc(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var h=c.width,g=c.height,u=document.getElementById(n.elementId),m=u.clientWidth?u.clientWidth:wo.DEFAULT_WIDTH,v=Math.max(u.clientHeight?u.clientHeight:g,wo.FILE_SCAN_MIN_HEIGHT),b=n.computeCanvasDrawConfig(h,g,m,v);if(r){var _=n.createCanvasElement(m,v,"qr-canvas-visible");_.style.display="inline-block",u.appendChild(_);var C=_.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=m,C.canvas.height=v,C.drawImage(c,0,0,h,g,b.x,b.y,b.width,b.height)}var A=wo.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(c.width,b.width),L=Math.max(c.height,b.height),D=j+2*A,M=L+2*A,X=n.createCanvasElement(D,M);u.appendChild(X);var Q=X.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=D,Q.canvas.height=M,Q.drawImage(c,0,0,h,g,A,A,j,L);try{n.qrcode.decodeRobustlyAsync(X).then(function(Y){a(m3.createFromQrcodeResult(Y))}).catch(s)}catch(Y){s("QR code parse error, error = ".concat(Y))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return EU.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!TE.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[ar.QR_CODE,ar.AZTEC,ar.CODABAR,ar.CODE_39,ar.CODE_93,ar.CODE_128,ar.DATA_MATRIX,ar.MAXICODE,ar.ITF,ar.EAN_13,ar.EAN_8,ar.PDF_417,ar.RSS_14,ar.RSS_EXPANDED,ar.UPC_A,ar.UPC_E,ar.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],a=0,s=e.formatsToSupport;a<s.length;a++){var c=s[a];nU(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Oc(e))return!0;if(!Oc(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Oc(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Oc(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var a=this,s=n.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(e,r,s),h=function(u){if(u<wo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wo.MIN_QR_BOX_SIZE,"px.")},g=function(u){return u>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};h(c.width),h(c.height),c.width=g(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var a=Oc(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(e,r,a);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&s.height<=r,h={x:0,y:0,width:e,height:r},g=c?this.getShadedRegionBounds(e,r,s):h,u=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},v=u.getContext("2d",m);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(u),c&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=kd.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,m3.createFromQrcodeResult(a)),n.possiblyUpdateShaders(!0),!0}).catch(function(a){n.possiblyUpdateShaders(!1);var s=kd.codeParseError(a);return r(s,sU.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var a=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,h=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,u=this.qrRegion.height*h,m=this.qrRegion.x*c,v=this.qrRegion.y*h;this.context.drawImage(s,m,v,g,u,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,r,n)},a.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(_){!_&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(r,n).finally(function(){b()})):b()}).catch(function(_){a.logger.logError("Error happend while scanning context",_),b()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",a={user:!0,environment:!0},s="exact",c=function(C){if(C in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},h=Object.keys(e);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var g=Object.keys(e)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var u=e.facingMode;if(typeof u=="string"){if(c(u))return{facingMode:u}}else if(typeof u=="object")if(s in u){if(c(u["".concat(s)]))return{facingMode:{exact:u["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var m=typeof u;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var b=typeof v;throw"Invalid type of 'deviceId' = ".concat(b)}}}var _=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},t.prototype.computeCanvasDrawConfig=function(e,r,n,a){if(e<=n&&r<=a){var s=(n-e)/2,c=(a-r)/2;return{x:s,y:c,width:e,height:r}}else{var h=e,g=r;return e>n&&(r=n/e*r,e=n),r>a&&(e=a/r*e,r=a),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(g)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,a)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?wo.BORDER_SHADER_MATCH_COLOR:wo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var a=e,s=r,c=document.createElement("canvas");return c.style.width="".concat(a,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=Oc(n)?"qr-canvas":n,c},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,a){if(!(r-a.width<1||n-a.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(r-a.width)/2,h=(n-a.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(wo.SHADED_REGION_ELEMENT_ID),r-a.width<11||n-a.height<11)this.hasBorderShaders=!1;else{var g=5,u=40;this.insertShaderBorders(s,u,g,-g,null,0,!0),this.insertShaderBorders(s,u,g,-g,null,0,!1),this.insertShaderBorders(s,u,g,null,-g,0,!0),this.insertShaderBorders(s,u,g,null,-g,0,!1),this.insertShaderBorders(s,g,u+g,-g,null,-g,!0),this.insertShaderBorders(s,g,u+g,null,-g,-g,!0),this.insertShaderBorders(s,g,u+g,-g,null,-g,!1),this.insertShaderBorders(s,g,u+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,a,s,c,h){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=wo.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),a!==null&&(g.style.top="".concat(a,"px")),s!==null&&(g.style.bottom="".concat(s,"px")),h?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),N3;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(N3||(N3={}));const jU=({onScan:t,onError:e,showPreview:r=!0,width:n=320,height:a=280})=>{const[s,c]=ee.useState(!1),[h,g]=ee.useState(null),[u,m]=ee.useState(""),[v,b]=ee.useState(!0),[_,C]=ee.useState([]),[A,j]=ee.useState(null),[L,D]=ee.useState([]),[M,X]=ee.useState(!1),[Q,Y]=ee.useState(!1),[V,H]=ee.useState(""),[B,re]=ee.useState(""),q=ee.useRef(null),G=ee.useRef(null),se=[ar.CODE_128,ar.CODE_39,ar.EAN_13,ar.EAN_8,ar.UPC_A,ar.UPC_E,ar.QR_CODE,ar.CODE_93,ar.CODABAR,ar.ITF];ee.useEffect(()=>(E3.getCameras().then(P=>{if(P&&P.length>0){C(P);const W=P.find(J=>J.label.toLowerCase().includes("back")||J.label.toLowerCase().includes("rear")||J.label.toLowerCase().includes("environment"));j((W==null?void 0:W.id)||P[0].id),b(!0),console.log(" Found cameras:",P.map(J=>J.label))}else b(!1),g("No camera found")}).catch(P=>{console.error("Camera detection error:",P),b(!1),g("Camera access denied. Please allow camera permission.")}),()=>{de()}),[]);const ye=ee.useCallback((P,W)=>{var J,te;console.log(" Scanned barcode:",P),console.log(" Format:",((te=(J=W==null?void 0:W.result)==null?void 0:J.format)==null?void 0:te.formatName)||"Unknown"),P!==V&&(H(P),setTimeout(()=>H(""),2e3),navigator.vibrate&&navigator.vibrate([100,50,100]),m(P),g(null),re(` Scanned: ${P}`),de(),we(P))},[V]),me=()=>_e(null,null,function*(){if(!A){g("No camera selected");return}g(null),re(" Initializing camera...");try{q.current=new E3("barcode-scanner-region",{formatsToSupport:se,verbose:!1});const P={fps:15,qrbox:{width:280,height:80},aspectRatio:1.777778,disableFlip:!1,experimentalFeatures:{useBarCodeDetectorIfSupported:!0}};yield q.current.start(A,P,ye,()=>{}),c(!0),re(" Scanning... Hold barcode steady in the box"),console.log(" Scanner started successfully")}catch(P){console.error("Failed to start scanner:",P),g(`Camera error: ${P.message||P}. Try refreshing the page.`),re(""),c(!1)}}),de=()=>_e(null,null,function*(){if(q.current&&q.current.isScanning)try{yield q.current.stop()}catch(P){console.log("Stop scanner note:",P)}if(q.current){try{q.current.clear()}catch(P){console.log("Clear scanner note:",P)}q.current=null}c(!1),h||re("")}),we=P=>_e(null,null,function*(){var W,J,te;if(P){re(` Searching for: ${P}...`);try{console.log(" Looking up:",P);const le=yield Su({search:P,limit:10});console.log(" API returned:",((W=le.products)==null?void 0:W.length)||0,"products");const Re=((J=le.products)==null?void 0:J.find(Me=>{var ke,ze;return Me.part_number===P||Me.barcode===P||((ke=Me.part_number)==null?void 0:ke.toLowerCase())===P.toLowerCase()||((ze=Me.barcode)==null?void 0:ze.toLowerCase())===P.toLowerCase()}))||((te=le.products)==null?void 0:te[0]);Re?(console.log(" Product found:",Re.name),re(` Found: ${Re.name}`),t&&t(P,Re)):(console.log(" No product found for:",P),re(` No product found for: ${P}`),g(`No product matches "${P}". The product may not exist in the database.`),t&&t(P,null))}catch(le){console.error("Lookup error:",le),re(" Lookup failed"),g(`Search failed: ${le.message}`),e&&e(le)}}}),Pe=ee.useCallback(P=>_e(null,null,function*(){if(!P||P.length<2){D([]),X(!1);return}Y(!0);try{const J=(yield Su({search:P,limit:10})).products||[];console.log(" Search found:",J.length,"products for",P),D(J),X(J.length>0)}catch(W){console.error("Search error:",W),D([])}Y(!1)}),[]),Ae=P=>{const W=P.target.value;m(W),g(null),re(""),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{Pe(W)},400)},ae=P=>{const W=P.part_number||P.barcode||P.name;m(W),X(!1),D([]),g(null),re(` Selected: ${P.name}`),t&&t(W,P)},fe=P=>{P.preventDefault(),u.trim()&&(X(!1),we(u.trim()))};return i.jsxs("div",{className:"barcode-scanner",style:{textAlign:"center"},children:[r&&v&&i.jsx("div",{style:{marginBottom:"15px"},children:i.jsx("div",{id:"barcode-scanner-region",style:{width:`${n}px`,height:s?`${a}px`:"0px",margin:"0 auto",border:s?"3px solid #4CAF50":"none",borderRadius:"8px",overflow:"hidden",transition:"height 0.3s ease",backgroundColor:"#000"}})}),B&&i.jsx("div",{style:{padding:"10px",marginBottom:"10px",background:B.includes("")?"#e8f5e9":B.includes("")?"#ffebee":"#e3f2fd",color:B.includes("")?"#2e7d32":B.includes("")?"#c62828":"#1565c0",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:B}),h&&i.jsxs("div",{style:{color:"#c62828",padding:"12px",marginBottom:"10px",background:"#ffebee",borderRadius:"6px",fontSize:"14px",border:"1px solid #ef5350"},children:[" ",h]}),v&&_.length>1&&i.jsx("div",{style:{marginBottom:"10px"},children:i.jsx("select",{value:A||"",onChange:P=>{j(P.target.value),s&&de().then(()=>setTimeout(me,100))},style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"14px",backgroundColor:"white",color:"#333"},children:_.map(P=>i.jsxs("option",{value:P.id,children:[" ",P.label||`Camera ${P.id.substring(0,8)}`]},P.id))})}),v&&i.jsx("div",{style:{marginBottom:"15px"},children:s?i.jsx("button",{onClick:de,type:"button",style:{padding:"14px 28px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(244, 67, 54, 0.3)"},children:" Stop Scanning"}):i.jsx("button",{onClick:me,type:"button",style:{padding:"14px 28px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(33, 150, 243, 0.3)"},children:" Start Camera Scan"})}),!v&&i.jsx("div",{style:{padding:"15px",background:"#fff3e0",borderRadius:"6px",marginBottom:"15px",color:"#e65100"},children:" No camera detected. Use manual entry below."}),i.jsxs("form",{onSubmit:fe,style:{marginTop:"10px",position:"relative"},children:[i.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[i.jsxs("div",{style:{position:"relative",width:"280px"},children:[i.jsx("input",{type:"text",placeholder:"Type part number or product name...",value:u,onChange:Ae,onFocus:()=>L.length>0&&X(!0),onBlur:()=>setTimeout(()=>X(!1),200),style:{padding:"14px 40px 14px 14px",fontSize:"16px",border:"2px solid #1976d2",borderRadius:"8px",width:"100%",boxSizing:"border-box",backgroundColor:"white",color:"#333"}}),Q&&i.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"16px"},children:""}),M&&L.length>0&&i.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"0 0 8px 8px",maxHeight:"250px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)",textAlign:"left"},children:L.map(P=>i.jsxs("div",{onClick:()=>ae(P),style:{padding:"12px 14px",cursor:"pointer",borderBottom:"1px solid #eee",backgroundColor:"white"},onMouseEnter:W=>W.currentTarget.style.backgroundColor="#e3f2fd",onMouseLeave:W=>W.currentTarget.style.backgroundColor="white",children:[i.jsx("div",{style:{fontWeight:"bold",color:"#333"},children:P.name}),i.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[i.jsx("span",{style:{fontFamily:"monospace",backgroundColor:"#e3f2fd",padding:"2px 8px",borderRadius:"4px",color:"#1976d2",fontWeight:"bold"},children:P.part_number||P.barcode||"No Part #"}),i.jsxs("span",{style:{marginLeft:"10px"},children:["$",parseFloat(P.price||0).toFixed(2)]})]})]},P.id))})]}),i.jsx("button",{type:"submit",style:{padding:"14px 24px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:"16px",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.3)"},children:" Look Up"})]}),i.jsx("div",{style:{fontSize:"12px",color:"#888",marginTop:"10px"},children:' Tip: Try searching for "piston", "gasket", or part numbers like "RE-PK-350-STD"'})]})]})},OU=({barcode:t,productName:e,partNumber:r,price:n,showPrice:a=!0,labelSize:s="medium",onPrint:c})=>{const h=ee.useRef(null),[g,u]=ee.useState(null);ee.useEffect(()=>{if(t&&h.current)try{yE(h.current,t,{format:"CODE128",width:s==="small"?1.5:s==="large"?2.5:2,height:s==="small"?40:s==="large"?80:60,displayValue:!0,fontSize:s==="small"?12:s==="large"?18:14,margin:10,background:"#ffffff",lineColor:"#000000"}),u(null)}catch(v){u("Invalid barcode format"),console.error("Barcode generation error:",v)}},[t,s]);const m=()=>{var b;const v=window.open("","_blank");v&&(v.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Barcode Label - ${t}</title>
          <style>
            @media print {
              body { margin: 0; padding: 10mm; }
              .label { 
                page-break-after: always;
                text-align: center;
                font-family: Arial, sans-serif;
              }
              .label:last-child { page-break-after: auto; }
            }
            body { font-family: Arial, sans-serif; }
            .label {
              border: 1px dashed #ccc;
              padding: 10px;
              margin: 10px;
              display: inline-block;
              text-align: center;
            }
            .product-name {
              font-weight: bold;
              font-size: 14px;
              margin-bottom: 5px;
              max-width: 200px;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            }
            .part-number {
              font-size: 12px;
              color: #666;
            }
            .price {
              font-size: 16px;
              font-weight: bold;
              margin-top: 5px;
            }
          </style>
        </head>
        <body>
          <div class="label">
            <div class="product-name">${e||""}</div>
            ${r?`<div class="part-number">P/N: ${r}</div>`:""}
            ${((b=h.current)==null?void 0:b.outerHTML)||""}
            ${a&&n?`<div class="price">$${parseFloat(n).toFixed(2)}</div>`:""}
          </div>
          <script>window.onload = function() { window.print(); window.close(); }<\/script>
        </body>
        </html>
      `),v.document.close()),c&&c()};return t?i.jsx("div",{className:"barcode-generator",style:{textAlign:"center"},children:g?i.jsx("div",{className:"error",style:{color:"red",padding:"10px"},children:g}):i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:e}),r&&i.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["P/N: ",r]}),i.jsx("svg",{ref:h,style:{maxWidth:"100%"}}),a&&n&&i.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",marginTop:"5px"},children:["$",parseFloat(n).toFixed(2)]}),i.jsx("button",{onClick:m,style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:" Print Label"})]})}):i.jsx("div",{className:"barcode-placeholder",style:{padding:"20px",background:"#f0f0f0",borderRadius:"8px",textAlign:"center"},children:i.jsx("p",{children:"No barcode assigned"})})},RU=()=>{const[t,e]=ee.useState("scan"),[r,n]=ee.useState([]),[a,s]=ee.useState([]),[c,h]=ee.useState([]),[g,u]=ee.useState(null),[m,v]=ee.useState(null),[b,_]=ee.useState(""),[C,A]=ee.useState(!1),[j,L]=ee.useState({type:"",text:""}),[D,M]=ee.useState({bin_number:"",description:"",capacity:100}),[X,Q]=ee.useState(!1),[Y,V]=ee.useState(null),[H,B]=ee.useState({name:"",code:"",address:"",city:"",state:"",zip:"",phone:"",notes:"",status:"active"});ee.useEffect(()=>{re(),G()},[]),ee.useEffect(()=>{b&&q(b)},[b]);const re=()=>_e(null,null,function*(){var fe;try{const P=yield Vg.getAll();n(P.warehouses||[]),((fe=P.warehouses)==null?void 0:fe.length)>0&&!b&&_(P.warehouses[0].id)}catch(P){console.error("Error fetching warehouses:",P)}}),q=fe=>_e(null,null,function*(){try{const P=yield d3.getAll(fe);s(P.bins||[])}catch(P){console.error("Error fetching bins:",P)}}),G=()=>_e(null,null,function*(){try{const fe=yield f3.getAll({status:"in_transit"});h(fe.movements||[])}catch(fe){console.error("Error fetching movements:",fe)}}),se=(fe,P=null)=>_e(null,null,function*(){A(!0),L({type:"",text:""}),v(null);try{if(P)u(P),L({type:"success",text:`Found: ${P.name}`});else{const{products:W}=yield Co(()=>_e(null,null,function*(){const{products:te}=yield Promise.resolve().then(()=>x7);return{products:te}}),void 0).then(te=>te.getProducts({search:fe,limit:1})),J=(W==null?void 0:W.find(te=>te.part_number===fe||te.barcode===fe))||(W==null?void 0:W[0]);J?(u(J),L({type:"success",text:`Found: ${J.name}`})):(v(fe),u(null),L({type:"warning",text:`Product not found for barcode: ${fe}`}))}}catch(W){L({type:"error",text:"Error scanning barcode"}),console.error("Scan error:",W)}A(!1)}),ye=fe=>_e(null,null,function*(){if(g!=null&&g.barcode){A(!0);try{const P=yield f3.receive({barcode:g.barcode,binNumber:fe});L({type:"success",text:P.message}),u(null),G()}catch(P){L({type:"error",text:"Error receiving product"})}A(!1)}}),me=fe=>_e(null,null,function*(){if(fe.preventDefault(),!(!b||!D.bin_number)){A(!0);try{const P=yield d3.create(zt({warehouse_id:b},D));L({type:"success",text:"Bin created successfully"}),M({bin_number:"",description:"",capacity:100}),q(b)}catch(P){L({type:"error",text:"Error creating bin"})}A(!1)}}),de=()=>{B({name:"",code:"",address:"",city:"",state:"",zip:"",phone:"",notes:"",status:"active"}),V(null),Q(!1)},we=fe=>{V(fe),B({name:fe.name||"",code:fe.code||"",address:fe.address||"",city:fe.city||"",state:fe.state||"",zip:fe.zip||"",phone:fe.phone||"",notes:fe.notes||"",status:fe.status||"active"}),Q(!0)},Pe=fe=>_e(null,null,function*(){if(fe.preventDefault(),!H.name||!H.code){L({type:"error",text:"Name and Code are required"});return}A(!0);try{Y?(yield Vg.update(zt({id:Y.id},H)),L({type:"success",text:"Warehouse updated successfully"})):(yield Vg.create(H),L({type:"success",text:"Warehouse created successfully"})),de(),re()}catch(P){L({type:"error",text:`Error ${Y?"updating":"creating"} warehouse`})}A(!1)}),Ae=fe=>_e(null,null,function*(){if(confirm(`Are you sure you want to delete warehouse "${fe.name}"?`)){A(!0);try{yield Vg.delete(fe.id),L({type:"success",text:"Warehouse deleted successfully"}),re()}catch(P){L({type:"error",text:"Error deleting warehouse"})}A(!1)}}),ae=[{id:"scan",label:" Scan & Receive",icon:""},{id:"movements",label:" Movements",icon:""},{id:"bins",label:" Bins",icon:""},{id:"warehouses",label:" Warehouses",icon:""}];return i.jsxs("div",{className:"inventory-page",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[i.jsx("h1",{style:{marginBottom:"20px"},children:" Inventory Management"}),j.text&&i.jsx("div",{style:{padding:"10px 20px",marginBottom:"20px",borderRadius:"4px",backgroundColor:j.type==="success"?"#e8f5e9":j.type==="warning"?"#fff3e0":"#ffebee",color:j.type==="success"?"#2e7d32":j.type==="warning"?"#e65100":"#c62828",border:`1px solid ${j.type==="success"?"#4caf50":j.type==="warning"?"#ffb74d":"#ef5350"}`},children:j.text}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"20px",borderBottom:"2px solid #e0e0e0",paddingBottom:"10px",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:ae.map(fe=>i.jsx("button",{onClick:()=>e(fe.id),style:{padding:"10px 16px",border:"none",borderRadius:"4px 4px 0 0",cursor:"pointer",fontSize:"13px",fontWeight:t===fe.id?"bold":"normal",backgroundColor:t===fe.id?"#1976d2":"#f5f5f5",color:t===fe.id?"white":"#333",transition:"all 0.2s",whiteSpace:"nowrap",flex:"0 0 auto",minWidth:"fit-content"},children:fe.label},fe.id))}),i.jsxs("div",{className:"tab-content",children:[t==="scan"&&i.jsx("div",{className:"scan-receive-tab",children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"20px"},className:"md:grid-cols-2",children:[i.jsxs("div",{style:{padding:"20px",background:"#f5f5f5",borderRadius:"8px"},children:[i.jsx("h3",{style:{marginBottom:"15px"},children:"Scan Barcode"}),i.jsx(jU,{onScan:se,autoStart:!1})]}),i.jsxs("div",{style:{padding:"20px",background:"#f5f5f5",borderRadius:"8px"},children:[i.jsx("h3",{style:{marginBottom:"15px"},children:"Scanned Product"}),C&&i.jsx("p",{children:"Loading..."}),g?i.jsxs("div",{children:[i.jsx(OU,{barcode:g.barcode,productName:g.name,partNumber:g.part_number,price:g.price,labelSize:"small"}),i.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"white",borderRadius:"4px"},children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Name:"})," ",g.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Part #:"})," ",g.part_number||"N/A"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Price:"})," $",parseFloat(g.price).toFixed(2)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Current Location:"})," ",g.warehouse_name||"Not assigned"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Bin:"})," ",g.bin_number||"Not assigned"]})]}),i.jsxs("div",{style:{marginTop:"15px"},children:[i.jsx("h4",{children:"Assign to Bin:"}),i.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"10px"},children:a.map(fe=>i.jsx("button",{onClick:()=>ye(fe.bin_number),style:{padding:"10px 15px",border:"1px solid #1976d2",borderRadius:"4px",cursor:"pointer",background:"white"},children:fe.bin_number},fe.id))})]})]}):m?i.jsxs("div",{style:{padding:"20px",background:"#fff3e0",border:"1px solid #ffb74d",borderRadius:"8px"},children:[i.jsx("h4",{style:{color:"#e65100",marginBottom:"15px"},children:" Product Not Found"}),i.jsxs("p",{style:{marginBottom:"10px",color:"#333"},children:[i.jsx("strong",{children:"Scanned Barcode:"}),i.jsx("span",{style:{fontFamily:"monospace",marginLeft:"10px",padding:"4px 8px",background:"#fff",borderRadius:"4px"},children:m})]}),i.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"This product is not in the inventory. Choose an action:"}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[i.jsx("a",{href:`/admin/products/add?part_number=${encodeURIComponent(m)}`,style:{display:"flex",alignItems:"center",padding:"12px 20px",backgroundColor:"#4caf50",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"bold"},children:" Create New Product (with barcode pre-filled)"}),i.jsx("button",{onClick:()=>{v(null),L({type:"",text:""})},style:{padding:"12px 20px",backgroundColor:"#e0e0e0",color:"#333",border:"none",borderRadius:"8px",cursor:"pointer"},children:" Cancel / Scan Another"})]}),i.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"white",borderRadius:"6px",fontSize:"14px",color:"#666"},children:[i.jsx("strong",{style:{color:"#1976d2"},children:" Tip:"})," If this is an existing product that should be in inventory, check if the part number or barcode is entered correctly in the product details."]})]}):i.jsx("p",{style:{color:"#666"},children:"Scan a barcode to see product details"})]})]})}),t==="movements"&&i.jsxs("div",{className:"movements-tab",children:[i.jsxs("h3",{children:["In-Transit Shipments (",c.length,")"]}),c.length===0?i.jsx("p",{style:{color:"#666",padding:"20px"},children:"No shipments in transit"}):i.jsx("div",{style:{overflowX:"auto",maxWidth:"100%"},children:i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"15px",minWidth:"600px"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{background:"#f5f5f5"},children:[i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Product"}),i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Barcode"}),i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"From"}),i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"To"}),i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Status"}),i.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd"},children:"Shipped"})]})}),i.jsx("tbody",{children:c.map(fe=>i.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[i.jsx("td",{style:{padding:"12px"},children:fe.product_name}),i.jsx("td",{style:{padding:"12px",fontFamily:"monospace"},children:fe.barcode}),i.jsx("td",{style:{padding:"12px"},children:fe.from_warehouse_name}),i.jsx("td",{style:{padding:"12px"},children:fe.to_warehouse_name}),i.jsx("td",{style:{padding:"12px"},children:i.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:fe.status==="in_transit"?"#fff3e0":"#e8f5e9",color:fe.status==="in_transit"?"#e65100":"#2e7d32"},children:fe.status})}),i.jsx("td",{style:{padding:"12px"},children:new Date(fe.created_at).toLocaleDateString()})]},fe.id))})]})})]}),t==="bins"&&i.jsxs("div",{className:"bins-tab",children:[i.jsxs("div",{style:{marginBottom:"20px"},children:[i.jsx("label",{style:{marginRight:"10px"},children:"Warehouse:"}),i.jsx("select",{value:b,onChange:fe=>_(fe.target.value),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},children:r.map(fe=>i.jsx("option",{value:fe.id,children:fe.name},fe.id))})]}),i.jsxs("form",{onSubmit:me,style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"20px",padding:"15px",background:"#f5f5f5",borderRadius:"4px"},className:"md:flex-row",children:[i.jsx("input",{type:"text",placeholder:"Bin # (e.g., A-01)",value:D.bin_number,onChange:fe=>M(sr(zt({},D),{bin_number:fe.target.value})),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"white",color:"#333"},required:!0}),i.jsx("input",{type:"text",placeholder:"Description",value:D.description,onChange:fe=>M(sr(zt({},D),{description:fe.target.value})),style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",flex:1,backgroundColor:"white",color:"#333"}}),i.jsx("button",{type:"submit",disabled:C,style:{padding:"8px 16px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"+ Add Bin"})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"15px"},children:a.map(fe=>i.jsxs("div",{style:{padding:"15px",background:"white",border:"2px solid #1976d2",borderRadius:"8px",textAlign:"center"},children:[i.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1976d2"},children:fe.bin_number}),i.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:[fe.product_count||0," items"]}),fe.description&&i.jsx("div",{style:{fontSize:"11px",color:"#999",marginTop:"5px"},children:fe.description})]},fe.id))})]}),t==="warehouses"&&i.jsxs("div",{className:"warehouses-tab",children:[i.jsx("div",{style:{marginBottom:"20px"},children:i.jsx("button",{onClick:()=>Q(!0),style:{padding:"12px 24px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"+ Add Warehouse"})}),X&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"12px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},children:[i.jsx("h2",{style:{marginBottom:"20px",color:"#333"},children:Y?"Edit Warehouse":"Add New Warehouse"}),i.jsxs("form",{onSubmit:Pe,children:[i.jsxs("div",{style:{display:"grid",gap:"15px"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Name *"}),i.jsx("input",{type:"text",value:H.name,onChange:fe=>B(sr(zt({},H),{name:fe.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"},required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Code *"}),i.jsx("input",{type:"text",value:H.code,onChange:fe=>B(sr(zt({},H),{code:fe.target.value.toUpperCase()})),placeholder:"e.g., WH-01",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"},required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Address"}),i.jsx("input",{type:"text",value:H.address,onChange:fe=>B(sr(zt({},H),{address:fe.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"City"}),i.jsx("input",{type:"text",value:H.city,onChange:fe=>B(sr(zt({},H),{city:fe.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"State"}),i.jsx("input",{type:"text",value:H.state,onChange:fe=>B(sr(zt({},H),{state:fe.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"ZIP"}),i.jsx("input",{type:"text",value:H.zip,onChange:fe=>B(sr(zt({},H),{zip:fe.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Phone"}),i.jsx("input",{type:"tel",value:H.phone,onChange:fe=>B(sr(zt({},H),{phone:fe.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Status"}),i.jsxs("select",{value:H.status,onChange:fe=>B(sr(zt({},H),{status:fe.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"white",color:"#333"},children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Notes"}),i.jsx("textarea",{value:H.notes,onChange:fe=>B(sr(zt({},H),{notes:fe.target.value})),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"6px",resize:"vertical",backgroundColor:"white",color:"#333"}})]})]}),i.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"flex-end"},children:[i.jsx("button",{type:"button",onClick:de,style:{padding:"10px 20px",backgroundColor:"#e0e0e0",color:"#333",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Cancel"}),i.jsx("button",{type:"submit",disabled:C,style:{padding:"10px 20px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:C?"Saving...":Y?"Update":"Create"})]})]})]})}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:r.map(fe=>i.jsxs("div",{style:{padding:"20px",background:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[i.jsxs("h3",{style:{margin:"0 0 5px 0",color:"#333"},children:[" ",fe.name]}),i.jsx("span",{style:{padding:"2px 8px",fontSize:"11px",borderRadius:"4px",backgroundColor:fe.status==="active"?"#e8f5e9":"#ffebee",color:fe.status==="active"?"#2e7d32":"#c62828"},children:fe.status||"active"})]}),fe.code&&i.jsxs("p",{style:{color:"#1976d2",margin:"0 0 10px 0",fontWeight:"bold"},children:["Code: ",fe.code]}),i.jsxs("p",{style:{color:"#666",margin:"5px 0",fontSize:"14px"},children:[" ",fe.address||fe.city||fe.location||"No address",fe.city&&fe.state&&`, ${fe.city}, ${fe.state}`]}),fe.phone&&i.jsxs("p",{style:{color:"#666",margin:"5px 0",fontSize:"14px"},children:[" ",fe.phone]}),i.jsxs("div",{style:{display:"flex",gap:"20px",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #eee"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1976d2"},children:fe.product_count||0}),i.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Products"})]}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#4caf50"},children:fe.bin_count||0}),i.jsx("div",{style:{fontSize:"12px",color:"#666"},children:"Bins"})]})]}),i.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[i.jsx("button",{onClick:()=>we(fe),style:{flex:1,padding:"8px",backgroundColor:"#1976d2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:" Edit"}),i.jsx("button",{onClick:()=>Ae(fe),style:{flex:1,padding:"8px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:" Delete"})]})]},fe.id))}),r.length===0&&i.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[i.jsx("p",{style:{fontSize:"18px"},children:"No warehouses yet"}),i.jsx("p",{children:'Click "Add Warehouse" to create your first warehouse'})]})]})]})]})},kU=()=>{const[t,e]=ee.useState({site_title:"Sardaarji Autoparts",site_subtitle:"Vintage Motorcycle Parts & Accessories",tagline:"Quality Parts for Classic Bikes Since 1970",description:"Your trusted source for vintage Yamaha RD350 motorcycle parts and accessories. We specialize in rare and hard-to-find components for classic motorcycles.",contact_email:"",contact_phone:"",contact_address:"",copyright_text:" 2024 Sardaarji Autoparts. All rights reserved.",meta_keywords:"motorcycle parts, yamaha rd350, vintage parts, classic motorcycle, autoparts",meta_author:"Sardaarji Autoparts",social_facebook:"",social_instagram:"",social_twitter:""}),[r,n]=ee.useState(!1),[a,s]=ee.useState(!1),[c,h]=ee.useState({type:"",text:""});ee.useEffect(()=>{const m=localStorage.getItem("siteSettings");m&&e(JSON.parse(m))},[]);const g=m=>{const{name:v,value:b}=m.target;e(_=>sr(zt({},_),{[v]:b}))},u=m=>_e(null,null,function*(){m.preventDefault(),s(!0),h({type:"",text:""});try{localStorage.setItem("siteSettings",JSON.stringify(t)),h({type:"success",text:"Settings saved successfully!"})}catch(v){h({type:"error",text:"Failed to save settings."})}finally{s(!1)}});return r?i.jsx("div",{className:"text-center py-12",children:i.jsx(on,{size:"xl",text:"Loading settings...",variant:"gear"})}):i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-6",style:{fontFamily:"'Oswald', sans-serif"},children:"Site Settings"}),c.text&&i.jsx("div",{className:`mb-6 p-4 rounded ${c.type==="success"?"bg-green-600/20 text-green-400 border border-green-600":"bg-red-600/20 text-red-400 border border-red-600"}`,children:c.text}),i.jsxs("form",{onSubmit:u,className:"space-y-8",children:[i.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Site Identity"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Site Title"}),i.jsx("input",{type:"text",name:"site_title",value:t.site_title,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Subtitle"}),i.jsx("input",{type:"text",name:"site_subtitle",value:t.site_subtitle,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Tagline"}),i.jsx("input",{type:"text",name:"tagline",value:t.tagline,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Site Description"}),i.jsx("textarea",{name:"description",value:t.description,onChange:g,rows:3,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]})]})]}),i.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Contact Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Email"}),i.jsx("input",{type:"email",name:"contact_email",value:t.contact_email,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"contact@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Phone"}),i.jsx("input",{type:"tel",name:"contact_phone",value:t.contact_phone,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"+1 (555) 123-4567"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Address"}),i.jsx("textarea",{name:"contact_address",value:t.contact_address,onChange:g,rows:2,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"123 Main Street, City, Country"})]})]})]}),i.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"SEO & Meta Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Meta Keywords"}),i.jsx("input",{type:"text",name:"meta_keywords",value:t.meta_keywords,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"keyword1, keyword2, keyword3"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Meta Author"}),i.jsx("input",{type:"text",name:"meta_author",value:t.meta_author,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Copyright Text"}),i.jsx("input",{type:"text",name:"copyright_text",value:t.copyright_text,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]"})]})]})]}),i.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#F5F0E1] mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Social Media Links"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Facebook"}),i.jsx("input",{type:"url",name:"social_facebook",value:t.social_facebook,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://facebook.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Instagram"}),i.jsx("input",{type:"url",name:"social_instagram",value:t.social_instagram,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://instagram.com/..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-[#A8A090] text-sm mb-2",children:"Twitter/X"}),i.jsx("input",{type:"url",name:"social_twitter",value:t.social_twitter,onChange:g,className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-4 py-2 focus:outline-none focus:border-[#8B2332]",placeholder:"https://twitter.com/..."})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:a,className:"bg-[#8B2332] text-white px-8 py-3 rounded font-semibold hover:bg-[#a02a3d] transition-colors disabled:opacity-50 flex items-center",style:{fontFamily:"'Oswald', sans-serif"},children:a?i.jsxs(i.Fragment,{children:[i.jsx(on,{size:"sm",showText:!1}),i.jsx("span",{className:"ml-2",children:"Saving..."})]}):"Save Settings"})})]})]})},LU=()=>{const[t,e]=ee.useState([]),[r,n]=ee.useState({total_queries:0,total_errors:0,avg_duration:0,last_hour:0,last_24h:0}),[a,s]=ee.useState(!0),[c,h]=ee.useState({status:"all",model:"all",time_range:"24h",search:""}),[g,u]=ee.useState(!1),[m,v]=ee.useState("7d"),[b,_]=ee.useState(!1),[C,A]=ee.useState(null),j=()=>_e(null,null,function*(){s(!0);try{const Y=new URLSearchParams(c),{data:V}=yield Gr.get(`/query-logs?${Y.toString()}`);e(V.logs||[]),n(V.stats||{total_queries:0,total_errors:0,avg_duration:0,last_hour:0,last_24h:0})}catch(Y){console.error("Failed to fetch logs:",Y),e([])}finally{s(!1)}});ee.useEffect(()=>{j();const Y=setInterval(j,3e4);return()=>clearInterval(Y)},[c]);const L=(Y,V)=>{h(H=>sr(zt({},H),{[Y]:V}))},D=()=>_e(null,null,function*(){_(!0);try{yield Gr.delete("/query-logs",{data:{range:m}}),u(!1),j()}catch(Y){console.error("Failed to clear logs:",Y)}finally{_(!1)}}),M=Y=>Y<1?"<1ms":`${Y}ms`,X=Y=>{A(C===Y?null:Y)},Q=Y=>{if(!Y)return"null";try{if(typeof Y=="string"){const V=JSON.parse(Y);return JSON.stringify(V,null,2)}return JSON.stringify(Y,null,2)}catch(V){return String(Y)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-[#F5F0E1]",style:{fontFamily:"'Oswald', sans-serif"},children:"Query Logs"}),i.jsx("p",{className:"text-[#A8A090] text-sm mt-1",children:"Monitor API performance and debug issues  Click a row to see details"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:j,className:"px-4 py-2 bg-[#2a2a2a] text-[#F5F0E1] rounded hover:bg-[#3a3a3a] border border-[#444] transition-colors flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),i.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-red-900/40 text-red-200 rounded hover:bg-red-900/60 border border-red-800 transition-colors flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear Logs"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Wg,{label:"Total Queries",value:(r.total_queries||0).toLocaleString(),icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),i.jsx(Wg,{label:"Errors",value:r.total_errors||0,subtext:`${(r.total_errors/r.total_queries*100||0).toFixed(2)}% rate`,color:"text-red-400",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx(Wg,{label:"Last 24h",value:(r.last_24h||0).toLocaleString(),icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx(Wg,{label:"Avg Duration",value:`${r.avg_duration||0}ms`,color:(r.avg_duration||0)>500?"text-yellow-400":"text-green-400",icon:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),i.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-[#333] flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#A8A090]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),i.jsxs("select",{value:c.status,onChange:Y=>L("status",Y.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"success",children:"Success (2xx)"}),i.jsx("option",{value:"error",children:"Error (4xx/5xx)"})]})]}),i.jsxs("select",{value:c.model,onChange:Y=>L("model",Y.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[i.jsx("option",{value:"all",children:"All Models"}),i.jsx("option",{value:"User",children:"User"}),i.jsx("option",{value:"Product",children:"Product"}),i.jsx("option",{value:"Order",children:"Order"}),i.jsx("option",{value:"Auth",children:"Auth"})]}),i.jsxs("select",{value:c.time_range,onChange:Y=>L("time_range",Y.target.value),className:"bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]",children:[i.jsx("option",{value:"1h",children:"Last Hour"}),i.jsx("option",{value:"24h",children:"Last 24 Hours"}),i.jsx("option",{value:"7d",children:"Last 7 Days"}),i.jsx("option",{value:"30d",children:"Last 30 Days"}),i.jsx("option",{value:"all",children:"All Time"})]}),i.jsx("div",{className:"flex-grow",children:i.jsx("input",{type:"text",placeholder:"Search query or error...",value:c.search,onChange:Y=>L("search",Y.target.value),className:"w-full bg-[#242424] text-[#F5F0E1] border border-[#444] rounded px-3 py-1.5 focus:outline-none focus:border-[#8B2332]"})})]}),i.jsx("div",{className:"bg-[#1a1a1a] rounded-lg border border-[#333] overflow-hidden",children:a?i.jsx("div",{className:"p-12 flex justify-center",children:i.jsx(on,{size:"lg",text:"Loading logs...",variant:"gear"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-[#333] bg-[#222] text-[#A8A090] text-sm uppercase tracking-wider",children:[i.jsx("th",{className:"p-4 font-medium w-8"}),i.jsx("th",{className:"p-4 font-medium",children:"Timestamp"}),i.jsx("th",{className:"p-4 font-medium",children:"Model"}),i.jsx("th",{className:"p-4 font-medium",children:"Action"}),i.jsx("th",{className:"p-4 font-medium",children:"Query"}),i.jsx("th",{className:"p-4 font-medium text-right",children:"Duration"}),i.jsx("th",{className:"p-4 font-medium text-center",children:"Status"})]})}),i.jsx("tbody",{children:t.length>0?t.map(Y=>i.jsxs(i.Fragment,{children:[i.jsxs("tr",{className:`border-b border-[#333] hover:bg-[#242424] transition-colors cursor-pointer ${C===Y.id?"bg-[#242424]":""}`,onClick:()=>X(Y.id),children:[i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:`text-[#888] transition-transform inline-block ${C===Y.id?"rotate-90":""}`,children:""})}),i.jsx("td",{className:"p-4 text-[#F5F0E1] text-sm whitespace-nowrap",children:new Date(Y.timestamp).toLocaleString()}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"px-2 py-1 bg-[#333] rounded text-xs text-[#ccc] border border-[#444]",children:Y.model})}),i.jsx("td",{className:"p-4 text-[#bdc3c7] text-sm font-mono",children:Y.action}),i.jsxs("td",{className:"p-4 text-[#bdc3c7] text-sm font-mono max-w-xs truncate",title:Y.query,children:[Y.query,Y.error&&i.jsx("span",{className:"block text-red-400 text-xs mt-1 truncate",children:Y.error})]}),i.jsx("td",{className:"p-4 text-right text-[#F5F0E1] text-sm font-mono",children:M(Y.duration)}),i.jsx("td",{className:"p-4 text-center",children:Y.status>=400||Y.error?i.jsx("span",{className:"text-red-400 font-bold text-lg",title:`Error ${Y.status}`,children:""}):i.jsx("span",{className:"text-green-400 font-bold text-lg",children:""})})]},Y.id),C===Y.id&&i.jsx("tr",{className:"bg-[#0d1117] border-b border-[#333]",children:i.jsx("td",{colSpan:"7",className:"p-0",children:i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-bold text-blue-400 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""})," API Request Parameters"]}),i.jsx("pre",{className:"bg-[#161b22] text-[#c9d1d9] p-4 rounded-lg text-xs overflow-x-auto font-mono border border-[#30363d]",children:Y.params?Q(Y.params):Y.query||"No parameters recorded"})]}),Y.response&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-bold text-green-400 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""})," Response"]}),i.jsx("pre",{className:"bg-[#161b22] text-[#c9d1d9] p-4 rounded-lg text-xs overflow-x-auto font-mono border border-[#30363d] max-h-60 overflow-y-auto",children:Q(Y.response)})]}),(Y.error||Y.error_details||Y.status>=400)&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-bold text-red-400 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""})," Error Details"]}),i.jsxs("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-red-300",children:"Status Code:"}),i.jsx("span",{className:"ml-2 text-white font-mono",children:Y.status||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-red-300",children:"Error Type:"}),i.jsx("span",{className:"ml-2 text-white font-mono",children:Y.error_type||"Unknown"})]})]}),i.jsx("pre",{className:"bg-[#1a0a0a] text-red-300 p-4 rounded text-xs overflow-x-auto font-mono border border-red-900 max-h-40 overflow-y-auto whitespace-pre-wrap",children:Y.error_details?Q(Y.error_details):Y.error||"No error details available"}),Y.stack_trace&&i.jsxs("details",{className:"mt-3",children:[i.jsx("summary",{className:"cursor-pointer text-red-400 text-sm hover:text-red-300",children:"View Stack Trace"}),i.jsx("pre",{className:"mt-2 bg-[#1a0a0a] text-red-300/70 p-3 rounded text-xs overflow-x-auto font-mono max-h-40 overflow-y-auto",children:Y.stack_trace})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-[#888] pt-2 border-t border-[#333]",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"Log ID:"})," ",Y.id]}),i.jsxs("span",{children:[i.jsx("strong",{children:"User ID:"})," ",Y.user_id||"Anonymous"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"IP:"})," ",Y.ip_address||"N/A"]}),i.jsxs("span",{children:[i.jsx("strong",{children:"User Agent:"})," ",Y.user_agent?Y.user_agent.substring(0,50)+"...":"N/A"]})]})]})})},`${Y.id}-details`)]})):i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"p-12 text-center text-[#666]",children:"No logs found matching criteria"})})})]})})}),g&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-[#1a1a1a] border border-[#333] rounded-lg p-6 w-full max-w-md shadow-2xl",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-900/40 rounded-lg text-red-400",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-[#F5F0E1]",children:"Clear Query Logs"}),i.jsx("p",{className:"text-[#A8A090] text-sm",children:"Select time range to delete"})]})]}),i.jsx("p",{className:"text-[#A8A090] mb-6 text-sm",children:"Choose the time period of logs you want to delete. This action cannot be undone."}),i.jsx("div",{className:"space-y-3 mb-6",children:["1h","24h","7d","all"].map(Y=>i.jsxs("label",{className:`flex items-center p-3 rounded border cursor-pointer transition-all ${m===Y?"border-red-500 bg-red-900/10":"border-[#444] hover:border-[#666]"}`,children:[i.jsx("input",{type:"radio",name:"range",value:Y,checked:m===Y,onChange:V=>v(V.target.value),className:"mr-3 accent-red-500"}),i.jsxs("span",{className:"text-[#F5F0E1]",children:[Y==="1h"&&"Last hour",Y==="24h"&&"Last 24 hours",Y==="7d"&&"Last 7 days",Y==="all"&&"All time"]}),Y==="all"&&i.jsx("span",{className:"ml-2 text-red-400 text-xs uppercase font-bold tracking-wider",children:"Deletes everything"})]},Y))}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-[#2a2a2a] text-[#F5F0E1] rounded hover:bg-[#3a3a3a] border border-[#444] transition-colors",children:"Cancel"}),i.jsxs("button",{onClick:D,disabled:b,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center",children:[b&&i.jsx(on,{size:"sm",showText:!1,className:"mr-2 text-white"}),"Delete Logs"]})]})]})})]})},Wg=({label:t,value:e,subtext:r,icon:n,color:a="text-[#F5F0E1]"})=>i.jsxs("div",{className:"bg-[#1a1a1a] p-5 rounded-lg border border-[#333] shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("div",{className:`text-2xl font-bold ${a}`,style:{fontFamily:"'Oswald', sans-serif"},children:e}),i.jsx("div",{className:"text-[#A8A090] opacity-50",children:n})]}),i.jsx("div",{className:"text-[#A8A090] text-sm font-medium",children:t}),r&&i.jsx("div",{className:"text-xs text-[#666] mt-1",children:r})]}),rm=({size:t="md",text:e="Loading...",showText:r=!0,className:n="",variant:a="multi-gear"})=>{const s={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},c={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},h=({className:v})=>i.jsxs("div",{className:`relative ${v}`,children:[i.jsx("svg",{className:"absolute inset-0 w-full h-full text-emerald-500 animate-spin",style:{animationDuration:"3s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})}),i.jsx("svg",{className:"absolute top-0 right-0 w-1/3 h-1/3 text-slate-500 animate-spin",style:{animationDuration:"2s",animationDirection:"reverse"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})}),i.jsx("svg",{className:"absolute bottom-0 left-0 w-1/4 h-1/4 text-emerald-400 animate-spin",style:{animationDuration:"1.5s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",fill:"currentColor"})})]}),g=({className:v})=>i.jsx("div",{className:`${v} text-emerald-500`,children:i.jsxs("svg",{className:"w-full h-full animate-pulse",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M4 6h16v2H4V6zm0 4h16v8H4v-8zm2 2v4h12v-4H6zm-2 6h16v2H4v-2z",fill:"currentColor"}),i.jsx("circle",{cx:"7",cy:"14",r:"1",fill:"white"}),i.jsx("circle",{cx:"17",cy:"14",r:"1",fill:"white"})]})}),u=({className:v})=>i.jsx("div",{className:`${v} text-emerald-500`,children:i.jsx("svg",{className:"w-full h-full animate-spin",style:{animationDuration:"4s"},viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z",fill:"currentColor"})})}),m=()=>{const v=s[t];switch(a){case"multi-gear":return i.jsx(h,{className:v});case"engine":return i.jsx(g,{className:v});case"wrench":return i.jsx(u,{className:v});default:return i.jsx(h,{className:v})}};return i.jsxs("div",{className:`flex flex-col items-center justify-center space-y-4 ${n}`,children:[m(),r&&i.jsx("p",{className:`text-gray-600 font-medium ${c[t]} text-center`,children:e})]})},IU=({isVisible:t,text:e="Processing your auto parts request...",variant:r="multi-gear",backdrop:n=!0})=>t?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 backdrop-blur-sm"}),i.jsx("div",{className:"relative card-elevated p-8 max-w-sm mx-4",children:i.jsx(rm,{size:"lg",text:e,variant:r,className:"text-center"})})]}):null,DU=()=>{const[t,e]=ee.useState(!1),[r,n]=ee.useState(!1),a=()=>{e(!0),setTimeout(()=>e(!1),3e3)},s=()=>{n(!0),setTimeout(()=>n(!1),4e3)};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Auto Parts Loading Components Demo"}),i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Gear Loading Spinners"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Small Gear"}),i.jsx(on,{size:"sm",text:"Loading parts...",variant:"gear"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Medium Gear"}),i.jsx(on,{size:"md",text:"Searching inventory...",variant:"gear"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Large Gear"}),i.jsx(on,{size:"lg",text:"Processing order...",variant:"gear"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Extra Large Gear"}),i.jsx(on,{size:"xl",text:"Updating catalog...",variant:"gear"})]})]})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Auto Parts Themed Loaders"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Multi-Gear System"}),i.jsx(rm,{size:"lg",text:"Processing parts...",variant:"multi-gear"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Engine Block"}),i.jsx(rm,{size:"lg",text:"Engine diagnostics...",variant:"engine"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Wrench Tool"}),i.jsx(rm,{size:"lg",text:"Maintenance mode...",variant:"wrench"})]})]})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Alternative Loading Styles"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Simple Spinner"}),i.jsx(on,{size:"lg",text:"Loading...",variant:"simple"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Dots Animation"}),i.jsx(on,{size:"lg",text:"Please wait...",variant:"dots"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"No Text"}),i.jsx(on,{size:"lg",showText:!1,variant:"gear"})]})]})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Inline Loading Components"}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[i.jsx("span",{children:"Checking part availability..."}),i.jsx(rc,{text:"Checking...",variant:"gear",size:"sm"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[i.jsx("span",{children:"Updating cart..."}),i.jsx(rc,{text:"Updating...",variant:"simple",size:"sm"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded",children:[i.jsx("span",{children:"Processing payment..."}),i.jsx(rc,{text:"Processing...",variant:"dots",size:"sm"})]})]})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Full Screen Loading Overlay"}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[i.jsx("p",{className:"mb-4 text-gray-600",children:"Click the button below to see a full-screen loading overlay with gear animation. Perfect for major operations like placing orders or loading large catalogs."}),i.jsxs("div",{className:"space-x-4",children:[i.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Show Basic Overlay"}),i.jsx("button",{onClick:s,className:"bg-orange-600 hover:bg-orange-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Show Auto Parts Overlay"})]})]})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Usage Examples"}),i.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Code Examples:"}),i.jsxs("div",{className:"space-y-4 text-sm",children:[i.jsxs("div",{className:"bg-white p-4 rounded border",children:[i.jsx("strong",{children:"Basic Gear Spinner:"}),i.jsx("code",{className:"block mt-2 text-blue-600",children:'<LoadingSpinner size="md" text="Loading parts..." variant="gear" />'})]}),i.jsxs("div",{className:"bg-white p-4 rounded border",children:[i.jsx("strong",{children:"Full Screen Overlay:"}),i.jsx("code",{className:"block mt-2 text-blue-600",children:'<LoadingOverlay isVisible={loading} text="Processing order..." variant="gear" />'})]}),i.jsxs("div",{className:"bg-white p-4 rounded border",children:[i.jsx("strong",{children:"Inline Loader:"}),i.jsx("code",{className:"block mt-2 text-blue-600",children:'<InlineLoader text="Updating..." variant="gear" size="sm" />'})]})]})]})]}),i.jsx(S7,{isVisible:t,text:"Processing your auto parts order...",variant:"gear"}),i.jsx(IU,{isVisible:r,text:"Analyzing engine components...",variant:"multi-gear"})]})},PU=()=>{const{wishlist:t,loading:e,error:r,removeItem:n,moveItemToCart:a}=tv(),{isAuthenticated:s}=bi(),{addToCart:c}=Kd(),[h,g]=ee.useState({});if(!s())return i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold mb-4",children:"My Wishlist"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to view your wishlist"}),i.jsx($t,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Login"})]})});const u=(v,b=1)=>_e(null,null,function*(){g(_=>sr(zt({},_),{[v.product_id]:!0}));try{yield c(v.products,b),yield n(v.product_id,v.products.name)}catch(_){console.error("Error moving to cart:",_)}finally{g(_=>sr(zt({},_),{[v.product_id]:!1}))}}),m=v=>_e(null,null,function*(){yield n(v.product_id,v.products.name)});return e?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"text-center",children:i.jsx(on,{size:"xl",text:"Loading your wishlist...",variant:"gear"})})}):i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"My Wishlist"}),i.jsxs("div",{className:"text-gray-600",children:[t.length," ",t.length===1?"item":"items"]})]}),r&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:r}),t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"mb-6",children:i.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-4",children:"Your wishlist is empty"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Start adding items to your wishlist by clicking the heart icon on products you love!"}),i.jsx($t,{to:"/products",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Products"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.filter(v=>v&&v.id&&v.products&&v.products.name).map(v=>{var b,_,C;return i.jsxs("div",{className:"card-interactive overflow-hidden",children:[i.jsxs("div",{className:"relative",children:[i.jsx($t,{to:`/products/${v.product_id}`,children:i.jsx(_0,{src:Ru((b=v.products)==null?void 0:b.image_url),alt:(_=v.products)==null?void 0:_.name,className:"w-full h-48 object-cover",placeholderText:"No Image Available"})}),i.jsx("button",{onClick:()=>m(v),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",title:"Remove from wishlist",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx($t,{to:`/products/${v.product_id}`,children:i.jsx("h3",{className:"font-semibold text-lg mb-2 hover:text-blue-600 transition-colors",children:v.products.name})}),i.jsx("p",{className:"text-gray-600 text-sm mb-2",children:(C=v.products.categories)==null?void 0:C.name}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",parseFloat(v.products.price).toFixed(2)]}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${v.products.quantity>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.products.quantity>0?"In Stock":"Out of Stock"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:()=>u(v),disabled:v.products.quantity===0||h[v.product_id],className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${v.products.quantity===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:h[v.product_id]?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx(on,{size:"sm",showText:!1,variant:"gear"}),i.jsx("span",{className:"ml-2",children:"Moving to Cart..."})]}):"Move to Cart"}),i.jsx($t,{to:`/products/${v.product_id}`,className:"block w-full py-2 px-4 border border-gray-300 rounded-lg text-center text-gray-700 hover:bg-gray-50 transition-colors",children:"View Details"})]}),i.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Added ",new Date(v.created_at).toLocaleDateString()]})]})]},v.id)})})]})},FU=()=>i.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[i.jsx("h1",{className:"text-6xl font-bold text-blue-800 mb-4",children:"404"}),i.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"Page Not Found"}),i.jsx("p",{className:"text-lg text-gray-600 mb-8 text-center max-w-md",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),i.jsx($t,{to:"/",className:"bg-blue-800 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700",children:"Return to Home"})]}),l0=({children:t})=>{const{isAuthenticated:e,loading:r}=bi();return r?i.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):e()?t:i.jsx(Xx,{to:"/login",replace:!0})},MU=({children:t})=>{const{isAdmin:e,loading:r}=bi(),[n,a]=ee.useState(!1),[s,c]=ee.useState(!1);return ee.useEffect(()=>{const h=localStorage.getItem("user");if(h)try{const g=JSON.parse(h);g&&g.role==="admin"&&(console.log("Admin bypass enabled via localStorage"),c(!0))}catch(g){console.error("Error parsing user from localStorage:",g)}a(!0)},[]),r||!n?i.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):e()||s?t:i.jsx(Xx,{to:"/",replace:!0})};function BU(){return ee.useEffect(()=>{p7()},[]),i.jsx(s7,{children:i.jsx(c7,{children:i.jsx(g7,{children:i.jsx(o7,{children:i.jsx(f7,{children:i.jsx(dA,{children:i.jsxs("div",{className:"flex flex-col min-h-screen paper-texture-bg text-[#1a1a1a]",children:[i.jsx(v7,{}),i.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:i.jsxs(US,{children:[i.jsx(dn,{path:"/",element:i.jsx(A7,{})}),i.jsx(dn,{path:"/products",element:i.jsx(pb,{})}),i.jsx(dn,{path:"/products/category/:categoryId",element:i.jsx(pb,{})}),i.jsx(dn,{path:"/products/:id",element:i.jsx(B7,{})}),i.jsx(dn,{path:"/cart",element:i.jsx(U7,{})}),i.jsx(dn,{path:"/checkout",element:i.jsx(l0,{children:i.jsx(Zj,{})})}),i.jsx(dn,{path:"/order-confirmation/:id",element:i.jsx(l0,{children:i.jsx(Jj,{})})}),i.jsx(dn,{path:"/orders",element:i.jsx(l0,{children:i.jsx(Qj,{})})}),i.jsx(dn,{path:"/orders/:id",element:i.jsx(l0,{children:i.jsx(Wb,{})})}),i.jsx(dn,{path:"/order/:id",element:i.jsx(l0,{children:i.jsx(Wb,{})})}),i.jsx(dn,{path:"/profile",element:i.jsx(l0,{children:i.jsx(eO,{})})}),i.jsx(dn,{path:"/wishlist",element:i.jsx(l0,{children:i.jsx(PU,{})})}),i.jsx(dn,{path:"/login",element:i.jsx(tO,{})}),i.jsx(dn,{path:"/register",element:i.jsx(nO,{})}),i.jsx(dn,{path:"/verify-email",element:i.jsx(aO,{})}),i.jsx(dn,{path:"/resend-verification",element:i.jsx(sO,{})}),i.jsx(dn,{path:"/auth/callback",element:i.jsx(iO,{})}),i.jsx(dn,{path:"/forgot-password",element:i.jsx(oO,{})}),i.jsx(dn,{path:"/reset-password",element:i.jsx(lO,{})}),i.jsx(dn,{path:"/loading-demo",element:i.jsx(DU,{})}),i.jsxs(dn,{path:"/admin",element:i.jsx(MU,{children:i.jsx(b7,{})}),children:[i.jsx(dn,{index:!0,element:i.jsx(uO,{})}),i.jsx(dn,{path:"products",element:i.jsx(TB,{})}),i.jsx(dn,{path:"products/add",element:i.jsx(c3,{})}),i.jsx(dn,{path:"products/edit/:id",element:i.jsx(c3,{})}),i.jsx(dn,{path:"products/view/:id",element:i.jsx(PB,{})}),i.jsx(dn,{path:"barcode-generator",element:i.jsx(FB,{})}),i.jsx(dn,{path:"orders",element:i.jsx(jB,{})}),i.jsx(dn,{path:"users",element:i.jsx(IB,{})}),i.jsx(dn,{path:"user-approval",element:i.jsx(DB,{})}),i.jsx(dn,{path:"analytics",element:i.jsx(JB,{})}),i.jsx(dn,{path:"logs",element:i.jsx(LU,{})}),i.jsx(dn,{path:"reviews",element:i.jsx(QB,{})}),i.jsx(dn,{path:"logo",element:i.jsx(rU,{})}),i.jsx(dn,{path:"inventory",element:i.jsx(RU,{})}),i.jsx(dn,{path:"settings",element:i.jsx(kU,{})})]}),i.jsx(dn,{path:"/404",element:i.jsx(FU,{})}),i.jsx(dn,{path:"*",element:i.jsx(Xx,{to:"/404",replace:!0})})]})}),i.jsx(y7,{})]})})})})})})})}$N.createRoot(document.getElementById("root")).render(i.jsx(ee.StrictMode,{children:i.jsx(BU,{})}));export{Yn as _,q1 as c,Om as g};
